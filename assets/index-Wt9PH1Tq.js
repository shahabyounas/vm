var t1=t=>{throw TypeError(t)};var rg=(t,e,n)=>e.has(t)||t1("Cannot "+n);var ee=(t,e,n)=>(rg(t,e,"read from private field"),n?n.call(t):e.get(t)),tt=(t,e,n)=>e.has(t)?t1("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),je=(t,e,n,r)=>(rg(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),pn=(t,e,n)=>(rg(t,e,"access private method"),n);var hh=(t,e,n,r)=>({set _(s){je(t,e,s,n)},get _(){return ee(t,e,r)}});function i_(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function uv(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var o_={exports:{}},Pp={},a_={exports:{}},Be={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var td=Symbol.for("react.element"),BM=Symbol.for("react.portal"),UM=Symbol.for("react.fragment"),qM=Symbol.for("react.strict_mode"),GM=Symbol.for("react.profiler"),$M=Symbol.for("react.provider"),zM=Symbol.for("react.context"),WM=Symbol.for("react.forward_ref"),QM=Symbol.for("react.suspense"),YM=Symbol.for("react.memo"),KM=Symbol.for("react.lazy"),n1=Symbol.iterator;function HM(t){return t===null||typeof t!="object"?null:(t=n1&&t[n1]||t["@@iterator"],typeof t=="function"?t:null)}var l_={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},c_=Object.assign,u_={};function Wl(t,e,n){this.props=t,this.context=e,this.refs=u_,this.updater=n||l_}Wl.prototype.isReactComponent={};Wl.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Wl.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function d_(){}d_.prototype=Wl.prototype;function dv(t,e,n){this.props=t,this.context=e,this.refs=u_,this.updater=n||l_}var hv=dv.prototype=new d_;hv.constructor=dv;c_(hv,Wl.prototype);hv.isPureReactComponent=!0;var r1=Array.isArray,h_=Object.prototype.hasOwnProperty,fv={current:null},f_={key:!0,ref:!0,__self:!0,__source:!0};function p_(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)h_.call(e,r)&&!f_.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var c=Array(a),u=0;u<a;u++)c[u]=arguments[u+2];s.children=c}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:td,type:t,key:i,ref:o,props:s,_owner:fv.current}}function JM(t,e){return{$$typeof:td,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function pv(t){return typeof t=="object"&&t!==null&&t.$$typeof===td}function XM(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var s1=/\/+/g;function sg(t,e){return typeof t=="object"&&t!==null&&t.key!=null?XM(""+t.key):e.toString(36)}function Wh(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case td:case BM:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+sg(o,0):r,r1(s)?(n="",t!=null&&(n=t.replace(s1,"$&/")+"/"),Wh(s,e,n,"",function(u){return u})):s!=null&&(pv(s)&&(s=JM(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(s1,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",r1(t))for(var a=0;a<t.length;a++){i=t[a];var c=r+sg(i,a);o+=Wh(i,e,n,c,s)}else if(c=HM(t),typeof c=="function")for(t=c.call(t),a=0;!(i=t.next()).done;)i=i.value,c=r+sg(i,a++),o+=Wh(i,e,n,c,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function fh(t,e,n){if(t==null)return t;var r=[],s=0;return Wh(t,r,"","",function(i){return e.call(n,i,s++)}),r}function ZM(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var jn={current:null},Qh={transition:null},ej={ReactCurrentDispatcher:jn,ReactCurrentBatchConfig:Qh,ReactCurrentOwner:fv};function m_(){throw Error("act(...) is not supported in production builds of React.")}Be.Children={map:fh,forEach:function(t,e,n){fh(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return fh(t,function(){e++}),e},toArray:function(t){return fh(t,function(e){return e})||[]},only:function(t){if(!pv(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Be.Component=Wl;Be.Fragment=UM;Be.Profiler=GM;Be.PureComponent=dv;Be.StrictMode=qM;Be.Suspense=QM;Be.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ej;Be.act=m_;Be.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=c_({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=fv.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(c in e)h_.call(e,c)&&!f_.hasOwnProperty(c)&&(r[c]=e[c]===void 0&&a!==void 0?a[c]:e[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){a=Array(c);for(var u=0;u<c;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:td,type:t.type,key:s,ref:i,props:r,_owner:o}};Be.createContext=function(t){return t={$$typeof:zM,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:$M,_context:t},t.Consumer=t};Be.createElement=p_;Be.createFactory=function(t){var e=p_.bind(null,t);return e.type=t,e};Be.createRef=function(){return{current:null}};Be.forwardRef=function(t){return{$$typeof:WM,render:t}};Be.isValidElement=pv;Be.lazy=function(t){return{$$typeof:KM,_payload:{_status:-1,_result:t},_init:ZM}};Be.memo=function(t,e){return{$$typeof:YM,type:t,compare:e===void 0?null:e}};Be.startTransition=function(t){var e=Qh.transition;Qh.transition={};try{t()}finally{Qh.transition=e}};Be.unstable_act=m_;Be.useCallback=function(t,e){return jn.current.useCallback(t,e)};Be.useContext=function(t){return jn.current.useContext(t)};Be.useDebugValue=function(){};Be.useDeferredValue=function(t){return jn.current.useDeferredValue(t)};Be.useEffect=function(t,e){return jn.current.useEffect(t,e)};Be.useId=function(){return jn.current.useId()};Be.useImperativeHandle=function(t,e,n){return jn.current.useImperativeHandle(t,e,n)};Be.useInsertionEffect=function(t,e){return jn.current.useInsertionEffect(t,e)};Be.useLayoutEffect=function(t,e){return jn.current.useLayoutEffect(t,e)};Be.useMemo=function(t,e){return jn.current.useMemo(t,e)};Be.useReducer=function(t,e,n){return jn.current.useReducer(t,e,n)};Be.useRef=function(t){return jn.current.useRef(t)};Be.useState=function(t){return jn.current.useState(t)};Be.useSyncExternalStore=function(t,e,n){return jn.current.useSyncExternalStore(t,e,n)};Be.useTransition=function(){return jn.current.useTransition()};Be.version="18.3.1";a_.exports=Be;var g=a_.exports;const Q=uv(g),g_=i_({__proto__:null,default:Q},[g]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tj=g,nj=Symbol.for("react.element"),rj=Symbol.for("react.fragment"),sj=Object.prototype.hasOwnProperty,ij=tj.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,oj={key:!0,ref:!0,__self:!0,__source:!0};function y_(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)sj.call(e,r)&&!oj.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:nj,type:t,key:i,ref:o,props:s,_owner:ij.current}}Pp.Fragment=rj;Pp.jsx=y_;Pp.jsxs=y_;o_.exports=Pp;var l=o_.exports,v_={exports:{}},ar={},x_={exports:{}},w_={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(q,z){var Z=q.length;q.push(z);e:for(;0<Z;){var te=Z-1>>>1,ae=q[te];if(0<s(ae,z))q[te]=z,q[Z]=ae,Z=te;else break e}}function n(q){return q.length===0?null:q[0]}function r(q){if(q.length===0)return null;var z=q[0],Z=q.pop();if(Z!==z){q[0]=Z;e:for(var te=0,ae=q.length,le=ae>>>1;te<le;){var Se=2*(te+1)-1,ke=q[Se],we=Se+1,ie=q[we];if(0>s(ke,Z))we<ae&&0>s(ie,ke)?(q[te]=ie,q[we]=Z,te=we):(q[te]=ke,q[Se]=Z,te=Se);else if(we<ae&&0>s(ie,Z))q[te]=ie,q[we]=Z,te=we;else break e}}return z}function s(q,z){var Z=q.sortIndex-z.sortIndex;return Z!==0?Z:q.id-z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var c=[],u=[],h=1,p=null,f=3,v=!1,x=!1,y=!1,w=typeof setTimeout=="function"?setTimeout:null,T=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(q){for(var z=n(u);z!==null;){if(z.callback===null)r(u);else if(z.startTime<=q)r(u),z.sortIndex=z.expirationTime,e(c,z);else break;z=n(u)}}function R(q){if(y=!1,b(q),!x)if(n(c)!==null)x=!0,se(j);else{var z=n(u);z!==null&&ue(R,z.startTime-q)}}function j(q,z){x=!1,y&&(y=!1,T(S),S=-1),v=!0;var Z=f;try{for(b(z),p=n(c);p!==null&&(!(p.expirationTime>z)||q&&!O());){var te=p.callback;if(typeof te=="function"){p.callback=null,f=p.priorityLevel;var ae=te(p.expirationTime<=z);z=t.unstable_now(),typeof ae=="function"?p.callback=ae:p===n(c)&&r(c),b(z)}else r(c);p=n(c)}if(p!==null)var le=!0;else{var Se=n(u);Se!==null&&ue(R,Se.startTime-z),le=!1}return le}finally{p=null,f=Z,v=!1}}var V=!1,I=null,S=-1,P=5,k=-1;function O(){return!(t.unstable_now()-k<P)}function L(){if(I!==null){var q=t.unstable_now();k=q;var z=!0;try{z=I(!0,q)}finally{z?D():(V=!1,I=null)}}else V=!1}var D;if(typeof E=="function")D=function(){E(L)};else if(typeof MessageChannel<"u"){var X=new MessageChannel,re=X.port2;X.port1.onmessage=L,D=function(){re.postMessage(null)}}else D=function(){w(L,0)};function se(q){I=q,V||(V=!0,D())}function ue(q,z){S=w(function(){q(t.unstable_now())},z)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(q){q.callback=null},t.unstable_continueExecution=function(){x||v||(x=!0,se(j))},t.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<q?Math.floor(1e3/q):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(q){switch(f){case 1:case 2:case 3:var z=3;break;default:z=f}var Z=f;f=z;try{return q()}finally{f=Z}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(q,z){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var Z=f;f=q;try{return z()}finally{f=Z}},t.unstable_scheduleCallback=function(q,z,Z){var te=t.unstable_now();switch(typeof Z=="object"&&Z!==null?(Z=Z.delay,Z=typeof Z=="number"&&0<Z?te+Z:te):Z=te,q){case 1:var ae=-1;break;case 2:ae=250;break;case 5:ae=1073741823;break;case 4:ae=1e4;break;default:ae=5e3}return ae=Z+ae,q={id:h++,callback:z,priorityLevel:q,startTime:Z,expirationTime:ae,sortIndex:-1},Z>te?(q.sortIndex=Z,e(u,q),n(c)===null&&q===n(u)&&(y?(T(S),S=-1):y=!0,ue(R,Z-te))):(q.sortIndex=ae,e(c,q),x||v||(x=!0,se(j))),q},t.unstable_shouldYield=O,t.unstable_wrapCallback=function(q){var z=f;return function(){var Z=f;f=z;try{return q.apply(this,arguments)}finally{f=Z}}}})(w_);x_.exports=w_;var aj=x_.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lj=g,or=aj;function oe(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var E_=new Set,mu={};function ha(t,e){Nl(t,e),Nl(t+"Capture",e)}function Nl(t,e){for(mu[t]=e,t=0;t<e.length;t++)E_.add(e[t])}var Vs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),i0=Object.prototype.hasOwnProperty,cj=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,i1={},o1={};function uj(t){return i0.call(o1,t)?!0:i0.call(i1,t)?!1:cj.test(t)?o1[t]=!0:(i1[t]=!0,!1)}function dj(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function hj(t,e,n,r){if(e===null||typeof e>"u"||dj(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Dn(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var ln={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){ln[t]=new Dn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];ln[e]=new Dn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){ln[t]=new Dn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){ln[t]=new Dn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){ln[t]=new Dn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){ln[t]=new Dn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){ln[t]=new Dn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){ln[t]=new Dn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){ln[t]=new Dn(t,5,!1,t.toLowerCase(),null,!1,!1)});var mv=/[\-:]([a-z])/g;function gv(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(mv,gv);ln[e]=new Dn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(mv,gv);ln[e]=new Dn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(mv,gv);ln[e]=new Dn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){ln[t]=new Dn(t,1,!1,t.toLowerCase(),null,!1,!1)});ln.xlinkHref=new Dn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){ln[t]=new Dn(t,1,!1,t.toLowerCase(),null,!0,!0)});function yv(t,e,n,r){var s=ln.hasOwnProperty(e)?ln[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(hj(e,n,s,r)&&(n=null),r||s===null?uj(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Hs=lj.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ph=Symbol.for("react.element"),Qa=Symbol.for("react.portal"),Ya=Symbol.for("react.fragment"),vv=Symbol.for("react.strict_mode"),o0=Symbol.for("react.profiler"),b_=Symbol.for("react.provider"),C_=Symbol.for("react.context"),xv=Symbol.for("react.forward_ref"),a0=Symbol.for("react.suspense"),l0=Symbol.for("react.suspense_list"),wv=Symbol.for("react.memo"),gi=Symbol.for("react.lazy"),__=Symbol.for("react.offscreen"),a1=Symbol.iterator;function Ac(t){return t===null||typeof t!="object"?null:(t=a1&&t[a1]||t["@@iterator"],typeof t=="function"?t:null)}var _t=Object.assign,ig;function Lc(t){if(ig===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);ig=e&&e[1]||""}return`
`+ig+t}var og=!1;function ag(t,e){if(!t||og)return"";og=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var c=`
`+s[o].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=o&&0<=a);break}}}finally{og=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Lc(t):""}function fj(t){switch(t.tag){case 5:return Lc(t.type);case 16:return Lc("Lazy");case 13:return Lc("Suspense");case 19:return Lc("SuspenseList");case 0:case 2:case 15:return t=ag(t.type,!1),t;case 11:return t=ag(t.type.render,!1),t;case 1:return t=ag(t.type,!0),t;default:return""}}function c0(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Ya:return"Fragment";case Qa:return"Portal";case o0:return"Profiler";case vv:return"StrictMode";case a0:return"Suspense";case l0:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case C_:return(t.displayName||"Context")+".Consumer";case b_:return(t._context.displayName||"Context")+".Provider";case xv:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case wv:return e=t.displayName||null,e!==null?e:c0(t.type)||"Memo";case gi:e=t._payload,t=t._init;try{return c0(t(e))}catch{}}return null}function pj(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return c0(e);case 8:return e===vv?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Yi(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function T_(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function mj(t){var e=T_(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function mh(t){t._valueTracker||(t._valueTracker=mj(t))}function A_(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=T_(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Rf(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function u0(t,e){var n=e.checked;return _t({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function l1(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Yi(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function S_(t,e){e=e.checked,e!=null&&yv(t,"checked",e,!1)}function d0(t,e){S_(t,e);var n=Yi(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?h0(t,e.type,n):e.hasOwnProperty("defaultValue")&&h0(t,e.type,Yi(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function c1(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function h0(t,e,n){(e!=="number"||Rf(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Fc=Array.isArray;function al(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Yi(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function f0(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(oe(91));return _t({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function u1(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(oe(92));if(Fc(n)){if(1<n.length)throw Error(oe(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Yi(n)}}function I_(t,e){var n=Yi(e.value),r=Yi(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function d1(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function R_(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function p0(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?R_(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var gh,N_=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(gh=gh||document.createElement("div"),gh.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=gh.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function gu(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Jc={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},gj=["Webkit","ms","Moz","O"];Object.keys(Jc).forEach(function(t){gj.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Jc[e]=Jc[t]})});function P_(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Jc.hasOwnProperty(t)&&Jc[t]?(""+e).trim():e+"px"}function k_(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=P_(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var yj=_t({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function m0(t,e){if(e){if(yj[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(oe(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(oe(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(oe(61))}if(e.style!=null&&typeof e.style!="object")throw Error(oe(62))}}function g0(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var y0=null;function Ev(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var v0=null,ll=null,cl=null;function h1(t){if(t=sd(t)){if(typeof v0!="function")throw Error(oe(280));var e=t.stateNode;e&&(e=Op(e),v0(t.stateNode,t.type,e))}}function M_(t){ll?cl?cl.push(t):cl=[t]:ll=t}function j_(){if(ll){var t=ll,e=cl;if(cl=ll=null,h1(t),e)for(t=0;t<e.length;t++)h1(e[t])}}function D_(t,e){return t(e)}function O_(){}var lg=!1;function L_(t,e,n){if(lg)return t(e,n);lg=!0;try{return D_(t,e,n)}finally{lg=!1,(ll!==null||cl!==null)&&(O_(),j_())}}function yu(t,e){var n=t.stateNode;if(n===null)return null;var r=Op(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(oe(231,e,typeof n));return n}var x0=!1;if(Vs)try{var Sc={};Object.defineProperty(Sc,"passive",{get:function(){x0=!0}}),window.addEventListener("test",Sc,Sc),window.removeEventListener("test",Sc,Sc)}catch{x0=!1}function vj(t,e,n,r,s,i,o,a,c){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(h){this.onError(h)}}var Xc=!1,Nf=null,Pf=!1,w0=null,xj={onError:function(t){Xc=!0,Nf=t}};function wj(t,e,n,r,s,i,o,a,c){Xc=!1,Nf=null,vj.apply(xj,arguments)}function Ej(t,e,n,r,s,i,o,a,c){if(wj.apply(this,arguments),Xc){if(Xc){var u=Nf;Xc=!1,Nf=null}else throw Error(oe(198));Pf||(Pf=!0,w0=u)}}function fa(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function F_(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function f1(t){if(fa(t)!==t)throw Error(oe(188))}function bj(t){var e=t.alternate;if(!e){if(e=fa(t),e===null)throw Error(oe(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return f1(s),t;if(i===r)return f1(s),e;i=i.sibling}throw Error(oe(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(oe(189))}}if(n.alternate!==r)throw Error(oe(190))}if(n.tag!==3)throw Error(oe(188));return n.stateNode.current===n?t:e}function V_(t){return t=bj(t),t!==null?B_(t):null}function B_(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=B_(t);if(e!==null)return e;t=t.sibling}return null}var U_=or.unstable_scheduleCallback,p1=or.unstable_cancelCallback,Cj=or.unstable_shouldYield,_j=or.unstable_requestPaint,Mt=or.unstable_now,Tj=or.unstable_getCurrentPriorityLevel,bv=or.unstable_ImmediatePriority,q_=or.unstable_UserBlockingPriority,kf=or.unstable_NormalPriority,Aj=or.unstable_LowPriority,G_=or.unstable_IdlePriority,kp=null,ss=null;function Sj(t){if(ss&&typeof ss.onCommitFiberRoot=="function")try{ss.onCommitFiberRoot(kp,t,void 0,(t.current.flags&128)===128)}catch{}}var Vr=Math.clz32?Math.clz32:Nj,Ij=Math.log,Rj=Math.LN2;function Nj(t){return t>>>=0,t===0?32:31-(Ij(t)/Rj|0)|0}var yh=64,vh=4194304;function Vc(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Mf(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=Vc(a):(i&=o,i!==0&&(r=Vc(i)))}else o=n&~s,o!==0?r=Vc(o):i!==0&&(r=Vc(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Vr(e),s=1<<n,r|=t[n],e&=~s;return r}function Pj(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function kj(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-Vr(i),a=1<<o,c=s[o];c===-1?(!(a&n)||a&r)&&(s[o]=Pj(a,e)):c<=e&&(t.expiredLanes|=a),i&=~a}}function E0(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function $_(){var t=yh;return yh<<=1,!(yh&4194240)&&(yh=64),t}function cg(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function nd(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Vr(e),t[e]=n}function Mj(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-Vr(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function Cv(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Vr(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var st=0;function z_(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var W_,_v,Q_,Y_,K_,b0=!1,xh=[],ji=null,Di=null,Oi=null,vu=new Map,xu=new Map,xi=[],jj="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function m1(t,e){switch(t){case"focusin":case"focusout":ji=null;break;case"dragenter":case"dragleave":Di=null;break;case"mouseover":case"mouseout":Oi=null;break;case"pointerover":case"pointerout":vu.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":xu.delete(e.pointerId)}}function Ic(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=sd(e),e!==null&&_v(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function Dj(t,e,n,r,s){switch(e){case"focusin":return ji=Ic(ji,t,e,n,r,s),!0;case"dragenter":return Di=Ic(Di,t,e,n,r,s),!0;case"mouseover":return Oi=Ic(Oi,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return vu.set(i,Ic(vu.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,xu.set(i,Ic(xu.get(i)||null,t,e,n,r,s)),!0}return!1}function H_(t){var e=Oo(t.target);if(e!==null){var n=fa(e);if(n!==null){if(e=n.tag,e===13){if(e=F_(n),e!==null){t.blockedOn=e,K_(t.priority,function(){Q_(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Yh(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=C0(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);y0=r,n.target.dispatchEvent(r),y0=null}else return e=sd(n),e!==null&&_v(e),t.blockedOn=n,!1;e.shift()}return!0}function g1(t,e,n){Yh(t)&&n.delete(e)}function Oj(){b0=!1,ji!==null&&Yh(ji)&&(ji=null),Di!==null&&Yh(Di)&&(Di=null),Oi!==null&&Yh(Oi)&&(Oi=null),vu.forEach(g1),xu.forEach(g1)}function Rc(t,e){t.blockedOn===e&&(t.blockedOn=null,b0||(b0=!0,or.unstable_scheduleCallback(or.unstable_NormalPriority,Oj)))}function wu(t){function e(s){return Rc(s,t)}if(0<xh.length){Rc(xh[0],t);for(var n=1;n<xh.length;n++){var r=xh[n];r.blockedOn===t&&(r.blockedOn=null)}}for(ji!==null&&Rc(ji,t),Di!==null&&Rc(Di,t),Oi!==null&&Rc(Oi,t),vu.forEach(e),xu.forEach(e),n=0;n<xi.length;n++)r=xi[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<xi.length&&(n=xi[0],n.blockedOn===null);)H_(n),n.blockedOn===null&&xi.shift()}var ul=Hs.ReactCurrentBatchConfig,jf=!0;function Lj(t,e,n,r){var s=st,i=ul.transition;ul.transition=null;try{st=1,Tv(t,e,n,r)}finally{st=s,ul.transition=i}}function Fj(t,e,n,r){var s=st,i=ul.transition;ul.transition=null;try{st=4,Tv(t,e,n,r)}finally{st=s,ul.transition=i}}function Tv(t,e,n,r){if(jf){var s=C0(t,e,n,r);if(s===null)xg(t,e,r,Df,n),m1(t,r);else if(Dj(s,t,e,n,r))r.stopPropagation();else if(m1(t,r),e&4&&-1<jj.indexOf(t)){for(;s!==null;){var i=sd(s);if(i!==null&&W_(i),i=C0(t,e,n,r),i===null&&xg(t,e,r,Df,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else xg(t,e,r,null,n)}}var Df=null;function C0(t,e,n,r){if(Df=null,t=Ev(r),t=Oo(t),t!==null)if(e=fa(t),e===null)t=null;else if(n=e.tag,n===13){if(t=F_(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Df=t,null}function J_(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Tj()){case bv:return 1;case q_:return 4;case kf:case Aj:return 16;case G_:return 536870912;default:return 16}default:return 16}}var Ni=null,Av=null,Kh=null;function X_(){if(Kh)return Kh;var t,e=Av,n=e.length,r,s="value"in Ni?Ni.value:Ni.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return Kh=s.slice(t,1<r?1-r:void 0)}function Hh(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function wh(){return!0}function y1(){return!1}function lr(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?wh:y1,this.isPropagationStopped=y1,this}return _t(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=wh)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=wh)},persist:function(){},isPersistent:wh}),e}var Ql={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Sv=lr(Ql),rd=_t({},Ql,{view:0,detail:0}),Vj=lr(rd),ug,dg,Nc,Mp=_t({},rd,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Iv,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Nc&&(Nc&&t.type==="mousemove"?(ug=t.screenX-Nc.screenX,dg=t.screenY-Nc.screenY):dg=ug=0,Nc=t),ug)},movementY:function(t){return"movementY"in t?t.movementY:dg}}),v1=lr(Mp),Bj=_t({},Mp,{dataTransfer:0}),Uj=lr(Bj),qj=_t({},rd,{relatedTarget:0}),hg=lr(qj),Gj=_t({},Ql,{animationName:0,elapsedTime:0,pseudoElement:0}),$j=lr(Gj),zj=_t({},Ql,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Wj=lr(zj),Qj=_t({},Ql,{data:0}),x1=lr(Qj),Yj={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Kj={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Hj={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Jj(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Hj[t])?!!e[t]:!1}function Iv(){return Jj}var Xj=_t({},rd,{key:function(t){if(t.key){var e=Yj[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Hh(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Kj[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Iv,charCode:function(t){return t.type==="keypress"?Hh(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Hh(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Zj=lr(Xj),e4=_t({},Mp,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),w1=lr(e4),t4=_t({},rd,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Iv}),n4=lr(t4),r4=_t({},Ql,{propertyName:0,elapsedTime:0,pseudoElement:0}),s4=lr(r4),i4=_t({},Mp,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),o4=lr(i4),a4=[9,13,27,32],Rv=Vs&&"CompositionEvent"in window,Zc=null;Vs&&"documentMode"in document&&(Zc=document.documentMode);var l4=Vs&&"TextEvent"in window&&!Zc,Z_=Vs&&(!Rv||Zc&&8<Zc&&11>=Zc),E1=" ",b1=!1;function eT(t,e){switch(t){case"keyup":return a4.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function tT(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ka=!1;function c4(t,e){switch(t){case"compositionend":return tT(e);case"keypress":return e.which!==32?null:(b1=!0,E1);case"textInput":return t=e.data,t===E1&&b1?null:t;default:return null}}function u4(t,e){if(Ka)return t==="compositionend"||!Rv&&eT(t,e)?(t=X_(),Kh=Av=Ni=null,Ka=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Z_&&e.locale!=="ko"?null:e.data;default:return null}}var d4={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function C1(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!d4[t.type]:e==="textarea"}function nT(t,e,n,r){M_(r),e=Of(e,"onChange"),0<e.length&&(n=new Sv("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var eu=null,Eu=null;function h4(t){fT(t,0)}function jp(t){var e=Xa(t);if(A_(e))return t}function f4(t,e){if(t==="change")return e}var rT=!1;if(Vs){var fg;if(Vs){var pg="oninput"in document;if(!pg){var _1=document.createElement("div");_1.setAttribute("oninput","return;"),pg=typeof _1.oninput=="function"}fg=pg}else fg=!1;rT=fg&&(!document.documentMode||9<document.documentMode)}function T1(){eu&&(eu.detachEvent("onpropertychange",sT),Eu=eu=null)}function sT(t){if(t.propertyName==="value"&&jp(Eu)){var e=[];nT(e,Eu,t,Ev(t)),L_(h4,e)}}function p4(t,e,n){t==="focusin"?(T1(),eu=e,Eu=n,eu.attachEvent("onpropertychange",sT)):t==="focusout"&&T1()}function m4(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return jp(Eu)}function g4(t,e){if(t==="click")return jp(e)}function y4(t,e){if(t==="input"||t==="change")return jp(e)}function v4(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var qr=typeof Object.is=="function"?Object.is:v4;function bu(t,e){if(qr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!i0.call(e,s)||!qr(t[s],e[s]))return!1}return!0}function A1(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function S1(t,e){var n=A1(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=A1(n)}}function iT(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?iT(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function oT(){for(var t=window,e=Rf();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Rf(t.document)}return e}function Nv(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function x4(t){var e=oT(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&iT(n.ownerDocument.documentElement,n)){if(r!==null&&Nv(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=S1(n,i);var o=S1(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var w4=Vs&&"documentMode"in document&&11>=document.documentMode,Ha=null,_0=null,tu=null,T0=!1;function I1(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;T0||Ha==null||Ha!==Rf(r)||(r=Ha,"selectionStart"in r&&Nv(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),tu&&bu(tu,r)||(tu=r,r=Of(_0,"onSelect"),0<r.length&&(e=new Sv("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Ha)))}function Eh(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Ja={animationend:Eh("Animation","AnimationEnd"),animationiteration:Eh("Animation","AnimationIteration"),animationstart:Eh("Animation","AnimationStart"),transitionend:Eh("Transition","TransitionEnd")},mg={},aT={};Vs&&(aT=document.createElement("div").style,"AnimationEvent"in window||(delete Ja.animationend.animation,delete Ja.animationiteration.animation,delete Ja.animationstart.animation),"TransitionEvent"in window||delete Ja.transitionend.transition);function Dp(t){if(mg[t])return mg[t];if(!Ja[t])return t;var e=Ja[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in aT)return mg[t]=e[n];return t}var lT=Dp("animationend"),cT=Dp("animationiteration"),uT=Dp("animationstart"),dT=Dp("transitionend"),hT=new Map,R1="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function co(t,e){hT.set(t,e),ha(e,[t])}for(var gg=0;gg<R1.length;gg++){var yg=R1[gg],E4=yg.toLowerCase(),b4=yg[0].toUpperCase()+yg.slice(1);co(E4,"on"+b4)}co(lT,"onAnimationEnd");co(cT,"onAnimationIteration");co(uT,"onAnimationStart");co("dblclick","onDoubleClick");co("focusin","onFocus");co("focusout","onBlur");co(dT,"onTransitionEnd");Nl("onMouseEnter",["mouseout","mouseover"]);Nl("onMouseLeave",["mouseout","mouseover"]);Nl("onPointerEnter",["pointerout","pointerover"]);Nl("onPointerLeave",["pointerout","pointerover"]);ha("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ha("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ha("onBeforeInput",["compositionend","keypress","textInput","paste"]);ha("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ha("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ha("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Bc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),C4=new Set("cancel close invalid load scroll toggle".split(" ").concat(Bc));function N1(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,Ej(r,e,void 0,t),t.currentTarget=null}function fT(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],c=a.instance,u=a.currentTarget;if(a=a.listener,c!==i&&s.isPropagationStopped())break e;N1(s,a,u),i=c}else for(o=0;o<r.length;o++){if(a=r[o],c=a.instance,u=a.currentTarget,a=a.listener,c!==i&&s.isPropagationStopped())break e;N1(s,a,u),i=c}}}if(Pf)throw t=w0,Pf=!1,w0=null,t}function ft(t,e){var n=e[N0];n===void 0&&(n=e[N0]=new Set);var r=t+"__bubble";n.has(r)||(pT(e,t,2,!1),n.add(r))}function vg(t,e,n){var r=0;e&&(r|=4),pT(n,t,r,e)}var bh="_reactListening"+Math.random().toString(36).slice(2);function Cu(t){if(!t[bh]){t[bh]=!0,E_.forEach(function(n){n!=="selectionchange"&&(C4.has(n)||vg(n,!1,t),vg(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[bh]||(e[bh]=!0,vg("selectionchange",!1,e))}}function pT(t,e,n,r){switch(J_(e)){case 1:var s=Lj;break;case 4:s=Fj;break;default:s=Tv}n=s.bind(null,e,n,t),s=void 0,!x0||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function xg(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;o=o.return}for(;a!==null;){if(o=Oo(a),o===null)return;if(c=o.tag,c===5||c===6){r=i=o;continue e}a=a.parentNode}}r=r.return}L_(function(){var u=i,h=Ev(n),p=[];e:{var f=hT.get(t);if(f!==void 0){var v=Sv,x=t;switch(t){case"keypress":if(Hh(n)===0)break e;case"keydown":case"keyup":v=Zj;break;case"focusin":x="focus",v=hg;break;case"focusout":x="blur",v=hg;break;case"beforeblur":case"afterblur":v=hg;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=v1;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=Uj;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=n4;break;case lT:case cT:case uT:v=$j;break;case dT:v=s4;break;case"scroll":v=Vj;break;case"wheel":v=o4;break;case"copy":case"cut":case"paste":v=Wj;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=w1}var y=(e&4)!==0,w=!y&&t==="scroll",T=y?f!==null?f+"Capture":null:f;y=[];for(var E=u,b;E!==null;){b=E;var R=b.stateNode;if(b.tag===5&&R!==null&&(b=R,T!==null&&(R=yu(E,T),R!=null&&y.push(_u(E,R,b)))),w)break;E=E.return}0<y.length&&(f=new v(f,x,null,n,h),p.push({event:f,listeners:y}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",v=t==="mouseout"||t==="pointerout",f&&n!==y0&&(x=n.relatedTarget||n.fromElement)&&(Oo(x)||x[Bs]))break e;if((v||f)&&(f=h.window===h?h:(f=h.ownerDocument)?f.defaultView||f.parentWindow:window,v?(x=n.relatedTarget||n.toElement,v=u,x=x?Oo(x):null,x!==null&&(w=fa(x),x!==w||x.tag!==5&&x.tag!==6)&&(x=null)):(v=null,x=u),v!==x)){if(y=v1,R="onMouseLeave",T="onMouseEnter",E="mouse",(t==="pointerout"||t==="pointerover")&&(y=w1,R="onPointerLeave",T="onPointerEnter",E="pointer"),w=v==null?f:Xa(v),b=x==null?f:Xa(x),f=new y(R,E+"leave",v,n,h),f.target=w,f.relatedTarget=b,R=null,Oo(h)===u&&(y=new y(T,E+"enter",x,n,h),y.target=b,y.relatedTarget=w,R=y),w=R,v&&x)t:{for(y=v,T=x,E=0,b=y;b;b=Va(b))E++;for(b=0,R=T;R;R=Va(R))b++;for(;0<E-b;)y=Va(y),E--;for(;0<b-E;)T=Va(T),b--;for(;E--;){if(y===T||T!==null&&y===T.alternate)break t;y=Va(y),T=Va(T)}y=null}else y=null;v!==null&&P1(p,f,v,y,!1),x!==null&&w!==null&&P1(p,w,x,y,!0)}}e:{if(f=u?Xa(u):window,v=f.nodeName&&f.nodeName.toLowerCase(),v==="select"||v==="input"&&f.type==="file")var j=f4;else if(C1(f))if(rT)j=y4;else{j=m4;var V=p4}else(v=f.nodeName)&&v.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(j=g4);if(j&&(j=j(t,u))){nT(p,j,n,h);break e}V&&V(t,f,u),t==="focusout"&&(V=f._wrapperState)&&V.controlled&&f.type==="number"&&h0(f,"number",f.value)}switch(V=u?Xa(u):window,t){case"focusin":(C1(V)||V.contentEditable==="true")&&(Ha=V,_0=u,tu=null);break;case"focusout":tu=_0=Ha=null;break;case"mousedown":T0=!0;break;case"contextmenu":case"mouseup":case"dragend":T0=!1,I1(p,n,h);break;case"selectionchange":if(w4)break;case"keydown":case"keyup":I1(p,n,h)}var I;if(Rv)e:{switch(t){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else Ka?eT(t,n)&&(S="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(S="onCompositionStart");S&&(Z_&&n.locale!=="ko"&&(Ka||S!=="onCompositionStart"?S==="onCompositionEnd"&&Ka&&(I=X_()):(Ni=h,Av="value"in Ni?Ni.value:Ni.textContent,Ka=!0)),V=Of(u,S),0<V.length&&(S=new x1(S,t,null,n,h),p.push({event:S,listeners:V}),I?S.data=I:(I=tT(n),I!==null&&(S.data=I)))),(I=l4?c4(t,n):u4(t,n))&&(u=Of(u,"onBeforeInput"),0<u.length&&(h=new x1("onBeforeInput","beforeinput",null,n,h),p.push({event:h,listeners:u}),h.data=I))}fT(p,e)})}function _u(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Of(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=yu(t,n),i!=null&&r.unshift(_u(t,i,s)),i=yu(t,e),i!=null&&r.push(_u(t,i,s))),t=t.return}return r}function Va(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function P1(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var a=n,c=a.alternate,u=a.stateNode;if(c!==null&&c===r)break;a.tag===5&&u!==null&&(a=u,s?(c=yu(n,i),c!=null&&o.unshift(_u(n,c,a))):s||(c=yu(n,i),c!=null&&o.push(_u(n,c,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var _4=/\r\n?/g,T4=/\u0000|\uFFFD/g;function k1(t){return(typeof t=="string"?t:""+t).replace(_4,`
`).replace(T4,"")}function Ch(t,e,n){if(e=k1(e),k1(t)!==e&&n)throw Error(oe(425))}function Lf(){}var A0=null,S0=null;function I0(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var R0=typeof setTimeout=="function"?setTimeout:void 0,A4=typeof clearTimeout=="function"?clearTimeout:void 0,M1=typeof Promise=="function"?Promise:void 0,S4=typeof queueMicrotask=="function"?queueMicrotask:typeof M1<"u"?function(t){return M1.resolve(null).then(t).catch(I4)}:R0;function I4(t){setTimeout(function(){throw t})}function wg(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),wu(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);wu(e)}function Li(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function j1(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Yl=Math.random().toString(36).slice(2),ns="__reactFiber$"+Yl,Tu="__reactProps$"+Yl,Bs="__reactContainer$"+Yl,N0="__reactEvents$"+Yl,R4="__reactListeners$"+Yl,N4="__reactHandles$"+Yl;function Oo(t){var e=t[ns];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Bs]||n[ns]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=j1(t);t!==null;){if(n=t[ns])return n;t=j1(t)}return e}t=n,n=t.parentNode}return null}function sd(t){return t=t[ns]||t[Bs],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Xa(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(oe(33))}function Op(t){return t[Tu]||null}var P0=[],Za=-1;function uo(t){return{current:t}}function mt(t){0>Za||(t.current=P0[Za],P0[Za]=null,Za--)}function ut(t,e){Za++,P0[Za]=t.current,t.current=e}var Ki={},bn=uo(Ki),Gn=uo(!1),Ho=Ki;function Pl(t,e){var n=t.type.contextTypes;if(!n)return Ki;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function $n(t){return t=t.childContextTypes,t!=null}function Ff(){mt(Gn),mt(bn)}function D1(t,e,n){if(bn.current!==Ki)throw Error(oe(168));ut(bn,e),ut(Gn,n)}function mT(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(oe(108,pj(t)||"Unknown",s));return _t({},n,r)}function Vf(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Ki,Ho=bn.current,ut(bn,t),ut(Gn,Gn.current),!0}function O1(t,e,n){var r=t.stateNode;if(!r)throw Error(oe(169));n?(t=mT(t,e,Ho),r.__reactInternalMemoizedMergedChildContext=t,mt(Gn),mt(bn),ut(bn,t)):mt(Gn),ut(Gn,n)}var Ps=null,Lp=!1,Eg=!1;function gT(t){Ps===null?Ps=[t]:Ps.push(t)}function P4(t){Lp=!0,gT(t)}function ho(){if(!Eg&&Ps!==null){Eg=!0;var t=0,e=st;try{var n=Ps;for(st=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Ps=null,Lp=!1}catch(s){throw Ps!==null&&(Ps=Ps.slice(t+1)),U_(bv,ho),s}finally{st=e,Eg=!1}}return null}var el=[],tl=0,Bf=null,Uf=0,pr=[],mr=0,Jo=null,ks=1,Ms="";function Mo(t,e){el[tl++]=Uf,el[tl++]=Bf,Bf=t,Uf=e}function yT(t,e,n){pr[mr++]=ks,pr[mr++]=Ms,pr[mr++]=Jo,Jo=t;var r=ks;t=Ms;var s=32-Vr(r)-1;r&=~(1<<s),n+=1;var i=32-Vr(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,ks=1<<32-Vr(e)+s|n<<s|r,Ms=i+t}else ks=1<<i|n<<s|r,Ms=t}function Pv(t){t.return!==null&&(Mo(t,1),yT(t,1,0))}function kv(t){for(;t===Bf;)Bf=el[--tl],el[tl]=null,Uf=el[--tl],el[tl]=null;for(;t===Jo;)Jo=pr[--mr],pr[mr]=null,Ms=pr[--mr],pr[mr]=null,ks=pr[--mr],pr[mr]=null}var rr=null,tr=null,Et=!1,Lr=null;function vT(t,e){var n=vr(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function L1(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,rr=t,tr=Li(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,rr=t,tr=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Jo!==null?{id:ks,overflow:Ms}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=vr(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,rr=t,tr=null,!0):!1;default:return!1}}function k0(t){return(t.mode&1)!==0&&(t.flags&128)===0}function M0(t){if(Et){var e=tr;if(e){var n=e;if(!L1(t,e)){if(k0(t))throw Error(oe(418));e=Li(n.nextSibling);var r=rr;e&&L1(t,e)?vT(r,n):(t.flags=t.flags&-4097|2,Et=!1,rr=t)}}else{if(k0(t))throw Error(oe(418));t.flags=t.flags&-4097|2,Et=!1,rr=t}}}function F1(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;rr=t}function _h(t){if(t!==rr)return!1;if(!Et)return F1(t),Et=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!I0(t.type,t.memoizedProps)),e&&(e=tr)){if(k0(t))throw xT(),Error(oe(418));for(;e;)vT(t,e),e=Li(e.nextSibling)}if(F1(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(oe(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){tr=Li(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}tr=null}}else tr=rr?Li(t.stateNode.nextSibling):null;return!0}function xT(){for(var t=tr;t;)t=Li(t.nextSibling)}function kl(){tr=rr=null,Et=!1}function Mv(t){Lr===null?Lr=[t]:Lr.push(t)}var k4=Hs.ReactCurrentBatchConfig;function Pc(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(oe(309));var r=n.stateNode}if(!r)throw Error(oe(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(oe(284));if(!n._owner)throw Error(oe(290,t))}return t}function Th(t,e){throw t=Object.prototype.toString.call(e),Error(oe(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function V1(t){var e=t._init;return e(t._payload)}function wT(t){function e(T,E){if(t){var b=T.deletions;b===null?(T.deletions=[E],T.flags|=16):b.push(E)}}function n(T,E){if(!t)return null;for(;E!==null;)e(T,E),E=E.sibling;return null}function r(T,E){for(T=new Map;E!==null;)E.key!==null?T.set(E.key,E):T.set(E.index,E),E=E.sibling;return T}function s(T,E){return T=Ui(T,E),T.index=0,T.sibling=null,T}function i(T,E,b){return T.index=b,t?(b=T.alternate,b!==null?(b=b.index,b<E?(T.flags|=2,E):b):(T.flags|=2,E)):(T.flags|=1048576,E)}function o(T){return t&&T.alternate===null&&(T.flags|=2),T}function a(T,E,b,R){return E===null||E.tag!==6?(E=Ig(b,T.mode,R),E.return=T,E):(E=s(E,b),E.return=T,E)}function c(T,E,b,R){var j=b.type;return j===Ya?h(T,E,b.props.children,R,b.key):E!==null&&(E.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===gi&&V1(j)===E.type)?(R=s(E,b.props),R.ref=Pc(T,E,b),R.return=T,R):(R=rf(b.type,b.key,b.props,null,T.mode,R),R.ref=Pc(T,E,b),R.return=T,R)}function u(T,E,b,R){return E===null||E.tag!==4||E.stateNode.containerInfo!==b.containerInfo||E.stateNode.implementation!==b.implementation?(E=Rg(b,T.mode,R),E.return=T,E):(E=s(E,b.children||[]),E.return=T,E)}function h(T,E,b,R,j){return E===null||E.tag!==7?(E=zo(b,T.mode,R,j),E.return=T,E):(E=s(E,b),E.return=T,E)}function p(T,E,b){if(typeof E=="string"&&E!==""||typeof E=="number")return E=Ig(""+E,T.mode,b),E.return=T,E;if(typeof E=="object"&&E!==null){switch(E.$$typeof){case ph:return b=rf(E.type,E.key,E.props,null,T.mode,b),b.ref=Pc(T,null,E),b.return=T,b;case Qa:return E=Rg(E,T.mode,b),E.return=T,E;case gi:var R=E._init;return p(T,R(E._payload),b)}if(Fc(E)||Ac(E))return E=zo(E,T.mode,b,null),E.return=T,E;Th(T,E)}return null}function f(T,E,b,R){var j=E!==null?E.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return j!==null?null:a(T,E,""+b,R);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case ph:return b.key===j?c(T,E,b,R):null;case Qa:return b.key===j?u(T,E,b,R):null;case gi:return j=b._init,f(T,E,j(b._payload),R)}if(Fc(b)||Ac(b))return j!==null?null:h(T,E,b,R,null);Th(T,b)}return null}function v(T,E,b,R,j){if(typeof R=="string"&&R!==""||typeof R=="number")return T=T.get(b)||null,a(E,T,""+R,j);if(typeof R=="object"&&R!==null){switch(R.$$typeof){case ph:return T=T.get(R.key===null?b:R.key)||null,c(E,T,R,j);case Qa:return T=T.get(R.key===null?b:R.key)||null,u(E,T,R,j);case gi:var V=R._init;return v(T,E,b,V(R._payload),j)}if(Fc(R)||Ac(R))return T=T.get(b)||null,h(E,T,R,j,null);Th(E,R)}return null}function x(T,E,b,R){for(var j=null,V=null,I=E,S=E=0,P=null;I!==null&&S<b.length;S++){I.index>S?(P=I,I=null):P=I.sibling;var k=f(T,I,b[S],R);if(k===null){I===null&&(I=P);break}t&&I&&k.alternate===null&&e(T,I),E=i(k,E,S),V===null?j=k:V.sibling=k,V=k,I=P}if(S===b.length)return n(T,I),Et&&Mo(T,S),j;if(I===null){for(;S<b.length;S++)I=p(T,b[S],R),I!==null&&(E=i(I,E,S),V===null?j=I:V.sibling=I,V=I);return Et&&Mo(T,S),j}for(I=r(T,I);S<b.length;S++)P=v(I,T,S,b[S],R),P!==null&&(t&&P.alternate!==null&&I.delete(P.key===null?S:P.key),E=i(P,E,S),V===null?j=P:V.sibling=P,V=P);return t&&I.forEach(function(O){return e(T,O)}),Et&&Mo(T,S),j}function y(T,E,b,R){var j=Ac(b);if(typeof j!="function")throw Error(oe(150));if(b=j.call(b),b==null)throw Error(oe(151));for(var V=j=null,I=E,S=E=0,P=null,k=b.next();I!==null&&!k.done;S++,k=b.next()){I.index>S?(P=I,I=null):P=I.sibling;var O=f(T,I,k.value,R);if(O===null){I===null&&(I=P);break}t&&I&&O.alternate===null&&e(T,I),E=i(O,E,S),V===null?j=O:V.sibling=O,V=O,I=P}if(k.done)return n(T,I),Et&&Mo(T,S),j;if(I===null){for(;!k.done;S++,k=b.next())k=p(T,k.value,R),k!==null&&(E=i(k,E,S),V===null?j=k:V.sibling=k,V=k);return Et&&Mo(T,S),j}for(I=r(T,I);!k.done;S++,k=b.next())k=v(I,T,S,k.value,R),k!==null&&(t&&k.alternate!==null&&I.delete(k.key===null?S:k.key),E=i(k,E,S),V===null?j=k:V.sibling=k,V=k);return t&&I.forEach(function(L){return e(T,L)}),Et&&Mo(T,S),j}function w(T,E,b,R){if(typeof b=="object"&&b!==null&&b.type===Ya&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case ph:e:{for(var j=b.key,V=E;V!==null;){if(V.key===j){if(j=b.type,j===Ya){if(V.tag===7){n(T,V.sibling),E=s(V,b.props.children),E.return=T,T=E;break e}}else if(V.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===gi&&V1(j)===V.type){n(T,V.sibling),E=s(V,b.props),E.ref=Pc(T,V,b),E.return=T,T=E;break e}n(T,V);break}else e(T,V);V=V.sibling}b.type===Ya?(E=zo(b.props.children,T.mode,R,b.key),E.return=T,T=E):(R=rf(b.type,b.key,b.props,null,T.mode,R),R.ref=Pc(T,E,b),R.return=T,T=R)}return o(T);case Qa:e:{for(V=b.key;E!==null;){if(E.key===V)if(E.tag===4&&E.stateNode.containerInfo===b.containerInfo&&E.stateNode.implementation===b.implementation){n(T,E.sibling),E=s(E,b.children||[]),E.return=T,T=E;break e}else{n(T,E);break}else e(T,E);E=E.sibling}E=Rg(b,T.mode,R),E.return=T,T=E}return o(T);case gi:return V=b._init,w(T,E,V(b._payload),R)}if(Fc(b))return x(T,E,b,R);if(Ac(b))return y(T,E,b,R);Th(T,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,E!==null&&E.tag===6?(n(T,E.sibling),E=s(E,b),E.return=T,T=E):(n(T,E),E=Ig(b,T.mode,R),E.return=T,T=E),o(T)):n(T,E)}return w}var Ml=wT(!0),ET=wT(!1),qf=uo(null),Gf=null,nl=null,jv=null;function Dv(){jv=nl=Gf=null}function Ov(t){var e=qf.current;mt(qf),t._currentValue=e}function j0(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function dl(t,e){Gf=t,jv=nl=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Un=!0),t.firstContext=null)}function Er(t){var e=t._currentValue;if(jv!==t)if(t={context:t,memoizedValue:e,next:null},nl===null){if(Gf===null)throw Error(oe(308));nl=t,Gf.dependencies={lanes:0,firstContext:t}}else nl=nl.next=t;return e}var Lo=null;function Lv(t){Lo===null?Lo=[t]:Lo.push(t)}function bT(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,Lv(e)):(n.next=s.next,s.next=n),e.interleaved=n,Us(t,r)}function Us(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var yi=!1;function Fv(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function CT(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Os(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Fi(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,He&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,Us(t,n)}return s=r.interleaved,s===null?(e.next=e,Lv(r)):(e.next=s.next,s.next=e),r.interleaved=e,Us(t,n)}function Jh(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Cv(t,n)}}function B1(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function $f(t,e,n,r){var s=t.updateQueue;yi=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var c=a,u=c.next;c.next=null,o===null?i=u:o.next=u,o=c;var h=t.alternate;h!==null&&(h=h.updateQueue,a=h.lastBaseUpdate,a!==o&&(a===null?h.firstBaseUpdate=u:a.next=u,h.lastBaseUpdate=c))}if(i!==null){var p=s.baseState;o=0,h=u=c=null,a=i;do{var f=a.lane,v=a.eventTime;if((r&f)===f){h!==null&&(h=h.next={eventTime:v,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var x=t,y=a;switch(f=e,v=n,y.tag){case 1:if(x=y.payload,typeof x=="function"){p=x.call(v,p,f);break e}p=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=y.payload,f=typeof x=="function"?x.call(v,p,f):x,f==null)break e;p=_t({},p,f);break e;case 2:yi=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=s.effects,f===null?s.effects=[a]:f.push(a))}else v={eventTime:v,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},h===null?(u=h=v,c=p):h=h.next=v,o|=f;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;f=a,a=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(!0);if(h===null&&(c=p),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=h,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);Zo|=o,t.lanes=o,t.memoizedState=p}}function U1(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(oe(191,s));s.call(r)}}}var id={},is=uo(id),Au=uo(id),Su=uo(id);function Fo(t){if(t===id)throw Error(oe(174));return t}function Vv(t,e){switch(ut(Su,e),ut(Au,t),ut(is,id),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:p0(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=p0(e,t)}mt(is),ut(is,e)}function jl(){mt(is),mt(Au),mt(Su)}function _T(t){Fo(Su.current);var e=Fo(is.current),n=p0(e,t.type);e!==n&&(ut(Au,t),ut(is,n))}function Bv(t){Au.current===t&&(mt(is),mt(Au))}var bt=uo(0);function zf(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var bg=[];function Uv(){for(var t=0;t<bg.length;t++)bg[t]._workInProgressVersionPrimary=null;bg.length=0}var Xh=Hs.ReactCurrentDispatcher,Cg=Hs.ReactCurrentBatchConfig,Xo=0,Ct=null,$t=null,Xt=null,Wf=!1,nu=!1,Iu=0,M4=0;function mn(){throw Error(oe(321))}function qv(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!qr(t[n],e[n]))return!1;return!0}function Gv(t,e,n,r,s,i){if(Xo=i,Ct=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Xh.current=t===null||t.memoizedState===null?L4:F4,t=n(r,s),nu){i=0;do{if(nu=!1,Iu=0,25<=i)throw Error(oe(301));i+=1,Xt=$t=null,e.updateQueue=null,Xh.current=V4,t=n(r,s)}while(nu)}if(Xh.current=Qf,e=$t!==null&&$t.next!==null,Xo=0,Xt=$t=Ct=null,Wf=!1,e)throw Error(oe(300));return t}function $v(){var t=Iu!==0;return Iu=0,t}function Jr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Xt===null?Ct.memoizedState=Xt=t:Xt=Xt.next=t,Xt}function br(){if($t===null){var t=Ct.alternate;t=t!==null?t.memoizedState:null}else t=$t.next;var e=Xt===null?Ct.memoizedState:Xt.next;if(e!==null)Xt=e,$t=t;else{if(t===null)throw Error(oe(310));$t=t,t={memoizedState:$t.memoizedState,baseState:$t.baseState,baseQueue:$t.baseQueue,queue:$t.queue,next:null},Xt===null?Ct.memoizedState=Xt=t:Xt=Xt.next=t}return Xt}function Ru(t,e){return typeof e=="function"?e(t):e}function _g(t){var e=br(),n=e.queue;if(n===null)throw Error(oe(311));n.lastRenderedReducer=t;var r=$t,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,c=null,u=i;do{var h=u.lane;if((Xo&h)===h)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var p={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(a=c=p,o=r):c=c.next=p,Ct.lanes|=h,Zo|=h}u=u.next}while(u!==null&&u!==i);c===null?o=r:c.next=a,qr(r,e.memoizedState)||(Un=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=c,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,Ct.lanes|=i,Zo|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Tg(t){var e=br(),n=e.queue;if(n===null)throw Error(oe(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);qr(i,e.memoizedState)||(Un=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function TT(){}function AT(t,e){var n=Ct,r=br(),s=e(),i=!qr(r.memoizedState,s);if(i&&(r.memoizedState=s,Un=!0),r=r.queue,zv(RT.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||Xt!==null&&Xt.memoizedState.tag&1){if(n.flags|=2048,Nu(9,IT.bind(null,n,r,s,e),void 0,null),Zt===null)throw Error(oe(349));Xo&30||ST(n,e,s)}return s}function ST(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Ct.updateQueue,e===null?(e={lastEffect:null,stores:null},Ct.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function IT(t,e,n,r){e.value=n,e.getSnapshot=r,NT(e)&&PT(t)}function RT(t,e,n){return n(function(){NT(e)&&PT(t)})}function NT(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!qr(t,n)}catch{return!0}}function PT(t){var e=Us(t,1);e!==null&&Br(e,t,1,-1)}function q1(t){var e=Jr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ru,lastRenderedState:t},e.queue=t,t=t.dispatch=O4.bind(null,Ct,t),[e.memoizedState,t]}function Nu(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Ct.updateQueue,e===null?(e={lastEffect:null,stores:null},Ct.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function kT(){return br().memoizedState}function Zh(t,e,n,r){var s=Jr();Ct.flags|=t,s.memoizedState=Nu(1|e,n,void 0,r===void 0?null:r)}function Fp(t,e,n,r){var s=br();r=r===void 0?null:r;var i=void 0;if($t!==null){var o=$t.memoizedState;if(i=o.destroy,r!==null&&qv(r,o.deps)){s.memoizedState=Nu(e,n,i,r);return}}Ct.flags|=t,s.memoizedState=Nu(1|e,n,i,r)}function G1(t,e){return Zh(8390656,8,t,e)}function zv(t,e){return Fp(2048,8,t,e)}function MT(t,e){return Fp(4,2,t,e)}function jT(t,e){return Fp(4,4,t,e)}function DT(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function OT(t,e,n){return n=n!=null?n.concat([t]):null,Fp(4,4,DT.bind(null,e,t),n)}function Wv(){}function LT(t,e){var n=br();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&qv(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function FT(t,e){var n=br();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&qv(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function VT(t,e,n){return Xo&21?(qr(n,e)||(n=$_(),Ct.lanes|=n,Zo|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Un=!0),t.memoizedState=n)}function j4(t,e){var n=st;st=n!==0&&4>n?n:4,t(!0);var r=Cg.transition;Cg.transition={};try{t(!1),e()}finally{st=n,Cg.transition=r}}function BT(){return br().memoizedState}function D4(t,e,n){var r=Bi(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},UT(t))qT(e,n);else if(n=bT(t,e,n,r),n!==null){var s=Mn();Br(n,t,r,s),GT(n,e,r)}}function O4(t,e,n){var r=Bi(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(UT(t))qT(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,qr(a,o)){var c=e.interleaved;c===null?(s.next=s,Lv(e)):(s.next=c.next,c.next=s),e.interleaved=s;return}}catch{}finally{}n=bT(t,e,s,r),n!==null&&(s=Mn(),Br(n,t,r,s),GT(n,e,r))}}function UT(t){var e=t.alternate;return t===Ct||e!==null&&e===Ct}function qT(t,e){nu=Wf=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function GT(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Cv(t,n)}}var Qf={readContext:Er,useCallback:mn,useContext:mn,useEffect:mn,useImperativeHandle:mn,useInsertionEffect:mn,useLayoutEffect:mn,useMemo:mn,useReducer:mn,useRef:mn,useState:mn,useDebugValue:mn,useDeferredValue:mn,useTransition:mn,useMutableSource:mn,useSyncExternalStore:mn,useId:mn,unstable_isNewReconciler:!1},L4={readContext:Er,useCallback:function(t,e){return Jr().memoizedState=[t,e===void 0?null:e],t},useContext:Er,useEffect:G1,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Zh(4194308,4,DT.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Zh(4194308,4,t,e)},useInsertionEffect:function(t,e){return Zh(4,2,t,e)},useMemo:function(t,e){var n=Jr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Jr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=D4.bind(null,Ct,t),[r.memoizedState,t]},useRef:function(t){var e=Jr();return t={current:t},e.memoizedState=t},useState:q1,useDebugValue:Wv,useDeferredValue:function(t){return Jr().memoizedState=t},useTransition:function(){var t=q1(!1),e=t[0];return t=j4.bind(null,t[1]),Jr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Ct,s=Jr();if(Et){if(n===void 0)throw Error(oe(407));n=n()}else{if(n=e(),Zt===null)throw Error(oe(349));Xo&30||ST(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,G1(RT.bind(null,r,i,t),[t]),r.flags|=2048,Nu(9,IT.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=Jr(),e=Zt.identifierPrefix;if(Et){var n=Ms,r=ks;n=(r&~(1<<32-Vr(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Iu++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=M4++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},F4={readContext:Er,useCallback:LT,useContext:Er,useEffect:zv,useImperativeHandle:OT,useInsertionEffect:MT,useLayoutEffect:jT,useMemo:FT,useReducer:_g,useRef:kT,useState:function(){return _g(Ru)},useDebugValue:Wv,useDeferredValue:function(t){var e=br();return VT(e,$t.memoizedState,t)},useTransition:function(){var t=_g(Ru)[0],e=br().memoizedState;return[t,e]},useMutableSource:TT,useSyncExternalStore:AT,useId:BT,unstable_isNewReconciler:!1},V4={readContext:Er,useCallback:LT,useContext:Er,useEffect:zv,useImperativeHandle:OT,useInsertionEffect:MT,useLayoutEffect:jT,useMemo:FT,useReducer:Tg,useRef:kT,useState:function(){return Tg(Ru)},useDebugValue:Wv,useDeferredValue:function(t){var e=br();return $t===null?e.memoizedState=t:VT(e,$t.memoizedState,t)},useTransition:function(){var t=Tg(Ru)[0],e=br().memoizedState;return[t,e]},useMutableSource:TT,useSyncExternalStore:AT,useId:BT,unstable_isNewReconciler:!1};function Mr(t,e){if(t&&t.defaultProps){e=_t({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function D0(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:_t({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Vp={isMounted:function(t){return(t=t._reactInternals)?fa(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Mn(),s=Bi(t),i=Os(r,s);i.payload=e,n!=null&&(i.callback=n),e=Fi(t,i,s),e!==null&&(Br(e,t,s,r),Jh(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Mn(),s=Bi(t),i=Os(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=Fi(t,i,s),e!==null&&(Br(e,t,s,r),Jh(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Mn(),r=Bi(t),s=Os(n,r);s.tag=2,e!=null&&(s.callback=e),e=Fi(t,s,r),e!==null&&(Br(e,t,r,n),Jh(e,t,r))}};function $1(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!bu(n,r)||!bu(s,i):!0}function $T(t,e,n){var r=!1,s=Ki,i=e.contextType;return typeof i=="object"&&i!==null?i=Er(i):(s=$n(e)?Ho:bn.current,r=e.contextTypes,i=(r=r!=null)?Pl(t,s):Ki),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Vp,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function z1(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Vp.enqueueReplaceState(e,e.state,null)}function O0(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},Fv(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=Er(i):(i=$n(e)?Ho:bn.current,s.context=Pl(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(D0(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&Vp.enqueueReplaceState(s,s.state,null),$f(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function Dl(t,e){try{var n="",r=e;do n+=fj(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function Ag(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function L0(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var B4=typeof WeakMap=="function"?WeakMap:Map;function zT(t,e,n){n=Os(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Kf||(Kf=!0,Q0=r),L0(t,e)},n}function WT(t,e,n){n=Os(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){L0(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){L0(t,e),typeof r!="function"&&(Vi===null?Vi=new Set([this]):Vi.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function W1(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new B4;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=eD.bind(null,t,e,n),e.then(t,t))}function Q1(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Y1(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Os(-1,1),e.tag=2,Fi(n,e,1))),n.lanes|=1),t)}var U4=Hs.ReactCurrentOwner,Un=!1;function Nn(t,e,n,r){e.child=t===null?ET(e,null,n,r):Ml(e,t.child,n,r)}function K1(t,e,n,r,s){n=n.render;var i=e.ref;return dl(e,s),r=Gv(t,e,n,r,i,s),n=$v(),t!==null&&!Un?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,qs(t,e,s)):(Et&&n&&Pv(e),e.flags|=1,Nn(t,e,r,s),e.child)}function H1(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!ex(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,QT(t,e,i,r,s)):(t=rf(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:bu,n(o,r)&&t.ref===e.ref)return qs(t,e,s)}return e.flags|=1,t=Ui(i,r),t.ref=e.ref,t.return=e,e.child=t}function QT(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(bu(i,r)&&t.ref===e.ref)if(Un=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(Un=!0);else return e.lanes=t.lanes,qs(t,e,s)}return F0(t,e,n,r,s)}function YT(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},ut(sl,Xn),Xn|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,ut(sl,Xn),Xn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,ut(sl,Xn),Xn|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,ut(sl,Xn),Xn|=r;return Nn(t,e,s,n),e.child}function KT(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function F0(t,e,n,r,s){var i=$n(n)?Ho:bn.current;return i=Pl(e,i),dl(e,s),n=Gv(t,e,n,r,i,s),r=$v(),t!==null&&!Un?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,qs(t,e,s)):(Et&&r&&Pv(e),e.flags|=1,Nn(t,e,n,s),e.child)}function J1(t,e,n,r,s){if($n(n)){var i=!0;Vf(e)}else i=!1;if(dl(e,s),e.stateNode===null)ef(t,e),$T(e,n,r),O0(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var c=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=Er(u):(u=$n(n)?Ho:bn.current,u=Pl(e,u));var h=n.getDerivedStateFromProps,p=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function";p||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||c!==u)&&z1(e,o,r,u),yi=!1;var f=e.memoizedState;o.state=f,$f(e,r,o,s),c=e.memoizedState,a!==r||f!==c||Gn.current||yi?(typeof h=="function"&&(D0(e,n,h,r),c=e.memoizedState),(a=yi||$1(e,n,a,r,f,c,u))?(p||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=c),o.props=r,o.state=c,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,CT(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:Mr(e.type,a),o.props=u,p=e.pendingProps,f=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=Er(c):(c=$n(n)?Ho:bn.current,c=Pl(e,c));var v=n.getDerivedStateFromProps;(h=typeof v=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==p||f!==c)&&z1(e,o,r,c),yi=!1,f=e.memoizedState,o.state=f,$f(e,r,o,s);var x=e.memoizedState;a!==p||f!==x||Gn.current||yi?(typeof v=="function"&&(D0(e,n,v,r),x=e.memoizedState),(u=yi||$1(e,n,u,r,f,x,c)||!1)?(h||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,x,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,x,c)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=x),o.props=r,o.state=x,o.context=c,r=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return V0(t,e,n,r,i,s)}function V0(t,e,n,r,s,i){KT(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&O1(e,n,!1),qs(t,e,i);r=e.stateNode,U4.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Ml(e,t.child,null,i),e.child=Ml(e,null,a,i)):Nn(t,e,a,i),e.memoizedState=r.state,s&&O1(e,n,!0),e.child}function HT(t){var e=t.stateNode;e.pendingContext?D1(t,e.pendingContext,e.pendingContext!==e.context):e.context&&D1(t,e.context,!1),Vv(t,e.containerInfo)}function X1(t,e,n,r,s){return kl(),Mv(s),e.flags|=256,Nn(t,e,n,r),e.child}var B0={dehydrated:null,treeContext:null,retryLane:0};function U0(t){return{baseLanes:t,cachePool:null,transitions:null}}function JT(t,e,n){var r=e.pendingProps,s=bt.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),ut(bt,s&1),t===null)return M0(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=qp(o,r,0,null),t=zo(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=U0(n),e.memoizedState=B0,t):Qv(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return q4(t,e,o,r,a,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,a=s.sibling;var c={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=c,e.deletions=null):(r=Ui(s,c),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=Ui(a,i):(i=zo(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?U0(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=B0,r}return i=t.child,t=i.sibling,r=Ui(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Qv(t,e){return e=qp({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Ah(t,e,n,r){return r!==null&&Mv(r),Ml(e,t.child,null,n),t=Qv(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function q4(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=Ag(Error(oe(422))),Ah(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=qp({mode:"visible",children:r.children},s,0,null),i=zo(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&Ml(e,t.child,null,o),e.child.memoizedState=U0(o),e.memoizedState=B0,i);if(!(e.mode&1))return Ah(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(oe(419)),r=Ag(i,r,void 0),Ah(t,e,o,r)}if(a=(o&t.childLanes)!==0,Un||a){if(r=Zt,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Us(t,s),Br(r,t,s,-1))}return Zv(),r=Ag(Error(oe(421))),Ah(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=tD.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,tr=Li(s.nextSibling),rr=e,Et=!0,Lr=null,t!==null&&(pr[mr++]=ks,pr[mr++]=Ms,pr[mr++]=Jo,ks=t.id,Ms=t.overflow,Jo=e),e=Qv(e,r.children),e.flags|=4096,e)}function Z1(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),j0(t.return,e,n)}function Sg(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function XT(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(Nn(t,e,r.children,n),r=bt.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Z1(t,n,e);else if(t.tag===19)Z1(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(ut(bt,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&zf(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),Sg(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&zf(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}Sg(e,!0,n,null,i);break;case"together":Sg(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function ef(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function qs(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Zo|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(oe(153));if(e.child!==null){for(t=e.child,n=Ui(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Ui(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function G4(t,e,n){switch(e.tag){case 3:HT(e),kl();break;case 5:_T(e);break;case 1:$n(e.type)&&Vf(e);break;case 4:Vv(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;ut(qf,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(ut(bt,bt.current&1),e.flags|=128,null):n&e.child.childLanes?JT(t,e,n):(ut(bt,bt.current&1),t=qs(t,e,n),t!==null?t.sibling:null);ut(bt,bt.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return XT(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),ut(bt,bt.current),r)break;return null;case 22:case 23:return e.lanes=0,YT(t,e,n)}return qs(t,e,n)}var ZT,q0,eA,tA;ZT=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};q0=function(){};eA=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,Fo(is.current);var i=null;switch(n){case"input":s=u0(t,s),r=u0(t,r),i=[];break;case"select":s=_t({},s,{value:void 0}),r=_t({},r,{value:void 0}),i=[];break;case"textarea":s=f0(t,s),r=f0(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Lf)}m0(n,r);var o;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var a=s[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(mu.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var c=r[u];if(a=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&c!==a&&(c!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&a[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(i||(i=[]),i.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,a=a?a.__html:void 0,c!=null&&a!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(mu.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&ft("scroll",t),i||a===c||(i=[])):(i=i||[]).push(u,c))}n&&(i=i||[]).push("style",n);var u=i;(e.updateQueue=u)&&(e.flags|=4)}};tA=function(t,e,n,r){n!==r&&(e.flags|=4)};function kc(t,e){if(!Et)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function gn(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function $4(t,e,n){var r=e.pendingProps;switch(kv(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return gn(e),null;case 1:return $n(e.type)&&Ff(),gn(e),null;case 3:return r=e.stateNode,jl(),mt(Gn),mt(bn),Uv(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(_h(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Lr!==null&&(H0(Lr),Lr=null))),q0(t,e),gn(e),null;case 5:Bv(e);var s=Fo(Su.current);if(n=e.type,t!==null&&e.stateNode!=null)eA(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(oe(166));return gn(e),null}if(t=Fo(is.current),_h(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[ns]=e,r[Tu]=i,t=(e.mode&1)!==0,n){case"dialog":ft("cancel",r),ft("close",r);break;case"iframe":case"object":case"embed":ft("load",r);break;case"video":case"audio":for(s=0;s<Bc.length;s++)ft(Bc[s],r);break;case"source":ft("error",r);break;case"img":case"image":case"link":ft("error",r),ft("load",r);break;case"details":ft("toggle",r);break;case"input":l1(r,i),ft("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},ft("invalid",r);break;case"textarea":u1(r,i),ft("invalid",r)}m0(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&Ch(r.textContent,a,t),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&Ch(r.textContent,a,t),s=["children",""+a]):mu.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&ft("scroll",r)}switch(n){case"input":mh(r),c1(r,i,!0);break;case"textarea":mh(r),d1(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Lf)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=R_(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[ns]=e,t[Tu]=r,ZT(t,e,!1,!1),e.stateNode=t;e:{switch(o=g0(n,r),n){case"dialog":ft("cancel",t),ft("close",t),s=r;break;case"iframe":case"object":case"embed":ft("load",t),s=r;break;case"video":case"audio":for(s=0;s<Bc.length;s++)ft(Bc[s],t);s=r;break;case"source":ft("error",t),s=r;break;case"img":case"image":case"link":ft("error",t),ft("load",t),s=r;break;case"details":ft("toggle",t),s=r;break;case"input":l1(t,r),s=u0(t,r),ft("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=_t({},r,{value:void 0}),ft("invalid",t);break;case"textarea":u1(t,r),s=f0(t,r),ft("invalid",t);break;default:s=r}m0(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var c=a[i];i==="style"?k_(t,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&N_(t,c)):i==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&gu(t,c):typeof c=="number"&&gu(t,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(mu.hasOwnProperty(i)?c!=null&&i==="onScroll"&&ft("scroll",t):c!=null&&yv(t,i,c,o))}switch(n){case"input":mh(t),c1(t,r,!1);break;case"textarea":mh(t),d1(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Yi(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?al(t,!!r.multiple,i,!1):r.defaultValue!=null&&al(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Lf)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return gn(e),null;case 6:if(t&&e.stateNode!=null)tA(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(oe(166));if(n=Fo(Su.current),Fo(is.current),_h(e)){if(r=e.stateNode,n=e.memoizedProps,r[ns]=e,(i=r.nodeValue!==n)&&(t=rr,t!==null))switch(t.tag){case 3:Ch(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Ch(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[ns]=e,e.stateNode=r}return gn(e),null;case 13:if(mt(bt),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Et&&tr!==null&&e.mode&1&&!(e.flags&128))xT(),kl(),e.flags|=98560,i=!1;else if(i=_h(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(oe(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(oe(317));i[ns]=e}else kl(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;gn(e),i=!1}else Lr!==null&&(H0(Lr),Lr=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||bt.current&1?zt===0&&(zt=3):Zv())),e.updateQueue!==null&&(e.flags|=4),gn(e),null);case 4:return jl(),q0(t,e),t===null&&Cu(e.stateNode.containerInfo),gn(e),null;case 10:return Ov(e.type._context),gn(e),null;case 17:return $n(e.type)&&Ff(),gn(e),null;case 19:if(mt(bt),i=e.memoizedState,i===null)return gn(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)kc(i,!1);else{if(zt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=zf(t),o!==null){for(e.flags|=128,kc(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return ut(bt,bt.current&1|2),e.child}t=t.sibling}i.tail!==null&&Mt()>Ol&&(e.flags|=128,r=!0,kc(i,!1),e.lanes=4194304)}else{if(!r)if(t=zf(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),kc(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Et)return gn(e),null}else 2*Mt()-i.renderingStartTime>Ol&&n!==1073741824&&(e.flags|=128,r=!0,kc(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=Mt(),e.sibling=null,n=bt.current,ut(bt,r?n&1|2:n&1),e):(gn(e),null);case 22:case 23:return Xv(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Xn&1073741824&&(gn(e),e.subtreeFlags&6&&(e.flags|=8192)):gn(e),null;case 24:return null;case 25:return null}throw Error(oe(156,e.tag))}function z4(t,e){switch(kv(e),e.tag){case 1:return $n(e.type)&&Ff(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return jl(),mt(Gn),mt(bn),Uv(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Bv(e),null;case 13:if(mt(bt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(oe(340));kl()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return mt(bt),null;case 4:return jl(),null;case 10:return Ov(e.type._context),null;case 22:case 23:return Xv(),null;case 24:return null;default:return null}}var Sh=!1,wn=!1,W4=typeof WeakSet=="function"?WeakSet:Set,ye=null;function rl(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Rt(t,e,r)}else n.current=null}function G0(t,e,n){try{n()}catch(r){Rt(t,e,r)}}var eE=!1;function Q4(t,e){if(A0=jf,t=oT(),Nv(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,c=-1,u=0,h=0,p=t,f=null;t:for(;;){for(var v;p!==n||s!==0&&p.nodeType!==3||(a=o+s),p!==i||r!==0&&p.nodeType!==3||(c=o+r),p.nodeType===3&&(o+=p.nodeValue.length),(v=p.firstChild)!==null;)f=p,p=v;for(;;){if(p===t)break t;if(f===n&&++u===s&&(a=o),f===i&&++h===r&&(c=o),(v=p.nextSibling)!==null)break;p=f,f=p.parentNode}p=v}n=a===-1||c===-1?null:{start:a,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(S0={focusedElem:t,selectionRange:n},jf=!1,ye=e;ye!==null;)if(e=ye,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ye=t;else for(;ye!==null;){e=ye;try{var x=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var y=x.memoizedProps,w=x.memoizedState,T=e.stateNode,E=T.getSnapshotBeforeUpdate(e.elementType===e.type?y:Mr(e.type,y),w);T.__reactInternalSnapshotBeforeUpdate=E}break;case 3:var b=e.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(oe(163))}}catch(R){Rt(e,e.return,R)}if(t=e.sibling,t!==null){t.return=e.return,ye=t;break}ye=e.return}return x=eE,eE=!1,x}function ru(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&G0(e,n,i)}s=s.next}while(s!==r)}}function Bp(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function $0(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function nA(t){var e=t.alternate;e!==null&&(t.alternate=null,nA(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[ns],delete e[Tu],delete e[N0],delete e[R4],delete e[N4])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function rA(t){return t.tag===5||t.tag===3||t.tag===4}function tE(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||rA(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function z0(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Lf));else if(r!==4&&(t=t.child,t!==null))for(z0(t,e,n),t=t.sibling;t!==null;)z0(t,e,n),t=t.sibling}function W0(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(W0(t,e,n),t=t.sibling;t!==null;)W0(t,e,n),t=t.sibling}var nn=null,Or=!1;function ci(t,e,n){for(n=n.child;n!==null;)sA(t,e,n),n=n.sibling}function sA(t,e,n){if(ss&&typeof ss.onCommitFiberUnmount=="function")try{ss.onCommitFiberUnmount(kp,n)}catch{}switch(n.tag){case 5:wn||rl(n,e);case 6:var r=nn,s=Or;nn=null,ci(t,e,n),nn=r,Or=s,nn!==null&&(Or?(t=nn,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):nn.removeChild(n.stateNode));break;case 18:nn!==null&&(Or?(t=nn,n=n.stateNode,t.nodeType===8?wg(t.parentNode,n):t.nodeType===1&&wg(t,n),wu(t)):wg(nn,n.stateNode));break;case 4:r=nn,s=Or,nn=n.stateNode.containerInfo,Or=!0,ci(t,e,n),nn=r,Or=s;break;case 0:case 11:case 14:case 15:if(!wn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&G0(n,e,o),s=s.next}while(s!==r)}ci(t,e,n);break;case 1:if(!wn&&(rl(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Rt(n,e,a)}ci(t,e,n);break;case 21:ci(t,e,n);break;case 22:n.mode&1?(wn=(r=wn)||n.memoizedState!==null,ci(t,e,n),wn=r):ci(t,e,n);break;default:ci(t,e,n)}}function nE(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new W4),e.forEach(function(r){var s=nD.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Pr(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:nn=a.stateNode,Or=!1;break e;case 3:nn=a.stateNode.containerInfo,Or=!0;break e;case 4:nn=a.stateNode.containerInfo,Or=!0;break e}a=a.return}if(nn===null)throw Error(oe(160));sA(i,o,s),nn=null,Or=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){Rt(s,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)iA(e,t),e=e.sibling}function iA(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Pr(e,t),Kr(t),r&4){try{ru(3,t,t.return),Bp(3,t)}catch(y){Rt(t,t.return,y)}try{ru(5,t,t.return)}catch(y){Rt(t,t.return,y)}}break;case 1:Pr(e,t),Kr(t),r&512&&n!==null&&rl(n,n.return);break;case 5:if(Pr(e,t),Kr(t),r&512&&n!==null&&rl(n,n.return),t.flags&32){var s=t.stateNode;try{gu(s,"")}catch(y){Rt(t,t.return,y)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,a=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&S_(s,i),g0(a,o);var u=g0(a,i);for(o=0;o<c.length;o+=2){var h=c[o],p=c[o+1];h==="style"?k_(s,p):h==="dangerouslySetInnerHTML"?N_(s,p):h==="children"?gu(s,p):yv(s,h,p,u)}switch(a){case"input":d0(s,i);break;case"textarea":I_(s,i);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var v=i.value;v!=null?al(s,!!i.multiple,v,!1):f!==!!i.multiple&&(i.defaultValue!=null?al(s,!!i.multiple,i.defaultValue,!0):al(s,!!i.multiple,i.multiple?[]:"",!1))}s[Tu]=i}catch(y){Rt(t,t.return,y)}}break;case 6:if(Pr(e,t),Kr(t),r&4){if(t.stateNode===null)throw Error(oe(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(y){Rt(t,t.return,y)}}break;case 3:if(Pr(e,t),Kr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{wu(e.containerInfo)}catch(y){Rt(t,t.return,y)}break;case 4:Pr(e,t),Kr(t);break;case 13:Pr(e,t),Kr(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Hv=Mt())),r&4&&nE(t);break;case 22:if(h=n!==null&&n.memoizedState!==null,t.mode&1?(wn=(u=wn)||h,Pr(e,t),wn=u):Pr(e,t),Kr(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!h&&t.mode&1)for(ye=t,h=t.child;h!==null;){for(p=ye=h;ye!==null;){switch(f=ye,v=f.child,f.tag){case 0:case 11:case 14:case 15:ru(4,f,f.return);break;case 1:rl(f,f.return);var x=f.stateNode;if(typeof x.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,x.props=e.memoizedProps,x.state=e.memoizedState,x.componentWillUnmount()}catch(y){Rt(r,n,y)}}break;case 5:rl(f,f.return);break;case 22:if(f.memoizedState!==null){sE(p);continue}}v!==null?(v.return=f,ye=v):sE(p)}h=h.sibling}e:for(h=null,p=t;;){if(p.tag===5){if(h===null){h=p;try{s=p.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=p.stateNode,c=p.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,a.style.display=P_("display",o))}catch(y){Rt(t,t.return,y)}}}else if(p.tag===6){if(h===null)try{p.stateNode.nodeValue=u?"":p.memoizedProps}catch(y){Rt(t,t.return,y)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===t)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===t)break e;for(;p.sibling===null;){if(p.return===null||p.return===t)break e;h===p&&(h=null),p=p.return}h===p&&(h=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:Pr(e,t),Kr(t),r&4&&nE(t);break;case 21:break;default:Pr(e,t),Kr(t)}}function Kr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(rA(n)){var r=n;break e}n=n.return}throw Error(oe(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(gu(s,""),r.flags&=-33);var i=tE(t);W0(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=tE(t);z0(t,a,o);break;default:throw Error(oe(161))}}catch(c){Rt(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Y4(t,e,n){ye=t,oA(t)}function oA(t,e,n){for(var r=(t.mode&1)!==0;ye!==null;){var s=ye,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||Sh;if(!o){var a=s.alternate,c=a!==null&&a.memoizedState!==null||wn;a=Sh;var u=wn;if(Sh=o,(wn=c)&&!u)for(ye=s;ye!==null;)o=ye,c=o.child,o.tag===22&&o.memoizedState!==null?iE(s):c!==null?(c.return=o,ye=c):iE(s);for(;i!==null;)ye=i,oA(i),i=i.sibling;ye=s,Sh=a,wn=u}rE(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,ye=i):rE(t)}}function rE(t){for(;ye!==null;){var e=ye;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:wn||Bp(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!wn)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:Mr(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&U1(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}U1(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var h=u.memoizedState;if(h!==null){var p=h.dehydrated;p!==null&&wu(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(oe(163))}wn||e.flags&512&&$0(e)}catch(f){Rt(e,e.return,f)}}if(e===t){ye=null;break}if(n=e.sibling,n!==null){n.return=e.return,ye=n;break}ye=e.return}}function sE(t){for(;ye!==null;){var e=ye;if(e===t){ye=null;break}var n=e.sibling;if(n!==null){n.return=e.return,ye=n;break}ye=e.return}}function iE(t){for(;ye!==null;){var e=ye;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Bp(4,e)}catch(c){Rt(e,n,c)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(c){Rt(e,s,c)}}var i=e.return;try{$0(e)}catch(c){Rt(e,i,c)}break;case 5:var o=e.return;try{$0(e)}catch(c){Rt(e,o,c)}}}catch(c){Rt(e,e.return,c)}if(e===t){ye=null;break}var a=e.sibling;if(a!==null){a.return=e.return,ye=a;break}ye=e.return}}var K4=Math.ceil,Yf=Hs.ReactCurrentDispatcher,Yv=Hs.ReactCurrentOwner,xr=Hs.ReactCurrentBatchConfig,He=0,Zt=null,Ft=null,on=0,Xn=0,sl=uo(0),zt=0,Pu=null,Zo=0,Up=0,Kv=0,su=null,Vn=null,Hv=0,Ol=1/0,Ns=null,Kf=!1,Q0=null,Vi=null,Ih=!1,Pi=null,Hf=0,iu=0,Y0=null,tf=-1,nf=0;function Mn(){return He&6?Mt():tf!==-1?tf:tf=Mt()}function Bi(t){return t.mode&1?He&2&&on!==0?on&-on:k4.transition!==null?(nf===0&&(nf=$_()),nf):(t=st,t!==0||(t=window.event,t=t===void 0?16:J_(t.type)),t):1}function Br(t,e,n,r){if(50<iu)throw iu=0,Y0=null,Error(oe(185));nd(t,n,r),(!(He&2)||t!==Zt)&&(t===Zt&&(!(He&2)&&(Up|=n),zt===4&&wi(t,on)),zn(t,r),n===1&&He===0&&!(e.mode&1)&&(Ol=Mt()+500,Lp&&ho()))}function zn(t,e){var n=t.callbackNode;kj(t,e);var r=Mf(t,t===Zt?on:0);if(r===0)n!==null&&p1(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&p1(n),e===1)t.tag===0?P4(oE.bind(null,t)):gT(oE.bind(null,t)),S4(function(){!(He&6)&&ho()}),n=null;else{switch(z_(r)){case 1:n=bv;break;case 4:n=q_;break;case 16:n=kf;break;case 536870912:n=G_;break;default:n=kf}n=pA(n,aA.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function aA(t,e){if(tf=-1,nf=0,He&6)throw Error(oe(327));var n=t.callbackNode;if(hl()&&t.callbackNode!==n)return null;var r=Mf(t,t===Zt?on:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Jf(t,r);else{e=r;var s=He;He|=2;var i=cA();(Zt!==t||on!==e)&&(Ns=null,Ol=Mt()+500,$o(t,e));do try{X4();break}catch(a){lA(t,a)}while(!0);Dv(),Yf.current=i,He=s,Ft!==null?e=0:(Zt=null,on=0,e=zt)}if(e!==0){if(e===2&&(s=E0(t),s!==0&&(r=s,e=K0(t,s))),e===1)throw n=Pu,$o(t,0),wi(t,r),zn(t,Mt()),n;if(e===6)wi(t,r);else{if(s=t.current.alternate,!(r&30)&&!H4(s)&&(e=Jf(t,r),e===2&&(i=E0(t),i!==0&&(r=i,e=K0(t,i))),e===1))throw n=Pu,$o(t,0),wi(t,r),zn(t,Mt()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(oe(345));case 2:jo(t,Vn,Ns);break;case 3:if(wi(t,r),(r&130023424)===r&&(e=Hv+500-Mt(),10<e)){if(Mf(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){Mn(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=R0(jo.bind(null,t,Vn,Ns),e);break}jo(t,Vn,Ns);break;case 4:if(wi(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-Vr(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=Mt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*K4(r/1960))-r,10<r){t.timeoutHandle=R0(jo.bind(null,t,Vn,Ns),r);break}jo(t,Vn,Ns);break;case 5:jo(t,Vn,Ns);break;default:throw Error(oe(329))}}}return zn(t,Mt()),t.callbackNode===n?aA.bind(null,t):null}function K0(t,e){var n=su;return t.current.memoizedState.isDehydrated&&($o(t,e).flags|=256),t=Jf(t,e),t!==2&&(e=Vn,Vn=n,e!==null&&H0(e)),t}function H0(t){Vn===null?Vn=t:Vn.push.apply(Vn,t)}function H4(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!qr(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function wi(t,e){for(e&=~Kv,e&=~Up,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Vr(e),r=1<<n;t[n]=-1,e&=~r}}function oE(t){if(He&6)throw Error(oe(327));hl();var e=Mf(t,0);if(!(e&1))return zn(t,Mt()),null;var n=Jf(t,e);if(t.tag!==0&&n===2){var r=E0(t);r!==0&&(e=r,n=K0(t,r))}if(n===1)throw n=Pu,$o(t,0),wi(t,e),zn(t,Mt()),n;if(n===6)throw Error(oe(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,jo(t,Vn,Ns),zn(t,Mt()),null}function Jv(t,e){var n=He;He|=1;try{return t(e)}finally{He=n,He===0&&(Ol=Mt()+500,Lp&&ho())}}function ea(t){Pi!==null&&Pi.tag===0&&!(He&6)&&hl();var e=He;He|=1;var n=xr.transition,r=st;try{if(xr.transition=null,st=1,t)return t()}finally{st=r,xr.transition=n,He=e,!(He&6)&&ho()}}function Xv(){Xn=sl.current,mt(sl)}function $o(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,A4(n)),Ft!==null)for(n=Ft.return;n!==null;){var r=n;switch(kv(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Ff();break;case 3:jl(),mt(Gn),mt(bn),Uv();break;case 5:Bv(r);break;case 4:jl();break;case 13:mt(bt);break;case 19:mt(bt);break;case 10:Ov(r.type._context);break;case 22:case 23:Xv()}n=n.return}if(Zt=t,Ft=t=Ui(t.current,null),on=Xn=e,zt=0,Pu=null,Kv=Up=Zo=0,Vn=su=null,Lo!==null){for(e=0;e<Lo.length;e++)if(n=Lo[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}Lo=null}return t}function lA(t,e){do{var n=Ft;try{if(Dv(),Xh.current=Qf,Wf){for(var r=Ct.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Wf=!1}if(Xo=0,Xt=$t=Ct=null,nu=!1,Iu=0,Yv.current=null,n===null||n.return===null){zt=1,Pu=e,Ft=null;break}e:{var i=t,o=n.return,a=n,c=e;if(e=on,a.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,h=a,p=h.tag;if(!(h.mode&1)&&(p===0||p===11||p===15)){var f=h.alternate;f?(h.updateQueue=f.updateQueue,h.memoizedState=f.memoizedState,h.lanes=f.lanes):(h.updateQueue=null,h.memoizedState=null)}var v=Q1(o);if(v!==null){v.flags&=-257,Y1(v,o,a,i,e),v.mode&1&&W1(i,u,e),e=v,c=u;var x=e.updateQueue;if(x===null){var y=new Set;y.add(c),e.updateQueue=y}else x.add(c);break e}else{if(!(e&1)){W1(i,u,e),Zv();break e}c=Error(oe(426))}}else if(Et&&a.mode&1){var w=Q1(o);if(w!==null){!(w.flags&65536)&&(w.flags|=256),Y1(w,o,a,i,e),Mv(Dl(c,a));break e}}i=c=Dl(c,a),zt!==4&&(zt=2),su===null?su=[i]:su.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var T=zT(i,c,e);B1(i,T);break e;case 1:a=c;var E=i.type,b=i.stateNode;if(!(i.flags&128)&&(typeof E.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(Vi===null||!Vi.has(b)))){i.flags|=65536,e&=-e,i.lanes|=e;var R=WT(i,a,e);B1(i,R);break e}}i=i.return}while(i!==null)}dA(n)}catch(j){e=j,Ft===n&&n!==null&&(Ft=n=n.return);continue}break}while(!0)}function cA(){var t=Yf.current;return Yf.current=Qf,t===null?Qf:t}function Zv(){(zt===0||zt===3||zt===2)&&(zt=4),Zt===null||!(Zo&268435455)&&!(Up&268435455)||wi(Zt,on)}function Jf(t,e){var n=He;He|=2;var r=cA();(Zt!==t||on!==e)&&(Ns=null,$o(t,e));do try{J4();break}catch(s){lA(t,s)}while(!0);if(Dv(),He=n,Yf.current=r,Ft!==null)throw Error(oe(261));return Zt=null,on=0,zt}function J4(){for(;Ft!==null;)uA(Ft)}function X4(){for(;Ft!==null&&!Cj();)uA(Ft)}function uA(t){var e=fA(t.alternate,t,Xn);t.memoizedProps=t.pendingProps,e===null?dA(t):Ft=e,Yv.current=null}function dA(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=z4(n,e),n!==null){n.flags&=32767,Ft=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{zt=6,Ft=null;return}}else if(n=$4(n,e,Xn),n!==null){Ft=n;return}if(e=e.sibling,e!==null){Ft=e;return}Ft=e=t}while(e!==null);zt===0&&(zt=5)}function jo(t,e,n){var r=st,s=xr.transition;try{xr.transition=null,st=1,Z4(t,e,n,r)}finally{xr.transition=s,st=r}return null}function Z4(t,e,n,r){do hl();while(Pi!==null);if(He&6)throw Error(oe(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(oe(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(Mj(t,i),t===Zt&&(Ft=Zt=null,on=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Ih||(Ih=!0,pA(kf,function(){return hl(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=xr.transition,xr.transition=null;var o=st;st=1;var a=He;He|=4,Yv.current=null,Q4(t,n),iA(n,t),x4(S0),jf=!!A0,S0=A0=null,t.current=n,Y4(n),_j(),He=a,st=o,xr.transition=i}else t.current=n;if(Ih&&(Ih=!1,Pi=t,Hf=s),i=t.pendingLanes,i===0&&(Vi=null),Sj(n.stateNode),zn(t,Mt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Kf)throw Kf=!1,t=Q0,Q0=null,t;return Hf&1&&t.tag!==0&&hl(),i=t.pendingLanes,i&1?t===Y0?iu++:(iu=0,Y0=t):iu=0,ho(),null}function hl(){if(Pi!==null){var t=z_(Hf),e=xr.transition,n=st;try{if(xr.transition=null,st=16>t?16:t,Pi===null)var r=!1;else{if(t=Pi,Pi=null,Hf=0,He&6)throw Error(oe(331));var s=He;for(He|=4,ye=t.current;ye!==null;){var i=ye,o=i.child;if(ye.flags&16){var a=i.deletions;if(a!==null){for(var c=0;c<a.length;c++){var u=a[c];for(ye=u;ye!==null;){var h=ye;switch(h.tag){case 0:case 11:case 15:ru(8,h,i)}var p=h.child;if(p!==null)p.return=h,ye=p;else for(;ye!==null;){h=ye;var f=h.sibling,v=h.return;if(nA(h),h===u){ye=null;break}if(f!==null){f.return=v,ye=f;break}ye=v}}}var x=i.alternate;if(x!==null){var y=x.child;if(y!==null){x.child=null;do{var w=y.sibling;y.sibling=null,y=w}while(y!==null)}}ye=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,ye=o;else e:for(;ye!==null;){if(i=ye,i.flags&2048)switch(i.tag){case 0:case 11:case 15:ru(9,i,i.return)}var T=i.sibling;if(T!==null){T.return=i.return,ye=T;break e}ye=i.return}}var E=t.current;for(ye=E;ye!==null;){o=ye;var b=o.child;if(o.subtreeFlags&2064&&b!==null)b.return=o,ye=b;else e:for(o=E;ye!==null;){if(a=ye,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Bp(9,a)}}catch(j){Rt(a,a.return,j)}if(a===o){ye=null;break e}var R=a.sibling;if(R!==null){R.return=a.return,ye=R;break e}ye=a.return}}if(He=s,ho(),ss&&typeof ss.onPostCommitFiberRoot=="function")try{ss.onPostCommitFiberRoot(kp,t)}catch{}r=!0}return r}finally{st=n,xr.transition=e}}return!1}function aE(t,e,n){e=Dl(n,e),e=zT(t,e,1),t=Fi(t,e,1),e=Mn(),t!==null&&(nd(t,1,e),zn(t,e))}function Rt(t,e,n){if(t.tag===3)aE(t,t,n);else for(;e!==null;){if(e.tag===3){aE(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Vi===null||!Vi.has(r))){t=Dl(n,t),t=WT(e,t,1),e=Fi(e,t,1),t=Mn(),e!==null&&(nd(e,1,t),zn(e,t));break}}e=e.return}}function eD(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Mn(),t.pingedLanes|=t.suspendedLanes&n,Zt===t&&(on&n)===n&&(zt===4||zt===3&&(on&130023424)===on&&500>Mt()-Hv?$o(t,0):Kv|=n),zn(t,e)}function hA(t,e){e===0&&(t.mode&1?(e=vh,vh<<=1,!(vh&130023424)&&(vh=4194304)):e=1);var n=Mn();t=Us(t,e),t!==null&&(nd(t,e,n),zn(t,n))}function tD(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),hA(t,n)}function nD(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(oe(314))}r!==null&&r.delete(e),hA(t,n)}var fA;fA=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Gn.current)Un=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Un=!1,G4(t,e,n);Un=!!(t.flags&131072)}else Un=!1,Et&&e.flags&1048576&&yT(e,Uf,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;ef(t,e),t=e.pendingProps;var s=Pl(e,bn.current);dl(e,n),s=Gv(null,e,r,t,s,n);var i=$v();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,$n(r)?(i=!0,Vf(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Fv(e),s.updater=Vp,e.stateNode=s,s._reactInternals=e,O0(e,r,t,n),e=V0(null,e,r,!0,i,n)):(e.tag=0,Et&&i&&Pv(e),Nn(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(ef(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=sD(r),t=Mr(r,t),s){case 0:e=F0(null,e,r,t,n);break e;case 1:e=J1(null,e,r,t,n);break e;case 11:e=K1(null,e,r,t,n);break e;case 14:e=H1(null,e,r,Mr(r.type,t),n);break e}throw Error(oe(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Mr(r,s),F0(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Mr(r,s),J1(t,e,r,s,n);case 3:e:{if(HT(e),t===null)throw Error(oe(387));r=e.pendingProps,i=e.memoizedState,s=i.element,CT(t,e),$f(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=Dl(Error(oe(423)),e),e=X1(t,e,r,n,s);break e}else if(r!==s){s=Dl(Error(oe(424)),e),e=X1(t,e,r,n,s);break e}else for(tr=Li(e.stateNode.containerInfo.firstChild),rr=e,Et=!0,Lr=null,n=ET(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(kl(),r===s){e=qs(t,e,n);break e}Nn(t,e,r,n)}e=e.child}return e;case 5:return _T(e),t===null&&M0(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,I0(r,s)?o=null:i!==null&&I0(r,i)&&(e.flags|=32),KT(t,e),Nn(t,e,o,n),e.child;case 6:return t===null&&M0(e),null;case 13:return JT(t,e,n);case 4:return Vv(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Ml(e,null,r,n):Nn(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Mr(r,s),K1(t,e,r,s,n);case 7:return Nn(t,e,e.pendingProps,n),e.child;case 8:return Nn(t,e,e.pendingProps.children,n),e.child;case 12:return Nn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,ut(qf,r._currentValue),r._currentValue=o,i!==null)if(qr(i.value,o)){if(i.children===s.children&&!Gn.current){e=qs(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var c=a.firstContext;c!==null;){if(c.context===r){if(i.tag===1){c=Os(-1,n&-n),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var h=u.pending;h===null?c.next=c:(c.next=h.next,h.next=c),u.pending=c}}i.lanes|=n,c=i.alternate,c!==null&&(c.lanes|=n),j0(i.return,n,e),a.lanes|=n;break}c=c.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(oe(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),j0(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Nn(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,dl(e,n),s=Er(s),r=r(s),e.flags|=1,Nn(t,e,r,n),e.child;case 14:return r=e.type,s=Mr(r,e.pendingProps),s=Mr(r.type,s),H1(t,e,r,s,n);case 15:return QT(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Mr(r,s),ef(t,e),e.tag=1,$n(r)?(t=!0,Vf(e)):t=!1,dl(e,n),$T(e,r,s),O0(e,r,s,n),V0(null,e,r,!0,t,n);case 19:return XT(t,e,n);case 22:return YT(t,e,n)}throw Error(oe(156,e.tag))};function pA(t,e){return U_(t,e)}function rD(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function vr(t,e,n,r){return new rD(t,e,n,r)}function ex(t){return t=t.prototype,!(!t||!t.isReactComponent)}function sD(t){if(typeof t=="function")return ex(t)?1:0;if(t!=null){if(t=t.$$typeof,t===xv)return 11;if(t===wv)return 14}return 2}function Ui(t,e){var n=t.alternate;return n===null?(n=vr(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function rf(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")ex(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Ya:return zo(n.children,s,i,e);case vv:o=8,s|=8;break;case o0:return t=vr(12,n,e,s|2),t.elementType=o0,t.lanes=i,t;case a0:return t=vr(13,n,e,s),t.elementType=a0,t.lanes=i,t;case l0:return t=vr(19,n,e,s),t.elementType=l0,t.lanes=i,t;case __:return qp(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case b_:o=10;break e;case C_:o=9;break e;case xv:o=11;break e;case wv:o=14;break e;case gi:o=16,r=null;break e}throw Error(oe(130,t==null?t:typeof t,""))}return e=vr(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function zo(t,e,n,r){return t=vr(7,t,r,e),t.lanes=n,t}function qp(t,e,n,r){return t=vr(22,t,r,e),t.elementType=__,t.lanes=n,t.stateNode={isHidden:!1},t}function Ig(t,e,n){return t=vr(6,t,null,e),t.lanes=n,t}function Rg(t,e,n){return e=vr(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function iD(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=cg(0),this.expirationTimes=cg(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=cg(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function tx(t,e,n,r,s,i,o,a,c){return t=new iD(t,e,n,a,c),e===1?(e=1,i===!0&&(e|=8)):e=0,i=vr(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Fv(i),t}function oD(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Qa,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function mA(t){if(!t)return Ki;t=t._reactInternals;e:{if(fa(t)!==t||t.tag!==1)throw Error(oe(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if($n(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(oe(171))}if(t.tag===1){var n=t.type;if($n(n))return mT(t,n,e)}return e}function gA(t,e,n,r,s,i,o,a,c){return t=tx(n,r,!0,t,s,i,o,a,c),t.context=mA(null),n=t.current,r=Mn(),s=Bi(n),i=Os(r,s),i.callback=e??null,Fi(n,i,s),t.current.lanes=s,nd(t,s,r),zn(t,r),t}function Gp(t,e,n,r){var s=e.current,i=Mn(),o=Bi(s);return n=mA(n),e.context===null?e.context=n:e.pendingContext=n,e=Os(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Fi(s,e,o),t!==null&&(Br(t,s,o,i),Jh(t,s,o)),o}function Xf(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function lE(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function nx(t,e){lE(t,e),(t=t.alternate)&&lE(t,e)}function aD(){return null}var yA=typeof reportError=="function"?reportError:function(t){console.error(t)};function rx(t){this._internalRoot=t}$p.prototype.render=rx.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(oe(409));Gp(t,e,null,null)};$p.prototype.unmount=rx.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;ea(function(){Gp(null,t,null,null)}),e[Bs]=null}};function $p(t){this._internalRoot=t}$p.prototype.unstable_scheduleHydration=function(t){if(t){var e=Y_();t={blockedOn:null,target:t,priority:e};for(var n=0;n<xi.length&&e!==0&&e<xi[n].priority;n++);xi.splice(n,0,t),n===0&&H_(t)}};function sx(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function zp(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function cE(){}function lD(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var u=Xf(o);i.call(u)}}var o=gA(e,r,t,0,null,!1,!1,"",cE);return t._reactRootContainer=o,t[Bs]=o.current,Cu(t.nodeType===8?t.parentNode:t),ea(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var u=Xf(c);a.call(u)}}var c=tx(t,0,!1,null,null,!1,!1,"",cE);return t._reactRootContainer=c,t[Bs]=c.current,Cu(t.nodeType===8?t.parentNode:t),ea(function(){Gp(e,c,n,r)}),c}function Wp(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var c=Xf(o);a.call(c)}}Gp(e,o,t,s)}else o=lD(n,e,t,s,r);return Xf(o)}W_=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Vc(e.pendingLanes);n!==0&&(Cv(e,n|1),zn(e,Mt()),!(He&6)&&(Ol=Mt()+500,ho()))}break;case 13:ea(function(){var r=Us(t,1);if(r!==null){var s=Mn();Br(r,t,1,s)}}),nx(t,1)}};_v=function(t){if(t.tag===13){var e=Us(t,134217728);if(e!==null){var n=Mn();Br(e,t,134217728,n)}nx(t,134217728)}};Q_=function(t){if(t.tag===13){var e=Bi(t),n=Us(t,e);if(n!==null){var r=Mn();Br(n,t,e,r)}nx(t,e)}};Y_=function(){return st};K_=function(t,e){var n=st;try{return st=t,e()}finally{st=n}};v0=function(t,e,n){switch(e){case"input":if(d0(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=Op(r);if(!s)throw Error(oe(90));A_(r),d0(r,s)}}}break;case"textarea":I_(t,n);break;case"select":e=n.value,e!=null&&al(t,!!n.multiple,e,!1)}};D_=Jv;O_=ea;var cD={usingClientEntryPoint:!1,Events:[sd,Xa,Op,M_,j_,Jv]},Mc={findFiberByHostInstance:Oo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},uD={bundleType:Mc.bundleType,version:Mc.version,rendererPackageName:Mc.rendererPackageName,rendererConfig:Mc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Hs.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=V_(t),t===null?null:t.stateNode},findFiberByHostInstance:Mc.findFiberByHostInstance||aD,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Rh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Rh.isDisabled&&Rh.supportsFiber)try{kp=Rh.inject(uD),ss=Rh}catch{}}ar.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=cD;ar.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!sx(e))throw Error(oe(200));return oD(t,e,null,n)};ar.createRoot=function(t,e){if(!sx(t))throw Error(oe(299));var n=!1,r="",s=yA;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=tx(t,1,!1,null,null,n,!1,r,s),t[Bs]=e.current,Cu(t.nodeType===8?t.parentNode:t),new rx(e)};ar.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(oe(188)):(t=Object.keys(t).join(","),Error(oe(268,t)));return t=V_(e),t=t===null?null:t.stateNode,t};ar.flushSync=function(t){return ea(t)};ar.hydrate=function(t,e,n){if(!zp(e))throw Error(oe(200));return Wp(null,t,e,!0,n)};ar.hydrateRoot=function(t,e,n){if(!sx(t))throw Error(oe(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=yA;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=gA(e,null,t,1,n??null,s,!1,i,o),t[Bs]=e.current,Cu(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new $p(e)};ar.render=function(t,e,n){if(!zp(e))throw Error(oe(200));return Wp(null,t,e,!1,n)};ar.unmountComponentAtNode=function(t){if(!zp(t))throw Error(oe(40));return t._reactRootContainer?(ea(function(){Wp(null,null,t,!1,function(){t._reactRootContainer=null,t[Bs]=null})}),!0):!1};ar.unstable_batchedUpdates=Jv;ar.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!zp(n))throw Error(oe(200));if(t==null||t._reactInternals===void 0)throw Error(oe(38));return Wp(t,e,n,!1,r)};ar.version="18.3.1-next-f1338f8080-20240426";function vA(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(vA)}catch(t){console.error(t)}}vA(),v_.exports=ar;var pa=v_.exports;const xA=uv(pa);var wA,uE=pa;wA=uE.createRoot,uE.hydrateRoot;const dD=1,hD=1e6;let Ng=0;function fD(){return Ng=(Ng+1)%Number.MAX_SAFE_INTEGER,Ng.toString()}const Pg=new Map,dE=t=>{if(Pg.has(t))return;const e=setTimeout(()=>{Pg.delete(t),ou({type:"REMOVE_TOAST",toastId:t})},hD);Pg.set(t,e)},pD=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,dD)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?dE(n):t.toasts.forEach(r=>{dE(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},sf=[];let of={toasts:[]};function ou(t){of=pD(of,t),sf.forEach(e=>{e(of)})}function lt({...t}){const e=fD(),n=s=>ou({type:"UPDATE_TOAST",toast:{...s,id:e}}),r=()=>ou({type:"DISMISS_TOAST",toastId:e});return ou({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:s=>{s||r()}}}),{id:e,dismiss:r,update:n}}function mD(){const[t,e]=g.useState(of);return g.useEffect(()=>(sf.push(e),()=>{const n=sf.indexOf(e);n>-1&&sf.splice(n,1)}),[t]),{...t,toast:lt,dismiss:n=>ou({type:"DISMISS_TOAST",toastId:n})}}function pe(t,e,{checkForDefaultPrevented:n=!0}={}){return function(s){if(t==null||t(s),n===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function gD(t,e){typeof t=="function"?t(e):t!=null&&(t.current=e)}function ix(...t){return e=>t.forEach(n=>gD(n,e))}function it(...t){return g.useCallback(ix(...t),t)}function yD(t,e=[]){let n=[];function r(i,o){const a=g.createContext(o),c=n.length;n=[...n,o];function u(p){const{scope:f,children:v,...x}=p,y=(f==null?void 0:f[t][c])||a,w=g.useMemo(()=>x,Object.values(x));return l.jsx(y.Provider,{value:w,children:v})}function h(p,f){const v=(f==null?void 0:f[t][c])||a,x=g.useContext(v);if(x)return x;if(o!==void 0)return o;throw new Error(`\`${p}\` must be used within \`${i}\``)}return u.displayName=i+"Provider",[u,h]}const s=()=>{const i=n.map(o=>g.createContext(o));return function(a){const c=(a==null?void 0:a[t])||i;return g.useMemo(()=>({[`__scope${t}`]:{...a,[t]:c}}),[a,c])}};return s.scopeName=t,[r,vD(s,...e)]}function vD(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:c,scopeName:u})=>{const p=c(i)[`__scope${u}`];return{...a,...p}},{});return g.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var ta=g.forwardRef((t,e)=>{const{children:n,...r}=t,s=g.Children.toArray(n),i=s.find(xD);if(i){const o=i.props.children,a=s.map(c=>c===i?g.Children.count(o)>1?g.Children.only(null):g.isValidElement(o)?o.props.children:null:c);return l.jsx(J0,{...r,ref:e,children:g.isValidElement(o)?g.cloneElement(o,void 0,a):null})}return l.jsx(J0,{...r,ref:e,children:n})});ta.displayName="Slot";var J0=g.forwardRef((t,e)=>{const{children:n,...r}=t;if(g.isValidElement(n)){const s=ED(n);return g.cloneElement(n,{...wD(r,n.props),ref:e?ix(e,s):s})}return g.Children.count(n)>1?g.Children.only(null):null});J0.displayName="SlotClone";var EA=({children:t})=>l.jsx(l.Fragment,{children:t});function xD(t){return g.isValidElement(t)&&t.type===EA}function wD(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...a)=>{i(...a),s(...a)}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function ED(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function od(t){const e=t+"CollectionProvider",[n,r]=yD(e),[s,i]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=v=>{const{scope:x,children:y}=v,w=Q.useRef(null),T=Q.useRef(new Map).current;return l.jsx(s,{scope:x,itemMap:T,collectionRef:w,children:y})};o.displayName=e;const a=t+"CollectionSlot",c=Q.forwardRef((v,x)=>{const{scope:y,children:w}=v,T=i(a,y),E=it(x,T.collectionRef);return l.jsx(ta,{ref:E,children:w})});c.displayName=a;const u=t+"CollectionItemSlot",h="data-radix-collection-item",p=Q.forwardRef((v,x)=>{const{scope:y,children:w,...T}=v,E=Q.useRef(null),b=it(x,E),R=i(u,y);return Q.useEffect(()=>(R.itemMap.set(E,{ref:E,...T}),()=>void R.itemMap.delete(E))),l.jsx(ta,{[h]:"",ref:b,children:w})});p.displayName=u;function f(v){const x=i(t+"CollectionConsumer",v);return Q.useCallback(()=>{const w=x.collectionRef.current;if(!w)return[];const T=Array.from(w.querySelectorAll(`[${h}]`));return Array.from(x.itemMap.values()).sort((R,j)=>T.indexOf(R.ref.current)-T.indexOf(j.ref.current))},[x.collectionRef,x.itemMap])}return[{Provider:o,Slot:c,ItemSlot:p},f,r]}function Kl(t,e=[]){let n=[];function r(i,o){const a=g.createContext(o),c=n.length;n=[...n,o];const u=p=>{var T;const{scope:f,children:v,...x}=p,y=((T=f==null?void 0:f[t])==null?void 0:T[c])||a,w=g.useMemo(()=>x,Object.values(x));return l.jsx(y.Provider,{value:w,children:v})};u.displayName=i+"Provider";function h(p,f){var y;const v=((y=f==null?void 0:f[t])==null?void 0:y[c])||a,x=g.useContext(v);if(x)return x;if(o!==void 0)return o;throw new Error(`\`${p}\` must be used within \`${i}\``)}return[u,h]}const s=()=>{const i=n.map(o=>g.createContext(o));return function(a){const c=(a==null?void 0:a[t])||i;return g.useMemo(()=>({[`__scope${t}`]:{...a,[t]:c}}),[a,c])}};return s.scopeName=t,[r,bD(s,...e)]}function bD(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:c,scopeName:u})=>{const p=c(i)[`__scope${u}`];return{...a,...p}},{});return g.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var CD=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],De=CD.reduce((t,e)=>{const n=g.forwardRef((r,s)=>{const{asChild:i,...o}=r,a=i?ta:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),l.jsx(a,{...o,ref:s})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function ox(t,e){t&&pa.flushSync(()=>t.dispatchEvent(e))}function cn(t){const e=g.useRef(t);return g.useEffect(()=>{e.current=t}),g.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function _D(t,e=globalThis==null?void 0:globalThis.document){const n=cn(t);g.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var TD="DismissableLayer",X0="dismissableLayer.update",AD="dismissableLayer.pointerDownOutside",SD="dismissableLayer.focusOutside",hE,bA=g.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),ad=g.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:a,...c}=t,u=g.useContext(bA),[h,p]=g.useState(null),f=(h==null?void 0:h.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,v]=g.useState({}),x=it(e,I=>p(I)),y=Array.from(u.layers),[w]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),T=y.indexOf(w),E=h?y.indexOf(h):-1,b=u.layersWithOutsidePointerEventsDisabled.size>0,R=E>=T,j=RD(I=>{const S=I.target,P=[...u.branches].some(k=>k.contains(S));!R||P||(s==null||s(I),o==null||o(I),I.defaultPrevented||a==null||a())},f),V=ND(I=>{const S=I.target;[...u.branches].some(k=>k.contains(S))||(i==null||i(I),o==null||o(I),I.defaultPrevented||a==null||a())},f);return _D(I=>{E===u.layers.size-1&&(r==null||r(I),!I.defaultPrevented&&a&&(I.preventDefault(),a()))},f),g.useEffect(()=>{if(h)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(hE=f.body.style.pointerEvents,f.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(h)),u.layers.add(h),fE(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(f.body.style.pointerEvents=hE)}},[h,f,n,u]),g.useEffect(()=>()=>{h&&(u.layers.delete(h),u.layersWithOutsidePointerEventsDisabled.delete(h),fE())},[h,u]),g.useEffect(()=>{const I=()=>v({});return document.addEventListener(X0,I),()=>document.removeEventListener(X0,I)},[]),l.jsx(De.div,{...c,ref:x,style:{pointerEvents:b?R?"auto":"none":void 0,...t.style},onFocusCapture:pe(t.onFocusCapture,V.onFocusCapture),onBlurCapture:pe(t.onBlurCapture,V.onBlurCapture),onPointerDownCapture:pe(t.onPointerDownCapture,j.onPointerDownCapture)})});ad.displayName=TD;var ID="DismissableLayerBranch",CA=g.forwardRef((t,e)=>{const n=g.useContext(bA),r=g.useRef(null),s=it(e,r);return g.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),l.jsx(De.div,{...t,ref:s})});CA.displayName=ID;function RD(t,e=globalThis==null?void 0:globalThis.document){const n=cn(t),r=g.useRef(!1),s=g.useRef(()=>{});return g.useEffect(()=>{const i=a=>{if(a.target&&!r.current){let c=function(){_A(AD,n,u,{discrete:!0})};const u={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=c,e.addEventListener("click",s.current,{once:!0})):c()}else e.removeEventListener("click",s.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function ND(t,e=globalThis==null?void 0:globalThis.document){const n=cn(t),r=g.useRef(!1);return g.useEffect(()=>{const s=i=>{i.target&&!r.current&&_A(SD,n,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function fE(){const t=new CustomEvent(X0);document.dispatchEvent(t)}function _A(t,e,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?ox(s,i):s.dispatchEvent(i)}var PD=ad,kD=CA,en=globalThis!=null&&globalThis.document?g.useLayoutEffect:()=>{},MD="Portal",Qp=g.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[s,i]=g.useState(!1);en(()=>i(!0),[]);const o=n||s&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?xA.createPortal(l.jsx(De.div,{...r,ref:e}),o):null});Qp.displayName=MD;function jD(t,e){return g.useReducer((n,r)=>e[n][r]??n,t)}var ma=t=>{const{present:e,children:n}=t,r=DD(e),s=typeof n=="function"?n({present:r.isPresent}):g.Children.only(n),i=it(r.ref,OD(s));return typeof n=="function"||r.isPresent?g.cloneElement(s,{ref:i}):null};ma.displayName="Presence";function DD(t){const[e,n]=g.useState(),r=g.useRef({}),s=g.useRef(t),i=g.useRef("none"),o=t?"mounted":"unmounted",[a,c]=jD(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return g.useEffect(()=>{const u=Nh(r.current);i.current=a==="mounted"?u:"none"},[a]),en(()=>{const u=r.current,h=s.current;if(h!==t){const f=i.current,v=Nh(u);t?c("MOUNT"):v==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(h&&f!==v?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,c]),en(()=>{if(e){let u;const h=e.ownerDocument.defaultView??window,p=v=>{const y=Nh(r.current).includes(v.animationName);if(v.target===e&&y&&(c("ANIMATION_END"),!s.current)){const w=e.style.animationFillMode;e.style.animationFillMode="forwards",u=h.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=w)})}},f=v=>{v.target===e&&(i.current=Nh(r.current))};return e.addEventListener("animationstart",f),e.addEventListener("animationcancel",p),e.addEventListener("animationend",p),()=>{h.clearTimeout(u),e.removeEventListener("animationstart",f),e.removeEventListener("animationcancel",p),e.removeEventListener("animationend",p)}}else c("ANIMATION_END")},[e,c]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:g.useCallback(u=>{u&&(r.current=getComputedStyle(u)),n(u)},[])}}function Nh(t){return(t==null?void 0:t.animationName)||"none"}function OD(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function ku({prop:t,defaultProp:e,onChange:n=()=>{}}){const[r,s]=LD({defaultProp:e,onChange:n}),i=t!==void 0,o=i?t:r,a=cn(n),c=g.useCallback(u=>{if(i){const p=typeof u=="function"?u(t):u;p!==t&&a(p)}else s(u)},[i,t,s,a]);return[o,c]}function LD({defaultProp:t,onChange:e}){const n=g.useState(t),[r]=n,s=g.useRef(r),i=cn(e);return g.useEffect(()=>{s.current!==r&&(i(r),s.current=r)},[r,s,i]),n}var FD="VisuallyHidden",ld=g.forwardRef((t,e)=>l.jsx(De.span,{...t,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}));ld.displayName=FD;var VD=ld,ax="ToastProvider",[lx,BD,UD]=od("Toast"),[TA,OQ]=Kl("Toast",[UD]),[qD,Yp]=TA(ax),AA=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:s="right",swipeThreshold:i=50,children:o}=t,[a,c]=g.useState(null),[u,h]=g.useState(0),p=g.useRef(!1),f=g.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${ax}\`. Expected non-empty \`string\`.`),l.jsx(lx.Provider,{scope:e,children:l.jsx(qD,{scope:e,label:n,duration:r,swipeDirection:s,swipeThreshold:i,toastCount:u,viewport:a,onViewportChange:c,onToastAdd:g.useCallback(()=>h(v=>v+1),[]),onToastRemove:g.useCallback(()=>h(v=>v-1),[]),isFocusedToastEscapeKeyDownRef:p,isClosePausedRef:f,children:o})})};AA.displayName=ax;var SA="ToastViewport",GD=["F8"],Z0="toast.viewportPause",ey="toast.viewportResume",IA=g.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=GD,label:s="Notifications ({hotkey})",...i}=t,o=Yp(SA,n),a=BD(n),c=g.useRef(null),u=g.useRef(null),h=g.useRef(null),p=g.useRef(null),f=it(e,p,o.onViewportChange),v=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),x=o.toastCount>0;g.useEffect(()=>{const w=T=>{var b;r.length!==0&&r.every(R=>T[R]||T.code===R)&&((b=p.current)==null||b.focus())};return document.addEventListener("keydown",w),()=>document.removeEventListener("keydown",w)},[r]),g.useEffect(()=>{const w=c.current,T=p.current;if(x&&w&&T){const E=()=>{if(!o.isClosePausedRef.current){const V=new CustomEvent(Z0);T.dispatchEvent(V),o.isClosePausedRef.current=!0}},b=()=>{if(o.isClosePausedRef.current){const V=new CustomEvent(ey);T.dispatchEvent(V),o.isClosePausedRef.current=!1}},R=V=>{!w.contains(V.relatedTarget)&&b()},j=()=>{w.contains(document.activeElement)||b()};return w.addEventListener("focusin",E),w.addEventListener("focusout",R),w.addEventListener("pointermove",E),w.addEventListener("pointerleave",j),window.addEventListener("blur",E),window.addEventListener("focus",b),()=>{w.removeEventListener("focusin",E),w.removeEventListener("focusout",R),w.removeEventListener("pointermove",E),w.removeEventListener("pointerleave",j),window.removeEventListener("blur",E),window.removeEventListener("focus",b)}}},[x,o.isClosePausedRef]);const y=g.useCallback(({tabbingDirection:w})=>{const E=a().map(b=>{const R=b.ref.current,j=[R,...nO(R)];return w==="forwards"?j:j.reverse()});return(w==="forwards"?E.reverse():E).flat()},[a]);return g.useEffect(()=>{const w=p.current;if(w){const T=E=>{var j,V,I;const b=E.altKey||E.ctrlKey||E.metaKey;if(E.key==="Tab"&&!b){const S=document.activeElement,P=E.shiftKey;if(E.target===w&&P){(j=u.current)==null||j.focus();return}const L=y({tabbingDirection:P?"backwards":"forwards"}),D=L.findIndex(X=>X===S);kg(L.slice(D+1))?E.preventDefault():P?(V=u.current)==null||V.focus():(I=h.current)==null||I.focus()}};return w.addEventListener("keydown",T),()=>w.removeEventListener("keydown",T)}},[a,y]),l.jsxs(kD,{ref:c,role:"region","aria-label":s.replace("{hotkey}",v),tabIndex:-1,style:{pointerEvents:x?void 0:"none"},children:[x&&l.jsx(ty,{ref:u,onFocusFromOutsideViewport:()=>{const w=y({tabbingDirection:"forwards"});kg(w)}}),l.jsx(lx.Slot,{scope:n,children:l.jsx(De.ol,{tabIndex:-1,...i,ref:f})}),x&&l.jsx(ty,{ref:h,onFocusFromOutsideViewport:()=>{const w=y({tabbingDirection:"backwards"});kg(w)}})]})});IA.displayName=SA;var RA="ToastFocusProxy",ty=g.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...s}=t,i=Yp(RA,n);return l.jsx(ld,{"aria-hidden":!0,tabIndex:0,...s,ref:e,style:{position:"fixed"},onFocus:o=>{var u;const a=o.relatedTarget;!((u=i.viewport)!=null&&u.contains(a))&&r()}})});ty.displayName=RA;var Kp="Toast",$D="toast.swipeStart",zD="toast.swipeMove",WD="toast.swipeCancel",QD="toast.swipeEnd",NA=g.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:s,onOpenChange:i,...o}=t,[a=!0,c]=ku({prop:r,defaultProp:s,onChange:i});return l.jsx(ma,{present:n||a,children:l.jsx(HD,{open:a,...o,ref:e,onClose:()=>c(!1),onPause:cn(t.onPause),onResume:cn(t.onResume),onSwipeStart:pe(t.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:pe(t.onSwipeMove,u=>{const{x:h,y:p}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${h}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${p}px`)}),onSwipeCancel:pe(t.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:pe(t.onSwipeEnd,u=>{const{x:h,y:p}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${h}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${p}px`),c(!1)})})})});NA.displayName=Kp;var[YD,KD]=TA(Kp,{onClose(){}}),HD=g.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:s,open:i,onClose:o,onEscapeKeyDown:a,onPause:c,onResume:u,onSwipeStart:h,onSwipeMove:p,onSwipeCancel:f,onSwipeEnd:v,...x}=t,y=Yp(Kp,n),[w,T]=g.useState(null),E=it(e,X=>T(X)),b=g.useRef(null),R=g.useRef(null),j=s||y.duration,V=g.useRef(0),I=g.useRef(j),S=g.useRef(0),{onToastAdd:P,onToastRemove:k}=y,O=cn(()=>{var re;(w==null?void 0:w.contains(document.activeElement))&&((re=y.viewport)==null||re.focus()),o()}),L=g.useCallback(X=>{!X||X===1/0||(window.clearTimeout(S.current),V.current=new Date().getTime(),S.current=window.setTimeout(O,X))},[O]);g.useEffect(()=>{const X=y.viewport;if(X){const re=()=>{L(I.current),u==null||u()},se=()=>{const ue=new Date().getTime()-V.current;I.current=I.current-ue,window.clearTimeout(S.current),c==null||c()};return X.addEventListener(Z0,se),X.addEventListener(ey,re),()=>{X.removeEventListener(Z0,se),X.removeEventListener(ey,re)}}},[y.viewport,j,c,u,L]),g.useEffect(()=>{i&&!y.isClosePausedRef.current&&L(j)},[i,j,y.isClosePausedRef,L]),g.useEffect(()=>(P(),()=>k()),[P,k]);const D=g.useMemo(()=>w?LA(w):null,[w]);return y.viewport?l.jsxs(l.Fragment,{children:[D&&l.jsx(JD,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:D}),l.jsx(YD,{scope:n,onClose:O,children:pa.createPortal(l.jsx(lx.ItemSlot,{scope:n,children:l.jsx(PD,{asChild:!0,onEscapeKeyDown:pe(a,()=>{y.isFocusedToastEscapeKeyDownRef.current||O(),y.isFocusedToastEscapeKeyDownRef.current=!1}),children:l.jsx(De.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":y.swipeDirection,...x,ref:E,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:pe(t.onKeyDown,X=>{X.key==="Escape"&&(a==null||a(X.nativeEvent),X.nativeEvent.defaultPrevented||(y.isFocusedToastEscapeKeyDownRef.current=!0,O()))}),onPointerDown:pe(t.onPointerDown,X=>{X.button===0&&(b.current={x:X.clientX,y:X.clientY})}),onPointerMove:pe(t.onPointerMove,X=>{if(!b.current)return;const re=X.clientX-b.current.x,se=X.clientY-b.current.y,ue=!!R.current,q=["left","right"].includes(y.swipeDirection),z=["left","up"].includes(y.swipeDirection)?Math.min:Math.max,Z=q?z(0,re):0,te=q?0:z(0,se),ae=X.pointerType==="touch"?10:2,le={x:Z,y:te},Se={originalEvent:X,delta:le};ue?(R.current=le,Ph(zD,p,Se,{discrete:!1})):pE(le,y.swipeDirection,ae)?(R.current=le,Ph($D,h,Se,{discrete:!1}),X.target.setPointerCapture(X.pointerId)):(Math.abs(re)>ae||Math.abs(se)>ae)&&(b.current=null)}),onPointerUp:pe(t.onPointerUp,X=>{const re=R.current,se=X.target;if(se.hasPointerCapture(X.pointerId)&&se.releasePointerCapture(X.pointerId),R.current=null,b.current=null,re){const ue=X.currentTarget,q={originalEvent:X,delta:re};pE(re,y.swipeDirection,y.swipeThreshold)?Ph(QD,v,q,{discrete:!0}):Ph(WD,f,q,{discrete:!0}),ue.addEventListener("click",z=>z.preventDefault(),{once:!0})}})})})}),y.viewport)})]}):null}),JD=t=>{const{__scopeToast:e,children:n,...r}=t,s=Yp(Kp,e),[i,o]=g.useState(!1),[a,c]=g.useState(!1);return eO(()=>o(!0)),g.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),a?null:l.jsx(Qp,{asChild:!0,children:l.jsx(ld,{...r,children:i&&l.jsxs(l.Fragment,{children:[s.label," ",n]})})})},XD="ToastTitle",PA=g.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return l.jsx(De.div,{...r,ref:e})});PA.displayName=XD;var ZD="ToastDescription",kA=g.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return l.jsx(De.div,{...r,ref:e})});kA.displayName=ZD;var MA="ToastAction",jA=g.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?l.jsx(OA,{altText:n,asChild:!0,children:l.jsx(cx,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${MA}\`. Expected non-empty \`string\`.`),null)});jA.displayName=MA;var DA="ToastClose",cx=g.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,s=KD(DA,n);return l.jsx(OA,{asChild:!0,children:l.jsx(De.button,{type:"button",...r,ref:e,onClick:pe(t.onClick,s.onClose)})})});cx.displayName=DA;var OA=g.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...s}=t;return l.jsx(De.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...s,ref:e})});function LA(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),tO(r)){const s=r.ariaHidden||r.hidden||r.style.display==="none",i=r.dataset.radixToastAnnounceExclude==="";if(!s)if(i){const o=r.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...LA(r))}}),e}function Ph(t,e,n,{discrete:r}){const s=n.originalEvent.currentTarget,i=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?ox(s,i):s.dispatchEvent(i)}var pE=(t,e,n=0)=>{const r=Math.abs(t.x),s=Math.abs(t.y),i=r>s;return e==="left"||e==="right"?i&&r>n:!i&&s>n};function eO(t=()=>{}){const e=cn(t);en(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function tO(t){return t.nodeType===t.ELEMENT_NODE}function nO(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function kg(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var rO=AA,FA=IA,VA=NA,BA=PA,UA=kA,qA=jA,GA=cx;function $A(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=$A(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function zA(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=$A(t))&&(r&&(r+=" "),r+=e);return r}const mE=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,gE=zA,ux=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return gE(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:i}=e,o=Object.keys(s).map(u=>{const h=n==null?void 0:n[u],p=i==null?void 0:i[u];if(h===null)return null;const f=mE(h)||mE(p);return s[u][f]}),a=n&&Object.entries(n).reduce((u,h)=>{let[p,f]=h;return f===void 0||(u[p]=f),u},{}),c=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((u,h)=>{let{class:p,className:f,...v}=h;return Object.entries(v).every(x=>{let[y,w]=x;return Array.isArray(w)?w.includes({...i,...a}[y]):{...i,...a}[y]===w})?[...u,p,f]:u},[]);return gE(t,o,c,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sO=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),WA=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var iO={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oO=g.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:o,...a},c)=>g.createElement("svg",{ref:c,...iO,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:WA("lucide",s),...a},[...o.map(([u,h])=>g.createElement(u,h)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ze=(t,e)=>{const n=g.forwardRef(({className:r,...s},i)=>g.createElement(oO,{ref:i,iconNode:e,className:WA(`lucide-${sO(t)}`,r),...s}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QA=ze("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hl=ze("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aO=ze("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YA=ze("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KA=ze("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HA=ze("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lO=ze("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cO=ze("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const af=ze("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uO=ze("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dx=ze("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ny=ze("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hx=ze("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hi=ze("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dO=ze("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hO=ze("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fx=ze("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JA=ze("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fO=ze("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pO=ze("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XA=ze("QrCode",[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mO=ze("ScanLine",[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}],["path",{d:"M7 12h10",key:"b7w52i"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gO=ze("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const px=ze("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZA=ze("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yO=ze("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eS=ze("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hp=ze("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tS=ze("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vO=ze("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jp=ze("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xO=ze("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ry=ze("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const na=ze("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mu=ze("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wO=ze("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),mx="-",EO=t=>{const e=CO(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const a=o.split(mx);return a[0]===""&&a.length!==1&&a.shift(),nS(a,e)||bO(o)},getConflictingClassGroupIds:(o,a)=>{const c=n[o]||[];return a&&r[o]?[...c,...r[o]]:c}}},nS=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),s=r?nS(t.slice(1),r):void 0;if(s)return s;if(e.validators.length===0)return;const i=t.join(mx);return(o=e.validators.find(({validator:a})=>a(i)))==null?void 0:o.classGroupId},yE=/^\[(.+)\]$/,bO=t=>{if(yE.test(t)){const e=yE.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},CO=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return TO(Object.entries(t.classGroups),n).forEach(([i,o])=>{sy(o,r,i,e)}),r},sy=(t,e,n,r)=>{t.forEach(s=>{if(typeof s=="string"){const i=s===""?e:vE(e,s);i.classGroupId=n;return}if(typeof s=="function"){if(_O(s)){sy(s(r),e,n,r);return}e.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([i,o])=>{sy(o,vE(e,i),n,r)})})},vE=(t,e)=>{let n=t;return e.split(mx).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},_O=t=>t.isThemeGetter,TO=(t,e)=>e?t.map(([n,r])=>{const s=r.map(i=>typeof i=="string"?e+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,a])=>[e+o,a])):i);return[n,s]}):t,AO=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const s=(i,o)=>{n.set(i,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(i){let o=n.get(i);if(o!==void 0)return o;if((o=r.get(i))!==void 0)return s(i,o),o},set(i,o){n.has(i)?n.set(i,o):s(i,o)}}},rS="!",SO=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,s=e[0],i=e.length,o=a=>{const c=[];let u=0,h=0,p;for(let w=0;w<a.length;w++){let T=a[w];if(u===0){if(T===s&&(r||a.slice(w,w+i)===e)){c.push(a.slice(h,w)),h=w+i;continue}if(T==="/"){p=w;continue}}T==="["?u++:T==="]"&&u--}const f=c.length===0?a:a.substring(h),v=f.startsWith(rS),x=v?f.substring(1):f,y=p&&p>h?p-h:void 0;return{modifiers:c,hasImportantModifier:v,baseClassName:x,maybePostfixModifierPosition:y}};return n?a=>n({className:a,parseClassName:o}):o},IO=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},RO=t=>({cache:AO(t.cacheSize),parseClassName:SO(t),...EO(t)}),NO=/\s+/,PO=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=e,i=[],o=t.trim().split(NO);let a="";for(let c=o.length-1;c>=0;c-=1){const u=o[c],{modifiers:h,hasImportantModifier:p,baseClassName:f,maybePostfixModifierPosition:v}=n(u);let x=!!v,y=r(x?f.substring(0,v):f);if(!y){if(!x){a=u+(a.length>0?" "+a:a);continue}if(y=r(f),!y){a=u+(a.length>0?" "+a:a);continue}x=!1}const w=IO(h).join(":"),T=p?w+rS:w,E=T+y;if(i.includes(E))continue;i.push(E);const b=s(y,x);for(let R=0;R<b.length;++R){const j=b[R];i.push(T+j)}a=u+(a.length>0?" "+a:a)}return a};function kO(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=sS(e))&&(r&&(r+=" "),r+=n);return r}const sS=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=sS(t[r]))&&(n&&(n+=" "),n+=e);return n};function MO(t,...e){let n,r,s,i=o;function o(c){const u=e.reduce((h,p)=>p(h),t());return n=RO(u),r=n.cache.get,s=n.cache.set,i=a,a(c)}function a(c){const u=r(c);if(u)return u;const h=PO(c,n);return s(c,h),h}return function(){return i(kO.apply(null,arguments))}}const ht=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},iS=/^\[(?:([a-z-]+):)?(.+)\]$/i,jO=/^\d+\/\d+$/,DO=new Set(["px","full","screen"]),OO=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,LO=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,FO=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,VO=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,BO=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Is=t=>fl(t)||DO.has(t)||jO.test(t),ui=t=>Jl(t,"length",YO),fl=t=>!!t&&!Number.isNaN(Number(t)),Mg=t=>Jl(t,"number",fl),jc=t=>!!t&&Number.isInteger(Number(t)),UO=t=>t.endsWith("%")&&fl(t.slice(0,-1)),Me=t=>iS.test(t),di=t=>OO.test(t),qO=new Set(["length","size","percentage"]),GO=t=>Jl(t,qO,oS),$O=t=>Jl(t,"position",oS),zO=new Set(["image","url"]),WO=t=>Jl(t,zO,HO),QO=t=>Jl(t,"",KO),Dc=()=>!0,Jl=(t,e,n)=>{const r=iS.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},YO=t=>LO.test(t)&&!FO.test(t),oS=()=>!1,KO=t=>VO.test(t),HO=t=>BO.test(t),JO=()=>{const t=ht("colors"),e=ht("spacing"),n=ht("blur"),r=ht("brightness"),s=ht("borderColor"),i=ht("borderRadius"),o=ht("borderSpacing"),a=ht("borderWidth"),c=ht("contrast"),u=ht("grayscale"),h=ht("hueRotate"),p=ht("invert"),f=ht("gap"),v=ht("gradientColorStops"),x=ht("gradientColorStopPositions"),y=ht("inset"),w=ht("margin"),T=ht("opacity"),E=ht("padding"),b=ht("saturate"),R=ht("scale"),j=ht("sepia"),V=ht("skew"),I=ht("space"),S=ht("translate"),P=()=>["auto","contain","none"],k=()=>["auto","hidden","clip","visible","scroll"],O=()=>["auto",Me,e],L=()=>[Me,e],D=()=>["",Is,ui],X=()=>["auto",fl,Me],re=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],se=()=>["solid","dashed","dotted","double","none"],ue=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],q=()=>["start","end","center","between","around","evenly","stretch"],z=()=>["","0",Me],Z=()=>["auto","avoid","all","avoid-page","page","left","right","column"],te=()=>[fl,Me];return{cacheSize:500,separator:":",theme:{colors:[Dc],spacing:[Is,ui],blur:["none","",di,Me],brightness:te(),borderColor:[t],borderRadius:["none","","full",di,Me],borderSpacing:L(),borderWidth:D(),contrast:te(),grayscale:z(),hueRotate:te(),invert:z(),gap:L(),gradientColorStops:[t],gradientColorStopPositions:[UO,ui],inset:O(),margin:O(),opacity:te(),padding:L(),saturate:te(),scale:te(),sepia:z(),skew:te(),space:L(),translate:L()},classGroups:{aspect:[{aspect:["auto","square","video",Me]}],container:["container"],columns:[{columns:[di]}],"break-after":[{"break-after":Z()}],"break-before":[{"break-before":Z()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...re(),Me]}],overflow:[{overflow:k()}],"overflow-x":[{"overflow-x":k()}],"overflow-y":[{"overflow-y":k()}],overscroll:[{overscroll:P()}],"overscroll-x":[{"overscroll-x":P()}],"overscroll-y":[{"overscroll-y":P()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[y]}],"inset-x":[{"inset-x":[y]}],"inset-y":[{"inset-y":[y]}],start:[{start:[y]}],end:[{end:[y]}],top:[{top:[y]}],right:[{right:[y]}],bottom:[{bottom:[y]}],left:[{left:[y]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",jc,Me]}],basis:[{basis:O()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Me]}],grow:[{grow:z()}],shrink:[{shrink:z()}],order:[{order:["first","last","none",jc,Me]}],"grid-cols":[{"grid-cols":[Dc]}],"col-start-end":[{col:["auto",{span:["full",jc,Me]},Me]}],"col-start":[{"col-start":X()}],"col-end":[{"col-end":X()}],"grid-rows":[{"grid-rows":[Dc]}],"row-start-end":[{row:["auto",{span:[jc,Me]},Me]}],"row-start":[{"row-start":X()}],"row-end":[{"row-end":X()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Me]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Me]}],gap:[{gap:[f]}],"gap-x":[{"gap-x":[f]}],"gap-y":[{"gap-y":[f]}],"justify-content":[{justify:["normal",...q()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...q(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...q(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[E]}],px:[{px:[E]}],py:[{py:[E]}],ps:[{ps:[E]}],pe:[{pe:[E]}],pt:[{pt:[E]}],pr:[{pr:[E]}],pb:[{pb:[E]}],pl:[{pl:[E]}],m:[{m:[w]}],mx:[{mx:[w]}],my:[{my:[w]}],ms:[{ms:[w]}],me:[{me:[w]}],mt:[{mt:[w]}],mr:[{mr:[w]}],mb:[{mb:[w]}],ml:[{ml:[w]}],"space-x":[{"space-x":[I]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[I]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Me,e]}],"min-w":[{"min-w":[Me,e,"min","max","fit"]}],"max-w":[{"max-w":[Me,e,"none","full","min","max","fit","prose",{screen:[di]},di]}],h:[{h:[Me,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Me,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Me,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Me,e,"auto","min","max","fit"]}],"font-size":[{text:["base",di,ui]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Mg]}],"font-family":[{font:[Dc]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Me]}],"line-clamp":[{"line-clamp":["none",fl,Mg]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Is,Me]}],"list-image":[{"list-image":["none",Me]}],"list-style-type":[{list:["none","disc","decimal",Me]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[T]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[T]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...se(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Is,ui]}],"underline-offset":[{"underline-offset":["auto",Is,Me]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:L()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Me]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Me]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[T]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...re(),$O]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",GO]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},WO]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[x]}],"gradient-via-pos":[{via:[x]}],"gradient-to-pos":[{to:[x]}],"gradient-from":[{from:[v]}],"gradient-via":[{via:[v]}],"gradient-to":[{to:[v]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[T]}],"border-style":[{border:[...se(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[T]}],"divide-style":[{divide:se()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...se()]}],"outline-offset":[{"outline-offset":[Is,Me]}],"outline-w":[{outline:[Is,ui]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:D()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[T]}],"ring-offset-w":[{"ring-offset":[Is,ui]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",di,QO]}],"shadow-color":[{shadow:[Dc]}],opacity:[{opacity:[T]}],"mix-blend":[{"mix-blend":[...ue(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":ue()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",di,Me]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[h]}],invert:[{invert:[p]}],saturate:[{saturate:[b]}],sepia:[{sepia:[j]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[h]}],"backdrop-invert":[{"backdrop-invert":[p]}],"backdrop-opacity":[{"backdrop-opacity":[T]}],"backdrop-saturate":[{"backdrop-saturate":[b]}],"backdrop-sepia":[{"backdrop-sepia":[j]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Me]}],duration:[{duration:te()}],ease:[{ease:["linear","in","out","in-out",Me]}],delay:[{delay:te()}],animate:[{animate:["none","spin","ping","pulse","bounce",Me]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[R]}],"scale-x":[{"scale-x":[R]}],"scale-y":[{"scale-y":[R]}],rotate:[{rotate:[jc,Me]}],"translate-x":[{"translate-x":[S]}],"translate-y":[{"translate-y":[S]}],"skew-x":[{"skew-x":[V]}],"skew-y":[{"skew-y":[V]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Me]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Me]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":L()}],"scroll-mx":[{"scroll-mx":L()}],"scroll-my":[{"scroll-my":L()}],"scroll-ms":[{"scroll-ms":L()}],"scroll-me":[{"scroll-me":L()}],"scroll-mt":[{"scroll-mt":L()}],"scroll-mr":[{"scroll-mr":L()}],"scroll-mb":[{"scroll-mb":L()}],"scroll-ml":[{"scroll-ml":L()}],"scroll-p":[{"scroll-p":L()}],"scroll-px":[{"scroll-px":L()}],"scroll-py":[{"scroll-py":L()}],"scroll-ps":[{"scroll-ps":L()}],"scroll-pe":[{"scroll-pe":L()}],"scroll-pt":[{"scroll-pt":L()}],"scroll-pr":[{"scroll-pr":L()}],"scroll-pb":[{"scroll-pb":L()}],"scroll-pl":[{"scroll-pl":L()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Me]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Is,ui,Mg]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},XO=MO(JO),ZO=()=>{};var xE={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aS=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},eL=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],a=t[n++],c=((s&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},lS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,a=o?t[s+1]:0,c=s+2<t.length,u=c?t[s+2]:0,h=i>>2,p=(i&3)<<4|a>>4;let f=(a&15)<<2|u>>6,v=u&63;c||(v=64,o||(f=64)),r.push(n[h],n[p],n[f],n[v])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(aS(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):eL(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],a=s<t.length?n[t.charAt(s)]:0;++s;const u=s<t.length?n[t.charAt(s)]:64;++s;const p=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||a==null||u==null||p==null)throw new tL;const f=i<<2|a>>4;if(r.push(f),u!==64){const v=a<<4&240|u>>2;if(r.push(v),p!==64){const x=u<<6&192|p;r.push(x)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class tL extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const nL=function(t){const e=aS(t);return lS.encodeByteArray(e,!0)},Zf=function(t){return nL(t).replace(/\./g,"")},cS=function(t){try{return lS.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rL(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sL=()=>rL().__FIREBASE_DEFAULTS__,iL=()=>{if(typeof process>"u"||typeof xE>"u")return;const t=xE.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},oL=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&cS(t[1]);return e&&JSON.parse(e)},Xp=()=>{try{return ZO()||sL()||iL()||oL()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},uS=t=>{var e,n;return(n=(e=Xp())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},aL=t=>{const e=uS(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},dS=()=>{var t;return(t=Xp())===null||t===void 0?void 0:t.config},hS=t=>{var e;return(e=Xp())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lL{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xl(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function fS(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cL(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Zf(JSON.stringify(n)),Zf(JSON.stringify(o)),""].join(".")}const au={};function uL(){const t={prod:[],emulator:[]};for(const e of Object.keys(au))au[e]?t.emulator.push(e):t.prod.push(e);return t}function dL(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let wE=!1;function pS(t,e){if(typeof window>"u"||typeof document>"u"||!Xl(window.location.host)||au[t]===e||au[t]||wE)return;au[t]=e;function n(f){return`__firebase__banner__${f}`}const r="__firebase__banner",i=uL().prod.length>0;function o(){const f=document.getElementById(r);f&&f.remove()}function a(f){f.style.display="flex",f.style.background="#7faaf0",f.style.position="fixed",f.style.bottom="5px",f.style.left="5px",f.style.padding=".5em",f.style.borderRadius="5px",f.style.alignItems="center"}function c(f,v){f.setAttribute("width","24"),f.setAttribute("id",v),f.setAttribute("height","24"),f.setAttribute("viewBox","0 0 24 24"),f.setAttribute("fill","none"),f.style.marginLeft="-6px"}function u(){const f=document.createElement("span");return f.style.cursor="pointer",f.style.marginLeft="16px",f.style.fontSize="24px",f.innerHTML=" &times;",f.onclick=()=>{wE=!0,o()},f}function h(f,v){f.setAttribute("id",v),f.innerText="Learn more",f.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",f.setAttribute("target","__blank"),f.style.paddingLeft="5px",f.style.textDecoration="underline"}function p(){const f=dL(r),v=n("text"),x=document.getElementById(v)||document.createElement("span"),y=n("learnmore"),w=document.getElementById(y)||document.createElement("a"),T=n("preprendIcon"),E=document.getElementById(T)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(f.created){const b=f.element;a(b),h(w,y);const R=u();c(E,T),b.append(E,x,w,R),document.body.appendChild(b)}i?(x.innerText="Preview backend disconnected.",E.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(E.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,x.innerText="Preview backend running in this workspace."),x.setAttribute("id",v)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",p):p()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function hL(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Cn())}function fL(){var t;const e=(t=Xp())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function pL(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function mL(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function gL(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function yL(){const t=Cn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function vL(){return!fL()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function xL(){try{return typeof indexedDB=="object"}catch{return!1}}function wL(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)===null||i===void 0?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EL="FirebaseError";class Js extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=EL,Object.setPrototypeOf(this,Js.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,cd.prototype.create)}}class cd{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?bL(i,r):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new Js(s,a,r)}}function bL(t,e){return t.replace(CL,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const CL=/\{\$([^}]+)}/g;function _L(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function ra(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(EE(i)&&EE(o)){if(!ra(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function EE(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ud(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Uc(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,i]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(i)}}),e}function qc(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function TL(t,e){const n=new AL(t,e);return n.subscribe.bind(n)}class AL{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");SL(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=jg),s.error===void 0&&(s.error=jg),s.complete===void 0&&(s.complete=jg);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function SL(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function jg(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ut(t){return t&&t._delegate?t._delegate:t}class sa{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Do="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let IL=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new lL;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(NL(e))try{this.getOrInitializeService({instanceIdentifier:Do})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=Do){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Do){return this.instances.has(e)}getOptions(e=Do){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);r===a&&o.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),i=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;i.add(e),this.onInitCallbacks.set(s,i);const o=this.instances.get(s);return o&&e(o,s),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:RL(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Do){return this.component?this.component.multipleInstances?e:Do:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function RL(t){return t===Do?void 0:t}function NL(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PL{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new IL(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qe;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(qe||(qe={}));const kL={debug:qe.DEBUG,verbose:qe.VERBOSE,info:qe.INFO,warn:qe.WARN,error:qe.ERROR,silent:qe.SILENT},ML=qe.INFO,jL={[qe.DEBUG]:"log",[qe.VERBOSE]:"log",[qe.INFO]:"info",[qe.WARN]:"warn",[qe.ERROR]:"error"},DL=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=jL[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class gx{constructor(e){this.name=e,this._logLevel=ML,this._logHandler=DL,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in qe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?kL[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,qe.DEBUG,...e),this._logHandler(this,qe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,qe.VERBOSE,...e),this._logHandler(this,qe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,qe.INFO,...e),this._logHandler(this,qe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,qe.WARN,...e),this._logHandler(this,qe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,qe.ERROR,...e),this._logHandler(this,qe.ERROR,...e)}}const OL=(t,e)=>e.some(n=>t instanceof n);let bE,CE;function LL(){return bE||(bE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function FL(){return CE||(CE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const mS=new WeakMap,iy=new WeakMap,gS=new WeakMap,Dg=new WeakMap,yx=new WeakMap;function VL(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(qi(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&mS.set(n,t)}).catch(()=>{}),yx.set(e,t),e}function BL(t){if(iy.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});iy.set(t,e)}let oy={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return iy.get(t);if(e==="objectStoreNames")return t.objectStoreNames||gS.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return qi(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function UL(t){oy=t(oy)}function qL(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Og(this),e,...n);return gS.set(r,e.sort?e.sort():[e]),qi(r)}:FL().includes(t)?function(...e){return t.apply(Og(this),e),qi(mS.get(this))}:function(...e){return qi(t.apply(Og(this),e))}}function GL(t){return typeof t=="function"?qL(t):(t instanceof IDBTransaction&&BL(t),OL(t,LL())?new Proxy(t,oy):t)}function qi(t){if(t instanceof IDBRequest)return VL(t);if(Dg.has(t))return Dg.get(t);const e=GL(t);return e!==t&&(Dg.set(t,e),yx.set(e,t)),e}const Og=t=>yx.get(t);function $L(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),a=qi(o);return r&&o.addEventListener("upgradeneeded",c=>{r(qi(o.result),c.oldVersion,c.newVersion,qi(o.transaction),c)}),n&&o.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),a.then(c=>{i&&c.addEventListener("close",()=>i()),s&&c.addEventListener("versionchange",u=>s(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const zL=["get","getKey","getAll","getAllKeys","count"],WL=["put","add","delete","clear"],Lg=new Map;function _E(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Lg.get(e))return Lg.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=WL.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||zL.includes(n)))return;const i=async function(o,...a){const c=this.transaction(o,s?"readwrite":"readonly");let u=c.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),s&&c.done]))[0]};return Lg.set(e,i),i}UL(t=>({...t,get:(e,n,r)=>_E(e,n)||t.get(e,n,r),has:(e,n)=>!!_E(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QL{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(YL(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function YL(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const ay="@firebase/app",TE="0.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gs=new gx("@firebase/app"),KL="@firebase/app-compat",HL="@firebase/analytics-compat",JL="@firebase/analytics",XL="@firebase/app-check-compat",ZL="@firebase/app-check",e3="@firebase/auth",t3="@firebase/auth-compat",n3="@firebase/database",r3="@firebase/data-connect",s3="@firebase/database-compat",i3="@firebase/functions",o3="@firebase/functions-compat",a3="@firebase/installations",l3="@firebase/installations-compat",c3="@firebase/messaging",u3="@firebase/messaging-compat",d3="@firebase/performance",h3="@firebase/performance-compat",f3="@firebase/remote-config",p3="@firebase/remote-config-compat",m3="@firebase/storage",g3="@firebase/storage-compat",y3="@firebase/firestore",v3="@firebase/ai",x3="@firebase/firestore-compat",w3="firebase",E3="11.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ly="[DEFAULT]",b3={[ay]:"fire-core",[KL]:"fire-core-compat",[JL]:"fire-analytics",[HL]:"fire-analytics-compat",[ZL]:"fire-app-check",[XL]:"fire-app-check-compat",[e3]:"fire-auth",[t3]:"fire-auth-compat",[n3]:"fire-rtdb",[r3]:"fire-data-connect",[s3]:"fire-rtdb-compat",[i3]:"fire-fn",[o3]:"fire-fn-compat",[a3]:"fire-iid",[l3]:"fire-iid-compat",[c3]:"fire-fcm",[u3]:"fire-fcm-compat",[d3]:"fire-perf",[h3]:"fire-perf-compat",[f3]:"fire-rc",[p3]:"fire-rc-compat",[m3]:"fire-gcs",[g3]:"fire-gcs-compat",[y3]:"fire-fst",[x3]:"fire-fst-compat",[v3]:"fire-vertex","fire-js":"fire-js",[w3]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ju=new Map,C3=new Map,cy=new Map;function AE(t,e){try{t.container.addComponent(e)}catch(n){Gs.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Ll(t){const e=t.name;if(cy.has(e))return Gs.debug(`There were multiple attempts to register component ${e}.`),!1;cy.set(e,t);for(const n of ju.values())AE(n,t);for(const n of C3.values())AE(n,t);return!0}function vx(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function gr(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _3={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Gi=new cd("app","Firebase",_3);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T3{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new sa("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Gi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zl=E3;function yS(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:ly,automaticDataCollectionEnabled:!0},e),s=r.name;if(typeof s!="string"||!s)throw Gi.create("bad-app-name",{appName:String(s)});if(n||(n=dS()),!n)throw Gi.create("no-options");const i=ju.get(s);if(i){if(ra(n,i.options)&&ra(r,i.config))return i;throw Gi.create("duplicate-app",{appName:s})}const o=new PL(s);for(const c of cy.values())o.addComponent(c);const a=new T3(n,r,o);return ju.set(s,a),a}function xx(t=ly){const e=ju.get(t);if(!e&&t===ly&&dS())return yS();if(!e)throw Gi.create("no-app",{appName:t});return e}function A3(){return Array.from(ju.values())}function $i(t,e,n){var r;let s=(r=b3[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const i=s.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const a=[`Unable to register library "${s}" with version "${e}":`];i&&a.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Gs.warn(a.join(" "));return}Ll(new sa(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S3="firebase-heartbeat-database",I3=1,Du="firebase-heartbeat-store";let Fg=null;function vS(){return Fg||(Fg=$L(S3,I3,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Du)}catch(n){console.warn(n)}}}}).catch(t=>{throw Gi.create("idb-open",{originalErrorMessage:t.message})})),Fg}async function R3(t){try{const n=(await vS()).transaction(Du),r=await n.objectStore(Du).get(xS(t));return await n.done,r}catch(e){if(e instanceof Js)Gs.warn(e.message);else{const n=Gi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Gs.warn(n.message)}}}async function SE(t,e){try{const r=(await vS()).transaction(Du,"readwrite");await r.objectStore(Du).put(e,xS(t)),await r.done}catch(n){if(n instanceof Js)Gs.warn(n.message);else{const r=Gi.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Gs.warn(r.message)}}}function xS(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N3=1024,P3=30;class k3{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new j3(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=IE();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats.length>P3){const o=D3(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Gs.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=IE(),{heartbeatsToSend:r,unsentEntries:s}=M3(this._heartbeatsCache.heartbeats),i=Zf(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return Gs.warn(n),""}}}function IE(){return new Date().toISOString().substring(0,10)}function M3(t,e=N3){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),RE(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),RE(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class j3{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return xL()?wL().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await R3(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return SE(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return SE(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function RE(t){return Zf(JSON.stringify({version:2,heartbeats:t})).length}function D3(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O3(t){Ll(new sa("platform-logger",e=>new QL(e),"PRIVATE")),Ll(new sa("heartbeat",e=>new k3(e),"PRIVATE")),$i(ay,TE,t),$i(ay,TE,"esm2017"),$i("fire-js","")}O3("");var L3="firebase",F3="11.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */$i(L3,F3,"app");var NE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var zi,wS;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(I,S){function P(){}P.prototype=S.prototype,I.D=S.prototype,I.prototype=new P,I.prototype.constructor=I,I.C=function(k,O,L){for(var D=Array(arguments.length-2),X=2;X<arguments.length;X++)D[X-2]=arguments[X];return S.prototype[O].apply(k,D)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(I,S,P){P||(P=0);var k=Array(16);if(typeof S=="string")for(var O=0;16>O;++O)k[O]=S.charCodeAt(P++)|S.charCodeAt(P++)<<8|S.charCodeAt(P++)<<16|S.charCodeAt(P++)<<24;else for(O=0;16>O;++O)k[O]=S[P++]|S[P++]<<8|S[P++]<<16|S[P++]<<24;S=I.g[0],P=I.g[1],O=I.g[2];var L=I.g[3],D=S+(L^P&(O^L))+k[0]+3614090360&4294967295;S=P+(D<<7&4294967295|D>>>25),D=L+(O^S&(P^O))+k[1]+3905402710&4294967295,L=S+(D<<12&4294967295|D>>>20),D=O+(P^L&(S^P))+k[2]+606105819&4294967295,O=L+(D<<17&4294967295|D>>>15),D=P+(S^O&(L^S))+k[3]+3250441966&4294967295,P=O+(D<<22&4294967295|D>>>10),D=S+(L^P&(O^L))+k[4]+4118548399&4294967295,S=P+(D<<7&4294967295|D>>>25),D=L+(O^S&(P^O))+k[5]+1200080426&4294967295,L=S+(D<<12&4294967295|D>>>20),D=O+(P^L&(S^P))+k[6]+2821735955&4294967295,O=L+(D<<17&4294967295|D>>>15),D=P+(S^O&(L^S))+k[7]+4249261313&4294967295,P=O+(D<<22&4294967295|D>>>10),D=S+(L^P&(O^L))+k[8]+1770035416&4294967295,S=P+(D<<7&4294967295|D>>>25),D=L+(O^S&(P^O))+k[9]+2336552879&4294967295,L=S+(D<<12&4294967295|D>>>20),D=O+(P^L&(S^P))+k[10]+4294925233&4294967295,O=L+(D<<17&4294967295|D>>>15),D=P+(S^O&(L^S))+k[11]+2304563134&4294967295,P=O+(D<<22&4294967295|D>>>10),D=S+(L^P&(O^L))+k[12]+1804603682&4294967295,S=P+(D<<7&4294967295|D>>>25),D=L+(O^S&(P^O))+k[13]+4254626195&4294967295,L=S+(D<<12&4294967295|D>>>20),D=O+(P^L&(S^P))+k[14]+2792965006&4294967295,O=L+(D<<17&4294967295|D>>>15),D=P+(S^O&(L^S))+k[15]+1236535329&4294967295,P=O+(D<<22&4294967295|D>>>10),D=S+(O^L&(P^O))+k[1]+4129170786&4294967295,S=P+(D<<5&4294967295|D>>>27),D=L+(P^O&(S^P))+k[6]+3225465664&4294967295,L=S+(D<<9&4294967295|D>>>23),D=O+(S^P&(L^S))+k[11]+643717713&4294967295,O=L+(D<<14&4294967295|D>>>18),D=P+(L^S&(O^L))+k[0]+3921069994&4294967295,P=O+(D<<20&4294967295|D>>>12),D=S+(O^L&(P^O))+k[5]+3593408605&4294967295,S=P+(D<<5&4294967295|D>>>27),D=L+(P^O&(S^P))+k[10]+38016083&4294967295,L=S+(D<<9&4294967295|D>>>23),D=O+(S^P&(L^S))+k[15]+3634488961&4294967295,O=L+(D<<14&4294967295|D>>>18),D=P+(L^S&(O^L))+k[4]+3889429448&4294967295,P=O+(D<<20&4294967295|D>>>12),D=S+(O^L&(P^O))+k[9]+568446438&4294967295,S=P+(D<<5&4294967295|D>>>27),D=L+(P^O&(S^P))+k[14]+3275163606&4294967295,L=S+(D<<9&4294967295|D>>>23),D=O+(S^P&(L^S))+k[3]+4107603335&4294967295,O=L+(D<<14&4294967295|D>>>18),D=P+(L^S&(O^L))+k[8]+1163531501&4294967295,P=O+(D<<20&4294967295|D>>>12),D=S+(O^L&(P^O))+k[13]+2850285829&4294967295,S=P+(D<<5&4294967295|D>>>27),D=L+(P^O&(S^P))+k[2]+4243563512&4294967295,L=S+(D<<9&4294967295|D>>>23),D=O+(S^P&(L^S))+k[7]+1735328473&4294967295,O=L+(D<<14&4294967295|D>>>18),D=P+(L^S&(O^L))+k[12]+2368359562&4294967295,P=O+(D<<20&4294967295|D>>>12),D=S+(P^O^L)+k[5]+4294588738&4294967295,S=P+(D<<4&4294967295|D>>>28),D=L+(S^P^O)+k[8]+2272392833&4294967295,L=S+(D<<11&4294967295|D>>>21),D=O+(L^S^P)+k[11]+1839030562&4294967295,O=L+(D<<16&4294967295|D>>>16),D=P+(O^L^S)+k[14]+4259657740&4294967295,P=O+(D<<23&4294967295|D>>>9),D=S+(P^O^L)+k[1]+2763975236&4294967295,S=P+(D<<4&4294967295|D>>>28),D=L+(S^P^O)+k[4]+1272893353&4294967295,L=S+(D<<11&4294967295|D>>>21),D=O+(L^S^P)+k[7]+4139469664&4294967295,O=L+(D<<16&4294967295|D>>>16),D=P+(O^L^S)+k[10]+3200236656&4294967295,P=O+(D<<23&4294967295|D>>>9),D=S+(P^O^L)+k[13]+681279174&4294967295,S=P+(D<<4&4294967295|D>>>28),D=L+(S^P^O)+k[0]+3936430074&4294967295,L=S+(D<<11&4294967295|D>>>21),D=O+(L^S^P)+k[3]+3572445317&4294967295,O=L+(D<<16&4294967295|D>>>16),D=P+(O^L^S)+k[6]+76029189&4294967295,P=O+(D<<23&4294967295|D>>>9),D=S+(P^O^L)+k[9]+3654602809&4294967295,S=P+(D<<4&4294967295|D>>>28),D=L+(S^P^O)+k[12]+3873151461&4294967295,L=S+(D<<11&4294967295|D>>>21),D=O+(L^S^P)+k[15]+530742520&4294967295,O=L+(D<<16&4294967295|D>>>16),D=P+(O^L^S)+k[2]+3299628645&4294967295,P=O+(D<<23&4294967295|D>>>9),D=S+(O^(P|~L))+k[0]+4096336452&4294967295,S=P+(D<<6&4294967295|D>>>26),D=L+(P^(S|~O))+k[7]+1126891415&4294967295,L=S+(D<<10&4294967295|D>>>22),D=O+(S^(L|~P))+k[14]+2878612391&4294967295,O=L+(D<<15&4294967295|D>>>17),D=P+(L^(O|~S))+k[5]+4237533241&4294967295,P=O+(D<<21&4294967295|D>>>11),D=S+(O^(P|~L))+k[12]+1700485571&4294967295,S=P+(D<<6&4294967295|D>>>26),D=L+(P^(S|~O))+k[3]+2399980690&4294967295,L=S+(D<<10&4294967295|D>>>22),D=O+(S^(L|~P))+k[10]+4293915773&4294967295,O=L+(D<<15&4294967295|D>>>17),D=P+(L^(O|~S))+k[1]+2240044497&4294967295,P=O+(D<<21&4294967295|D>>>11),D=S+(O^(P|~L))+k[8]+1873313359&4294967295,S=P+(D<<6&4294967295|D>>>26),D=L+(P^(S|~O))+k[15]+4264355552&4294967295,L=S+(D<<10&4294967295|D>>>22),D=O+(S^(L|~P))+k[6]+2734768916&4294967295,O=L+(D<<15&4294967295|D>>>17),D=P+(L^(O|~S))+k[13]+1309151649&4294967295,P=O+(D<<21&4294967295|D>>>11),D=S+(O^(P|~L))+k[4]+4149444226&4294967295,S=P+(D<<6&4294967295|D>>>26),D=L+(P^(S|~O))+k[11]+3174756917&4294967295,L=S+(D<<10&4294967295|D>>>22),D=O+(S^(L|~P))+k[2]+718787259&4294967295,O=L+(D<<15&4294967295|D>>>17),D=P+(L^(O|~S))+k[9]+3951481745&4294967295,I.g[0]=I.g[0]+S&4294967295,I.g[1]=I.g[1]+(O+(D<<21&4294967295|D>>>11))&4294967295,I.g[2]=I.g[2]+O&4294967295,I.g[3]=I.g[3]+L&4294967295}r.prototype.u=function(I,S){S===void 0&&(S=I.length);for(var P=S-this.blockSize,k=this.B,O=this.h,L=0;L<S;){if(O==0)for(;L<=P;)s(this,I,L),L+=this.blockSize;if(typeof I=="string"){for(;L<S;)if(k[O++]=I.charCodeAt(L++),O==this.blockSize){s(this,k),O=0;break}}else for(;L<S;)if(k[O++]=I[L++],O==this.blockSize){s(this,k),O=0;break}}this.h=O,this.o+=S},r.prototype.v=function(){var I=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);I[0]=128;for(var S=1;S<I.length-8;++S)I[S]=0;var P=8*this.o;for(S=I.length-8;S<I.length;++S)I[S]=P&255,P/=256;for(this.u(I),I=Array(16),S=P=0;4>S;++S)for(var k=0;32>k;k+=8)I[P++]=this.g[S]>>>k&255;return I};function i(I,S){var P=a;return Object.prototype.hasOwnProperty.call(P,I)?P[I]:P[I]=S(I)}function o(I,S){this.h=S;for(var P=[],k=!0,O=I.length-1;0<=O;O--){var L=I[O]|0;k&&L==S||(P[O]=L,k=!1)}this.g=P}var a={};function c(I){return-128<=I&&128>I?i(I,function(S){return new o([S|0],0>S?-1:0)}):new o([I|0],0>I?-1:0)}function u(I){if(isNaN(I)||!isFinite(I))return p;if(0>I)return w(u(-I));for(var S=[],P=1,k=0;I>=P;k++)S[k]=I/P|0,P*=4294967296;return new o(S,0)}function h(I,S){if(I.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(I.charAt(0)=="-")return w(h(I.substring(1),S));if(0<=I.indexOf("-"))throw Error('number format error: interior "-" character');for(var P=u(Math.pow(S,8)),k=p,O=0;O<I.length;O+=8){var L=Math.min(8,I.length-O),D=parseInt(I.substring(O,O+L),S);8>L?(L=u(Math.pow(S,L)),k=k.j(L).add(u(D))):(k=k.j(P),k=k.add(u(D)))}return k}var p=c(0),f=c(1),v=c(16777216);t=o.prototype,t.m=function(){if(y(this))return-w(this).m();for(var I=0,S=1,P=0;P<this.g.length;P++){var k=this.i(P);I+=(0<=k?k:4294967296+k)*S,S*=4294967296}return I},t.toString=function(I){if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(x(this))return"0";if(y(this))return"-"+w(this).toString(I);for(var S=u(Math.pow(I,6)),P=this,k="";;){var O=R(P,S).g;P=T(P,O.j(S));var L=((0<P.g.length?P.g[0]:P.h)>>>0).toString(I);if(P=O,x(P))return L+k;for(;6>L.length;)L="0"+L;k=L+k}},t.i=function(I){return 0>I?0:I<this.g.length?this.g[I]:this.h};function x(I){if(I.h!=0)return!1;for(var S=0;S<I.g.length;S++)if(I.g[S]!=0)return!1;return!0}function y(I){return I.h==-1}t.l=function(I){return I=T(this,I),y(I)?-1:x(I)?0:1};function w(I){for(var S=I.g.length,P=[],k=0;k<S;k++)P[k]=~I.g[k];return new o(P,~I.h).add(f)}t.abs=function(){return y(this)?w(this):this},t.add=function(I){for(var S=Math.max(this.g.length,I.g.length),P=[],k=0,O=0;O<=S;O++){var L=k+(this.i(O)&65535)+(I.i(O)&65535),D=(L>>>16)+(this.i(O)>>>16)+(I.i(O)>>>16);k=D>>>16,L&=65535,D&=65535,P[O]=D<<16|L}return new o(P,P[P.length-1]&-2147483648?-1:0)};function T(I,S){return I.add(w(S))}t.j=function(I){if(x(this)||x(I))return p;if(y(this))return y(I)?w(this).j(w(I)):w(w(this).j(I));if(y(I))return w(this.j(w(I)));if(0>this.l(v)&&0>I.l(v))return u(this.m()*I.m());for(var S=this.g.length+I.g.length,P=[],k=0;k<2*S;k++)P[k]=0;for(k=0;k<this.g.length;k++)for(var O=0;O<I.g.length;O++){var L=this.i(k)>>>16,D=this.i(k)&65535,X=I.i(O)>>>16,re=I.i(O)&65535;P[2*k+2*O]+=D*re,E(P,2*k+2*O),P[2*k+2*O+1]+=L*re,E(P,2*k+2*O+1),P[2*k+2*O+1]+=D*X,E(P,2*k+2*O+1),P[2*k+2*O+2]+=L*X,E(P,2*k+2*O+2)}for(k=0;k<S;k++)P[k]=P[2*k+1]<<16|P[2*k];for(k=S;k<2*S;k++)P[k]=0;return new o(P,0)};function E(I,S){for(;(I[S]&65535)!=I[S];)I[S+1]+=I[S]>>>16,I[S]&=65535,S++}function b(I,S){this.g=I,this.h=S}function R(I,S){if(x(S))throw Error("division by zero");if(x(I))return new b(p,p);if(y(I))return S=R(w(I),S),new b(w(S.g),w(S.h));if(y(S))return S=R(I,w(S)),new b(w(S.g),S.h);if(30<I.g.length){if(y(I)||y(S))throw Error("slowDivide_ only works with positive integers.");for(var P=f,k=S;0>=k.l(I);)P=j(P),k=j(k);var O=V(P,1),L=V(k,1);for(k=V(k,2),P=V(P,2);!x(k);){var D=L.add(k);0>=D.l(I)&&(O=O.add(P),L=D),k=V(k,1),P=V(P,1)}return S=T(I,O.j(S)),new b(O,S)}for(O=p;0<=I.l(S);){for(P=Math.max(1,Math.floor(I.m()/S.m())),k=Math.ceil(Math.log(P)/Math.LN2),k=48>=k?1:Math.pow(2,k-48),L=u(P),D=L.j(S);y(D)||0<D.l(I);)P-=k,L=u(P),D=L.j(S);x(L)&&(L=f),O=O.add(L),I=T(I,D)}return new b(O,I)}t.A=function(I){return R(this,I).h},t.and=function(I){for(var S=Math.max(this.g.length,I.g.length),P=[],k=0;k<S;k++)P[k]=this.i(k)&I.i(k);return new o(P,this.h&I.h)},t.or=function(I){for(var S=Math.max(this.g.length,I.g.length),P=[],k=0;k<S;k++)P[k]=this.i(k)|I.i(k);return new o(P,this.h|I.h)},t.xor=function(I){for(var S=Math.max(this.g.length,I.g.length),P=[],k=0;k<S;k++)P[k]=this.i(k)^I.i(k);return new o(P,this.h^I.h)};function j(I){for(var S=I.g.length+1,P=[],k=0;k<S;k++)P[k]=I.i(k)<<1|I.i(k-1)>>>31;return new o(P,I.h)}function V(I,S){var P=S>>5;S%=32;for(var k=I.g.length-P,O=[],L=0;L<k;L++)O[L]=0<S?I.i(L+P)>>>S|I.i(L+P+1)<<32-S:I.i(L+P);return new o(O,I.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,wS=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=h,zi=o}).apply(typeof NE<"u"?NE:typeof self<"u"?self:typeof window<"u"?window:{});var kh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ES,Gc,bS,lf,uy,CS,_S,TS;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(d,m,A){return d==Array.prototype||d==Object.prototype||(d[m]=A.value),d};function n(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof kh=="object"&&kh];for(var m=0;m<d.length;++m){var A=d[m];if(A&&A.Math==Math)return A}throw Error("Cannot find global object")}var r=n(this);function s(d,m){if(m)e:{var A=r;d=d.split(".");for(var M=0;M<d.length-1;M++){var G=d[M];if(!(G in A))break e;A=A[G]}d=d[d.length-1],M=A[d],m=m(M),m!=M&&m!=null&&e(A,d,{configurable:!0,writable:!0,value:m})}}function i(d,m){d instanceof String&&(d+="");var A=0,M=!1,G={next:function(){if(!M&&A<d.length){var Y=A++;return{value:m(Y,d[Y]),done:!1}}return M=!0,{done:!0,value:void 0}}};return G[Symbol.iterator]=function(){return G},G}s("Array.prototype.values",function(d){return d||function(){return i(this,function(m,A){return A})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function c(d){var m=typeof d;return m=m!="object"?m:d?Array.isArray(d)?"array":m:"null",m=="array"||m=="object"&&typeof d.length=="number"}function u(d){var m=typeof d;return m=="object"&&d!=null||m=="function"}function h(d,m,A){return d.call.apply(d.bind,arguments)}function p(d,m,A){if(!d)throw Error();if(2<arguments.length){var M=Array.prototype.slice.call(arguments,2);return function(){var G=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(G,M),d.apply(m,G)}}return function(){return d.apply(m,arguments)}}function f(d,m,A){return f=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:p,f.apply(null,arguments)}function v(d,m){var A=Array.prototype.slice.call(arguments,1);return function(){var M=A.slice();return M.push.apply(M,arguments),d.apply(this,M)}}function x(d,m){function A(){}A.prototype=m.prototype,d.aa=m.prototype,d.prototype=new A,d.prototype.constructor=d,d.Qb=function(M,G,Y){for(var K=Array(arguments.length-2),rt=2;rt<arguments.length;rt++)K[rt-2]=arguments[rt];return m.prototype[G].apply(M,K)}}function y(d){const m=d.length;if(0<m){const A=Array(m);for(let M=0;M<m;M++)A[M]=d[M];return A}return[]}function w(d,m){for(let A=1;A<arguments.length;A++){const M=arguments[A];if(c(M)){const G=d.length||0,Y=M.length||0;d.length=G+Y;for(let K=0;K<Y;K++)d[G+K]=M[K]}else d.push(M)}}class T{constructor(m,A){this.i=m,this.j=A,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function E(d){return/^[\s\xa0]*$/.test(d)}function b(){var d=a.navigator;return d&&(d=d.userAgent)?d:""}function R(d){return R[" "](d),d}R[" "]=function(){};var j=b().indexOf("Gecko")!=-1&&!(b().toLowerCase().indexOf("webkit")!=-1&&b().indexOf("Edge")==-1)&&!(b().indexOf("Trident")!=-1||b().indexOf("MSIE")!=-1)&&b().indexOf("Edge")==-1;function V(d,m,A){for(const M in d)m.call(A,d[M],M,d)}function I(d,m){for(const A in d)m.call(void 0,d[A],A,d)}function S(d){const m={};for(const A in d)m[A]=d[A];return m}const P="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function k(d,m){let A,M;for(let G=1;G<arguments.length;G++){M=arguments[G];for(A in M)d[A]=M[A];for(let Y=0;Y<P.length;Y++)A=P[Y],Object.prototype.hasOwnProperty.call(M,A)&&(d[A]=M[A])}}function O(d){var m=1;d=d.split(":");const A=[];for(;0<m&&d.length;)A.push(d.shift()),m--;return d.length&&A.push(d.join(":")),A}function L(d){a.setTimeout(()=>{throw d},0)}function D(){var d=z;let m=null;return d.g&&(m=d.g,d.g=d.g.next,d.g||(d.h=null),m.next=null),m}class X{constructor(){this.h=this.g=null}add(m,A){const M=re.get();M.set(m,A),this.h?this.h.next=M:this.g=M,this.h=M}}var re=new T(()=>new se,d=>d.reset());class se{constructor(){this.next=this.g=this.h=null}set(m,A){this.h=m,this.g=A,this.next=null}reset(){this.next=this.g=this.h=null}}let ue,q=!1,z=new X,Z=()=>{const d=a.Promise.resolve(void 0);ue=()=>{d.then(te)}};var te=()=>{for(var d;d=D();){try{d.h.call(d.g)}catch(A){L(A)}var m=re;m.j(d),100>m.h&&(m.h++,d.next=m.g,m.g=d)}q=!1};function ae(){this.s=this.s,this.C=this.C}ae.prototype.s=!1,ae.prototype.ma=function(){this.s||(this.s=!0,this.N())},ae.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function le(d,m){this.type=d,this.g=this.target=m,this.defaultPrevented=!1}le.prototype.h=function(){this.defaultPrevented=!0};var Se=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var d=!1,m=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const A=()=>{};a.addEventListener("test",A,m),a.removeEventListener("test",A,m)}catch{}return d}();function ke(d,m){if(le.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d){var A=this.type=d.type,M=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;if(this.target=d.target||d.srcElement,this.g=m,m=d.relatedTarget){if(j){e:{try{R(m.nodeName);var G=!0;break e}catch{}G=!1}G||(m=null)}}else A=="mouseover"?m=d.fromElement:A=="mouseout"&&(m=d.toElement);this.relatedTarget=m,M?(this.clientX=M.clientX!==void 0?M.clientX:M.pageX,this.clientY=M.clientY!==void 0?M.clientY:M.pageY,this.screenX=M.screenX||0,this.screenY=M.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=typeof d.pointerType=="string"?d.pointerType:we[d.pointerType]||"",this.state=d.state,this.i=d,d.defaultPrevented&&ke.aa.h.call(this)}}x(ke,le);var we={2:"touch",3:"pen",4:"mouse"};ke.prototype.h=function(){ke.aa.h.call(this);var d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var ie="closure_listenable_"+(1e6*Math.random()|0),ge=0;function xe(d,m,A,M,G){this.listener=d,this.proxy=null,this.src=m,this.type=A,this.capture=!!M,this.ha=G,this.key=++ge,this.da=this.fa=!1}function Ee(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function Te(d){this.src=d,this.g={},this.h=0}Te.prototype.add=function(d,m,A,M,G){var Y=d.toString();d=this.g[Y],d||(d=this.g[Y]=[],this.h++);var K=he(d,m,M,G);return-1<K?(m=d[K],A||(m.fa=!1)):(m=new xe(m,this.src,Y,!!M,G),m.fa=A,d.push(m)),m};function Ce(d,m){var A=m.type;if(A in d.g){var M=d.g[A],G=Array.prototype.indexOf.call(M,m,void 0),Y;(Y=0<=G)&&Array.prototype.splice.call(M,G,1),Y&&(Ee(m),d.g[A].length==0&&(delete d.g[A],d.h--))}}function he(d,m,A,M){for(var G=0;G<d.length;++G){var Y=d[G];if(!Y.da&&Y.listener==m&&Y.capture==!!A&&Y.ha==M)return G}return-1}var ve="closure_lm_"+(1e6*Math.random()|0),gt={};function at(d,m,A,M,G){if(Array.isArray(m)){for(var Y=0;Y<m.length;Y++)at(d,m[Y],A,M,G);return null}return A=bo(A),d&&d[ie]?d.K(m,A,u(M)?!!M.capture:!!M,G):Dt(d,m,A,!1,M,G)}function Dt(d,m,A,M,G,Y){if(!m)throw Error("Invalid event type");var K=u(G)?!!G.capture:!!G,rt=cr(d);if(rt||(d[ve]=rt=new Te(d)),A=rt.add(m,A,M,K,Y),A.proxy)return A;if(M=et(),A.proxy=M,M.src=d,M.listener=A,d.addEventListener)Se||(G=K),G===void 0&&(G=!1),d.addEventListener(m.toString(),M,G);else if(d.attachEvent)d.attachEvent(Cr(m.toString()),M);else if(d.addListener&&d.removeListener)d.addListener(M);else throw Error("addEventListener and attachEvent are unavailable.");return A}function et(){function d(A){return m.call(d.src,d.listener,A)}const m=gs;return d}function yt(d,m,A,M,G){if(Array.isArray(m))for(var Y=0;Y<m.length;Y++)yt(d,m[Y],A,M,G);else M=u(M)?!!M.capture:!!M,A=bo(A),d&&d[ie]?(d=d.i,m=String(m).toString(),m in d.g&&(Y=d.g[m],A=he(Y,A,M,G),-1<A&&(Ee(Y[A]),Array.prototype.splice.call(Y,A,1),Y.length==0&&(delete d.g[m],d.h--)))):d&&(d=cr(d))&&(m=d.g[m.toString()],d=-1,m&&(d=he(m,A,M,G)),(A=-1<d?m[d]:null)&&dn(A))}function dn(d){if(typeof d!="number"&&d&&!d.da){var m=d.src;if(m&&m[ie])Ce(m.i,d);else{var A=d.type,M=d.proxy;m.removeEventListener?m.removeEventListener(A,M,d.capture):m.detachEvent?m.detachEvent(Cr(A),M):m.addListener&&m.removeListener&&m.removeListener(M),(A=cr(m))?(Ce(A,d),A.h==0&&(A.src=null,m[ve]=null)):Ee(d)}}}function Cr(d){return d in gt?gt[d]:gt[d]="on"+d}function gs(d,m){if(d.da)d=!0;else{m=new ke(m,this);var A=d.listener,M=d.ha||d.src;d.fa&&dn(d),d=A.call(M,m)}return d}function cr(d){return d=d[ve],d instanceof Te?d:null}var ys="__closure_events_fn_"+(1e9*Math.random()>>>0);function bo(d){return typeof d=="function"?d:(d[ys]||(d[ys]=function(m){return d.handleEvent(m)}),d[ys])}function At(){ae.call(this),this.i=new Te(this),this.M=this,this.F=null}x(At,ae),At.prototype[ie]=!0,At.prototype.removeEventListener=function(d,m,A,M){yt(this,d,m,A,M)};function vt(d,m){var A,M=d.F;if(M)for(A=[];M;M=M.F)A.push(M);if(d=d.M,M=m.type||m,typeof m=="string")m=new le(m,d);else if(m instanceof le)m.target=m.target||d;else{var G=m;m=new le(M,d),k(m,G)}if(G=!0,A)for(var Y=A.length-1;0<=Y;Y--){var K=m.g=A[Y];G=vs(K,M,!0,m)&&G}if(K=m.g=d,G=vs(K,M,!0,m)&&G,G=vs(K,M,!1,m)&&G,A)for(Y=0;Y<A.length;Y++)K=m.g=A[Y],G=vs(K,M,!1,m)&&G}At.prototype.N=function(){if(At.aa.N.call(this),this.i){var d=this.i,m;for(m in d.g){for(var A=d.g[m],M=0;M<A.length;M++)Ee(A[M]);delete d.g[m],d.h--}}this.F=null},At.prototype.K=function(d,m,A,M){return this.i.add(String(d),m,!1,A,M)},At.prototype.L=function(d,m,A,M){return this.i.add(String(d),m,!0,A,M)};function vs(d,m,A,M){if(m=d.i.g[String(m)],!m)return!0;m=m.concat();for(var G=!0,Y=0;Y<m.length;++Y){var K=m[Y];if(K&&!K.da&&K.capture==A){var rt=K.listener,qt=K.ha||K.src;K.fa&&Ce(d.i,K),G=rt.call(qt,M)!==!1&&G}}return G&&!M.defaultPrevented}function _r(d,m,A){if(typeof d=="function")A&&(d=f(d,A));else if(d&&typeof d.handleEvent=="function")d=f(d.handleEvent,d);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:a.setTimeout(d,m||0)}function Co(d){d.g=_r(()=>{d.g=null,d.i&&(d.i=!1,Co(d))},d.l);const m=d.h;d.h=null,d.m.apply(null,m)}class Zs extends ae{constructor(m,A){super(),this.m=m,this.l=A,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Co(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ur(d){ae.call(this),this.h=d,this.g={}}x(ur,ae);var Tr=[];function Ar(d){V(d.g,function(m,A){this.g.hasOwnProperty(A)&&dn(m)},d),d.g={}}ur.prototype.N=function(){ur.aa.N.call(this),Ar(this)},ur.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var _n=a.JSON.stringify,Tn=a.JSON.parse,fc=class{stringify(d){return a.JSON.stringify(d,void 0)}parse(d){return a.JSON.parse(d,void 0)}};function Ae(){}Ae.prototype.h=null;function Ue(d){return d.h||(d.h=d.i())}function Je(){}var Qt={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function hn(){le.call(this,"d")}x(hn,le);function Sr(){le.call(this,"c")}x(Sr,le);var dt={},ei=null;function We(){return ei=ei||new At}dt.La="serverreachability";function Id(d){le.call(this,dt.La,d)}x(Id,le);function fn(d){const m=We();vt(m,new Id(m))}dt.STAT_EVENT="statevent";function dr(d,m){le.call(this,dt.STAT_EVENT,d),this.stat=m}x(dr,le);function tn(d){const m=We();vt(m,new dr(m,d))}dt.Ma="timingevent";function Rd(d,m){le.call(this,dt.Ma,d),this.size=m}x(Rd,le);function xs(d,m){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){d()},m)}function ws(){this.g=!0}ws.prototype.xa=function(){this.g=!1};function Nd(d,m,A,M,G,Y){d.info(function(){if(d.g)if(Y)for(var K="",rt=Y.split("&"),qt=0;qt<rt.length;qt++){var Qe=rt[qt].split("=");if(1<Qe.length){var Yt=Qe[0];Qe=Qe[1];var Kt=Yt.split("_");K=2<=Kt.length&&Kt[1]=="type"?K+(Yt+"="+Qe+"&"):K+(Yt+"=redacted&")}}else K=null;else K=Y;return"XMLHTTP REQ ("+M+") [attempt "+G+"]: "+m+`
`+A+`
`+K})}function qm(d,m,A,M,G,Y,K){d.info(function(){return"XMLHTTP RESP ("+M+") [ attempt "+G+"]: "+m+`
`+A+`
`+Y+" "+K})}function Es(d,m,A,M){d.info(function(){return"XMLHTTP TEXT ("+m+"): "+Gm(d,A)+(M?" "+M:"")})}function _o(d,m){d.info(function(){return"TIMEOUT: "+m})}ws.prototype.info=function(){};function Gm(d,m){if(!d.g)return m;if(!m)return null;try{var A=JSON.parse(m);if(A){for(d=0;d<A.length;d++)if(Array.isArray(A[d])){var M=A[d];if(!(2>M.length)){var G=M[1];if(Array.isArray(G)&&!(1>G.length)){var Y=G[0];if(Y!="noop"&&Y!="stop"&&Y!="close")for(var K=1;K<G.length;K++)G[K]=""}}}}return _n(A)}catch{return m}}var bs={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ba={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Ca;function To(){}x(To,Ae),To.prototype.g=function(){return new XMLHttpRequest},To.prototype.i=function(){return{}},Ca=new To;function Ir(d,m,A,M){this.j=d,this.i=m,this.l=A,this.R=M||1,this.U=new ur(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Pd}function Pd(){this.i=null,this.g="",this.h=!1}var kd={},pc={};function mc(d,m,A){d.L=1,d.v=Na(Qn(m)),d.m=A,d.P=!0,_a(d,null)}function _a(d,m){d.F=Date.now(),Ta(d),d.A=Qn(d.v);var A=d.A,M=d.R;Array.isArray(M)||(M=[String(M)]),qd(A.i,"t",M),d.C=0,A=d.j.J,d.h=new Pd,d.g=ih(d.j,A?m:null,!d.m),0<d.O&&(d.M=new Zs(f(d.Y,d,d.g),d.O)),m=d.U,A=d.g,M=d.ca;var G="readystatechange";Array.isArray(G)||(G&&(Tr[0]=G.toString()),G=Tr);for(var Y=0;Y<G.length;Y++){var K=at(A,G[Y],M||m.handleEvent,!1,m.h||m);if(!K)break;m.g[K.key]=K}m=d.H?S(d.H):{},d.m?(d.u||(d.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.A,d.u,d.m,m)):(d.u="GET",d.g.ea(d.A,d.u,null,m)),fn(),Nd(d.i,d.u,d.A,d.l,d.R,d.m)}Ir.prototype.ca=function(d){d=d.target;const m=this.M;m&&Nr(d)==3?m.j():this.Y(d)},Ir.prototype.Y=function(d){try{if(d==this.g)e:{const Kt=Nr(this.g);var m=this.g.Ba();const li=this.g.Z();if(!(3>Kt)&&(Kt!=3||this.g&&(this.h.h||this.g.oa()||Hd(this.g)))){this.J||Kt!=4||m==7||(m==8||0>=li?fn(3):fn(2)),yc(this);var A=this.g.Z();this.X=A;t:if(Md(this)){var M=Hd(this.g);d="";var G=M.length,Y=Nr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Cs(this),Ao(this);var K="";break t}this.h.i=new a.TextDecoder}for(m=0;m<G;m++)this.h.h=!0,d+=this.h.i.decode(M[m],{stream:!(Y&&m==G-1)});M.length=0,this.h.g+=d,this.C=0,K=this.h.g}else K=this.g.oa();if(this.o=A==200,qm(this.i,this.u,this.A,this.l,this.R,Kt,A),this.o){if(this.T&&!this.K){t:{if(this.g){var rt,qt=this.g;if((rt=qt.g?qt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!E(rt)){var Qe=rt;break t}}Qe=null}if(A=Qe)Es(this.i,this.l,A,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ti(this,A);else{this.o=!1,this.s=3,tn(12),Cs(this),Ao(this);break e}}if(this.P){A=!0;let Yn;for(;!this.J&&this.C<K.length;)if(Yn=$m(this,K),Yn==pc){Kt==4&&(this.s=4,tn(14),A=!1),Es(this.i,this.l,null,"[Incomplete Response]");break}else if(Yn==kd){this.s=4,tn(15),Es(this.i,this.l,K,"[Invalid Chunk]"),A=!1;break}else Es(this.i,this.l,Yn,null),ti(this,Yn);if(Md(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Kt!=4||K.length!=0||this.h.h||(this.s=1,tn(16),A=!1),this.o=this.o&&A,!A)Es(this.i,this.l,K,"[Invalid Chunked Response]"),Cs(this),Ao(this);else if(0<K.length&&!this.W){this.W=!0;var Yt=this.j;Yt.g==this&&Yt.ba&&!Yt.M&&(Yt.j.info("Great, no buffering proxy detected. Bytes received: "+K.length),_c(Yt),Yt.M=!0,tn(11))}}else Es(this.i,this.l,K,null),ti(this,K);Kt==4&&Cs(this),this.o&&!this.J&&(Kt==4?rh(this.j,this):(this.o=!1,Ta(this)))}else eg(this.g),A==400&&0<K.indexOf("Unknown SID")?(this.s=3,tn(12)):(this.s=0,tn(13)),Cs(this),Ao(this)}}}catch{}finally{}};function Md(d){return d.g?d.u=="GET"&&d.L!=2&&d.j.Ca:!1}function $m(d,m){var A=d.C,M=m.indexOf(`
`,A);return M==-1?pc:(A=Number(m.substring(A,M)),isNaN(A)?kd:(M+=1,M+A>m.length?pc:(m=m.slice(M,M+A),d.C=M+A,m)))}Ir.prototype.cancel=function(){this.J=!0,Cs(this)};function Ta(d){d.S=Date.now()+d.I,gc(d,d.I)}function gc(d,m){if(d.B!=null)throw Error("WatchDog timer not null");d.B=xs(f(d.ba,d),m)}function yc(d){d.B&&(a.clearTimeout(d.B),d.B=null)}Ir.prototype.ba=function(){this.B=null;const d=Date.now();0<=d-this.S?(_o(this.i,this.A),this.L!=2&&(fn(),tn(17)),Cs(this),this.s=2,Ao(this)):gc(this,this.S-d)};function Ao(d){d.j.G==0||d.J||rh(d.j,d)}function Cs(d){yc(d);var m=d.M;m&&typeof m.ma=="function"&&m.ma(),d.M=null,Ar(d.U),d.g&&(m=d.g,d.g=null,m.abort(),m.ma())}function ti(d,m){try{var A=d.j;if(A.G!=0&&(A.g==d||Aa(A.h,d))){if(!d.K&&Aa(A.h,d)&&A.G==3){try{var M=A.Da.g.parse(m)}catch{M=null}if(Array.isArray(M)&&M.length==3){var G=M;if(G[0]==0){e:if(!A.u){if(A.g)if(A.g.F+3e3<d.F)Da(A),Po(A);else break e;Cc(A),tn(18)}}else A.za=G[1],0<A.za-A.T&&37500>G[2]&&A.F&&A.v==0&&!A.C&&(A.C=xs(f(A.Za,A),6e3));if(1>=vc(A.h)&&A.ca){try{A.ca()}catch{}A.ca=void 0}}else As(A,11)}else if((d.K||A.g==d)&&Da(A),!E(m))for(G=A.Da.g.parse(m),m=0;m<G.length;m++){let Qe=G[m];if(A.T=Qe[0],Qe=Qe[1],A.G==2)if(Qe[0]=="c"){A.K=Qe[1],A.ia=Qe[2];const Yt=Qe[3];Yt!=null&&(A.la=Yt,A.j.info("VER="+A.la));const Kt=Qe[4];Kt!=null&&(A.Aa=Kt,A.j.info("SVER="+A.Aa));const li=Qe[5];li!=null&&typeof li=="number"&&0<li&&(M=1.5*li,A.L=M,A.j.info("backChannelRequestTimeoutMs_="+M)),M=A;const Yn=d.g;if(Yn){const Fa=Yn.g?Yn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Fa){var Y=M.h;Y.g||Fa.indexOf("spdy")==-1&&Fa.indexOf("quic")==-1&&Fa.indexOf("h2")==-1||(Y.j=Y.l,Y.g=new Set,Y.h&&(Sa(Y,Y.h),Y.h=null))}if(M.D){const Tc=Yn.g?Yn.g.getResponseHeader("X-HTTP-Session-Id"):null;Tc&&(M.ya=Tc,ot(M.I,M.D,Tc))}}A.G=3,A.l&&A.l.ua(),A.ba&&(A.R=Date.now()-d.F,A.j.info("Handshake RTT: "+A.R+"ms")),M=A;var K=d;if(M.qa=sh(M,M.J?M.ia:null,M.W),K.K){Fe(M.h,K);var rt=K,qt=M.L;qt&&(rt.I=qt),rt.B&&(yc(rt),Ta(rt)),M.g=K}else th(M);0<A.i.length&&ja(A)}else Qe[0]!="stop"&&Qe[0]!="close"||As(A,7);else A.G==3&&(Qe[0]=="stop"||Qe[0]=="close"?Qe[0]=="stop"?As(A,7):bc(A):Qe[0]!="noop"&&A.l&&A.l.ta(Qe),A.v=0)}}fn(4)}catch{}}var zm=class{constructor(d,m){this.g=d,this.map=m}};function jd(d){this.l=d||10,a.PerformanceNavigationTiming?(d=a.performance.getEntriesByType("navigation"),d=0<d.length&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function So(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function vc(d){return d.h?1:d.g?d.g.size:0}function Aa(d,m){return d.h?d.h==m:d.g?d.g.has(m):!1}function Sa(d,m){d.g?d.g.add(m):d.h=m}function Fe(d,m){d.h&&d.h==m?d.h=null:d.g&&d.g.has(m)&&d.g.delete(m)}jd.prototype.cancel=function(){if(this.i=Dd(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function Dd(d){if(d.h!=null)return d.i.concat(d.h.D);if(d.g!=null&&d.g.size!==0){let m=d.i;for(const A of d.g.values())m=m.concat(A.D);return m}return y(d.i)}function Wm(d){if(d.V&&typeof d.V=="function")return d.V();if(typeof Map<"u"&&d instanceof Map||typeof Set<"u"&&d instanceof Set)return Array.from(d.values());if(typeof d=="string")return d.split("");if(c(d)){for(var m=[],A=d.length,M=0;M<A;M++)m.push(d[M]);return m}m=[],A=0;for(M in d)m[A++]=d[M];return m}function Wn(d){if(d.na&&typeof d.na=="function")return d.na();if(!d.V||typeof d.V!="function"){if(typeof Map<"u"&&d instanceof Map)return Array.from(d.keys());if(!(typeof Set<"u"&&d instanceof Set)){if(c(d)||typeof d=="string"){var m=[];d=d.length;for(var A=0;A<d;A++)m.push(A);return m}m=[],A=0;for(const M in d)m[A++]=M;return m}}}function Od(d,m){if(d.forEach&&typeof d.forEach=="function")d.forEach(m,void 0);else if(c(d)||typeof d=="string")Array.prototype.forEach.call(d,m,void 0);else for(var A=Wn(d),M=Wm(d),G=M.length,Y=0;Y<G;Y++)m.call(void 0,M[Y],A&&A[Y],d)}var xc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ia(d,m){if(d){d=d.split("&");for(var A=0;A<d.length;A++){var M=d[A].indexOf("="),G=null;if(0<=M){var Y=d[A].substring(0,M);G=d[A].substring(M+1)}else Y=d[A];m(Y,G?decodeURIComponent(G.replace(/\+/g," ")):"")}}}function _s(d){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,d instanceof _s){this.h=d.h,Ra(this,d.j),this.o=d.o,this.g=d.g,ni(this,d.s),this.l=d.l;var m=d.i,A=new Io;A.i=m.i,m.g&&(A.g=new Map(m.g),A.h=m.h),Ld(this,A),this.m=d.m}else d&&(m=String(d).match(xc))?(this.h=!1,Ra(this,m[1]||"",!0),this.o=Ts(m[2]||""),this.g=Ts(m[3]||"",!0),ni(this,m[4]),this.l=Ts(m[5]||"",!0),Ld(this,m[6]||"",!0),this.m=Ts(m[7]||"")):(this.h=!1,this.i=new Io(null,this.h))}_s.prototype.toString=function(){var d=[],m=this.j;m&&d.push(An(m,Fd,!0),":");var A=this.g;return(A||m=="file")&&(d.push("//"),(m=this.o)&&d.push(An(m,Fd,!0),"@"),d.push(encodeURIComponent(String(A)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),A=this.s,A!=null&&d.push(":",String(A))),(A=this.l)&&(this.g&&A.charAt(0)!="/"&&d.push("/"),d.push(An(A,A.charAt(0)=="/"?Rr:Qm,!0))),(A=this.i.toString())&&d.push("?",A),(A=this.m)&&d.push("#",An(A,Ym)),d.join("")};function Qn(d){return new _s(d)}function Ra(d,m,A){d.j=A?Ts(m,!0):m,d.j&&(d.j=d.j.replace(/:$/,""))}function ni(d,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);d.s=m}else d.s=null}function Ld(d,m,A){m instanceof Io?(d.i=m,Km(d.i,d.h)):(A||(m=An(m,Vd)),d.i=new Io(m,d.h))}function ot(d,m,A){d.i.set(m,A)}function Na(d){return ot(d,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),d}function Ts(d,m){return d?m?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function An(d,m,A){return typeof d=="string"?(d=encodeURI(d).replace(m,wc),A&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function wc(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var Fd=/[#\/\?@]/g,Qm=/[#\?:]/g,Rr=/[#\?]/g,Vd=/[#\?@]/g,Ym=/#/g;function Io(d,m){this.h=this.g=null,this.i=d||null,this.j=!!m}function Yr(d){d.g||(d.g=new Map,d.h=0,d.i&&Ia(d.i,function(m,A){d.add(decodeURIComponent(m.replace(/\+/g," ")),A)}))}t=Io.prototype,t.add=function(d,m){Yr(this),this.i=null,d=ri(this,d);var A=this.g.get(d);return A||this.g.set(d,A=[]),A.push(m),this.h+=1,this};function Bd(d,m){Yr(d),m=ri(d,m),d.g.has(m)&&(d.i=null,d.h-=d.g.get(m).length,d.g.delete(m))}function Ud(d,m){return Yr(d),m=ri(d,m),d.g.has(m)}t.forEach=function(d,m){Yr(this),this.g.forEach(function(A,M){A.forEach(function(G){d.call(m,G,M,this)},this)},this)},t.na=function(){Yr(this);const d=Array.from(this.g.values()),m=Array.from(this.g.keys()),A=[];for(let M=0;M<m.length;M++){const G=d[M];for(let Y=0;Y<G.length;Y++)A.push(m[M])}return A},t.V=function(d){Yr(this);let m=[];if(typeof d=="string")Ud(this,d)&&(m=m.concat(this.g.get(ri(this,d))));else{d=Array.from(this.g.values());for(let A=0;A<d.length;A++)m=m.concat(d[A])}return m},t.set=function(d,m){return Yr(this),this.i=null,d=ri(this,d),Ud(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[m]),this.h+=1,this},t.get=function(d,m){return d?(d=this.V(d),0<d.length?String(d[0]):m):m};function qd(d,m,A){Bd(d,m),0<A.length&&(d.i=null,d.g.set(ri(d,m),y(A)),d.h+=A.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],m=Array.from(this.g.keys());for(var A=0;A<m.length;A++){var M=m[A];const Y=encodeURIComponent(String(M)),K=this.V(M);for(M=0;M<K.length;M++){var G=Y;K[M]!==""&&(G+="="+encodeURIComponent(String(K[M]))),d.push(G)}}return this.i=d.join("&")};function ri(d,m){return m=String(m),d.j&&(m=m.toLowerCase()),m}function Km(d,m){m&&!d.j&&(Yr(d),d.i=null,d.g.forEach(function(A,M){var G=M.toLowerCase();M!=G&&(Bd(this,M),qd(this,G,A))},d)),d.j=m}function Hm(d,m){const A=new ws;if(a.Image){const M=new Image;M.onload=v(Sn,A,"TestLoadImage: loaded",!0,m,M),M.onerror=v(Sn,A,"TestLoadImage: error",!1,m,M),M.onabort=v(Sn,A,"TestLoadImage: abort",!1,m,M),M.ontimeout=v(Sn,A,"TestLoadImage: timeout",!1,m,M),a.setTimeout(function(){M.ontimeout&&M.ontimeout()},1e4),M.src=d}else m(!1)}function Jm(d,m){const A=new ws,M=new AbortController,G=setTimeout(()=>{M.abort(),Sn(A,"TestPingServer: timeout",!1,m)},1e4);fetch(d,{signal:M.signal}).then(Y=>{clearTimeout(G),Y.ok?Sn(A,"TestPingServer: ok",!0,m):Sn(A,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(G),Sn(A,"TestPingServer: error",!1,m)})}function Sn(d,m,A,M,G){try{G&&(G.onload=null,G.onerror=null,G.onabort=null,G.ontimeout=null),M(A)}catch{}}function Gd(){this.g=new fc}function $d(d,m,A){const M=A||"";try{Od(d,function(G,Y){let K=G;u(G)&&(K=_n(G)),m.push(M+Y+"="+encodeURIComponent(K))})}catch(G){throw m.push(M+"type="+encodeURIComponent("_badmap")),G}}function Ro(d){this.l=d.Ub||null,this.j=d.eb||!1}x(Ro,Ae),Ro.prototype.g=function(){return new Pa(this.l,this.j)},Ro.prototype.i=function(d){return function(){return d}}({});function Pa(d,m){At.call(this),this.D=d,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}x(Pa,At),t=Pa.prototype,t.open=function(d,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=d,this.A=m,this.readyState=1,No(this)},t.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};d&&(m.body=d),(this.D||a).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,si(this)),this.readyState=0},t.Sa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,No(this)),this.g&&(this.readyState=3,No(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;zd(this)}else d.text().then(this.Ra.bind(this),this.ga.bind(this))};function zd(d){d.j.read().then(d.Pa.bind(d)).catch(d.ga.bind(d))}t.Pa=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var m=d.value?d.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!d.done}))&&(this.response=this.responseText+=m)}d.done?si(this):No(this),this.readyState==3&&zd(this)}},t.Ra=function(d){this.g&&(this.response=this.responseText=d,si(this))},t.Qa=function(d){this.g&&(this.response=d,si(this))},t.ga=function(){this.g&&si(this)};function si(d){d.readyState=4,d.l=null,d.j=null,d.v=null,No(d)}t.setRequestHeader=function(d,m){this.u.append(d,m)},t.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],m=this.h.entries();for(var A=m.next();!A.done;)A=A.value,d.push(A[0]+": "+A[1]),A=m.next();return d.join(`\r
`)};function No(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(Pa.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function Wd(d){let m="";return V(d,function(A,M){m+=M,m+=":",m+=A,m+=`\r
`}),m}function Ec(d,m,A){e:{for(M in A){var M=!1;break e}M=!0}M||(A=Wd(A),typeof d=="string"?A!=null&&encodeURIComponent(String(A)):ot(d,m,A))}function xt(d){At.call(this),this.headers=new Map,this.o=d||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}x(xt,At);var Xm=/^https?$/i,Zm=["POST","PUT"];t=xt.prototype,t.Ha=function(d){this.J=d},t.ea=function(d,m,A,M){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);m=m?m.toUpperCase():"GET",this.D=d,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ca.g(),this.v=this.o?Ue(this.o):Ue(Ca),this.g.onreadystatechange=f(this.Ea,this);try{this.B=!0,this.g.open(m,String(d),!0),this.B=!1}catch(Y){Qd(this,Y);return}if(d=A||"",A=new Map(this.headers),M)if(Object.getPrototypeOf(M)===Object.prototype)for(var G in M)A.set(G,M[G]);else if(typeof M.keys=="function"&&typeof M.get=="function")for(const Y of M.keys())A.set(Y,M.get(Y));else throw Error("Unknown input type for opt_headers: "+String(M));M=Array.from(A.keys()).find(Y=>Y.toLowerCase()=="content-type"),G=a.FormData&&d instanceof a.FormData,!(0<=Array.prototype.indexOf.call(Zm,m,void 0))||M||G||A.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Y,K]of A)this.g.setRequestHeader(Y,K);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ma(this),this.u=!0,this.g.send(d),this.u=!1}catch(Y){Qd(this,Y)}};function Qd(d,m){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=m,d.m=5,Yd(d),ka(d)}function Yd(d){d.A||(d.A=!0,vt(d,"complete"),vt(d,"error"))}t.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=d||7,vt(this,"complete"),vt(this,"abort"),ka(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ka(this,!0)),xt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Kd(this):this.bb())},t.bb=function(){Kd(this)};function Kd(d){if(d.h&&typeof o<"u"&&(!d.v[1]||Nr(d)!=4||d.Z()!=2)){if(d.u&&Nr(d)==4)_r(d.Ea,0,d);else if(vt(d,"readystatechange"),Nr(d)==4){d.h=!1;try{const K=d.Z();e:switch(K){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var A;if(!(A=m)){var M;if(M=K===0){var G=String(d.D).match(xc)[1]||null;!G&&a.self&&a.self.location&&(G=a.self.location.protocol.slice(0,-1)),M=!Xm.test(G?G.toLowerCase():"")}A=M}if(A)vt(d,"complete"),vt(d,"success");else{d.m=6;try{var Y=2<Nr(d)?d.g.statusText:""}catch{Y=""}d.l=Y+" ["+d.Z()+"]",Yd(d)}}finally{ka(d)}}}}function ka(d,m){if(d.g){Ma(d);const A=d.g,M=d.v[0]?()=>{}:null;d.g=null,d.v=null,m||vt(d,"ready");try{A.onreadystatechange=M}catch{}}}function Ma(d){d.I&&(a.clearTimeout(d.I),d.I=null)}t.isActive=function(){return!!this.g};function Nr(d){return d.g?d.g.readyState:0}t.Z=function(){try{return 2<Nr(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(d){if(this.g){var m=this.g.responseText;return d&&m.indexOf(d)==0&&(m=m.substring(d.length)),Tn(m)}};function Hd(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.H){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function eg(d){const m={};d=(d.g&&2<=Nr(d)&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let M=0;M<d.length;M++){if(E(d[M]))continue;var A=O(d[M]);const G=A[0];if(A=A[1],typeof A!="string")continue;A=A.trim();const Y=m[G]||[];m[G]=Y,Y.push(A)}I(m,function(M){return M.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ii(d,m,A){return A&&A.internalChannelParams&&A.internalChannelParams[d]||m}function Jd(d){this.Aa=0,this.i=[],this.j=new ws,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ii("failFast",!1,d),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ii("baseRetryDelayMs",5e3,d),this.cb=ii("retryDelaySeedMs",1e4,d),this.Wa=ii("forwardChannelMaxRetries",2,d),this.wa=ii("forwardChannelRequestTimeoutMs",2e4,d),this.pa=d&&d.xmlHttpFactory||void 0,this.Xa=d&&d.Tb||void 0,this.Ca=d&&d.useFetchStreams||!1,this.L=void 0,this.J=d&&d.supportsCrossDomainXhr||!1,this.K="",this.h=new jd(d&&d.concurrentRequestLimit),this.Da=new Gd,this.P=d&&d.fastHandshake||!1,this.O=d&&d.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=d&&d.Rb||!1,d&&d.xa&&this.j.xa(),d&&d.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&d&&d.detectBufferingProxy||!1,this.ja=void 0,d&&d.longPollingTimeout&&0<d.longPollingTimeout&&(this.ja=d.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Jd.prototype,t.la=8,t.G=1,t.connect=function(d,m,A,M){tn(0),this.W=d,this.H=m||{},A&&M!==void 0&&(this.H.OSID=A,this.H.OAID=M),this.F=this.X,this.I=sh(this,null,this.W),ja(this)};function bc(d){if(Xd(d),d.G==3){var m=d.U++,A=Qn(d.I);if(ot(A,"SID",d.K),ot(A,"RID",m),ot(A,"TYPE","terminate"),ko(d,A),m=new Ir(d,d.j,m),m.L=2,m.v=Na(Qn(A)),A=!1,a.navigator&&a.navigator.sendBeacon)try{A=a.navigator.sendBeacon(m.v.toString(),"")}catch{}!A&&a.Image&&(new Image().src=m.v,A=!0),A||(m.g=ih(m.j,null),m.g.ea(m.v)),m.F=Date.now(),Ta(m)}oi(d)}function Po(d){d.g&&(_c(d),d.g.cancel(),d.g=null)}function Xd(d){Po(d),d.u&&(a.clearTimeout(d.u),d.u=null),Da(d),d.h.cancel(),d.s&&(typeof d.s=="number"&&a.clearTimeout(d.s),d.s=null)}function ja(d){if(!So(d.h)&&!d.s){d.s=!0;var m=d.Ga;ue||Z(),q||(ue(),q=!0),z.add(m,d),d.B=0}}function tg(d,m){return vc(d.h)>=d.h.j-(d.s?1:0)?!1:d.s?(d.i=m.D.concat(d.i),!0):d.G==1||d.G==2||d.B>=(d.Va?0:d.Wa)?!1:(d.s=xs(f(d.Ga,d,m),Oa(d,d.B)),d.B++,!0)}t.Ga=function(d){if(this.s)if(this.s=null,this.G==1){if(!d){this.U=Math.floor(1e5*Math.random()),d=this.U++;const G=new Ir(this,this.j,d);let Y=this.o;if(this.S&&(Y?(Y=S(Y),k(Y,this.S)):Y=this.S),this.m!==null||this.O||(G.H=Y,Y=null),this.P)e:{for(var m=0,A=0;A<this.i.length;A++){t:{var M=this.i[A];if("__data__"in M.map&&(M=M.map.__data__,typeof M=="string")){M=M.length;break t}M=void 0}if(M===void 0)break;if(m+=M,4096<m){m=A;break e}if(m===4096||A===this.i.length-1){m=A+1;break e}}m=1e3}else m=1e3;m=eh(this,G,m),A=Qn(this.I),ot(A,"RID",d),ot(A,"CVER",22),this.D&&ot(A,"X-HTTP-Session-Id",this.D),ko(this,A),Y&&(this.O?m="headers="+encodeURIComponent(String(Wd(Y)))+"&"+m:this.m&&Ec(A,this.m,Y)),Sa(this.h,G),this.Ua&&ot(A,"TYPE","init"),this.P?(ot(A,"$req",m),ot(A,"SID","null"),G.T=!0,mc(G,A,null)):mc(G,A,m),this.G=2}}else this.G==3&&(d?Zd(this,d):this.i.length==0||So(this.h)||Zd(this))};function Zd(d,m){var A;m?A=m.l:A=d.U++;const M=Qn(d.I);ot(M,"SID",d.K),ot(M,"RID",A),ot(M,"AID",d.T),ko(d,M),d.m&&d.o&&Ec(M,d.m,d.o),A=new Ir(d,d.j,A,d.B+1),d.m===null&&(A.H=d.o),m&&(d.i=m.D.concat(d.i)),m=eh(d,A,1e3),A.I=Math.round(.5*d.wa)+Math.round(.5*d.wa*Math.random()),Sa(d.h,A),mc(A,M,m)}function ko(d,m){d.H&&V(d.H,function(A,M){ot(m,M,A)}),d.l&&Od({},function(A,M){ot(m,M,A)})}function eh(d,m,A){A=Math.min(d.i.length,A);var M=d.l?f(d.l.Na,d.l,d):null;e:{var G=d.i;let Y=-1;for(;;){const K=["count="+A];Y==-1?0<A?(Y=G[0].g,K.push("ofs="+Y)):Y=0:K.push("ofs="+Y);let rt=!0;for(let qt=0;qt<A;qt++){let Qe=G[qt].g;const Yt=G[qt].map;if(Qe-=Y,0>Qe)Y=Math.max(0,G[qt].g-100),rt=!1;else try{$d(Yt,K,"req"+Qe+"_")}catch{M&&M(Yt)}}if(rt){M=K.join("&");break e}}}return d=d.i.splice(0,A),m.D=d,M}function th(d){if(!d.g&&!d.u){d.Y=1;var m=d.Fa;ue||Z(),q||(ue(),q=!0),z.add(m,d),d.v=0}}function Cc(d){return d.g||d.u||3<=d.v?!1:(d.Y++,d.u=xs(f(d.Fa,d),Oa(d,d.v)),d.v++,!0)}t.Fa=function(){if(this.u=null,nh(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var d=2*this.R;this.j.info("BP detection timer enabled: "+d),this.A=xs(f(this.ab,this),d)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,tn(10),Po(this),nh(this))};function _c(d){d.A!=null&&(a.clearTimeout(d.A),d.A=null)}function nh(d){d.g=new Ir(d,d.j,"rpc",d.Y),d.m===null&&(d.g.H=d.o),d.g.O=0;var m=Qn(d.qa);ot(m,"RID","rpc"),ot(m,"SID",d.K),ot(m,"AID",d.T),ot(m,"CI",d.F?"0":"1"),!d.F&&d.ja&&ot(m,"TO",d.ja),ot(m,"TYPE","xmlhttp"),ko(d,m),d.m&&d.o&&Ec(m,d.m,d.o),d.L&&(d.g.I=d.L);var A=d.g;d=d.ia,A.L=1,A.v=Na(Qn(m)),A.m=null,A.P=!0,_a(A,d)}t.Za=function(){this.C!=null&&(this.C=null,Po(this),Cc(this),tn(19))};function Da(d){d.C!=null&&(a.clearTimeout(d.C),d.C=null)}function rh(d,m){var A=null;if(d.g==m){Da(d),_c(d),d.g=null;var M=2}else if(Aa(d.h,m))A=m.D,Fe(d.h,m),M=1;else return;if(d.G!=0){if(m.o)if(M==1){A=m.m?m.m.length:0,m=Date.now()-m.F;var G=d.B;M=We(),vt(M,new Rd(M,A)),ja(d)}else th(d);else if(G=m.s,G==3||G==0&&0<m.X||!(M==1&&tg(d,m)||M==2&&Cc(d)))switch(A&&0<A.length&&(m=d.h,m.i=m.i.concat(A)),G){case 1:As(d,5);break;case 4:As(d,10);break;case 3:As(d,6);break;default:As(d,2)}}}function Oa(d,m){let A=d.Ta+Math.floor(Math.random()*d.cb);return d.isActive()||(A*=2),A*m}function As(d,m){if(d.j.info("Error code "+m),m==2){var A=f(d.fb,d),M=d.Xa;const G=!M;M=new _s(M||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Ra(M,"https"),Na(M),G?Hm(M.toString(),A):Jm(M.toString(),A)}else tn(2);d.G=0,d.l&&d.l.sa(m),oi(d),Xd(d)}t.fb=function(d){d?(this.j.info("Successfully pinged google.com"),tn(2)):(this.j.info("Failed to ping google.com"),tn(1))};function oi(d){if(d.G=0,d.ka=[],d.l){const m=Dd(d.h);(m.length!=0||d.i.length!=0)&&(w(d.ka,m),w(d.ka,d.i),d.h.i.length=0,y(d.i),d.i.length=0),d.l.ra()}}function sh(d,m,A){var M=A instanceof _s?Qn(A):new _s(A);if(M.g!="")m&&(M.g=m+"."+M.g),ni(M,M.s);else{var G=a.location;M=G.protocol,m=m?m+"."+G.hostname:G.hostname,G=+G.port;var Y=new _s(null);M&&Ra(Y,M),m&&(Y.g=m),G&&ni(Y,G),A&&(Y.l=A),M=Y}return A=d.D,m=d.ya,A&&m&&ot(M,A,m),ot(M,"VER",d.la),ko(d,M),M}function ih(d,m,A){if(m&&!d.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=d.Ca&&!d.pa?new xt(new Ro({eb:A})):new xt(d.pa),m.Ha(d.J),m}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function oh(){}t=oh.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function La(){}La.prototype.g=function(d,m){return new In(d,m)};function In(d,m){At.call(this),this.g=new Jd(m),this.l=d,this.h=m&&m.messageUrlParams||null,d=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(d?d["X-WebChannel-Content-Type"]=m.messageContentType:d={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(d?d["X-WebChannel-Client-Profile"]=m.va:d={"X-WebChannel-Client-Profile":m.va}),this.g.S=d,(d=m&&m.Sb)&&!E(d)&&(this.g.m=d),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!E(m)&&(this.g.D=m,d=this.h,d!==null&&m in d&&(d=this.h,m in d&&delete d[m])),this.j=new ai(this)}x(In,At),In.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},In.prototype.close=function(){bc(this.g)},In.prototype.o=function(d){var m=this.g;if(typeof d=="string"){var A={};A.__data__=d,d=A}else this.u&&(A={},A.__data__=_n(d),d=A);m.i.push(new zm(m.Ya++,d)),m.G==3&&ja(m)},In.prototype.N=function(){this.g.l=null,delete this.j,bc(this.g),delete this.g,In.aa.N.call(this)};function ah(d){hn.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var m=d.__sm__;if(m){e:{for(const A in m){d=A;break e}d=void 0}(this.i=d)&&(d=this.i,m=m!==null&&d in m?m[d]:void 0),this.data=m}else this.data=d}x(ah,hn);function lh(){Sr.call(this),this.status=1}x(lh,Sr);function ai(d){this.g=d}x(ai,oh),ai.prototype.ua=function(){vt(this.g,"a")},ai.prototype.ta=function(d){vt(this.g,new ah(d))},ai.prototype.sa=function(d){vt(this.g,new lh)},ai.prototype.ra=function(){vt(this.g,"b")},La.prototype.createWebChannel=La.prototype.g,In.prototype.send=In.prototype.o,In.prototype.open=In.prototype.m,In.prototype.close=In.prototype.close,TS=function(){return new La},_S=function(){return We()},CS=dt,uy={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},bs.NO_ERROR=0,bs.TIMEOUT=8,bs.HTTP_ERROR=6,lf=bs,ba.COMPLETE="complete",bS=ba,Je.EventType=Qt,Qt.OPEN="a",Qt.CLOSE="b",Qt.ERROR="c",Qt.MESSAGE="d",At.prototype.listen=At.prototype.K,Gc=Je,xt.prototype.listenOnce=xt.prototype.L,xt.prototype.getLastError=xt.prototype.Ka,xt.prototype.getLastErrorCode=xt.prototype.Ba,xt.prototype.getStatus=xt.prototype.Z,xt.prototype.getResponseJson=xt.prototype.Oa,xt.prototype.getResponseText=xt.prototype.oa,xt.prototype.send=xt.prototype.ea,xt.prototype.setWithCredentials=xt.prototype.Ha,ES=xt}).apply(typeof kh<"u"?kh:typeof self<"u"?self:typeof window<"u"?window:{});const PE="@firebase/firestore",kE="4.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}xn.UNAUTHENTICATED=new xn(null),xn.GOOGLE_CREDENTIALS=new xn("google-credentials-uid"),xn.FIRST_PARTY=new xn("first-party-uid"),xn.MOCK_USER=new xn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ec="11.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ia=new gx("@firebase/firestore");function Ga(){return ia.logLevel}function me(t,...e){if(ia.logLevel<=qe.DEBUG){const n=e.map(wx);ia.debug(`Firestore (${ec}): ${t}`,...n)}}function $s(t,...e){if(ia.logLevel<=qe.ERROR){const n=e.map(wx);ia.error(`Firestore (${ec}): ${t}`,...n)}}function Ji(t,...e){if(ia.logLevel<=qe.WARN){const n=e.map(wx);ia.warn(`Firestore (${ec}): ${t}`,...n)}}function wx(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Re(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,AS(t,r,n)}function AS(t,e,n){let r=`FIRESTORE (${ec}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw $s(r),new Error(r)}function nt(t,e,n,r){let s="Unexpected state";typeof n=="string"?s=n:r=n,t||AS(e,s,r)}function Pe(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class fe extends Js{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ls{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SS{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class V3{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(xn.UNAUTHENTICATED))}shutdown(){}}class B3{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class U3{constructor(e){this.t=e,this.currentUser=xn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){nt(this.o===void 0,42304);let r=this.i;const s=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve();let i=new Ls;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Ls,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const c=i;e.enqueueRetryable(async()=>{await c.promise,await s(this.currentUser)})},a=c=>{me("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(c=>a(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?a(c):(me("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Ls)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(me("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(nt(typeof r.accessToken=="string",31837,{l:r}),new SS(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return nt(e===null||typeof e=="string",2055,{h:e}),new xn(e)}}class q3{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=xn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class G3{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new q3(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(xn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class ME{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class $3{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,gr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){nt(this.o===void 0,3512);const r=i=>{i.error!=null&&me("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.m;return this.m=i.token,me("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{me("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.V.getImmediate({optional:!0});i?s(i):me("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new ME(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(nt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new ME(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z3(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IS(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ex{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=z3(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%62))}return r}}function Oe(t,e){return t<e?-1:t>e?1:0}function dy(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=t.codePointAt(n),s=e.codePointAt(n);if(r!==s){if(r<128&&s<128)return Oe(r,s);{const i=IS(),o=W3(i.encode(jE(t,n)),i.encode(jE(e,n)));return o!==0?o:Oe(r,s)}}n+=r>65535?2:1}return Oe(t.length,e.length)}function jE(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function W3(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return Oe(t[n],e[n]);return Oe(t.length,e.length)}function Fl(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DE="__name__";class Xr{constructor(e,n,r){n===void 0?n=0:n>e.length&&Re(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Re(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Xr.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Xr?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=Xr.compareSegments(e.get(s),n.get(s));if(i!==0)return i}return Oe(e.length,n.length)}static compareSegments(e,n){const r=Xr.isNumericId(e),s=Xr.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?Xr.extractNumericId(e).compare(Xr.extractNumericId(n)):dy(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return zi.fromString(e.substring(4,e.length-2))}}class ct extends Xr{construct(e,n,r){return new ct(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new fe(H.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new ct(n)}static emptyPath(){return new ct([])}}const Q3=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class sn extends Xr{construct(e,n,r){return new sn(e,n,r)}static isValidIdentifier(e){return Q3.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),sn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===DE}static keyField(){return new sn([DE])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new fe(H.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<e.length;){const a=e[s];if(a==="\\"){if(s+1===e.length)throw new fe(H.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[s+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new fe(H.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,s+=2}else a==="`"?(o=!o,s++):a!=="."||o?(r+=a,s++):(i(),s++)}if(i(),o)throw new fe(H.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new sn(n)}static emptyPath(){return new sn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class be{constructor(e){this.path=e}static fromPath(e){return new be(ct.fromString(e))}static fromName(e){return new be(ct.fromString(e).popFirst(5))}static empty(){return new be(ct.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ct.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ct.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new be(new ct(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RS(t,e,n){if(!n)throw new fe(H.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Y3(t,e,n,r){if(e===!0&&r===!0)throw new fe(H.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function OE(t){if(!be.isDocumentKey(t))throw new fe(H.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function LE(t){if(be.isDocumentKey(t))throw new fe(H.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function NS(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Zp(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Re(12329,{type:typeof t})}function sr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new fe(H.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Zp(t);throw new fe(H.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bt(t,e){const n={typeString:t};return e&&(n.value=e),n}function dd(t,e){if(!NS(t))throw new fe(H.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const s=e[r].typeString,i="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const o=t[r];if(s&&typeof o!==s){n=`JSON field '${r}' must be a ${s}.`;break}if(i!==void 0&&o!==i.value){n=`Expected '${r}' field to equal '${i.value}'`;break}}if(n)throw new fe(H.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FE=-62135596800,VE=1e6;class Ge{static now(){return Ge.fromMillis(Date.now())}static fromDate(e){return Ge.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*VE);return new Ge(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new fe(H.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new fe(H.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<FE)throw new fe(H.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new fe(H.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/VE}_compareTo(e){return this.seconds===e.seconds?Oe(this.nanoseconds,e.nanoseconds):Oe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Ge._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(dd(e,Ge._jsonSchema))return new Ge(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-FE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Ge._jsonSchemaVersion="firestore/timestamp/1.0",Ge._jsonSchema={type:Bt("string",Ge._jsonSchemaVersion),seconds:Bt("number"),nanoseconds:Bt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ne{static fromTimestamp(e){return new Ne(e)}static min(){return new Ne(new Ge(0,0))}static max(){return new Ne(new Ge(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ou=-1;function K3(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=Ne.fromTimestamp(r===1e9?new Ge(n+1,0):new Ge(n,r));return new Xi(s,be.empty(),e)}function H3(t){return new Xi(t.readTime,t.key,Ou)}class Xi{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Xi(Ne.min(),be.empty(),Ou)}static max(){return new Xi(Ne.max(),be.empty(),Ou)}}function J3(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=be.comparator(t.documentKey,e.documentKey),n!==0?n:Oe(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X3="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Z3{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tc(t){if(t.code!==H.FAILED_PRECONDITION||t.message!==X3)throw t;me("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Re(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new J((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof J?n:J.resolve(n)}catch(n){return J.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):J.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):J.reject(n)}static resolve(e){return new J((n,r)=>{n(e)})}static reject(e){return new J((n,r)=>{r(e)})}static waitFor(e){return new J((n,r)=>{let s=0,i=0,o=!1;e.forEach(a=>{++s,a.next(()=>{++i,o&&i===s&&n()},c=>r(c))}),o=!0,i===s&&n()})}static or(e){let n=J.resolve(!1);for(const r of e)n=n.next(s=>s?J.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new J((r,s)=>{const i=e.length,o=new Array(i);let a=0;for(let c=0;c<i;c++){const u=c;n(e[u]).next(h=>{o[u]=h,++a,a===i&&r(o)},h=>s(h))}})}static doWhile(e,n){return new J((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}function e5(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function nc(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class em{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this._e(r),this.ae=r=>n.writeSequenceNumber(r))}_e(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ae&&this.ae(e),e}}em.ue=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bx=-1;function tm(t){return t==null}function ep(t){return t===0&&1/t==-1/0}function t5(t){return typeof t=="number"&&Number.isInteger(t)&&!ep(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PS="";function n5(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=BE(e)),e=r5(t.get(n),e);return BE(e)}function r5(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const i=t.charAt(s);switch(i){case"\0":n+="";break;case PS:n+="";break;default:n+=i}}return n}function BE(t){return t+PS+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UE(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function fo(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function kS(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tt{constructor(e,n){this.comparator=e,this.root=n||rn.EMPTY}insert(e,n){return new Tt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,rn.BLACK,null,null))}remove(e){return new Tt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,rn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Mh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Mh(this.root,e,this.comparator,!1)}getReverseIterator(){return new Mh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Mh(this.root,e,this.comparator,!0)}}class Mh{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class rn{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??rn.RED,this.left=s??rn.EMPTY,this.right=i??rn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new rn(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return rn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return rn.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,rn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,rn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Re(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Re(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Re(27949);return e+(this.isRed()?0:1)}}rn.EMPTY=null,rn.RED=!0,rn.BLACK=!1;rn.EMPTY=new class{constructor(){this.size=0}get key(){throw Re(57766)}get value(){throw Re(16141)}get color(){throw Re(16727)}get left(){throw Re(29726)}get right(){throw Re(36894)}copy(e,n,r,s,i){return this}insert(e,n,r){return new rn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{constructor(e){this.comparator=e,this.data=new Tt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new qE(this.data.getIterator())}getIteratorFrom(e){return new qE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Wt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Wt(this.comparator);return n.data=e,n}}class qE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nr{constructor(e){this.fields=e,e.sort(sn.comparator)}static empty(){return new nr([])}unionWith(e){let n=new Wt(sn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new nr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Fl(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MS extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class un{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new MS("Invalid base64 string: "+i):i}}(e);return new un(n)}static fromUint8Array(e){const n=function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i}(e);return new un(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Oe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}un.EMPTY_BYTE_STRING=new un("");const s5=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Zi(t){if(nt(!!t,39018),typeof t=="string"){let e=0;const n=s5.exec(t);if(nt(!!n,46558,{timestamp:t}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:kt(t.seconds),nanos:kt(t.nanos)}}function kt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function eo(t){return typeof t=="string"?un.fromBase64String(t):un.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jS="server_timestamp",DS="__type__",OS="__previous_value__",LS="__local_write_time__";function Cx(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[DS])===null||n===void 0?void 0:n.stringValue)===jS}function nm(t){const e=t.mapValue.fields[OS];return Cx(e)?nm(e):e}function Lu(t){const e=Zi(t.mapValue.fields[LS].timestampValue);return new Ge(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i5{constructor(e,n,r,s,i,o,a,c,u,h){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=u,this.isUsingEmulator=h}}const tp="(default)";class Fu{constructor(e,n){this.projectId=e,this.database=n||tp}static empty(){return new Fu("","")}get isDefaultDatabase(){return this.database===tp}isEqual(e){return e instanceof Fu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FS="__type__",VS="__max__",jh={mapValue:{fields:{__type__:{stringValue:VS}}}},BS="__vector__",np="value";function to(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Cx(t)?4:a5(t)?9007199254740991:o5(t)?10:11:Re(28295,{value:t})}function hs(t,e){if(t===e)return!0;const n=to(t);if(n!==to(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Lu(t).isEqual(Lu(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=Zi(s.timestampValue),a=Zi(i.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return eo(s.bytesValue).isEqual(eo(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return kt(s.geoPointValue.latitude)===kt(i.geoPointValue.latitude)&&kt(s.geoPointValue.longitude)===kt(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return kt(s.integerValue)===kt(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=kt(s.doubleValue),a=kt(i.doubleValue);return o===a?ep(o)===ep(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Fl(t.arrayValue.values||[],e.arrayValue.values||[],hs);case 10:case 11:return function(s,i){const o=s.mapValue.fields||{},a=i.mapValue.fields||{};if(UE(o)!==UE(a))return!1;for(const c in o)if(o.hasOwnProperty(c)&&(a[c]===void 0||!hs(o[c],a[c])))return!1;return!0}(t,e);default:return Re(52216,{left:t})}}function Vu(t,e){return(t.values||[]).find(n=>hs(n,e))!==void 0}function Vl(t,e){if(t===e)return 0;const n=to(t),r=to(e);if(n!==r)return Oe(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Oe(t.booleanValue,e.booleanValue);case 2:return function(i,o){const a=kt(i.integerValue||i.doubleValue),c=kt(o.integerValue||o.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1}(t,e);case 3:return GE(t.timestampValue,e.timestampValue);case 4:return GE(Lu(t),Lu(e));case 5:return dy(t.stringValue,e.stringValue);case 6:return function(i,o){const a=eo(i),c=eo(o);return a.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const a=i.split("/"),c=o.split("/");for(let u=0;u<a.length&&u<c.length;u++){const h=Oe(a[u],c[u]);if(h!==0)return h}return Oe(a.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const a=Oe(kt(i.latitude),kt(o.latitude));return a!==0?a:Oe(kt(i.longitude),kt(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return $E(t.arrayValue,e.arrayValue);case 10:return function(i,o){var a,c,u,h;const p=i.fields||{},f=o.fields||{},v=(a=p[np])===null||a===void 0?void 0:a.arrayValue,x=(c=f[np])===null||c===void 0?void 0:c.arrayValue,y=Oe(((u=v==null?void 0:v.values)===null||u===void 0?void 0:u.length)||0,((h=x==null?void 0:x.values)===null||h===void 0?void 0:h.length)||0);return y!==0?y:$E(v,x)}(t.mapValue,e.mapValue);case 11:return function(i,o){if(i===jh.mapValue&&o===jh.mapValue)return 0;if(i===jh.mapValue)return 1;if(o===jh.mapValue)return-1;const a=i.fields||{},c=Object.keys(a),u=o.fields||{},h=Object.keys(u);c.sort(),h.sort();for(let p=0;p<c.length&&p<h.length;++p){const f=dy(c[p],h[p]);if(f!==0)return f;const v=Vl(a[c[p]],u[h[p]]);if(v!==0)return v}return Oe(c.length,h.length)}(t.mapValue,e.mapValue);default:throw Re(23264,{le:n})}}function GE(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Oe(t,e);const n=Zi(t),r=Zi(e),s=Oe(n.seconds,r.seconds);return s!==0?s:Oe(n.nanos,r.nanos)}function $E(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const i=Vl(n[s],r[s]);if(i)return i}return Oe(n.length,r.length)}function Bl(t){return hy(t)}function hy(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Zi(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return eo(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return be.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=hy(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const o of r)i?i=!1:s+=",",s+=`${o}:${hy(n.fields[o])}`;return s+"}"}(t.mapValue):Re(61005,{value:t})}function cf(t){switch(to(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=nm(t);return e?16+cf(e):16;case 5:return 2*t.stringValue.length;case 6:return eo(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((s,i)=>s+cf(i),0)}(t.arrayValue);case 10:case 11:return function(r){let s=0;return fo(r.fields,(i,o)=>{s+=i.length+cf(o)}),s}(t.mapValue);default:throw Re(13486,{value:t})}}function zE(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function fy(t){return!!t&&"integerValue"in t}function _x(t){return!!t&&"arrayValue"in t}function WE(t){return!!t&&"nullValue"in t}function QE(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function uf(t){return!!t&&"mapValue"in t}function o5(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[FS])===null||n===void 0?void 0:n.stringValue)===BS}function lu(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return fo(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=lu(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=lu(t.arrayValue.values[n]);return e}return Object.assign({},t)}function a5(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===VS}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bn{constructor(e){this.value=e}static empty(){return new Bn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!uf(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=lu(n)}setAll(e){let n=sn.emptyPath(),r={},s=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const c=this.getFieldsMap(n);this.applyChanges(c,r,s),r={},s=[],n=a.popLast()}o?r[a.lastSegment()]=lu(o):s.push(a.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());uf(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return hs(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];uf(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){fo(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new Bn(lu(this.value))}}function US(t){const e=[];return fo(t.fields,(n,r)=>{const s=new sn([n]);if(uf(r)){const i=US(r.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)}),new nr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class En{constructor(e,n,r,s,i,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(e){return new En(e,0,Ne.min(),Ne.min(),Ne.min(),Bn.empty(),0)}static newFoundDocument(e,n,r,s){return new En(e,1,n,Ne.min(),r,s,0)}static newNoDocument(e,n){return new En(e,2,n,Ne.min(),Ne.min(),Bn.empty(),0)}static newUnknownDocument(e,n){return new En(e,3,n,Ne.min(),Ne.min(),Bn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ne.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Bn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Bn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ne.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof En&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new En(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rp{constructor(e,n){this.position=e,this.inclusive=n}}function YE(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?r=be.comparator(be.fromName(o.referenceValue),n.key):r=Vl(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function KE(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!hs(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bu{constructor(e,n="asc"){this.field=e,this.dir=n}}function l5(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qS{}class Vt extends qS{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new u5(e,n,r):n==="array-contains"?new f5(e,r):n==="in"?new p5(e,r):n==="not-in"?new m5(e,r):n==="array-contains-any"?new g5(e,r):new Vt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new d5(e,r):new h5(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Vl(n,this.value)):n!==null&&to(this.value)===to(n)&&this.matchesComparison(Vl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Re(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Gr extends qS{constructor(e,n){super(),this.filters=e,this.op=n,this.he=null}static create(e,n){return new Gr(e,n)}matches(e){return GS(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}}function GS(t){return t.op==="and"}function $S(t){return c5(t)&&GS(t)}function c5(t){for(const e of t.filters)if(e instanceof Gr)return!1;return!0}function py(t){if(t instanceof Vt)return t.field.canonicalString()+t.op.toString()+Bl(t.value);if($S(t))return t.filters.map(e=>py(e)).join(",");{const e=t.filters.map(n=>py(n)).join(",");return`${t.op}(${e})`}}function zS(t,e){return t instanceof Vt?function(r,s){return s instanceof Vt&&r.op===s.op&&r.field.isEqual(s.field)&&hs(r.value,s.value)}(t,e):t instanceof Gr?function(r,s){return s instanceof Gr&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,o,a)=>i&&zS(o,s.filters[a]),!0):!1}(t,e):void Re(19439)}function WS(t){return t instanceof Vt?function(n){return`${n.field.canonicalString()} ${n.op} ${Bl(n.value)}`}(t):t instanceof Gr?function(n){return n.op.toString()+" {"+n.getFilters().map(WS).join(" ,")+"}"}(t):"Filter"}class u5 extends Vt{constructor(e,n,r){super(e,n,r),this.key=be.fromName(r.referenceValue)}matches(e){const n=be.comparator(e.key,this.key);return this.matchesComparison(n)}}class d5 extends Vt{constructor(e,n){super(e,"in",n),this.keys=QS("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class h5 extends Vt{constructor(e,n){super(e,"not-in",n),this.keys=QS("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function QS(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>be.fromName(r.referenceValue))}class f5 extends Vt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return _x(n)&&Vu(n.arrayValue,this.value)}}class p5 extends Vt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Vu(this.value.arrayValue,n)}}class m5 extends Vt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Vu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Vu(this.value.arrayValue,n)}}class g5 extends Vt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!_x(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Vu(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y5{constructor(e,n=null,r=[],s=[],i=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=a,this.Pe=null}}function HE(t,e=null,n=[],r=[],s=null,i=null,o=null){return new y5(t,e,n,r,s,i,o)}function Tx(t){const e=Pe(t);if(e.Pe===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>py(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),tm(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Bl(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Bl(r)).join(",")),e.Pe=n}return e.Pe}function Ax(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!l5(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!zS(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!KE(t.startAt,e.startAt)&&KE(t.endAt,e.endAt)}function my(t){return be.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rc{constructor(e,n=null,r=[],s=[],i=null,o="F",a=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=c,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function v5(t,e,n,r,s,i,o,a){return new rc(t,e,n,r,s,i,o,a)}function rm(t){return new rc(t)}function JE(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function YS(t){return t.collectionGroup!==null}function cu(t){const e=Pe(t);if(e.Te===null){e.Te=[];const n=new Set;for(const i of e.explicitOrderBy)e.Te.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new Wt(sn.comparator);return o.filters.forEach(c=>{c.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.Te.push(new Bu(i,r))}),n.has(sn.keyField().canonicalString())||e.Te.push(new Bu(sn.keyField(),r))}return e.Te}function os(t){const e=Pe(t);return e.Ie||(e.Ie=x5(e,cu(t))),e.Ie}function x5(t,e){if(t.limitType==="F")return HE(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new Bu(s.field,i)});const n=t.endAt?new rp(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new rp(t.startAt.position,t.startAt.inclusive):null;return HE(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function gy(t,e){const n=t.filters.concat([e]);return new rc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function yy(t,e,n){return new rc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function sm(t,e){return Ax(os(t),os(e))&&t.limitType===e.limitType}function KS(t){return`${Tx(os(t))}|lt:${t.limitType}`}function $a(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>WS(s)).join(", ")}]`),tm(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>Bl(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>Bl(s)).join(",")),`Target(${r})`}(os(t))}; limitType=${t.limitType})`}function im(t,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):be.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,s){for(const i of cu(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(o,a,c){const u=YE(o,a,c);return o.inclusive?u<=0:u<0}(r.startAt,cu(r),s)||r.endAt&&!function(o,a,c){const u=YE(o,a,c);return o.inclusive?u>=0:u>0}(r.endAt,cu(r),s))}(t,e)}function w5(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function HS(t){return(e,n)=>{let r=!1;for(const s of cu(t)){const i=E5(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function E5(t,e,n){const r=t.field.isKeyField()?be.comparator(e.key,n.key):function(i,o,a){const c=o.data.field(i),u=a.data.field(i);return c!==null&&u!==null?Vl(c,u):Re(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Re(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ga{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){fo(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return kS(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b5=new Tt(be.comparator);function zs(){return b5}const JS=new Tt(be.comparator);function $c(...t){let e=JS;for(const n of t)e=e.insert(n.key,n);return e}function XS(t){let e=JS;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Vo(){return uu()}function ZS(){return uu()}function uu(){return new ga(t=>t.toString(),(t,e)=>t.isEqual(e))}const C5=new Tt(be.comparator),_5=new Wt(be.comparator);function $e(...t){let e=_5;for(const n of t)e=e.add(n);return e}const T5=new Wt(Oe);function A5(){return T5}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sx(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ep(e)?"-0":e}}function eI(t){return{integerValue:""+t}}function S5(t,e){return t5(e)?eI(e):Sx(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class om{constructor(){this._=void 0}}function I5(t,e,n){return t instanceof sp?function(s,i){const o={fields:{[DS]:{stringValue:jS},[LS]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&Cx(i)&&(i=nm(i)),i&&(o.fields[OS]=i),{mapValue:o}}(n,e):t instanceof Uu?nI(t,e):t instanceof qu?rI(t,e):function(s,i){const o=tI(s,i),a=XE(o)+XE(s.Ee);return fy(o)&&fy(s.Ee)?eI(a):Sx(s.serializer,a)}(t,e)}function R5(t,e,n){return t instanceof Uu?nI(t,e):t instanceof qu?rI(t,e):n}function tI(t,e){return t instanceof ip?function(r){return fy(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class sp extends om{}class Uu extends om{constructor(e){super(),this.elements=e}}function nI(t,e){const n=sI(e);for(const r of t.elements)n.some(s=>hs(s,r))||n.push(r);return{arrayValue:{values:n}}}class qu extends om{constructor(e){super(),this.elements=e}}function rI(t,e){let n=sI(e);for(const r of t.elements)n=n.filter(s=>!hs(s,r));return{arrayValue:{values:n}}}class ip extends om{constructor(e,n){super(),this.serializer=e,this.Ee=n}}function XE(t){return kt(t.integerValue||t.doubleValue)}function sI(t){return _x(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function N5(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof Uu&&s instanceof Uu||r instanceof qu&&s instanceof qu?Fl(r.elements,s.elements,hs):r instanceof ip&&s instanceof ip?hs(r.Ee,s.Ee):r instanceof sp&&s instanceof sp}(t.transform,e.transform)}class P5{constructor(e,n){this.version=e,this.transformResults=n}}class Ur{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Ur}static exists(e){return new Ur(void 0,e)}static updateTime(e){return new Ur(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function df(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}let am=class{};function iI(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Ix(t.key,Ur.none()):new hd(t.key,t.data,Ur.none());{const n=t.data,r=Bn.empty();let s=new Wt(sn.comparator);for(let i of e.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new po(t.key,r,new nr(s.toArray()),Ur.none())}}function k5(t,e,n){t instanceof hd?function(s,i,o){const a=s.value.clone(),c=eb(s.fieldTransforms,i,o.transformResults);a.setAll(c),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof po?function(s,i,o){if(!df(s.precondition,i))return void i.convertToUnknownDocument(o.version);const a=eb(s.fieldTransforms,i,o.transformResults),c=i.data;c.setAll(oI(s)),c.setAll(a),i.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(t,e,n):function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function du(t,e,n,r){return t instanceof hd?function(i,o,a,c){if(!df(i.precondition,o))return a;const u=i.value.clone(),h=tb(i.fieldTransforms,c,o);return u.setAll(h),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof po?function(i,o,a,c){if(!df(i.precondition,o))return a;const u=tb(i.fieldTransforms,c,o),h=o.data;return h.setAll(oI(i)),h.setAll(u),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),a===null?null:a.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(p=>p.field))}(t,e,n,r):function(i,o,a){return df(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function M5(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=tI(r.transform,s||null);i!=null&&(n===null&&(n=Bn.empty()),n.set(r.field,i))}return n||null}function ZE(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&Fl(r,s,(i,o)=>N5(i,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class hd extends am{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class po extends am{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function oI(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function eb(t,e,n){const r=new Map;nt(t.length===n.length,32656,{Ae:n.length,Re:t.length});for(let s=0;s<n.length;s++){const i=t[s],o=i.transform,a=e.data.field(i.field);r.set(i.field,R5(o,a,n[s]))}return r}function tb(t,e,n){const r=new Map;for(const s of t){const i=s.transform,o=n.data.field(s.field);r.set(s.field,I5(i,o,e))}return r}class Ix extends am{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class j5 extends am{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D5{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&k5(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=du(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=du(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=ZS();return this.mutations.forEach(s=>{const i=e.get(s.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=n.has(s.key)?null:a;const c=iI(o,a);c!==null&&r.set(s.key,c),o.isValidDocument()||o.convertToNoDocument(Ne.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),$e())}isEqual(e){return this.batchId===e.batchId&&Fl(this.mutations,e.mutations,(n,r)=>ZE(n,r))&&Fl(this.baseMutations,e.baseMutations,(n,r)=>ZE(n,r))}}class Rx{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){nt(e.mutations.length===r.length,58842,{Ve:e.mutations.length,me:r.length});let s=function(){return C5}();const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new Rx(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O5{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L5{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Lt,Ye;function F5(t){switch(t){case H.OK:return Re(64938);case H.CANCELLED:case H.UNKNOWN:case H.DEADLINE_EXCEEDED:case H.RESOURCE_EXHAUSTED:case H.INTERNAL:case H.UNAVAILABLE:case H.UNAUTHENTICATED:return!1;case H.INVALID_ARGUMENT:case H.NOT_FOUND:case H.ALREADY_EXISTS:case H.PERMISSION_DENIED:case H.FAILED_PRECONDITION:case H.ABORTED:case H.OUT_OF_RANGE:case H.UNIMPLEMENTED:case H.DATA_LOSS:return!0;default:return Re(15467,{code:t})}}function aI(t){if(t===void 0)return $s("GRPC error has no .code"),H.UNKNOWN;switch(t){case Lt.OK:return H.OK;case Lt.CANCELLED:return H.CANCELLED;case Lt.UNKNOWN:return H.UNKNOWN;case Lt.DEADLINE_EXCEEDED:return H.DEADLINE_EXCEEDED;case Lt.RESOURCE_EXHAUSTED:return H.RESOURCE_EXHAUSTED;case Lt.INTERNAL:return H.INTERNAL;case Lt.UNAVAILABLE:return H.UNAVAILABLE;case Lt.UNAUTHENTICATED:return H.UNAUTHENTICATED;case Lt.INVALID_ARGUMENT:return H.INVALID_ARGUMENT;case Lt.NOT_FOUND:return H.NOT_FOUND;case Lt.ALREADY_EXISTS:return H.ALREADY_EXISTS;case Lt.PERMISSION_DENIED:return H.PERMISSION_DENIED;case Lt.FAILED_PRECONDITION:return H.FAILED_PRECONDITION;case Lt.ABORTED:return H.ABORTED;case Lt.OUT_OF_RANGE:return H.OUT_OF_RANGE;case Lt.UNIMPLEMENTED:return H.UNIMPLEMENTED;case Lt.DATA_LOSS:return H.DATA_LOSS;default:return Re(39323,{code:t})}}(Ye=Lt||(Lt={}))[Ye.OK=0]="OK",Ye[Ye.CANCELLED=1]="CANCELLED",Ye[Ye.UNKNOWN=2]="UNKNOWN",Ye[Ye.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ye[Ye.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ye[Ye.NOT_FOUND=5]="NOT_FOUND",Ye[Ye.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ye[Ye.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ye[Ye.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ye[Ye.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ye[Ye.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ye[Ye.ABORTED=10]="ABORTED",Ye[Ye.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ye[Ye.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ye[Ye.INTERNAL=13]="INTERNAL",Ye[Ye.UNAVAILABLE=14]="UNAVAILABLE",Ye[Ye.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V5=new zi([4294967295,4294967295],0);function nb(t){const e=IS().encode(t),n=new wS;return n.update(e),new Uint8Array(n.digest())}function rb(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new zi([n,r],0),new zi([s,i],0)]}class Nx{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new zc(`Invalid padding: ${n}`);if(r<0)throw new zc(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new zc(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new zc(`Invalid padding when bitmap length is 0: ${n}`);this.fe=8*e.length-n,this.ge=zi.fromNumber(this.fe)}pe(e,n,r){let s=e.add(n.multiply(zi.fromNumber(r)));return s.compare(V5)===1&&(s=new zi([s.getBits(0),s.getBits(1)],0)),s.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;const n=nb(e),[r,s]=rb(n);for(let i=0;i<this.hashCount;i++){const o=this.pe(r,s,i);if(!this.ye(o))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new Nx(i,s,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.fe===0)return;const n=nb(e),[r,s]=rb(n);for(let i=0;i<this.hashCount;i++){const o=this.pe(r,s,i);this.we(o)}}we(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class zc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lm{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,fd.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new lm(Ne.min(),s,new Tt(Oe),zs(),$e())}}class fd{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new fd(r,n,$e(),$e(),$e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hf{constructor(e,n,r,s){this.Se=e,this.removedTargetIds=n,this.key=r,this.be=s}}class lI{constructor(e,n){this.targetId=e,this.De=n}}class cI{constructor(e,n,r=un.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class sb{constructor(){this.ve=0,this.Ce=ib(),this.Fe=un.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=$e(),n=$e(),r=$e();return this.Ce.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:Re(38017,{changeType:i})}}),new fd(this.Fe,this.Me,e,n,r)}ke(){this.xe=!1,this.Ce=ib()}qe(e,n){this.xe=!0,this.Ce=this.Ce.insert(e,n)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,nt(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}}class B5{constructor(e){this.We=e,this.Ge=new Map,this.ze=zs(),this.je=Dh(),this.Je=Dh(),this.He=new Tt(Oe)}Ye(e){for(const n of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(n,e.be):this.Xe(n,e.key,e.be);for(const n of e.removedTargetIds)this.Xe(n,e.key,e.be)}et(e){this.forEachTarget(e,n=>{const r=this.tt(n);switch(e.state){case 0:this.nt(n)&&r.Be(e.resumeToken);break;case 1:r.Ue(),r.Oe||r.ke(),r.Be(e.resumeToken);break;case 2:r.Ue(),r.Oe||this.removeTarget(n);break;case 3:this.nt(n)&&(r.Ke(),r.Be(e.resumeToken));break;case 4:this.nt(n)&&(this.rt(n),r.Be(e.resumeToken));break;default:Re(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Ge.forEach((r,s)=>{this.nt(s)&&n(s)})}it(e){const n=e.targetId,r=e.De.count,s=this.st(n);if(s){const i=s.target;if(my(i))if(r===0){const o=new be(i.path);this.Xe(n,o,En.newNoDocument(o,Ne.min()))}else nt(r===1,20013,{expectedCount:r});else{const o=this.ot(n);if(o!==r){const a=this._t(e),c=a?this.ut(a,e,o):1;if(c!==0){this.rt(n);const u=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(n,u)}}}}}_t(e){const n=e.De.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let o,a;try{o=eo(r).toUint8Array()}catch(c){if(c instanceof MS)return Ji("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{a=new Nx(o,s,i)}catch(c){return Ji(c instanceof zc?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return a.fe===0?null:a}ut(e,n,r){return n.De.count===r-this.ht(e,n.targetId)?0:2}ht(e,n){const r=this.We.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const o=this.We.lt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(a)||(this.Xe(n,i,null),s++)}),s}Pt(e){const n=new Map;this.Ge.forEach((i,o)=>{const a=this.st(o);if(a){if(i.current&&my(a.target)){const c=new be(a.target.path);this.Tt(c).has(o)||this.It(o,c)||this.Xe(o,c,En.newNoDocument(c,e))}i.Ne&&(n.set(o,i.Le()),i.ke())}});let r=$e();this.Je.forEach((i,o)=>{let a=!0;o.forEachWhile(c=>{const u=this.st(c);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(i))}),this.ze.forEach((i,o)=>o.setReadTime(e));const s=new lm(e,n,this.He,this.ze,r);return this.ze=zs(),this.je=Dh(),this.Je=Dh(),this.He=new Tt(Oe),s}Ze(e,n){if(!this.nt(e))return;const r=this.It(e,n.key)?2:0;this.tt(e).qe(n.key,r),this.ze=this.ze.insert(n.key,n),this.je=this.je.insert(n.key,this.Tt(n.key).add(e)),this.Je=this.Je.insert(n.key,this.dt(n.key).add(e))}Xe(e,n,r){if(!this.nt(e))return;const s=this.tt(e);this.It(e,n)?s.qe(n,1):s.Qe(n),this.Je=this.Je.insert(n,this.dt(n).delete(e)),this.Je=this.Je.insert(n,this.dt(n).add(e)),r&&(this.ze=this.ze.insert(n,r))}removeTarget(e){this.Ge.delete(e)}ot(e){const n=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let n=this.Ge.get(e);return n||(n=new sb,this.Ge.set(e,n)),n}dt(e){let n=this.Je.get(e);return n||(n=new Wt(Oe),this.Je=this.Je.insert(e,n)),n}Tt(e){let n=this.je.get(e);return n||(n=new Wt(Oe),this.je=this.je.insert(e,n)),n}nt(e){const n=this.st(e)!==null;return n||me("WatchChangeAggregator","Detected inactive target",e),n}st(e){const n=this.Ge.get(e);return n&&n.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new sb),this.We.getRemoteKeysForTarget(e).forEach(n=>{this.Xe(e,n,null)})}It(e,n){return this.We.getRemoteKeysForTarget(e).has(n)}}function Dh(){return new Tt(be.comparator)}function ib(){return new Tt(be.comparator)}const U5={asc:"ASCENDING",desc:"DESCENDING"},q5={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},G5={and:"AND",or:"OR"};class $5{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function vy(t,e){return t.useProto3Json||tm(e)?e:{value:e}}function op(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function uI(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function z5(t,e){return op(t,e.toTimestamp())}function as(t){return nt(!!t,49232),Ne.fromTimestamp(function(n){const r=Zi(n);return new Ge(r.seconds,r.nanos)}(t))}function Px(t,e){return xy(t,e).canonicalString()}function xy(t,e){const n=function(s){return new ct(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function dI(t){const e=ct.fromString(t);return nt(gI(e),10190,{key:e.toString()}),e}function wy(t,e){return Px(t.databaseId,e.path)}function Vg(t,e){const n=dI(e);if(n.get(1)!==t.databaseId.projectId)throw new fe(H.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new fe(H.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new be(fI(n))}function hI(t,e){return Px(t.databaseId,e)}function W5(t){const e=dI(t);return e.length===4?ct.emptyPath():fI(e)}function Ey(t){return new ct(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function fI(t){return nt(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function ob(t,e,n){return{name:wy(t,e),fields:n.value.mapValue.fields}}function Q5(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:Re(39313,{state:u})}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(u,h){return u.useProto3Json?(nt(h===void 0||typeof h=="string",58123),un.fromBase64String(h||"")):(nt(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),un.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const h=u.code===void 0?H.UNKNOWN:aI(u.code);return new fe(h,u.message||"")}(o);n=new cI(r,s,i,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=Vg(t,r.document.name),i=as(r.document.updateTime),o=r.document.createTime?as(r.document.createTime):Ne.min(),a=new Bn({mapValue:{fields:r.document.fields}}),c=En.newFoundDocument(s,i,o,a),u=r.targetIds||[],h=r.removedTargetIds||[];n=new hf(u,h,c.key,c)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=Vg(t,r.document),i=r.readTime?as(r.readTime):Ne.min(),o=En.newNoDocument(s,i),a=r.removedTargetIds||[];n=new hf([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=Vg(t,r.document),i=r.removedTargetIds||[];n=new hf([],i,s,null)}else{if(!("filter"in e))return Re(11601,{At:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new L5(s,i),a=r.targetId;n=new lI(a,o)}}return n}function Y5(t,e){let n;if(e instanceof hd)n={update:ob(t,e.key,e.value)};else if(e instanceof Ix)n={delete:wy(t,e.key)};else if(e instanceof po)n={update:ob(t,e.key,e.data),updateMask:rF(e.fieldMask)};else{if(!(e instanceof j5))return Re(16599,{Rt:e.type});n={verify:wy(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const a=o.transform;if(a instanceof sp)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Uu)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof qu)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof ip)return{fieldPath:o.field.canonicalString(),increment:a.Ee};throw Re(20930,{transform:o.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:z5(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:Re(27497)}(t,e.precondition)),n}function K5(t,e){return t&&t.length>0?(nt(e!==void 0,14353),t.map(n=>function(s,i){let o=s.updateTime?as(s.updateTime):as(i);return o.isEqual(Ne.min())&&(o=as(i)),new P5(o,s.transformResults||[])}(n,e))):[]}function H5(t,e){return{documents:[hI(t,e.path)]}}function J5(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=hI(t,s);const i=function(u){if(u.length!==0)return mI(Gr.create(u,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const o=function(u){if(u.length!==0)return u.map(h=>function(f){return{field:za(f.field),direction:eF(f.dir)}}(h))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=vy(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{Vt:n,parent:s}}function X5(t){let e=W5(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){nt(r===1,65062);const h=n.from[0];h.allDescendants?s=h.collectionId:e=e.child(h.collectionId)}let i=[];n.where&&(i=function(p){const f=pI(p);return f instanceof Gr&&$S(f)?f.getFilters():[f]}(n.where));let o=[];n.orderBy&&(o=function(p){return p.map(f=>function(x){return new Bu(Wa(x.field),function(w){switch(w){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(x.direction))}(f))}(n.orderBy));let a=null;n.limit&&(a=function(p){let f;return f=typeof p=="object"?p.value:p,tm(f)?null:f}(n.limit));let c=null;n.startAt&&(c=function(p){const f=!!p.before,v=p.values||[];return new rp(v,f)}(n.startAt));let u=null;return n.endAt&&(u=function(p){const f=!p.before,v=p.values||[];return new rp(v,f)}(n.endAt)),v5(e,s,o,i,a,"F",c,u)}function Z5(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Re(28987,{purpose:s})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function pI(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Wa(n.unaryFilter.field);return Vt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=Wa(n.unaryFilter.field);return Vt.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Wa(n.unaryFilter.field);return Vt.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Wa(n.unaryFilter.field);return Vt.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Re(61313);default:return Re(60726)}}(t):t.fieldFilter!==void 0?function(n){return Vt.create(Wa(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Re(58110);default:return Re(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Gr.create(n.compositeFilter.filters.map(r=>pI(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Re(1026)}}(n.compositeFilter.op))}(t):Re(30097,{filter:t})}function eF(t){return U5[t]}function tF(t){return q5[t]}function nF(t){return G5[t]}function za(t){return{fieldPath:t.canonicalString()}}function Wa(t){return sn.fromServerFormat(t.fieldPath)}function mI(t){return t instanceof Vt?function(n){if(n.op==="=="){if(QE(n.value))return{unaryFilter:{field:za(n.field),op:"IS_NAN"}};if(WE(n.value))return{unaryFilter:{field:za(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(QE(n.value))return{unaryFilter:{field:za(n.field),op:"IS_NOT_NAN"}};if(WE(n.value))return{unaryFilter:{field:za(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:za(n.field),op:tF(n.op),value:n.value}}}(t):t instanceof Gr?function(n){const r=n.getFilters().map(s=>mI(s));return r.length===1?r[0]:{compositeFilter:{op:nF(n.op),filters:r}}}(t):Re(54877,{filter:t})}function rF(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function gI(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ki{constructor(e,n,r,s,i=Ne.min(),o=Ne.min(),a=un.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=c}withSequenceNumber(e){return new ki(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ki(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ki(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ki(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sF{constructor(e){this.gt=e}}function iF(t){const e=X5({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?yy(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oF{constructor(){this.Dn=new aF}addToCollectionParentIndex(e,n){return this.Dn.add(n),J.resolve()}getCollectionParents(e,n){return J.resolve(this.Dn.getEntries(n))}addFieldIndex(e,n){return J.resolve()}deleteFieldIndex(e,n){return J.resolve()}deleteAllFieldIndexes(e){return J.resolve()}createTargetIndexes(e,n){return J.resolve()}getDocumentsMatchingTarget(e,n){return J.resolve(null)}getIndexType(e,n){return J.resolve(0)}getFieldIndexes(e,n){return J.resolve([])}getNextCollectionGroupToUpdate(e){return J.resolve(null)}getMinOffset(e,n){return J.resolve(Xi.min())}getMinOffsetFromCollectionGroup(e,n){return J.resolve(Xi.min())}updateCollectionGroup(e,n,r){return J.resolve()}updateIndexEntries(e,n){return J.resolve()}}class aF{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new Wt(ct.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new Wt(ct.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ab={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},yI=41943040;class Fn{static withCacheSize(e){return new Fn(e,Fn.DEFAULT_COLLECTION_PERCENTILE,Fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Fn.DEFAULT_COLLECTION_PERCENTILE=10,Fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Fn.DEFAULT=new Fn(yI,Fn.DEFAULT_COLLECTION_PERCENTILE,Fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Fn.DISABLED=new Fn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ul{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new Ul(0)}static ur(){return new Ul(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lb="LruGarbageCollector",lF=1048576;function cb([t,e],[n,r]){const s=Oe(t,n);return s===0?Oe(e,r):s}class cF{constructor(e){this.Tr=e,this.buffer=new Wt(cb),this.Ir=0}dr(){return++this.Ir}Er(e){const n=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();cb(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class uF{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){me(lb,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){nc(n)?me(lb,"Ignoring IndexedDB error during garbage collection: ",n):await tc(n)}await this.Rr(3e5)})}}class dF{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.mr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return J.resolve(em.ue);const r=new cF(n);return this.Vr.forEachTarget(e,s=>r.Er(s.sequenceNumber)).next(()=>this.Vr.gr(e,s=>r.Er(s))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.Vr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(me("LruGarbageCollector","Garbage collection skipped; disabled"),J.resolve(ab)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(me("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),ab):this.pr(e,n))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,n){let r,s,i,o,a,c,u;const h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(p=>(p>this.params.maximumSequenceNumbersToCollect?(me("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),s=this.params.maximumSequenceNumbersToCollect):s=p,o=Date.now(),this.nthSequenceNumber(e,s))).next(p=>(r=p,a=Date.now(),this.removeTargets(e,r,n))).next(p=>(i=p,c=Date.now(),this.removeOrphanedDocuments(e,r))).next(p=>(u=Date.now(),Ga()<=qe.DEBUG&&me("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-h}ms
	Determined least recently used ${s} in `+(a-o)+`ms
	Removed ${i} targets in `+(c-a)+`ms
	Removed ${p} documents in `+(u-c)+`ms
Total Duration: ${u-h}ms`),J.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:i,documentsRemoved:p})))}}function hF(t,e){return new dF(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fF{constructor(){this.changes=new ga(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,En.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?J.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pF{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mF{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&du(r.mutation,s,nr.empty(),Ge.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,$e()).next(()=>r))}getLocalViewOfDocuments(e,n,r=$e()){const s=Vo();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let o=$c();return i.forEach((a,c)=>{o=o.insert(a,c.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Vo();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,$e()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,s){let i=zs();const o=uu(),a=function(){return uu()}();return n.forEach((c,u)=>{const h=r.get(u.key);s.has(u.key)&&(h===void 0||h.mutation instanceof po)?i=i.insert(u.key,u):h!==void 0?(o.set(u.key,h.mutation.getFieldMask()),du(h.mutation,u,h.mutation.getFieldMask(),Ge.now())):o.set(u.key,nr.empty())}),this.recalculateAndSaveOverlays(e,i).next(c=>(c.forEach((u,h)=>o.set(u,h)),n.forEach((u,h)=>{var p;return a.set(u,new pF(h,(p=o.get(u))!==null&&p!==void 0?p:null))}),a))}recalculateAndSaveOverlays(e,n){const r=uu();let s=new Tt((o,a)=>o-a),i=$e();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(c=>{const u=n.get(c);if(u===null)return;let h=r.get(c)||nr.empty();h=a.applyToLocalView(u,h),r.set(c,h);const p=(s.get(a.batchId)||$e()).add(c);s=s.insert(a.batchId,p)})}).next(()=>{const o=[],a=s.getReverseIterator();for(;a.hasNext();){const c=a.getNext(),u=c.key,h=c.value,p=ZS();h.forEach(f=>{if(!i.has(f)){const v=iI(n.get(f),r.get(f));v!==null&&p.set(f,v),i=i.add(f)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,p))}return J.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(o){return be.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):YS(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):J.resolve(Vo());let a=Ou,c=i;return o.next(u=>J.forEach(u,(h,p)=>(a<p.largestBatchId&&(a=p.largestBatchId),i.get(h)?J.resolve():this.remoteDocumentCache.getEntry(e,h).next(f=>{c=c.insert(h,f)}))).next(()=>this.populateOverlays(e,u,i)).next(()=>this.computeViews(e,c,u,$e())).next(h=>({batchId:a,changes:XS(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new be(n)).next(r=>{let s=$c();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let o=$c();return this.indexManager.getCollectionParents(e,i).next(a=>J.forEach(a,c=>{const u=function(p,f){return new rc(f,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(n,c.child(i));return this.getDocumentsMatchingCollectionQuery(e,u,r,s).next(h=>{h.forEach((p,f)=>{o=o.insert(p,f)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s))).next(o=>{i.forEach((c,u)=>{const h=u.getKey();o.get(h)===null&&(o=o.insert(h,En.newInvalidDocument(h)))});let a=$c();return o.forEach((c,u)=>{const h=i.get(c);h!==void 0&&du(h.mutation,u,nr.empty(),Ge.now()),im(n,u)&&(a=a.insert(c,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gF{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,n){return J.resolve(this.Br.get(n))}saveBundleMetadata(e,n){return this.Br.set(n.id,function(s){return{id:s.id,version:s.version,createTime:as(s.createTime)}}(n)),J.resolve()}getNamedQuery(e,n){return J.resolve(this.Lr.get(n))}saveNamedQuery(e,n){return this.Lr.set(n.name,function(s){return{name:s.name,query:iF(s.bundledQuery),readTime:as(s.readTime)}}(n)),J.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yF{constructor(){this.overlays=new Tt(be.comparator),this.kr=new Map}getOverlay(e,n){return J.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Vo();return J.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.wt(e,n,i)}),J.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.kr.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.kr.delete(r)),J.resolve()}getOverlaysForCollection(e,n,r){const s=Vo(),i=n.length+1,o=new be(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const c=a.getNext().value,u=c.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===i&&c.largestBatchId>r&&s.set(c.getKey(),c)}return J.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new Tt((u,h)=>u-h);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let h=i.get(u.largestBatchId);h===null&&(h=Vo(),i=i.insert(u.largestBatchId,h)),h.set(u.getKey(),u)}}const a=Vo(),c=i.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((u,h)=>a.set(u,h)),!(a.size()>=s)););return J.resolve(a)}wt(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.kr.get(s.largestBatchId).delete(r.key);this.kr.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new O5(n,r));let i=this.kr.get(n);i===void 0&&(i=$e(),this.kr.set(n,i)),this.kr.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vF{constructor(){this.sessionToken=un.EMPTY_BYTE_STRING}getSessionToken(e){return J.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,J.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kx{constructor(){this.qr=new Wt(Jt.Qr),this.$r=new Wt(Jt.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,n){const r=new Jt(e,n);this.qr=this.qr.add(r),this.$r=this.$r.add(r)}Kr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Wr(new Jt(e,n))}Gr(e,n){e.forEach(r=>this.removeReference(r,n))}zr(e){const n=new be(new ct([])),r=new Jt(n,e),s=new Jt(n,e+1),i=[];return this.$r.forEachInRange([r,s],o=>{this.Wr(o),i.push(o.key)}),i}jr(){this.qr.forEach(e=>this.Wr(e))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){const n=new be(new ct([])),r=new Jt(n,e),s=new Jt(n,e+1);let i=$e();return this.$r.forEachInRange([r,s],o=>{i=i.add(o.key)}),i}containsKey(e){const n=new Jt(e,0),r=this.qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Jt{constructor(e,n){this.key=e,this.Hr=n}static Qr(e,n){return be.comparator(e.key,n.key)||Oe(e.Hr,n.Hr)}static Ur(e,n){return Oe(e.Hr,n.Hr)||be.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xF{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.er=1,this.Yr=new Wt(Jt.Qr)}checkEmpty(e){return J.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new D5(i,n,r,s);this.mutationQueue.push(o);for(const a of s)this.Yr=this.Yr.add(new Jt(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return J.resolve(o)}lookupMutationBatch(e,n){return J.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.Xr(r),i=s<0?0:s;return J.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return J.resolve(this.mutationQueue.length===0?bx:this.er-1)}getAllMutationBatches(e){return J.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Jt(n,0),s=new Jt(n,Number.POSITIVE_INFINITY),i=[];return this.Yr.forEachInRange([r,s],o=>{const a=this.Zr(o.Hr);i.push(a)}),J.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Wt(Oe);return n.forEach(s=>{const i=new Jt(s,0),o=new Jt(s,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([i,o],a=>{r=r.add(a.Hr)})}),J.resolve(this.ei(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;be.isDocumentKey(i)||(i=i.child(""));const o=new Jt(new be(i),0);let a=new Wt(Oe);return this.Yr.forEachWhile(c=>{const u=c.key.path;return!!r.isPrefixOf(u)&&(u.length===s&&(a=a.add(c.Hr)),!0)},o),J.resolve(this.ei(a))}ei(e){const n=[];return e.forEach(r=>{const s=this.Zr(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){nt(this.ti(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Yr;return J.forEach(n.mutations,s=>{const i=new Jt(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Yr=r})}rr(e){}containsKey(e,n){const r=new Jt(n,0),s=this.Yr.firstAfterOrEqual(r);return J.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,J.resolve()}ti(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wF{constructor(e){this.ni=e,this.docs=function(){return new Tt(be.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.ni(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return J.resolve(r?r.document.mutableCopy():En.newInvalidDocument(n))}getEntries(e,n){let r=zs();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():En.newInvalidDocument(s))}),J.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=zs();const o=n.path,a=new be(o.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){const{key:u,value:{document:h}}=c.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||J3(H3(h),r)<=0||(s.has(h.key)||im(n,h))&&(i=i.insert(h.key,h.mutableCopy()))}return J.resolve(i)}getAllFromCollectionGroup(e,n,r,s){Re(9500)}ri(e,n){return J.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new EF(this)}getSize(e){return J.resolve(this.size)}}class EF extends fF{constructor(e){super(),this.Or=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.Or.addEntry(e,s)):this.Or.removeEntry(r)}),J.waitFor(n)}getFromCache(e,n){return this.Or.getEntry(e,n)}getAllFromCache(e,n){return this.Or.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bF{constructor(e){this.persistence=e,this.ii=new ga(n=>Tx(n),Ax),this.lastRemoteSnapshotVersion=Ne.min(),this.highestTargetId=0,this.si=0,this.oi=new kx,this.targetCount=0,this._i=Ul.ar()}forEachTarget(e,n){return this.ii.forEach((r,s)=>n(s)),J.resolve()}getLastRemoteSnapshotVersion(e){return J.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return J.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),J.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.si&&(this.si=n),J.resolve()}hr(e){this.ii.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this._i=new Ul(n),this.highestTargetId=n),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,n){return this.hr(n),this.targetCount+=1,J.resolve()}updateTargetData(e,n){return this.hr(n),J.resolve()}removeTargetData(e,n){return this.ii.delete(n.target),this.oi.zr(n.targetId),this.targetCount-=1,J.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.ii.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.ii.delete(o),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),s++)}),J.waitFor(i).next(()=>s)}getTargetCount(e){return J.resolve(this.targetCount)}getTargetData(e,n){const r=this.ii.get(n)||null;return J.resolve(r)}addMatchingKeys(e,n,r){return this.oi.Kr(n,r),J.resolve()}removeMatchingKeys(e,n,r){this.oi.Gr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(o=>{i.push(s.markPotentiallyOrphaned(e,o))}),J.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this.oi.zr(n),J.resolve()}getMatchingKeysForTargetId(e,n){const r=this.oi.Jr(n);return J.resolve(r)}containsKey(e,n){return J.resolve(this.oi.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vI{constructor(e,n){this.ai={},this.overlays={},this.ui=new em(0),this.ci=!1,this.ci=!0,this.li=new vF,this.referenceDelegate=e(this),this.hi=new bF(this),this.indexManager=new oF,this.remoteDocumentCache=function(s){return new wF(s)}(r=>this.referenceDelegate.Pi(r)),this.serializer=new sF(n),this.Ti=new gF(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new yF,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ai[e.toKey()];return r||(r=new xF(n,this.referenceDelegate),this.ai[e.toKey()]=r),r}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,n,r){me("MemoryPersistence","Starting transaction:",e);const s=new CF(this.ui.next());return this.referenceDelegate.Ii(),r(s).next(i=>this.referenceDelegate.di(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Ei(e,n){return J.or(Object.values(this.ai).map(r=>()=>r.containsKey(e,n)))}}class CF extends Z3{constructor(e){super(),this.currentSequenceNumber=e}}class Mx{constructor(e){this.persistence=e,this.Ai=new kx,this.Ri=null}static Vi(e){return new Mx(e)}get mi(){if(this.Ri)return this.Ri;throw Re(60996)}addReference(e,n,r){return this.Ai.addReference(r,n),this.mi.delete(r.toString()),J.resolve()}removeReference(e,n,r){return this.Ai.removeReference(r,n),this.mi.add(r.toString()),J.resolve()}markPotentiallyOrphaned(e,n){return this.mi.add(n.toString()),J.resolve()}removeTarget(e,n){this.Ai.zr(n.targetId).forEach(s=>this.mi.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.mi.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}Ii(){this.Ri=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return J.forEach(this.mi,r=>{const s=be.fromPath(r);return this.fi(e,s).next(i=>{i||n.removeEntry(s,Ne.min())})}).next(()=>(this.Ri=null,n.apply(e)))}updateLimboDocument(e,n){return this.fi(e,n).next(r=>{r?this.mi.delete(n.toString()):this.mi.add(n.toString())})}Pi(e){return 0}fi(e,n){return J.or([()=>J.resolve(this.Ai.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class ap{constructor(e,n){this.persistence=e,this.gi=new ga(r=>n5(r.path),(r,s)=>r.isEqual(s)),this.garbageCollector=hF(this,n)}static Vi(e,n){return new ap(e,n)}Ii(){}di(e){return J.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}mr(e){const n=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(s=>r+s))}yr(e){let n=0;return this.gr(e,r=>{n++}).next(()=>n)}gr(e,n){return J.forEach(this.gi,(r,s)=>this.Sr(e,r,s).next(i=>i?J.resolve():n(s)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),i=s.newChangeBuffer();return s.ri(e,o=>this.Sr(e,o,n).next(a=>{a||(r++,i.removeEntry(o,Ne.min()))})).next(()=>i.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.gi.set(n,e.currentSequenceNumber),J.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.gi.set(r,e.currentSequenceNumber),J.resolve()}removeReference(e,n,r){return this.gi.set(r,e.currentSequenceNumber),J.resolve()}updateLimboDocument(e,n){return this.gi.set(n,e.currentSequenceNumber),J.resolve()}Pi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=cf(e.data.value)),n}Sr(e,n,r){return J.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.gi.get(n);return J.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jx{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.Is=r,this.ds=s}static Es(e,n){let r=$e(),s=$e();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new jx(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _F{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TF{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=function(){return vL()?8:e5(Cn())>0?6:4}()}initialize(e,n){this.gs=e,this.indexManager=n,this.As=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.ps(e,n).next(o=>{i.result=o}).next(()=>{if(!i.result)return this.ys(e,n,s,r).next(o=>{i.result=o})}).next(()=>{if(i.result)return;const o=new _F;return this.ws(e,n,o).next(a=>{if(i.result=a,this.Rs)return this.Ss(e,n,o,a.size)})}).next(()=>i.result)}Ss(e,n,r,s){return r.documentReadCount<this.Vs?(Ga()<=qe.DEBUG&&me("QueryEngine","SDK will not create cache indexes for query:",$a(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),J.resolve()):(Ga()<=qe.DEBUG&&me("QueryEngine","Query:",$a(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.fs*s?(Ga()<=qe.DEBUG&&me("QueryEngine","The SDK decides to create cache indexes for query:",$a(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,os(n))):J.resolve())}ps(e,n){if(JE(n))return J.resolve(null);let r=os(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=yy(n,null,"F"),r=os(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const o=$e(...i);return this.gs.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(c=>{const u=this.bs(n,a);return this.Ds(n,u,o,c.readTime)?this.ps(e,yy(n,null,"F")):this.vs(e,u,n,c)}))})))}ys(e,n,r,s){return JE(n)||s.isEqual(Ne.min())?J.resolve(null):this.gs.getDocuments(e,r).next(i=>{const o=this.bs(n,i);return this.Ds(n,o,r,s)?J.resolve(null):(Ga()<=qe.DEBUG&&me("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),$a(n)),this.vs(e,o,n,K3(s,Ou)).next(a=>a))})}bs(e,n){let r=new Wt(HS(e));return n.forEach((s,i)=>{im(e,i)&&(r=r.add(i))}),r}Ds(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}ws(e,n,r){return Ga()<=qe.DEBUG&&me("QueryEngine","Using full collection scan to execute query:",$a(n)),this.gs.getDocumentsMatchingQuery(e,n,Xi.min(),r)}vs(e,n,r,s){return this.gs.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dx="LocalStore",AF=3e8;class SF{constructor(e,n,r,s){this.persistence=e,this.Cs=n,this.serializer=s,this.Fs=new Tt(Oe),this.Ms=new ga(i=>Tx(i),Ax),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(r)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new mF(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Fs))}}function IF(t,e,n,r){return new SF(t,e,n,r)}async function xI(t,e){const n=Pe(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n.Ns(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const o=[],a=[];let c=$e();for(const u of s){o.push(u.batchId);for(const h of u.mutations)c=c.add(h.key)}for(const u of i){a.push(u.batchId);for(const h of u.mutations)c=c.add(h.key)}return n.localDocuments.getDocuments(r,c).next(u=>({Bs:u,removedBatchIds:o,addedBatchIds:a}))})})}function RF(t,e){const n=Pe(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=n.Os.newChangeBuffer({trackRemovals:!0});return function(a,c,u,h){const p=u.batch,f=p.keys();let v=J.resolve();return f.forEach(x=>{v=v.next(()=>h.getEntry(c,x)).next(y=>{const w=u.docVersions.get(x);nt(w!==null,48541),y.version.compareTo(w)<0&&(p.applyToRemoteDocument(y,u),y.isValidDocument()&&(y.setReadTime(u.commitVersion),h.addEntry(y)))})}),v.next(()=>a.mutationQueue.removeMutationBatch(c,p))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let c=$e();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(c=c.add(a.batch.mutations[u].key));return c}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function wI(t){const e=Pe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.hi.getLastRemoteSnapshotVersion(n))}function NF(t,e){const n=Pe(t),r=e.snapshotVersion;let s=n.Fs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.Os.newChangeBuffer({trackRemovals:!0});s=n.Fs;const a=[];e.targetChanges.forEach((h,p)=>{const f=s.get(p);if(!f)return;a.push(n.hi.removeMatchingKeys(i,h.removedDocuments,p).next(()=>n.hi.addMatchingKeys(i,h.addedDocuments,p)));let v=f.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(p)!==null?v=v.withResumeToken(un.EMPTY_BYTE_STRING,Ne.min()).withLastLimboFreeSnapshotVersion(Ne.min()):h.resumeToken.approximateByteSize()>0&&(v=v.withResumeToken(h.resumeToken,r)),s=s.insert(p,v),function(y,w,T){return y.resumeToken.approximateByteSize()===0||w.snapshotVersion.toMicroseconds()-y.snapshotVersion.toMicroseconds()>=AF?!0:T.addedDocuments.size+T.modifiedDocuments.size+T.removedDocuments.size>0}(f,v,h)&&a.push(n.hi.updateTargetData(i,v))});let c=zs(),u=$e();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(i,h))}),a.push(PF(i,o,e.documentUpdates).next(h=>{c=h.Ls,u=h.ks})),!r.isEqual(Ne.min())){const h=n.hi.getLastRemoteSnapshotVersion(i).next(p=>n.hi.setTargetsMetadata(i,i.currentSequenceNumber,r));a.push(h)}return J.waitFor(a).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,c,u)).next(()=>c)}).then(i=>(n.Fs=s,i))}function PF(t,e,n){let r=$e(),s=$e();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let o=zs();return n.forEach((a,c)=>{const u=i.get(a);c.isFoundDocument()!==u.isFoundDocument()&&(s=s.add(a)),c.isNoDocument()&&c.version.isEqual(Ne.min())?(e.removeEntry(a,c.readTime),o=o.insert(a,c)):!u.isValidDocument()||c.version.compareTo(u.version)>0||c.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(c),o=o.insert(a,c)):me(Dx,"Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",c.version)}),{Ls:o,ks:s}})}function kF(t,e){const n=Pe(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=bx),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function MF(t,e){const n=Pe(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.hi.getTargetData(r,e).next(i=>i?(s=i,J.resolve(s)):n.hi.allocateTargetId(r).next(o=>(s=new ki(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.hi.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.Fs.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.Fs=n.Fs.insert(r.targetId,r),n.Ms.set(e,r.targetId)),r})}async function by(t,e,n){const r=Pe(t),s=r.Fs.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,o=>r.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!nc(o))throw o;me(Dx,`Failed to update sequence numbers for target ${e}: ${o}`)}r.Fs=r.Fs.remove(e),r.Ms.delete(s.target)}function ub(t,e,n){const r=Pe(t);let s=Ne.min(),i=$e();return r.persistence.runTransaction("Execute query","readwrite",o=>function(c,u,h){const p=Pe(c),f=p.Ms.get(h);return f!==void 0?J.resolve(p.Fs.get(f)):p.hi.getTargetData(u,h)}(r,o,os(e)).next(a=>{if(a)return s=a.lastLimboFreeSnapshotVersion,r.hi.getMatchingKeysForTargetId(o,a.targetId).next(c=>{i=c})}).next(()=>r.Cs.getDocumentsMatchingQuery(o,e,n?s:Ne.min(),n?i:$e())).next(a=>(jF(r,w5(e),a),{documents:a,qs:i})))}function jF(t,e,n){let r=t.xs.get(e)||Ne.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.xs.set(e,r)}class db{constructor(){this.activeTargetIds=A5()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class DF{constructor(){this.Fo=new db,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,n,r){this.Mo[e]=n}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new db,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OF{xo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hb="ConnectivityMonitor";class fb{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){me(hb,"Network connectivity changed: AVAILABLE");for(const e of this.ko)e(0)}Lo(){me(hb,"Network connectivity changed: UNAVAILABLE");for(const e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Oh=null;function Cy(){return Oh===null?Oh=function(){return 268435456+Math.round(2147483648*Math.random())}():Oh++,"0x"+Oh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bg="RestConnection",LF={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class FF{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.$o=n+"://"+e.host,this.Uo=`projects/${r}/databases/${s}`,this.Ko=this.databaseId.database===tp?`project_id=${r}`:`project_id=${r}&database_id=${s}`}Wo(e,n,r,s,i){const o=Cy(),a=this.Go(e,n.toUriEncodedString());me(Bg,`Sending RPC '${e}' ${o}:`,a,r);const c={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(c,s,i);const{host:u}=new URL(a),h=Xl(u);return this.jo(e,a,c,r,h).then(p=>(me(Bg,`Received RPC '${e}' ${o}: `,p),p),p=>{throw Ji(Bg,`RPC '${e}' ${o} failed with error: `,p,"url: ",a,"request:",r),p})}Jo(e,n,r,s,i,o){return this.Wo(e,n,r,s,i)}zo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ec}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,i)=>e[i]=s),r&&r.headers.forEach((s,i)=>e[i]=s)}Go(e,n){const r=LF[e];return`${this.$o}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VF{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yn="WebChannelConnection";class BF extends FF{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,n,r,s,i){const o=Cy();return new Promise((a,c)=>{const u=new ES;u.setWithCredentials(!0),u.listenOnce(bS.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case lf.NO_ERROR:const p=u.getResponseJson();me(yn,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(p)),a(p);break;case lf.TIMEOUT:me(yn,`RPC '${e}' ${o} timed out`),c(new fe(H.DEADLINE_EXCEEDED,"Request time out"));break;case lf.HTTP_ERROR:const f=u.getStatus();if(me(yn,`RPC '${e}' ${o} failed with status:`,f,"response text:",u.getResponseText()),f>0){let v=u.getResponseJson();Array.isArray(v)&&(v=v[0]);const x=v==null?void 0:v.error;if(x&&x.status&&x.message){const y=function(T){const E=T.toLowerCase().replace(/_/g,"-");return Object.values(H).indexOf(E)>=0?E:H.UNKNOWN}(x.status);c(new fe(y,x.message))}else c(new fe(H.UNKNOWN,"Server responded with status "+u.getStatus()))}else c(new fe(H.UNAVAILABLE,"Connection failed."));break;default:Re(9055,{c_:e,streamId:o,l_:u.getLastErrorCode(),h_:u.getLastError()})}}finally{me(yn,`RPC '${e}' ${o} completed.`)}});const h=JSON.stringify(s);me(yn,`RPC '${e}' ${o} sending request:`,s),u.send(n,"POST",h,r,15)})}P_(e,n,r){const s=Cy(),i=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=TS(),a=_S(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(c.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(c.useFetchStreams=!0),this.zo(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;const h=i.join("");me(yn,`Creating RPC '${e}' stream ${s}: ${h}`,c);const p=o.createWebChannel(h,c);this.T_(p);let f=!1,v=!1;const x=new VF({Ho:w=>{v?me(yn,`Not sending because RPC '${e}' stream ${s} is closed:`,w):(f||(me(yn,`Opening RPC '${e}' stream ${s} transport.`),p.open(),f=!0),me(yn,`RPC '${e}' stream ${s} sending:`,w),p.send(w))},Yo:()=>p.close()}),y=(w,T,E)=>{w.listen(T,b=>{try{E(b)}catch(R){setTimeout(()=>{throw R},0)}})};return y(p,Gc.EventType.OPEN,()=>{v||(me(yn,`RPC '${e}' stream ${s} transport opened.`),x.s_())}),y(p,Gc.EventType.CLOSE,()=>{v||(v=!0,me(yn,`RPC '${e}' stream ${s} transport closed`),x.__(),this.I_(p))}),y(p,Gc.EventType.ERROR,w=>{v||(v=!0,Ji(yn,`RPC '${e}' stream ${s} transport errored. Name:`,w.name,"Message:",w.message),x.__(new fe(H.UNAVAILABLE,"The operation could not be completed")))}),y(p,Gc.EventType.MESSAGE,w=>{var T;if(!v){const E=w.data[0];nt(!!E,16349);const b=E,R=(b==null?void 0:b.error)||((T=b[0])===null||T===void 0?void 0:T.error);if(R){me(yn,`RPC '${e}' stream ${s} received error:`,R);const j=R.status;let V=function(P){const k=Lt[P];if(k!==void 0)return aI(k)}(j),I=R.message;V===void 0&&(V=H.INTERNAL,I="Unknown error status: "+j+" with message "+R.message),v=!0,x.__(new fe(V,I)),p.close()}else me(yn,`RPC '${e}' stream ${s} received:`,E),x.a_(E)}}),y(a,CS.STAT_EVENT,w=>{w.stat===uy.PROXY?me(yn,`RPC '${e}' stream ${s} detected buffering proxy`):w.stat===uy.NOPROXY&&me(yn,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{x.o_()},0),x}terminate(){this.u_.forEach(e=>e.close()),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter(n=>n===e)}}function Ug(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cm(t){return new $5(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EI{constructor(e,n,r=1e3,s=1.5,i=6e4){this.Fi=e,this.timerId=n,this.d_=r,this.E_=s,this.A_=i,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();const n=Math.floor(this.R_+this.p_()),r=Math.max(0,Date.now()-this.m_),s=Math.max(0,n-r);s>0&&me("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.R_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,s,()=>(this.m_=Date.now(),e())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pb="PersistentStream";class bI{constructor(e,n,r,s,i,o,a,c){this.Fi=e,this.w_=r,this.S_=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new EI(e,n)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(e){this.q_(),this.stream.send(e)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():n&&n.code===H.RESOURCE_EXHAUSTED?($s(n.toString()),$s("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):n&&n.code===H.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.n_(n)}U_(){}auth(){this.state=1;const e=this.K_(this.b_),n=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.b_===n&&this.W_(r,s)},r=>{e(()=>{const s=new fe(H.UNKNOWN,"Fetching auth token failed: "+r.message);return this.G_(s)})})}W_(e,n){const r=this.K_(this.b_);this.stream=this.z_(e,n),this.stream.Zo(()=>{r(()=>this.listener.Zo())}),this.stream.e_(()=>{r(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(s=>{r(()=>this.G_(s))}),this.stream.onMessage(s=>{r(()=>++this.C_==1?this.j_(s):this.onNext(s))})}O_(){this.state=5,this.F_.g_(async()=>{this.state=0,this.start()})}G_(e){return me(pb,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return n=>{this.Fi.enqueueAndForget(()=>this.b_===e?n():(me(pb,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class UF extends bI{constructor(e,n,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}z_(e,n){return this.connection.P_("Listen",e,n)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();const n=Q5(this.serializer,e),r=function(i){if(!("targetChange"in i))return Ne.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?Ne.min():o.readTime?as(o.readTime):Ne.min()}(e);return this.listener.J_(n,r)}H_(e){const n={};n.database=Ey(this.serializer),n.addTarget=function(i,o){let a;const c=o.target;if(a=my(c)?{documents:H5(i,c)}:{query:J5(i,c).Vt},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=uI(i,o.resumeToken);const u=vy(i,o.expectedCount);u!==null&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(Ne.min())>0){a.readTime=op(i,o.snapshotVersion.toTimestamp());const u=vy(i,o.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);const r=Z5(this.serializer,e);r&&(n.labels=r),this.k_(n)}Y_(e){const n={};n.database=Ey(this.serializer),n.removeTarget=e,this.k_(n)}}class qF extends bI{constructor(e,n,r,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,n){return this.connection.P_("Write",e,n)}j_(e){return nt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,nt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ea()}onNext(e){nt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();const n=K5(e.writeResults,e.commitTime),r=as(e.commitTime);return this.listener.ta(r,n)}na(){const e={};e.database=Ey(this.serializer),this.k_(e)}X_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>Y5(this.serializer,r))};this.k_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GF{}class $F extends GF{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.ra=!1}ia(){if(this.ra)throw new fe(H.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,r,s){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.Wo(e,xy(n,r),s,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===H.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new fe(H.UNKNOWN,i.toString())})}Jo(e,n,r,s,i){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Jo(e,xy(n,r),s,o,a,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===H.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new fe(H.UNKNOWN,o.toString())})}terminate(){this.ra=!0,this.connection.terminate()}}class zF{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?($s(n),this._a=!1):me("OnlineStateTracker",n)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oa="RemoteStore";class WF{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=i,this.Ea.xo(o=>{r.enqueueAndForget(async()=>{ya(this)&&(me(oa,"Restarting streams for network reachability change."),await async function(c){const u=Pe(c);u.Ia.add(4),await pd(u),u.Aa.set("Unknown"),u.Ia.delete(4),await um(u)}(this))})}),this.Aa=new zF(r,s)}}async function um(t){if(ya(t))for(const e of t.da)await e(!0)}async function pd(t){for(const e of t.da)await e(!1)}function CI(t,e){const n=Pe(t);n.Ta.has(e.targetId)||(n.Ta.set(e.targetId,e),Vx(n)?Fx(n):sc(n).x_()&&Lx(n,e))}function Ox(t,e){const n=Pe(t),r=sc(n);n.Ta.delete(e),r.x_()&&_I(n,e),n.Ta.size===0&&(r.x_()?r.B_():ya(n)&&n.Aa.set("Unknown"))}function Lx(t,e){if(t.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ne.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}sc(t).H_(e)}function _I(t,e){t.Ra.$e(e),sc(t).Y_(e)}function Fx(t){t.Ra=new B5({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>t.Ta.get(e)||null,lt:()=>t.datastore.serializer.databaseId}),sc(t).start(),t.Aa.aa()}function Vx(t){return ya(t)&&!sc(t).M_()&&t.Ta.size>0}function ya(t){return Pe(t).Ia.size===0}function TI(t){t.Ra=void 0}async function QF(t){t.Aa.set("Online")}async function YF(t){t.Ta.forEach((e,n)=>{Lx(t,e)})}async function KF(t,e){TI(t),Vx(t)?(t.Aa.la(e),Fx(t)):t.Aa.set("Unknown")}async function HF(t,e,n){if(t.Aa.set("Online"),e instanceof cI&&e.state===2&&e.cause)try{await async function(s,i){const o=i.cause;for(const a of i.targetIds)s.Ta.has(a)&&(await s.remoteSyncer.rejectListen(a,o),s.Ta.delete(a),s.Ra.removeTarget(a))}(t,e)}catch(r){me(oa,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await lp(t,r)}else if(e instanceof hf?t.Ra.Ye(e):e instanceof lI?t.Ra.it(e):t.Ra.et(e),!n.isEqual(Ne.min()))try{const r=await wI(t.localStore);n.compareTo(r)>=0&&await function(i,o){const a=i.Ra.Pt(o);return a.targetChanges.forEach((c,u)=>{if(c.resumeToken.approximateByteSize()>0){const h=i.Ta.get(u);h&&i.Ta.set(u,h.withResumeToken(c.resumeToken,o))}}),a.targetMismatches.forEach((c,u)=>{const h=i.Ta.get(c);if(!h)return;i.Ta.set(c,h.withResumeToken(un.EMPTY_BYTE_STRING,h.snapshotVersion)),_I(i,c);const p=new ki(h.target,c,u,h.sequenceNumber);Lx(i,p)}),i.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){me(oa,"Failed to raise snapshot:",r),await lp(t,r)}}async function lp(t,e,n){if(!nc(e))throw e;t.Ia.add(1),await pd(t),t.Aa.set("Offline"),n||(n=()=>wI(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{me(oa,"Retrying IndexedDB access"),await n(),t.Ia.delete(1),await um(t)})}function AI(t,e){return e().catch(n=>lp(t,n,e))}async function dm(t){const e=Pe(t),n=no(e);let r=e.Pa.length>0?e.Pa[e.Pa.length-1].batchId:bx;for(;JF(e);)try{const s=await kF(e.localStore,r);if(s===null){e.Pa.length===0&&n.B_();break}r=s.batchId,XF(e,s)}catch(s){await lp(e,s)}SI(e)&&II(e)}function JF(t){return ya(t)&&t.Pa.length<10}function XF(t,e){t.Pa.push(e);const n=no(t);n.x_()&&n.Z_&&n.X_(e.mutations)}function SI(t){return ya(t)&&!no(t).M_()&&t.Pa.length>0}function II(t){no(t).start()}async function ZF(t){no(t).na()}async function eV(t){const e=no(t);for(const n of t.Pa)e.X_(n.mutations)}async function tV(t,e,n){const r=t.Pa.shift(),s=Rx.from(r,e,n);await AI(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await dm(t)}async function nV(t,e){e&&no(t).Z_&&await async function(r,s){if(function(o){return F5(o)&&o!==H.ABORTED}(s.code)){const i=r.Pa.shift();no(r).N_(),await AI(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await dm(r)}}(t,e),SI(t)&&II(t)}async function mb(t,e){const n=Pe(t);n.asyncQueue.verifyOperationInProgress(),me(oa,"RemoteStore received new credentials");const r=ya(n);n.Ia.add(3),await pd(n),r&&n.Aa.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ia.delete(3),await um(n)}async function rV(t,e){const n=Pe(t);e?(n.Ia.delete(2),await um(n)):e||(n.Ia.add(2),await pd(n),n.Aa.set("Unknown"))}function sc(t){return t.Va||(t.Va=function(n,r,s){const i=Pe(n);return i.ia(),new UF(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Zo:QF.bind(null,t),e_:YF.bind(null,t),n_:KF.bind(null,t),J_:HF.bind(null,t)}),t.da.push(async e=>{e?(t.Va.N_(),Vx(t)?Fx(t):t.Aa.set("Unknown")):(await t.Va.stop(),TI(t))})),t.Va}function no(t){return t.ma||(t.ma=function(n,r,s){const i=Pe(n);return i.ia(),new qF(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Zo:()=>Promise.resolve(),e_:ZF.bind(null,t),n_:nV.bind(null,t),ea:eV.bind(null,t),ta:tV.bind(null,t)}),t.da.push(async e=>{e?(t.ma.N_(),await dm(t)):(await t.ma.stop(),t.Pa.length>0&&(me(oa,`Stopping write stream with ${t.Pa.length} pending writes`),t.Pa=[]))})),t.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bx{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new Ls,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const o=Date.now()+r,a=new Bx(e,n,o,s,i);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new fe(H.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ux(t,e){if($s("AsyncQueue",`${e}: ${t}`),nc(t))return new fe(H.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pl{static emptySet(e){return new pl(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||be.comparator(n.key,r.key):(n,r)=>be.comparator(n.key,r.key),this.keyedMap=$c(),this.sortedSet=new Tt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof pl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new pl;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gb{constructor(){this.fa=new Tt(be.comparator)}track(e){const n=e.doc.key,r=this.fa.get(n);r?e.type!==0&&r.type===3?this.fa=this.fa.insert(n,e):e.type===3&&r.type!==1?this.fa=this.fa.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.fa=this.fa.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.fa=this.fa.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.fa=this.fa.remove(n):e.type===1&&r.type===2?this.fa=this.fa.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.fa=this.fa.insert(n,{type:2,doc:e.doc}):Re(63341,{At:e,ga:r}):this.fa=this.fa.insert(n,e)}pa(){const e=[];return this.fa.inorderTraversal((n,r)=>{e.push(r)}),e}}class ql{constructor(e,n,r,s,i,o,a,c,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,s,i){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new ql(e,n,pl.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&sm(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sV{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(e=>e.ba())}}class iV{constructor(){this.queries=yb(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(n,r){const s=Pe(n),i=s.queries;s.queries=yb(),i.forEach((o,a)=>{for(const c of a.wa)c.onError(r)})})(this,new fe(H.ABORTED,"Firestore shutting down"))}}function yb(){return new ga(t=>KS(t),sm)}async function qx(t,e){const n=Pe(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.Sa()&&e.ba()&&(r=2):(i=new sV,r=e.ba()?0:1);try{switch(r){case 0:i.ya=await n.onListen(s,!0);break;case 1:i.ya=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(o){const a=Ux(o,`Initialization of query '${$a(e.query)}' failed`);return void e.onError(a)}n.queries.set(s,i),i.wa.push(e),e.va(n.onlineState),i.ya&&e.Ca(i.ya)&&$x(n)}async function Gx(t,e){const n=Pe(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const o=i.wa.indexOf(e);o>=0&&(i.wa.splice(o,1),i.wa.length===0?s=e.ba()?0:1:!i.Sa()&&e.ba()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function oV(t,e){const n=Pe(t);let r=!1;for(const s of e){const i=s.query,o=n.queries.get(i);if(o){for(const a of o.wa)a.Ca(s)&&(r=!0);o.ya=s}}r&&$x(n)}function aV(t,e,n){const r=Pe(t),s=r.queries.get(e);if(s)for(const i of s.wa)i.onError(n);r.queries.delete(e)}function $x(t){t.Da.forEach(e=>{e.next()})}var _y,vb;(vb=_y||(_y={})).Fa="default",vb.Cache="cache";class zx{constructor(e,n,r){this.query=e,this.Ma=n,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=r||{}}Ca(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new ql(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),n=!0):this.Ba(e,this.onlineState)&&(this.La(e),n=!0),this.Oa=e,n}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let n=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),n=!0),n}Ba(e,n){if(!e.fromCache||!this.ba())return!0;const r=n!=="Offline";return(!this.options.ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Na(e){if(e.docChanges.length>0)return!0;const n=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}La(e){e=ql.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==_y.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RI{constructor(e){this.key=e}}class NI{constructor(e){this.key=e}}class lV{constructor(e,n){this.query=e,this.Ha=n,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=$e(),this.mutatedKeys=$e(),this.Xa=HS(e),this.eu=new pl(this.Xa)}get tu(){return this.Ha}nu(e,n){const r=n?n.ru:new gb,s=n?n.eu:this.eu;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,a=!1;const c=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,u=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((h,p)=>{const f=s.get(h),v=im(this.query,p)?p:null,x=!!f&&this.mutatedKeys.has(f.key),y=!!v&&(v.hasLocalMutations||this.mutatedKeys.has(v.key)&&v.hasCommittedMutations);let w=!1;f&&v?f.data.isEqual(v.data)?x!==y&&(r.track({type:3,doc:v}),w=!0):this.iu(f,v)||(r.track({type:2,doc:v}),w=!0,(c&&this.Xa(v,c)>0||u&&this.Xa(v,u)<0)&&(a=!0)):!f&&v?(r.track({type:0,doc:v}),w=!0):f&&!v&&(r.track({type:1,doc:f}),w=!0,(c||u)&&(a=!0)),w&&(v?(o=o.add(v),i=y?i.add(h):i.delete(h)):(o=o.delete(h),i=i.delete(h)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const h=this.query.limitType==="F"?o.last():o.first();o=o.delete(h.key),i=i.delete(h.key),r.track({type:1,doc:h})}return{eu:o,ru:r,Ds:a,mutatedKeys:i}}iu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;const o=e.ru.pa();o.sort((h,p)=>function(v,x){const y=w=>{switch(w){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Re(20277,{At:w})}};return y(v)-y(x)}(h.type,p.type)||this.Xa(h.doc,p.doc)),this.su(r),s=s!=null&&s;const a=n&&!s?this.ou():[],c=this.Za.size===0&&this.current&&!s?1:0,u=c!==this.Ya;return this.Ya=c,o.length!==0||u?{snapshot:new ql(this.query,e.eu,i,o,e.mutatedKeys,c===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),_u:a}:{_u:a}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new gb,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach(n=>this.Ha=this.Ha.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ha=this.Ha.delete(n)),this.current=e.current)}ou(){if(!this.current)return[];const e=this.Za;this.Za=$e(),this.eu.forEach(r=>{this.au(r.key)&&(this.Za=this.Za.add(r.key))});const n=[];return e.forEach(r=>{this.Za.has(r)||n.push(new NI(r))}),this.Za.forEach(r=>{e.has(r)||n.push(new RI(r))}),n}uu(e){this.Ha=e.qs,this.Za=$e();const n=this.nu(e.documents);return this.applyChanges(n,!0)}cu(){return ql.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}}const Wx="SyncEngine";class cV{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class uV{constructor(e){this.key=e,this.lu=!1}}class dV{constructor(e,n,r,s,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.hu={},this.Pu=new ga(a=>KS(a),sm),this.Tu=new Map,this.Iu=new Set,this.du=new Tt(be.comparator),this.Eu=new Map,this.Au=new kx,this.Ru={},this.Vu=new Map,this.mu=Ul.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}}async function hV(t,e,n=!0){const r=OI(t);let s;const i=r.Pu.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.cu()):s=await PI(r,e,n,!0),s}async function fV(t,e){const n=OI(t);await PI(n,e,!0,!1)}async function PI(t,e,n,r){const s=await MF(t.localStore,os(e)),i=s.targetId,o=t.sharedClientState.addLocalQueryTarget(i,n);let a;return r&&(a=await pV(t,e,i,o==="current",s.resumeToken)),t.isPrimaryClient&&n&&CI(t.remoteStore,s),a}async function pV(t,e,n,r,s){t.gu=(p,f,v)=>async function(y,w,T,E){let b=w.view.nu(T);b.Ds&&(b=await ub(y.localStore,w.query,!1).then(({documents:I})=>w.view.nu(I,b)));const R=E&&E.targetChanges.get(w.targetId),j=E&&E.targetMismatches.get(w.targetId)!=null,V=w.view.applyChanges(b,y.isPrimaryClient,R,j);return wb(y,w.targetId,V._u),V.snapshot}(t,p,f,v);const i=await ub(t.localStore,e,!0),o=new lV(e,i.qs),a=o.nu(i.documents),c=fd.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),u=o.applyChanges(a,t.isPrimaryClient,c);wb(t,n,u._u);const h=new cV(e,n,o);return t.Pu.set(e,h),t.Tu.has(n)?t.Tu.get(n).push(e):t.Tu.set(n,[e]),u.snapshot}async function mV(t,e,n){const r=Pe(t),s=r.Pu.get(e),i=r.Tu.get(s.targetId);if(i.length>1)return r.Tu.set(s.targetId,i.filter(o=>!sm(o,e))),void r.Pu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await by(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&Ox(r.remoteStore,s.targetId),Ty(r,s.targetId)}).catch(tc)):(Ty(r,s.targetId),await by(r.localStore,s.targetId,!0))}async function gV(t,e){const n=Pe(t),r=n.Pu.get(e),s=n.Tu.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Ox(n.remoteStore,r.targetId))}async function yV(t,e,n){const r=_V(t);try{const s=await function(o,a){const c=Pe(o),u=Ge.now(),h=a.reduce((v,x)=>v.add(x.key),$e());let p,f;return c.persistence.runTransaction("Locally write mutations","readwrite",v=>{let x=zs(),y=$e();return c.Os.getEntries(v,h).next(w=>{x=w,x.forEach((T,E)=>{E.isValidDocument()||(y=y.add(T))})}).next(()=>c.localDocuments.getOverlayedDocuments(v,x)).next(w=>{p=w;const T=[];for(const E of a){const b=M5(E,p.get(E.key).overlayedDocument);b!=null&&T.push(new po(E.key,b,US(b.value.mapValue),Ur.exists(!0)))}return c.mutationQueue.addMutationBatch(v,u,T,a)}).next(w=>{f=w;const T=w.applyToLocalDocumentSet(p,y);return c.documentOverlayCache.saveOverlays(v,w.batchId,T)})}).then(()=>({batchId:f.batchId,changes:XS(p)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(o,a,c){let u=o.Ru[o.currentUser.toKey()];u||(u=new Tt(Oe)),u=u.insert(a,c),o.Ru[o.currentUser.toKey()]=u}(r,s.batchId,n),await md(r,s.changes),await dm(r.remoteStore)}catch(s){const i=Ux(s,"Failed to persist write");n.reject(i)}}async function kI(t,e){const n=Pe(t);try{const r=await NF(n.localStore,e);e.targetChanges.forEach((s,i)=>{const o=n.Eu.get(i);o&&(nt(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?o.lu=!0:s.modifiedDocuments.size>0?nt(o.lu,14607):s.removedDocuments.size>0&&(nt(o.lu,42227),o.lu=!1))}),await md(n,r,e)}catch(r){await tc(r)}}function xb(t,e,n){const r=Pe(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Pu.forEach((i,o)=>{const a=o.view.va(e);a.snapshot&&s.push(a.snapshot)}),function(o,a){const c=Pe(o);c.onlineState=a;let u=!1;c.queries.forEach((h,p)=>{for(const f of p.wa)f.va(a)&&(u=!0)}),u&&$x(c)}(r.eventManager,e),s.length&&r.hu.J_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function vV(t,e,n){const r=Pe(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Eu.get(e),i=s&&s.key;if(i){let o=new Tt(be.comparator);o=o.insert(i,En.newNoDocument(i,Ne.min()));const a=$e().add(i),c=new lm(Ne.min(),new Map,new Tt(Oe),o,a);await kI(r,c),r.du=r.du.remove(i),r.Eu.delete(e),Qx(r)}else await by(r.localStore,e,!1).then(()=>Ty(r,e,n)).catch(tc)}async function xV(t,e){const n=Pe(t),r=e.batch.batchId;try{const s=await RF(n.localStore,e);jI(n,r,null),MI(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await md(n,s)}catch(s){await tc(s)}}async function wV(t,e,n){const r=Pe(t);try{const s=await function(o,a){const c=Pe(o);return c.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let h;return c.mutationQueue.lookupMutationBatch(u,a).next(p=>(nt(p!==null,37113),h=p.keys(),c.mutationQueue.removeMutationBatch(u,p))).next(()=>c.mutationQueue.performConsistencyCheck(u)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(u,h,a)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,h)).next(()=>c.localDocuments.getDocuments(u,h))})}(r.localStore,e);jI(r,e,n),MI(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await md(r,s)}catch(s){await tc(s)}}function MI(t,e){(t.Vu.get(e)||[]).forEach(n=>{n.resolve()}),t.Vu.delete(e)}function jI(t,e,n){const r=Pe(t);let s=r.Ru[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.Ru[r.currentUser.toKey()]=s}}function Ty(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Tu.get(e))t.Pu.delete(r),n&&t.hu.pu(r,n);t.Tu.delete(e),t.isPrimaryClient&&t.Au.zr(e).forEach(r=>{t.Au.containsKey(r)||DI(t,r)})}function DI(t,e){t.Iu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(Ox(t.remoteStore,n),t.du=t.du.remove(e),t.Eu.delete(n),Qx(t))}function wb(t,e,n){for(const r of n)r instanceof RI?(t.Au.addReference(r.key,e),EV(t,r)):r instanceof NI?(me(Wx,"Document no longer in limbo: "+r.key),t.Au.removeReference(r.key,e),t.Au.containsKey(r.key)||DI(t,r.key)):Re(19791,{yu:r})}function EV(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Iu.has(r)||(me(Wx,"New document in limbo: "+n),t.Iu.add(r),Qx(t))}function Qx(t){for(;t.Iu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Iu.values().next().value;t.Iu.delete(e);const n=new be(ct.fromString(e)),r=t.mu.next();t.Eu.set(r,new uV(n)),t.du=t.du.insert(n,r),CI(t.remoteStore,new ki(os(rm(n.path)),r,"TargetPurposeLimboResolution",em.ue))}}async function md(t,e,n){const r=Pe(t),s=[],i=[],o=[];r.Pu.isEmpty()||(r.Pu.forEach((a,c)=>{o.push(r.gu(c,e,n).then(u=>{var h;if((u||n)&&r.isPrimaryClient){const p=u?!u.fromCache:(h=n==null?void 0:n.targetChanges.get(c.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(c.targetId,p?"current":"not-current")}if(u){s.push(u);const p=jx.Es(c.targetId,u);i.push(p)}}))}),await Promise.all(o),r.hu.J_(s),await async function(c,u){const h=Pe(c);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>J.forEach(u,f=>J.forEach(f.Is,v=>h.persistence.referenceDelegate.addReference(p,f.targetId,v)).next(()=>J.forEach(f.ds,v=>h.persistence.referenceDelegate.removeReference(p,f.targetId,v)))))}catch(p){if(!nc(p))throw p;me(Dx,"Failed to update sequence numbers: "+p)}for(const p of u){const f=p.targetId;if(!p.fromCache){const v=h.Fs.get(f),x=v.snapshotVersion,y=v.withLastLimboFreeSnapshotVersion(x);h.Fs=h.Fs.insert(f,y)}}}(r.localStore,i))}async function bV(t,e){const n=Pe(t);if(!n.currentUser.isEqual(e)){me(Wx,"User change. New user:",e.toKey());const r=await xI(n.localStore,e);n.currentUser=e,function(i,o){i.Vu.forEach(a=>{a.forEach(c=>{c.reject(new fe(H.CANCELLED,o))})}),i.Vu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await md(n,r.Bs)}}function CV(t,e){const n=Pe(t),r=n.Eu.get(e);if(r&&r.lu)return $e().add(r.key);{let s=$e();const i=n.Tu.get(e);if(!i)return s;for(const o of i){const a=n.Pu.get(o);s=s.unionWith(a.view.tu)}return s}}function OI(t){const e=Pe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=kI.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=CV.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=vV.bind(null,e),e.hu.J_=oV.bind(null,e.eventManager),e.hu.pu=aV.bind(null,e.eventManager),e}function _V(t){const e=Pe(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=xV.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=wV.bind(null,e),e}class cp{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=cm(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Du(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Cu(e,this.localStore),this.indexBackfillerScheduler=this.Fu(e,this.localStore)}Cu(e,n){return null}Fu(e,n){return null}vu(e){return IF(this.persistence,new TF,e.initialUser,this.serializer)}Du(e){return new vI(Mx.Vi,this.serializer)}bu(e){return new DF}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}cp.provider={build:()=>new cp};class TV extends cp{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,n){nt(this.persistence.referenceDelegate instanceof ap,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new uF(r,e.asyncQueue,n)}Du(e){const n=this.cacheSizeBytes!==void 0?Fn.withCacheSize(this.cacheSizeBytes):Fn.DEFAULT;return new vI(r=>ap.Vi(r,n),this.serializer)}}class Ay{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>xb(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=bV.bind(null,this.syncEngine),await rV(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new iV}()}createDatastore(e){const n=cm(e.databaseInfo.databaseId),r=function(i){return new BF(i)}(e.databaseInfo);return function(i,o,a,c){return new $F(i,o,a,c)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,i,o,a){return new WF(r,s,i,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>xb(this.syncEngine,n,0),function(){return fb.C()?new fb:new OF}())}createSyncEngine(e,n){return function(s,i,o,a,c,u,h){const p=new dV(s,i,o,a,c,u);return h&&(p.fu=!0),p}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const i=Pe(s);me(oa,"RemoteStore shutting down."),i.Ia.add(5),await pd(i),i.Ea.shutdown(),i.Aa.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Ay.provider={build:()=>new Ay};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yx{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):$s("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ro="FirestoreClient";class AV{constructor(e,n,r,s,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=xn.UNAUTHENTICATED,this.clientId=Ex.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,async o=>{me(ro,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(me(ro,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ls;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Ux(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function qg(t,e){t.asyncQueue.verifyOperationInProgress(),me(ro,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await xI(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>{Ji("Terminating Firestore due to IndexedDb database deletion"),t.terminate().then(()=>{me("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(s=>{Ji("Terminating Firestore due to IndexedDb database deletion failed",s)})}),t._offlineComponents=e}async function Eb(t,e){t.asyncQueue.verifyOperationInProgress();const n=await SV(t);me(ro,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>mb(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>mb(e.remoteStore,s)),t._onlineComponents=e}async function SV(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){me(ro,"Using user provided OfflineComponentProvider");try{await qg(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===H.FAILED_PRECONDITION||s.code===H.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;Ji("Error using user provided cache. Falling back to memory cache: "+n),await qg(t,new cp)}}else me(ro,"Using default OfflineComponentProvider"),await qg(t,new TV(void 0));return t._offlineComponents}async function LI(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(me(ro,"Using user provided OnlineComponentProvider"),await Eb(t,t._uninitializedComponentsProvider._online)):(me(ro,"Using default OnlineComponentProvider"),await Eb(t,new Ay))),t._onlineComponents}function IV(t){return LI(t).then(e=>e.syncEngine)}async function up(t){const e=await LI(t),n=e.eventManager;return n.onListen=hV.bind(null,e.syncEngine),n.onUnlisten=mV.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=fV.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=gV.bind(null,e.syncEngine),n}function RV(t,e,n={}){const r=new Ls;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,c,u){const h=new Yx({next:f=>{h.Ou(),o.enqueueAndForget(()=>Gx(i,p));const v=f.docs.has(a);!v&&f.fromCache?u.reject(new fe(H.UNAVAILABLE,"Failed to get document because the client is offline.")):v&&f.fromCache&&c&&c.source==="server"?u.reject(new fe(H.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(f)},error:f=>u.reject(f)}),p=new zx(rm(a.path),h,{includeMetadataChanges:!0,ka:!0});return qx(i,p)}(await up(t),t.asyncQueue,e,n,r)),r.promise}function NV(t,e,n={}){const r=new Ls;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,c,u){const h=new Yx({next:f=>{h.Ou(),o.enqueueAndForget(()=>Gx(i,p)),f.fromCache&&c.source==="server"?u.reject(new fe(H.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(f)},error:f=>u.reject(f)}),p=new zx(a,h,{includeMetadataChanges:!0,ka:!0});return qx(i,p)}(await up(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FI(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bb=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VI="firestore.googleapis.com",Cb=!0;class _b{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new fe(H.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=VI,this.ssl=Cb}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:Cb;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=yI;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<lF)throw new fe(H.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Y3("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=FI((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new fe(H.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new fe(H.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new fe(H.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class hm{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new _b({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new fe(H.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new fe(H.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new _b(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new V3;switch(r.type){case"firstParty":return new G3(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new fe(H.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=bb.get(n);r&&(me("ComponentProvider","Removing Datastore"),bb.delete(n),r.terminate())}(this),Promise.resolve()}}function PV(t,e,n,r={}){var s;t=sr(t,hm);const i=Xl(e),o=t._getSettings(),a=Object.assign(Object.assign({},o),{emulatorOptions:t._getEmulatorOptions()}),c=`${e}:${n}`;i&&(fS(`https://${c}`),pS("Firestore",!0)),o.host!==VI&&o.host!==c&&Ji("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const u=Object.assign(Object.assign({},o),{host:c,ssl:i,emulatorOptions:r});if(!ra(u,a)&&(t._setSettings(u),r.mockUserToken)){let h,p;if(typeof r.mockUserToken=="string")h=r.mockUserToken,p=xn.MOCK_USER;else{h=cL(r.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const f=r.mockUserToken.sub||r.mockUserToken.user_id;if(!f)throw new fe(H.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new xn(f)}t._authCredentials=new B3(new SS(h,p))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ic=class BI{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new BI(this.firestore,e,this._query)}};class Nt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Wi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Nt(this.firestore,e,this._key)}toJSON(){return{type:Nt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(dd(n,Nt._jsonSchema))return new Nt(e,r||null,new be(ct.fromString(n.referencePath)))}}Nt._jsonSchemaVersion="firestore/documentReference/1.0",Nt._jsonSchema={type:Bt("string",Nt._jsonSchemaVersion),referencePath:Bt("string")};class Wi extends ic{constructor(e,n,r){super(e,n,rm(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Nt(this.firestore,null,new be(e))}withConverter(e){return new Wi(this.firestore,e,this._path)}}function gd(t,e,...n){if(t=Ut(t),RS("collection","path",e),t instanceof hm){const r=ct.fromString(e,...n);return LE(r),new Wi(t,null,r)}{if(!(t instanceof Nt||t instanceof Wi))throw new fe(H.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ct.fromString(e,...n));return LE(r),new Wi(t.firestore,null,r)}}function an(t,e,...n){if(t=Ut(t),arguments.length===1&&(e=Ex.newId()),RS("doc","path",e),t instanceof hm){const r=ct.fromString(e,...n);return OE(r),new Nt(t,null,new be(r))}{if(!(t instanceof Nt||t instanceof Wi))throw new fe(H.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ct.fromString(e,...n));return OE(r),new Nt(t.firestore,t instanceof Wi?t.converter:null,new be(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tb="AsyncQueue";class Ab{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new EI(this,"async_queue_retry"),this.oc=()=>{const r=Ug();r&&me(Tb,"Visibility state changed to "+r.visibilityState),this.F_.y_()},this._c=e;const n=Ug();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;const n=Ug();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise(()=>{});const n=new Ls;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Zu.push(e),this.cc()))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!nc(e))throw e;me(Tb,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}}uc(e){const n=this._c.then(()=>(this.nc=!0,e().catch(r=>{throw this.tc=r,this.nc=!1,$s("INTERNAL UNHANDLED ERROR: ",Sb(r)),r}).then(r=>(this.nc=!1,r))));return this._c=n,n}enqueueAfterDelay(e,n,r){this.ac(),this.sc.indexOf(e)>-1&&(n=0);const s=Bx.createAndSchedule(this,e,n,r,i=>this.lc(i));return this.ec.push(s),s}ac(){this.tc&&Re(47125,{hc:Sb(this.tc)})}verifyOperationInProgress(){}async Pc(){let e;do e=this._c,await e;while(e!==this._c)}Tc(e){for(const n of this.ec)if(n.timerId===e)return!0;return!1}Ic(e){return this.Pc().then(()=>{this.ec.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.ec)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Pc()})}dc(e){this.sc.push(e)}lc(e){const n=this.ec.indexOf(e);this.ec.splice(n,1)}}function Sb(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ib(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const s=n;for(const i of r)if(i in s&&typeof s[i]=="function")return!0;return!1}(t,["next","error","complete"])}class so extends hm{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new Ab,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Ab(e),this._firestoreClient=void 0,await e}}}function kV(t,e){const n=typeof t=="object"?t:xx(),r=typeof t=="string"?t:tp,s=vx(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=aL("firestore");i&&PV(s,...i)}return s}function fm(t){if(t._terminated)throw new fe(H.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||MV(t),t._firestoreClient}function MV(t){var e,n,r;const s=t._freezeSettings(),i=function(a,c,u,h){return new i5(a,c,u,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,FI(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._componentsProvider||!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),t._firestoreClient=new AV(t._authCredentials,t._appCheckCredentials,t._queue,i,t._componentsProvider&&function(a){const c=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(c),_online:c}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yr{constructor(e){this._byteString=e}static fromBase64String(e){try{return new yr(un.fromBase64String(e))}catch(n){throw new fe(H.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new yr(un.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:yr._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(dd(e,yr._jsonSchema))return yr.fromBase64String(e.bytes)}}yr._jsonSchemaVersion="firestore/bytes/1.0",yr._jsonSchema={type:Bt("string",yr._jsonSchemaVersion),bytes:Bt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pm{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new fe(H.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new sn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kx{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ls{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new fe(H.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new fe(H.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Oe(this._lat,e._lat)||Oe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ls._jsonSchemaVersion}}static fromJSON(e){if(dd(e,ls._jsonSchema))return new ls(e.latitude,e.longitude)}}ls._jsonSchemaVersion="firestore/geoPoint/1.0",ls._jsonSchema={type:Bt("string",ls._jsonSchemaVersion),latitude:Bt("number"),longitude:Bt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cs{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0}(this._values,e._values)}toJSON(){return{type:cs._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(dd(e,cs._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new cs(e.vectorValues);throw new fe(H.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}cs._jsonSchemaVersion="firestore/vectorValue/1.0",cs._jsonSchema={type:Bt("string",cs._jsonSchemaVersion),vectorValues:Bt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jV=/^__.*__$/;class DV{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new po(e,this.data,this.fieldMask,n,this.fieldTransforms):new hd(e,this.data,n,this.fieldTransforms)}}class UI{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new po(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function qI(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Re(40011,{Ec:t})}}class Hx{constructor(e,n,r,s,i,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.Ac(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new Hx(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Rc({path:r,mc:!1});return s.fc(e),s}gc(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Rc({path:r,mc:!1});return s.Ac(),s}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return dp(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if(qI(this.Ec)&&jV.test(e))throw this.wc('Document fields cannot begin and end with "__"')}}class OV{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||cm(e)}Dc(e,n,r,s=!1){return new Hx({Ec:e,methodName:n,bc:r,path:sn.emptyPath(),mc:!1,Sc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Jx(t){const e=t._freezeSettings(),n=cm(t._databaseId);return new OV(t._databaseId,!!e.ignoreUndefinedProperties,n)}function LV(t,e,n,r,s,i={}){const o=t.Dc(i.merge||i.mergeFields?2:0,e,n,s);Xx("Data must be an object, but it was:",o,r);const a=GI(r,o);let c,u;if(i.merge)c=new nr(o.fieldMask),u=o.fieldTransforms;else if(i.mergeFields){const h=[];for(const p of i.mergeFields){const f=Sy(e,p,n);if(!o.contains(f))throw new fe(H.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);zI(h,f)||h.push(f)}c=new nr(h),u=o.fieldTransforms.filter(p=>c.covers(p.field))}else c=null,u=o.fieldTransforms;return new DV(new Bn(a),c,u)}class mm extends Kx{_toFieldTransform(e){if(e.Ec!==2)throw e.Ec===1?e.wc(`${this._methodName}() can only appear at the top level of your update data`):e.wc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof mm}}function FV(t,e,n,r){const s=t.Dc(1,e,n);Xx("Data must be an object, but it was:",s,r);const i=[],o=Bn.empty();fo(r,(c,u)=>{const h=Zx(e,c,n);u=Ut(u);const p=s.gc(h);if(u instanceof mm)i.push(h);else{const f=yd(u,p);f!=null&&(i.push(h),o.set(h,f))}});const a=new nr(i);return new UI(o,a,s.fieldTransforms)}function VV(t,e,n,r,s,i){const o=t.Dc(1,e,n),a=[Sy(e,r,n)],c=[s];if(i.length%2!=0)throw new fe(H.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let f=0;f<i.length;f+=2)a.push(Sy(e,i[f])),c.push(i[f+1]);const u=[],h=Bn.empty();for(let f=a.length-1;f>=0;--f)if(!zI(u,a[f])){const v=a[f];let x=c[f];x=Ut(x);const y=o.gc(v);if(x instanceof mm)u.push(v);else{const w=yd(x,y);w!=null&&(u.push(v),h.set(v,w))}}const p=new nr(u);return new UI(h,p,o.fieldTransforms)}function BV(t,e,n,r=!1){return yd(n,t.Dc(r?4:3,e))}function yd(t,e){if($I(t=Ut(t)))return Xx("Unsupported field value:",e,t),GI(t,e);if(t instanceof Kx)return function(r,s){if(!qI(s.Ec))throw s.wc(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.wc(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return function(r,s){const i=[];let o=0;for(const a of r){let c=yd(a,s.yc(o));c==null&&(c={nullValue:"NULL_VALUE"}),i.push(c),o++}return{arrayValue:{values:i}}}(t,e)}return function(r,s){if((r=Ut(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return S5(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=Ge.fromDate(r);return{timestampValue:op(s.serializer,i)}}if(r instanceof Ge){const i=new Ge(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:op(s.serializer,i)}}if(r instanceof ls)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof yr)return{bytesValue:uI(s.serializer,r._byteString)};if(r instanceof Nt){const i=s.databaseId,o=r.firestore._databaseId;if(!o.isEqual(i))throw s.wc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:Px(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof cs)return function(o,a){return{mapValue:{fields:{[FS]:{stringValue:BS},[np]:{arrayValue:{values:o.toArray().map(u=>{if(typeof u!="number")throw a.wc("VectorValues must only contain numeric values.");return Sx(a.serializer,u)})}}}}}}(r,s);throw s.wc(`Unsupported field value: ${Zp(r)}`)}(t,e)}function GI(t,e){const n={};return kS(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):fo(t,(r,s)=>{const i=yd(s,e.Vc(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function $I(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Ge||t instanceof ls||t instanceof yr||t instanceof Nt||t instanceof Kx||t instanceof cs)}function Xx(t,e,n){if(!$I(n)||!NS(n)){const r=Zp(n);throw r==="an object"?e.wc(t+" a custom object"):e.wc(t+" "+r)}}function Sy(t,e,n){if((e=Ut(e))instanceof pm)return e._internalPath;if(typeof e=="string")return Zx(t,e);throw dp("Field path arguments must be of type string or ",t,!1,void 0,n)}const UV=new RegExp("[~\\*/\\[\\]]");function Zx(t,e,n){if(e.search(UV)>=0)throw dp(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new pm(...e.split("."))._internalPath}catch{throw dp(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function dp(t,e,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(i||o)&&(c+=" (found",i&&(c+=` in field ${r}`),o&&(c+=` in document ${s}`),c+=")"),new fe(H.INVALID_ARGUMENT,a+t+c)}function zI(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WI{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Nt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new qV(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(gm("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class qV extends WI{data(){return super.data()}}function gm(t,e){return typeof e=="string"?Zx(t,e):e instanceof pm?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QI(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new fe(H.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class ew{}class YI extends ew{}function tw(t,e,...n){let r=[];e instanceof ew&&r.push(e),r=r.concat(n),function(i){const o=i.filter(c=>c instanceof nw).length,a=i.filter(c=>c instanceof ym).length;if(o>1||o>0&&a>0)throw new fe(H.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)t=s._apply(t);return t}class ym extends YI{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new ym(e,n,r)}_apply(e){const n=this._parse(e);return HI(e._query,n),new ic(e.firestore,e.converter,gy(e._query,n))}_parse(e){const n=Jx(e.firestore);return function(i,o,a,c,u,h,p){let f;if(u.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new fe(H.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){Pb(p,h);const x=[];for(const y of p)x.push(Nb(c,i,y));f={arrayValue:{values:x}}}else f=Nb(c,i,p)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||Pb(p,h),f=BV(a,o,p,h==="in"||h==="not-in");return Vt.create(u,h,f)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Rb(t,e,n){const r=e,s=gm("where",t);return ym._create(s,r,n)}class nw extends ew{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new nw(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Gr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(s,i){let o=s;const a=i.getFlattenedFilters();for(const c of a)HI(o,c),o=gy(o,c)}(e._query,n),new ic(e.firestore,e.converter,gy(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class rw extends YI{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new rw(e,n)}_apply(e){const n=function(s,i,o){if(s.startAt!==null)throw new fe(H.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new fe(H.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Bu(i,o)}(e._query,this._field,this._direction);return new ic(e.firestore,e.converter,function(s,i){const o=s.explicitOrderBy.concat([i]);return new rc(s.path,s.collectionGroup,o,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,n))}}function KI(t,e="asc"){const n=e,r=gm("orderBy",t);return rw._create(r,n)}function Nb(t,e,n){if(typeof(n=Ut(n))=="string"){if(n==="")throw new fe(H.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!YS(e)&&n.indexOf("/")!==-1)throw new fe(H.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(ct.fromString(n));if(!be.isDocumentKey(r))throw new fe(H.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return zE(t,new be(r))}if(n instanceof Nt)return zE(t,n._key);throw new fe(H.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Zp(n)}.`)}function Pb(t,e){if(!Array.isArray(t)||t.length===0)throw new fe(H.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function HI(t,e){const n=function(s,i){for(const o of s)for(const a of o.getFlattenedFilters())if(i.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new fe(H.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new fe(H.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class GV{convertValue(e,n="none"){switch(to(e)){case 0:return null;case 1:return e.booleanValue;case 2:return kt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(eo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Re(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return fo(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertVectorValue(e){var n,r,s;const i=(s=(r=(n=e.fields)===null||n===void 0?void 0:n[np].arrayValue)===null||r===void 0?void 0:r.values)===null||s===void 0?void 0:s.map(o=>kt(o.doubleValue));return new cs(i)}convertGeoPoint(e){return new ls(kt(e.latitude),kt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=nm(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Lu(e));default:return null}}convertTimestamp(e){const n=Zi(e);return new Ge(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=ct.fromString(e);nt(gI(r),9688,{name:e});const s=new Fu(r.get(1),r.get(3)),i=new be(r.popFirst(5));return s.isEqual(n)||$s(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $V(t,e,n){let r;return r=t?t.toFirestore(e):e,r}class Wc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Wo extends WI{constructor(e,n,r,s,i,o){super(e,n,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new ff(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(gm("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new fe(H.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Wo._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Wo._jsonSchemaVersion="firestore/documentSnapshot/1.0",Wo._jsonSchema={type:Bt("string",Wo._jsonSchemaVersion),bundleSource:Bt("string","DocumentSnapshot"),bundleName:Bt("string"),bundle:Bt("string")};class ff extends Wo{data(e={}){return super.data(e)}}class Qo{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new Wc(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new ff(this._firestore,this._userDataWriter,r.key,r,new Wc(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new fe(H.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map(a=>{const c=new ff(s._firestore,s._userDataWriter,a.doc.key,a.doc,new Wc(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);return a.doc,{type:"added",doc:c,oldIndex:-1,newIndex:o++}})}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(a=>i||a.type!==3).map(a=>{const c=new ff(s._firestore,s._userDataWriter,a.doc.key,a.doc,new Wc(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);let u=-1,h=-1;return a.type!==0&&(u=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),h=o.indexOf(a.doc.key)),{type:zV(a.type),doc:c,oldIndex:u,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new fe(H.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Qo._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Ex.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],s=[];return this.docs.forEach(i=>{i._document!==null&&(n.push(i._document),r.push(this._userDataWriter.convertObjectMap(i._document.data.value.mapValue.fields,"previous")),s.push(i.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function zV(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Re(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gl(t){t=sr(t,Nt);const e=sr(t.firestore,so);return RV(fm(e),t._key).then(n=>JI(e,t,n))}Qo._jsonSchemaVersion="firestore/querySnapshot/1.0",Qo._jsonSchema={type:Bt("string",Qo._jsonSchemaVersion),bundleSource:Bt("string","QuerySnapshot"),bundleName:Bt("string"),bundle:Bt("string")};class sw extends GV{constructor(e){super(),this.firestore=e}convertBytes(e){return new yr(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Nt(this.firestore,null,n)}}function iw(t){t=sr(t,ic);const e=sr(t.firestore,so),n=fm(e),r=new sw(e);return QI(t._query),NV(n,t._query).then(s=>new Qo(e,r,t,s))}function vm(t,e,n){t=sr(t,Nt);const r=sr(t.firestore,so),s=$V(t.converter,e);return aw(r,[LV(Jx(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,Ur.none())])}function vd(t,e,n,...r){t=sr(t,Nt);const s=sr(t.firestore,so),i=Jx(s);let o;return o=typeof(e=Ut(e))=="string"||e instanceof pm?VV(i,"updateDoc",t._key,e,n,r):FV(i,"updateDoc",t._key,e),aw(s,[o.toMutation(t._key,Ur.exists(!0))])}function WV(t){return aw(sr(t.firestore,so),[new Ix(t._key,Ur.none())])}function ow(t,...e){var n,r,s;t=Ut(t);let i={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||Ib(e[o])||(i=e[o++]);const a={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(Ib(e[o])){const p=e[o];e[o]=(n=p.next)===null||n===void 0?void 0:n.bind(p),e[o+1]=(r=p.error)===null||r===void 0?void 0:r.bind(p),e[o+2]=(s=p.complete)===null||s===void 0?void 0:s.bind(p)}let c,u,h;if(t instanceof Nt)u=sr(t.firestore,so),h=rm(t._key.path),c={next:p=>{e[o]&&e[o](JI(u,t,p))},error:e[o+1],complete:e[o+2]};else{const p=sr(t,ic);u=sr(p.firestore,so),h=p._query;const f=new sw(u);c={next:v=>{e[o]&&e[o](new Qo(u,f,p,v))},error:e[o+1],complete:e[o+2]},QI(t._query)}return function(f,v,x,y){const w=new Yx(y),T=new zx(v,w,x);return f.asyncQueue.enqueueAndForget(async()=>qx(await up(f),T)),()=>{w.Ou(),f.asyncQueue.enqueueAndForget(async()=>Gx(await up(f),T))}}(fm(u),h,a,c)}function aw(t,e){return function(r,s){const i=new Ls;return r.asyncQueue.enqueueAndForget(async()=>yV(await IV(r),s,i)),i.promise}(fm(t),e)}function JI(t,e,n){const r=n.docs.get(e._key),s=new sw(t);return new Wo(t,s,e._key,r,new Wc(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(s){ec=s})(Zl),Ll(new sa("firestore",(r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),a=new so(new U3(r.getProvider("auth-internal")),new $3(o,r.getProvider("app-check-internal")),function(u,h){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new fe(H.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Fu(u.options.projectId,h)}(o,s),o);return i=Object.assign({useFetchStreams:n},i),a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),$i(PE,kE,e),$i(PE,kE,"esm2017")})();var rs=function(){return rs=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},rs.apply(this,arguments)};function xd(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function QV(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,i;r<s;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))}function XI(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const YV=XI,ZI=new cd("auth","Firebase",XI());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hp=new gx("@firebase/auth");function KV(t,...e){hp.logLevel<=qe.WARN&&hp.warn(`Auth (${Zl}): ${t}`,...e)}function pf(t,...e){hp.logLevel<=qe.ERROR&&hp.error(`Auth (${Zl}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $r(t,...e){throw lw(t,...e)}function us(t,...e){return lw(t,...e)}function eR(t,e,n){const r=Object.assign(Object.assign({},YV()),{[e]:n});return new cd("auth","Firebase",r).create(e,{appName:t.name})}function Fs(t){return eR(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function lw(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return ZI.create(t,...e)}function Ie(t,e,...n){if(!t)throw lw(e,...n)}function js(t){const e="INTERNAL ASSERTION FAILED: "+t;throw pf(e),new Error(e)}function Ws(t,e){t||js(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iy(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function HV(){return kb()==="http:"||kb()==="https:"}function kb(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JV(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(HV()||mL()||"connection"in navigator)?navigator.onLine:!0}function XV(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wd{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ws(n>e,"Short delay should be less than long delay!"),this.isMobile=hL()||gL()}get(){return JV()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cw(t,e){Ws(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tR{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;js("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;js("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;js("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZV={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e6=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],t6=new wd(3e4,6e4);function mo(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function go(t,e,n,r,s={}){return nR(t,s,async()=>{let i={},o={};r&&(e==="GET"?o=r:i={body:JSON.stringify(r)});const a=ud(Object.assign({key:t.config.apiKey},o)).slice(1),c=await t._getAdditionalHeaders();c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode);const u=Object.assign({method:e,headers:c},i);return pL()||(u.referrerPolicy="no-referrer"),t.emulatorConfig&&Xl(t.emulatorConfig.host)&&(u.credentials="include"),tR.fetch()(await rR(t,t.config.apiHost,n,a),u)})}async function nR(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},ZV),e);try{const s=new r6(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw Lh(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const a=i.ok?o.errorMessage:o.error.message,[c,u]=a.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw Lh(t,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw Lh(t,"email-already-in-use",o);if(c==="USER_DISABLED")throw Lh(t,"user-disabled",o);const h=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw eR(t,h,u);$r(t,h)}}catch(s){if(s instanceof Js)throw s;$r(t,"network-request-failed",{message:String(s)})}}async function Ed(t,e,n,r,s={}){const i=await go(t,e,n,r,s);return"mfaPendingCredential"in i&&$r(t,"multi-factor-auth-required",{_serverResponse:i}),i}async function rR(t,e,n,r){const s=`${e}${n}?${r}`,i=t,o=i.config.emulator?cw(t.config,s):`${t.config.apiScheme}://${s}`;return e6.includes(n)&&(await i._persistenceManagerAvailable,i._getPersistenceType()==="COOKIE")?i._getPersistence()._getFinalTarget(o).toString():o}function n6(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class r6{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(us(this.auth,"network-request-failed")),t6.get())})}}function Lh(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=us(t,e,r);return s.customData._tokenResponse=n,s}function Mb(t){return t!==void 0&&t.enterprise!==void 0}class s6{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return n6(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function i6(t,e){return go(t,"GET","/v2/recaptchaConfig",mo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function o6(t,e){return go(t,"POST","/v1/accounts:delete",e)}async function fp(t,e){return go(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hu(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function a6(t,e=!1){const n=Ut(t),r=await n.getIdToken(e),s=uw(r);Ie(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:hu(Gg(s.auth_time)),issuedAtTime:hu(Gg(s.iat)),expirationTime:hu(Gg(s.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function Gg(t){return Number(t)*1e3}function uw(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return pf("JWT malformed, contained fewer than 3 sections"),null;try{const s=cS(n);return s?JSON.parse(s):(pf("Failed to decode base64 JWT payload"),null)}catch(s){return pf("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function jb(t){const e=uw(t);return Ie(e,"internal-error"),Ie(typeof e.exp<"u","internal-error"),Ie(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gu(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Js&&l6(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function l6({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c6{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ry{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=hu(this.lastLoginAt),this.creationTime=hu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pp(t){var e;const n=t.auth,r=await t.getIdToken(),s=await Gu(t,fp(n,{idToken:r}));Ie(s==null?void 0:s.users.length,n,"internal-error");const i=s.users[0];t._notifyReloadListener(i);const o=!((e=i.providerUserInfo)===null||e===void 0)&&e.length?sR(i.providerUserInfo):[],a=d6(t.providerData,o),c=t.isAnonymous,u=!(t.email&&i.passwordHash)&&!(a!=null&&a.length),h=c?u:!1,p={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new Ry(i.createdAt,i.lastLoginAt),isAnonymous:h};Object.assign(t,p)}async function u6(t){const e=Ut(t);await pp(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function d6(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function sR(t){return t.map(e=>{var{providerId:n}=e,r=xd(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function h6(t,e){const n=await nR(t,{},async()=>{const r=ud({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,o=await rR(t,s,"/v1/token",`key=${i}`),a=await t._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";const c={method:"POST",headers:a,body:r};return t.emulatorConfig&&Xl(t.emulatorConfig.host)&&(c.credentials="include"),tR.fetch()(o,c)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function f6(t,e){return go(t,"POST","/v2/accounts:revokeToken",mo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ml{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ie(e.idToken,"internal-error"),Ie(typeof e.idToken<"u","internal-error"),Ie(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):jb(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ie(e.length!==0,"internal-error");const n=jb(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ie(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await h6(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,o=new ml;return r&&(Ie(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),s&&(Ie(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(Ie(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ml,this.toJSON())}_performRefresh(){return js("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hi(t,e){Ie(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Fr{constructor(e){var{uid:n,auth:r,stsTokenManager:s}=e,i=xd(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new c6(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Ry(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await Gu(this,this.stsTokenManager.getToken(this.auth,e));return Ie(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return a6(this,e)}reload(){return u6(this)}_assign(e){this!==e&&(Ie(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Fr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Ie(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await pp(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(gr(this.auth.app))return Promise.reject(Fs(this.auth));const e=await this.getIdToken();return await Gu(this,o6(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,s,i,o,a,c,u,h;const p=(r=n.displayName)!==null&&r!==void 0?r:void 0,f=(s=n.email)!==null&&s!==void 0?s:void 0,v=(i=n.phoneNumber)!==null&&i!==void 0?i:void 0,x=(o=n.photoURL)!==null&&o!==void 0?o:void 0,y=(a=n.tenantId)!==null&&a!==void 0?a:void 0,w=(c=n._redirectEventId)!==null&&c!==void 0?c:void 0,T=(u=n.createdAt)!==null&&u!==void 0?u:void 0,E=(h=n.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:b,emailVerified:R,isAnonymous:j,providerData:V,stsTokenManager:I}=n;Ie(b&&I,e,"internal-error");const S=ml.fromJSON(this.name,I);Ie(typeof b=="string",e,"internal-error"),hi(p,e.name),hi(f,e.name),Ie(typeof R=="boolean",e,"internal-error"),Ie(typeof j=="boolean",e,"internal-error"),hi(v,e.name),hi(x,e.name),hi(y,e.name),hi(w,e.name),hi(T,e.name),hi(E,e.name);const P=new Fr({uid:b,auth:e,email:f,emailVerified:R,displayName:p,isAnonymous:j,photoURL:x,phoneNumber:v,tenantId:y,stsTokenManager:S,createdAt:T,lastLoginAt:E});return V&&Array.isArray(V)&&(P.providerData=V.map(k=>Object.assign({},k))),w&&(P._redirectEventId=w),P}static async _fromIdTokenResponse(e,n,r=!1){const s=new ml;s.updateFromServerResponse(n);const i=new Fr({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await pp(i),i}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];Ie(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?sR(s.providerUserInfo):[],o=!(s.email&&s.passwordHash)&&!(i!=null&&i.length),a=new ml;a.updateFromIdToken(r);const c=new Fr({uid:s.localId,auth:e,stsTokenManager:a,isAnonymous:o}),u={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new Ry(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(i!=null&&i.length)};return Object.assign(c,u),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Db=new Map;function Ds(t){Ws(t instanceof Function,"Expected a class definition");let e=Db.get(t);return e?(Ws(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Db.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iR{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}iR.type="NONE";const Ob=iR;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mf(t,e,n){return`firebase:${t}:${e}:${n}`}class gl{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=mf(this.userKey,s.apiKey,i),this.fullPersistenceKey=mf("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await fp(this.auth,{idToken:e}).catch(()=>{});return n?Fr._fromGetAccountInfoResponse(this.auth,n,e):null}return Fr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new gl(Ds(Ob),e,r);const s=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let i=s[0]||Ds(Ob);const o=mf(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const h=await u._get(o);if(h){let p;if(typeof h=="string"){const f=await fp(e,{idToken:h}).catch(()=>{});if(!f)break;p=await Fr._fromGetAccountInfoResponse(e,f,h)}else p=Fr._fromJSON(e,h);u!==i&&(a=p),i=u;break}}catch{}const c=s.filter(u=>u._shouldAllowMigration);return!i._shouldAllowMigration||!c.length?new gl(i,e,r):(i=c[0],a&&await i._set(o,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==i)try{await u._remove(o)}catch{}})),new gl(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lb(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(cR(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(oR(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(dR(e))return"Blackberry";if(hR(e))return"Webos";if(aR(e))return"Safari";if((e.includes("chrome/")||lR(e))&&!e.includes("edge/"))return"Chrome";if(uR(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function oR(t=Cn()){return/firefox\//i.test(t)}function aR(t=Cn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function lR(t=Cn()){return/crios\//i.test(t)}function cR(t=Cn()){return/iemobile/i.test(t)}function uR(t=Cn()){return/android/i.test(t)}function dR(t=Cn()){return/blackberry/i.test(t)}function hR(t=Cn()){return/webos/i.test(t)}function dw(t=Cn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function p6(t=Cn()){var e;return dw(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function m6(){return yL()&&document.documentMode===10}function fR(t=Cn()){return dw(t)||uR(t)||hR(t)||dR(t)||/windows phone/i.test(t)||cR(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pR(t,e=[]){let n;switch(t){case"Browser":n=Lb(Cn());break;case"Worker":n=`${Lb(Cn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Zl}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g6{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((o,a)=>{try{const c=e(i);o(c)}catch(c){a(c)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function y6(t,e={}){return go(t,"GET","/v2/passwordPolicy",mo(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v6=6;class x6{constructor(e){var n,r,s,i;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:v6,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(i=e.forceUpgradeOnSignin)!==null&&i!==void 0?i:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,s,i,o,a;const c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(n=c.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(s=c.containsLowercaseLetter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(i=c.containsUppercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(o=c.containsNumericCharacter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(a=c.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),c}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w6{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Fb(this),this.idTokenSubscription=new Fb(this),this.beforeStateQueue=new g6(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ZI,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(i=>this._resolvePersistenceManagerAvailable=i)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Ds(n)),this._initializationPromise=this.queue(async()=>{var r,s,i;if(!this._deleted&&(this.persistenceManager=await gl.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await fp(this,{idToken:e}),r=await Fr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(gr(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let s=r,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=s==null?void 0:s._redirectEventId,c=await this.tryRedirectSignIn(e);(!o||o===a)&&(c!=null&&c.user)&&(s=c.user,i=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(s)}catch(o){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Ie(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await pp(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=XV()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(gr(this.app))return Promise.reject(Fs(this));const n=e?Ut(e):null;return n&&Ie(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ie(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return gr(this.app)?Promise.reject(Fs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return gr(this.app)?Promise.reject(Fs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ds(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await y6(this),n=new x6(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new cd("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await f6(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Ds(e)||this._popupRedirectResolver;Ie(n,this,"argument-error"),this.redirectPersistenceManager=await gl.create(this,[Ds(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ie(a,this,"internal-error"),a.then(()=>{o||i(this.currentUser)}),typeof n=="function"){const c=e.addObserver(n,r,s);return()=>{o=!0,c()}}else{const c=e.addObserver(n);return()=>{o=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ie(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=pR(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var e;if(gr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&KV(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function va(t){return Ut(t)}class Fb{constructor(e){this.auth=e,this.observer=null,this.addObserver=TL(n=>this.observer=n)}get next(){return Ie(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function E6(t){xm=t}function mR(t){return xm.loadJS(t)}function b6(){return xm.recaptchaEnterpriseScript}function C6(){return xm.gapiScript}function _6(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class T6{constructor(){this.enterprise=new A6}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class A6{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const S6="recaptcha-enterprise",gR="NO_RECAPTCHA";class I6{constructor(e){this.type=S6,this.auth=va(e)}async verify(e="verify",n=!1){async function r(i){if(!n){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(o,a)=>{i6(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const u=new s6(c);return i.tenantId==null?i._agentRecaptchaConfig=u:i._tenantRecaptchaConfigs[i.tenantId]=u,o(u.siteKey)}}).catch(c=>{a(c)})})}function s(i,o,a){const c=window.grecaptcha;Mb(c)?c.enterprise.ready(()=>{c.enterprise.execute(i,{action:e}).then(u=>{o(u)}).catch(()=>{o(gR)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new T6().execute("siteKey",{action:"verify"}):new Promise((i,o)=>{r(this.auth).then(a=>{if(!n&&Mb(window.grecaptcha))s(a,i,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let c=b6();c.length!==0&&(c+=a),mR(c).then(()=>{s(a,i,o)}).catch(u=>{o(u)})}}).catch(a=>{o(a)})})}}async function Vb(t,e,n,r=!1,s=!1){const i=new I6(t);let o;if(s)o=gR;else try{o=await i.verify(n)}catch{o=await i.verify(n,!0)}const a=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){const c=a.phoneEnrollmentInfo.phoneNumber,u=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:c,recaptchaToken:u,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const c=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:c,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function Ny(t,e,n,r,s){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await Vb(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await Vb(t,e,n,n==="getOobCode");return r(t,a)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R6(t,e){const n=vx(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(ra(i,e??{}))return s;$r(s,"already-initialized")}return n.initialize({options:e})}function N6(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Ds);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function P6(t,e,n){const r=va(t);Ie(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,i=yR(e),{host:o,port:a}=k6(e),c=a===null?"":`:${a}`,u={url:`${i}//${o}${c}/`},h=Object.freeze({host:o,port:a,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){Ie(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Ie(ra(u,r.config.emulator)&&ra(h,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=u,r.emulatorConfig=h,r.settings.appVerificationDisabledForTesting=!0,Xl(o)?(fS(`${i}//${o}${c}`),pS("Auth",!0)):M6()}function yR(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function k6(t){const e=yR(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:Bb(r.substr(i.length+1))}}else{const[i,o]=r.split(":");return{host:i,port:Bb(o)}}}function Bb(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function M6(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hw{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return js("not implemented")}_getIdTokenResponse(e){return js("not implemented")}_linkToIdToken(e,n){return js("not implemented")}_getReauthenticationResolver(e){return js("not implemented")}}async function j6(t,e){return go(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function D6(t,e){return Ed(t,"POST","/v1/accounts:signInWithPassword",mo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function O6(t,e){return Ed(t,"POST","/v1/accounts:signInWithEmailLink",mo(t,e))}async function L6(t,e){return Ed(t,"POST","/v1/accounts:signInWithEmailLink",mo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $u extends hw{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new $u(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new $u(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ny(e,n,"signInWithPassword",D6);case"emailLink":return O6(e,{email:this._email,oobCode:this._password});default:$r(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ny(e,r,"signUpPassword",j6);case"emailLink":return L6(e,{idToken:n,email:this._email,oobCode:this._password});default:$r(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yl(t,e){return Ed(t,"POST","/v1/accounts:signInWithIdp",mo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F6="http://localhost";class aa extends hw{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new aa(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):$r("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=n,i=xd(n,["providerId","signInMethod"]);if(!r||!s)return null;const o=new aa(r,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return yl(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,yl(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,yl(e,n)}buildRequest(){const e={requestUri:F6,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=ud(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V6(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function B6(t){const e=Uc(qc(t)).link,n=e?Uc(qc(e)).deep_link_id:null,r=Uc(qc(t)).deep_link_id;return(r?Uc(qc(r)).link:null)||r||n||e||t}class fw{constructor(e){var n,r,s,i,o,a;const c=Uc(qc(e)),u=(n=c.apiKey)!==null&&n!==void 0?n:null,h=(r=c.oobCode)!==null&&r!==void 0?r:null,p=V6((s=c.mode)!==null&&s!==void 0?s:null);Ie(u&&h&&p,"argument-error"),this.apiKey=u,this.operation=p,this.code=h,this.continueUrl=(i=c.continueUrl)!==null&&i!==void 0?i:null,this.languageCode=(o=c.lang)!==null&&o!==void 0?o:null,this.tenantId=(a=c.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=B6(e);try{return new fw(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oc{constructor(){this.providerId=oc.PROVIDER_ID}static credential(e,n){return $u._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=fw.parseLink(n);return Ie(r,"argument-error"),$u._fromEmailAndCode(e,r.code,r.tenantId)}}oc.PROVIDER_ID="password";oc.EMAIL_PASSWORD_SIGN_IN_METHOD="password";oc.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vR{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bd extends vR{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ei extends bd{constructor(){super("facebook.com")}static credential(e){return aa._fromParams({providerId:Ei.PROVIDER_ID,signInMethod:Ei.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ei.credentialFromTaggedObject(e)}static credentialFromError(e){return Ei.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ei.credential(e.oauthAccessToken)}catch{return null}}}Ei.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ei.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bi extends bd{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return aa._fromParams({providerId:bi.PROVIDER_ID,signInMethod:bi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return bi.credentialFromTaggedObject(e)}static credentialFromError(e){return bi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return bi.credential(n,r)}catch{return null}}}bi.GOOGLE_SIGN_IN_METHOD="google.com";bi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ci extends bd{constructor(){super("github.com")}static credential(e){return aa._fromParams({providerId:Ci.PROVIDER_ID,signInMethod:Ci.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ci.credentialFromTaggedObject(e)}static credentialFromError(e){return Ci.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ci.credential(e.oauthAccessToken)}catch{return null}}}Ci.GITHUB_SIGN_IN_METHOD="github.com";Ci.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _i extends bd{constructor(){super("twitter.com")}static credential(e,n){return aa._fromParams({providerId:_i.PROVIDER_ID,signInMethod:_i.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return _i.credentialFromTaggedObject(e)}static credentialFromError(e){return _i.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return _i.credential(n,r)}catch{return null}}}_i.TWITTER_SIGN_IN_METHOD="twitter.com";_i.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function U6(t,e){return Ed(t,"POST","/v1/accounts:signUp",mo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class la{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await Fr._fromIdTokenResponse(e,r,s),o=Ub(r);return new la({user:i,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=Ub(r);return new la({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function Ub(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mp extends Js{constructor(e,n,r,s){var i;super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,mp.prototype),this.customData={appName:e.name,tenantId:(i=e.tenantId)!==null&&i!==void 0?i:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new mp(e,n,r,s)}}function xR(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?mp._fromErrorAndOperation(t,i,e,r):i})}async function q6(t,e,n=!1){const r=await Gu(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return la._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function G6(t,e,n=!1){const{auth:r}=t;if(gr(r.app))return Promise.reject(Fs(r));const s="reauthenticate";try{const i=await Gu(t,xR(r,s,e,t),n);Ie(i.idToken,r,"internal-error");const o=uw(i.idToken);Ie(o,r,"internal-error");const{sub:a}=o;return Ie(t.uid===a,r,"user-mismatch"),la._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&$r(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wR(t,e,n=!1){if(gr(t.app))return Promise.reject(Fs(t));const r="signIn",s=await xR(t,r,e),i=await la._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}async function $6(t,e){return wR(va(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ER(t){const e=va(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function z6(t,e,n){if(gr(t.app))return Promise.reject(Fs(t));const r=va(t),o=await Ny(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",U6).catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&ER(t),c}),a=await la._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function W6(t,e,n){return gr(t.app)?Promise.reject(Fs(t)):$6(Ut(t),oc.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&ER(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q6(t,e){return Ut(t).setPersistence(e)}function Y6(t,e,n,r){return Ut(t).onIdTokenChanged(e,n,r)}function K6(t,e,n){return Ut(t).beforeAuthStateChanged(e,n)}function H6(t,e,n,r){return Ut(t).onAuthStateChanged(e,n,r)}function qb(t){return Ut(t).signOut()}const gp="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bR{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(gp,"1"),this.storage.removeItem(gp),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J6=1e3,X6=10;class CR extends bR{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=fR(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,c)=>{this.notifyListeners(o,c)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},i=this.storage.getItem(r);m6()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,X6):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},J6)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}CR.type="LOCAL";const _R=CR;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TR extends bR{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}TR.type="SESSION";const AR=TR;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z6(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wm{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new wm(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const a=Array.from(o).map(async u=>u(n.origin,i)),c=await Z6(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:c})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}wm.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pw(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eB{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((a,c)=>{const u=pw("",20);s.port1.start();const h=setTimeout(()=>{c(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(p){const f=p;if(f.data.eventId===u)switch(f.data.status){case"ack":clearTimeout(h),i=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(f.data.response);break;default:clearTimeout(h),clearTimeout(i),c(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ds(){return window}function tB(t){ds().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SR(){return typeof ds().WorkerGlobalScope<"u"&&typeof ds().importScripts=="function"}async function nB(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function rB(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function sB(){return SR()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IR="firebaseLocalStorageDb",iB=1,yp="firebaseLocalStorage",RR="fbase_key";class Cd{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Em(t,e){return t.transaction([yp],e?"readwrite":"readonly").objectStore(yp)}function oB(){const t=indexedDB.deleteDatabase(IR);return new Cd(t).toPromise()}function Py(){const t=indexedDB.open(IR,iB);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(yp,{keyPath:RR})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(yp)?e(r):(r.close(),await oB(),e(await Py()))})})}async function Gb(t,e,n){const r=Em(t,!0).put({[RR]:e,value:n});return new Cd(r).toPromise()}async function aB(t,e){const n=Em(t,!1).get(e),r=await new Cd(n).toPromise();return r===void 0?null:r.value}function $b(t,e){const n=Em(t,!0).delete(e);return new Cd(n).toPromise()}const lB=800,cB=3;class NR{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Py(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>cB)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return SR()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=wm._getInstance(sB()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await nB(),!this.activeServiceWorker)return;this.sender=new eB(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||rB()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Py();return await Gb(e,gp,"1"),await $b(e,gp),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>Gb(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>aB(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>$b(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=Em(s,!1).getAll();return new Cd(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),lB)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}NR.type="LOCAL";const uB=NR;new wd(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dB(t,e){return e?Ds(e):(Ie(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mw extends hw{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return yl(e,this._buildIdpRequest())}_linkToIdToken(e,n){return yl(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return yl(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function hB(t){return wR(t.auth,new mw(t),t.bypassAuthState)}function fB(t){const{auth:e,user:n}=t;return Ie(n,e,"internal-error"),G6(n,new mw(t),t.bypassAuthState)}async function pB(t){const{auth:e,user:n}=t;return Ie(n,e,"internal-error"),q6(n,new mw(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PR{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:o,type:a}=e;if(o){this.reject(o);return}const c={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(c))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return hB;case"linkViaPopup":case"linkViaRedirect":return pB;case"reauthViaPopup":case"reauthViaRedirect":return fB;default:$r(this.auth,"internal-error")}}resolve(e){Ws(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ws(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mB=new wd(2e3,1e4);class il extends PR{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,il.currentPopupAction&&il.currentPopupAction.cancel(),il.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ie(e,this.auth,"internal-error"),e}async onExecution(){Ws(this.filter.length===1,"Popup operations only handle one event");const e=pw();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(us(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(us(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,il.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(us(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,mB.get())};e()}}il.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gB="pendingRedirect",gf=new Map;class yB extends PR{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=gf.get(this.auth._key());if(!e){try{const r=await vB(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}gf.set(this.auth._key(),e)}return this.bypassAuthState||gf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function vB(t,e){const n=EB(e),r=wB(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function xB(t,e){gf.set(t._key(),e)}function wB(t){return Ds(t._redirectPersistence)}function EB(t){return mf(gB,t.config.apiKey,t.name)}async function bB(t,e,n=!1){if(gr(t.app))return Promise.reject(Fs(t));const r=va(t),s=dB(r,e),o=await new yB(r,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CB=10*60*1e3;class _B{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!TB(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!kR(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(us(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=CB&&this.cachedEventUids.clear(),this.cachedEventUids.has(zb(e))}saveEventToCache(e){this.cachedEventUids.add(zb(e)),this.lastProcessedEventTime=Date.now()}}function zb(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function kR({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function TB(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return kR(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AB(t,e={}){return go(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SB=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,IB=/^https?/;async function RB(t){if(t.config.emulator)return;const{authorizedDomains:e}=await AB(t);for(const n of e)try{if(NB(n))return}catch{}$r(t,"unauthorized-domain")}function NB(t){const e=Iy(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!IB.test(n))return!1;if(SB.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PB=new wd(3e4,6e4);function Wb(){const t=ds().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function kB(t){return new Promise((e,n)=>{var r,s,i;function o(){Wb(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Wb(),n(us(t,"network-request-failed"))},timeout:PB.get()})}if(!((s=(r=ds().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((i=ds().gapi)===null||i===void 0)&&i.load)o();else{const a=_6("iframefcb");return ds()[a]=()=>{gapi.load?o():n(us(t,"network-request-failed"))},mR(`${C6()}?onload=${a}`).catch(c=>n(c))}}).catch(e=>{throw yf=null,e})}let yf=null;function MB(t){return yf=yf||kB(t),yf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jB=new wd(5e3,15e3),DB="__/auth/iframe",OB="emulator/auth/iframe",LB={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},FB=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function VB(t){const e=t.config;Ie(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?cw(e,OB):`https://${t.config.authDomain}/${DB}`,r={apiKey:e.apiKey,appName:t.name,v:Zl},s=FB.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${ud(r).slice(1)}`}async function BB(t){const e=await MB(t),n=ds().gapi;return Ie(n,t,"internal-error"),e.open({where:document.body,url:VB(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:LB,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const o=us(t,"network-request-failed"),a=ds().setTimeout(()=>{i(o)},jB.get());function c(){ds().clearTimeout(a),s(r)}r.ping(c).then(c,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UB={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},qB=500,GB=600,$B="_blank",zB="http://localhost";class Qb{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function WB(t,e,n,r=qB,s=GB){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const c=Object.assign(Object.assign({},UB),{width:r.toString(),height:s.toString(),top:i,left:o}),u=Cn().toLowerCase();n&&(a=lR(u)?$B:n),oR(u)&&(e=e||zB,c.scrollbars="yes");const h=Object.entries(c).reduce((f,[v,x])=>`${f}${v}=${x},`,"");if(p6(u)&&a!=="_self")return QB(e||"",a),new Qb(null);const p=window.open(e||"",a,h);Ie(p,t,"popup-blocked");try{p.focus()}catch{}return new Qb(p)}function QB(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YB="__/auth/handler",KB="emulator/auth/handler",HB=encodeURIComponent("fac");async function Yb(t,e,n,r,s,i){Ie(t.config.authDomain,t,"auth-domain-config-required"),Ie(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Zl,eventId:s};if(e instanceof vR){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",_L(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,p]of Object.entries({}))o[h]=p}if(e instanceof bd){const h=e.getScopes().filter(p=>p!=="");h.length>0&&(o.scopes=h.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const h of Object.keys(a))a[h]===void 0&&delete a[h];const c=await t._getAppCheckToken(),u=c?`#${HB}=${encodeURIComponent(c)}`:"";return`${JB(t)}?${ud(a).slice(1)}${u}`}function JB({config:t}){return t.emulator?cw(t,KB):`https://${t.authDomain}/${YB}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $g="webStorageSupport";class XB{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=AR,this._completeRedirectFn=bB,this._overrideRedirectResult=xB}async _openPopup(e,n,r,s){var i;Ws((i=this.eventManagers[e._key()])===null||i===void 0?void 0:i.manager,"_initialize() not called before _openPopup()");const o=await Yb(e,n,r,Iy(),s);return WB(e,o,pw())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await Yb(e,n,r,Iy(),s);return tB(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(Ws(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await BB(e),r=new _B(e);return n.register("authEvent",s=>(Ie(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send($g,{type:$g},s=>{var i;const o=(i=s==null?void 0:s[0])===null||i===void 0?void 0:i[$g];o!==void 0&&n(!!o),$r(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=RB(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return fR()||aR()||dw()}}const ZB=XB;var Kb="@firebase/auth",Hb="1.10.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e8{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ie(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t8(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function n8(t){Ll(new sa("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;Ie(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:pR(t)},u=new w6(r,s,i,c);return N6(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Ll(new sa("auth-internal",e=>{const n=va(e.getProvider("auth").getImmediate());return(r=>new e8(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),$i(Kb,Hb,t8(t)),$i(Kb,Hb,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r8=5*60,s8=hS("authIdTokenMaxAge")||r8;let Jb=null;const i8=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>s8)return;const s=n==null?void 0:n.token;Jb!==s&&(Jb=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function o8(t=xx()){const e=vx(t,"auth");if(e.isInitialized())return e.getImmediate();const n=R6(t,{popupRedirectResolver:ZB,persistence:[uB,_R,AR]}),r=hS("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const o=i8(i.toString());K6(n,o,()=>o(n.currentUser)),Y6(n,a=>o(a))}}const s=uS("auth");return s&&P6(n,`http://${s}`),n}function a8(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}E6({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=us("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",a8().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});n8("Browser");const l8={apiKey:"AIzaSyBUftmUEX4_zgW-7daz3Yq9Md7QJQWTDOM",authDomain:"vmaster-fcdff.firebaseapp.com",projectId:"vmaster-fcdff",storageBucket:"vmaster-fcdff.firebasestorage.app",messagingSenderId:"44584686885",appId:"1:44584686885:web:1aa7941cebb2ad30bf76cc",measurementId:"G-FH5MHDJ62K"},MR=A3().length?xx():yS(l8),Pt=kV(MR),Yo=o8(MR);Q6(Yo,_R);function Le(...t){return XO(zA(t))}const c8=rO,jR=g.forwardRef(({className:t,...e},n)=>l.jsx(FA,{ref:n,className:Le("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));jR.displayName=FA.displayName;const u8=ux("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),DR=g.forwardRef(({className:t,variant:e,...n},r)=>l.jsx(VA,{ref:r,className:Le(u8({variant:e}),t),...n}));DR.displayName=VA.displayName;const d8=g.forwardRef(({className:t,...e},n)=>l.jsx(qA,{ref:n,className:Le("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));d8.displayName=qA.displayName;const OR=g.forwardRef(({className:t,...e},n)=>l.jsx(GA,{ref:n,className:Le("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:l.jsx(Mu,{className:"h-4 w-4"})}));OR.displayName=GA.displayName;const LR=g.forwardRef(({className:t,...e},n)=>l.jsx(BA,{ref:n,className:Le("text-sm font-semibold",t),...e}));LR.displayName=BA.displayName;const FR=g.forwardRef(({className:t,...e},n)=>l.jsx(UA,{ref:n,className:Le("text-sm opacity-90",t),...e}));FR.displayName=UA.displayName;function h8(){const{toasts:t}=mD();return l.jsxs(c8,{children:[t.map(function({id:e,title:n,description:r,action:s,...i}){return l.jsxs(DR,{...i,children:[l.jsxs("div",{className:"grid gap-1",children:[n&&l.jsx(LR,{children:n}),r&&l.jsx(FR,{children:r})]}),s,l.jsx(OR,{})]},e)}),l.jsx(jR,{})]})}var Xb=["light","dark"],f8="(prefers-color-scheme: dark)",p8=g.createContext(void 0),m8={setTheme:t=>{},themes:[]},g8=()=>{var t;return(t=g.useContext(p8))!=null?t:m8};g.memo(({forcedTheme:t,storageKey:e,attribute:n,enableSystem:r,enableColorScheme:s,defaultTheme:i,value:o,attrs:a,nonce:c})=>{let u=i==="system",h=n==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${a.map(x=>`'${x}'`).join(",")})`};`:`var d=document.documentElement,n='${n}',s='setAttribute';`,p=s?Xb.includes(i)&&i?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${i}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",f=(x,y=!1,w=!0)=>{let T=o?o[x]:x,E=y?x+"|| ''":`'${T}'`,b="";return s&&w&&!y&&Xb.includes(x)&&(b+=`d.style.colorScheme = '${x}';`),n==="class"?y||T?b+=`c.add(${E})`:b+="null":T&&(b+=`d[s](n,${E})`),b},v=t?`!function(){${h}${f(t)}}()`:r?`!function(){try{${h}var e=localStorage.getItem('${e}');if('system'===e||(!e&&${u})){var t='${f8}',m=window.matchMedia(t);if(m.media!==t||m.matches){${f("dark")}}else{${f("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${f(o?"x[e]":"e",!0)}}${u?"":"else{"+f(i,!1,!1)+"}"}${p}}catch(e){}}()`:`!function(){try{${h}var e=localStorage.getItem('${e}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${f(o?"x[e]":"e",!0)}}else{${f(i,!1,!1)};}${p}}catch(t){}}();`;return g.createElement("script",{nonce:c,dangerouslySetInnerHTML:{__html:v}})});var y8=t=>{switch(t){case"success":return w8;case"info":return b8;case"warning":return E8;case"error":return C8;default:return null}},v8=Array(12).fill(0),x8=({visible:t})=>Q.createElement("div",{className:"sonner-loading-wrapper","data-visible":t},Q.createElement("div",{className:"sonner-spinner"},v8.map((e,n)=>Q.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),w8=Q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Q.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),E8=Q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},Q.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),b8=Q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Q.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),C8=Q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Q.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),_8=()=>{let[t,e]=Q.useState(document.hidden);return Q.useEffect(()=>{let n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t},ky=1,T8=class{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{let e=this.subscribers.indexOf(t);this.subscribers.splice(e,1)}),this.publish=t=>{this.subscribers.forEach(e=>e(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var e;let{message:n,...r}=t,s=typeof(t==null?void 0:t.id)=="number"||((e=t.id)==null?void 0:e.length)>0?t.id:ky++,i=this.toasts.find(a=>a.id===s),o=t.dismissible===void 0?!0:t.dismissible;return i?this.toasts=this.toasts.map(a=>a.id===s?(this.publish({...a,...t,id:s,title:n}),{...a,...t,id:s,dismissible:o,title:n}):a):this.addToast({title:n,...r,dismissible:o,id:s}),s},this.dismiss=t=>(t||this.toasts.forEach(e=>{this.subscribers.forEach(n=>n({id:e.id,dismiss:!0}))}),this.subscribers.forEach(e=>e({id:t,dismiss:!0})),t),this.message=(t,e)=>this.create({...e,message:t}),this.error=(t,e)=>this.create({...e,message:t,type:"error"}),this.success=(t,e)=>this.create({...e,type:"success",message:t}),this.info=(t,e)=>this.create({...e,type:"info",message:t}),this.warning=(t,e)=>this.create({...e,type:"warning",message:t}),this.loading=(t,e)=>this.create({...e,type:"loading",message:t}),this.promise=(t,e)=>{if(!e)return;let n;e.loading!==void 0&&(n=this.create({...e,promise:t,type:"loading",message:e.loading,description:typeof e.description!="function"?e.description:void 0}));let r=t instanceof Promise?t:t(),s=n!==void 0;return r.then(async i=>{if(S8(i)&&!i.ok){s=!1;let o=typeof e.error=="function"?await e.error(`HTTP error! status: ${i.status}`):e.error,a=typeof e.description=="function"?await e.description(`HTTP error! status: ${i.status}`):e.description;this.create({id:n,type:"error",message:o,description:a})}else if(e.success!==void 0){s=!1;let o=typeof e.success=="function"?await e.success(i):e.success,a=typeof e.description=="function"?await e.description(i):e.description;this.create({id:n,type:"success",message:o,description:a})}}).catch(async i=>{if(e.error!==void 0){s=!1;let o=typeof e.error=="function"?await e.error(i):e.error,a=typeof e.description=="function"?await e.description(i):e.description;this.create({id:n,type:"error",message:o,description:a})}}).finally(()=>{var i;s&&(this.dismiss(n),n=void 0),(i=e.finally)==null||i.call(e)}),n},this.custom=(t,e)=>{let n=(e==null?void 0:e.id)||ky++;return this.create({jsx:t(n),id:n,...e}),n},this.subscribers=[],this.toasts=[]}},Jn=new T8,A8=(t,e)=>{let n=(e==null?void 0:e.id)||ky++;return Jn.addToast({title:t,...e,id:n}),n},S8=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",I8=A8,R8=()=>Jn.toasts;Object.assign(I8,{success:Jn.success,info:Jn.info,warning:Jn.warning,error:Jn.error,custom:Jn.custom,message:Jn.message,promise:Jn.promise,dismiss:Jn.dismiss,loading:Jn.loading},{getHistory:R8});function N8(t,{insertAt:e}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}N8(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999}:where([data-sonner-toaster][data-x-position="right"]){right:max(var(--offset),env(safe-area-inset-right))}:where([data-sonner-toaster][data-x-position="left"]){left:max(var(--offset),env(safe-area-inset-left))}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:max(var(--offset),env(safe-area-inset-top))}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:max(var(--offset),env(safe-area-inset-bottom))}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;background:var(--gray1);color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:0;right:0;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount, 0px));transition:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation:swipe-out .2s ease-out forwards}@keyframes swipe-out{0%{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount)));opacity:1}to{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount) + var(--lift) * -100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;--mobile-offset: 16px;right:var(--mobile-offset);left:var(--mobile-offset);width:100%}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset)}[data-sonner-toaster][data-y-position=bottom]{bottom:20px}[data-sonner-toaster][data-y-position=top]{top:20px}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset);right:var(--mobile-offset);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Fh(t){return t.label!==void 0}var P8=3,k8="32px",M8=4e3,j8=356,D8=14,O8=20,L8=200;function F8(...t){return t.filter(Boolean).join(" ")}var V8=t=>{var e,n,r,s,i,o,a,c,u,h;let{invert:p,toast:f,unstyled:v,interacting:x,setHeights:y,visibleToasts:w,heights:T,index:E,toasts:b,expanded:R,removeToast:j,defaultRichColors:V,closeButton:I,style:S,cancelButtonStyle:P,actionButtonStyle:k,className:O="",descriptionClassName:L="",duration:D,position:X,gap:re,loadingIcon:se,expandByDefault:ue,classNames:q,icons:z,closeButtonAriaLabel:Z="Close toast",pauseWhenPageIsHidden:te,cn:ae}=t,[le,Se]=Q.useState(!1),[ke,we]=Q.useState(!1),[ie,ge]=Q.useState(!1),[xe,Ee]=Q.useState(!1),[Te,Ce]=Q.useState(0),[he,ve]=Q.useState(0),gt=Q.useRef(null),at=Q.useRef(null),Dt=E===0,et=E+1<=w,yt=f.type,dn=f.dismissible!==!1,Cr=f.className||"",gs=f.descriptionClassName||"",cr=Q.useMemo(()=>T.findIndex(Ae=>Ae.toastId===f.id)||0,[T,f.id]),ys=Q.useMemo(()=>{var Ae;return(Ae=f.closeButton)!=null?Ae:I},[f.closeButton,I]),bo=Q.useMemo(()=>f.duration||D||M8,[f.duration,D]),At=Q.useRef(0),vt=Q.useRef(0),vs=Q.useRef(0),_r=Q.useRef(null),[Co,Zs]=X.split("-"),ur=Q.useMemo(()=>T.reduce((Ae,Ue,Je)=>Je>=cr?Ae:Ae+Ue.height,0),[T,cr]),Tr=_8(),Ar=f.invert||p,_n=yt==="loading";vt.current=Q.useMemo(()=>cr*re+ur,[cr,ur]),Q.useEffect(()=>{Se(!0)},[]),Q.useLayoutEffect(()=>{if(!le)return;let Ae=at.current,Ue=Ae.style.height;Ae.style.height="auto";let Je=Ae.getBoundingClientRect().height;Ae.style.height=Ue,ve(Je),y(Qt=>Qt.find(hn=>hn.toastId===f.id)?Qt.map(hn=>hn.toastId===f.id?{...hn,height:Je}:hn):[{toastId:f.id,height:Je,position:f.position},...Qt])},[le,f.title,f.description,y,f.id]);let Tn=Q.useCallback(()=>{we(!0),Ce(vt.current),y(Ae=>Ae.filter(Ue=>Ue.toastId!==f.id)),setTimeout(()=>{j(f)},L8)},[f,j,y,vt]);Q.useEffect(()=>{if(f.promise&&yt==="loading"||f.duration===1/0||f.type==="loading")return;let Ae,Ue=bo;return R||x||te&&Tr?(()=>{if(vs.current<At.current){let Je=new Date().getTime()-At.current;Ue=Ue-Je}vs.current=new Date().getTime()})():Ue!==1/0&&(At.current=new Date().getTime(),Ae=setTimeout(()=>{var Je;(Je=f.onAutoClose)==null||Je.call(f,f),Tn()},Ue)),()=>clearTimeout(Ae)},[R,x,ue,f,bo,Tn,f.promise,yt,te,Tr]),Q.useEffect(()=>{let Ae=at.current;if(Ae){let Ue=Ae.getBoundingClientRect().height;return ve(Ue),y(Je=>[{toastId:f.id,height:Ue,position:f.position},...Je]),()=>y(Je=>Je.filter(Qt=>Qt.toastId!==f.id))}},[y,f.id]),Q.useEffect(()=>{f.delete&&Tn()},[Tn,f.delete]);function fc(){return z!=null&&z.loading?Q.createElement("div",{className:"sonner-loader","data-visible":yt==="loading"},z.loading):se?Q.createElement("div",{className:"sonner-loader","data-visible":yt==="loading"},se):Q.createElement(x8,{visible:yt==="loading"})}return Q.createElement("li",{"aria-live":f.important?"assertive":"polite","aria-atomic":"true",role:"status",tabIndex:0,ref:at,className:ae(O,Cr,q==null?void 0:q.toast,(e=f==null?void 0:f.classNames)==null?void 0:e.toast,q==null?void 0:q.default,q==null?void 0:q[yt],(n=f==null?void 0:f.classNames)==null?void 0:n[yt]),"data-sonner-toast":"","data-rich-colors":(r=f.richColors)!=null?r:V,"data-styled":!(f.jsx||f.unstyled||v),"data-mounted":le,"data-promise":!!f.promise,"data-removed":ke,"data-visible":et,"data-y-position":Co,"data-x-position":Zs,"data-index":E,"data-front":Dt,"data-swiping":ie,"data-dismissible":dn,"data-type":yt,"data-invert":Ar,"data-swipe-out":xe,"data-expanded":!!(R||ue&&le),style:{"--index":E,"--toasts-before":E,"--z-index":b.length-E,"--offset":`${ke?Te:vt.current}px`,"--initial-height":ue?"auto":`${he}px`,...S,...f.style},onPointerDown:Ae=>{_n||!dn||(gt.current=new Date,Ce(vt.current),Ae.target.setPointerCapture(Ae.pointerId),Ae.target.tagName!=="BUTTON"&&(ge(!0),_r.current={x:Ae.clientX,y:Ae.clientY}))},onPointerUp:()=>{var Ae,Ue,Je,Qt;if(xe||!dn)return;_r.current=null;let hn=Number(((Ae=at.current)==null?void 0:Ae.style.getPropertyValue("--swipe-amount").replace("px",""))||0),Sr=new Date().getTime()-((Ue=gt.current)==null?void 0:Ue.getTime()),dt=Math.abs(hn)/Sr;if(Math.abs(hn)>=O8||dt>.11){Ce(vt.current),(Je=f.onDismiss)==null||Je.call(f,f),Tn(),Ee(!0);return}(Qt=at.current)==null||Qt.style.setProperty("--swipe-amount","0px"),ge(!1)},onPointerMove:Ae=>{var Ue;if(!_r.current||!dn)return;let Je=Ae.clientY-_r.current.y,Qt=Ae.clientX-_r.current.x,hn=(Co==="top"?Math.min:Math.max)(0,Je),Sr=Ae.pointerType==="touch"?10:2;Math.abs(hn)>Sr?(Ue=at.current)==null||Ue.style.setProperty("--swipe-amount",`${Je}px`):Math.abs(Qt)>Sr&&(_r.current=null)}},ys&&!f.jsx?Q.createElement("button",{"aria-label":Z,"data-disabled":_n,"data-close-button":!0,onClick:_n||!dn?()=>{}:()=>{var Ae;Tn(),(Ae=f.onDismiss)==null||Ae.call(f,f)},className:ae(q==null?void 0:q.closeButton,(s=f==null?void 0:f.classNames)==null?void 0:s.closeButton)},Q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},Q.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),Q.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"}))):null,f.jsx||Q.isValidElement(f.title)?f.jsx||f.title:Q.createElement(Q.Fragment,null,yt||f.icon||f.promise?Q.createElement("div",{"data-icon":"",className:ae(q==null?void 0:q.icon,(i=f==null?void 0:f.classNames)==null?void 0:i.icon)},f.promise||f.type==="loading"&&!f.icon?f.icon||fc():null,f.type!=="loading"?f.icon||(z==null?void 0:z[yt])||y8(yt):null):null,Q.createElement("div",{"data-content":"",className:ae(q==null?void 0:q.content,(o=f==null?void 0:f.classNames)==null?void 0:o.content)},Q.createElement("div",{"data-title":"",className:ae(q==null?void 0:q.title,(a=f==null?void 0:f.classNames)==null?void 0:a.title)},f.title),f.description?Q.createElement("div",{"data-description":"",className:ae(L,gs,q==null?void 0:q.description,(c=f==null?void 0:f.classNames)==null?void 0:c.description)},f.description):null),Q.isValidElement(f.cancel)?f.cancel:f.cancel&&Fh(f.cancel)?Q.createElement("button",{"data-button":!0,"data-cancel":!0,style:f.cancelButtonStyle||P,onClick:Ae=>{var Ue,Je;Fh(f.cancel)&&dn&&((Je=(Ue=f.cancel).onClick)==null||Je.call(Ue,Ae),Tn())},className:ae(q==null?void 0:q.cancelButton,(u=f==null?void 0:f.classNames)==null?void 0:u.cancelButton)},f.cancel.label):null,Q.isValidElement(f.action)?f.action:f.action&&Fh(f.action)?Q.createElement("button",{"data-button":!0,"data-action":!0,style:f.actionButtonStyle||k,onClick:Ae=>{var Ue,Je;Fh(f.action)&&(Ae.defaultPrevented||((Je=(Ue=f.action).onClick)==null||Je.call(Ue,Ae),Tn()))},className:ae(q==null?void 0:q.actionButton,(h=f==null?void 0:f.classNames)==null?void 0:h.actionButton)},f.action.label):null))};function Zb(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}var B8=t=>{let{invert:e,position:n="bottom-right",hotkey:r=["altKey","KeyT"],expand:s,closeButton:i,className:o,offset:a,theme:c="light",richColors:u,duration:h,style:p,visibleToasts:f=P8,toastOptions:v,dir:x=Zb(),gap:y=D8,loadingIcon:w,icons:T,containerAriaLabel:E="Notifications",pauseWhenPageIsHidden:b,cn:R=F8}=t,[j,V]=Q.useState([]),I=Q.useMemo(()=>Array.from(new Set([n].concat(j.filter(te=>te.position).map(te=>te.position)))),[j,n]),[S,P]=Q.useState([]),[k,O]=Q.useState(!1),[L,D]=Q.useState(!1),[X,re]=Q.useState(c!=="system"?c:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),se=Q.useRef(null),ue=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),q=Q.useRef(null),z=Q.useRef(!1),Z=Q.useCallback(te=>{var ae;(ae=j.find(le=>le.id===te.id))!=null&&ae.delete||Jn.dismiss(te.id),V(le=>le.filter(({id:Se})=>Se!==te.id))},[j]);return Q.useEffect(()=>Jn.subscribe(te=>{if(te.dismiss){V(ae=>ae.map(le=>le.id===te.id?{...le,delete:!0}:le));return}setTimeout(()=>{xA.flushSync(()=>{V(ae=>{let le=ae.findIndex(Se=>Se.id===te.id);return le!==-1?[...ae.slice(0,le),{...ae[le],...te},...ae.slice(le+1)]:[te,...ae]})})})}),[]),Q.useEffect(()=>{if(c!=="system"){re(c);return}c==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?re("dark"):re("light")),typeof window<"u"&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",({matches:te})=>{re(te?"dark":"light")})},[c]),Q.useEffect(()=>{j.length<=1&&O(!1)},[j]),Q.useEffect(()=>{let te=ae=>{var le,Se;r.every(ke=>ae[ke]||ae.code===ke)&&(O(!0),(le=se.current)==null||le.focus()),ae.code==="Escape"&&(document.activeElement===se.current||(Se=se.current)!=null&&Se.contains(document.activeElement))&&O(!1)};return document.addEventListener("keydown",te),()=>document.removeEventListener("keydown",te)},[r]),Q.useEffect(()=>{if(se.current)return()=>{q.current&&(q.current.focus({preventScroll:!0}),q.current=null,z.current=!1)}},[se.current]),j.length?Q.createElement("section",{"aria-label":`${E} ${ue}`,tabIndex:-1},I.map((te,ae)=>{var le;let[Se,ke]=te.split("-");return Q.createElement("ol",{key:te,dir:x==="auto"?Zb():x,tabIndex:-1,ref:se,className:o,"data-sonner-toaster":!0,"data-theme":X,"data-y-position":Se,"data-x-position":ke,style:{"--front-toast-height":`${((le=S[0])==null?void 0:le.height)||0}px`,"--offset":typeof a=="number"?`${a}px`:a||k8,"--width":`${j8}px`,"--gap":`${y}px`,...p},onBlur:we=>{z.current&&!we.currentTarget.contains(we.relatedTarget)&&(z.current=!1,q.current&&(q.current.focus({preventScroll:!0}),q.current=null))},onFocus:we=>{we.target instanceof HTMLElement&&we.target.dataset.dismissible==="false"||z.current||(z.current=!0,q.current=we.relatedTarget)},onMouseEnter:()=>O(!0),onMouseMove:()=>O(!0),onMouseLeave:()=>{L||O(!1)},onPointerDown:we=>{we.target instanceof HTMLElement&&we.target.dataset.dismissible==="false"||D(!0)},onPointerUp:()=>D(!1)},j.filter(we=>!we.position&&ae===0||we.position===te).map((we,ie)=>{var ge,xe;return Q.createElement(V8,{key:we.id,icons:T,index:ie,toast:we,defaultRichColors:u,duration:(ge=v==null?void 0:v.duration)!=null?ge:h,className:v==null?void 0:v.className,descriptionClassName:v==null?void 0:v.descriptionClassName,invert:e,visibleToasts:f,closeButton:(xe=v==null?void 0:v.closeButton)!=null?xe:i,interacting:L,position:te,style:v==null?void 0:v.style,unstyled:v==null?void 0:v.unstyled,classNames:v==null?void 0:v.classNames,cancelButtonStyle:v==null?void 0:v.cancelButtonStyle,actionButtonStyle:v==null?void 0:v.actionButtonStyle,removeToast:Z,toasts:j.filter(Ee=>Ee.position==we.position),heights:S.filter(Ee=>Ee.position==we.position),setHeights:P,expandByDefault:s,gap:y,loadingIcon:w,expanded:k,pauseWhenPageIsHidden:b,cn:R})}))})):null};const U8=({...t})=>{const{theme:e="system"}=g8();return l.jsx(B8,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})};var q8=g_.useId||(()=>{}),G8=0;function Ko(t){const[e,n]=g.useState(q8());return en(()=>{n(r=>r??String(G8++))},[t]),e?`radix-${e}`:""}const $8=["top","right","bottom","left"],io=Math.min,Zn=Math.max,vp=Math.round,Vh=Math.floor,oo=t=>({x:t,y:t}),z8={left:"right",right:"left",bottom:"top",top:"bottom"},W8={start:"end",end:"start"};function My(t,e,n){return Zn(t,io(e,n))}function Qs(t,e){return typeof t=="function"?t(e):t}function Ys(t){return t.split("-")[0]}function ac(t){return t.split("-")[1]}function gw(t){return t==="x"?"y":"x"}function yw(t){return t==="y"?"height":"width"}function ao(t){return["top","bottom"].includes(Ys(t))?"y":"x"}function vw(t){return gw(ao(t))}function Q8(t,e,n){n===void 0&&(n=!1);const r=ac(t),s=vw(t),i=yw(s);let o=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(o=xp(o)),[o,xp(o)]}function Y8(t){const e=xp(t);return[jy(t),e,jy(e)]}function jy(t){return t.replace(/start|end/g,e=>W8[e])}function K8(t,e,n){const r=["left","right"],s=["right","left"],i=["top","bottom"],o=["bottom","top"];switch(t){case"top":case"bottom":return n?e?s:r:e?r:s;case"left":case"right":return e?i:o;default:return[]}}function H8(t,e,n,r){const s=ac(t);let i=K8(Ys(t),n==="start",r);return s&&(i=i.map(o=>o+"-"+s),e&&(i=i.concat(i.map(jy)))),i}function xp(t){return t.replace(/left|right|bottom|top/g,e=>z8[e])}function J8(t){return{top:0,right:0,bottom:0,left:0,...t}}function VR(t){return typeof t!="number"?J8(t):{top:t,right:t,bottom:t,left:t}}function wp(t){const{x:e,y:n,width:r,height:s}=t;return{width:r,height:s,top:n,left:e,right:e+r,bottom:n+s,x:e,y:n}}function eC(t,e,n){let{reference:r,floating:s}=t;const i=ao(e),o=vw(e),a=yw(o),c=Ys(e),u=i==="y",h=r.x+r.width/2-s.width/2,p=r.y+r.height/2-s.height/2,f=r[a]/2-s[a]/2;let v;switch(c){case"top":v={x:h,y:r.y-s.height};break;case"bottom":v={x:h,y:r.y+r.height};break;case"right":v={x:r.x+r.width,y:p};break;case"left":v={x:r.x-s.width,y:p};break;default:v={x:r.x,y:r.y}}switch(ac(e)){case"start":v[o]-=f*(n&&u?-1:1);break;case"end":v[o]+=f*(n&&u?-1:1);break}return v}const X8=async(t,e,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:i=[],platform:o}=n,a=i.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(e));let u=await o.getElementRects({reference:t,floating:e,strategy:s}),{x:h,y:p}=eC(u,r,c),f=r,v={},x=0;for(let y=0;y<a.length;y++){const{name:w,fn:T}=a[y],{x:E,y:b,data:R,reset:j}=await T({x:h,y:p,initialPlacement:r,placement:f,strategy:s,middlewareData:v,rects:u,platform:o,elements:{reference:t,floating:e}});h=E??h,p=b??p,v={...v,[w]:{...v[w],...R}},j&&x<=50&&(x++,typeof j=="object"&&(j.placement&&(f=j.placement),j.rects&&(u=j.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:s}):j.rects),{x:h,y:p}=eC(u,f,c)),y=-1)}return{x:h,y:p,placement:f,strategy:s,middlewareData:v}};async function zu(t,e){var n;e===void 0&&(e={});const{x:r,y:s,platform:i,rects:o,elements:a,strategy:c}=t,{boundary:u="clippingAncestors",rootBoundary:h="viewport",elementContext:p="floating",altBoundary:f=!1,padding:v=0}=Qs(e,t),x=VR(v),w=a[f?p==="floating"?"reference":"floating":p],T=wp(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(w)))==null||n?w:w.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(a.floating)),boundary:u,rootBoundary:h,strategy:c})),E=p==="floating"?{x:r,y:s,width:o.floating.width,height:o.floating.height}:o.reference,b=await(i.getOffsetParent==null?void 0:i.getOffsetParent(a.floating)),R=await(i.isElement==null?void 0:i.isElement(b))?await(i.getScale==null?void 0:i.getScale(b))||{x:1,y:1}:{x:1,y:1},j=wp(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:E,offsetParent:b,strategy:c}):E);return{top:(T.top-j.top+x.top)/R.y,bottom:(j.bottom-T.bottom+x.bottom)/R.y,left:(T.left-j.left+x.left)/R.x,right:(j.right-T.right+x.right)/R.x}}const Z8=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:s,rects:i,platform:o,elements:a,middlewareData:c}=e,{element:u,padding:h=0}=Qs(t,e)||{};if(u==null)return{};const p=VR(h),f={x:n,y:r},v=vw(s),x=yw(v),y=await o.getDimensions(u),w=v==="y",T=w?"top":"left",E=w?"bottom":"right",b=w?"clientHeight":"clientWidth",R=i.reference[x]+i.reference[v]-f[v]-i.floating[x],j=f[v]-i.reference[v],V=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let I=V?V[b]:0;(!I||!await(o.isElement==null?void 0:o.isElement(V)))&&(I=a.floating[b]||i.floating[x]);const S=R/2-j/2,P=I/2-y[x]/2-1,k=io(p[T],P),O=io(p[E],P),L=k,D=I-y[x]-O,X=I/2-y[x]/2+S,re=My(L,X,D),se=!c.arrow&&ac(s)!=null&&X!==re&&i.reference[x]/2-(X<L?k:O)-y[x]/2<0,ue=se?X<L?X-L:X-D:0;return{[v]:f[v]+ue,data:{[v]:re,centerOffset:X-re-ue,...se&&{alignmentOffset:ue}},reset:se}}}),e9=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:s,middlewareData:i,rects:o,initialPlacement:a,platform:c,elements:u}=e,{mainAxis:h=!0,crossAxis:p=!0,fallbackPlacements:f,fallbackStrategy:v="bestFit",fallbackAxisSideDirection:x="none",flipAlignment:y=!0,...w}=Qs(t,e);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const T=Ys(s),E=ao(a),b=Ys(a)===a,R=await(c.isRTL==null?void 0:c.isRTL(u.floating)),j=f||(b||!y?[xp(a)]:Y8(a)),V=x!=="none";!f&&V&&j.push(...H8(a,y,x,R));const I=[a,...j],S=await zu(e,w),P=[];let k=((r=i.flip)==null?void 0:r.overflows)||[];if(h&&P.push(S[T]),p){const X=Q8(s,o,R);P.push(S[X[0]],S[X[1]])}if(k=[...k,{placement:s,overflows:P}],!P.every(X=>X<=0)){var O,L;const X=(((O=i.flip)==null?void 0:O.index)||0)+1,re=I[X];if(re)return{data:{index:X,overflows:k},reset:{placement:re}};let se=(L=k.filter(ue=>ue.overflows[0]<=0).sort((ue,q)=>ue.overflows[1]-q.overflows[1])[0])==null?void 0:L.placement;if(!se)switch(v){case"bestFit":{var D;const ue=(D=k.filter(q=>{if(V){const z=ao(q.placement);return z===E||z==="y"}return!0}).map(q=>[q.placement,q.overflows.filter(z=>z>0).reduce((z,Z)=>z+Z,0)]).sort((q,z)=>q[1]-z[1])[0])==null?void 0:D[0];ue&&(se=ue);break}case"initialPlacement":se=a;break}if(s!==se)return{reset:{placement:se}}}return{}}}};function tC(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function nC(t){return $8.some(e=>t[e]>=0)}const t9=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...s}=Qs(t,e);switch(r){case"referenceHidden":{const i=await zu(e,{...s,elementContext:"reference"}),o=tC(i,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:nC(o)}}}case"escaped":{const i=await zu(e,{...s,altBoundary:!0}),o=tC(i,n.floating);return{data:{escapedOffsets:o,escaped:nC(o)}}}default:return{}}}}};async function n9(t,e){const{placement:n,platform:r,elements:s}=t,i=await(r.isRTL==null?void 0:r.isRTL(s.floating)),o=Ys(n),a=ac(n),c=ao(n)==="y",u=["left","top"].includes(o)?-1:1,h=i&&c?-1:1,p=Qs(e,t);let{mainAxis:f,crossAxis:v,alignmentAxis:x}=typeof p=="number"?{mainAxis:p,crossAxis:0,alignmentAxis:null}:{mainAxis:p.mainAxis||0,crossAxis:p.crossAxis||0,alignmentAxis:p.alignmentAxis};return a&&typeof x=="number"&&(v=a==="end"?x*-1:x),c?{x:v*h,y:f*u}:{x:f*u,y:v*h}}const r9=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:s,y:i,placement:o,middlewareData:a}=e,c=await n9(e,t);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:s+c.x,y:i+c.y,data:{...c,placement:o}}}}},s9=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:s}=e,{mainAxis:i=!0,crossAxis:o=!1,limiter:a={fn:w=>{let{x:T,y:E}=w;return{x:T,y:E}}},...c}=Qs(t,e),u={x:n,y:r},h=await zu(e,c),p=ao(Ys(s)),f=gw(p);let v=u[f],x=u[p];if(i){const w=f==="y"?"top":"left",T=f==="y"?"bottom":"right",E=v+h[w],b=v-h[T];v=My(E,v,b)}if(o){const w=p==="y"?"top":"left",T=p==="y"?"bottom":"right",E=x+h[w],b=x-h[T];x=My(E,x,b)}const y=a.fn({...e,[f]:v,[p]:x});return{...y,data:{x:y.x-n,y:y.y-r,enabled:{[f]:i,[p]:o}}}}}},i9=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:s,rects:i,middlewareData:o}=e,{offset:a=0,mainAxis:c=!0,crossAxis:u=!0}=Qs(t,e),h={x:n,y:r},p=ao(s),f=gw(p);let v=h[f],x=h[p];const y=Qs(a,e),w=typeof y=="number"?{mainAxis:y,crossAxis:0}:{mainAxis:0,crossAxis:0,...y};if(c){const b=f==="y"?"height":"width",R=i.reference[f]-i.floating[b]+w.mainAxis,j=i.reference[f]+i.reference[b]-w.mainAxis;v<R?v=R:v>j&&(v=j)}if(u){var T,E;const b=f==="y"?"width":"height",R=["top","left"].includes(Ys(s)),j=i.reference[p]-i.floating[b]+(R&&((T=o.offset)==null?void 0:T[p])||0)+(R?0:w.crossAxis),V=i.reference[p]+i.reference[b]+(R?0:((E=o.offset)==null?void 0:E[p])||0)-(R?w.crossAxis:0);x<j?x=j:x>V&&(x=V)}return{[f]:v,[p]:x}}}},o9=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:s,rects:i,platform:o,elements:a}=e,{apply:c=()=>{},...u}=Qs(t,e),h=await zu(e,u),p=Ys(s),f=ac(s),v=ao(s)==="y",{width:x,height:y}=i.floating;let w,T;p==="top"||p==="bottom"?(w=p,T=f===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(T=p,w=f==="end"?"top":"bottom");const E=y-h.top-h.bottom,b=x-h.left-h.right,R=io(y-h[w],E),j=io(x-h[T],b),V=!e.middlewareData.shift;let I=R,S=j;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(S=b),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(I=E),V&&!f){const k=Zn(h.left,0),O=Zn(h.right,0),L=Zn(h.top,0),D=Zn(h.bottom,0);v?S=x-2*(k!==0||O!==0?k+O:Zn(h.left,h.right)):I=y-2*(L!==0||D!==0?L+D:Zn(h.top,h.bottom))}await c({...e,availableWidth:S,availableHeight:I});const P=await o.getDimensions(a.floating);return x!==P.width||y!==P.height?{reset:{rects:!0}}:{}}}};function bm(){return typeof window<"u"}function lc(t){return BR(t)?(t.nodeName||"").toLowerCase():"#document"}function ir(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function ps(t){var e;return(e=(BR(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function BR(t){return bm()?t instanceof Node||t instanceof ir(t).Node:!1}function zr(t){return bm()?t instanceof Element||t instanceof ir(t).Element:!1}function fs(t){return bm()?t instanceof HTMLElement||t instanceof ir(t).HTMLElement:!1}function rC(t){return!bm()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof ir(t).ShadowRoot}function _d(t){const{overflow:e,overflowX:n,overflowY:r,display:s}=Wr(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(s)}function a9(t){return["table","td","th"].includes(lc(t))}function Cm(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function xw(t){const e=ww(),n=zr(t)?Wr(t):t;return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function l9(t){let e=lo(t);for(;fs(e)&&!$l(e);){if(xw(e))return e;if(Cm(e))return null;e=lo(e)}return null}function ww(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function $l(t){return["html","body","#document"].includes(lc(t))}function Wr(t){return ir(t).getComputedStyle(t)}function _m(t){return zr(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function lo(t){if(lc(t)==="html")return t;const e=t.assignedSlot||t.parentNode||rC(t)&&t.host||ps(t);return rC(e)?e.host:e}function UR(t){const e=lo(t);return $l(e)?t.ownerDocument?t.ownerDocument.body:t.body:fs(e)&&_d(e)?e:UR(e)}function Wu(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const s=UR(t),i=s===((r=t.ownerDocument)==null?void 0:r.body),o=ir(s);if(i){const a=Dy(o);return e.concat(o,o.visualViewport||[],_d(s)?s:[],a&&n?Wu(a):[])}return e.concat(s,Wu(s,[],n))}function Dy(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function qR(t){const e=Wr(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=fs(t),i=s?t.offsetWidth:n,o=s?t.offsetHeight:r,a=vp(n)!==i||vp(r)!==o;return a&&(n=i,r=o),{width:n,height:r,$:a}}function Ew(t){return zr(t)?t:t.contextElement}function vl(t){const e=Ew(t);if(!fs(e))return oo(1);const n=e.getBoundingClientRect(),{width:r,height:s,$:i}=qR(e);let o=(i?vp(n.width):n.width)/r,a=(i?vp(n.height):n.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const c9=oo(0);function GR(t){const e=ir(t);return!ww()||!e.visualViewport?c9:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function u9(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==ir(t)?!1:e}function ca(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const s=t.getBoundingClientRect(),i=Ew(t);let o=oo(1);e&&(r?zr(r)&&(o=vl(r)):o=vl(t));const a=u9(i,n,r)?GR(i):oo(0);let c=(s.left+a.x)/o.x,u=(s.top+a.y)/o.y,h=s.width/o.x,p=s.height/o.y;if(i){const f=ir(i),v=r&&zr(r)?ir(r):r;let x=f,y=Dy(x);for(;y&&r&&v!==x;){const w=vl(y),T=y.getBoundingClientRect(),E=Wr(y),b=T.left+(y.clientLeft+parseFloat(E.paddingLeft))*w.x,R=T.top+(y.clientTop+parseFloat(E.paddingTop))*w.y;c*=w.x,u*=w.y,h*=w.x,p*=w.y,c+=b,u+=R,x=ir(y),y=Dy(x)}}return wp({width:h,height:p,x:c,y:u})}function d9(t){let{elements:e,rect:n,offsetParent:r,strategy:s}=t;const i=s==="fixed",o=ps(r),a=e?Cm(e.floating):!1;if(r===o||a&&i)return n;let c={scrollLeft:0,scrollTop:0},u=oo(1);const h=oo(0),p=fs(r);if((p||!p&&!i)&&((lc(r)!=="body"||_d(o))&&(c=_m(r)),fs(r))){const f=ca(r);u=vl(r),h.x=f.x+r.clientLeft,h.y=f.y+r.clientTop}return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-c.scrollLeft*u.x+h.x,y:n.y*u.y-c.scrollTop*u.y+h.y}}function h9(t){return Array.from(t.getClientRects())}function Oy(t,e){const n=_m(t).scrollLeft;return e?e.left+n:ca(ps(t)).left+n}function f9(t){const e=ps(t),n=_m(t),r=t.ownerDocument.body,s=Zn(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),i=Zn(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+Oy(t);const a=-n.scrollTop;return Wr(r).direction==="rtl"&&(o+=Zn(e.clientWidth,r.clientWidth)-s),{width:s,height:i,x:o,y:a}}function p9(t,e){const n=ir(t),r=ps(t),s=n.visualViewport;let i=r.clientWidth,o=r.clientHeight,a=0,c=0;if(s){i=s.width,o=s.height;const u=ww();(!u||u&&e==="fixed")&&(a=s.offsetLeft,c=s.offsetTop)}return{width:i,height:o,x:a,y:c}}function m9(t,e){const n=ca(t,!0,e==="fixed"),r=n.top+t.clientTop,s=n.left+t.clientLeft,i=fs(t)?vl(t):oo(1),o=t.clientWidth*i.x,a=t.clientHeight*i.y,c=s*i.x,u=r*i.y;return{width:o,height:a,x:c,y:u}}function sC(t,e,n){let r;if(e==="viewport")r=p9(t,n);else if(e==="document")r=f9(ps(t));else if(zr(e))r=m9(e,n);else{const s=GR(t);r={...e,x:e.x-s.x,y:e.y-s.y}}return wp(r)}function $R(t,e){const n=lo(t);return n===e||!zr(n)||$l(n)?!1:Wr(n).position==="fixed"||$R(n,e)}function g9(t,e){const n=e.get(t);if(n)return n;let r=Wu(t,[],!1).filter(a=>zr(a)&&lc(a)!=="body"),s=null;const i=Wr(t).position==="fixed";let o=i?lo(t):t;for(;zr(o)&&!$l(o);){const a=Wr(o),c=xw(o);!c&&a.position==="fixed"&&(s=null),(i?!c&&!s:!c&&a.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||_d(o)&&!c&&$R(t,o))?r=r.filter(h=>h!==o):s=a,o=lo(o)}return e.set(t,r),r}function y9(t){let{element:e,boundary:n,rootBoundary:r,strategy:s}=t;const o=[...n==="clippingAncestors"?Cm(e)?[]:g9(e,this._c):[].concat(n),r],a=o[0],c=o.reduce((u,h)=>{const p=sC(e,h,s);return u.top=Zn(p.top,u.top),u.right=io(p.right,u.right),u.bottom=io(p.bottom,u.bottom),u.left=Zn(p.left,u.left),u},sC(e,a,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function v9(t){const{width:e,height:n}=qR(t);return{width:e,height:n}}function x9(t,e,n){const r=fs(e),s=ps(e),i=n==="fixed",o=ca(t,!0,i,e);let a={scrollLeft:0,scrollTop:0};const c=oo(0);if(r||!r&&!i)if((lc(e)!=="body"||_d(s))&&(a=_m(e)),r){const v=ca(e,!0,i,e);c.x=v.x+e.clientLeft,c.y=v.y+e.clientTop}else s&&(c.x=Oy(s));let u=0,h=0;if(s&&!r&&!i){const v=s.getBoundingClientRect();h=v.top+a.scrollTop,u=v.left+a.scrollLeft-Oy(s,v)}const p=o.left+a.scrollLeft-c.x-u,f=o.top+a.scrollTop-c.y-h;return{x:p,y:f,width:o.width,height:o.height}}function zg(t){return Wr(t).position==="static"}function iC(t,e){if(!fs(t)||Wr(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return ps(t)===n&&(n=n.ownerDocument.body),n}function zR(t,e){const n=ir(t);if(Cm(t))return n;if(!fs(t)){let s=lo(t);for(;s&&!$l(s);){if(zr(s)&&!zg(s))return s;s=lo(s)}return n}let r=iC(t,e);for(;r&&a9(r)&&zg(r);)r=iC(r,e);return r&&$l(r)&&zg(r)&&!xw(r)?n:r||l9(t)||n}const w9=async function(t){const e=this.getOffsetParent||zR,n=this.getDimensions,r=await n(t.floating);return{reference:x9(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function E9(t){return Wr(t).direction==="rtl"}const b9={convertOffsetParentRelativeRectToViewportRelativeRect:d9,getDocumentElement:ps,getClippingRect:y9,getOffsetParent:zR,getElementRects:w9,getClientRects:h9,getDimensions:v9,getScale:vl,isElement:zr,isRTL:E9};function C9(t,e){let n=null,r;const s=ps(t);function i(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,c){a===void 0&&(a=!1),c===void 0&&(c=1),i();const{left:u,top:h,width:p,height:f}=t.getBoundingClientRect();if(a||e(),!p||!f)return;const v=Vh(h),x=Vh(s.clientWidth-(u+p)),y=Vh(s.clientHeight-(h+f)),w=Vh(u),E={rootMargin:-v+"px "+-x+"px "+-y+"px "+-w+"px",threshold:Zn(0,io(1,c))||1};let b=!0;function R(j){const V=j[0].intersectionRatio;if(V!==c){if(!b)return o();V?o(!1,V):r=setTimeout(()=>{o(!1,1e-7)},1e3)}b=!1}try{n=new IntersectionObserver(R,{...E,root:s.ownerDocument})}catch{n=new IntersectionObserver(R,E)}n.observe(t)}return o(!0),i}function _9(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,u=Ew(t),h=s||i?[...u?Wu(u):[],...Wu(e)]:[];h.forEach(T=>{s&&T.addEventListener("scroll",n,{passive:!0}),i&&T.addEventListener("resize",n)});const p=u&&a?C9(u,n):null;let f=-1,v=null;o&&(v=new ResizeObserver(T=>{let[E]=T;E&&E.target===u&&v&&(v.unobserve(e),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var b;(b=v)==null||b.observe(e)})),n()}),u&&!c&&v.observe(u),v.observe(e));let x,y=c?ca(t):null;c&&w();function w(){const T=ca(t);y&&(T.x!==y.x||T.y!==y.y||T.width!==y.width||T.height!==y.height)&&n(),y=T,x=requestAnimationFrame(w)}return n(),()=>{var T;h.forEach(E=>{s&&E.removeEventListener("scroll",n),i&&E.removeEventListener("resize",n)}),p==null||p(),(T=v)==null||T.disconnect(),v=null,c&&cancelAnimationFrame(x)}}const T9=r9,A9=s9,S9=e9,I9=o9,R9=t9,oC=Z8,N9=i9,P9=(t,e,n)=>{const r=new Map,s={platform:b9,...n},i={...s.platform,_c:r};return X8(t,e,{...s,platform:i})};var vf=typeof document<"u"?g.useLayoutEffect:g.useEffect;function Ep(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!Ep(t[r],e[r]))return!1;return!0}if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=n;r--!==0;){const i=s[r];if(!(i==="_owner"&&t.$$typeof)&&!Ep(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function WR(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function aC(t,e){const n=WR(t);return Math.round(e*n)/n}function Wg(t){const e=g.useRef(t);return vf(()=>{e.current=t}),e}function k9(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:i,floating:o}={},transform:a=!0,whileElementsMounted:c,open:u}=t,[h,p]=g.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[f,v]=g.useState(r);Ep(f,r)||v(r);const[x,y]=g.useState(null),[w,T]=g.useState(null),E=g.useCallback(q=>{q!==V.current&&(V.current=q,y(q))},[]),b=g.useCallback(q=>{q!==I.current&&(I.current=q,T(q))},[]),R=i||x,j=o||w,V=g.useRef(null),I=g.useRef(null),S=g.useRef(h),P=c!=null,k=Wg(c),O=Wg(s),L=Wg(u),D=g.useCallback(()=>{if(!V.current||!I.current)return;const q={placement:e,strategy:n,middleware:f};O.current&&(q.platform=O.current),P9(V.current,I.current,q).then(z=>{const Z={...z,isPositioned:L.current!==!1};X.current&&!Ep(S.current,Z)&&(S.current=Z,pa.flushSync(()=>{p(Z)}))})},[f,e,n,O,L]);vf(()=>{u===!1&&S.current.isPositioned&&(S.current.isPositioned=!1,p(q=>({...q,isPositioned:!1})))},[u]);const X=g.useRef(!1);vf(()=>(X.current=!0,()=>{X.current=!1}),[]),vf(()=>{if(R&&(V.current=R),j&&(I.current=j),R&&j){if(k.current)return k.current(R,j,D);D()}},[R,j,D,k,P]);const re=g.useMemo(()=>({reference:V,floating:I,setReference:E,setFloating:b}),[E,b]),se=g.useMemo(()=>({reference:R,floating:j}),[R,j]),ue=g.useMemo(()=>{const q={position:n,left:0,top:0};if(!se.floating)return q;const z=aC(se.floating,h.x),Z=aC(se.floating,h.y);return a?{...q,transform:"translate("+z+"px, "+Z+"px)",...WR(se.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:z,top:Z}},[n,a,se.floating,h.x,h.y]);return g.useMemo(()=>({...h,update:D,refs:re,elements:se,floatingStyles:ue}),[h,D,re,se,ue])}const M9=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:s}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?oC({element:r.current,padding:s}).fn(n):{}:r?oC({element:r,padding:s}).fn(n):{}}}},j9=(t,e)=>({...T9(t),options:[t,e]}),D9=(t,e)=>({...A9(t),options:[t,e]}),O9=(t,e)=>({...N9(t),options:[t,e]}),L9=(t,e)=>({...S9(t),options:[t,e]}),F9=(t,e)=>({...I9(t),options:[t,e]}),V9=(t,e)=>({...R9(t),options:[t,e]}),B9=(t,e)=>({...M9(t),options:[t,e]});var U9="Arrow",QR=g.forwardRef((t,e)=>{const{children:n,width:r=10,height:s=5,...i}=t;return l.jsx(De.svg,{...i,ref:e,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:l.jsx("polygon",{points:"0,0 30,0 15,10"})})});QR.displayName=U9;var q9=QR;function G9(t,e=[]){let n=[];function r(i,o){const a=g.createContext(o),c=n.length;n=[...n,o];function u(p){const{scope:f,children:v,...x}=p,y=(f==null?void 0:f[t][c])||a,w=g.useMemo(()=>x,Object.values(x));return l.jsx(y.Provider,{value:w,children:v})}function h(p,f){const v=(f==null?void 0:f[t][c])||a,x=g.useContext(v);if(x)return x;if(o!==void 0)return o;throw new Error(`\`${p}\` must be used within \`${i}\``)}return u.displayName=i+"Provider",[u,h]}const s=()=>{const i=n.map(o=>g.createContext(o));return function(a){const c=(a==null?void 0:a[t])||i;return g.useMemo(()=>({[`__scope${t}`]:{...a,[t]:c}}),[a,c])}};return s.scopeName=t,[r,$9(s,...e)]}function $9(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:c,scopeName:u})=>{const p=c(i)[`__scope${u}`];return{...a,...p}},{});return g.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function z9(t){const[e,n]=g.useState(void 0);return en(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,a;if("borderBoxSize"in i){const c=i.borderBoxSize,u=Array.isArray(c)?c[0]:c;o=u.inlineSize,a=u.blockSize}else o=t.offsetWidth,a=t.offsetHeight;n({width:o,height:a})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var bw="Popper",[YR,cc]=G9(bw),[W9,KR]=YR(bw),HR=t=>{const{__scopePopper:e,children:n}=t,[r,s]=g.useState(null);return l.jsx(W9,{scope:e,anchor:r,onAnchorChange:s,children:n})};HR.displayName=bw;var JR="PopperAnchor",XR=g.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...s}=t,i=KR(JR,n),o=g.useRef(null),a=it(e,o);return g.useEffect(()=>{i.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:l.jsx(De.div,{...s,ref:a})});XR.displayName=JR;var Cw="PopperContent",[Q9,Y9]=YR(Cw),ZR=g.forwardRef((t,e)=>{var ie,ge,xe,Ee,Te,Ce;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:i="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:h=0,sticky:p="partial",hideWhenDetached:f=!1,updatePositionStrategy:v="optimized",onPlaced:x,...y}=t,w=KR(Cw,n),[T,E]=g.useState(null),b=it(e,he=>E(he)),[R,j]=g.useState(null),V=z9(R),I=(V==null?void 0:V.width)??0,S=(V==null?void 0:V.height)??0,P=r+(i!=="center"?"-"+i:""),k=typeof h=="number"?h:{top:0,right:0,bottom:0,left:0,...h},O=Array.isArray(u)?u:[u],L=O.length>0,D={padding:k,boundary:O.filter(H9),altBoundary:L},{refs:X,floatingStyles:re,placement:se,isPositioned:ue,middlewareData:q}=k9({strategy:"fixed",placement:P,whileElementsMounted:(...he)=>_9(...he,{animationFrame:v==="always"}),elements:{reference:w.anchor},middleware:[j9({mainAxis:s+S,alignmentAxis:o}),c&&D9({mainAxis:!0,crossAxis:!1,limiter:p==="partial"?O9():void 0,...D}),c&&L9({...D}),F9({...D,apply:({elements:he,rects:ve,availableWidth:gt,availableHeight:at})=>{const{width:Dt,height:et}=ve.reference,yt=he.floating.style;yt.setProperty("--radix-popper-available-width",`${gt}px`),yt.setProperty("--radix-popper-available-height",`${at}px`),yt.setProperty("--radix-popper-anchor-width",`${Dt}px`),yt.setProperty("--radix-popper-anchor-height",`${et}px`)}}),R&&B9({element:R,padding:a}),J9({arrowWidth:I,arrowHeight:S}),f&&V9({strategy:"referenceHidden",...D})]}),[z,Z]=nN(se),te=cn(x);en(()=>{ue&&(te==null||te())},[ue,te]);const ae=(ie=q.arrow)==null?void 0:ie.x,le=(ge=q.arrow)==null?void 0:ge.y,Se=((xe=q.arrow)==null?void 0:xe.centerOffset)!==0,[ke,we]=g.useState();return en(()=>{T&&we(window.getComputedStyle(T).zIndex)},[T]),l.jsx("div",{ref:X.setFloating,"data-radix-popper-content-wrapper":"",style:{...re,transform:ue?re.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ke,"--radix-popper-transform-origin":[(Ee=q.transformOrigin)==null?void 0:Ee.x,(Te=q.transformOrigin)==null?void 0:Te.y].join(" "),...((Ce=q.hide)==null?void 0:Ce.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:l.jsx(Q9,{scope:n,placedSide:z,onArrowChange:j,arrowX:ae,arrowY:le,shouldHideArrow:Se,children:l.jsx(De.div,{"data-side":z,"data-align":Z,...y,ref:b,style:{...y.style,animation:ue?void 0:"none"}})})})});ZR.displayName=Cw;var eN="PopperArrow",K9={top:"bottom",right:"left",bottom:"top",left:"right"},tN=g.forwardRef(function(e,n){const{__scopePopper:r,...s}=e,i=Y9(eN,r),o=K9[i.placedSide];return l.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:l.jsx(q9,{...s,ref:n,style:{...s.style,display:"block"}})})});tN.displayName=eN;function H9(t){return t!==null}var J9=t=>({name:"transformOrigin",options:t,fn(e){var w,T,E;const{placement:n,rects:r,middlewareData:s}=e,o=((w=s.arrow)==null?void 0:w.centerOffset)!==0,a=o?0:t.arrowWidth,c=o?0:t.arrowHeight,[u,h]=nN(n),p={start:"0%",center:"50%",end:"100%"}[h],f=(((T=s.arrow)==null?void 0:T.x)??0)+a/2,v=(((E=s.arrow)==null?void 0:E.y)??0)+c/2;let x="",y="";return u==="bottom"?(x=o?p:`${f}px`,y=`${-c}px`):u==="top"?(x=o?p:`${f}px`,y=`${r.floating.height+c}px`):u==="right"?(x=`${-c}px`,y=o?p:`${v}px`):u==="left"&&(x=`${r.floating.width+c}px`,y=o?p:`${v}px`),{data:{x,y}}}});function nN(t){const[e,n="center"]=t.split("-");return[e,n]}var rN=HR,_w=XR,Tw=ZR,Aw=tN,[Tm,BQ]=Kl("Tooltip",[cc]),Sw=cc(),sN="TooltipProvider",X9=700,lC="tooltip.open",[Z9,iN]=Tm(sN),oN=t=>{const{__scopeTooltip:e,delayDuration:n=X9,skipDelayDuration:r=300,disableHoverableContent:s=!1,children:i}=t,[o,a]=g.useState(!0),c=g.useRef(!1),u=g.useRef(0);return g.useEffect(()=>{const h=u.current;return()=>window.clearTimeout(h)},[]),l.jsx(Z9,{scope:e,isOpenDelayed:o,delayDuration:n,onOpen:g.useCallback(()=>{window.clearTimeout(u.current),a(!1)},[]),onClose:g.useCallback(()=>{window.clearTimeout(u.current),u.current=window.setTimeout(()=>a(!0),r)},[r]),isPointerInTransitRef:c,onPointerInTransitChange:g.useCallback(h=>{c.current=h},[]),disableHoverableContent:s,children:i})};oN.displayName=sN;var aN="Tooltip",[UQ,Am]=Tm(aN),Ly="TooltipTrigger",eU=g.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=Am(Ly,n),i=iN(Ly,n),o=Sw(n),a=g.useRef(null),c=it(e,a,s.onTriggerChange),u=g.useRef(!1),h=g.useRef(!1),p=g.useCallback(()=>u.current=!1,[]);return g.useEffect(()=>()=>document.removeEventListener("pointerup",p),[p]),l.jsx(_w,{asChild:!0,...o,children:l.jsx(De.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...r,ref:c,onPointerMove:pe(t.onPointerMove,f=>{f.pointerType!=="touch"&&!h.current&&!i.isPointerInTransitRef.current&&(s.onTriggerEnter(),h.current=!0)}),onPointerLeave:pe(t.onPointerLeave,()=>{s.onTriggerLeave(),h.current=!1}),onPointerDown:pe(t.onPointerDown,()=>{u.current=!0,document.addEventListener("pointerup",p,{once:!0})}),onFocus:pe(t.onFocus,()=>{u.current||s.onOpen()}),onBlur:pe(t.onBlur,s.onClose),onClick:pe(t.onClick,s.onClose)})})});eU.displayName=Ly;var tU="TooltipPortal",[qQ,nU]=Tm(tU,{forceMount:void 0}),zl="TooltipContent",lN=g.forwardRef((t,e)=>{const n=nU(zl,t.__scopeTooltip),{forceMount:r=n.forceMount,side:s="top",...i}=t,o=Am(zl,t.__scopeTooltip);return l.jsx(ma,{present:r||o.open,children:o.disableHoverableContent?l.jsx(cN,{side:s,...i,ref:e}):l.jsx(rU,{side:s,...i,ref:e})})}),rU=g.forwardRef((t,e)=>{const n=Am(zl,t.__scopeTooltip),r=iN(zl,t.__scopeTooltip),s=g.useRef(null),i=it(e,s),[o,a]=g.useState(null),{trigger:c,onClose:u}=n,h=s.current,{onPointerInTransitChange:p}=r,f=g.useCallback(()=>{a(null),p(!1)},[p]),v=g.useCallback((x,y)=>{const w=x.currentTarget,T={x:x.clientX,y:x.clientY},E=aU(T,w.getBoundingClientRect()),b=lU(T,E),R=cU(y.getBoundingClientRect()),j=dU([...b,...R]);a(j),p(!0)},[p]);return g.useEffect(()=>()=>f(),[f]),g.useEffect(()=>{if(c&&h){const x=w=>v(w,h),y=w=>v(w,c);return c.addEventListener("pointerleave",x),h.addEventListener("pointerleave",y),()=>{c.removeEventListener("pointerleave",x),h.removeEventListener("pointerleave",y)}}},[c,h,v,f]),g.useEffect(()=>{if(o){const x=y=>{const w=y.target,T={x:y.clientX,y:y.clientY},E=(c==null?void 0:c.contains(w))||(h==null?void 0:h.contains(w)),b=!uU(T,o);E?f():b&&(f(),u())};return document.addEventListener("pointermove",x),()=>document.removeEventListener("pointermove",x)}},[c,h,o,u,f]),l.jsx(cN,{...t,ref:i})}),[sU,iU]=Tm(aN,{isInside:!1}),cN=g.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":s,onEscapeKeyDown:i,onPointerDownOutside:o,...a}=t,c=Am(zl,n),u=Sw(n),{onClose:h}=c;return g.useEffect(()=>(document.addEventListener(lC,h),()=>document.removeEventListener(lC,h)),[h]),g.useEffect(()=>{if(c.trigger){const p=f=>{const v=f.target;v!=null&&v.contains(c.trigger)&&h()};return window.addEventListener("scroll",p,{capture:!0}),()=>window.removeEventListener("scroll",p,{capture:!0})}},[c.trigger,h]),l.jsx(ad,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:p=>p.preventDefault(),onDismiss:h,children:l.jsxs(Tw,{"data-state":c.stateAttribute,...u,...a,ref:e,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[l.jsx(EA,{children:r}),l.jsx(sU,{scope:n,isInside:!0,children:l.jsx(VD,{id:c.contentId,role:"tooltip",children:s||r})})]})})});lN.displayName=zl;var uN="TooltipArrow",oU=g.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=Sw(n);return iU(uN,n).isInside?null:l.jsx(Aw,{...s,...r,ref:e})});oU.displayName=uN;function aU(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),s=Math.abs(e.right-t.x),i=Math.abs(e.left-t.x);switch(Math.min(n,r,s,i)){case i:return"left";case s:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function lU(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function cU(t){const{top:e,right:n,bottom:r,left:s}=t;return[{x:s,y:e},{x:n,y:e},{x:n,y:r},{x:s,y:r}]}function uU(t,e){const{x:n,y:r}=t;let s=!1;for(let i=0,o=e.length-1;i<e.length;o=i++){const a=e[i].x,c=e[i].y,u=e[o].x,h=e[o].y;c>r!=h>r&&n<(u-a)*(r-c)/(h-c)+a&&(s=!s)}return s}function dU(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),hU(e)}function hU(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const s=t[r];for(;e.length>=2;){const i=e[e.length-1],o=e[e.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))e.pop();else break}e.push(s)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const s=t[r];for(;n.length>=2;){const i=n[n.length-1],o=n[n.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))n.pop();else break}n.push(s)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var fU=oN,dN=lN;const pU=fU,mU=g.forwardRef(({className:t,sideOffset:e=4,...n},r)=>l.jsx(dN,{ref:r,sideOffset:e,className:Le("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n}));mU.displayName=dN.displayName;var Sm=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Im=typeof window>"u"||"Deno"in globalThis;function jr(){}function gU(t,e){return typeof t=="function"?t(e):t}function yU(t){return typeof t=="number"&&t>=0&&t!==1/0}function vU(t,e){return Math.max(t+(e||0)-Date.now(),0)}function cC(t,e){return typeof t=="function"?t(e):t}function xU(t,e){return typeof t=="function"?t(e):t}function uC(t,e){const{type:n="all",exact:r,fetchStatus:s,predicate:i,queryKey:o,stale:a}=t;if(o){if(r){if(e.queryHash!==Iw(o,e.options))return!1}else if(!Yu(e.queryKey,o))return!1}if(n!=="all"){const c=e.isActive();if(n==="active"&&!c||n==="inactive"&&c)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||s&&s!==e.state.fetchStatus||i&&!i(e))}function dC(t,e){const{exact:n,status:r,predicate:s,mutationKey:i}=t;if(i){if(!e.options.mutationKey)return!1;if(n){if(Qu(e.options.mutationKey)!==Qu(i))return!1}else if(!Yu(e.options.mutationKey,i))return!1}return!(r&&e.state.status!==r||s&&!s(e))}function Iw(t,e){return((e==null?void 0:e.queryKeyHashFn)||Qu)(t)}function Qu(t){return JSON.stringify(t,(e,n)=>Fy(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function Yu(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(n=>!Yu(t[n],e[n])):!1}function hN(t,e){if(t===e)return t;const n=hC(t)&&hC(e);if(n||Fy(t)&&Fy(e)){const r=n?t:Object.keys(t),s=r.length,i=n?e:Object.keys(e),o=i.length,a=n?[]:{};let c=0;for(let u=0;u<o;u++){const h=n?u:i[u];(!n&&r.includes(h)||n)&&t[h]===void 0&&e[h]===void 0?(a[h]=void 0,c++):(a[h]=hN(t[h],e[h]),a[h]===t[h]&&t[h]!==void 0&&c++)}return s===o&&c===s?t:a}return e}function hC(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function Fy(t){if(!fC(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!fC(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function fC(t){return Object.prototype.toString.call(t)==="[object Object]"}function wU(t){return new Promise(e=>{setTimeout(e,t)})}function EU(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?hN(t,e):e}function bU(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function CU(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var Rw=Symbol();function fN(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===Rw?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var Bo,Ti,El,JC,_U=(JC=class extends Sm{constructor(){super();tt(this,Bo);tt(this,Ti);tt(this,El);je(this,El,e=>{if(!Im&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){ee(this,Ti)||this.setEventListener(ee(this,El))}onUnsubscribe(){var e;this.hasListeners()||((e=ee(this,Ti))==null||e.call(this),je(this,Ti,void 0))}setEventListener(e){var n;je(this,El,e),(n=ee(this,Ti))==null||n.call(this),je(this,Ti,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){ee(this,Bo)!==e&&(je(this,Bo,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof ee(this,Bo)=="boolean"?ee(this,Bo):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Bo=new WeakMap,Ti=new WeakMap,El=new WeakMap,JC),pN=new _U,bl,Ai,Cl,XC,TU=(XC=class extends Sm{constructor(){super();tt(this,bl,!0);tt(this,Ai);tt(this,Cl);je(this,Cl,e=>{if(!Im&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){ee(this,Ai)||this.setEventListener(ee(this,Cl))}onUnsubscribe(){var e;this.hasListeners()||((e=ee(this,Ai))==null||e.call(this),je(this,Ai,void 0))}setEventListener(e){var n;je(this,Cl,e),(n=ee(this,Ai))==null||n.call(this),je(this,Ai,e(this.setOnline.bind(this)))}setOnline(e){ee(this,bl)!==e&&(je(this,bl,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return ee(this,bl)}},bl=new WeakMap,Ai=new WeakMap,Cl=new WeakMap,XC),bp=new TU;function AU(){let t,e;const n=new Promise((s,i)=>{t=s,e=i});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),t(s)},n.reject=s=>{r({status:"rejected",reason:s}),e(s)},n}function SU(t){return Math.min(1e3*2**t,3e4)}function mN(t){return(t??"online")==="online"?bp.isOnline():!0}var gN=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function Qg(t){return t instanceof gN}function yN(t){let e=!1,n=0,r=!1,s;const i=AU(),o=y=>{var w;r||(f(new gN(y)),(w=t.abort)==null||w.call(t))},a=()=>{e=!0},c=()=>{e=!1},u=()=>pN.isFocused()&&(t.networkMode==="always"||bp.isOnline())&&t.canRun(),h=()=>mN(t.networkMode)&&t.canRun(),p=y=>{var w;r||(r=!0,(w=t.onSuccess)==null||w.call(t,y),s==null||s(),i.resolve(y))},f=y=>{var w;r||(r=!0,(w=t.onError)==null||w.call(t,y),s==null||s(),i.reject(y))},v=()=>new Promise(y=>{var w;s=T=>{(r||u())&&y(T)},(w=t.onPause)==null||w.call(t)}).then(()=>{var y;s=void 0,r||(y=t.onContinue)==null||y.call(t)}),x=()=>{if(r)return;let y;const w=n===0?t.initialPromise:void 0;try{y=w??t.fn()}catch(T){y=Promise.reject(T)}Promise.resolve(y).then(p).catch(T=>{var V;if(r)return;const E=t.retry??(Im?0:3),b=t.retryDelay??SU,R=typeof b=="function"?b(n,T):b,j=E===!0||typeof E=="number"&&n<E||typeof E=="function"&&E(n,T);if(e||!j){f(T);return}n++,(V=t.onFail)==null||V.call(t,n,T),wU(R).then(()=>u()?void 0:v()).then(()=>{e?f(T):x()})})};return{promise:i,cancel:o,continue:()=>(s==null||s(),i),cancelRetry:a,continueRetry:c,canStart:h,start:()=>(h()?x():v().then(x),i)}}function IU(){let t=[],e=0,n=a=>{a()},r=a=>{a()},s=a=>setTimeout(a,0);const i=a=>{e?t.push(a):s(()=>{n(a)})},o=()=>{const a=t;t=[],a.length&&s(()=>{r(()=>{a.forEach(c=>{n(c)})})})};return{batch:a=>{let c;e++;try{c=a()}finally{e--,e||o()}return c},batchCalls:a=>(...c)=>{i(()=>{a(...c)})},schedule:i,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{s=a}}}var Pn=IU(),Uo,ZC,vN=(ZC=class{constructor(){tt(this,Uo)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),yU(this.gcTime)&&je(this,Uo,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Im?1/0:5*60*1e3))}clearGcTimeout(){ee(this,Uo)&&(clearTimeout(ee(this,Uo)),je(this,Uo,void 0))}},Uo=new WeakMap,ZC),_l,Tl,fr,vn,Zu,qo,Dr,Rs,e_,RU=(e_=class extends vN{constructor(e){super();tt(this,Dr);tt(this,_l);tt(this,Tl);tt(this,fr);tt(this,vn);tt(this,Zu);tt(this,qo);je(this,qo,!1),je(this,Zu,e.defaultOptions),this.setOptions(e.options),this.observers=[],je(this,fr,e.cache),this.queryKey=e.queryKey,this.queryHash=e.queryHash,je(this,_l,PU(this.options)),this.state=e.state??ee(this,_l),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=ee(this,vn))==null?void 0:e.promise}setOptions(e){this.options={...ee(this,Zu),...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&ee(this,fr).remove(this)}setData(e,n){const r=EU(this.state.data,e,this.options);return pn(this,Dr,Rs).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(e,n){pn(this,Dr,Rs).call(this,{type:"setState",state:e,setStateOptions:n})}cancel(e){var r,s;const n=(r=ee(this,vn))==null?void 0:r.promise;return(s=ee(this,vn))==null||s.cancel(e),n?n.then(jr).catch(jr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(ee(this,_l))}isActive(){return this.observers.some(e=>xU(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Rw||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(e=0){return this.state.isInvalidated||this.state.data===void 0||!vU(this.state.dataUpdatedAt,e)}onFocus(){var n;const e=this.observers.find(r=>r.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(n=ee(this,vn))==null||n.continue()}onOnline(){var n;const e=this.observers.find(r=>r.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(n=ee(this,vn))==null||n.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),ee(this,fr).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(n=>n!==e),this.observers.length||(ee(this,vn)&&(ee(this,qo)?ee(this,vn).cancel({revert:!0}):ee(this,vn).cancelRetry()),this.scheduleGc()),ee(this,fr).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||pn(this,Dr,Rs).call(this,{type:"invalidate"})}fetch(e,n){var c,u,h;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(ee(this,vn))return ee(this,vn).continueRetry(),ee(this,vn).promise}if(e&&this.setOptions(e),!this.options.queryFn){const p=this.observers.find(f=>f.options.queryFn);p&&this.setOptions(p.options)}const r=new AbortController,s=p=>{Object.defineProperty(p,"signal",{enumerable:!0,get:()=>(je(this,qo,!0),r.signal)})},i=()=>{const p=fN(this.options,n),f={queryKey:this.queryKey,meta:this.meta};return s(f),je(this,qo,!1),this.options.persister?this.options.persister(p,f,this):p(f)},o={fetchOptions:n,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:i};s(o),(c=this.options.behavior)==null||c.onFetch(o,this),je(this,Tl,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((u=o.fetchOptions)==null?void 0:u.meta))&&pn(this,Dr,Rs).call(this,{type:"fetch",meta:(h=o.fetchOptions)==null?void 0:h.meta});const a=p=>{var f,v,x,y;Qg(p)&&p.silent||pn(this,Dr,Rs).call(this,{type:"error",error:p}),Qg(p)||((v=(f=ee(this,fr).config).onError)==null||v.call(f,p,this),(y=(x=ee(this,fr).config).onSettled)==null||y.call(x,this.state.data,p,this)),this.scheduleGc()};return je(this,vn,yN({initialPromise:n==null?void 0:n.initialPromise,fn:o.fetchFn,abort:r.abort.bind(r),onSuccess:p=>{var f,v,x,y;if(p===void 0){a(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(p)}catch(w){a(w);return}(v=(f=ee(this,fr).config).onSuccess)==null||v.call(f,p,this),(y=(x=ee(this,fr).config).onSettled)==null||y.call(x,p,this.state.error,this),this.scheduleGc()},onError:a,onFail:(p,f)=>{pn(this,Dr,Rs).call(this,{type:"failed",failureCount:p,error:f})},onPause:()=>{pn(this,Dr,Rs).call(this,{type:"pause"})},onContinue:()=>{pn(this,Dr,Rs).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0})),ee(this,vn).start()}},_l=new WeakMap,Tl=new WeakMap,fr=new WeakMap,vn=new WeakMap,Zu=new WeakMap,qo=new WeakMap,Dr=new WeakSet,Rs=function(e){const n=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...NU(r.data,this.options),fetchMeta:e.meta??null};case"success":return{...r,data:e.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=e.error;return Qg(s)&&s.revert&&ee(this,Tl)?{...ee(this,Tl),fetchStatus:"idle"}:{...r,error:s,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=n(this.state),Pn.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),ee(this,fr).notify({query:this,type:"updated",action:e})})},e_);function NU(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:mN(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function PU(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Zr,t_,kU=(t_=class extends Sm{constructor(e={}){super();tt(this,Zr);this.config=e,je(this,Zr,new Map)}build(e,n,r){const s=n.queryKey,i=n.queryHash??Iw(s,n);let o=this.get(i);return o||(o=new RU({cache:this,queryKey:s,queryHash:i,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(s)}),this.add(o)),o}add(e){ee(this,Zr).has(e.queryHash)||(ee(this,Zr).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=ee(this,Zr).get(e.queryHash);n&&(e.destroy(),n===e&&ee(this,Zr).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Pn.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return ee(this,Zr).get(e)}getAll(){return[...ee(this,Zr).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>uC(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>uC(e,r)):n}notify(e){Pn.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){Pn.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Pn.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Zr=new WeakMap,t_),es,Rn,Go,ts,pi,n_,MU=(n_=class extends vN{constructor(e){super();tt(this,ts);tt(this,es);tt(this,Rn);tt(this,Go);this.mutationId=e.mutationId,je(this,Rn,e.mutationCache),je(this,es,[]),this.state=e.state||jU(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){ee(this,es).includes(e)||(ee(this,es).push(e),this.clearGcTimeout(),ee(this,Rn).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){je(this,es,ee(this,es).filter(n=>n!==e)),this.scheduleGc(),ee(this,Rn).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){ee(this,es).length||(this.state.status==="pending"?this.scheduleGc():ee(this,Rn).remove(this))}continue(){var e;return((e=ee(this,Go))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var s,i,o,a,c,u,h,p,f,v,x,y,w,T,E,b,R,j,V,I;je(this,Go,yN({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(S,P)=>{pn(this,ts,pi).call(this,{type:"failed",failureCount:S,error:P})},onPause:()=>{pn(this,ts,pi).call(this,{type:"pause"})},onContinue:()=>{pn(this,ts,pi).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>ee(this,Rn).canRun(this)}));const n=this.state.status==="pending",r=!ee(this,Go).canStart();try{if(!n){pn(this,ts,pi).call(this,{type:"pending",variables:e,isPaused:r}),await((i=(s=ee(this,Rn).config).onMutate)==null?void 0:i.call(s,e,this));const P=await((a=(o=this.options).onMutate)==null?void 0:a.call(o,e));P!==this.state.context&&pn(this,ts,pi).call(this,{type:"pending",context:P,variables:e,isPaused:r})}const S=await ee(this,Go).start();return await((u=(c=ee(this,Rn).config).onSuccess)==null?void 0:u.call(c,S,e,this.state.context,this)),await((p=(h=this.options).onSuccess)==null?void 0:p.call(h,S,e,this.state.context)),await((v=(f=ee(this,Rn).config).onSettled)==null?void 0:v.call(f,S,null,this.state.variables,this.state.context,this)),await((y=(x=this.options).onSettled)==null?void 0:y.call(x,S,null,e,this.state.context)),pn(this,ts,pi).call(this,{type:"success",data:S}),S}catch(S){try{throw await((T=(w=ee(this,Rn).config).onError)==null?void 0:T.call(w,S,e,this.state.context,this)),await((b=(E=this.options).onError)==null?void 0:b.call(E,S,e,this.state.context)),await((j=(R=ee(this,Rn).config).onSettled)==null?void 0:j.call(R,void 0,S,this.state.variables,this.state.context,this)),await((I=(V=this.options).onSettled)==null?void 0:I.call(V,void 0,S,e,this.state.context)),S}finally{pn(this,ts,pi).call(this,{type:"error",error:S})}}finally{ee(this,Rn).runNext(this)}}},es=new WeakMap,Rn=new WeakMap,Go=new WeakMap,ts=new WeakSet,pi=function(e){const n=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=n(this.state),Pn.batch(()=>{ee(this,es).forEach(r=>{r.onMutationUpdate(e)}),ee(this,Rn).notify({mutation:this,type:"updated",action:e})})},n_);function jU(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Hn,ed,r_,DU=(r_=class extends Sm{constructor(e={}){super();tt(this,Hn);tt(this,ed);this.config=e,je(this,Hn,new Map),je(this,ed,Date.now())}build(e,n,r){const s=new MU({mutationCache:this,mutationId:++hh(this,ed)._,options:e.defaultMutationOptions(n),state:r});return this.add(s),s}add(e){const n=Bh(e),r=ee(this,Hn).get(n)??[];r.push(e),ee(this,Hn).set(n,r),this.notify({type:"added",mutation:e})}remove(e){var r;const n=Bh(e);if(ee(this,Hn).has(n)){const s=(r=ee(this,Hn).get(n))==null?void 0:r.filter(i=>i!==e);s&&(s.length===0?ee(this,Hn).delete(n):ee(this,Hn).set(n,s))}this.notify({type:"removed",mutation:e})}canRun(e){var r;const n=(r=ee(this,Hn).get(Bh(e)))==null?void 0:r.find(s=>s.state.status==="pending");return!n||n===e}runNext(e){var r;const n=(r=ee(this,Hn).get(Bh(e)))==null?void 0:r.find(s=>s!==e&&s.state.isPaused);return(n==null?void 0:n.continue())??Promise.resolve()}clear(){Pn.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}getAll(){return[...ee(this,Hn).values()].flat()}find(e){const n={exact:!0,...e};return this.getAll().find(r=>dC(n,r))}findAll(e={}){return this.getAll().filter(n=>dC(e,n))}notify(e){Pn.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return Pn.batch(()=>Promise.all(e.map(n=>n.continue().catch(jr))))}},Hn=new WeakMap,ed=new WeakMap,r_);function Bh(t){var e;return((e=t.options.scope)==null?void 0:e.id)??String(t.mutationId)}function pC(t){return{onFetch:(e,n)=>{var h,p,f,v,x;const r=e.options,s=(f=(p=(h=e.fetchOptions)==null?void 0:h.meta)==null?void 0:p.fetchMore)==null?void 0:f.direction,i=((v=e.state.data)==null?void 0:v.pages)||[],o=((x=e.state.data)==null?void 0:x.pageParams)||[];let a={pages:[],pageParams:[]},c=0;const u=async()=>{let y=!1;const w=b=>{Object.defineProperty(b,"signal",{enumerable:!0,get:()=>(e.signal.aborted?y=!0:e.signal.addEventListener("abort",()=>{y=!0}),e.signal)})},T=fN(e.options,e.fetchOptions),E=async(b,R,j)=>{if(y)return Promise.reject();if(R==null&&b.pages.length)return Promise.resolve(b);const V={queryKey:e.queryKey,pageParam:R,direction:j?"backward":"forward",meta:e.options.meta};w(V);const I=await T(V),{maxPages:S}=e.options,P=j?CU:bU;return{pages:P(b.pages,I,S),pageParams:P(b.pageParams,R,S)}};if(s&&i.length){const b=s==="backward",R=b?OU:mC,j={pages:i,pageParams:o},V=R(r,j);a=await E(j,V,b)}else{const b=t??i.length;do{const R=c===0?o[0]??r.initialPageParam:mC(r,a);if(c>0&&R==null)break;a=await E(a,R),c++}while(c<b)}return a};e.options.persister?e.fetchFn=()=>{var y,w;return(w=(y=e.options).persister)==null?void 0:w.call(y,u,{queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=u}}}function mC(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function OU(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var It,Si,Ii,Al,Sl,Ri,Il,Rl,s_,LU=(s_=class{constructor(t={}){tt(this,It);tt(this,Si);tt(this,Ii);tt(this,Al);tt(this,Sl);tt(this,Ri);tt(this,Il);tt(this,Rl);je(this,It,t.queryCache||new kU),je(this,Si,t.mutationCache||new DU),je(this,Ii,t.defaultOptions||{}),je(this,Al,new Map),je(this,Sl,new Map),je(this,Ri,0)}mount(){hh(this,Ri)._++,ee(this,Ri)===1&&(je(this,Il,pN.subscribe(async t=>{t&&(await this.resumePausedMutations(),ee(this,It).onFocus())})),je(this,Rl,bp.subscribe(async t=>{t&&(await this.resumePausedMutations(),ee(this,It).onOnline())})))}unmount(){var t,e;hh(this,Ri)._--,ee(this,Ri)===0&&((t=ee(this,Il))==null||t.call(this),je(this,Il,void 0),(e=ee(this,Rl))==null||e.call(this),je(this,Rl,void 0))}isFetching(t){return ee(this,It).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return ee(this,Si).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=ee(this,It).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.getQueryData(t.queryKey);if(e===void 0)return this.fetchQuery(t);{const n=this.defaultQueryOptions(t),r=ee(this,It).build(this,n);return t.revalidateIfStale&&r.isStaleByTime(cC(n.staleTime,r))&&this.prefetchQuery(n),Promise.resolve(e)}}getQueriesData(t){return ee(this,It).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),s=ee(this,It).get(r.queryHash),i=s==null?void 0:s.state.data,o=gU(e,i);if(o!==void 0)return ee(this,It).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(t,e,n){return Pn.batch(()=>ee(this,It).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=ee(this,It).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=ee(this,It);Pn.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=ee(this,It),r={type:"active",...t};return Pn.batch(()=>(n.findAll(t).forEach(s=>{s.reset()}),this.refetchQueries(r,e)))}cancelQueries(t={},e={}){const n={revert:!0,...e},r=Pn.batch(()=>ee(this,It).findAll(t).map(s=>s.cancel(n)));return Promise.all(r).then(jr).catch(jr)}invalidateQueries(t={},e={}){return Pn.batch(()=>{if(ee(this,It).findAll(t).forEach(r=>{r.invalidate()}),t.refetchType==="none")return Promise.resolve();const n={...t,type:t.refetchType??t.type??"active"};return this.refetchQueries(n,e)})}refetchQueries(t={},e){const n={...e,cancelRefetch:(e==null?void 0:e.cancelRefetch)??!0},r=Pn.batch(()=>ee(this,It).findAll(t).filter(s=>!s.isDisabled()).map(s=>{let i=s.fetch(void 0,n);return n.throwOnError||(i=i.catch(jr)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(jr)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=ee(this,It).build(this,e);return n.isStaleByTime(cC(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(jr).catch(jr)}fetchInfiniteQuery(t){return t.behavior=pC(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(jr).catch(jr)}ensureInfiniteQueryData(t){return t.behavior=pC(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return bp.isOnline()?ee(this,Si).resumePausedMutations():Promise.resolve()}getQueryCache(){return ee(this,It)}getMutationCache(){return ee(this,Si)}getDefaultOptions(){return ee(this,Ii)}setDefaultOptions(t){je(this,Ii,t)}setQueryDefaults(t,e){ee(this,Al).set(Qu(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...ee(this,Al).values()];let n={};return e.forEach(r=>{Yu(t,r.queryKey)&&(n={...n,...r.defaultOptions})}),n}setMutationDefaults(t,e){ee(this,Sl).set(Qu(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...ee(this,Sl).values()];let n={};return e.forEach(r=>{Yu(t,r.mutationKey)&&(n={...n,...r.defaultOptions})}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...ee(this,Ii).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=Iw(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.enabled!==!0&&e.queryFn===Rw&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...ee(this,Ii).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){ee(this,It).clear(),ee(this,Si).clear()}},It=new WeakMap,Si=new WeakMap,Ii=new WeakMap,Al=new WeakMap,Sl=new WeakMap,Ri=new WeakMap,Il=new WeakMap,Rl=new WeakMap,s_),FU=g.createContext(void 0),VU=({client:t,children:e})=>(g.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),l.jsx(FU.Provider,{value:t,children:e}));/**
 * @remix-run/router v1.20.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ku(){return Ku=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ku.apply(this,arguments)}var Mi;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Mi||(Mi={}));const gC="popstate";function BU(t){t===void 0&&(t={});function e(r,s){let{pathname:i,search:o,hash:a}=r.location;return Vy("",{pathname:i,search:o,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:Cp(s)}return qU(e,n,null,t)}function jt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function xN(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function UU(){return Math.random().toString(36).substr(2,8)}function yC(t,e){return{usr:t.state,key:t.key,idx:e}}function Vy(t,e,n,r){return n===void 0&&(n=null),Ku({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?uc(e):e,{state:n,key:e&&e.key||r||UU()})}function Cp(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function uc(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function qU(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,a=Mi.Pop,c=null,u=h();u==null&&(u=0,o.replaceState(Ku({},o.state,{idx:u}),""));function h(){return(o.state||{idx:null}).idx}function p(){a=Mi.Pop;let w=h(),T=w==null?null:w-u;u=w,c&&c({action:a,location:y.location,delta:T})}function f(w,T){a=Mi.Push;let E=Vy(y.location,w,T);u=h()+1;let b=yC(E,u),R=y.createHref(E);try{o.pushState(b,"",R)}catch(j){if(j instanceof DOMException&&j.name==="DataCloneError")throw j;s.location.assign(R)}i&&c&&c({action:a,location:y.location,delta:1})}function v(w,T){a=Mi.Replace;let E=Vy(y.location,w,T);u=h();let b=yC(E,u),R=y.createHref(E);o.replaceState(b,"",R),i&&c&&c({action:a,location:y.location,delta:0})}function x(w){let T=s.location.origin!=="null"?s.location.origin:s.location.href,E=typeof w=="string"?w:Cp(w);return E=E.replace(/ $/,"%20"),jt(T,"No window.location.(origin|href) available to create URL for href: "+E),new URL(E,T)}let y={get action(){return a},get location(){return t(s,o)},listen(w){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(gC,p),c=w,()=>{s.removeEventListener(gC,p),c=null}},createHref(w){return e(s,w)},createURL:x,encodeLocation(w){let T=x(w);return{pathname:T.pathname,search:T.search,hash:T.hash}},push:f,replace:v,go(w){return o.go(w)}};return y}var vC;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(vC||(vC={}));function GU(t,e,n){return n===void 0&&(n="/"),$U(t,e,n,!1)}function $U(t,e,n,r){let s=typeof e=="string"?uc(e):e,i=Nw(s.pathname||"/",n);if(i==null)return null;let o=wN(t);zU(o);let a=null;for(let c=0;a==null&&c<o.length;++c){let u=n7(i);a=e7(o[c],u,r)}return a}function wN(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,o,a)=>{let c={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};c.relativePath.startsWith("/")&&(jt(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let u=Qi([r,c.relativePath]),h=n.concat(c);i.children&&i.children.length>0&&(jt(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),wN(i.children,e,h,u)),!(i.path==null&&!i.index)&&e.push({path:u,score:XU(u,i.index),routesMeta:h})};return t.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,o);else for(let c of EN(i.path))s(i,o,c)}),e}function EN(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=EN(r.join("/")),a=[];return a.push(...o.map(c=>c===""?i:[i,c].join("/"))),s&&a.push(...o),a.map(c=>t.startsWith("/")&&c===""?"/":c)}function zU(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:ZU(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const WU=/^:[\w-]+$/,QU=3,YU=2,KU=1,HU=10,JU=-2,xC=t=>t==="*";function XU(t,e){let n=t.split("/"),r=n.length;return n.some(xC)&&(r+=JU),e&&(r+=YU),n.filter(s=>!xC(s)).reduce((s,i)=>s+(WU.test(i)?QU:i===""?KU:HU),r)}function ZU(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function e7(t,e,n){let{routesMeta:r}=t,s={},i="/",o=[];for(let a=0;a<r.length;++a){let c=r[a],u=a===r.length-1,h=i==="/"?e:e.slice(i.length)||"/",p=wC({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},h),f=c.route;if(!p&&u&&n&&!r[r.length-1].route.index&&(p=wC({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},h)),!p)return null;Object.assign(s,p.params),o.push({params:s,pathname:Qi([i,p.pathname]),pathnameBase:o7(Qi([i,p.pathnameBase])),route:f}),p.pathnameBase!=="/"&&(i=Qi([i,p.pathnameBase]))}return o}function wC(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=t7(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((u,h,p)=>{let{paramName:f,isOptional:v}=h;if(f==="*"){let y=a[p]||"";o=i.slice(0,i.length-y.length).replace(/(.)\/+$/,"$1")}const x=a[p];return v&&!x?u[f]=void 0:u[f]=(x||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:o,pattern:t}}function t7(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),xN(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,c)=>(r.push({paramName:a,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function n7(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return xN(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Nw(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function r7(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?uc(t):t;return{pathname:n?n.startsWith("/")?n:s7(n,e):e,search:a7(r),hash:l7(s)}}function s7(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Yg(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function i7(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Pw(t,e){let n=i7(t);return e?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function kw(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=uc(t):(s=Ku({},t),jt(!s.pathname||!s.pathname.includes("?"),Yg("?","pathname","search",s)),jt(!s.pathname||!s.pathname.includes("#"),Yg("#","pathname","hash",s)),jt(!s.search||!s.search.includes("#"),Yg("#","search","hash",s)));let i=t===""||s.pathname==="",o=i?"/":s.pathname,a;if(o==null)a=n;else{let p=e.length-1;if(!r&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),p-=1;s.pathname=f.join("/")}a=p>=0?e[p]:"/"}let c=r7(s,a),u=o&&o!=="/"&&o.endsWith("/"),h=(i||o===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(u||h)&&(c.pathname+="/"),c}const Qi=t=>t.join("/").replace(/\/\/+/g,"/"),o7=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),a7=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,l7=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function c7(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const bN=["post","put","patch","delete"];new Set(bN);const u7=["get",...bN];new Set(u7);/**
 * React Router v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Hu(){return Hu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Hu.apply(this,arguments)}const Mw=g.createContext(null),d7=g.createContext(null),yo=g.createContext(null),Rm=g.createContext(null),vo=g.createContext({outlet:null,matches:[],isDataRoute:!1}),CN=g.createContext(null);function h7(t,e){let{relative:n}=e===void 0?{}:e;dc()||jt(!1);let{basename:r,navigator:s}=g.useContext(yo),{hash:i,pathname:o,search:a}=TN(t,{relative:n}),c=o;return r!=="/"&&(c=o==="/"?r:Qi([r,o])),s.createHref({pathname:c,search:a,hash:i})}function dc(){return g.useContext(Rm)!=null}function Xs(){return dc()||jt(!1),g.useContext(Rm).location}function _N(t){g.useContext(yo).static||g.useLayoutEffect(t)}function Qr(){let{isDataRoute:t}=g.useContext(vo);return t?T7():f7()}function f7(){dc()||jt(!1);let t=g.useContext(Mw),{basename:e,future:n,navigator:r}=g.useContext(yo),{matches:s}=g.useContext(vo),{pathname:i}=Xs(),o=JSON.stringify(Pw(s,n.v7_relativeSplatPath)),a=g.useRef(!1);return _N(()=>{a.current=!0}),g.useCallback(function(u,h){if(h===void 0&&(h={}),!a.current)return;if(typeof u=="number"){r.go(u);return}let p=kw(u,JSON.parse(o),i,h.relative==="path");t==null&&e!=="/"&&(p.pathname=p.pathname==="/"?e:Qi([e,p.pathname])),(h.replace?r.replace:r.push)(p,h.state,h)},[e,r,o,i,t])}function TN(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=g.useContext(yo),{matches:s}=g.useContext(vo),{pathname:i}=Xs(),o=JSON.stringify(Pw(s,r.v7_relativeSplatPath));return g.useMemo(()=>kw(t,JSON.parse(o),i,n==="path"),[t,o,i,n])}function p7(t,e){return m7(t,e)}function m7(t,e,n,r){dc()||jt(!1);let{navigator:s}=g.useContext(yo),{matches:i}=g.useContext(vo),o=i[i.length-1],a=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let u=Xs(),h;if(e){var p;let w=typeof e=="string"?uc(e):e;c==="/"||(p=w.pathname)!=null&&p.startsWith(c)||jt(!1),h=w}else h=u;let f=h.pathname||"/",v=f;if(c!=="/"){let w=c.replace(/^\//,"").split("/");v="/"+f.replace(/^\//,"").split("/").slice(w.length).join("/")}let x=GU(t,{pathname:v}),y=w7(x&&x.map(w=>Object.assign({},w,{params:Object.assign({},a,w.params),pathname:Qi([c,s.encodeLocation?s.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?c:Qi([c,s.encodeLocation?s.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),i,n,r);return e&&y?g.createElement(Rm.Provider,{value:{location:Hu({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:Mi.Pop}},y):y}function g7(){let t=_7(),e=c7(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return g.createElement(g.Fragment,null,g.createElement("h2",null,"Unexpected Application Error!"),g.createElement("h3",{style:{fontStyle:"italic"}},e),n?g.createElement("pre",{style:s},n):null,null)}const y7=g.createElement(g7,null);class v7 extends g.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?g.createElement(vo.Provider,{value:this.props.routeContext},g.createElement(CN.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function x7(t){let{routeContext:e,match:n,children:r}=t,s=g.useContext(Mw);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),g.createElement(vo.Provider,{value:e},r)}function w7(t,e,n,r){var s;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var i;if(!n)return null;if(n.errors)t=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(s=n)==null?void 0:s.errors;if(a!=null){let h=o.findIndex(p=>p.route.id&&(a==null?void 0:a[p.route.id])!==void 0);h>=0||jt(!1),o=o.slice(0,Math.min(o.length,h+1))}let c=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let h=0;h<o.length;h++){let p=o[h];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(u=h),p.route.id){let{loaderData:f,errors:v}=n,x=p.route.loader&&f[p.route.id]===void 0&&(!v||v[p.route.id]===void 0);if(p.route.lazy||x){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((h,p,f)=>{let v,x=!1,y=null,w=null;n&&(v=a&&p.route.id?a[p.route.id]:void 0,y=p.route.errorElement||y7,c&&(u<0&&f===0?(x=!0,w=null):u===f&&(x=!0,w=p.route.hydrateFallbackElement||null)));let T=e.concat(o.slice(0,f+1)),E=()=>{let b;return v?b=y:x?b=w:p.route.Component?b=g.createElement(p.route.Component,null):p.route.element?b=p.route.element:b=h,g.createElement(x7,{match:p,routeContext:{outlet:h,matches:T,isDataRoute:n!=null},children:b})};return n&&(p.route.ErrorBoundary||p.route.errorElement||f===0)?g.createElement(v7,{location:n.location,revalidation:n.revalidation,component:y,error:v,children:E(),routeContext:{outlet:null,matches:T,isDataRoute:!0}}):E()},null)}var AN=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(AN||{}),_p=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(_p||{});function E7(t){let e=g.useContext(Mw);return e||jt(!1),e}function b7(t){let e=g.useContext(d7);return e||jt(!1),e}function C7(t){let e=g.useContext(vo);return e||jt(!1),e}function SN(t){let e=C7(),n=e.matches[e.matches.length-1];return n.route.id||jt(!1),n.route.id}function _7(){var t;let e=g.useContext(CN),n=b7(_p.UseRouteError),r=SN(_p.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function T7(){let{router:t}=E7(AN.UseNavigateStable),e=SN(_p.UseNavigateStable),n=g.useRef(!1);return _N(()=>{n.current=!0}),g.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,Hu({fromRouteId:e},i)))},[t,e])}function Tp(t){let{to:e,replace:n,state:r,relative:s}=t;dc()||jt(!1);let{future:i,static:o}=g.useContext(yo),{matches:a}=g.useContext(vo),{pathname:c}=Xs(),u=Qr(),h=kw(e,Pw(a,i.v7_relativeSplatPath),c,s==="path"),p=JSON.stringify(h);return g.useEffect(()=>u(JSON.parse(p),{replace:n,state:r,relative:s}),[u,p,s,n,r]),null}function Hr(t){jt(!1)}function A7(t){let{basename:e="/",children:n=null,location:r,navigationType:s=Mi.Pop,navigator:i,static:o=!1,future:a}=t;dc()&&jt(!1);let c=e.replace(/^\/*/,"/"),u=g.useMemo(()=>({basename:c,navigator:i,static:o,future:Hu({v7_relativeSplatPath:!1},a)}),[c,a,i,o]);typeof r=="string"&&(r=uc(r));let{pathname:h="/",search:p="",hash:f="",state:v=null,key:x="default"}=r,y=g.useMemo(()=>{let w=Nw(h,c);return w==null?null:{location:{pathname:w,search:p,hash:f,state:v,key:x},navigationType:s}},[c,h,p,f,v,x,s]);return y==null?null:g.createElement(yo.Provider,{value:u},g.createElement(Rm.Provider,{children:n,value:y}))}function S7(t){let{children:e,location:n}=t;return p7(By(e),n)}new Promise(()=>{});function By(t,e){e===void 0&&(e=[]);let n=[];return g.Children.forEach(t,(r,s)=>{if(!g.isValidElement(r))return;let i=[...e,s];if(r.type===g.Fragment){n.push.apply(n,By(r.props.children,i));return}r.type!==Hr&&jt(!1),!r.props.index||!r.props.children||jt(!1);let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=By(r.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Uy(){return Uy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Uy.apply(this,arguments)}function I7(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function R7(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function N7(t,e){return t.button===0&&(!e||e==="_self")&&!R7(t)}const P7=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],k7="6";try{window.__reactRouterVersion=k7}catch{}const M7="startTransition",EC=g_[M7];function j7(t){let{basename:e,children:n,future:r,window:s}=t,i=g.useRef();i.current==null&&(i.current=BU({window:s,v5Compat:!0}));let o=i.current,[a,c]=g.useState({action:o.action,location:o.location}),{v7_startTransition:u}=r||{},h=g.useCallback(p=>{u&&EC?EC(()=>c(p)):c(p)},[c,u]);return g.useLayoutEffect(()=>o.listen(h),[o,h]),g.createElement(A7,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const D7=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",O7=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ks=g.forwardRef(function(e,n){let{onClick:r,relative:s,reloadDocument:i,replace:o,state:a,target:c,to:u,preventScrollReset:h,viewTransition:p}=e,f=I7(e,P7),{basename:v}=g.useContext(yo),x,y=!1;if(typeof u=="string"&&O7.test(u)&&(x=u,D7))try{let b=new URL(window.location.href),R=u.startsWith("//")?new URL(b.protocol+u):new URL(u),j=Nw(R.pathname,v);R.origin===b.origin&&j!=null?u=j+R.search+R.hash:y=!0}catch{}let w=h7(u,{relative:s}),T=L7(u,{replace:o,state:a,target:c,preventScrollReset:h,relative:s,viewTransition:p});function E(b){r&&r(b),b.defaultPrevented||T(b)}return g.createElement("a",Uy({},f,{href:x||w,onClick:y||i?r:E,ref:n,target:c}))});var bC;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(bC||(bC={}));var CC;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(CC||(CC={}));function L7(t,e){let{target:n,replace:r,state:s,preventScrollReset:i,relative:o,viewTransition:a}=e===void 0?{}:e,c=Qr(),u=Xs(),h=TN(t,{relative:o});return g.useCallback(p=>{if(N7(p,n)){p.preventDefault();let f=r!==void 0?r:Cp(u)===Cp(h);c(t,{replace:f,state:s,preventScrollReset:i,relative:o,viewTransition:a})}},[u,c,h,r,s,n,t,i,o,a])}const IN=()=>`session_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,F7=async(t,e)=>{try{console.log("loginUser: Starting login process for email:",t);const n=await W6(Yo,t,e);console.log("loginUser: Firebase Auth successful for UID:",n.user.uid);const r=await Gl(an(Pt,"users",n.user.uid));if(console.log("loginUser: User document exists:",r.exists()),r.exists()){const s=r.data();console.log("loginUser: User data retrieved, current session status:",s.isSessionValid);const i=IN(),o=Ge.now();console.log("loginUser: Updating user document with new session"),await vd(an(Pt,"users",n.user.uid),{sessionToken:i,lastLoginAt:o,isSessionValid:!0}),console.log("loginUser: User document updated with new session");const a={...s,sessionToken:i,lastLoginAt:o,isSessionValid:!0};return console.log("loginUser: Returning updated user data with session:",a.isSessionValid),a}return console.log("loginUser: User document not found, returning null"),null}catch(n){throw console.error("loginUser error:",n),n}},V7=async(t,e,n,r,s)=>{try{const i=await z6(Yo,e,n),o=IN(),a=Ge.now(),c={id:i.user.uid,name:t,email:e,feedback:r,purchases:0,isRewardReady:!1,createdAt:a,rewards:[],role:"customer",currentOfferId:"default_offer",currentOfferProgress:0,sessionToken:o,lastLoginAt:a,isSessionValid:!0};try{await vm(an(Pt,"users",i.user.uid),c),(await Gl(an(Pt,"users",i.user.uid))).exists()?console.log("✅ User document verified in Firestore"):console.error("❌ User document not found after creation!")}catch(u){throw console.error("Firestore error during user creation:",u),u}return c}catch(i){throw console.error("registerUser error:",i),i}},B7=async()=>{try{const t=Yo.currentUser;t&&await vd(an(Pt,"users",t.uid),{isSessionValid:!1,sessionToken:null}),await qb(Yo)}catch(t){console.error("Logout error:",t),await qb(Yo)}},U7=t=>H6(Yo,t),q7=(t,e)=>{const n=gd(Pt,"users"),r=tw(n,KI("createdAt","desc"));return ow(r,s=>{const i=[];s.forEach(o=>{const a=o.data();i.push({...a,id:o.id})}),t(i)},e)},G7=(t,e,n)=>{const r=an(Pt,"users",t);return ow(r,s=>{s.exists()?e(s.data()):e(null)},n)},$7=async(t,e,n)=>{if(!t||t.role!=="super_admin")throw new Error("Only super admins can update user roles");const r=an(Pt,"users",e);await vd(r,{role:n})},z7=async(t,e,n,r)=>{var b,R;const s=e&&n;if(!t&&!s)return;const i=s?an(Pt,"users",n):an(Pt,"users",t.id),o=await Gl(i);if(!o.exists())throw new Error("User not found");const a=o.data(),c=r||a.currentOfferId;if(!c)throw new Error("No offer specified and user has no active offer assigned");const u=an(Pt,"offers",c),h=await Gl(u);if(!h.exists())throw new Error("Specified offer not found");const p=h.data();if(!p.isActive)throw new Error("Specified offer is no longer active");const f=p.stampRequirement,v=(b=a.completedRewards)==null?void 0:b.find(j=>{var V,I,S;return((V=j.offerSnapshot)==null?void 0:V.offerId)===c&&((I=j.scanHistory)==null?void 0:I.length)<((S=j.offerSnapshot)==null?void 0:S.stampRequirement)&&!j.claimedAt});let x=0,y=v;if(v){if(x=((R=v.scanHistory)==null?void 0:R.length)||0,x>=f)throw new Error("User has already completed this offer")}else y={rewardId:`reward_${Date.now()}`,claimedAt:null,scanHistory:[],rewardType:p.rewardType,rewardValue:p.rewardValue,rewardDescription:p.rewardDescription,offerSnapshot:{offerId:p.offerId,offerName:p.name,description:p.description,stampRequirement:p.stampRequirement,rewardType:p.rewardType,rewardValue:p.rewardValue,rewardDescription:p.rewardDescription},createdAt:Ge.now()};const w={scannedBy:(t==null?void 0:t.email)||"unknown",timestamp:Ge.now()},T={...y,scanHistory:[...y.scanHistory||[],w]};let E=a.completedRewards||[];v?E=E.map(j=>j.rewardId===v.rewardId?T:j):E=[...E,T],await vd(i,{lastScanAt:Ge.now(),completedRewards:E})},W7=async(t,e,n,r)=>{const s=e&&n;if(!t&&!s)return;const i=s?an(Pt,"users",n):an(Pt,"users",t.id),o=await Gl(i);if(!o.exists())throw new Error("User not found");const c=o.data().completedRewards||[],u=c.find(p=>p.rewardId===r);if(!u)throw new Error("Reward not found");if(u.claimedAt)throw new Error("Reward has already been redeemed");const h=c.map(p=>p.rewardId===r?{...p,claimedAt:Ge.now()}:p);await vd(i,{completedRewards:h})},Q7=(t,e)=>{const n=an(Pt,"settings","global");return ow(n,r=>{if(r.exists())t(r.data());else{const s={purchaseLimit:5,descriptionMessage:"Complete purchases to unlock your reward!",rewardType:"percentage",rewardValue:"20",rewardDescription:"20% OFF",updatedAt:Ge.now(),updatedBy:"system"};vm(n,s),t(s)}},e)},Y7=5,K7="Welcome Offer",H7="Complete purchases to unlock your reward!",J7=5,X7="percentage",Z7="20",eq="20% OFF",tq=async t=>{gd(Pt,"offers");const e={offerId:"default_offer",name:K7,description:H7,stampRequirement:J7,rewardType:X7,rewardValue:Z7,rewardDescription:eq,isActive:!0,createdAt:Ge.now(),updatedAt:Ge.now(),createdBy:t.email||"system"};await vm(an(Pt,"offers","default_offer"),e)},nq=async()=>{const t=gd(Pt,"offers"),e=await iw(t);return e.empty?[]:e.docs.map(n=>n.data())},rq=async(t,e)=>{if(t.role!=="admin"&&t.role!=="super_admin")throw new Error("Only admins can create offers");const n=`offer_${Date.now()}`,r={...e,offerId:n,createdAt:Ge.now(),updatedAt:Ge.now(),createdBy:t.email||"system"};await vm(an(Pt,"offers",n),r)};function xo(t,e){return async(...n)=>{try{return await t(...n)}catch(r){throw console.error(`${e} error:`,r),r}}}const sq=xo(F7,"loginUser"),iq=xo(V7,"registerUser"),_C=xo(B7,"logoutUser"),oq=U7,aq=q7,lq=G7,cq=xo($7,"updateUserRole"),uq=xo(z7,"addPurchase"),dq=xo(W7,"redeemReward"),hq=Q7,fu=nq,fq=xo(rq,"createOffer"),TC=xo(tq,"createDefaultOffer"),RN=g.createContext(null),pq=({children:t})=>{const[e,n]=g.useState(null),[r,s]=g.useState(!0),[i,o]=g.useState(null),[a,c]=g.useState(!0),[u,h]=g.useState([]),[p,f]=g.useState(!1);g.useEffect(()=>{const E=hq(b=>{o(b),c(!1)},b=>{console.error("Error listening to settings:",b),c(!1)});return()=>E()},[]),g.useEffect(()=>{if(!e||e.role!=="admin"&&e.role!=="super_admin"){h([]);return}f(!0);const E=aq(b=>{h(b),f(!1)},b=>{console.error("Error listening to all users:",b),f(!1)});return()=>E()},[e==null?void 0:e.role]),g.useEffect(()=>{let E=null,b=!1;const R=oq(async V=>{b||(b=!0),V&&typeof V=="object"&&V!==null&&"uid"in V?(console.log("Firebase Auth user detected, setting up real-time listener for:",V.uid),setTimeout(()=>{E=lq(V.uid,I=>{console.log("Real-time user data received:",{uid:I.id,isSessionValid:I.isSessionValid,hasSessionToken:!!I.sessionToken}),I.isSessionValid===!1?(console.log("Session explicitly invalidated, signing out user"),n(null),s(!1),_C()):(console.log("Accepting user data during login, session status:",I.isSessionValid),n(I),s(!1))},I=>{console.error("Error listening to user data:",I),n(null),s(!1)})},500)):(n(null),s(!1),E&&(E(),E=null))}),j=setTimeout(()=>{b||s(!1)},1e4);return()=>{R&&R(),E&&E(),clearTimeout(j)}},[]);const v=async(E,b)=>{console.log("Login attempt started for:",E);try{const R=await sq(E,b);return console.log("Login successful, user data received:",!!R),R}catch(R){throw console.error("Login failed:",R),R}},x=(E,b,R,j)=>iq(E,b,R,j,null),y=(E,b,R)=>uq(e,E,b,R),w=(E,b)=>cq(e,E,b),T=async()=>{console.log("Logout called from useAuth hook"),await _C(),n(null)};return l.jsx(RN.Provider,{value:{user:e,loading:r,settings:i,settingsLoading:a,allUsers:u,allUsersLoading:p,login:v,register:x,addPurchase:y,logout:T,updateUserRole:w},children:t})},ms=()=>{const t=g.useContext(RN);if(!t)throw new Error("useAuth must be used within AuthProvider");return t},Oc=({children:t,requiredRole:e})=>{const{user:n,loading:r}=ms(),s=Xs();if(r)return l.jsx("div",{className:"min-h-screen bg-gradient-to-br from-black via-gray-900 to-red-950 flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx(fx,{className:"h-8 w-8 animate-spin text-red-500 mx-auto mb-4"}),l.jsx("p",{className:"text-white text-lg",children:"Loading..."})]})});if(!n)return l.jsx(Tp,{to:"/login",state:{from:s},replace:!0});if(e){const i=n.role,o={customer:1,admin:2,super_admin:3};if(o[i]<o[e])return l.jsx(Tp,{to:"/dashboard",replace:!0})}return l.jsx(l.Fragment,{children:t})},AC=({children:t})=>{const{user:e,loading:n}=ms();return n?l.jsx("div",{className:"min-h-screen bg-gradient-to-br from-black via-gray-900 to-red-950 flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx(fx,{className:"h-8 w-8 animate-spin text-red-500 mx-auto mb-4"}),l.jsx("p",{className:"text-white text-lg",children:"Loading..."})]})}):e?l.jsx(Tp,{to:"/dashboard",replace:!0}):l.jsx(l.Fragment,{children:t})},mq=ux("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Ze=g.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...s},i)=>{const o=r?ta:"button";return l.jsx(o,{className:Le(mq({variant:e,size:n,className:t})),ref:i,...s})});Ze.displayName="Button";const gq=()=>{const[t,e]=g.useState(!1),[n,r]=g.useState(!1),s=()=>{const i=window.matchMedia("(display-mode: standalone)").matches,o=window.matchMedia("(display-mode: fullscreen)").matches,a=window.matchMedia("(display-mode: minimal-ui)").matches,c=navigator.standalone===!0;return i||o||a||c};return g.useEffect(()=>{s()&&r(!0);const o=window.matchMedia("(display-mode: standalone)"),a=c=>{c.matches&&r(!0)};return o.addEventListener("change",a),()=>{o.removeEventListener("change",a)}},[]),n?null:l.jsxs("div",{className:"fixed top-4 right-4 z-40",children:[l.jsxs(Ze,{onClick:()=>e(!t),size:"sm",variant:"outline",className:"bg-white/90 backdrop-blur-sm border-gray-200 hover:bg-white",children:[l.jsx(hO,{className:"w-4 h-4 mr-2"}),"Install Guide"]}),t&&l.jsxs("div",{className:"absolute top-12 right-0 w-80 bg-white rounded-lg shadow-lg border border-gray-200 p-4",children:[l.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"How to Install"}),l.jsxs("div",{className:"space-y-3 text-sm text-gray-600",children:[l.jsxs("div",{children:[l.jsx("strong",{children:"Chrome/Edge (Desktop):"}),l.jsx("p",{children:'Look for the install icon (plus sign) in your browser address bar, or use the menu (three dots) and select "Install app"'})]}),l.jsxs("div",{children:[l.jsx("strong",{children:"Chrome/Edge (Mobile):"}),l.jsx("p",{children:'Tap the menu (three dots) and select "Add to Home screen" or "Install app"'})]}),l.jsxs("div",{children:[l.jsx("strong",{children:"Safari (Mobile):"}),l.jsx("p",{children:'Tap the Share button (square with arrow) and select "Add to Home Screen"'})]}),l.jsxs("div",{children:[l.jsx("strong",{children:"Safari (Desktop):"}),l.jsx("p",{children:'Use the Share button in the toolbar and select "Add to Dock"'})]}),l.jsxs("div",{children:[l.jsx("strong",{children:"Firefox:"}),l.jsx("p",{children:'Use the menu (three lines) and select "Install App" or "Add to Home Screen"'})]})]}),l.jsx(Ze,{onClick:()=>e(!1),size:"sm",className:"mt-3 w-full",children:"Got it!"})]})]})},yq=()=>{const[t,e]=g.useState(!1),n=()=>{const r=window.matchMedia("(display-mode: standalone)").matches,s=window.matchMedia("(display-mode: fullscreen)").matches,i=window.matchMedia("(display-mode: minimal-ui)").matches,o=navigator.standalone===!0;return r||s||i||o};return g.useEffect(()=>{n()&&e(!0);const s=window.matchMedia("(display-mode: standalone)"),i=o=>{o.matches&&e(!0)};return s.addEventListener("change",i),()=>{s.removeEventListener("change",i)}},[]),l.jsxs("div",{className:"min-h-screen relative overflow-hidden",children:[l.jsx("div",{className:"absolute inset-0 bg-cover bg-center bg-no-repeat",style:{backgroundImage:"url(/bgCover.jpeg)"}}),l.jsx("div",{className:"absolute inset-0 bg-black/60"}),l.jsxs("div",{className:"absolute inset-0 opacity-20",children:[l.jsx("div",{className:"absolute top-10 left-10 w-32 h-32 bg-red-500 rounded-full blur-3xl animate-pulse"}),l.jsx("div",{className:"absolute bottom-20 right-10 w-40 h-40 bg-red-600 rounded-full blur-3xl animate-pulse delay-1000"}),l.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-60 h-60 bg-red-700 rounded-full blur-3xl animate-pulse delay-500"})]}),l.jsxs("div",{className:"relative z-10 flex flex-col items-center justify-center min-h-screen px-6 text-center",children:[l.jsx("div",{children:l.jsx("div",{className:"flex justify-center mb-4",children:l.jsx("img",{src:"/logo.png",alt:"Vape Master Logo",className:"w-24 h-24 sm:w-32 sm:h-32 md:w-40 md:h-40 lg:w-48 lg:h-48 object-contain"})})}),l.jsxs("div",{className:"mb-12 max-w-md",children:[l.jsx("h2",{className:"text-xl sm:text-2xl md:text-3xl lg:text-4xl xl:text-5xl font-semibold text-white mb-4",children:"Loyalty Program"}),l.jsx("p",{className:"text-gray-300 text-sm sm:text-base md:text-lg lg:text-xl xl:text-2xl leading-relaxed",children:"Join our loyalty program and get rewards! Earn points with every purchase and unlock exclusive benefits."})]}),l.jsxs("div",{className:"space-y-4 w-full max-w-sm",children:[l.jsx(Ks,{to:"/register",className:"block",children:l.jsx(Ze,{className:"w-full py-4 text-lg font-semibold bg-gradient-to-r from-red-600 to-red-700 hover:from-red-700 hover:to-red-800 text-white border-none shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-105",children:"Join Now"})}),l.jsx(Ks,{to:"/login",className:"block",children:l.jsx(Ze,{variant:"outline",className:"w-full py-4 text-lg font-semibold bg-transparent border-2 border-red-500 text-red-400 hover:bg-red-500 hover:text-white transition-all duration-300 transform hover:scale-105",children:"Already a Member?"})})]}),!t&&l.jsx("div",{className:"mt-8",children:l.jsx(gq,{})}),l.jsx("div",{className:"absolute bottom-6 text-center text-gray-500",children:l.jsx("p",{className:"text-sm",children:"Smoke responsibly • 21+ only"})})]})]})},vq=()=>{const{user:t,loading:e}=ms();return e?l.jsx("div",{className:"min-h-screen bg-gradient-to-br from-black via-gray-900 to-red-950 flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx(fx,{className:"h-8 w-8 animate-spin text-red-500 mx-auto mb-4"}),l.jsx("p",{className:"text-white text-lg",children:"Loading..."})]})}):t?l.jsx(Tp,{to:"/dashboard",replace:!0}):l.jsx(yq,{})},qn=g.forwardRef(({className:t,type:e,...n},r)=>l.jsx("input",{type:e,className:Le("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...n}));qn.displayName="Input";var xq="Label",NN=g.forwardRef((t,e)=>l.jsx(De.label,{...t,ref:e,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=t.onMouseDown)==null||s.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));NN.displayName=xq;var PN=NN;const wq=ux("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),er=g.forwardRef(({className:t,...e},n)=>l.jsx(PN,{ref:n,className:Le(wq(),t),...e}));er.displayName=PN.displayName;const jw=g.forwardRef(({className:t,...e},n)=>l.jsx("textarea",{className:Le("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:n,...e}));jw.displayName="Textarea";function pt(t,e){const n=window;typeof window<"u"&&typeof n.gtag=="function"&&n.gtag("event",t,e||{})}const Eq=()=>{const[t,e]=g.useState(""),[n,r]=g.useState(""),[s,i]=g.useState(""),[o,a]=g.useState(""),[c,u]=g.useState(!1),{register:h,user:p,loading:f}=ms(),v=Qr();g.useEffect(()=>{pt("page_view",{page:"Register"})},[]);const x=async y=>{if(y.preventDefault(),!t.trim()||!n.trim()||!o.trim()){lt({title:"Missing Information",description:"Please fill in your name, email, and password.",variant:"destructive"}),pt("register_missing_info");return}u(!0);try{pt("register_attempt",{email:n}),await h(t.trim(),n.trim(),o.trim(),s.trim()||null),lt({title:"Welcome to Vape Master!",description:"Your loyalty card is ready!"}),pt("register_success",{user_id:p.id,user_role:p.role}),v("/dashboard")}catch(w){let T="Please try again.";w&&typeof w=="object"&&"message"in w&&typeof w.message=="string"&&(T=w.message),lt({title:"Registration Failed",description:T,variant:"destructive"}),pt("register_failed",{email:n,error:T})}finally{u(!1)}};return l.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-black via-gray-900 to-red-950 relative overflow-hidden",children:[l.jsxs("div",{className:"absolute inset-0 opacity-10",children:[l.jsx("div",{className:"absolute top-20 right-10 w-40 h-40 bg-red-500 rounded-full blur-3xl animate-pulse"}),l.jsx("div",{className:"absolute bottom-32 left-10 w-32 h-32 bg-red-600 rounded-full blur-3xl animate-pulse delay-1000"})]}),l.jsxs("div",{className:"relative z-10 min-h-screen flex flex-col",children:[l.jsx("div",{className:"p-6",children:l.jsx(Ks,{to:"/",className:"text-red-400 hover:text-red-300 transition-colors",children:l.jsx(Hl,{className:"w-6 h-6"})})}),l.jsx("div",{className:"flex-1 flex items-center justify-center px-6",children:l.jsx("div",{className:"w-full max-w-md",children:l.jsxs("div",{className:"bg-gray-900/80 backdrop-blur-sm border border-red-900/30 rounded-2xl p-8 shadow-2xl",children:[l.jsxs("div",{className:"text-center mb-8",children:[l.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"Join the Club"}),l.jsx("p",{className:"text-gray-400",children:"Create your loyalty account"})]}),l.jsxs("form",{onSubmit:x,className:"space-y-6",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(er,{htmlFor:"name",className:"text-white",children:"Full Name"}),l.jsx(qn,{id:"name",type:"text",value:t,onChange:y=>e(y.target.value),placeholder:"Enter your full name",className:"bg-gray-800/50 border-gray-700 text-white placeholder-gray-400 focus:border-red-500",required:!0})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(er,{htmlFor:"email",className:"text-white",children:"Email"}),l.jsx(qn,{id:"email",type:"email",value:n,onChange:y=>r(y.target.value),placeholder:"Enter your email",className:"bg-gray-800/50 border-gray-700 text-white placeholder-gray-400 focus:border-red-500",required:!0})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(er,{htmlFor:"password",className:"text-white",children:"Password"}),l.jsx(qn,{id:"password",type:"password",value:o,onChange:y=>a(y.target.value),placeholder:"Create a password",className:"bg-gray-800/50 border-gray-700 text-white placeholder-gray-400 focus:border-red-500",required:!0})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(er,{htmlFor:"feedback",className:"text-white",children:"Feedback (Optional)"}),l.jsx(jw,{id:"feedback",value:s,onChange:y=>i(y.target.value),placeholder:"Tell us about your experience...",className:"bg-gray-800/50 border-gray-700 text-white placeholder-gray-400 focus:border-red-500 min-h-[100px]"})]}),l.jsx(Ze,{type:"submit",className:"w-full py-3 bg-gradient-to-r from-red-600 to-red-700 hover:from-red-700 hover:to-red-800 text-white font-semibold",disabled:c,children:c?"Creating Account...":"Create Account"})]}),l.jsx("div",{className:"mt-6 text-center",children:l.jsxs("p",{className:"text-gray-400",children:["Already have an account?"," ",l.jsx(Ks,{to:"/login",className:"text-red-400 hover:text-red-300 transition-colors font-semibold",children:"Sign in"})]})})]})})})]})]})},bq=()=>{const[t,e]=g.useState(""),[n,r]=g.useState(""),[s,i]=g.useState(!1),{login:o,user:a,loading:c}=ms(),u=Qr(),h=Xs();g.useEffect(()=>{pt("page_view",{page:"Login"})},[]);const p=async f=>{var v,x;if(f.preventDefault(),!t.trim()||!n.trim()){lt({title:"Missing Information",description:"Please enter your email and password.",variant:"destructive"}),pt("login_missing_info");return}i(!0);try{pt("login_attempt",{email:t});const y=await o(t.trim(),n.trim());if(y){lt({title:"Welcome back!",description:`Good to see you again, ${y.name}!`}),pt("login_success",{user_id:y.id,user_role:y.role});const w=((x=(v=h.state)==null?void 0:v.from)==null?void 0:x.pathname)||"/dashboard";u(w,{replace:!0})}else lt({title:"User Not Found",description:"No account found with this email. Please register first.",variant:"destructive"}),pt("login_user_not_found",{email:t})}catch(y){let w="Please try again.";y&&typeof y=="object"&&"message"in y&&typeof y.message=="string"&&(w=y.message),lt({title:"Login Failed",description:w,variant:"destructive"}),pt("login_failed",{email:t,error:w})}finally{i(!1)}};return l.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-black via-gray-900 to-red-950 relative overflow-hidden",children:[l.jsxs("div",{className:"absolute inset-0 opacity-10",children:[l.jsx("div",{className:"absolute top-20 right-10 w-40 h-40 bg-red-500 rounded-full blur-3xl animate-pulse"}),l.jsx("div",{className:"absolute bottom-32 left-10 w-32 h-32 bg-red-600 rounded-full blur-3xl animate-pulse delay-1000"})]}),l.jsxs("div",{className:"relative z-10 min-h-screen flex flex-col",children:[l.jsx("div",{className:"p-6",children:l.jsx(Ks,{to:"/",className:"text-red-400 hover:text-red-300 transition-colors",children:l.jsx(Hl,{className:"w-6 h-6"})})}),l.jsx("div",{className:"flex-1 flex items-center justify-center px-6",children:l.jsx("div",{className:"w-full max-w-md",children:l.jsxs("div",{className:"bg-gray-900/80 backdrop-blur-sm border border-red-900/30 rounded-2xl p-8 shadow-2xl",children:[l.jsxs("div",{className:"text-center mb-8",children:[l.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"Welcome Back"}),l.jsx("p",{className:"text-gray-400",children:"Sign in to your loyalty account"})]}),l.jsxs("form",{onSubmit:p,className:"space-y-6",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(er,{htmlFor:"email",className:"text-white",children:"Email"}),l.jsx(qn,{id:"email",type:"email",value:t,onChange:f=>e(f.target.value),placeholder:"Enter your email",className:"bg-gray-800/50 border-gray-700 text-white placeholder-gray-400 focus:border-red-500",required:!0})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(er,{htmlFor:"password",className:"text-white",children:"Password"}),l.jsx(qn,{id:"password",type:"password",value:n,onChange:f=>r(f.target.value),placeholder:"Enter your password",className:"bg-gray-800/50 border-gray-700 text-white placeholder-gray-400 focus:border-red-500",required:!0})]}),l.jsx(Ze,{type:"submit",className:"w-full py-3 bg-gradient-to-r from-red-600 to-red-700 hover:from-red-700 hover:to-red-800 text-white font-semibold",disabled:s,children:s?"Signing In...":"Sign In"})]}),l.jsx("div",{className:"mt-6 text-center",children:l.jsxs("p",{className:"text-gray-400",children:["Don't have an account?"," ",l.jsx(Ks,{to:"/register",className:"text-red-400 hover:text-red-300 transition-colors font-semibold",children:"Sign up"})]})})]})})})]})]})};function Cq(){const{user:t,loading:e,addPurchase:n,logout:r,settings:s,allUsers:i,allUsersLoading:o}=ms(),[a,c]=g.useState([]),u=Qr(),[h,p]=g.useState(!1),f=g.useRef(null),[v,x]=g.useState(!1),[y,w]=g.useState(0),[T,E]=g.useState(null),[b,R]=g.useState("progress"),j=(t==null?void 0:t.purchaseLimit)||(s==null?void 0:s.purchaseLimit)||Y7;g.useEffect(()=>{!e&&!t&&u("/login")},[t,e,u]),g.useEffect(()=>{t&&(async()=>{try{const O=await fu();c(O)}catch(O){console.error("Error loading offers:",O)}})()},[t]),g.useEffect(()=>{t&&(E(new Date),f.current!==null&&f.current!==t.purchases&&t.purchases-f.current>0&&(lt({title:"Purchase Updated! 📱",description:`Your purchase count was updated via QR scan. New total: ${t.purchases}/${j}`}),x(!0),w(O=>O+1),setTimeout(()=>x(!1),2500),t.isRewardReady&&f.current<j&&setTimeout(()=>{lt({title:"Reward Unlocked! 🎉",description:"You've earned a reward! Check your rewards page."}),setTimeout(()=>u("/rewards"),1500)},1e3)),f.current===0&&t.purchases===1&&(p(!0),setTimeout(()=>p(!1),3e3)),f.current=t.purchases)},[t==null?void 0:t.purchases,t==null?void 0:t.isRewardReady,u,j]);const V=Math.max(0,j-((t==null?void 0:t.purchases)||0));return{user:t,loading:e,addPurchase:n,logout:r,settings:s,allUsers:i,allUsersLoading:o,offers:a,navigate:u,showFirstConfetti:h,showConfetti:v,confettiKey:y,lastUpdateTime:T,activeTab:b,setActiveTab:R,userPurchaseLimit:j,purchasesRemaining:V,handleAddPurchase:()=>{!t||t.purchases>=j||(n(),x(!0),w(k=>k+1),setTimeout(()=>x(!1),2500),t.purchases+1>=j?(lt({title:"Reward Unlocked! 🎉",description:"You've earned a reward! Check your rewards page."}),setTimeout(()=>u("/rewards"),1500)):lt({title:"Purchase Added!",description:`${j-1-t.purchases} more purchases until your next reward!`}))},handleLogout:()=>{r(),lt({title:"Logged Out",description:"Thanks for visiting Vape Master!"}),u("/")},handleOfferSelection:async k=>{try{console.log("Selecting offer:",k)}catch(O){console.error("Error selecting offer:",O)}}}}var xf={linear:function(t,e,n,r){var s=n-e;return s*t/r+e},easeInQuad:function(t,e,n,r){var s=n-e;return s*(t/=r)*t+e},easeOutQuad:function(t,e,n,r){var s=n-e;return-s*(t/=r)*(t-2)+e},easeInOutQuad:function(t,e,n,r){var s=n-e;return(t/=r/2)<1?s/2*t*t+e:-s/2*(--t*(t-2)-1)+e},easeInCubic:function(t,e,n,r){var s=n-e;return s*(t/=r)*t*t+e},easeOutCubic:function(t,e,n,r){var s=n-e;return s*((t=t/r-1)*t*t+1)+e},easeInOutCubic:function(t,e,n,r){var s=n-e;return(t/=r/2)<1?s/2*t*t*t+e:s/2*((t-=2)*t*t+2)+e},easeInQuart:function(t,e,n,r){var s=n-e;return s*(t/=r)*t*t*t+e},easeOutQuart:function(t,e,n,r){var s=n-e;return-s*((t=t/r-1)*t*t*t-1)+e},easeInOutQuart:function(t,e,n,r){var s=n-e;return(t/=r/2)<1?s/2*t*t*t*t+e:-s/2*((t-=2)*t*t*t-2)+e},easeInQuint:function(t,e,n,r){var s=n-e;return s*(t/=r)*t*t*t*t+e},easeOutQuint:function(t,e,n,r){var s=n-e;return s*((t=t/r-1)*t*t*t*t+1)+e},easeInOutQuint:function(t,e,n,r){var s=n-e;return(t/=r/2)<1?s/2*t*t*t*t*t+e:s/2*((t-=2)*t*t*t*t+2)+e},easeInSine:function(t,e,n,r){var s=n-e;return-s*Math.cos(t/r*(Math.PI/2))+s+e},easeOutSine:function(t,e,n,r){var s=n-e;return s*Math.sin(t/r*(Math.PI/2))+e},easeInOutSine:function(t,e,n,r){var s=n-e;return-s/2*(Math.cos(Math.PI*t/r)-1)+e},easeInExpo:function(t,e,n,r){var s=n-e;return t==0?e:s*Math.pow(2,10*(t/r-1))+e},easeOutExpo:function(t,e,n,r){var s=n-e;return t==r?e+s:s*(-Math.pow(2,-10*t/r)+1)+e},easeInOutExpo:function(t,e,n,r){var s=n-e;return t===0?e:t===r?e+s:(t/=r/2)<1?s/2*Math.pow(2,10*(t-1))+e:s/2*(-Math.pow(2,-10*--t)+2)+e},easeInCirc:function(t,e,n,r){var s=n-e;return-s*(Math.sqrt(1-(t/=r)*t)-1)+e},easeOutCirc:function(t,e,n,r){var s=n-e;return s*Math.sqrt(1-(t=t/r-1)*t)+e},easeInOutCirc:function(t,e,n,r){var s=n-e;return(t/=r/2)<1?-s/2*(Math.sqrt(1-t*t)-1)+e:s/2*(Math.sqrt(1-(t-=2)*t)+1)+e},easeInElastic:function(t,e,n,r){var s=n-e,i,o,a;return a=1.70158,o=0,i=s,t===0?e:(t/=r)===1?e+s:(o||(o=r*.3),i<Math.abs(s)?(i=s,a=o/4):a=o/(2*Math.PI)*Math.asin(s/i),-(i*Math.pow(2,10*(t-=1))*Math.sin((t*r-a)*(2*Math.PI)/o))+e)},easeOutElastic:function(t,e,n,r){var s=n-e,i,o,a;return a=1.70158,o=0,i=s,t===0?e:(t/=r)===1?e+s:(o||(o=r*.3),i<Math.abs(s)?(i=s,a=o/4):a=o/(2*Math.PI)*Math.asin(s/i),i*Math.pow(2,-10*t)*Math.sin((t*r-a)*(2*Math.PI)/o)+s+e)},easeInOutElastic:function(t,e,n,r){var s=n-e,i,o,a;return a=1.70158,o=0,i=s,t===0?e:(t/=r/2)===2?e+s:(o||(o=r*(.3*1.5)),i<Math.abs(s)?(i=s,a=o/4):a=o/(2*Math.PI)*Math.asin(s/i),t<1?-.5*(i*Math.pow(2,10*(t-=1))*Math.sin((t*r-a)*(2*Math.PI)/o))+e:i*Math.pow(2,-10*(t-=1))*Math.sin((t*r-a)*(2*Math.PI)/o)*.5+s+e)},easeInBack:function(t,e,n,r,s){var i=n-e;return s===void 0&&(s=1.70158),i*(t/=r)*t*((s+1)*t-s)+e},easeOutBack:function(t,e,n,r,s){var i=n-e;return s===void 0&&(s=1.70158),i*((t=t/r-1)*t*((s+1)*t+s)+1)+e},easeInOutBack:function(t,e,n,r,s){var i=n-e;return s===void 0&&(s=1.70158),(t/=r/2)<1?i/2*(t*t*(((s*=1.525)+1)*t-s))+e:i/2*((t-=2)*t*(((s*=1.525)+1)*t+s)+2)+e},easeInBounce:function(t,e,n,r){var s=n-e,i;return i=xf.easeOutBounce(r-t,0,s,r),s-i+e},easeOutBounce:function(t,e,n,r){var s=n-e;return(t/=r)<1/2.75?s*(7.5625*t*t)+e:t<2/2.75?s*(7.5625*(t-=1.5/2.75)*t+.75)+e:t<2.5/2.75?s*(7.5625*(t-=2.25/2.75)*t+.9375)+e:s*(7.5625*(t-=2.625/2.75)*t+.984375)+e},easeInOutBounce:function(t,e,n,r){var s=n-e,i;return t<r/2?(i=xf.easeInBounce(t*2,0,s,r),i*.5+e):(i=xf.easeOutBounce(t*2-r,0,s,r),i*.5+s*.5+e)}},_q=xf;function Tq(t){return t*Math.PI/180}function Kn(t,e){return t+Math.random()*(e-t)}function Aq(t,e){return Math.floor(t+Math.random()*(e-t+1))}var pu;(function(t){t[t.Circle=0]="Circle",t[t.Square=1]="Square",t[t.Strip=2]="Strip"})(pu||(pu={}));var vi;(function(t){t[t.Positive=1]="Positive",t[t.Negative=-1]="Negative"})(vi||(vi={}));const Sq=1e3/60;class Iq{constructor(e,n,r,s){this.getOptions=n;const{colors:i,initialVelocityX:o,initialVelocityY:a}=this.getOptions();this.context=e,this.x=r,this.y=s,this.w=Kn(5,20),this.h=Kn(5,20),this.radius=Kn(5,10),this.vx=typeof o=="number"?Kn(-o,o):Kn(o.min,o.max),this.vy=typeof a=="number"?Kn(-a,0):Kn(a.min,a.max),this.shape=Aq(0,2),this.angle=Tq(Kn(0,360)),this.angularSpin=Kn(-.2,.2),this.color=i[Math.floor(Math.random()*i.length)],this.rotateY=Kn(0,1),this.rotationDirection=Kn(0,1)?vi.Positive:vi.Negative}update(e){const{gravity:n,wind:r,friction:s,opacity:i,drawShape:o}=this.getOptions(),a=e/Sq;this.x+=this.vx*a,this.y+=this.vy*a,this.vy+=n*a,this.vx+=r*a,this.vx*=s**a,this.vy*=s**a,this.rotateY>=1&&this.rotationDirection===vi.Positive?this.rotationDirection=vi.Negative:this.rotateY<=-1&&this.rotationDirection===vi.Negative&&(this.rotationDirection=vi.Positive);const c=.1*this.rotationDirection*a;if(this.rotateY+=c,this.angle+=this.angularSpin,this.context.save(),this.context.translate(this.x,this.y),this.context.rotate(this.angle),this.context.scale(1,this.rotateY),this.context.rotate(this.angle),this.context.beginPath(),this.context.fillStyle=this.color,this.context.strokeStyle=this.color,this.context.globalAlpha=i,this.context.lineCap="round",this.context.lineWidth=2,o&&typeof o=="function")o.call(this,this.context);else switch(this.shape){case pu.Circle:{this.context.beginPath(),this.context.arc(0,0,this.radius,0,2*Math.PI),this.context.fill();break}case pu.Square:{this.context.fillRect(-this.w/2,-this.h/2,this.w,this.h);break}case pu.Strip:{this.context.fillRect(-this.w/6,-this.h/2,this.w/3,this.h);break}}this.context.closePath(),this.context.restore()}}class Rq{constructor(e,n){this.x=0,this.y=0,this.w=0,this.h=0,this.lastNumberOfPieces=0,this.tweenProgress=0,this.tweenFrom=0,this.particles=[],this.particlesGenerated=0,this.removeParticleAt=s=>{this.particles.splice(s,1)},this.getParticle=()=>{const s=Kn(this.x,this.w+this.x),i=Kn(this.y,this.h+this.y);return new Iq(this.context,this.getOptions,s,i)},this.animate=s=>{const{canvas:i,context:o,particlesGenerated:a,lastNumberOfPieces:c}=this,{run:u,recycle:h,numberOfPieces:p,debug:f,tweenFunction:v,tweenDuration:x}=this.getOptions();if(!u)return!1;const y=this.particles.length,w=h?y:a;if(w<p){c!==p&&(this.tweenProgress=0,this.tweenFrom=w,this.lastNumberOfPieces=p),this.tweenProgress=Math.min(x,Math.max(0,this.tweenProgress+s));const T=v(this.tweenProgress,this.tweenFrom,p,x),E=Math.round(T-w);for(let b=0;b<E;b++)this.particles.push(this.getParticle());this.particlesGenerated+=E}f&&(o.font="12px sans-serif",o.fillStyle="#333",o.textAlign="right",o.fillText(`Particles: ${y}`,i.width-10,i.height-20));for(let T=this.particles.length-1;T>=0;T--){const E=this.particles[T];E.update(s),(E.y>i.height||E.y<-100||E.x>i.width+100||E.x<-100)&&(h&&w<=p?this.particles[T]=this.getParticle():this.removeParticleAt(T))}return y>0||w<p},this.canvas=e;const r=this.canvas.getContext("2d");if(!r)throw new Error("Could not get canvas context");this.context=r,this.getOptions=n}}const Dw={width:typeof window<"u"?window.innerWidth:300,height:typeof window<"u"?window.innerHeight:200,numberOfPieces:200,friction:.99,wind:0,gravity:.1,initialVelocityX:4,initialVelocityY:10,colors:["#f44336","#e91e63","#9c27b0","#673ab7","#3f51b5","#2196f3","#03a9f4","#00bcd4","#009688","#4CAF50","#8BC34A","#CDDC39","#FFEB3B","#FFC107","#FF9800","#FF5722","#795548"],opacity:1,debug:!1,tweenFunction:_q.easeInOutQuad,tweenDuration:5e3,recycle:!0,run:!0};class Nq{constructor(e,n){this.lastFrameTime=0,this.setOptionsWithDefaults=s=>{const i={confettiSource:{x:0,y:0,w:this.canvas.width,h:0}};this._options={...i,...Dw,...s},Object.assign(this,s.confettiSource)},this.update=(s=0)=>{const{options:{run:i,onConfettiComplete:o,frameRate:a},canvas:c,context:u}=this,h=Math.min(s-this.lastFrameTime,50);if(a&&h<1e3/a){this.rafId=requestAnimationFrame(this.update);return}this.lastFrameTime=s-(a?h%a:0),i&&(u.fillStyle="white",u.clearRect(0,0,c.width,c.height)),this.generator.animate(h)?this.rafId=requestAnimationFrame(this.update):(o&&typeof o=="function"&&this.generator.particlesGenerated>0&&o.call(this,this),this._options.run=!1)},this.reset=()=>{this.generator&&this.generator.particlesGenerated>0&&(this.generator.particlesGenerated=0,this.generator.particles=[],this.generator.lastNumberOfPieces=0)},this.stop=()=>{this.options={run:!1},this.rafId&&(cancelAnimationFrame(this.rafId),this.rafId=void 0)},this.canvas=e;const r=this.canvas.getContext("2d");if(!r)throw new Error("Could not get canvas context");this.context=r,this.generator=new Rq(this.canvas,()=>this.options),this.options=n,this.update()}get options(){return this._options}set options(e){var s,i;const n=(s=this._options)==null?void 0:s.run,r=(i=this._options)==null?void 0:i.recycle;this.setOptionsWithDefaults(e),this.generator&&(Object.assign(this.generator,this.options.confettiSource),typeof e.recycle=="boolean"&&e.recycle&&r===!1&&(this.generator.lastNumberOfPieces=this.generator.particles.length)),typeof e.run=="boolean"&&e.run&&n===!1&&this.update()}}const Pq=Q.createRef();class Ow extends Q.Component{constructor(e){super(e),this.canvas=Q.createRef(),this.canvas=e.canvasRef||Pq}componentDidMount(){if(this.canvas.current){const e=Kg(this.props)[0];this.confetti=new Nq(this.canvas.current,e)}}componentDidUpdate(){const e=Kg(this.props)[0];this.confetti&&(this.confetti.options=e)}componentWillUnmount(){this.confetti&&this.confetti.stop(),this.confetti=void 0}render(){const[e,n]=Kg(this.props),r={zIndex:2,position:"absolute",pointerEvents:"none",top:0,left:0,bottom:0,right:0,...n.style};return l.jsx("canvas",{width:e.width,height:e.height,ref:this.canvas,...n,style:r})}}Ow.defaultProps={...Dw};Ow.displayName="ReactConfetti";function Kg(t){const e={},n={},r={},s=[...Object.keys(Dw),"confettiSource","drawShape","onConfettiComplete","frameRate"],i=["canvasRef"];for(const o in t){const a=t[o];s.includes(o)?e[o]=a:i.includes(o)?i[o]=a:r[o]=a}return[e,r,n]}const kN=Q.forwardRef((t,e)=>l.jsx(Ow,{canvasRef:e,...t})),kq=({title:t,onBack:e,actions:n})=>l.jsx("div",{className:"bg-gray-900/80 backdrop-blur-sm border-b border-red-900/30 sticky top-0 z-10",children:l.jsxs("div",{className:"p-6 flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center",children:[e&&l.jsx("button",{onClick:e,className:"text-red-400 hover:text-red-300 transition-colors",children:l.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),l.jsx("h1",{className:"ml-4 text-2xl font-bold text-white",children:t})]}),l.jsx("div",{className:"flex gap-2",children:n})]})}),Mq=({reward:t,isOpen:e,onClose:n})=>!e||!t?null:l.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:l.jsxs("div",{className:"bg-gray-900 border border-red-900/30 rounded-lg max-w-2xl w-full max-h-[80vh] overflow-hidden",children:[l.jsxs("div",{className:"p-6 border-b border-red-900/30",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("h3",{className:"text-xl font-bold text-white",children:"Reward Details"}),l.jsx("button",{onClick:n,className:"text-gray-400 hover:text-white transition-colors",children:l.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),l.jsxs("div",{className:"mt-2 text-sm text-gray-400",children:[l.jsxs("p",{children:["Reward ID: ",t.rewardId]}),t.claimedAt&&l.jsxs("p",{className:"text-green-600",children:["Claimed:"," ",t.claimedAt.toDate?new Date(t.claimedAt.toDate()).toLocaleString():""]})]})]}),l.jsx("div",{className:"p-6 overflow-y-auto max-h-[60vh]",children:t.scanHistory&&t.scanHistory.length>0?l.jsxs("div",{children:[l.jsxs("h4",{className:"text-lg font-semibold text-white mb-4",children:["Scan History (",t.scanHistory.length," scans)"]}),l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"min-w-full text-sm text-left text-gray-300",children:[l.jsx("thead",{children:l.jsxs("tr",{className:"border-b justify-between border-gray-700 md:table-row flex flex-col md:flex-row",children:[l.jsxs("th",{className:"px-4 py-3 font-semibold flex flex-col md:table-cell text-center md:text-left",children:[l.jsx("span",{className:"block md:hidden text-xs text-gray-400",children:"Scan #"}),l.jsx("span",{className:"hidden md:block",children:"Scan #"})]}),l.jsxs("th",{className:"px-4 py-3 font-semibold flex flex-col md:table-cell text-center md:text-left",children:[l.jsx("span",{className:"block md:hidden text-xs text-gray-400",children:"Scanned By"}),l.jsx("span",{className:"hidden md:block",children:"Scanned By"})]}),l.jsxs("th",{className:"px-4 py-3 font-semibold flex flex-col md:table-cell text-center md:text-left",children:[l.jsx("span",{className:"block md:hidden text-xs text-gray-400",children:"Date & Time"}),l.jsx("span",{className:"hidden md:block",children:"Date & Time"})]})]})}),l.jsx("tbody",{children:t.scanHistory.map((r,s)=>{var i,o;return l.jsxs("tr",{className:"border-b border-gray-800 hover:bg-gray-800/50 md:table-row flex flex-col md:flex-row justify-center text-center md:text-left",children:[l.jsxs("td",{className:"px-4 py-3 font-medium flex flex-col md:table-cell items-center md:items-start",children:[l.jsx("span",{className:"block text-xs text-gray-400 md:hidden",children:"Scan #"}),s+1]}),l.jsxs("td",{className:"px-4 py-3 flex flex-col md:table-cell items-center md:items-start",children:[l.jsx("span",{className:"block text-xs text-gray-400 md:hidden",children:"Scanned By"}),r.scannedBy]}),l.jsxs("td",{className:"px-4 py-3 flex flex-col md:table-cell items-center md:items-start",children:[l.jsx("span",{className:"block text-xs text-gray-400 md:hidden",children:"Date & Time"}),(i=r.timestamp)!=null&&i.toDate?new Date(r.timestamp.toDate()).toLocaleString():""]})]},((o=r.timestamp)==null?void 0:o.seconds)+r.scannedBy)})})]})})]}):l.jsx("div",{className:"text-center text-gray-400 py-8",children:l.jsx("p",{children:"No scan history available for this reward."})})}),l.jsx("div",{className:"p-6 border-t border-red-900/30",children:l.jsx("button",{onClick:n,className:"w-full bg-red-600 hover:bg-red-700 text-white font-semibold py-2 px-4 rounded-lg transition-colors",children:"Close"})})]})}),jq=({rewards:t,onRewardClick:e})=>!t||t.length===0?l.jsx("div",{className:"text-gray-400 text-sm",children:"No rewards claimed."}):l.jsxs("div",{className:"space-y-4 mt-2 mb-4",children:[l.jsx("h4",{className:"text-sm font-semibold text-white",children:"Claimed Rewards"}),t.slice().reverse().map((n,r)=>l.jsxs("div",{className:"border border-gray-700 rounded-lg p-3 cursor-pointer hover:bg-gray-800/50 transition-colors",onClick:()=>e(n),children:[l.jsxs("div",{className:"flex flex-wrap items-center justify-between mb-2",children:[l.jsxs("h5",{className:"text-sm font-medium text-white",children:["Reward #",t.length-r," - ",n.rewardId]}),l.jsxs("span",{className:"text-xs text-green-500 text-gray-400",children:["Claimed:"," ",n.claimedAt&&n.claimedAt.toDate?new Date(n.claimedAt.toDate()).toLocaleString():""]})]}),n.scanHistory&&n.scanHistory.length>0&&l.jsxs("div",{className:"mt-2",children:[l.jsxs("h6",{className:"text-xs font-medium text-gray-300 mb-1",children:["Scans for this reward: ",n.scanHistory.length," scans"]}),l.jsx("p",{className:"text-xs text-gray-400",children:"Click to view detailed scan history"})]})]},n.rewardId))]}),Dq=({allUsers:t})=>{const[e,n]=g.useState(null),[r,s]=g.useState(!1);return l.jsxs("div",{className:"bg-gradient-to-br from-gray-900/90 via-black/80 to-red-950/90 border border-red-900/40 rounded-none p-6 min-h-[460px] flex flex-col justify-start -mt-0 shadow-2xl",children:[l.jsx("h3",{className:"text-2xl font-bold text-white mb-4",children:"Rewards History"}),l.jsx("div",{className:"space-y-2",children:t.filter(i=>i.role==="customer").map(i=>{var o,a;return l.jsxs("div",{className:"bg-gray-800/60 rounded-lg p-4",children:[l.jsxs("div",{className:"flex flex-wrap items-center justify-between mb-2",children:[l.jsxs("span",{className:"font-semibold text-white",children:[i.name," (",i.email,")"]}),l.jsxs("span",{className:"text-xs text-gray-400",children:["Total Scans: ",((a=(o=i.currentReward)==null?void 0:o.scanHistory)==null?void 0:a.length)||0]})]}),l.jsx(jq,{rewards:i.rewards,onRewardClick:c=>{n(c),s(!0)}})]},i.id)})}),l.jsx(Mq,{reward:e,isOpen:r,onClose:()=>{s(!1),n(null)}})]})},Oq=({users:t,loading:e})=>{const n=s=>{switch(s){case"super_admin":return l.jsx(ny,{className:"w-4 h-4 text-yellow-500"});case"admin":return l.jsx(ZA,{className:"w-4 h-4 text-blue-500"});default:return l.jsx(na,{className:"w-4 h-4 text-gray-400"})}},r=s=>{switch(s){case"super_admin":return"text-yellow-400";case"admin":return"text-blue-400";default:return"text-gray-400"}};return e?l.jsxs("div",{className:"flex items-center justify-center py-8",children:[l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-red-500"}),l.jsx("span",{className:"ml-3 text-gray-400",children:"Loading users..."})]}):t.length===0?l.jsxs("div",{className:"text-center py-8",children:[l.jsx(na,{className:"w-12 h-12 text-gray-500 mx-auto mb-4"}),l.jsx("p",{className:"text-gray-400",children:"No users found"})]}):l.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:t.map(s=>{var a;const i=s.purchaseLimit||5,o=Math.min(100,s.purchases/i*100);return l.jsxs("div",{className:"bg-gray-800/60 backdrop-blur-sm border border-gray-700/50 rounded-lg p-4 hover:bg-gray-800/80 transition-all duration-200",children:[l.jsxs("div",{className:"flex items-center flex-wrap justify-between mb-3",children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsxs("div",{className:"flex items-center space-x-2",children:[n(s.role),l.jsx("span",{className:`text-sm font-medium ${r(s.role)}`,children:(s.role||"").replace("_"," ").toUpperCase()})]}),l.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"})]}),l.jsx("div",{className:"text-right",children:l.jsx("div",{className:"text-sm text-gray-400",children:s.lastScanAt?new Date(s.lastScanAt.toDate()).toLocaleDateString():"Never"})})]}),l.jsx("div",{className:"mb-3",children:l.jsxs("div",{className:"flex items-center flex-wrap justify-between mb-1",children:[l.jsx("span",{className:"font-semibold text-white",children:s.name}),l.jsx("span",{className:"text-sm text-gray-400",children:s.email})]})}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex items-center justify-between text-sm",children:[l.jsx("span",{className:"text-gray-400",children:"Progress:"}),l.jsxs("span",{className:"text-white font-medium",children:[s.purchases,"/",i]})]}),l.jsx("div",{className:"w-full bg-gray-700 rounded-full h-2",children:l.jsx("div",{className:`h-2 rounded-full transition-all duration-300 ${o>=100?"bg-green-500":"bg-red-500"}`,style:{width:`${o}%`}})}),l.jsxs("div",{className:"flex items-center flex-wrap justify-between text-xs text-gray-500",children:[l.jsxs("span",{children:[((a=s.rewards)==null?void 0:a.length)||0," rewards claimed"]}),l.jsx("span",{children:s.isRewardReady?"🎉 Ready!":`${i-s.purchases} to go`})]})]})]},s.id)})})},Lq=({activeTab:t,setActiveTab:e,userRole:n})=>l.jsx("div",{className:"w-full flex justify-center mt-6",children:l.jsx("div",{className:"flex w-full max-w-md",children:n==="customer"?l.jsxs(l.Fragment,{children:[l.jsx("button",{className:`w-1/3 px-4 py-5 font-semibold text-sm transition-all duration-200 focus:outline-none border-b-2 border-r-0 border-l-0 border-t-0 rounded-none ${t==="progress"?"bg-gray-900/80 border-red-500 text-red-400":"bg-gray-800/60 border-transparent text-gray-400 hover:text-red-300"}`,onClick:()=>e("progress"),children:"Progress"}),l.jsx("button",{className:`w-1/3 px-4 py-5 font-semibold text-sm transition-all duration-200 focus:outline-none border-b-2 border-r-0 border-l-0 border-t-0 rounded-none ${t==="offers"?"bg-gray-900/80 border-red-500 text-red-400":"bg-gray-800/60 border-transparent text-gray-400 hover:text-red-300"}`,onClick:()=>e("offers"),children:"Offers"}),l.jsx("button",{className:`w-1/3 px-4 py-5 font-semibold text-sm transition-all duration-200 focus:outline-none border-b-2 border-r-0 border-l-0 border-t-0 rounded-none ${t==="card"?"bg-gray-900/80 border-red-500 text-red-400":"bg-gray-800/60 border-transparent text-gray-400 hover:text-red-300"}`,onClick:()=>e("card"),children:"Rewards"})]}):l.jsxs(l.Fragment,{children:[l.jsx("button",{className:`w-1/2 px-6 py-5 font-semibold text-base transition-all duration-200 focus:outline-none border-b-2 border-r-0 border-l-0 border-t-0 rounded-none ${t==="progress"?"bg-gray-900/80 border-red-500 text-red-400":"bg-gray-800/60 border-transparent text-gray-400 hover:text-red-300"}`,onClick:()=>e("progress"),children:"Users"}),l.jsx("button",{className:`w-1/2 px-6 py-5 font-semibold text-base transition-all duration-200 focus:outline-none border-b-2 border-r-0 border-l-0 border-t-0 rounded-none ${t==="card"?"bg-gray-900/80 border-red-500 text-red-400":"bg-gray-800/60 border-transparent text-gray-400 hover:text-red-300"}`,onClick:()=>e("card"),children:"Loyalty Rewards"})]})})}),Fq=({value:t,max:e})=>{const n=Math.min(100,Math.max(0,t/e*100)),r=48,s=8,i=r-s/2,o=2*Math.PI*i,a=o-n/100*o;return l.jsx("div",{className:"flex flex-col items-center justify-center",children:l.jsxs("svg",{height:r*2,width:r*2,className:"transform -rotate-90",children:[l.jsx("circle",{stroke:"#374151",fill:"transparent",strokeWidth:s,strokeDasharray:o+" "+o,style:{strokeDashoffset:0},r:i,cx:r,cy:r}),l.jsx("circle",{stroke:"#ef4444",fill:"transparent",strokeWidth:s,strokeDasharray:o+" "+o,style:{strokeDashoffset:a},r:i,cx:r,cy:r})]})})},Vq=t=>{const[e,n]=g.useState({canScan:!0,nextScanTime:null,remainingTime:null,hoursRemaining:0,isComplete:!1});return g.useEffect(()=>{if(!t){n({canScan:!0,nextScanTime:null,remainingTime:null,hoursRemaining:0,isComplete:!1});return}const r=()=>{const i=t.toDate(),o=new Date,a=new Date(o);a.setHours(0,0,0,0);const c=new Date(a);c.setDate(c.getDate()+1);const u=new Date(i);if(u.setHours(0,0,0,0),u.getTime()===a.getTime()){const f=(c.getTime()-o.getTime())/(1e3*60*60),v=Math.floor(f),x=Math.floor((f-v)*60),y=Math.floor(((f-v)*60-x)*60),w=`${v}h ${x}m ${y}s`;n({canScan:!1,nextScanTime:c.toLocaleString(),remainingTime:w,hoursRemaining:Math.ceil(f),isComplete:!1})}else n({canScan:!0,nextScanTime:null,remainingTime:null,hoursRemaining:0,isComplete:!0})};r();const s=setInterval(r,1e3);return()=>clearInterval(s)},[t]),e},Bq=({user:t,userPurchaseLimit:e,settings:n,purchasesRemaining:r,onViewReward:s,currentOffer:i})=>{const{canScan:o,nextScanTime:a,remainingTime:c,hoursRemaining:u,isComplete:h}=Vq(t.lastScanAt),[p,f]=g.useState(t.purchases),[v,x]=g.useState(!1),[y,w]=g.useState(0);g.useEffect(()=>{const j=t.purchases;j>=50?w(5):j>=30?w(4):j>=20?w(3):j>=10?w(2):j>=5?w(1):w(0)},[t.purchases]),g.useEffect(()=>{const j=setTimeout(()=>{f(t.purchases)},500);return()=>clearTimeout(j)},[t.purchases]),g.useEffect(()=>{t.purchases>p&&(x(!0),setTimeout(()=>x(!1),2e3))},[t.purchases,p]);const T=j=>{switch(j){case 5:return"Master";case 4:return"Collector";case 3:return"Enthusiast";case 2:return"Beginner";case 1:return"Newbie";default:return"Rookie"}},E=()=>{const j=[5,10,20,30,50,100],V=t.purchases,I=j.find(S=>S>V)||100;return{next:I,remaining:I-V}},{next:b,remaining:R}=E();return l.jsxs("div",{className:"relative overflow-hidden bg-gradient-to-br from-gray-900/90 via-black/80 to-red-950/90 border border-red-900/40 rounded-none p-6 min-h-[460px] flex flex-col justify-center -mt-0 shadow-2xl",children:[l.jsxs("div",{className:"absolute inset-0 z-0 pointer-events-none",children:[l.jsx("div",{className:"absolute -top-20 -left-20 w-96 h-96 bg-gradient-to-br from-red-500/30 via-pink-500/20 to-purple-700/10 rounded-full blur-3xl animate-pulse",style:{animationDuration:"4s"}}),l.jsx("div",{className:"absolute bottom-0 right-0 w-80 h-80 bg-gradient-to-tr from-blue-500/20 via-cyan-400/10 to-purple-700/10 rounded-full blur-2xl animate-pulse delay-1000",style:{animationDuration:"6s"}}),l.jsx("div",{className:"absolute top-1/2 left-1/2 w-1/2 h-1/2 bg-gradient-radial from-red-400/10 via-transparent to-transparent rounded-full blur-2xl animate-pulse",style:{animationDuration:"7s"}})]}),v&&l.jsx("div",{className:"absolute inset-0 z-20 pointer-events-none",children:[...Array(20)].map((j,V)=>l.jsx("div",{className:"absolute animate-ping",style:{left:`${Math.random()*100}%`,top:`${Math.random()*100}%`,animationDelay:`${Math.random()*1e3}ms`},children:l.jsx(yO,{className:"w-4 h-4 text-yellow-400"})},V))}),l.jsxs("div",{className:"relative z-10 flex flex-col items-center justify-center h-full",children:[l.jsx("div",{className:"mb-4 text-center",children:l.jsxs("div",{className:"inline-flex items-center px-4 py-2 bg-gradient-to-r from-yellow-600/20 to-orange-600/20 border border-yellow-500/30 rounded-full",children:[l.jsx(xO,{className:"w-5 h-5 text-yellow-400 mr-2"}),l.jsx("span",{className:"text-yellow-300 font-semibold text-sm",children:T(y)})]})}),l.jsx("h3",{className:"text-3xl font-extrabold text-white mb-4 tracking-tight drop-shadow-[0_0_16px_#ef4444cc] animate-fadeIn",children:"Your Stamp Journey"}),l.jsxs("div",{className:"text-center mb-6",children:[l.jsxs("div",{className:"flex items-center justify-center mb-2",children:[l.jsx("div",{className:"text-6xl font-black text-white drop-shadow-[0_2px_8px_#000a] animate-bounce",children:p}),l.jsx("div",{className:"ml-3",children:l.jsx("div",{className:"text-2xl font-bold text-yellow-400 animate-pulse",children:"🏆"})})]}),l.jsx("div",{className:"text-xl text-gray-300 font-semibold",children:"Total Life Stamps Collected"})]}),l.jsx("div",{className:"relative mb-6",children:l.jsxs("div",{className:"relative flex items-center justify-center",children:[l.jsx("div",{className:"absolute w-40 h-40 rounded-full bg-gradient-to-tr from-red-500/40 via-pink-400/20 to-purple-700/10 blur-2xl animate-pulse",style:{animationDuration:"3s"}}),l.jsx(Fq,{value:t.purchases,max:e}),l.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-3xl font-black text-white drop-shadow-[0_2px_8px_#000a]",children:t.purchases}),l.jsxs("div",{className:"text-sm text-gray-300 font-medium",children:["of ",e]})]})})]})}),l.jsx("div",{className:"mb-6 text-center",children:l.jsxs("div",{className:"bg-gradient-to-r from-purple-900/30 to-blue-900/30 border border-purple-700/50 rounded-lg p-4",children:[l.jsxs("div",{className:"flex items-center justify-center mb-2",children:[l.jsx(tS,{className:"w-5 h-5 text-purple-400 mr-2"}),l.jsx("span",{className:"text-purple-300 font-semibold",children:"Next Milestone"})]}),l.jsxs("div",{className:"text-2xl font-bold text-white mb-1",children:[b," Stamps"]}),l.jsxs("div",{className:"text-sm text-gray-300",children:[R," more to go!"]}),l.jsx("div",{className:"w-full bg-gray-600 rounded-full h-2 mt-2",children:l.jsx("div",{className:"bg-gradient-to-r from-purple-500 to-blue-500 h-2 rounded-full transition-all duration-500",style:{width:`${Math.min(t.purchases/b*100,100)}%`}})})]})}),i&&l.jsx("div",{className:"mb-6 w-full",children:l.jsxs("div",{className:"bg-gradient-to-r from-blue-900/30 to-indigo-900/30 border border-blue-700/50 rounded-lg p-4",children:[l.jsxs("div",{className:"flex items-center justify-center mb-3",children:[l.jsx(Jp,{className:"w-5 h-5 text-blue-400 mr-2"}),l.jsxs("h4",{className:"text-lg font-semibold text-white",children:["Current Mission: ",i.name]})]}),l.jsxs("div",{className:"flex justify-between items-center text-sm mb-2",children:[l.jsx("span",{className:"text-gray-300",children:"Progress:"}),l.jsxs("span",{className:"text-white font-medium",children:[t.currentOfferProgress||0," /"," ",i.stampRequirement," stamps"]})]}),l.jsx("div",{className:"w-full bg-gray-600 rounded-full h-3 mb-3",children:l.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-blue-400 h-3 rounded-full transition-all duration-500",style:{width:`${Math.min((t.currentOfferProgress||0)/i.stampRequirement*100,100)}%`}})}),l.jsxs("div",{className:"text-center",children:[l.jsx("p",{className:"text-gray-300 text-sm mb-2",children:i.rewardDescription}),l.jsxs("div",{className:"flex items-center justify-center",children:[l.jsx(aO,{className:"w-4 h-4 text-yellow-400 mr-1"}),l.jsxs("span",{className:"text-yellow-300 text-xs font-medium",children:["Reward Ready at ",i.stampRequirement," stamps!"]})]})]})]})}),l.jsxs("div",{className:"text-center space-y-3",children:[o?l.jsx("div",{className:"p-3 bg-gradient-to-r from-green-900/30 to-emerald-900/30 border border-green-700/50 rounded-lg animate-pulse",children:l.jsxs("div",{className:"flex items-center justify-center",children:[l.jsx(wO,{className:"w-5 h-5 text-green-400 mr-2"}),l.jsx("div",{className:"text-green-400 text-sm font-medium",children:h?"🎉 Ready for next scan!":"✅ Ready for next scan!"})]})}):l.jsx("div",{className:"p-3 bg-gradient-to-r from-orange-900/30 to-yellow-900/30 border border-orange-700/50 rounded-lg",children:l.jsx("div",{className:"flex items-center justify-center",children:l.jsx("div",{className:"text-orange-400 text-sm font-medium",children:"⏰ Cooldown active - wait for next scan"})})}),l.jsx("div",{className:"p-3 bg-gradient-to-r from-red-900/20 to-pink-900/20 border border-red-700/30 rounded-lg",children:l.jsx("p",{className:"text-gray-300 text-sm",children:t.purchases>=e?"🎉 You've earned a reward! Check your rewards page.":`Keep collecting! ${r} more stamp${r===1?"":"s"} to unlock your next reward.`})}),t.isRewardReady&&s&&l.jsx(Ze,{onClick:s,className:"bg-gradient-to-r from-red-600 to-red-700 hover:from-red-700 hover:to-red-800 text-white font-semibold px-8 py-3 rounded-lg shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-105 animate-bounce",children:"View Reward 🎉"})]}),l.jsx("div",{className:"flex justify-center mt-4 space-x-1",children:[...Array(5)].map((j,V)=>l.jsx(Hp,{className:`w-6 h-6 ${V<y?"text-yellow-400 fill-current animate-pulse":"text-gray-600"}`},V))})]})]})};var Uq=Object.defineProperty,Ap=Object.getOwnPropertySymbols,MN=Object.prototype.hasOwnProperty,jN=Object.prototype.propertyIsEnumerable,SC=(t,e,n)=>e in t?Uq(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,qy=(t,e)=>{for(var n in e||(e={}))MN.call(e,n)&&SC(t,n,e[n]);if(Ap)for(var n of Ap(e))jN.call(e,n)&&SC(t,n,e[n]);return t},Gy=(t,e)=>{var n={};for(var r in t)MN.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&Ap)for(var r of Ap(t))e.indexOf(r)<0&&jN.call(t,r)&&(n[r]=t[r]);return n};/**
 * @license QR Code generator library (TypeScript)
 * Copyright (c) Project Nayuki.
 * SPDX-License-Identifier: MIT
 */var ua;(t=>{const e=class Ve{constructor(c,u,h,p){if(this.version=c,this.errorCorrectionLevel=u,this.modules=[],this.isFunction=[],c<Ve.MIN_VERSION||c>Ve.MAX_VERSION)throw new RangeError("Version value out of range");if(p<-1||p>7)throw new RangeError("Mask value out of range");this.size=c*4+17;let f=[];for(let x=0;x<this.size;x++)f.push(!1);for(let x=0;x<this.size;x++)this.modules.push(f.slice()),this.isFunction.push(f.slice());this.drawFunctionPatterns();const v=this.addEccAndInterleave(h);if(this.drawCodewords(v),p==-1){let x=1e9;for(let y=0;y<8;y++){this.applyMask(y),this.drawFormatBits(y);const w=this.getPenaltyScore();w<x&&(p=y,x=w),this.applyMask(y)}}s(0<=p&&p<=7),this.mask=p,this.applyMask(p),this.drawFormatBits(p),this.isFunction=[]}static encodeText(c,u){const h=t.QrSegment.makeSegments(c);return Ve.encodeSegments(h,u)}static encodeBinary(c,u){const h=t.QrSegment.makeBytes(c);return Ve.encodeSegments([h],u)}static encodeSegments(c,u,h=1,p=40,f=-1,v=!0){if(!(Ve.MIN_VERSION<=h&&h<=p&&p<=Ve.MAX_VERSION)||f<-1||f>7)throw new RangeError("Invalid value");let x,y;for(x=h;;x++){const b=Ve.getNumDataCodewords(x,u)*8,R=o.getTotalBits(c,x);if(R<=b){y=R;break}if(x>=p)throw new RangeError("Data too long")}for(const b of[Ve.Ecc.MEDIUM,Ve.Ecc.QUARTILE,Ve.Ecc.HIGH])v&&y<=Ve.getNumDataCodewords(x,b)*8&&(u=b);let w=[];for(const b of c){n(b.mode.modeBits,4,w),n(b.numChars,b.mode.numCharCountBits(x),w);for(const R of b.getData())w.push(R)}s(w.length==y);const T=Ve.getNumDataCodewords(x,u)*8;s(w.length<=T),n(0,Math.min(4,T-w.length),w),n(0,(8-w.length%8)%8,w),s(w.length%8==0);for(let b=236;w.length<T;b^=253)n(b,8,w);let E=[];for(;E.length*8<w.length;)E.push(0);return w.forEach((b,R)=>E[R>>>3]|=b<<7-(R&7)),new Ve(x,u,E,f)}getModule(c,u){return 0<=c&&c<this.size&&0<=u&&u<this.size&&this.modules[u][c]}getModules(){return this.modules}drawFunctionPatterns(){for(let h=0;h<this.size;h++)this.setFunctionModule(6,h,h%2==0),this.setFunctionModule(h,6,h%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const c=this.getAlignmentPatternPositions(),u=c.length;for(let h=0;h<u;h++)for(let p=0;p<u;p++)h==0&&p==0||h==0&&p==u-1||h==u-1&&p==0||this.drawAlignmentPattern(c[h],c[p]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(c){const u=this.errorCorrectionLevel.formatBits<<3|c;let h=u;for(let f=0;f<10;f++)h=h<<1^(h>>>9)*1335;const p=(u<<10|h)^21522;s(p>>>15==0);for(let f=0;f<=5;f++)this.setFunctionModule(8,f,r(p,f));this.setFunctionModule(8,7,r(p,6)),this.setFunctionModule(8,8,r(p,7)),this.setFunctionModule(7,8,r(p,8));for(let f=9;f<15;f++)this.setFunctionModule(14-f,8,r(p,f));for(let f=0;f<8;f++)this.setFunctionModule(this.size-1-f,8,r(p,f));for(let f=8;f<15;f++)this.setFunctionModule(8,this.size-15+f,r(p,f));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let c=this.version;for(let h=0;h<12;h++)c=c<<1^(c>>>11)*7973;const u=this.version<<12|c;s(u>>>18==0);for(let h=0;h<18;h++){const p=r(u,h),f=this.size-11+h%3,v=Math.floor(h/3);this.setFunctionModule(f,v,p),this.setFunctionModule(v,f,p)}}drawFinderPattern(c,u){for(let h=-4;h<=4;h++)for(let p=-4;p<=4;p++){const f=Math.max(Math.abs(p),Math.abs(h)),v=c+p,x=u+h;0<=v&&v<this.size&&0<=x&&x<this.size&&this.setFunctionModule(v,x,f!=2&&f!=4)}}drawAlignmentPattern(c,u){for(let h=-2;h<=2;h++)for(let p=-2;p<=2;p++)this.setFunctionModule(c+p,u+h,Math.max(Math.abs(p),Math.abs(h))!=1)}setFunctionModule(c,u,h){this.modules[u][c]=h,this.isFunction[u][c]=!0}addEccAndInterleave(c){const u=this.version,h=this.errorCorrectionLevel;if(c.length!=Ve.getNumDataCodewords(u,h))throw new RangeError("Invalid argument");const p=Ve.NUM_ERROR_CORRECTION_BLOCKS[h.ordinal][u],f=Ve.ECC_CODEWORDS_PER_BLOCK[h.ordinal][u],v=Math.floor(Ve.getNumRawDataModules(u)/8),x=p-v%p,y=Math.floor(v/p);let w=[];const T=Ve.reedSolomonComputeDivisor(f);for(let b=0,R=0;b<p;b++){let j=c.slice(R,R+y-f+(b<x?0:1));R+=j.length;const V=Ve.reedSolomonComputeRemainder(j,T);b<x&&j.push(0),w.push(j.concat(V))}let E=[];for(let b=0;b<w[0].length;b++)w.forEach((R,j)=>{(b!=y-f||j>=x)&&E.push(R[b])});return s(E.length==v),E}drawCodewords(c){if(c.length!=Math.floor(Ve.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let u=0;for(let h=this.size-1;h>=1;h-=2){h==6&&(h=5);for(let p=0;p<this.size;p++)for(let f=0;f<2;f++){const v=h-f,y=(h+1&2)==0?this.size-1-p:p;!this.isFunction[y][v]&&u<c.length*8&&(this.modules[y][v]=r(c[u>>>3],7-(u&7)),u++)}}s(u==c.length*8)}applyMask(c){if(c<0||c>7)throw new RangeError("Mask value out of range");for(let u=0;u<this.size;u++)for(let h=0;h<this.size;h++){let p;switch(c){case 0:p=(h+u)%2==0;break;case 1:p=u%2==0;break;case 2:p=h%3==0;break;case 3:p=(h+u)%3==0;break;case 4:p=(Math.floor(h/3)+Math.floor(u/2))%2==0;break;case 5:p=h*u%2+h*u%3==0;break;case 6:p=(h*u%2+h*u%3)%2==0;break;case 7:p=((h+u)%2+h*u%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[u][h]&&p&&(this.modules[u][h]=!this.modules[u][h])}}getPenaltyScore(){let c=0;for(let f=0;f<this.size;f++){let v=!1,x=0,y=[0,0,0,0,0,0,0];for(let w=0;w<this.size;w++)this.modules[f][w]==v?(x++,x==5?c+=Ve.PENALTY_N1:x>5&&c++):(this.finderPenaltyAddHistory(x,y),v||(c+=this.finderPenaltyCountPatterns(y)*Ve.PENALTY_N3),v=this.modules[f][w],x=1);c+=this.finderPenaltyTerminateAndCount(v,x,y)*Ve.PENALTY_N3}for(let f=0;f<this.size;f++){let v=!1,x=0,y=[0,0,0,0,0,0,0];for(let w=0;w<this.size;w++)this.modules[w][f]==v?(x++,x==5?c+=Ve.PENALTY_N1:x>5&&c++):(this.finderPenaltyAddHistory(x,y),v||(c+=this.finderPenaltyCountPatterns(y)*Ve.PENALTY_N3),v=this.modules[w][f],x=1);c+=this.finderPenaltyTerminateAndCount(v,x,y)*Ve.PENALTY_N3}for(let f=0;f<this.size-1;f++)for(let v=0;v<this.size-1;v++){const x=this.modules[f][v];x==this.modules[f][v+1]&&x==this.modules[f+1][v]&&x==this.modules[f+1][v+1]&&(c+=Ve.PENALTY_N2)}let u=0;for(const f of this.modules)u=f.reduce((v,x)=>v+(x?1:0),u);const h=this.size*this.size,p=Math.ceil(Math.abs(u*20-h*10)/h)-1;return s(0<=p&&p<=9),c+=p*Ve.PENALTY_N4,s(0<=c&&c<=2568888),c}getAlignmentPatternPositions(){if(this.version==1)return[];{const c=Math.floor(this.version/7)+2,u=this.version==32?26:Math.ceil((this.version*4+4)/(c*2-2))*2;let h=[6];for(let p=this.size-7;h.length<c;p-=u)h.splice(1,0,p);return h}}static getNumRawDataModules(c){if(c<Ve.MIN_VERSION||c>Ve.MAX_VERSION)throw new RangeError("Version number out of range");let u=(16*c+128)*c+64;if(c>=2){const h=Math.floor(c/7)+2;u-=(25*h-10)*h-55,c>=7&&(u-=36)}return s(208<=u&&u<=29648),u}static getNumDataCodewords(c,u){return Math.floor(Ve.getNumRawDataModules(c)/8)-Ve.ECC_CODEWORDS_PER_BLOCK[u.ordinal][c]*Ve.NUM_ERROR_CORRECTION_BLOCKS[u.ordinal][c]}static reedSolomonComputeDivisor(c){if(c<1||c>255)throw new RangeError("Degree out of range");let u=[];for(let p=0;p<c-1;p++)u.push(0);u.push(1);let h=1;for(let p=0;p<c;p++){for(let f=0;f<u.length;f++)u[f]=Ve.reedSolomonMultiply(u[f],h),f+1<u.length&&(u[f]^=u[f+1]);h=Ve.reedSolomonMultiply(h,2)}return u}static reedSolomonComputeRemainder(c,u){let h=u.map(p=>0);for(const p of c){const f=p^h.shift();h.push(0),u.forEach((v,x)=>h[x]^=Ve.reedSolomonMultiply(v,f))}return h}static reedSolomonMultiply(c,u){if(c>>>8||u>>>8)throw new RangeError("Byte out of range");let h=0;for(let p=7;p>=0;p--)h=h<<1^(h>>>7)*285,h^=(u>>>p&1)*c;return s(h>>>8==0),h}finderPenaltyCountPatterns(c){const u=c[1];s(u<=this.size*3);const h=u>0&&c[2]==u&&c[3]==u*3&&c[4]==u&&c[5]==u;return(h&&c[0]>=u*4&&c[6]>=u?1:0)+(h&&c[6]>=u*4&&c[0]>=u?1:0)}finderPenaltyTerminateAndCount(c,u,h){return c&&(this.finderPenaltyAddHistory(u,h),u=0),u+=this.size,this.finderPenaltyAddHistory(u,h),this.finderPenaltyCountPatterns(h)}finderPenaltyAddHistory(c,u){u[0]==0&&(c+=this.size),u.pop(),u.unshift(c)}};e.MIN_VERSION=1,e.MAX_VERSION=40,e.PENALTY_N1=3,e.PENALTY_N2=3,e.PENALTY_N3=40,e.PENALTY_N4=10,e.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],e.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],t.QrCode=e;function n(a,c,u){if(c<0||c>31||a>>>c)throw new RangeError("Value out of range");for(let h=c-1;h>=0;h--)u.push(a>>>h&1)}function r(a,c){return(a>>>c&1)!=0}function s(a){if(!a)throw new Error("Assertion error")}const i=class St{constructor(c,u,h){if(this.mode=c,this.numChars=u,this.bitData=h,u<0)throw new RangeError("Invalid argument");this.bitData=h.slice()}static makeBytes(c){let u=[];for(const h of c)n(h,8,u);return new St(St.Mode.BYTE,c.length,u)}static makeNumeric(c){if(!St.isNumeric(c))throw new RangeError("String contains non-numeric characters");let u=[];for(let h=0;h<c.length;){const p=Math.min(c.length-h,3);n(parseInt(c.substring(h,h+p),10),p*3+1,u),h+=p}return new St(St.Mode.NUMERIC,c.length,u)}static makeAlphanumeric(c){if(!St.isAlphanumeric(c))throw new RangeError("String contains unencodable characters in alphanumeric mode");let u=[],h;for(h=0;h+2<=c.length;h+=2){let p=St.ALPHANUMERIC_CHARSET.indexOf(c.charAt(h))*45;p+=St.ALPHANUMERIC_CHARSET.indexOf(c.charAt(h+1)),n(p,11,u)}return h<c.length&&n(St.ALPHANUMERIC_CHARSET.indexOf(c.charAt(h)),6,u),new St(St.Mode.ALPHANUMERIC,c.length,u)}static makeSegments(c){return c==""?[]:St.isNumeric(c)?[St.makeNumeric(c)]:St.isAlphanumeric(c)?[St.makeAlphanumeric(c)]:[St.makeBytes(St.toUtf8ByteArray(c))]}static makeEci(c){let u=[];if(c<0)throw new RangeError("ECI assignment value out of range");if(c<128)n(c,8,u);else if(c<16384)n(2,2,u),n(c,14,u);else if(c<1e6)n(6,3,u),n(c,21,u);else throw new RangeError("ECI assignment value out of range");return new St(St.Mode.ECI,0,u)}static isNumeric(c){return St.NUMERIC_REGEX.test(c)}static isAlphanumeric(c){return St.ALPHANUMERIC_REGEX.test(c)}getData(){return this.bitData.slice()}static getTotalBits(c,u){let h=0;for(const p of c){const f=p.mode.numCharCountBits(u);if(p.numChars>=1<<f)return 1/0;h+=4+f+p.bitData.length}return h}static toUtf8ByteArray(c){c=encodeURI(c);let u=[];for(let h=0;h<c.length;h++)c.charAt(h)!="%"?u.push(c.charCodeAt(h)):(u.push(parseInt(c.substring(h+1,h+3),16)),h+=2);return u}};i.NUMERIC_REGEX=/^[0-9]*$/,i.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,i.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:";let o=i;t.QrSegment=i})(ua||(ua={}));(t=>{(e=>{const n=class{constructor(s,i){this.ordinal=s,this.formatBits=i}};n.LOW=new n(0,1),n.MEDIUM=new n(1,0),n.QUARTILE=new n(2,3),n.HIGH=new n(3,2),e.Ecc=n})(t.QrCode||(t.QrCode={}))})(ua||(ua={}));(t=>{(e=>{const n=class{constructor(s,i){this.modeBits=s,this.numBitsCharCount=i}numCharCountBits(s){return this.numBitsCharCount[Math.floor((s+7)/17)]}};n.NUMERIC=new n(1,[10,12,14]),n.ALPHANUMERIC=new n(2,[9,11,13]),n.BYTE=new n(4,[8,16,16]),n.KANJI=new n(8,[8,10,12]),n.ECI=new n(7,[0,0,0]),e.Mode=n})(t.QrSegment||(t.QrSegment={}))})(ua||(ua={}));var ol=ua;/**
 * @license qrcode.react
 * Copyright (c) Paul O'Shannessy
 * SPDX-License-Identifier: ISC
 */var qq={L:ol.QrCode.Ecc.LOW,M:ol.QrCode.Ecc.MEDIUM,Q:ol.QrCode.Ecc.QUARTILE,H:ol.QrCode.Ecc.HIGH},DN=128,ON="L",LN="#FFFFFF",FN="#000000",VN=!1,BN=1,Gq=4,$q=0,zq=.1;function UN(t,e=0){const n=[];return t.forEach(function(r,s){let i=null;r.forEach(function(o,a){if(!o&&i!==null){n.push(`M${i+e} ${s+e}h${a-i}v1H${i+e}z`),i=null;return}if(a===r.length-1){if(!o)return;i===null?n.push(`M${a+e},${s+e} h1v1H${a+e}z`):n.push(`M${i+e},${s+e} h${a+1-i}v1H${i+e}z`);return}o&&i===null&&(i=a)})}),n.join("")}function qN(t,e){return t.slice().map((n,r)=>r<e.y||r>=e.y+e.h?n:n.map((s,i)=>i<e.x||i>=e.x+e.w?s:!1))}function Wq(t,e,n,r){if(r==null)return null;const s=t.length+n*2,i=Math.floor(e*zq),o=s/e,a=(r.width||i)*o,c=(r.height||i)*o,u=r.x==null?t.length/2-a/2:r.x*o,h=r.y==null?t.length/2-c/2:r.y*o,p=r.opacity==null?1:r.opacity;let f=null;if(r.excavate){let x=Math.floor(u),y=Math.floor(h),w=Math.ceil(a+u-x),T=Math.ceil(c+h-y);f={x,y,w,h:T}}const v=r.crossOrigin;return{x:u,y:h,h:c,w:a,excavation:f,opacity:p,crossOrigin:v}}function Qq(t,e){return e!=null?Math.max(Math.floor(e),0):t?Gq:$q}function GN({value:t,level:e,minVersion:n,includeMargin:r,marginSize:s,imageSettings:i,size:o,boostLevel:a}){let c=Q.useMemo(()=>{const x=(Array.isArray(t)?t:[t]).reduce((y,w)=>(y.push(...ol.QrSegment.makeSegments(w)),y),[]);return ol.QrCode.encodeSegments(x,qq[e],n,void 0,void 0,a)},[t,e,n,a]);const{cells:u,margin:h,numCells:p,calculatedImageSettings:f}=Q.useMemo(()=>{let v=c.getModules();const x=Qq(r,s),y=v.length+x*2,w=Wq(v,o,x,i);return{cells:v,margin:x,numCells:y,calculatedImageSettings:w}},[c,o,i,r,s]);return{qrcode:c,margin:h,cells:u,numCells:p,calculatedImageSettings:f}}var Yq=function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0}(),Kq=Q.forwardRef(function(e,n){const r=e,{value:s,size:i=DN,level:o=ON,bgColor:a=LN,fgColor:c=FN,includeMargin:u=VN,minVersion:h=BN,boostLevel:p,marginSize:f,imageSettings:v}=r,y=Gy(r,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","marginSize","imageSettings"]),{style:w}=y,T=Gy(y,["style"]),E=v==null?void 0:v.src,b=Q.useRef(null),R=Q.useRef(null),j=Q.useCallback(X=>{b.current=X,typeof n=="function"?n(X):n&&(n.current=X)},[n]),[V,I]=Q.useState(!1),{margin:S,cells:P,numCells:k,calculatedImageSettings:O}=GN({value:s,level:o,minVersion:h,boostLevel:p,includeMargin:u,marginSize:f,imageSettings:v,size:i});Q.useEffect(()=>{if(b.current!=null){const X=b.current,re=X.getContext("2d");if(!re)return;let se=P;const ue=R.current,q=O!=null&&ue!==null&&ue.complete&&ue.naturalHeight!==0&&ue.naturalWidth!==0;q&&O.excavation!=null&&(se=qN(P,O.excavation));const z=window.devicePixelRatio||1;X.height=X.width=i*z;const Z=i/k*z;re.scale(Z,Z),re.fillStyle=a,re.fillRect(0,0,k,k),re.fillStyle=c,Yq?re.fill(new Path2D(UN(se,S))):P.forEach(function(te,ae){te.forEach(function(le,Se){le&&re.fillRect(Se+S,ae+S,1,1)})}),O&&(re.globalAlpha=O.opacity),q&&re.drawImage(ue,O.x+S,O.y+S,O.w,O.h)}}),Q.useEffect(()=>{I(!1)},[E]);const L=qy({height:i,width:i},w);let D=null;return E!=null&&(D=Q.createElement("img",{src:E,key:E,style:{display:"none"},onLoad:()=>{I(!0)},ref:R,crossOrigin:O==null?void 0:O.crossOrigin})),Q.createElement(Q.Fragment,null,Q.createElement("canvas",qy({style:L,height:i,width:i,ref:j,role:"img"},T)),D)});Kq.displayName="QRCodeCanvas";var $N=Q.forwardRef(function(e,n){const r=e,{value:s,size:i=DN,level:o=ON,bgColor:a=LN,fgColor:c=FN,includeMargin:u=VN,minVersion:h=BN,boostLevel:p,title:f,marginSize:v,imageSettings:x}=r,y=Gy(r,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","title","marginSize","imageSettings"]),{margin:w,cells:T,numCells:E,calculatedImageSettings:b}=GN({value:s,level:o,minVersion:h,boostLevel:p,includeMargin:u,marginSize:v,imageSettings:x,size:i});let R=T,j=null;x!=null&&b!=null&&(b.excavation!=null&&(R=qN(T,b.excavation)),j=Q.createElement("image",{href:x.src,height:b.h,width:b.w,x:b.x+w,y:b.y+w,preserveAspectRatio:"none",opacity:b.opacity,crossOrigin:b.crossOrigin}));const V=UN(R,w);return Q.createElement("svg",qy({height:i,width:i,viewBox:`0 0 ${E} ${E}`,ref:n,role:"img"},y),!!f&&Q.createElement("title",null,f),Q.createElement("path",{fill:a,d:`M0,0 h${E}v${E}H0z`,shapeRendering:"crispEdges"}),Q.createElement("path",{fill:c,d:V,shapeRendering:"crispEdges"}),j)});$N.displayName="QRCodeSVG";const zN=({qrData:t,isOpen:e,onClose:n})=>{if(!e)return null;const r=JSON.stringify(t);return l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:l.jsxs("div",{className:"bg-gray-800 border border-gray-700 rounded-xl max-w-sm w-full",children:[l.jsxs("div",{className:"p-4 border-b border-gray-700 flex items-center",children:[l.jsx("h3",{className:"text-lg font-semibold text-white flex-1 text-center truncate",children:t.offerName}),l.jsx("button",{onClick:n,className:"text-gray-400 hover:text-white transition-colors ml-4",children:l.jsx(Mu,{className:"w-5 h-5"})})]}),l.jsx("div",{className:"p-6 flex justify-center",children:l.jsx("div",{className:"p-4 bg-white rounded-lg",children:l.jsx($N,{value:r,size:200,level:"M",includeMargin:!0})})})]})})},Hq=({user:t,offers:e})=>{var h,p;const[n,r]=g.useState(!1),[s,i]=g.useState(null),o=t.completedRewards||[],a=o.filter(f=>{var y,w;const v=((y=f.scanHistory)==null?void 0:y.length)||0,x=((w=f.offerSnapshot)==null?void 0:w.stampRequirement)||0;return v<x}),c=o.filter(f=>{var y,w;const v=((y=f.scanHistory)==null?void 0:y.length)||0,x=((w=f.offerSnapshot)==null?void 0:w.stampRequirement)||0;return v>=x}),u=f=>{i(f),r(!0)};return l.jsxs("div",{className:"bg-gradient-to-br from-gray-900/90 via-black/80 to-red-950/90 border border-red-900/40 rounded-none p-6 min-h-[460px] -mt-0 shadow-2xl",children:[l.jsx("h3",{className:"text-2xl font-bold text-white mb-6 text-center",children:"Your Rewards & Progress"}),a.length>0&&l.jsxs("div",{className:"mb-6",children:[l.jsxs("h4",{className:"text-lg font-semibold text-white mb-4 flex items-center",children:[l.jsx(dx,{className:"w-5 h-5 mr-2 text-blue-400"}),"Rewards in Progress"]}),l.jsx("div",{className:"space-y-4",children:a.map(f=>{var w,T,E,b;const v=((w=f.scanHistory)==null?void 0:w.length)||0,x=((T=f.offerSnapshot)==null?void 0:T.stampRequirement)||0,y=Math.min(v/x*100,100);return l.jsxs("div",{className:"bg-gradient-to-br from-blue-900/40 to-blue-800/40 border border-blue-700/50 rounded-xl p-4",children:[l.jsxs("div",{className:"flex items-center justify-between mb-3",children:[l.jsxs("div",{children:[l.jsx("h5",{className:"text-lg font-semibold text-white mb-1",children:((E=f.offerSnapshot)==null?void 0:E.offerName)||"Loyalty Reward"}),l.jsx("p",{className:"text-gray-300 text-sm mb-2",children:((b=f.offerSnapshot)==null?void 0:b.description)||"Collect stamps to earn this reward"}),l.jsxs("div",{className:"text-blue-300 text-sm font-medium",children:["Reward: ",f.rewardDescription]})]}),l.jsx("span",{className:"px-3 py-1 rounded-full text-xs font-medium bg-blue-900/50 text-blue-300 border border-blue-700/50",children:"IN PROGRESS"})]}),l.jsxs("div",{className:"space-y-3 mb-4",children:[l.jsxs("div",{className:"flex justify-between items-center text-sm",children:[l.jsx("span",{className:"text-gray-400",children:"Stamps Collected:"}),l.jsxs("span",{className:"text-white font-medium",children:[v," / ",x," stamps"]})]}),l.jsx("div",{className:"w-full bg-gray-600 rounded-full h-3",children:l.jsx("div",{className:"h-3 rounded-full transition-all duration-500 bg-gradient-to-r from-blue-500 to-blue-400",style:{width:`${y}%`}})}),l.jsxs("div",{className:"flex justify-between items-center text-sm",children:[l.jsx("span",{className:"text-gray-400",children:"Remaining:"}),l.jsxs("span",{className:"text-white font-medium",children:[Math.max(0,x-v)," more stamps needed"]})]}),l.jsxs("div",{className:"flex justify-between items-center text-sm",children:[l.jsx("span",{className:"text-gray-400",children:"Started:"}),l.jsx("span",{className:"text-white font-medium",children:f.createdAt.toDate().toLocaleDateString()})]})]})]},f.rewardId)})})]}),c.length>0&&l.jsxs("div",{className:"mb-6",children:[l.jsxs("h4",{className:"text-lg font-semibold text-white mb-4 flex items-center",children:[l.jsx(Hi,{className:"w-5 h-5 mr-2 text-purple-400"}),"Completed Rewards"]}),l.jsx("div",{className:"space-y-3",children:c.map((f,v)=>{var y,w;const x=f.claimedAt!==null;return l.jsxs("div",{className:"bg-gradient-to-br from-purple-900/40 to-purple-800/40 border border-purple-700/50 rounded-xl p-4",children:[l.jsxs("div",{className:"flex items-center justify-between mb-3",children:[l.jsxs("div",{children:[l.jsx("h5",{className:"text-white font-semibold mb-1",children:((y=f.offerSnapshot)==null?void 0:y.offerName)||`Reward ${v+1}`}),l.jsx("p",{className:"text-gray-300 text-sm mb-2",children:((w=f.offerSnapshot)==null?void 0:w.description)||"Loyalty program reward"}),l.jsxs("div",{className:"text-purple-300 text-sm font-medium mb-1",children:["Reward: ",f.rewardDescription]}),l.jsxs("p",{className:"text-gray-400 text-xs",children:["Earned: ",f.createdAt.toDate().toLocaleDateString()]}),x&&f.claimedAt&&l.jsxs("p",{className:"text-green-400 text-xs",children:["Redeemed:"," ",f.claimedAt.toDate().toLocaleDateString()]})]}),l.jsx("div",{className:"text-right",children:l.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${x?"bg-green-900/50 text-green-300 border border-green-700/50":"bg-purple-900/50 text-purple-300 border border-purple-700/50"}`,children:x?"REDEEMED":"AVAILABLE"})})]}),!x&&l.jsx("div",{className:"text-center",children:l.jsxs("button",{onClick:()=>u(f),className:"inline-flex items-center px-4 py-2 bg-gradient-to-r from-purple-600 to-purple-700 hover:from-purple-700 hover:to-purple-800 text-white rounded-lg text-sm font-medium transition-all duration-200 hover:scale-105",children:[l.jsx(XA,{className:"w-4 h-4 mr-2"}),"Redeem Reward"]})})]},f.rewardId)})})]}),a.length===0&&c.length===0&&l.jsxs("div",{className:"text-center py-8",children:[l.jsx(Hp,{className:"w-16 h-16 text-gray-600 mx-auto mb-4"}),l.jsx("h4",{className:"text-lg font-semibold text-gray-300 mb-2",children:"No Rewards Yet"}),l.jsx("p",{className:"text-gray-500 text-sm",children:"Start collecting stamps from the Offers tab to earn rewards!"})]}),n&&s&&l.jsx(zN,{qrData:{userId:t.id,userEmail:t.email,userName:t.name,offerId:((h=s.offerSnapshot)==null?void 0:h.offerId)||"",offerName:((p=s.offerSnapshot)==null?void 0:p.offerName)||"Reward Redemption",timestamp:new Date().toISOString(),rewardId:s.rewardId,action:"redeem_reward"},isOpen:n,onClose:()=>{r(!1),i(null)}})]})},Jq=[{key:"scan",label:"Scan",route:"/scan",colorClass:"border-green-500 text-green-400 hover:bg-green-500 hover:text-white",roles:["admin","super_admin"],icon:mO},{key:"settings",label:"Settings",route:"/settings",colorClass:"border-blue-500 text-blue-400 hover:bg-blue-500 hover:text-white",roles:["super_admin"],icon:px},{key:"users",label:"Users",route:"/users",colorClass:"border-purple-500 text-purple-400 hover:bg-purple-500 hover:text-white",roles:["super_admin"],icon:na},{key:"logout",label:"Logout",route:"logout",colorClass:"border-red-500 text-red-400 hover:bg-red-500 hover:text-white",roles:["customer","admin","super_admin"],icon:JA}];var Xq=g.createContext(void 0);function Nm(t){const e=g.useContext(Xq);return t||e||"ltr"}var Hg=0;function WN(){g.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??IC()),document.body.insertAdjacentElement("beforeend",t[1]??IC()),Hg++,()=>{Hg===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Hg--}},[])}function IC(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var Jg="focusScope.autoFocusOnMount",Xg="focusScope.autoFocusOnUnmount",RC={bubbles:!1,cancelable:!0},Zq="FocusScope",Lw=g.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...o}=t,[a,c]=g.useState(null),u=cn(s),h=cn(i),p=g.useRef(null),f=it(e,y=>c(y)),v=g.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;g.useEffect(()=>{if(r){let y=function(b){if(v.paused||!a)return;const R=b.target;a.contains(R)?p.current=R:mi(p.current,{select:!0})},w=function(b){if(v.paused||!a)return;const R=b.relatedTarget;R!==null&&(a.contains(R)||mi(p.current,{select:!0}))},T=function(b){if(document.activeElement===document.body)for(const j of b)j.removedNodes.length>0&&mi(a)};document.addEventListener("focusin",y),document.addEventListener("focusout",w);const E=new MutationObserver(T);return a&&E.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",y),document.removeEventListener("focusout",w),E.disconnect()}}},[r,a,v.paused]),g.useEffect(()=>{if(a){PC.add(v);const y=document.activeElement;if(!a.contains(y)){const T=new CustomEvent(Jg,RC);a.addEventListener(Jg,u),a.dispatchEvent(T),T.defaultPrevented||(eG(iG(QN(a)),{select:!0}),document.activeElement===y&&mi(a))}return()=>{a.removeEventListener(Jg,u),setTimeout(()=>{const T=new CustomEvent(Xg,RC);a.addEventListener(Xg,h),a.dispatchEvent(T),T.defaultPrevented||mi(y??document.body,{select:!0}),a.removeEventListener(Xg,h),PC.remove(v)},0)}}},[a,u,h,v]);const x=g.useCallback(y=>{if(!n&&!r||v.paused)return;const w=y.key==="Tab"&&!y.altKey&&!y.ctrlKey&&!y.metaKey,T=document.activeElement;if(w&&T){const E=y.currentTarget,[b,R]=tG(E);b&&R?!y.shiftKey&&T===R?(y.preventDefault(),n&&mi(b,{select:!0})):y.shiftKey&&T===b&&(y.preventDefault(),n&&mi(R,{select:!0})):T===E&&y.preventDefault()}},[n,r,v.paused]);return l.jsx(De.div,{tabIndex:-1,...o,ref:f,onKeyDown:x})});Lw.displayName=Zq;function eG(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(mi(r,{select:e}),document.activeElement!==n)return}function tG(t){const e=QN(t),n=NC(e,t),r=NC(e.reverse(),t);return[n,r]}function QN(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function NC(t,e){for(const n of t)if(!nG(n,{upTo:e}))return n}function nG(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function rG(t){return t instanceof HTMLInputElement&&"select"in t}function mi(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&rG(t)&&e&&t.select()}}var PC=sG();function sG(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=kC(t,e),t.unshift(e)},remove(e){var n;t=kC(t,e),(n=t[0])==null||n.resume()}}}function kC(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function iG(t){return t.filter(e=>e.tagName!=="A")}function oG(t,e=[]){let n=[];function r(i,o){const a=g.createContext(o),c=n.length;n=[...n,o];function u(p){const{scope:f,children:v,...x}=p,y=(f==null?void 0:f[t][c])||a,w=g.useMemo(()=>x,Object.values(x));return l.jsx(y.Provider,{value:w,children:v})}function h(p,f){const v=(f==null?void 0:f[t][c])||a,x=g.useContext(v);if(x)return x;if(o!==void 0)return o;throw new Error(`\`${p}\` must be used within \`${i}\``)}return u.displayName=i+"Provider",[u,h]}const s=()=>{const i=n.map(o=>g.createContext(o));return function(a){const c=(a==null?void 0:a[t])||i;return g.useMemo(()=>({[`__scope${t}`]:{...a,[t]:c}}),[a,c])}};return s.scopeName=t,[r,aG(s,...e)]}function aG(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:c,scopeName:u})=>{const p=c(i)[`__scope${u}`];return{...a,...p}},{});return g.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var Zg="rovingFocusGroup.onEntryFocus",lG={bubbles:!1,cancelable:!0},Pm="RovingFocusGroup",[$y,YN,cG]=od(Pm),[uG,km]=oG(Pm,[cG]),[dG,hG]=uG(Pm),KN=g.forwardRef((t,e)=>l.jsx($y.Provider,{scope:t.__scopeRovingFocusGroup,children:l.jsx($y.Slot,{scope:t.__scopeRovingFocusGroup,children:l.jsx(fG,{...t,ref:e})})}));KN.displayName=Pm;var fG=g.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:h=!1,...p}=t,f=g.useRef(null),v=it(e,f),x=Nm(i),[y=null,w]=ku({prop:o,defaultProp:a,onChange:c}),[T,E]=g.useState(!1),b=cn(u),R=YN(n),j=g.useRef(!1),[V,I]=g.useState(0);return g.useEffect(()=>{const S=f.current;if(S)return S.addEventListener(Zg,b),()=>S.removeEventListener(Zg,b)},[b]),l.jsx(dG,{scope:n,orientation:r,dir:x,loop:s,currentTabStopId:y,onItemFocus:g.useCallback(S=>w(S),[w]),onItemShiftTab:g.useCallback(()=>E(!0),[]),onFocusableItemAdd:g.useCallback(()=>I(S=>S+1),[]),onFocusableItemRemove:g.useCallback(()=>I(S=>S-1),[]),children:l.jsx(De.div,{tabIndex:T||V===0?-1:0,"data-orientation":r,...p,ref:v,style:{outline:"none",...t.style},onMouseDown:pe(t.onMouseDown,()=>{j.current=!0}),onFocus:pe(t.onFocus,S=>{const P=!j.current;if(S.target===S.currentTarget&&P&&!T){const k=new CustomEvent(Zg,lG);if(S.currentTarget.dispatchEvent(k),!k.defaultPrevented){const O=R().filter(se=>se.focusable),L=O.find(se=>se.active),D=O.find(se=>se.id===y),re=[L,D,...O].filter(Boolean).map(se=>se.ref.current);XN(re,h)}}j.current=!1}),onBlur:pe(t.onBlur,()=>E(!1))})})}),HN="RovingFocusGroupItem",JN=g.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:i,...o}=t,a=Ko(),c=i||a,u=hG(HN,n),h=u.currentTabStopId===c,p=YN(n),{onFocusableItemAdd:f,onFocusableItemRemove:v}=u;return g.useEffect(()=>{if(r)return f(),()=>v()},[r,f,v]),l.jsx($y.ItemSlot,{scope:n,id:c,focusable:r,active:s,children:l.jsx(De.span,{tabIndex:h?0:-1,"data-orientation":u.orientation,...o,ref:e,onMouseDown:pe(t.onMouseDown,x=>{r?u.onItemFocus(c):x.preventDefault()}),onFocus:pe(t.onFocus,()=>u.onItemFocus(c)),onKeyDown:pe(t.onKeyDown,x=>{if(x.key==="Tab"&&x.shiftKey){u.onItemShiftTab();return}if(x.target!==x.currentTarget)return;const y=gG(x,u.orientation,u.dir);if(y!==void 0){if(x.metaKey||x.ctrlKey||x.altKey||x.shiftKey)return;x.preventDefault();let T=p().filter(E=>E.focusable).map(E=>E.ref.current);if(y==="last")T.reverse();else if(y==="prev"||y==="next"){y==="prev"&&T.reverse();const E=T.indexOf(x.currentTarget);T=u.loop?yG(T,E+1):T.slice(E+1)}setTimeout(()=>XN(T))}})})})});JN.displayName=HN;var pG={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function mG(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function gG(t,e,n){const r=mG(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return pG[r]}function XN(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function yG(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var ZN=KN,eP=JN,vG=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Ba=new WeakMap,Uh=new WeakMap,qh={},e0=0,tP=function(t){return t&&(t.host||tP(t.parentNode))},xG=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=tP(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},wG=function(t,e,n,r){var s=xG(e,Array.isArray(t)?t:[t]);qh[n]||(qh[n]=new WeakMap);var i=qh[n],o=[],a=new Set,c=new Set(s),u=function(p){!p||a.has(p)||(a.add(p),u(p.parentNode))};s.forEach(u);var h=function(p){!p||c.has(p)||Array.prototype.forEach.call(p.children,function(f){if(a.has(f))h(f);else try{var v=f.getAttribute(r),x=v!==null&&v!=="false",y=(Ba.get(f)||0)+1,w=(i.get(f)||0)+1;Ba.set(f,y),i.set(f,w),o.push(f),y===1&&x&&Uh.set(f,!0),w===1&&f.setAttribute(n,"true"),x||f.setAttribute(r,"true")}catch(T){console.error("aria-hidden: cannot operate on ",f,T)}})};return h(e),a.clear(),e0++,function(){o.forEach(function(p){var f=Ba.get(p)-1,v=i.get(p)-1;Ba.set(p,f),i.set(p,v),f||(Uh.has(p)||p.removeAttribute(r),Uh.delete(p)),v||p.removeAttribute(n)}),e0--,e0||(Ba=new WeakMap,Ba=new WeakMap,Uh=new WeakMap,qh={})}},nP=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),s=vG(t);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live]"))),wG(r,s,n,"aria-hidden")):function(){return null}},wf="right-scroll-bar-position",Ef="width-before-scroll-bar",EG="with-scroll-bars-hidden",bG="--removed-body-scroll-bar-size";function t0(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function CG(t,e){var n=g.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=e,n.facade}var _G=typeof window<"u"?g.useLayoutEffect:g.useEffect,MC=new WeakMap;function TG(t,e){var n=CG(null,function(r){return t.forEach(function(s){return t0(s,r)})});return _G(function(){var r=MC.get(n);if(r){var s=new Set(r),i=new Set(t),o=n.current;s.forEach(function(a){i.has(a)||t0(a,null)}),i.forEach(function(a){s.has(a)||t0(a,o)})}MC.set(n,t)},[t]),n}function AG(t){return t}function SG(t,e){e===void 0&&(e=AG);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(i){var o=e(i,r);return n.push(o),function(){n=n.filter(function(a){return a!==o})}},assignSyncMedium:function(i){for(r=!0;n.length;){var o=n;n=[],o.forEach(i)}n={push:function(a){return i(a)},filter:function(){return n}}},assignMedium:function(i){r=!0;var o=[];if(n.length){var a=n;n=[],a.forEach(i),o=n}var c=function(){var h=o;o=[],h.forEach(i)},u=function(){return Promise.resolve().then(c)};u(),n={push:function(h){o.push(h),u()},filter:function(h){return o=o.filter(h),n}}}};return s}function IG(t){t===void 0&&(t={});var e=SG(null);return e.options=rs({async:!0,ssr:!1},t),e}var rP=function(t){var e=t.sideCar,n=xd(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return g.createElement(r,rs({},n))};rP.isSideCarExport=!0;function RG(t,e){return t.useMedium(e),rP}var sP=IG(),n0=function(){},Mm=g.forwardRef(function(t,e){var n=g.useRef(null),r=g.useState({onScrollCapture:n0,onWheelCapture:n0,onTouchMoveCapture:n0}),s=r[0],i=r[1],o=t.forwardProps,a=t.children,c=t.className,u=t.removeScrollBar,h=t.enabled,p=t.shards,f=t.sideCar,v=t.noIsolation,x=t.inert,y=t.allowPinchZoom,w=t.as,T=w===void 0?"div":w,E=t.gapMode,b=xd(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),R=f,j=TG([n,e]),V=rs(rs({},b),s);return g.createElement(g.Fragment,null,h&&g.createElement(R,{sideCar:sP,removeScrollBar:u,shards:p,noIsolation:v,inert:x,setCallbacks:i,allowPinchZoom:!!y,lockRef:n,gapMode:E}),o?g.cloneElement(g.Children.only(a),rs(rs({},V),{ref:j})):g.createElement(T,rs({},V,{className:c,ref:j}),a))});Mm.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Mm.classNames={fullWidth:Ef,zeroRight:wf};var NG=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function PG(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=NG();return e&&t.setAttribute("nonce",e),t}function kG(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function MG(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var jG=function(){var t=0,e=null;return{add:function(n){t==0&&(e=PG())&&(kG(e,n),MG(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},DG=function(){var t=jG();return function(e,n){g.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},iP=function(){var t=DG(),e=function(n){var r=n.styles,s=n.dynamic;return t(r,s),null};return e},OG={left:0,top:0,right:0,gap:0},r0=function(t){return parseInt(t||"",10)||0},LG=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],s=e[t==="padding"?"paddingRight":"marginRight"];return[r0(n),r0(r),r0(s)]},FG=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return OG;var e=LG(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},VG=iP(),xl="data-scroll-locked",BG=function(t,e,n,r){var s=t.left,i=t.top,o=t.right,a=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(EG,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(xl,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(wf,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Ef,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(wf," .").concat(wf,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Ef," .").concat(Ef,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(xl,`] {
    `).concat(bG,": ").concat(a,`px;
  }
`)},jC=function(){var t=parseInt(document.body.getAttribute(xl)||"0",10);return isFinite(t)?t:0},UG=function(){g.useEffect(function(){return document.body.setAttribute(xl,(jC()+1).toString()),function(){var t=jC()-1;t<=0?document.body.removeAttribute(xl):document.body.setAttribute(xl,t.toString())}},[])},qG=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,s=r===void 0?"margin":r;UG();var i=g.useMemo(function(){return FG(s)},[s]);return g.createElement(VG,{styles:BG(i,!e,s,n?"":"!important")})},zy=!1;if(typeof window<"u")try{var Gh=Object.defineProperty({},"passive",{get:function(){return zy=!0,!0}});window.addEventListener("test",Gh,Gh),window.removeEventListener("test",Gh,Gh)}catch{zy=!1}var Ua=zy?{passive:!1}:!1,GG=function(t){return t.tagName==="TEXTAREA"},oP=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!GG(t)&&n[e]==="visible")},$G=function(t){return oP(t,"overflowY")},zG=function(t){return oP(t,"overflowX")},DC=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=aP(t,r);if(s){var i=lP(t,r),o=i[1],a=i[2];if(o>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},WG=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},QG=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},aP=function(t,e){return t==="v"?$G(e):zG(e)},lP=function(t,e){return t==="v"?WG(e):QG(e)},YG=function(t,e){return t==="h"&&e==="rtl"?-1:1},KG=function(t,e,n,r,s){var i=YG(t,window.getComputedStyle(e).direction),o=i*r,a=n.target,c=e.contains(a),u=!1,h=o>0,p=0,f=0;do{var v=lP(t,a),x=v[0],y=v[1],w=v[2],T=y-w-i*x;(x||T)&&aP(t,a)&&(p+=T,f+=x),a instanceof ShadowRoot?a=a.host:a=a.parentNode}while(!c&&a!==document.body||c&&(e.contains(a)||e===a));return(h&&(Math.abs(p)<1||!s)||!h&&(Math.abs(f)<1||!s))&&(u=!0),u},$h=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},OC=function(t){return[t.deltaX,t.deltaY]},LC=function(t){return t&&"current"in t?t.current:t},HG=function(t,e){return t[0]===e[0]&&t[1]===e[1]},JG=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},XG=0,qa=[];function ZG(t){var e=g.useRef([]),n=g.useRef([0,0]),r=g.useRef(),s=g.useState(XG++)[0],i=g.useState(iP)[0],o=g.useRef(t);g.useEffect(function(){o.current=t},[t]),g.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var y=QV([t.lockRef.current],(t.shards||[]).map(LC),!0).filter(Boolean);return y.forEach(function(w){return w.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),y.forEach(function(w){return w.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var a=g.useCallback(function(y,w){if("touches"in y&&y.touches.length===2||y.type==="wheel"&&y.ctrlKey)return!o.current.allowPinchZoom;var T=$h(y),E=n.current,b="deltaX"in y?y.deltaX:E[0]-T[0],R="deltaY"in y?y.deltaY:E[1]-T[1],j,V=y.target,I=Math.abs(b)>Math.abs(R)?"h":"v";if("touches"in y&&I==="h"&&V.type==="range")return!1;var S=DC(I,V);if(!S)return!0;if(S?j=I:(j=I==="v"?"h":"v",S=DC(I,V)),!S)return!1;if(!r.current&&"changedTouches"in y&&(b||R)&&(r.current=j),!j)return!0;var P=r.current||j;return KG(P,w,y,P==="h"?b:R,!0)},[]),c=g.useCallback(function(y){var w=y;if(!(!qa.length||qa[qa.length-1]!==i)){var T="deltaY"in w?OC(w):$h(w),E=e.current.filter(function(j){return j.name===w.type&&(j.target===w.target||w.target===j.shadowParent)&&HG(j.delta,T)})[0];if(E&&E.should){w.cancelable&&w.preventDefault();return}if(!E){var b=(o.current.shards||[]).map(LC).filter(Boolean).filter(function(j){return j.contains(w.target)}),R=b.length>0?a(w,b[0]):!o.current.noIsolation;R&&w.cancelable&&w.preventDefault()}}},[]),u=g.useCallback(function(y,w,T,E){var b={name:y,delta:w,target:T,should:E,shadowParent:e$(T)};e.current.push(b),setTimeout(function(){e.current=e.current.filter(function(R){return R!==b})},1)},[]),h=g.useCallback(function(y){n.current=$h(y),r.current=void 0},[]),p=g.useCallback(function(y){u(y.type,OC(y),y.target,a(y,t.lockRef.current))},[]),f=g.useCallback(function(y){u(y.type,$h(y),y.target,a(y,t.lockRef.current))},[]);g.useEffect(function(){return qa.push(i),t.setCallbacks({onScrollCapture:p,onWheelCapture:p,onTouchMoveCapture:f}),document.addEventListener("wheel",c,Ua),document.addEventListener("touchmove",c,Ua),document.addEventListener("touchstart",h,Ua),function(){qa=qa.filter(function(y){return y!==i}),document.removeEventListener("wheel",c,Ua),document.removeEventListener("touchmove",c,Ua),document.removeEventListener("touchstart",h,Ua)}},[]);var v=t.removeScrollBar,x=t.inert;return g.createElement(g.Fragment,null,x?g.createElement(i,{styles:JG(s)}):null,v?g.createElement(qG,{gapMode:t.gapMode}):null)}function e$(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const t$=RG(sP,ZG);var Fw=g.forwardRef(function(t,e){return g.createElement(Mm,rs({},t,{ref:e,sideCar:t$}))});Fw.classNames=Mm.classNames;var Wy=["Enter"," "],n$=["ArrowDown","PageUp","Home"],cP=["ArrowUp","PageDown","End"],r$=[...n$,...cP],s$={ltr:[...Wy,"ArrowRight"],rtl:[...Wy,"ArrowLeft"]},i$={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Td="Menu",[Ju,o$,a$]=od(Td),[xa,l$]=Kl(Td,[a$,cc,km]),jm=cc(),uP=km(),[c$,wa]=xa(Td),[u$,Ad]=xa(Td),dP=t=>{const{__scopeMenu:e,open:n=!1,children:r,dir:s,onOpenChange:i,modal:o=!0}=t,a=jm(e),[c,u]=g.useState(null),h=g.useRef(!1),p=cn(i),f=Nm(s);return g.useEffect(()=>{const v=()=>{h.current=!0,document.addEventListener("pointerdown",x,{capture:!0,once:!0}),document.addEventListener("pointermove",x,{capture:!0,once:!0})},x=()=>h.current=!1;return document.addEventListener("keydown",v,{capture:!0}),()=>{document.removeEventListener("keydown",v,{capture:!0}),document.removeEventListener("pointerdown",x,{capture:!0}),document.removeEventListener("pointermove",x,{capture:!0})}},[]),l.jsx(rN,{...a,children:l.jsx(c$,{scope:e,open:n,onOpenChange:p,content:c,onContentChange:u,children:l.jsx(u$,{scope:e,onClose:g.useCallback(()=>p(!1),[p]),isUsingKeyboardRef:h,dir:f,modal:o,children:r})})})};dP.displayName=Td;var d$="MenuAnchor",Vw=g.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,s=jm(n);return l.jsx(_w,{...s,...r,ref:e})});Vw.displayName=d$;var Bw="MenuPortal",[h$,hP]=xa(Bw,{forceMount:void 0}),fP=t=>{const{__scopeMenu:e,forceMount:n,children:r,container:s}=t,i=wa(Bw,e);return l.jsx(h$,{scope:e,forceMount:n,children:l.jsx(ma,{present:n||i.open,children:l.jsx(Qp,{asChild:!0,container:s,children:r})})})};fP.displayName=Bw;var wr="MenuContent",[f$,Uw]=xa(wr),pP=g.forwardRef((t,e)=>{const n=hP(wr,t.__scopeMenu),{forceMount:r=n.forceMount,...s}=t,i=wa(wr,t.__scopeMenu),o=Ad(wr,t.__scopeMenu);return l.jsx(Ju.Provider,{scope:t.__scopeMenu,children:l.jsx(ma,{present:r||i.open,children:l.jsx(Ju.Slot,{scope:t.__scopeMenu,children:o.modal?l.jsx(p$,{...s,ref:e}):l.jsx(m$,{...s,ref:e})})})})}),p$=g.forwardRef((t,e)=>{const n=wa(wr,t.__scopeMenu),r=g.useRef(null),s=it(e,r);return g.useEffect(()=>{const i=r.current;if(i)return nP(i)},[]),l.jsx(qw,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:pe(t.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),m$=g.forwardRef((t,e)=>{const n=wa(wr,t.__scopeMenu);return l.jsx(qw,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),qw=g.forwardRef((t,e)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:s,onOpenAutoFocus:i,onCloseAutoFocus:o,disableOutsidePointerEvents:a,onEntryFocus:c,onEscapeKeyDown:u,onPointerDownOutside:h,onFocusOutside:p,onInteractOutside:f,onDismiss:v,disableOutsideScroll:x,...y}=t,w=wa(wr,n),T=Ad(wr,n),E=jm(n),b=uP(n),R=o$(n),[j,V]=g.useState(null),I=g.useRef(null),S=it(e,I,w.onContentChange),P=g.useRef(0),k=g.useRef(""),O=g.useRef(0),L=g.useRef(null),D=g.useRef("right"),X=g.useRef(0),re=x?Fw:g.Fragment,se=x?{as:ta,allowPinchZoom:!0}:void 0,ue=z=>{var ie,ge;const Z=k.current+z,te=R().filter(xe=>!xe.disabled),ae=document.activeElement,le=(ie=te.find(xe=>xe.ref.current===ae))==null?void 0:ie.textValue,Se=te.map(xe=>xe.textValue),ke=S$(Se,Z,le),we=(ge=te.find(xe=>xe.textValue===ke))==null?void 0:ge.ref.current;(function xe(Ee){k.current=Ee,window.clearTimeout(P.current),Ee!==""&&(P.current=window.setTimeout(()=>xe(""),1e3))})(Z),we&&setTimeout(()=>we.focus())};g.useEffect(()=>()=>window.clearTimeout(P.current),[]),WN();const q=g.useCallback(z=>{var te,ae;return D.current===((te=L.current)==null?void 0:te.side)&&R$(z,(ae=L.current)==null?void 0:ae.area)},[]);return l.jsx(f$,{scope:n,searchRef:k,onItemEnter:g.useCallback(z=>{q(z)&&z.preventDefault()},[q]),onItemLeave:g.useCallback(z=>{var Z;q(z)||((Z=I.current)==null||Z.focus(),V(null))},[q]),onTriggerLeave:g.useCallback(z=>{q(z)&&z.preventDefault()},[q]),pointerGraceTimerRef:O,onPointerGraceIntentChange:g.useCallback(z=>{L.current=z},[]),children:l.jsx(re,{...se,children:l.jsx(Lw,{asChild:!0,trapped:s,onMountAutoFocus:pe(i,z=>{var Z;z.preventDefault(),(Z=I.current)==null||Z.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:l.jsx(ad,{asChild:!0,disableOutsidePointerEvents:a,onEscapeKeyDown:u,onPointerDownOutside:h,onFocusOutside:p,onInteractOutside:f,onDismiss:v,children:l.jsx(ZN,{asChild:!0,...b,dir:T.dir,orientation:"vertical",loop:r,currentTabStopId:j,onCurrentTabStopIdChange:V,onEntryFocus:pe(c,z=>{T.isUsingKeyboardRef.current||z.preventDefault()}),preventScrollOnEntryFocus:!0,children:l.jsx(Tw,{role:"menu","aria-orientation":"vertical","data-state":NP(w.open),"data-radix-menu-content":"",dir:T.dir,...E,...y,ref:S,style:{outline:"none",...y.style},onKeyDown:pe(y.onKeyDown,z=>{const te=z.target.closest("[data-radix-menu-content]")===z.currentTarget,ae=z.ctrlKey||z.altKey||z.metaKey,le=z.key.length===1;te&&(z.key==="Tab"&&z.preventDefault(),!ae&&le&&ue(z.key));const Se=I.current;if(z.target!==Se||!r$.includes(z.key))return;z.preventDefault();const we=R().filter(ie=>!ie.disabled).map(ie=>ie.ref.current);cP.includes(z.key)&&we.reverse(),T$(we)}),onBlur:pe(t.onBlur,z=>{z.currentTarget.contains(z.target)||(window.clearTimeout(P.current),k.current="")}),onPointerMove:pe(t.onPointerMove,Xu(z=>{const Z=z.target,te=X.current!==z.clientX;if(z.currentTarget.contains(Z)&&te){const ae=z.clientX>X.current?"right":"left";D.current=ae,X.current=z.clientX}}))})})})})})})});pP.displayName=wr;var g$="MenuGroup",Gw=g.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return l.jsx(De.div,{role:"group",...r,ref:e})});Gw.displayName=g$;var y$="MenuLabel",mP=g.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return l.jsx(De.div,{...r,ref:e})});mP.displayName=y$;var Sp="MenuItem",FC="menu.itemSelect",Dm=g.forwardRef((t,e)=>{const{disabled:n=!1,onSelect:r,...s}=t,i=g.useRef(null),o=Ad(Sp,t.__scopeMenu),a=Uw(Sp,t.__scopeMenu),c=it(e,i),u=g.useRef(!1),h=()=>{const p=i.current;if(!n&&p){const f=new CustomEvent(FC,{bubbles:!0,cancelable:!0});p.addEventListener(FC,v=>r==null?void 0:r(v),{once:!0}),ox(p,f),f.defaultPrevented?u.current=!1:o.onClose()}};return l.jsx(gP,{...s,ref:c,disabled:n,onClick:pe(t.onClick,h),onPointerDown:p=>{var f;(f=t.onPointerDown)==null||f.call(t,p),u.current=!0},onPointerUp:pe(t.onPointerUp,p=>{var f;u.current||(f=p.currentTarget)==null||f.click()}),onKeyDown:pe(t.onKeyDown,p=>{const f=a.searchRef.current!=="";n||f&&p.key===" "||Wy.includes(p.key)&&(p.currentTarget.click(),p.preventDefault())})})});Dm.displayName=Sp;var gP=g.forwardRef((t,e)=>{const{__scopeMenu:n,disabled:r=!1,textValue:s,...i}=t,o=Uw(Sp,n),a=uP(n),c=g.useRef(null),u=it(e,c),[h,p]=g.useState(!1),[f,v]=g.useState("");return g.useEffect(()=>{const x=c.current;x&&v((x.textContent??"").trim())},[i.children]),l.jsx(Ju.ItemSlot,{scope:n,disabled:r,textValue:s??f,children:l.jsx(eP,{asChild:!0,...a,focusable:!r,children:l.jsx(De.div,{role:"menuitem","data-highlighted":h?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...i,ref:u,onPointerMove:pe(t.onPointerMove,Xu(x=>{r?o.onItemLeave(x):(o.onItemEnter(x),x.defaultPrevented||x.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:pe(t.onPointerLeave,Xu(x=>o.onItemLeave(x))),onFocus:pe(t.onFocus,()=>p(!0)),onBlur:pe(t.onBlur,()=>p(!1))})})})}),v$="MenuCheckboxItem",yP=g.forwardRef((t,e)=>{const{checked:n=!1,onCheckedChange:r,...s}=t;return l.jsx(bP,{scope:t.__scopeMenu,checked:n,children:l.jsx(Dm,{role:"menuitemcheckbox","aria-checked":Ip(n)?"mixed":n,...s,ref:e,"data-state":zw(n),onSelect:pe(s.onSelect,()=>r==null?void 0:r(Ip(n)?!0:!n),{checkForDefaultPrevented:!1})})})});yP.displayName=v$;var vP="MenuRadioGroup",[x$,w$]=xa(vP,{value:void 0,onValueChange:()=>{}}),xP=g.forwardRef((t,e)=>{const{value:n,onValueChange:r,...s}=t,i=cn(r);return l.jsx(x$,{scope:t.__scopeMenu,value:n,onValueChange:i,children:l.jsx(Gw,{...s,ref:e})})});xP.displayName=vP;var wP="MenuRadioItem",EP=g.forwardRef((t,e)=>{const{value:n,...r}=t,s=w$(wP,t.__scopeMenu),i=n===s.value;return l.jsx(bP,{scope:t.__scopeMenu,checked:i,children:l.jsx(Dm,{role:"menuitemradio","aria-checked":i,...r,ref:e,"data-state":zw(i),onSelect:pe(r.onSelect,()=>{var o;return(o=s.onValueChange)==null?void 0:o.call(s,n)},{checkForDefaultPrevented:!1})})})});EP.displayName=wP;var $w="MenuItemIndicator",[bP,E$]=xa($w,{checked:!1}),CP=g.forwardRef((t,e)=>{const{__scopeMenu:n,forceMount:r,...s}=t,i=E$($w,n);return l.jsx(ma,{present:r||Ip(i.checked)||i.checked===!0,children:l.jsx(De.span,{...s,ref:e,"data-state":zw(i.checked)})})});CP.displayName=$w;var b$="MenuSeparator",_P=g.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return l.jsx(De.div,{role:"separator","aria-orientation":"horizontal",...r,ref:e})});_P.displayName=b$;var C$="MenuArrow",TP=g.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,s=jm(n);return l.jsx(Aw,{...s,...r,ref:e})});TP.displayName=C$;var _$="MenuSub",[zQ,AP]=xa(_$),Qc="MenuSubTrigger",SP=g.forwardRef((t,e)=>{const n=wa(Qc,t.__scopeMenu),r=Ad(Qc,t.__scopeMenu),s=AP(Qc,t.__scopeMenu),i=Uw(Qc,t.__scopeMenu),o=g.useRef(null),{pointerGraceTimerRef:a,onPointerGraceIntentChange:c}=i,u={__scopeMenu:t.__scopeMenu},h=g.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return g.useEffect(()=>h,[h]),g.useEffect(()=>{const p=a.current;return()=>{window.clearTimeout(p),c(null)}},[a,c]),l.jsx(Vw,{asChild:!0,...u,children:l.jsx(gP,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":s.contentId,"data-state":NP(n.open),...t,ref:ix(e,s.onTriggerChange),onClick:p=>{var f;(f=t.onClick)==null||f.call(t,p),!(t.disabled||p.defaultPrevented)&&(p.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:pe(t.onPointerMove,Xu(p=>{i.onItemEnter(p),!p.defaultPrevented&&!t.disabled&&!n.open&&!o.current&&(i.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{n.onOpenChange(!0),h()},100))})),onPointerLeave:pe(t.onPointerLeave,Xu(p=>{var v,x;h();const f=(v=n.content)==null?void 0:v.getBoundingClientRect();if(f){const y=(x=n.content)==null?void 0:x.dataset.side,w=y==="right",T=w?-5:5,E=f[w?"left":"right"],b=f[w?"right":"left"];i.onPointerGraceIntentChange({area:[{x:p.clientX+T,y:p.clientY},{x:E,y:f.top},{x:b,y:f.top},{x:b,y:f.bottom},{x:E,y:f.bottom}],side:y}),window.clearTimeout(a.current),a.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(p),p.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:pe(t.onKeyDown,p=>{var v;const f=i.searchRef.current!=="";t.disabled||f&&p.key===" "||s$[r.dir].includes(p.key)&&(n.onOpenChange(!0),(v=n.content)==null||v.focus(),p.preventDefault())})})})});SP.displayName=Qc;var IP="MenuSubContent",RP=g.forwardRef((t,e)=>{const n=hP(wr,t.__scopeMenu),{forceMount:r=n.forceMount,...s}=t,i=wa(wr,t.__scopeMenu),o=Ad(wr,t.__scopeMenu),a=AP(IP,t.__scopeMenu),c=g.useRef(null),u=it(e,c);return l.jsx(Ju.Provider,{scope:t.__scopeMenu,children:l.jsx(ma,{present:r||i.open,children:l.jsx(Ju.Slot,{scope:t.__scopeMenu,children:l.jsx(qw,{id:a.contentId,"aria-labelledby":a.triggerId,...s,ref:u,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:h=>{var p;o.isUsingKeyboardRef.current&&((p=c.current)==null||p.focus()),h.preventDefault()},onCloseAutoFocus:h=>h.preventDefault(),onFocusOutside:pe(t.onFocusOutside,h=>{h.target!==a.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:pe(t.onEscapeKeyDown,h=>{o.onClose(),h.preventDefault()}),onKeyDown:pe(t.onKeyDown,h=>{var v;const p=h.currentTarget.contains(h.target),f=i$[o.dir].includes(h.key);p&&f&&(i.onOpenChange(!1),(v=a.trigger)==null||v.focus(),h.preventDefault())})})})})})});RP.displayName=IP;function NP(t){return t?"open":"closed"}function Ip(t){return t==="indeterminate"}function zw(t){return Ip(t)?"indeterminate":t?"checked":"unchecked"}function T$(t){const e=document.activeElement;for(const n of t)if(n===e||(n.focus(),document.activeElement!==e))return}function A$(t,e){return t.map((n,r)=>t[(e+r)%t.length])}function S$(t,e,n){const s=e.length>1&&Array.from(e).every(u=>u===e[0])?e[0]:e,i=n?t.indexOf(n):-1;let o=A$(t,Math.max(i,0));s.length===1&&(o=o.filter(u=>u!==n));const c=o.find(u=>u.toLowerCase().startsWith(s.toLowerCase()));return c!==n?c:void 0}function I$(t,e){const{x:n,y:r}=t;let s=!1;for(let i=0,o=e.length-1;i<e.length;o=i++){const a=e[i].x,c=e[i].y,u=e[o].x,h=e[o].y;c>r!=h>r&&n<(u-a)*(r-c)/(h-c)+a&&(s=!s)}return s}function R$(t,e){if(!e)return!1;const n={x:t.clientX,y:t.clientY};return I$(n,e)}function Xu(t){return e=>e.pointerType==="mouse"?t(e):void 0}var N$=dP,P$=Vw,k$=fP,M$=pP,j$=Gw,D$=mP,O$=Dm,L$=yP,F$=xP,V$=EP,B$=CP,U$=_P,q$=TP,G$=SP,$$=RP,Om="Menubar",[Qy,z$,W$]=od(Om),[PP,WQ]=Kl(Om,[W$,km]),On=l$(),kP=km(),[Q$,Ww]=PP(Om),MP=g.forwardRef((t,e)=>{const{__scopeMenubar:n,value:r,onValueChange:s,defaultValue:i,loop:o=!0,dir:a,...c}=t,u=Nm(a),h=kP(n),[p="",f]=ku({prop:r,onChange:s,defaultProp:i}),[v,x]=g.useState(null);return l.jsx(Q$,{scope:n,value:p,onMenuOpen:g.useCallback(y=>{f(y),x(y)},[f]),onMenuClose:g.useCallback(()=>f(""),[f]),onMenuToggle:g.useCallback(y=>{f(w=>w?"":y),x(y)},[f]),dir:u,loop:o,children:l.jsx(Qy.Provider,{scope:n,children:l.jsx(Qy.Slot,{scope:n,children:l.jsx(ZN,{asChild:!0,...h,orientation:"horizontal",loop:o,dir:u,currentTabStopId:v,onCurrentTabStopIdChange:x,children:l.jsx(De.div,{role:"menubar",...c,ref:e})})})})})});MP.displayName=Om;var Qw="MenubarMenu",[Y$,jP]=PP(Qw),DP=t=>{const{__scopeMenubar:e,value:n,...r}=t,s=Ko(),i=n||s||"LEGACY_REACT_AUTO_VALUE",o=Ww(Qw,e),a=On(e),c=g.useRef(null),u=g.useRef(!1),h=o.value===i;return g.useEffect(()=>{h||(u.current=!1)},[h]),l.jsx(Y$,{scope:e,value:i,triggerId:Ko(),triggerRef:c,contentId:Ko(),wasKeyboardTriggerOpenRef:u,children:l.jsx(N$,{...a,open:h,onOpenChange:p=>{p||o.onMenuClose()},modal:!1,dir:o.dir,...r})})};DP.displayName=Qw;var Yy="MenubarTrigger",OP=g.forwardRef((t,e)=>{const{__scopeMenubar:n,disabled:r=!1,...s}=t,i=kP(n),o=On(n),a=Ww(Yy,n),c=jP(Yy,n),u=g.useRef(null),h=it(e,u,c.triggerRef),[p,f]=g.useState(!1),v=a.value===c.value;return l.jsx(Qy.ItemSlot,{scope:n,value:c.value,disabled:r,children:l.jsx(eP,{asChild:!0,...i,focusable:!r,tabStopId:c.value,children:l.jsx(P$,{asChild:!0,...o,children:l.jsx(De.button,{type:"button",role:"menuitem",id:c.triggerId,"aria-haspopup":"menu","aria-expanded":v,"aria-controls":v?c.contentId:void 0,"data-highlighted":p?"":void 0,"data-state":v?"open":"closed","data-disabled":r?"":void 0,disabled:r,...s,ref:h,onPointerDown:pe(t.onPointerDown,x=>{!r&&x.button===0&&x.ctrlKey===!1&&(a.onMenuOpen(c.value),v||x.preventDefault())}),onPointerEnter:pe(t.onPointerEnter,()=>{var y;!!a.value&&!v&&(a.onMenuOpen(c.value),(y=u.current)==null||y.focus())}),onKeyDown:pe(t.onKeyDown,x=>{r||(["Enter"," "].includes(x.key)&&a.onMenuToggle(c.value),x.key==="ArrowDown"&&a.onMenuOpen(c.value),["Enter"," ","ArrowDown"].includes(x.key)&&(c.wasKeyboardTriggerOpenRef.current=!0,x.preventDefault()))}),onFocus:pe(t.onFocus,()=>f(!0)),onBlur:pe(t.onBlur,()=>f(!1))})})})})});OP.displayName=Yy;var K$="MenubarPortal",LP=t=>{const{__scopeMenubar:e,...n}=t,r=On(e);return l.jsx(k$,{...r,...n})};LP.displayName=K$;var Ky="MenubarContent",FP=g.forwardRef((t,e)=>{const{__scopeMenubar:n,align:r="start",...s}=t,i=On(n),o=Ww(Ky,n),a=jP(Ky,n),c=z$(n),u=g.useRef(!1);return l.jsx(M$,{id:a.contentId,"aria-labelledby":a.triggerId,"data-radix-menubar-content":"",...i,...s,ref:e,align:r,onCloseAutoFocus:pe(t.onCloseAutoFocus,h=>{var f;!!!o.value&&!u.current&&((f=a.triggerRef.current)==null||f.focus()),u.current=!1,h.preventDefault()}),onFocusOutside:pe(t.onFocusOutside,h=>{const p=h.target;c().some(v=>{var x;return(x=v.ref.current)==null?void 0:x.contains(p)})&&h.preventDefault()}),onInteractOutside:pe(t.onInteractOutside,()=>{u.current=!0}),onEntryFocus:h=>{a.wasKeyboardTriggerOpenRef.current||h.preventDefault()},onKeyDown:pe(t.onKeyDown,h=>{if(["ArrowRight","ArrowLeft"].includes(h.key)){const p=h.target,f=p.hasAttribute("data-radix-menubar-subtrigger"),v=p.closest("[data-radix-menubar-content]")!==h.currentTarget,y=(o.dir==="rtl"?"ArrowRight":"ArrowLeft")===h.key;if(!y&&f||v&&y)return;let E=c().filter(j=>!j.disabled).map(j=>j.value);y&&E.reverse();const b=E.indexOf(a.value);E=o.loop?uz(E,b+1):E.slice(b+1);const[R]=E;R&&o.onMenuOpen(R)}},{checkForDefaultPrevented:!1}),style:{...t.style,"--radix-menubar-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-menubar-content-available-width":"var(--radix-popper-available-width)","--radix-menubar-content-available-height":"var(--radix-popper-available-height)","--radix-menubar-trigger-width":"var(--radix-popper-anchor-width)","--radix-menubar-trigger-height":"var(--radix-popper-anchor-height)"}})});FP.displayName=Ky;var H$="MenubarGroup",J$=g.forwardRef((t,e)=>{const{__scopeMenubar:n,...r}=t,s=On(n);return l.jsx(j$,{...s,...r,ref:e})});J$.displayName=H$;var X$="MenubarLabel",VP=g.forwardRef((t,e)=>{const{__scopeMenubar:n,...r}=t,s=On(n);return l.jsx(D$,{...s,...r,ref:e})});VP.displayName=X$;var Z$="MenubarItem",BP=g.forwardRef((t,e)=>{const{__scopeMenubar:n,...r}=t,s=On(n);return l.jsx(O$,{...s,...r,ref:e})});BP.displayName=Z$;var ez="MenubarCheckboxItem",UP=g.forwardRef((t,e)=>{const{__scopeMenubar:n,...r}=t,s=On(n);return l.jsx(L$,{...s,...r,ref:e})});UP.displayName=ez;var tz="MenubarRadioGroup",nz=g.forwardRef((t,e)=>{const{__scopeMenubar:n,...r}=t,s=On(n);return l.jsx(F$,{...s,...r,ref:e})});nz.displayName=tz;var rz="MenubarRadioItem",qP=g.forwardRef((t,e)=>{const{__scopeMenubar:n,...r}=t,s=On(n);return l.jsx(V$,{...s,...r,ref:e})});qP.displayName=rz;var sz="MenubarItemIndicator",GP=g.forwardRef((t,e)=>{const{__scopeMenubar:n,...r}=t,s=On(n);return l.jsx(B$,{...s,...r,ref:e})});GP.displayName=sz;var iz="MenubarSeparator",$P=g.forwardRef((t,e)=>{const{__scopeMenubar:n,...r}=t,s=On(n);return l.jsx(U$,{...s,...r,ref:e})});$P.displayName=iz;var oz="MenubarArrow",az=g.forwardRef((t,e)=>{const{__scopeMenubar:n,...r}=t,s=On(n);return l.jsx(q$,{...s,...r,ref:e})});az.displayName=oz;var lz="MenubarSubTrigger",zP=g.forwardRef((t,e)=>{const{__scopeMenubar:n,...r}=t,s=On(n);return l.jsx(G$,{"data-radix-menubar-subtrigger":"",...s,...r,ref:e})});zP.displayName=lz;var cz="MenubarSubContent",WP=g.forwardRef((t,e)=>{const{__scopeMenubar:n,...r}=t,s=On(n);return l.jsx($$,{...s,"data-radix-menubar-content":"",...r,ref:e,style:{...t.style,"--radix-menubar-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-menubar-content-available-width":"var(--radix-popper-available-width)","--radix-menubar-content-available-height":"var(--radix-popper-available-height)","--radix-menubar-trigger-width":"var(--radix-popper-anchor-width)","--radix-menubar-trigger-height":"var(--radix-popper-anchor-height)"}})});WP.displayName=cz;function uz(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var QP=MP,dz=DP,YP=OP,hz=LP,KP=FP,HP=VP,JP=BP,XP=UP,ZP=qP,e2=GP,t2=$P,n2=zP,r2=WP;const fz=dz,s2=g.forwardRef(({className:t,...e},n)=>l.jsx(QP,{ref:n,className:Le("flex h-10 items-center space-x-1 rounded-md border bg-background p-1",t),...e}));s2.displayName=QP.displayName;const i2=g.forwardRef(({className:t,...e},n)=>l.jsx(YP,{ref:n,className:Le("flex cursor-default select-none items-center rounded-sm px-3 py-1.5 text-sm font-medium outline-none focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground",t),...e}));i2.displayName=YP.displayName;const pz=g.forwardRef(({className:t,inset:e,children:n,...r},s)=>l.jsxs(n2,{ref:s,className:Le("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground",e&&"pl-8",t),...r,children:[n,l.jsx(lO,{className:"ml-auto h-4 w-4"})]}));pz.displayName=n2.displayName;const mz=g.forwardRef(({className:t,...e},n)=>l.jsx(r2,{ref:n,className:Le("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...e}));mz.displayName=r2.displayName;const o2=g.forwardRef(({className:t,align:e="start",alignOffset:n=-4,sideOffset:r=8,...s},i)=>l.jsx(hz,{children:l.jsx(KP,{ref:i,align:e,alignOffset:n,sideOffset:r,className:Le("z-50 min-w-[12rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...s})}));o2.displayName=KP.displayName;const a2=g.forwardRef(({className:t,inset:e,...n},r)=>l.jsx(JP,{ref:r,className:Le("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e&&"pl-8",t),...n}));a2.displayName=JP.displayName;const gz=g.forwardRef(({className:t,children:e,checked:n,...r},s)=>l.jsxs(XP,{ref:s,className:Le("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),checked:n,...r,children:[l.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:l.jsx(e2,{children:l.jsx(KA,{className:"h-4 w-4"})})}),e]}));gz.displayName=XP.displayName;const yz=g.forwardRef(({className:t,children:e,...n},r)=>l.jsxs(ZP,{ref:r,className:Le("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[l.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:l.jsx(e2,{children:l.jsx(uO,{className:"h-2 w-2 fill-current"})})}),e]}));yz.displayName=ZP.displayName;const vz=g.forwardRef(({className:t,inset:e,...n},r)=>l.jsx(HP,{ref:r,className:Le("px-2 py-1.5 text-sm font-semibold",e&&"pl-8",t),...n}));vz.displayName=HP.displayName;const xz=g.forwardRef(({className:t,...e},n)=>l.jsx(t2,{ref:n,className:Le("-mx-1 my-1 h-px bg-muted",t),...e}));xz.displayName=t2.displayName;const wz=({user:t,handleLogout:e,navigate:n})=>l.jsx(s2,{children:l.jsxs(fz,{children:[l.jsx(i2,{className:"bg-transparent text-black border border-white",children:"Menu"}),l.jsx(o2,{children:Jq.filter(r=>r.roles.includes(t.role)).map(r=>{const s=r.icon;return l.jsxs(a2,{className:r.colorClass+" flex gap-2 items-center",onClick:()=>r.key==="logout"?e():n(r.route),children:[l.jsx(s,{className:"w-4 h-4"}),r.label]},r.key)})})]})}),l2=g.forwardRef(({className:t,...e},n)=>l.jsx("div",{ref:n,className:Le("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));l2.displayName="Card";const c2=g.forwardRef(({className:t,...e},n)=>l.jsx("div",{ref:n,className:Le("flex flex-col space-y-1.5 p-6",t),...e}));c2.displayName="CardHeader";const u2=g.forwardRef(({className:t,...e},n)=>l.jsx("h3",{ref:n,className:Le("text-2xl font-semibold leading-none tracking-tight",t),...e}));u2.displayName="CardTitle";const d2=g.forwardRef(({className:t,...e},n)=>l.jsx("p",{ref:n,className:Le("text-sm text-muted-foreground",t),...e}));d2.displayName="CardDescription";const h2=g.forwardRef(({className:t,...e},n)=>l.jsx("div",{ref:n,className:Le("p-6 pt-0",t),...e}));h2.displayName="CardContent";const Ez=g.forwardRef(({className:t,...e},n)=>l.jsx("div",{ref:n,className:Le("flex items-center p-6 pt-0",t),...e}));Ez.displayName="CardFooter";var Yw="Avatar",[bz,QQ]=Kl(Yw),[Cz,f2]=bz(Yw),p2=g.forwardRef((t,e)=>{const{__scopeAvatar:n,...r}=t,[s,i]=g.useState("idle");return l.jsx(Cz,{scope:n,imageLoadingStatus:s,onImageLoadingStatusChange:i,children:l.jsx(De.span,{...r,ref:e})})});p2.displayName=Yw;var m2="AvatarImage",g2=g.forwardRef((t,e)=>{const{__scopeAvatar:n,src:r,onLoadingStatusChange:s=()=>{},...i}=t,o=f2(m2,n),a=_z(r,i.referrerPolicy),c=cn(u=>{s(u),o.onImageLoadingStatusChange(u)});return en(()=>{a!=="idle"&&c(a)},[a,c]),a==="loaded"?l.jsx(De.img,{...i,ref:e,src:r}):null});g2.displayName=m2;var y2="AvatarFallback",v2=g.forwardRef((t,e)=>{const{__scopeAvatar:n,delayMs:r,...s}=t,i=f2(y2,n),[o,a]=g.useState(r===void 0);return g.useEffect(()=>{if(r!==void 0){const c=window.setTimeout(()=>a(!0),r);return()=>window.clearTimeout(c)}},[r]),o&&i.imageLoadingStatus!=="loaded"?l.jsx(De.span,{...s,ref:e}):null});v2.displayName=y2;function _z(t,e){const[n,r]=g.useState("idle");return en(()=>{if(!t){r("error");return}let s=!0;const i=new window.Image,o=a=>()=>{s&&r(a)};return r("loading"),i.onload=o("loaded"),i.onerror=o("error"),i.src=t,e&&(i.referrerPolicy=e),()=>{s=!1}},[t,e]),n}var x2=p2,w2=g2,E2=v2;const b2=g.forwardRef(({className:t,...e},n)=>l.jsx(x2,{ref:n,className:Le("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",t),...e}));b2.displayName=x2.displayName;const Tz=g.forwardRef(({className:t,...e},n)=>l.jsx(w2,{ref:n,className:Le("aspect-square h-full w-full",t),...e}));Tz.displayName=w2.displayName;const C2=g.forwardRef(({className:t,...e},n)=>l.jsx(E2,{ref:n,className:Le("flex h-full w-full items-center justify-center rounded-full bg-muted",t),...e}));C2.displayName=E2.displayName;const Az=({user:t,lastUpdateTime:e})=>{var n;return l.jsxs(l2,{className:"my-6 bg-gray-900/80 backdrop-blur-sm border border-red-900/30 text-center relative overflow-hidden",children:[l.jsx("div",{className:"absolute inset-0 pointer-events-none",style:{background:"radial-gradient(circle at 50% 0%, rgba(239,68,68,0.15) 0%, transparent 70%)"}}),l.jsxs(c2,{className:"relative z-10 flex flex-col items-center",children:[l.jsx(b2,{className:"mb-2 h-16 w-16 border-2 border-red-500 shadow-lg",children:l.jsx(C2,{className:"text-2xl bg-red-900/80 text-white",children:((n=t.name)==null?void 0:n.split(" ").map(r=>r[0]).join("").toUpperCase())||l.jsx(ry,{})})}),l.jsxs(u2,{className:"text-white",children:["Welcome, ",t.name,"!"]}),l.jsx(d2,{children:"Your loyalty card is ready to use"})]}),l.jsx(h2,{className:"relative z-10",children:e&&l.jsxs("div",{className:"mt-2 flex items-center justify-center text-sm text-gray-500",children:[l.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full mr-2 animate-pulse"}),"Last updated: ",e.toLocaleTimeString()]})})]})};function kn({className:t,...e}){return l.jsx("div",{className:Le("animate-pulse rounded-md bg-muted",t),...e})}const Sz=()=>l.jsxs("div",{className:"flex items-center justify-between px-4 py-4 mb-4",children:[l.jsx(kn,{className:"h-8 w-32 rounded"}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx(kn,{className:"h-8 w-20 rounded"}),l.jsx(kn,{className:"h-8 w-20 rounded"}),l.jsx(kn,{className:"h-8 w-20 rounded"})]})]}),Iz=()=>l.jsxs("div",{className:"mb-6 bg-gray-900/80 backdrop-blur-sm border border-red-900/30 text-center relative overflow-hidden rounded-2xl",children:[l.jsxs("div",{className:"flex flex-col items-center p-6",children:[l.jsx(kn,{className:"h-16 w-16 rounded-full mb-2"}),l.jsx(kn,{className:"h-6 w-40 mb-2"}),l.jsx(kn,{className:"h-4 w-56 mb-2"})]}),l.jsx("div",{className:"px-6 pb-4",children:l.jsx(kn,{className:"h-4 w-32 mx-auto"})})]}),Rz=()=>l.jsxs("div",{className:"flex gap-4 mb-6 justify-center",children:[l.jsx(kn,{className:"h-8 w-24 rounded"}),l.jsx(kn,{className:"h-8 w-24 rounded"}),l.jsx(kn,{className:"h-8 w-24 rounded"})]}),Nz=()=>l.jsxs("div",{className:"bg-gradient-to-br from-gray-900/90 via-black/80 to-red-950/90 border border-red-900/40 rounded-2xl p-6 min-h-[220px] shadow-2xl mb-6",children:[l.jsx(kn,{className:"h-6 w-40 mb-4"}),l.jsx(kn,{className:"h-4 w-56 mb-4"}),l.jsx(kn,{className:"h-4 w-full rounded mb-2"}),l.jsx(kn,{className:"h-8 w-32 mt-6 mx-auto"})]}),Pz=({reward:t,onClose:e})=>{const n=Qr(),[r,s]=g.useState(!0),[i,o]=g.useState(!0);g.useEffect(()=>{const u=setTimeout(()=>s(!1),5e3),h=setTimeout(()=>o(!1),3e3);return()=>{clearTimeout(u),clearTimeout(h)}},[]);const a=u=>{switch(u){case"percentage":return"💯";case"fixed_amount":return"💰";case"free_item":return"🎁";default:return"🎉"}},c=u=>{switch(u){case"percentage":return"from-purple-600 to-purple-700";case"fixed_amount":return"from-green-600 to-green-700";case"free_item":return"from-blue-600 to-blue-700";default:return"from-red-600 to-red-700"}};return l.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/80 backdrop-blur-sm",children:[r&&l.jsx(kN,{width:window.innerWidth,height:window.innerHeight,numberOfPieces:300,recycle:!1,colors:["#ef4444","#fff","#facc15","#ff9800","#a3e635","#8b5cf6"]}),i&&l.jsx("div",{className:"absolute inset-0 pointer-events-none",children:l.jsxs("div",{className:"absolute inset-0 flex items-center justify-center",children:[l.jsx("div",{className:"w-96 h-96 border-4 border-red-500/30 rounded-full animate-ping"}),l.jsx("div",{className:"absolute w-80 h-80 border-4 border-yellow-500/30 rounded-full animate-ping",style:{animationDelay:"0.5s"}}),l.jsx("div",{className:"absolute w-64 h-64 border-4 border-green-500/30 rounded-full animate-ping",style:{animationDelay:"1s"}})]})}),l.jsxs("div",{className:"relative z-10 bg-gradient-to-br from-gray-900/95 to-red-900/95 border border-red-800/50 rounded-3xl p-8 max-w-md mx-4 text-center shadow-2xl",children:[l.jsxs("div",{className:"mb-6",children:[l.jsx("div",{className:"text-6xl mb-4 animate-bounce",children:a(t.rewardType)}),l.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"🎉 Congratulations! 🎉"}),l.jsx("p",{className:"text-gray-300 text-lg",children:"You've earned your reward!"})]}),l.jsxs("div",{className:"bg-gradient-to-r from-gray-800/50 to-red-800/50 border border-red-700/50 rounded-2xl p-6 mb-6",children:[l.jsx("div",{className:"text-4xl font-bold text-white mb-2",children:t.rewardDescription}),l.jsx("div",{className:"text-gray-300 mb-4",children:t.settingsSnapshot.descriptionMessage}),l.jsxs("div",{className:"space-y-2 text-sm",children:[l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-gray-400",children:"Type:"}),l.jsx("span",{className:"text-white capitalize",children:t.rewardType})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-gray-400",children:"Value:"}),l.jsx("span",{className:"text-white",children:t.rewardValue})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-gray-400",children:"Goal:"}),l.jsxs("span",{className:"text-white",children:[t.settingsSnapshot.purchaseLimit," purchases"]})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-gray-400",children:"Earned:"}),l.jsx("span",{className:"text-white",children:t.createdAt.toDate().toLocaleDateString()})]})]})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs(Ze,{onClick:()=>n("/rewards"),className:`w-full bg-gradient-to-r ${c(t.rewardType)} hover:opacity-90 text-white font-semibold py-3 text-lg`,children:[l.jsx(Hi,{className:"w-5 h-5 mr-2"}),"View All Rewards"]}),l.jsx(Ze,{onClick:e,variant:"outline",className:"w-full border-gray-600 text-gray-300 hover:bg-gray-800 hover:text-white",children:"Continue Shopping"})]}),l.jsx("div",{className:"mt-6 flex items-center justify-center",children:l.jsxs("div",{className:"inline-flex items-center px-4 py-2 bg-gradient-to-r from-yellow-600 to-yellow-700 border border-yellow-500 rounded-full",children:[l.jsx(Hp,{className:"w-4 h-4 mr-2 text-yellow-200"}),l.jsx("span",{className:"text-yellow-100 text-sm font-medium",children:"ACHIEVEMENT UNLOCKED"})]})})]})]})},kz=({totalUsers:t,customers:e,activeUsers:n,totalRewards:r,totalOffers:s,activeOffers:i,recentUsers:o})=>l.jsxs("div",{className:"space-y-8",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[l.jsxs("div",{className:"bg-gradient-to-r from-blue-900/50 to-blue-800/50 border border-blue-700/50 rounded-xl p-6 text-center",children:[l.jsx("div",{className:"text-4xl font-bold text-blue-400 mb-2",children:t}),l.jsx("div",{className:"text-blue-300 text-lg",children:"Total Users"}),l.jsx("div",{className:"text-blue-400 text-sm mt-2",children:"All registered users"})]}),l.jsxs("div",{className:"bg-gradient-to-r from-green-900/50 to-green-800/50 border border-green-700/50 rounded-xl p-6 text-center",children:[l.jsx("div",{className:"text-4xl font-bold text-green-400 mb-2",children:e.length}),l.jsx("div",{className:"text-green-300 text-lg",children:"Customers"}),l.jsx("div",{className:"text-green-400 text-sm mt-2",children:"Loyalty program members"})]}),l.jsxs("div",{className:"bg-gradient-to-r from-purple-900/50 to-purple-800/50 border border-purple-700/50 rounded-xl p-6 text-center",children:[l.jsx("div",{className:"text-4xl font-bold text-purple-400 mb-2",children:n}),l.jsx("div",{className:"text-purple-300 text-lg",children:"Active Users"}),l.jsx("div",{className:"text-purple-400 text-sm mt-2",children:"Last 7 days"})]}),l.jsxs("div",{className:"bg-gradient-to-r from-yellow-900/50 to-yellow-800/50 border border-yellow-700/50 rounded-xl p-6 text-center",children:[l.jsx("div",{className:"text-4xl font-bold text-yellow-400 mb-2",children:r}),l.jsx("div",{className:"text-yellow-300 text-lg",children:"Total Rewards"}),l.jsx("div",{className:"text-yellow-400 text-sm mt-2",children:"Earned by customers"})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs("div",{className:"bg-gradient-to-r from-red-900/50 to-red-800/50 border border-red-700/50 rounded-xl p-6",children:[l.jsxs("h3",{className:"text-xl font-bold text-white mb-4 flex items-center",children:[l.jsx(Hi,{className:"w-5 h-5 mr-2 text-red-400"}),"Offers Status"]}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"text-gray-300",children:"Total Offers:"}),l.jsx("span",{className:"text-white font-semibold",children:s})]}),l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"text-gray-300",children:"Active Offers:"}),l.jsx("span",{className:"text-green-400 font-semibold",children:i})]}),l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"text-gray-300",children:"Inactive Offers:"}),l.jsx("span",{className:"text-red-400 font-semibold",children:s-i})]})]})]}),l.jsxs("div",{className:"bg-gradient-to-r from-indigo-900/50 to-indigo-800/50 border border-indigo-700/50 rounded-xl p-6",children:[l.jsxs("h3",{className:"text-xl font-bold text-white mb-4 flex items-center",children:[l.jsx(QA,{className:"w-5 h-5 mr-2 text-indigo-400"}),"User Activity"]}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"text-gray-300",children:"Active Rate:"}),l.jsxs("span",{className:"text-white font-semibold",children:[e.length>0?Math.round(n/e.length*100):0,"%"]})]}),l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"text-gray-300",children:"Avg. Rewards:"}),l.jsx("span",{className:"text-white font-semibold",children:e.length>0?(r/e.length).toFixed(1):0})]}),l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"text-gray-300",children:"Engagement:"}),l.jsx("span",{className:"text-green-400 font-semibold",children:n>0?"High":"Low"})]})]})]})]}),l.jsxs("div",{className:"bg-gray-800/50 border border-gray-700 rounded-xl p-6",children:[l.jsxs("h3",{className:"text-xl font-bold text-white mb-4 flex items-center",children:[l.jsx(dx,{className:"w-5 h-5 mr-2 text-yellow-400"}),"Recent User Activity"]}),l.jsx("div",{className:"space-y-3",children:o.map(a=>l.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-700/30 rounded-lg",children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("div",{className:"w-8 h-8 bg-red-600 rounded-full flex items-center justify-center",children:l.jsx("span",{className:"text-white text-sm font-bold",children:a.name.charAt(0)})}),l.jsxs("div",{children:[l.jsx("div",{className:"text-white font-medium",children:a.name}),l.jsx("div",{className:"text-gray-400 text-sm",children:a.email})]})]}),l.jsxs("div",{className:"text-right",children:[l.jsxs("div",{className:"text-white font-medium",children:[a.purchases," purchases"]}),l.jsx("div",{className:"text-gray-400 text-sm",children:a.lastScanAt?a.lastScanAt.toDate().toLocaleDateString():"Never"})]})]},a.id))})]})]}),Mz=({users:t,searchTerm:e,setSearchTerm:n,statusFilter:r,setStatusFilter:s,roleFilter:i,setRoleFilter:o})=>{var E;const[a,c]=g.useState(null),[u,h]=g.useState(!1),[p,f]=g.useState(!1),[v,x]=g.useState({name:"",email:"",feedback:""}),y=b=>{c(b),h(!0)},w=b=>{b.role==="customer"&&(x({name:b.name,email:b.email,feedback:b.feedback||""}),c(b),f(!0))},T=()=>{console.log("Saving user:",a==null?void 0:a.id,v),f(!1),c(null)};return l.jsxs("div",{className:"space-y-6",children:[l.jsx("div",{className:"bg-gray-800/50 border border-gray-700 rounded-xl p-6",children:l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Search Users"}),l.jsxs("div",{className:"relative",children:[l.jsx(gO,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),l.jsx(qn,{placeholder:"Search by name or email...",value:e,onChange:b=>n(b.target.value),className:"pl-10 bg-gray-700/50 border-gray-600 text-white"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Status Filter"}),l.jsxs("select",{value:r,onChange:b=>s(b.target.value),className:"w-full bg-gray-700/50 border border-gray-600 text-white rounded-md px-3 py-2",children:[l.jsx("option",{value:"all",children:"All Status"}),l.jsx("option",{value:"active",children:"Active (Last 7 days)"}),l.jsx("option",{value:"inactive",children:"Inactive"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Role Filter"}),l.jsxs("select",{value:i,onChange:b=>o(b.target.value),className:"w-full bg-gray-700/50 border border-gray-600 text-white rounded-md px-3 py-2",children:[l.jsx("option",{value:"all",children:"All Roles"}),l.jsx("option",{value:"customer",children:"Customers"}),l.jsx("option",{value:"admin",children:"Admins"}),l.jsx("option",{value:"super_admin",children:"Super Admins"})]})]})]})}),l.jsxs("div",{className:"bg-gray-800/50 border border-gray-700 rounded-xl overflow-hidden",children:[l.jsx("div",{className:"p-6 border-b border-gray-700",children:l.jsxs("h3",{className:"text-xl font-bold text-white",children:["Users (",t.length,")"]})}),l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"w-full",children:[l.jsx("thead",{className:"bg-gray-700/50",children:l.jsxs("tr",{children:[l.jsx("th",{className:"text-left p-4 text-gray-300 font-medium",children:"User"}),l.jsx("th",{className:"text-left p-4 text-gray-300 font-medium",children:"Role"}),l.jsx("th",{className:"text-left p-4 text-gray-300 font-medium",children:"Status"}),l.jsx("th",{className:"text-left p-4 text-gray-300 font-medium",children:"Purchases"}),l.jsx("th",{className:"text-left p-4 text-gray-300 font-medium",children:"Rewards"}),l.jsx("th",{className:"text-left p-4 text-gray-300 font-medium",children:"Last Activity"}),l.jsx("th",{className:"text-left p-4 text-gray-300 font-medium",children:"Actions"})]})}),l.jsx("tbody",{children:t.map(b=>{var R;return l.jsxs("tr",{className:"border-b border-gray-700/50 hover:bg-gray-700/30",children:[l.jsx("td",{className:"p-4",children:l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("div",{className:"w-10 h-10 bg-red-600 rounded-full flex items-center justify-center",children:l.jsx("span",{className:"text-white text-sm font-bold",children:b.name.charAt(0)})}),l.jsxs("div",{children:[l.jsx("div",{className:"text-white font-medium",children:b.name}),l.jsx("div",{className:"text-gray-400 text-sm",children:b.email})]})]})}),l.jsx("td",{className:"p-4",children:l.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${b.role==="super_admin"?"bg-purple-900/50 text-purple-300 border border-purple-700/50":b.role==="admin"?"bg-blue-900/50 text-blue-300 border border-blue-700/50":"bg-green-900/50 text-green-300 border border-green-700/50"}`,children:b.role.replace("_"," ").toUpperCase()})}),l.jsx("td",{className:"p-4",children:l.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${b.lastScanAt&&new Date().getTime()-b.lastScanAt.toDate().getTime()<7*24*60*60*1e3?"bg-green-900/50 text-green-300 border border-green-700/50":"bg-gray-900/50 text-gray-300 border border-gray-700/50"}`,children:b.lastScanAt&&new Date().getTime()-b.lastScanAt.toDate().getTime()<7*24*60*60*1e3?"Active":"Inactive"})}),l.jsx("td",{className:"p-4 text-white",children:b.purchases}),l.jsx("td",{className:"p-4 text-white",children:((R=b.completedRewards)==null?void 0:R.length)||0}),l.jsx("td",{className:"p-4 text-gray-300",children:b.lastScanAt?b.lastScanAt.toDate().toLocaleDateString():"Never"}),l.jsx("td",{className:"p-4",children:l.jsxs("div",{className:"flex space-x-2",children:[l.jsx(Ze,{size:"sm",variant:"outline",className:"border-gray-600 text-gray-300 hover:bg-gray-700",onClick:()=>y(b),children:l.jsx(hx,{className:"w-4 h-4"})}),l.jsx(Ze,{size:"sm",variant:"outline",className:"border-gray-600 text-gray-300 hover:bg-gray-700",onClick:()=>w(b),disabled:b.role!=="customer",title:b.role!=="customer"?"Only customers can be edited":"Edit customer",children:l.jsx(eS,{className:"w-4 h-4"})})]})})]},b.id)})})]})})]}),u&&a&&l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:l.jsxs("div",{className:"bg-gray-800 border border-gray-700 rounded-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[l.jsx("div",{className:"p-6 border-b border-gray-700",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("h3",{className:"text-xl font-bold text-white",children:"User Profile"}),l.jsx("button",{onClick:()=>h(!1),className:"text-gray-400 hover:text-white",children:l.jsx(Mu,{className:"w-6 h-6"})})]})}),l.jsxs("div",{className:"p-6 space-y-6",children:[l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsx("div",{className:"w-20 h-20 bg-red-600 rounded-full flex items-center justify-center",children:l.jsx("span",{className:"text-white text-2xl font-bold",children:a.name.charAt(0)})}),l.jsxs("div",{children:[l.jsx("h4",{className:"text-2xl font-bold text-white",children:a.name}),l.jsx("p",{className:"text-gray-400",children:a.email}),l.jsx("span",{className:`px-3 py-1 rounded-full text-sm ${a.role==="super_admin"?"bg-purple-900/50 text-purple-300 border border-purple-700/50":a.role==="admin"?"bg-blue-900/50 text-blue-300 border border-blue-700/50":"bg-green-900/50 text-green-300 border border-green-700/50"}`,children:a.role.replace("_"," ").toUpperCase()})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[l.jsxs("div",{className:"bg-gray-700/30 rounded-lg p-4 text-center",children:[l.jsx("div",{className:"text-2xl font-bold text-blue-400 mb-2",children:a.purchases}),l.jsx("div",{className:"text-gray-300 text-sm",children:"Total Scans"})]}),l.jsxs("div",{className:"bg-gray-700/30 rounded-lg p-4 text-center",children:[l.jsx("div",{className:"text-2xl font-bold text-green-400 mb-2",children:((E=a.completedRewards)==null?void 0:E.length)||0}),l.jsx("div",{className:"text-gray-300 text-sm",children:"Rewards Earned"})]}),l.jsxs("div",{className:"bg-gray-700/30 rounded-lg p-4 text-center",children:[l.jsx("div",{className:"text-2xl font-bold text-purple-400 mb-2",children:a.role==="customer"?a.currentOfferProgress||0:"N/A"}),l.jsx("div",{className:"text-gray-300 text-sm",children:a.role==="customer"?"Current Progress":"Admin Scans"})]})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("h5",{className:"text-lg font-semibold text-white flex items-center",children:[l.jsx(QA,{className:"w-5 h-5 mr-2 text-yellow-400"}),"Activity Details"]}),l.jsx("div",{className:"bg-gray-700/30 rounded-lg p-4",children:l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("div",{className:"text-gray-400 text-sm mb-1",children:"Member Since"}),l.jsx("div",{className:"text-white font-medium",children:a.createdAt.toDate().toLocaleDateString()})]}),l.jsxs("div",{children:[l.jsx("div",{className:"text-gray-400 text-sm mb-1",children:"Last Activity"}),l.jsx("div",{className:"text-white font-medium",children:a.lastScanAt?a.lastScanAt.toDate().toLocaleDateString():"Never"})]})]})}),a.feedback&&l.jsxs("div",{className:"bg-gray-700/30 rounded-lg p-4",children:[l.jsx("div",{className:"text-gray-400 text-sm mb-2",children:"Feedback"}),l.jsx("div",{className:"text-white",children:a.feedback})]}),a.role==="customer"&&l.jsxs("div",{className:"bg-gray-700/30 rounded-lg p-4",children:[l.jsx("div",{className:"text-gray-400 text-sm mb-2",children:"Current Offer Progress"}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"text-gray-300",children:"Current Offer:"}),l.jsx("span",{className:"text-white",children:a.currentOfferId||"Default Offer"})]}),l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"text-gray-300",children:"Progress:"}),l.jsxs("span",{className:"text-white",children:[a.currentOfferProgress||0," scans"]})]}),l.jsx("div",{className:"w-full bg-gray-600 rounded-full h-2 mt-2",children:l.jsx("div",{className:"bg-green-500 h-2 rounded-full transition-all duration-300",style:{width:`${Math.min((a.currentOfferProgress||0)*10,100)}%`}})})]})]}),a.role==="customer"&&a.completedRewards&&a.completedRewards.length>0&&l.jsxs("div",{className:"bg-gray-700/30 rounded-lg p-4",children:[l.jsx("div",{className:"text-gray-400 text-sm mb-2",children:"Recent Rewards"}),l.jsx("div",{className:"space-y-2",children:a.completedRewards.slice(0,3).map((b,R)=>l.jsxs("div",{className:"flex justify-between items-center text-sm",children:[l.jsx("span",{className:"text-white",children:b.rewardDescription}),l.jsx("span",{className:"text-gray-400",children:b.createdAt.toDate().toLocaleDateString()})]},R))})]}),a.role!=="customer"&&l.jsxs("div",{className:"bg-gray-700/30 rounded-lg p-4",children:[l.jsx("div",{className:"text-gray-400 text-sm mb-2",children:"Admin Information"}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"text-gray-300",children:"Role Level:"}),l.jsx("span",{className:"text-white",children:a.role==="super_admin"?"Super Administrator":"Administrator"})]}),l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"text-gray-300",children:"Permissions:"}),l.jsx("span",{className:"text-white",children:a.role==="super_admin"?"Full system access":"User and offer management"})]})]})]})]})]})]})}),p&&a&&l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:l.jsxs("div",{className:"bg-gray-800 border border-gray-700 rounded-xl max-w-md w-full",children:[l.jsx("div",{className:"p-6 border-b border-gray-700",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("h3",{className:"text-xl font-bold text-white",children:"Edit Customer"}),l.jsx("button",{onClick:()=>f(!1),className:"text-gray-400 hover:text-white",children:l.jsx(Mu,{className:"w-6 h-6"})})]})}),l.jsxs("div",{className:"p-6 space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Name"}),l.jsx(qn,{value:v.name,onChange:b=>x({...v,name:b.target.value}),className:"bg-gray-700/50 border-gray-600 text-white"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Email"}),l.jsx(qn,{value:v.email,onChange:b=>x({...v,email:b.target.value}),className:"bg-gray-700/50 border-gray-600 text-white"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Feedback"}),l.jsx("textarea",{value:v.feedback,onChange:b=>x({...v,feedback:b.target.value}),className:"w-full bg-gray-700/50 border border-gray-600 text-white rounded-md px-3 py-2 h-20 resize-none",placeholder:"Customer feedback..."})]}),l.jsxs("div",{className:"flex space-x-3 pt-4",children:[l.jsx(Ze,{onClick:T,className:"bg-gradient-to-r from-green-600 to-green-700 hover:from-green-700 hover:to-green-800",children:"Save Changes"}),l.jsx(Ze,{onClick:()=>f(!1),variant:"outline",className:"border-gray-600 text-gray-300 hover:bg-gray-700",children:"Cancel"})]})]})]})})]})},jz=({offers:t})=>l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("h3",{className:"text-xl font-bold text-white",children:"Manage Offers"}),l.jsxs(Ze,{className:"bg-gradient-to-r from-green-600 to-green-700 hover:from-green-700 hover:to-green-800",children:[l.jsx(pO,{className:"w-4 h-4 mr-2"}),"Create New Offer"]})]}),l.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:t.map(e=>l.jsxs("div",{className:`bg-gradient-to-br ${e.isActive?"from-green-900/40 to-green-800/40 border-green-700/50":"from-gray-800/40 to-gray-700/40 border-gray-600/50"} border rounded-xl p-4`,children:[l.jsxs("div",{className:"flex items-center justify-between mb-3",children:[l.jsx("h4",{className:"text-lg font-semibold text-white",children:e.name}),l.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${e.isActive?"bg-green-900/50 text-green-300 border border-green-700/50":"bg-gray-900/50 text-gray-300 border border-gray-600/50"}`,children:e.isActive?"ACTIVE":"INACTIVE"})]}),l.jsx("p",{className:"text-gray-300 text-sm mb-3",children:e.description}),l.jsxs("div",{className:"space-y-2 text-sm mb-4",children:[l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-gray-400",children:"Stamps:"}),l.jsx("span",{className:"text-white",children:e.stampRequirement})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-gray-400",children:"Reward:"}),l.jsx("span",{className:"text-white",children:e.rewardDescription})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-gray-400",children:"Type:"}),l.jsx("span",{className:"text-white capitalize",children:e.rewardType})]})]}),l.jsxs("div",{className:"flex space-x-2",children:[l.jsx(Ze,{size:"sm",variant:"outline",className:"border-gray-600 text-gray-300 hover:bg-gray-700",children:l.jsx(eS,{className:"w-4 h-4"})}),l.jsx(Ze,{size:"sm",variant:"outline",className:"border-gray-600 text-gray-300 hover:bg-gray-700",children:l.jsx(hx,{className:"w-4 h-4"})}),l.jsx(Ze,{size:"sm",variant:"outline",className:"border-red-600 text-red-300 hover:bg-red-700/20",children:l.jsx(vO,{className:"w-4 h-4"})})]})]},e.offerId))})]}),Dz=({allUsers:t})=>{const e=t.flatMap(s=>(s.completedRewards||[]).map(i=>({...i,userName:s.name,userEmail:s.email,userId:s.id}))),n=e.filter(s=>!s.claimedAt),r=e.filter(s=>s.claimedAt);return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[l.jsxs("div",{className:"bg-gradient-to-r from-blue-900/50 to-blue-800/50 border border-blue-700/50 rounded-xl p-6 text-center",children:[l.jsx("div",{className:"text-3xl font-bold text-blue-400 mb-2",children:e.length}),l.jsx("div",{className:"text-blue-300 text-lg",children:"Total Rewards"})]}),l.jsxs("div",{className:"bg-gradient-to-r from-green-900/50 to-green-800/50 border border-green-700/50 rounded-xl p-6 text-center",children:[l.jsx("div",{className:"text-3xl font-bold text-green-400 mb-2",children:n.length}),l.jsx("div",{className:"text-green-300 text-lg",children:"Active Rewards"})]}),l.jsxs("div",{className:"bg-gradient-to-r from-yellow-900/50 to-yellow-800/50 border border-yellow-700/50 rounded-xl p-6 text-center",children:[l.jsx("div",{className:"text-3xl font-bold text-yellow-400 mb-2",children:r.length}),l.jsx("div",{className:"text-yellow-300 text-lg",children:"Claimed Rewards"})]})]}),l.jsxs("div",{className:"bg-gray-800/50 border border-gray-700 rounded-xl p-6",children:[l.jsxs("h3",{className:"text-xl font-bold text-white mb-4",children:["Active Rewards (",n.length,")"]}),l.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:n.map(s=>l.jsxs("div",{className:"bg-gradient-to-br from-green-900/40 to-green-800/40 border border-green-700/50 rounded-xl p-4",children:[l.jsxs("div",{className:"flex items-center justify-between mb-3",children:[l.jsx("div",{className:"text-lg font-semibold text-white",children:s.rewardDescription}),l.jsx("span",{className:"text-xs text-green-300 bg-green-900/50 px-2 py-1 rounded-full",children:"ACTIVE"})]}),l.jsxs("div",{className:"space-y-2 text-sm",children:[l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-gray-400",children:"User:"}),l.jsx("span",{className:"text-white",children:s.userName})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-gray-400",children:"Type:"}),l.jsx("span",{className:"text-white capitalize",children:s.rewardType})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-gray-400",children:"Value:"}),l.jsx("span",{className:"text-white",children:s.rewardValue})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-gray-400",children:"Earned:"}),l.jsx("span",{className:"text-white",children:s.createdAt.toDate().toLocaleDateString()})]})]})]},s.rewardId))})]}),r.length>0&&l.jsxs("div",{className:"bg-gray-800/50 border border-gray-700 rounded-xl p-6",children:[l.jsxs("h3",{className:"text-xl font-bold text-white mb-4",children:["Claimed Rewards (",r.length,")"]}),l.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:r.map(s=>{var i;return l.jsxs("div",{className:"bg-gradient-to-br from-yellow-900/40 to-yellow-800/40 border border-yellow-700/50 rounded-xl p-4",children:[l.jsxs("div",{className:"flex items-center justify-between mb-3",children:[l.jsx("div",{className:"text-lg font-semibold text-white",children:s.rewardDescription}),l.jsx("span",{className:"text-xs text-yellow-300 bg-yellow-900/50 px-2 py-1 rounded-full",children:"CLAIMED"})]}),l.jsxs("div",{className:"space-y-2 text-sm",children:[l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-gray-400",children:"User:"}),l.jsx("span",{className:"text-white",children:s.userName})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-gray-400",children:"Type:"}),l.jsx("span",{className:"text-white capitalize",children:s.rewardType})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-gray-400",children:"Value:"}),l.jsx("span",{className:"text-white",children:s.rewardValue})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-gray-400",children:"Earned:"}),l.jsx("span",{className:"text-white",children:s.createdAt.toDate().toLocaleDateString()})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-gray-400",children:"Redeemed:"}),l.jsx("span",{className:"text-yellow-300 font-medium",children:(i=s.claimedAt)==null?void 0:i.toDate().toLocaleDateString()})]})]})]},s.rewardId)})})]})]})},Oz=({allUsers:t,offers:e})=>{const n=t.filter(i=>i.role==="customer"),r=n.reduce((i,o)=>{var a;return i+(((a=o.completedRewards)==null?void 0:a.length)||0)},0),s=n.filter(i=>i.lastScanAt&&new Date().getTime()-i.lastScanAt.toDate().getTime()<7*24*60*60*1e3).length;return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[l.jsxs("div",{className:"bg-gradient-to-r from-blue-900/50 to-blue-800/50 border border-blue-700/50 rounded-xl p-6 text-center",children:[l.jsx("div",{className:"text-3xl font-bold text-blue-400 mb-2",children:n.length}),l.jsx("div",{className:"text-blue-300 text-lg",children:"Total Customers"})]}),l.jsxs("div",{className:"bg-gradient-to-r from-green-900/50 to-green-800/50 border border-green-700/50 rounded-xl p-6 text-center",children:[l.jsx("div",{className:"text-3xl font-bold text-green-400 mb-2",children:r}),l.jsx("div",{className:"text-green-300 text-lg",children:"Total Rewards"})]}),l.jsxs("div",{className:"bg-gradient-to-r from-purple-900/50 to-purple-800/50 border border-purple-700/50 rounded-xl p-6 text-center",children:[l.jsx("div",{className:"text-3xl font-bold text-purple-400 mb-2",children:s}),l.jsx("div",{className:"text-purple-300 text-lg",children:"Active Users"})]}),l.jsxs("div",{className:"bg-gradient-to-r from-yellow-900/50 to-yellow-800/50 border border-yellow-700/50 rounded-xl p-6 text-center",children:[l.jsx("div",{className:"text-3xl font-bold text-yellow-400 mb-2",children:e.length}),l.jsx("div",{className:"text-yellow-300 text-lg",children:"Total Offers"})]})]}),l.jsxs("div",{className:"bg-gray-800/50 border border-gray-700 rounded-xl p-6",children:[l.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:"Performance Overview"}),l.jsx("div",{className:"h-64 bg-gray-700/30 rounded-lg flex items-center justify-center",children:l.jsxs("div",{className:"text-center text-gray-400",children:[l.jsx(Jp,{className:"w-16 h-16 mx-auto mb-4 opacity-50"}),l.jsx("p",{children:"Performance charts coming soon"})]})})]})]})},Lz=({user:t})=>l.jsx("div",{className:"space-y-6",children:l.jsxs("div",{className:"bg-gray-800/50 border border-gray-700 rounded-xl p-6",children:[l.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:"System Settings"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs("div",{children:[l.jsx("h4",{className:"text-lg font-semibold text-white mb-3",children:"General Settings"}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Default Offer"}),l.jsx("select",{className:"w-full bg-gray-700/50 border border-gray-600 text-white rounded-md px-3 py-2",children:l.jsx("option",{children:"Select default offer for new users"})})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Session Timeout"}),l.jsx(qn,{type:"number",placeholder:"24",className:"bg-gray-700/50 border-gray-600 text-white"})]})]})]}),l.jsxs("div",{children:[l.jsx("h4",{className:"text-lg font-semibold text-white mb-3",children:"Security Settings"}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("input",{type:"checkbox",id:"multiDevice",className:"rounded"}),l.jsx("label",{htmlFor:"multiDevice",className:"text-gray-300",children:"Allow multi-device login"})]}),l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("input",{type:"checkbox",id:"sessionValidation",className:"rounded"}),l.jsx("label",{htmlFor:"sessionValidation",className:"text-gray-300",children:"Enable session validation"})]})]})]})]}),l.jsx("div",{className:"mt-6 flex justify-end",children:l.jsx(Ze,{className:"bg-gradient-to-r from-red-600 to-red-700 hover:from-red-700 hover:to-red-800",children:"Save Settings"})})]})}),Fz=({user:t,allUsers:e,offers:n,onLogout:r,onScan:s})=>{var P;const[i,o]=g.useState(()=>localStorage.getItem("adminActiveTab")||"overview"),[a,c]=g.useState(""),[u,h]=g.useState("all"),[p,f]=g.useState("all"),[v,x]=g.useState(!1),y=Qr(),w=e.filter(k=>{const O=k.name.toLowerCase().includes(a.toLowerCase())||k.email.toLowerCase().includes(a.toLowerCase()),L=u==="all"||u==="active"&&k.lastScanAt&&new Date().getTime()-k.lastScanAt.toDate().getTime()<7*24*60*60*1e3||u==="inactive"&&(!k.lastScanAt||new Date().getTime()-k.lastScanAt.toDate().getTime()>=7*24*60*60*1e3),D=p==="all"||k.role===p;return O&&L&&D}),T=e.length,E=e.filter(k=>k.role==="customer"),b=E.filter(k=>k.lastScanAt&&new Date().getTime()-k.lastScanAt.toDate().getTime()<7*24*60*60*1e3).length,R=E.reduce((k,O)=>{var L;return k+(((L=O.completedRewards)==null?void 0:L.length)||0)},0),j=n.length,V=n.filter(k=>k.isActive).length;g.useEffect(()=>{pt("admin_dashboard_view",{tab:i,user_id:t.id})},[i,t.id]);const I=[{id:"overview",label:"Overview",icon:YA,color:"text-blue-400"},{id:"users",label:"Users",icon:na,color:"text-green-400"},{id:"offers",label:"Offers",icon:Hi,color:"text-purple-400"},{id:"rewards",label:"Rewards",icon:tS,color:"text-yellow-400"},{id:"analytics",label:"Analytics",icon:Jp,color:"text-indigo-400"},{id:"settings",label:"Settings",icon:px,color:"text-red-400"}],S=k=>{o(k),localStorage.setItem("adminActiveTab",k),x(!1)};return l.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-black via-gray-900 to-red-950",children:[v&&l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-40 lg:hidden",onClick:()=>x(!1)}),l.jsx("div",{className:`fixed inset-y-0 left-0 z-50 w-80 bg-gray-900/95 backdrop-blur-sm border-r border-red-800/50 transform transition-transform duration-300 ease-in-out lg:translate-x-0 ${v?"translate-x-0":"-translate-x-full"}`,children:l.jsxs("div",{className:"flex flex-col h-full",children:[l.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-red-800/30",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-xl font-bold text-white",children:"Admin Panel"}),l.jsx("p",{className:"text-red-300 text-sm",children:"Vape Master"})]}),l.jsx("button",{onClick:()=>x(!1),className:"lg:hidden text-gray-400 hover:text-white",children:l.jsx(Mu,{className:"w-6 h-6"})})]}),l.jsx("div",{className:"p-6 border-b border-red-800/30",children:l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("div",{className:"w-12 h-12 bg-red-600 rounded-full flex items-center justify-center",children:l.jsx("span",{className:"text-white text-lg font-bold",children:t.name.charAt(0)})}),l.jsxs("div",{children:[l.jsx("div",{className:"text-white font-medium",children:t.name}),l.jsx("div",{className:"text-gray-400 text-sm capitalize",children:t.role.replace("_"," ")})]})]})}),l.jsx("nav",{className:"flex-1 p-4 space-y-2",children:I.map(k=>{const O=k.icon;return l.jsxs("button",{onClick:()=>S(k.id),className:`w-full flex items-center space-x-3 px-4 py-3 rounded-lg transition-all duration-200 ${i===k.id?"bg-red-600 text-white shadow-lg":"text-gray-300 hover:text-white hover:bg-gray-800/50"}`,children:[l.jsx(O,{className:`w-5 h-5 ${i===k.id?"text-white":k.color}`}),l.jsx("span",{className:"font-medium",children:k.label})]},k.id)})}),l.jsxs("div",{className:"p-4 space-y-3 border-t border-red-800/30",children:[l.jsxs(Ze,{onClick:s,className:"w-full bg-gradient-to-r from-green-600 to-green-700 hover:from-green-700 hover:to-green-800",children:[l.jsx(XA,{className:"w-4 h-4 mr-2"}),"Scan QR"]}),l.jsxs(Ze,{onClick:()=>y("/dashboard"),variant:"outline",className:"w-full border-gray-600 text-gray-300 hover:bg-gray-800",children:[l.jsx(dO,{className:"w-4 h-4 mr-2"}),"Dashboard"]}),l.jsxs(Ze,{onClick:r,variant:"outline",className:"w-full border-red-600 text-red-300 hover:bg-red-700/20",children:[l.jsx(JA,{className:"w-4 h-4 mr-2"}),"Logout"]})]})]})}),l.jsxs("div",{className:"lg:pl-80",children:[l.jsx("div",{className:"bg-gradient-to-r from-red-900/80 to-black/80 backdrop-blur-sm border-b border-red-800/50 sticky top-0 z-30",children:l.jsxs("div",{className:"flex items-center justify-between px-6 py-4",children:[l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsx("button",{onClick:()=>x(!0),className:"lg:hidden text-gray-400 hover:text-white",children:l.jsx(fO,{className:"w-6 h-6"})}),l.jsxs("div",{children:[l.jsx("h2",{className:"text-xl font-bold text-white",children:(P=I.find(k=>k.id===i))==null?void 0:P.label}),l.jsxs("p",{className:"text-red-300 text-sm",children:[i==="overview"&&"System overview and key metrics",i==="users"&&"Manage users and permissions",i==="offers"&&"Create and manage loyalty offers",i==="rewards"&&"Track rewards and redemptions",i==="analytics"&&"Performance insights and reports",i==="settings"&&"System configuration and preferences"]})]})]}),l.jsxs("div",{className:"hidden md:flex items-center space-x-6 text-sm",children:[l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-white font-semibold",children:T}),l.jsx("div",{className:"text-gray-400",children:"Users"})]}),l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-white font-semibold",children:j}),l.jsx("div",{className:"text-gray-400",children:"Offers"})]}),l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-white font-semibold",children:R}),l.jsx("div",{className:"text-gray-400",children:"Rewards"})]})]})]})}),l.jsxs("div",{className:"p-6",children:[i==="overview"&&l.jsx(kz,{totalUsers:T,customers:E,activeUsers:b,totalRewards:R,totalOffers:j,activeOffers:V,recentUsers:e.slice(0,5)}),i==="users"&&l.jsx(Mz,{users:w,searchTerm:a,setSearchTerm:c,statusFilter:u,setStatusFilter:h,roleFilter:p,setRoleFilter:f}),i==="offers"&&l.jsx(jz,{offers:n}),i==="rewards"&&l.jsx(Dz,{allUsers:e}),i==="analytics"&&l.jsx(Oz,{allUsers:e,offers:n}),i==="settings"&&l.jsx(Lz,{user:t})]})]})]})},Vz=()=>{const{user:t,loading:e,settings:n,allUsers:r,allUsersLoading:s,offers:i,showConfetti:o,confettiKey:a,lastUpdateTime:c,activeTab:u,setActiveTab:h,userPurchaseLimit:p,purchasesRemaining:f,handleLogout:v,navigate:x,handleOfferSelection:y}=Cq(),[w,T]=g.useState(!1),[E,b]=g.useState(null),[R,j]=g.useState(!1),[V,I]=g.useState(null);if(e)return l.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-black via-gray-900 to-red-950 relative overflow-hidden",children:[l.jsx(Sz,{}),l.jsx("div",{className:"flex-1 px-6 pb-6",children:l.jsxs("div",{className:"max-w-md mx-auto",children:[l.jsx(Iz,{}),l.jsx(Rz,{}),l.jsx(Nz,{})]})})]});if(!t)return null;const S=u==="progress",P=u==="offers",k=t.role==="customer";return t.role==="admin"||t.role==="super_admin"?l.jsx(Fz,{user:t,allUsers:r,offers:i,onLogout:v,onScan:()=>x("/scan")}):l.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-black via-gray-900 to-red-950 relative overflow-hidden",children:[o&&l.jsx(kN,{width:window.innerWidth,height:window.innerHeight,numberOfPieces:200,recycle:!1},a),l.jsx(kq,{title:"Dashboard",onBack:()=>x("/"),actions:l.jsx(wz,{user:t,handleLogout:v,navigate:x})}),l.jsx("div",{className:"flex-1 px-6 pb-6",children:l.jsxs("div",{className:"max-w-md mx-auto",children:[l.jsx(Az,{user:t,lastUpdateTime:c}),l.jsx(Lq,{activeTab:u,setActiveTab:h,userRole:t.role}),P&&k&&l.jsxs("div",{className:"bg-gradient-to-br from-gray-900/90 via-black/80 to-red-950/90 border border-red-900/40 rounded-none p-6 shadow-2xl",children:[l.jsxs("div",{className:"mb-4",children:[l.jsx("h3",{className:"text-2xl font-bold text-white mb-2",children:"Available Offers"}),l.jsx("p",{className:"text-gray-400 text-sm",children:"Choose an offer and start collecting stamps"})]}),i&&i.length>0?l.jsx("div",{className:"grid gap-4",children:i.filter(L=>L.isActive).map(L=>{var q,z;const D=t.currentOfferId===L.offerId,X=D&&t.currentOfferProgress||0,re=Math.min(X/L.stampRequirement*100,100),se=(q=t.completedRewards)==null?void 0:q.find(Z=>{var te,ae,le;return((te=Z.offerSnapshot)==null?void 0:te.offerId)===L.offerId&&((ae=Z.scanHistory)==null?void 0:ae.length)>=((le=Z.offerSnapshot)==null?void 0:le.stampRequirement)&&!Z.claimedAt}),ue=(z=t.completedRewards)==null?void 0:z.find(Z=>{var te,ae,le;return((te=Z.offerSnapshot)==null?void 0:te.offerId)===L.offerId&&((ae=Z.scanHistory)==null?void 0:ae.length)<((le=Z.offerSnapshot)==null?void 0:le.stampRequirement)&&!Z.claimedAt});return l.jsxs("div",{className:`bg-gradient-to-br ${D?"from-green-900/40 to-green-800/40 border-green-700/50":"from-gray-800/40 to-gray-700/40 border-gray-600/50"} border rounded-xl p-4 transition-all duration-200 hover:scale-[1.02]`,children:[l.jsxs("div",{className:"flex items-center justify-between mb-3",children:[l.jsxs("div",{children:[l.jsx("h4",{className:"text-lg font-semibold text-white mb-1",children:L.name}),l.jsx("p",{className:"text-gray-300 text-sm",children:L.description})]}),l.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${D?"bg-green-900/50 text-green-300 border border-green-700/50":"bg-gray-900/50 text-gray-300 border border-gray-600/50"}`,children:D?"ACTIVE":"AVAILABLE"})]}),l.jsxs("div",{className:"space-y-3 mb-4",children:[l.jsxs("div",{className:"flex justify-between items-center text-sm",children:[l.jsx("span",{className:"text-gray-400",children:"Required Stamps:"}),l.jsx("span",{className:"text-white font-medium",children:L.stampRequirement})]}),l.jsxs("div",{className:"flex justify-between items-center text-sm",children:[l.jsx("span",{className:"text-gray-400",children:"Reward:"}),l.jsx("span",{className:"text-white font-medium",children:L.rewardDescription})]}),l.jsxs("div",{className:"flex justify-between items-center text-sm",children:[l.jsx("span",{className:"text-gray-400",children:"Type:"}),l.jsx("span",{className:"text-white font-medium capitalize",children:L.rewardType})]})]}),D&&l.jsxs("div",{className:"mb-4",children:[l.jsxs("div",{className:"flex justify-between items-center text-sm mb-2",children:[l.jsx("span",{className:"text-gray-400",children:"Progress:"}),l.jsxs("span",{className:"text-white font-medium",children:[X," / ",L.stampRequirement," stamps"]})]}),l.jsx("div",{className:"w-full bg-gray-600 rounded-full h-3",children:l.jsx("div",{className:"bg-gradient-to-r from-green-500 to-green-400 h-3 rounded-full transition-all duration-500",style:{width:`${re}%`}})})]}),l.jsx("div",{className:"flex justify-center",children:ue?l.jsx("button",{onClick:()=>{const Z={userId:t.id,userEmail:t.email,userName:t.name,offerId:L.offerId,offerName:L.name,timestamp:new Date().toISOString()};I(Z),j(!0)},className:"w-full bg-gradient-to-r from-green-600 to-green-700 hover:from-green-700 hover:to-green-800 text-white px-6 py-3 rounded-lg font-medium transition-all duration-200 hover:scale-105 shadow-lg",children:"Continue Collecting"}):l.jsx("button",{onClick:()=>{const Z={userId:t.id,userEmail:t.email,userName:t.name,offerId:L.offerId,offerName:L.name,timestamp:new Date().toISOString()};I(Z),j(!0)},className:"w-full bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800 text-white px-6 py-3 rounded-lg font-medium transition-all duration-200 hover:scale-105 shadow-lg",children:se?"Start New Reward":"Start Collecting"})})]},L.offerId)})}):l.jsxs("div",{className:"text-center py-8",children:[l.jsx("div",{className:"text-gray-400 mb-2",children:"No active offers available"}),l.jsx("div",{className:"text-gray-500 text-sm",children:"Check back later for new offers"})]})]}),S&&l.jsx(l.Fragment,{children:k?l.jsx(Bq,{user:t,userPurchaseLimit:p,settings:n,purchasesRemaining:f,onViewReward:()=>x("/scan"),currentOffer:i==null?void 0:i.find(L=>L.offerId===t.currentOfferId)}):l.jsxs("div",{className:"bg-gradient-to-br from-gray-900/90 via-black/80 to-red-950/90 border border-red-900/40 rounded-none p-6 min-h-[460px] -mt-0 shadow-2xl",children:[l.jsxs("div",{className:"mb-4",children:[l.jsx("h3",{className:"text-2xl font-bold text-white mb-2",children:"User Progress Tracking"}),l.jsx("p",{className:"text-gray-400 text-sm",children:"Real-time updates of all user loyalty progress"})]}),l.jsx(Oq,{users:r.filter(L=>L.role==="customer"),loading:s})]})}),u==="card"&&(t.role==="super_admin"?l.jsx(Dq,{allUsers:r}):l.jsx(Hq,{user:t,offers:i}))]})}),w&&E&&l.jsx(Pz,{reward:E,onClose:()=>{T(!1),b(null)}}),R&&V&&l.jsx(zN,{qrData:V,isOpen:R,onClose:()=>{j(!1),I(null)}})]})},Bz=()=>{var f,v,x,y;const{user:t,loading:e,redeemReward:n}=ms(),r=Qr(),[s,i]=g.useState(null);if(g.useEffect(()=>{pt("page_view",{page:"Rewards"})},[]),g.useEffect(()=>{!e&&!t&&r("/login")},[t,e,r]),e)return l.jsx("div",{className:"min-h-screen bg-gradient-to-br from-black via-gray-900 to-red-950 flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-red-500 mx-auto mb-4"}),l.jsx("p",{className:"text-white text-lg",children:"Loading..."})]})});if(!t)return null;const o=async w=>{i(w);try{await n(w),lt({title:"Reward Redeemed!",description:"Your reward has been successfully redeemed."}),pt("reward_redeemed",{reward_id:w,user_id:t.id}),window.location.reload()}catch{lt({title:"Error",description:"Failed to redeem reward. Please try again.",variant:"destructive"})}finally{i(null)}},a=w=>{switch(w){case"percentage":return"💯";case"fixed_amount":return"💰";case"free_item":return"🎁";default:return"🎉"}},c=w=>{switch(w){case"percentage":return"from-purple-600 to-purple-700";case"fixed_amount":return"from-green-600 to-green-700";case"free_item":return"from-blue-600 to-blue-700";default:return"from-red-600 to-red-700"}},u=((f=t.completedRewards)==null?void 0:f.filter(w=>!w.claimedAt))||[],h=((v=t.completedRewards)==null?void 0:v.filter(w=>w.claimedAt))||[],p=t.currentReward;return l.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-black via-gray-900 to-red-950",children:[l.jsx("div",{className:"bg-gradient-to-r from-red-900/80 to-black/80 backdrop-blur-sm border-b border-red-800/50",children:l.jsx("div",{className:"max-w-4xl mx-auto px-6 py-4",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsxs(Ze,{variant:"ghost",size:"sm",onClick:()=>r("/dashboard"),className:"text-red-300 hover:text-white hover:bg-red-900/30",children:[l.jsx(Hl,{className:"w-5 h-5 mr-2"}),"Back"]}),l.jsxs("div",{children:[l.jsx("h1",{className:"text-2xl font-bold text-white",children:"My Rewards"}),l.jsx("p",{className:"text-red-300 text-sm",children:"Manage and redeem your earned rewards"})]})]}),l.jsxs("div",{className:"text-right",children:[l.jsx("div",{className:"text-white text-sm",children:"Total Rewards"}),l.jsx("div",{className:"text-2xl font-bold text-red-400",children:((x=t.completedRewards)==null?void 0:x.length)||0})]})]})})}),l.jsxs("div",{className:"max-w-4xl mx-auto px-6 py-8",children:[p&&l.jsx("div",{className:"mb-8",children:l.jsxs("div",{className:"bg-gradient-to-r from-gray-900/90 to-red-900/90 border border-red-800/50 rounded-xl p-6",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsxs("h2",{className:"text-xl font-bold text-white flex items-center",children:[l.jsx(dx,{className:"w-5 h-5 mr-2 text-yellow-400"}),"Current Progress"]}),l.jsxs("div",{className:"text-right",children:[l.jsx("div",{className:"text-2xl font-bold text-white",children:t.purchases}),l.jsxs("div",{className:"text-sm text-gray-400",children:["of ",p.settingsSnapshot.purchaseLimit," ","purchases"]})]})]}),l.jsx("div",{className:"w-full bg-gray-700 rounded-full h-3 mb-4",children:l.jsx("div",{className:"bg-gradient-to-r from-red-500 to-red-600 h-3 rounded-full transition-all duration-500",style:{width:`${t.purchases/p.settingsSnapshot.purchaseLimit*100}%`}})}),l.jsxs("div",{className:"text-center",children:[l.jsxs("div",{className:"text-lg font-semibold text-white mb-2",children:[a(p.rewardType)," ",p.rewardDescription]}),l.jsx("p",{className:"text-gray-300 text-sm",children:p.settingsSnapshot.descriptionMessage})]})]})}),l.jsxs("div",{className:"mb-8",children:[l.jsxs("h2",{className:"text-xl font-bold text-white mb-4 flex items-center",children:[l.jsx(Hi,{className:"w-5 h-5 mr-2 text-green-400"}),"Available Rewards (",u.length,")"]}),u.length===0?l.jsxs("div",{className:"text-center py-12 bg-gradient-to-r from-gray-900/50 to-red-900/50 border border-gray-700/50 rounded-xl",children:[l.jsx("div",{className:"text-6xl mb-4",children:"🎯"}),l.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:"No Available Rewards"}),l.jsx("p",{className:"text-gray-400 mb-4",children:"Complete your purchase goal to earn your first reward!"}),l.jsx(Ze,{onClick:()=>r("/dashboard"),className:"bg-gradient-to-r from-red-600 to-red-700 hover:from-red-700 hover:to-red-800",children:"Go to Dashboard"})]}):l.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:u.map(w=>l.jsxs("div",{className:"bg-gradient-to-br from-gray-900/90 to-red-900/90 border border-red-800/50 rounded-xl p-6 hover:border-red-600/70 transition-all duration-300 hover:shadow-lg hover:shadow-red-500/20",children:[l.jsxs("div",{className:"text-center mb-4",children:[l.jsx("div",{className:"text-4xl mb-2",children:a(w.rewardType)}),l.jsx("div",{className:"text-xl font-bold text-white mb-1",children:w.rewardDescription}),l.jsxs("div",{className:"text-sm text-gray-400",children:["Earned on ",w.createdAt.toDate().toLocaleDateString()]})]}),l.jsxs("div",{className:"space-y-3 mb-6",children:[l.jsxs("div",{className:"flex justify-between text-sm",children:[l.jsx("span",{className:"text-gray-400",children:"Type:"}),l.jsx("span",{className:"text-white capitalize",children:w.rewardType})]}),l.jsxs("div",{className:"flex justify-between text-sm",children:[l.jsx("span",{className:"text-gray-400",children:"Value:"}),l.jsx("span",{className:"text-white",children:w.rewardValue})]}),l.jsxs("div",{className:"flex justify-between text-sm",children:[l.jsx("span",{className:"text-gray-400",children:"Goal:"}),l.jsxs("span",{className:"text-white",children:[w.settingsSnapshot.purchaseLimit," purchases"]})]})]}),l.jsxs(Ze,{onClick:()=>o(w.rewardId),disabled:s===w.rewardId,className:`w-full bg-gradient-to-r ${c(w.rewardType)} hover:opacity-90 transition-all duration-300`,children:[s===w.rewardId?l.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}):l.jsx(af,{className:"w-4 h-4 mr-2"}),"Redeem Reward"]})]},w.rewardId))})]}),h.length>0&&l.jsxs("div",{className:"mb-8",children:[l.jsxs("h2",{className:"text-xl font-bold text-white mb-4 flex items-center",children:[l.jsx(af,{className:"w-5 h-5 mr-2 text-green-400"}),"Claimed Rewards (",h.length,")"]}),l.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:h.map(w=>{var T;return l.jsxs("div",{className:"bg-gradient-to-br from-gray-800/90 to-gray-900/90 border border-gray-700/50 rounded-xl p-6 opacity-75",children:[l.jsxs("div",{className:"text-center mb-4",children:[l.jsx("div",{className:"text-4xl mb-2",children:a(w.rewardType)}),l.jsx("div",{className:"text-xl font-bold text-gray-300 mb-1",children:w.rewardDescription}),l.jsxs("div",{className:"text-sm text-gray-500",children:["Claimed on"," ",(T=w.claimedAt)==null?void 0:T.toDate().toLocaleDateString()]})]}),l.jsxs("div",{className:"space-y-3 mb-6",children:[l.jsxs("div",{className:"flex justify-between text-sm",children:[l.jsx("span",{className:"text-gray-500",children:"Type:"}),l.jsx("span",{className:"text-gray-300 capitalize",children:w.rewardType})]}),l.jsxs("div",{className:"flex justify-between text-sm",children:[l.jsx("span",{className:"text-gray-500",children:"Value:"}),l.jsx("span",{className:"text-gray-300",children:w.rewardValue})]}),l.jsxs("div",{className:"flex justify-between text-sm",children:[l.jsx("span",{className:"text-gray-500",children:"Goal:"}),l.jsxs("span",{className:"text-gray-300",children:[w.settingsSnapshot.purchaseLimit," purchases"]})]})]}),l.jsx("div",{className:"text-center",children:l.jsxs("div",{className:"inline-flex items-center px-3 py-1 bg-green-900/50 border border-green-600/50 rounded-full",children:[l.jsx(af,{className:"w-4 h-4 mr-2 text-green-400"}),l.jsx("span",{className:"text-green-300 text-sm font-medium",children:"REDEEMED"})]})})]},w.rewardId)})})]}),l.jsxs("div",{className:"bg-gradient-to-r from-gray-900/90 to-red-900/90 border border-red-800/50 rounded-xl p-6",children:[l.jsxs("h3",{className:"text-lg font-semibold text-white mb-4 flex items-center",children:[l.jsx(Hp,{className:"w-5 h-5 mr-2 text-yellow-400"}),"Reward Statistics"]}),l.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-2xl font-bold text-white",children:((y=t.completedRewards)==null?void 0:y.length)||0}),l.jsx("div",{className:"text-sm text-gray-400",children:"Total Earned"})]}),l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-2xl font-bold text-green-400",children:h.length}),l.jsx("div",{className:"text-sm text-gray-400",children:"Redeemed"})]}),l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-2xl font-bold text-yellow-400",children:u.length}),l.jsx("div",{className:"text-sm text-gray-400",children:"Available"})]}),l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-2xl font-bold text-red-400",children:t.purchases}),l.jsx("div",{className:"text-sm text-gray-400",children:"Current Progress"})]})]})]})]})]})},Uz=()=>{const{user:t,loading:e,allUsers:n}=ms(),r=Qr(),[s,i]=g.useState([]),[o,a]=g.useState(!0);g.useState(!1),g.useState(!1);const[c,u]=g.useState("offers");return g.useEffect(()=>{pt("page_view",{page:"Settings"})},[]),g.useEffect(()=>{!e&&(!t||t.role!=="super_admin")&&r("/dashboard")},[t,e,r]),g.useEffect(()=>{t&&(async()=>{try{a(!0);const p=await fu();if(p.length===0){await TC(t);const f=await fu();i(f)}else i(p)}catch(p){console.error("Error loading offers:",p);try{await TC(t);const f=await fu();i(f)}catch(f){console.error("Error creating default offer:",f)}}finally{a(!1)}})()},[t]),e||o?l.jsx("div",{className:"min-h-screen bg-gradient-to-br from-black via-gray-900 to-red-950 flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-red-500 mx-auto mb-4"}),l.jsx("p",{className:"text-white text-lg",children:"Loading..."})]})}):!t||t.role!=="admin"&&t.role!=="super_admin"?null:l.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-black via-gray-900 to-red-950 relative overflow-hidden",children:[l.jsxs("div",{className:"absolute inset-0 opacity-10",children:[l.jsx("div",{className:"absolute top-20 right-10 w-40 h-40 bg-red-500 rounded-full blur-3xl animate-pulse"}),l.jsx("div",{className:"absolute bottom-32 left-10 w-32 h-32 bg-red-600 rounded-full blur-3xl animate-pulse delay-1000"})]}),l.jsxs("div",{className:"relative z-10 min-h-screen flex flex-col",children:[l.jsx("div",{className:"bg-gray-900/80 backdrop-blur-sm border-b border-red-900/30 sticky top-0 z-10",children:l.jsxs("div",{className:"p-6 flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx(Ks,{to:"/dashboard",className:"text-red-400 hover:text-red-300 transition-colors",children:l.jsx(Hl,{className:"w-6 h-6"})}),l.jsx("h1",{className:"ml-4 text-2xl font-bold text-white",children:"Settings"})]}),l.jsxs("div",{className:"flex items-center text-gray-400",children:[l.jsx(px,{className:"w-6 h-6 mr-2"}),l.jsx("span",{className:"text-sm",children:"Admin Panel"})]})]})}),l.jsx("div",{className:"flex-1 px-6 py-8",children:l.jsxs("div",{className:"w-full max-w-6xl mx-auto",children:[l.jsxs("div",{className:"flex space-x-1 mb-8 bg-gray-800/50 rounded-lg p-1",children:[l.jsxs("button",{onClick:()=>u("offers"),className:`flex-1 flex items-center justify-center px-4 py-3 rounded-md font-medium transition-all duration-200 ${c==="offers"?"bg-red-600 text-white shadow-lg":"text-gray-300 hover:text-white hover:bg-gray-700/50"}`,children:[l.jsx(Hi,{className:"w-4 h-4 mr-2"}),"Manage Offers"]}),l.jsxs("button",{onClick:()=>u("rewards"),className:`flex-1 flex items-center justify-center px-4 py-3 rounded-md font-medium transition-all duration-200 ${c==="rewards"?"bg-red-600 text-white shadow-lg":"text-gray-300 hover:text-white hover:bg-gray-700/50"}`,children:[l.jsx(Hi,{className:"w-4 h-4 mr-2"}),"Rewards History"]}),l.jsxs("button",{onClick:()=>u("analytics"),className:`flex-1 flex items-center justify-center px-4 py-3 rounded-md font-medium transition-all duration-200 ${c==="analytics"?"bg-red-600 text-white shadow-lg":"text-gray-300 hover:text-white hover:bg-gray-700/50"}`,children:[l.jsx(YA,{className:"w-4 h-4 mr-2"}),"Analytics"]}),l.jsxs("button",{onClick:()=>u("users"),className:`flex-1 flex items-center justify-center px-4 py-3 rounded-md font-medium transition-all duration-200 ${c==="users"?"bg-red-600 text-white shadow-lg":"text-gray-300 hover:text-white hover:bg-gray-700/50"}`,children:[l.jsx(na,{className:"w-4 h-4 mr-2"}),"User Management"]})]}),c==="offers"&&l.jsx(qz,{offers:s,onOffersChange:i,user:t}),c==="rewards"&&l.jsx(Gz,{allUsers:n}),c==="analytics"&&l.jsx($z,{allUsers:n}),c==="users"&&l.jsx(zz,{allUsers:n})]})})]})]})},qz=({offers:t,onOffersChange:e,user:n})=>{const[r,s]=g.useState(!1),[i,o]=g.useState(!1),[a,c]=g.useState(""),[u,h]=g.useState(""),[p,f]=g.useState(5),[v,x]=g.useState("percentage"),[y,w]=g.useState("20"),[T,E]=g.useState("20% OFF"),b=async()=>{if(!a.trim()||!u.trim()||!y.trim()||!T.trim()){lt({title:"Missing Information",description:"Please fill in all fields",variant:"destructive"});return}s(!0);try{await fq(n,{name:a.trim(),description:u.trim(),stampRequirement:p,rewardType:v,rewardValue:y.trim(),rewardDescription:T.trim(),isActive:!0});const R=await fu();e(R),o(!1),c(""),h(""),f(5),x("percentage"),w("20"),E("20% OFF"),lt({title:"Offer Created",description:"New offer has been created successfully!"})}catch{lt({title:"Creation Failed",description:"Failed to create offer. Please try again.",variant:"destructive"})}finally{s(!1)}};return l.jsxs("div",{className:"bg-gray-900/80 backdrop-blur-sm border border-red-900/30 rounded-2xl p-8 shadow-2xl",children:[l.jsxs("div",{className:"text-center mb-8",children:[l.jsx("h2",{className:"text-3xl font-bold text-white mb-2",children:"Manage Offers"}),l.jsx("p",{className:"text-gray-400",children:"Create and manage loyalty program offers for customers"})]}),l.jsx("div",{className:"mb-8 text-center",children:l.jsxs(Ze,{onClick:()=>o(!0),className:"bg-gradient-to-r from-green-600 to-green-700 hover:from-green-700 hover:to-green-800 text-white font-semibold px-6 py-3 rounded-lg shadow-lg hover:shadow-xl transition-all duration-300",children:[l.jsx(Hi,{className:"w-4 h-4 mr-2"}),"Create New Offer"]})}),i&&l.jsxs("div",{className:"bg-gray-800/50 border border-gray-700 rounded-xl p-6 mb-8",children:[l.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:"Create New Offer"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx(er,{htmlFor:"offerName",className:"text-white font-medium",children:"Offer Name"}),l.jsx(qn,{id:"offerName",value:a,onChange:R=>c(R.target.value),className:"bg-gray-700/50 border-gray-600 text-white mt-1",placeholder:"e.g., Welcome Offer, Summer Special"})]}),l.jsxs("div",{children:[l.jsx(er,{htmlFor:"offerDescription",className:"text-white font-medium",children:"Description"}),l.jsx(jw,{id:"offerDescription",value:u,onChange:R=>h(R.target.value),className:"bg-gray-700/50 border-gray-600 text-white mt-1",placeholder:"Describe what customers need to do to earn this reward"})]}),l.jsxs("div",{children:[l.jsx(er,{htmlFor:"stampRequirement",className:"text-white font-medium",children:"Stamps Required"}),l.jsx(qn,{id:"stampRequirement",type:"number",min:"1",max:"50",value:p,onChange:R=>f(parseInt(R.target.value)||1),className:"bg-gray-700/50 border-gray-600 text-white mt-1"})]})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx(er,{htmlFor:"rewardType",className:"text-white font-medium",children:"Reward Type"}),l.jsxs("select",{id:"rewardType",value:v,onChange:R=>x(R.target.value),className:"w-full bg-gray-700/50 border border-gray-600 text-white rounded-md px-3 py-2 mt-1",children:[l.jsx("option",{value:"percentage",children:"Percentage Discount"}),l.jsx("option",{value:"fixed_amount",children:"Fixed Amount Off"}),l.jsx("option",{value:"free_item",children:"Free Item"})]})]}),l.jsxs("div",{children:[l.jsx(er,{htmlFor:"rewardValue",className:"text-white font-medium",children:"Reward Value"}),l.jsx(qn,{id:"rewardValue",value:y,onChange:R=>w(R.target.value),className:"bg-gray-700/50 border-gray-600 text-white mt-1",placeholder:v==="percentage"?"20":v==="fixed_amount"?"5.00":"Free Coffee"})]}),l.jsxs("div",{children:[l.jsx(er,{htmlFor:"rewardDescription",className:"text-white font-medium",children:"Reward Description"}),l.jsx(qn,{id:"rewardDescription",value:T,onChange:R=>E(R.target.value),className:"bg-gray-700/50 border-gray-600 text-white mt-1",placeholder:v==="percentage"?"20% OFF":v==="fixed_amount"?"$5.00 OFF":"Free Coffee"})]})]})]}),l.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[l.jsx(Ze,{variant:"outline",onClick:()=>o(!1),className:"border-gray-600 text-gray-300 hover:bg-gray-700",children:"Cancel"}),l.jsx(Ze,{onClick:b,disabled:r,className:"bg-gradient-to-r from-green-600 to-green-700 hover:from-green-700 hover:to-green-800",children:r?l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Creating..."]}):"Create Offer"})]})]}),l.jsxs("div",{className:"space-y-6",children:[l.jsx("h3",{className:"text-xl font-bold text-white",children:"Current Offers"}),t.length===0?l.jsxs("div",{className:"text-center py-12 bg-gray-800/30 rounded-xl",children:[l.jsx("div",{className:"text-6xl mb-4",children:"🎯"}),l.jsx("h4",{className:"text-xl font-semibold text-white mb-2",children:"No Offers Yet"}),l.jsx("p",{className:"text-gray-400",children:"Create your first offer to get started!"})]}):l.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:t.map(R=>l.jsxs("div",{className:`bg-gradient-to-br ${R.isActive?"from-green-900/40 to-green-800/40 border-green-700/50":"from-gray-800/40 to-gray-700/40 border-gray-600/50"} border rounded-xl p-4`,children:[l.jsxs("div",{className:"flex items-center justify-between mb-3",children:[l.jsx("h4",{className:"text-lg font-semibold text-white",children:R.name}),l.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${R.isActive?"bg-green-900/50 text-green-300 border border-green-700/50":"bg-gray-900/50 text-gray-300 border border-gray-600/50"}`,children:R.isActive?"ACTIVE":"INACTIVE"})]}),l.jsx("p",{className:"text-gray-300 text-sm mb-3",children:R.description}),l.jsxs("div",{className:"space-y-2 text-sm",children:[l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-gray-400",children:"Stamps:"}),l.jsx("span",{className:"text-white",children:R.stampRequirement})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-gray-400",children:"Reward:"}),l.jsx("span",{className:"text-white",children:R.rewardDescription})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-gray-400",children:"Type:"}),l.jsx("span",{className:"text-white capitalize",children:R.rewardType})]})]})]},R.offerId))})]})]})},Gz=({allUsers:t})=>{const e=o=>{var c,u;if((c=o.offerSnapshot)!=null&&c.stampRequirement)return o.offerSnapshot.stampRequirement;const a=o;return(u=a.settingsSnapshot)!=null&&u.purchaseLimit?a.settingsSnapshot.purchaseLimit:"Unknown"},n=t.flatMap(o=>(o.completedRewards||[]).map(a=>({...a,userName:o.name,userEmail:o.email,userId:o.id}))),r=n.filter(o=>!o.claimedAt),s=n.filter(o=>o.claimedAt),i=n.filter(o=>o.expiresAt?new Date>o.expiresAt.toDate():!1);return l.jsxs("div",{className:"bg-gray-900/80 backdrop-blur-sm border border-red-900/30 rounded-2xl p-8 shadow-2xl",children:[l.jsxs("div",{className:"text-center mb-8",children:[l.jsx("h2",{className:"text-3xl font-bold text-white mb-2",children:"Rewards History & Status"}),l.jsx("p",{className:"text-gray-400",children:"Monitor all rewards across the system"})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-8",children:[l.jsxs("div",{className:"bg-gradient-to-r from-blue-900/50 to-blue-800/50 border border-blue-700/50 rounded-xl p-4 text-center",children:[l.jsx("div",{className:"text-2xl font-bold text-blue-400",children:n.length}),l.jsx("div",{className:"text-blue-300 text-sm",children:"Total Rewards"})]}),l.jsxs("div",{className:"bg-gradient-to-r from-green-900/50 to-green-800/50 border border-green-700/50 rounded-xl p-4 text-center",children:[l.jsx("div",{className:"text-2xl font-bold text-green-400",children:r.length}),l.jsx("div",{className:"text-green-300 text-sm",children:"Active Rewards"})]}),l.jsxs("div",{className:"bg-gradient-to-r from-yellow-900/50 to-yellow-800/50 border border-yellow-700/50 rounded-xl p-4 text-center",children:[l.jsx("div",{className:"text-2xl font-bold text-yellow-400",children:s.length}),l.jsx("div",{className:"text-yellow-300 text-sm",children:"Claimed Rewards"})]}),l.jsxs("div",{className:"bg-gradient-to-r from-red-900/50 to-red-800/50 border border-red-700/50 rounded-xl p-4 text-center",children:[l.jsx("div",{className:"text-2xl font-bold text-red-400",children:i.length}),l.jsx("div",{className:"text-red-300 text-sm",children:"Expired Rewards"})]})]}),l.jsxs("div",{className:"mb-8",children:[l.jsxs("h3",{className:"text-xl font-bold text-white mb-4 flex items-center",children:[l.jsx(hx,{className:"w-5 h-5 mr-2 text-green-400"}),"Active Rewards (",r.length,")"]}),r.length===0?l.jsxs("div",{className:"text-center py-8 bg-gray-800/30 rounded-xl",children:[l.jsx("div",{className:"text-4xl mb-2",children:"🎯"}),l.jsx("p",{className:"text-gray-400",children:"No active rewards at the moment"})]}):l.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:r.map(o=>l.jsxs("div",{className:"bg-gradient-to-br from-green-900/40 to-green-800/40 border border-green-700/50 rounded-xl p-4",children:[l.jsxs("div",{className:"flex items-center justify-between mb-3",children:[l.jsx("div",{className:"text-lg font-semibold text-white",children:o.rewardDescription}),l.jsx("div",{className:"text-xs text-green-300 bg-green-900/50 px-2 py-1 rounded-full",children:"ACTIVE"})]}),l.jsxs("div",{className:"space-y-2 text-sm",children:[l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-gray-400",children:"User:"}),l.jsx("span",{className:"text-white",children:o.userName})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-gray-400",children:"Type:"}),l.jsx("span",{className:"text-white capitalize",children:o.rewardType})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-gray-400",children:"Value:"}),l.jsx("span",{className:"text-white",children:o.rewardValue})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-gray-400",children:"Goal:"}),l.jsxs("span",{className:"text-white",children:[e(o)," purchases"]})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-gray-400",children:"Earned:"}),l.jsx("span",{className:"text-white",children:o.createdAt.toDate().toLocaleDateString()})]})]})]},o.rewardId))})]}),s.length>0&&l.jsxs("div",{className:"mb-8",children:[l.jsxs("h3",{className:"text-xl font-bold text-white mb-4 flex items-center",children:[l.jsx(af,{className:"w-5 h-5 mr-2 text-yellow-400"}),"Claimed Rewards (",s.length,")"]}),l.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:s.slice(0,6).map(o=>{var a;return l.jsxs("div",{className:"bg-gradient-to-br from-yellow-900/40 to-yellow-800/40 border border-yellow-700/50 rounded-xl p-4 opacity-75",children:[l.jsxs("div",{className:"flex items-center justify-between mb-3",children:[l.jsx("div",{className:"text-lg font-semibold text-white",children:o.rewardDescription}),l.jsx("div",{className:"text-xs text-yellow-300 bg-yellow-900/50 px-2 py-1 rounded-full",children:"CLAIMED"})]}),l.jsxs("div",{className:"space-y-2 text-sm",children:[l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-gray-400",children:"User:"}),l.jsx("span",{className:"text-white",children:o.userName})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-gray-400",children:"Claimed:"}),l.jsx("span",{className:"text-white",children:(a=o.claimedAt)==null?void 0:a.toDate().toLocaleDateString()})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-gray-400",children:"Type:"}),l.jsx("span",{className:"text-white capitalize",children:o.rewardType})]})]})]},o.rewardId)})}),s.length>6&&l.jsx("div",{className:"text-center mt-4",children:l.jsxs("p",{className:"text-gray-400 text-sm",children:["Showing 6 of ",s.length," claimed rewards"]})})]})]})},$z=({allUsers:t})=>{const e=t.filter(s=>s.role==="customer"),n=e.reduce((s,i)=>{var o;return s+(((o=i.completedRewards)==null?void 0:o.length)||0)},0),r=e.filter(s=>s.lastScanAt&&new Date().getTime()-s.lastScanAt.toDate().getTime()<7*24*60*60*1e3).length;return l.jsxs("div",{className:"bg-gray-900/80 backdrop-blur-sm border border-red-900/30 rounded-2xl p-8 shadow-2xl",children:[l.jsxs("div",{className:"text-center mb-8",children:[l.jsx("h2",{className:"text-3xl font-bold text-white mb-2",children:"System Analytics"}),l.jsx("p",{className:"text-gray-400",children:"Overview of loyalty program performance"})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[l.jsxs("div",{className:"bg-gradient-to-r from-blue-900/50 to-blue-800/50 border border-blue-700/50 rounded-xl p-6 text-center",children:[l.jsx("div",{className:"text-4xl font-bold text-blue-400 mb-2",children:e.length}),l.jsx("div",{className:"text-blue-300 text-lg",children:"Total Customers"}),l.jsx("div",{className:"text-blue-400 text-sm mt-2",children:"Active loyalty members"})]}),l.jsxs("div",{className:"bg-gradient-to-r from-green-900/50 to-green-800/50 border border-green-700/50 rounded-xl p-6 text-center",children:[l.jsx("div",{className:"text-4xl font-bold text-green-400 mb-2",children:n}),l.jsx("div",{className:"text-green-300 text-lg",children:"Total Rewards"}),l.jsx("div",{className:"text-green-400 text-sm mt-2",children:"Earned by customers"})]}),l.jsxs("div",{className:"bg-gradient-to-r from-purple-900/50 to-purple-800/50 border border-purple-700/50 rounded-xl p-6 text-center",children:[l.jsx("div",{className:"text-4xl font-bold text-purple-400 mb-2",children:r}),l.jsx("div",{className:"text-purple-300 text-lg",children:"Active Users"}),l.jsx("div",{className:"text-purple-400 text-sm mt-2",children:"Last 7 days"})]})]}),l.jsxs("div",{className:"bg-gray-800/50 border border-gray-700 rounded-xl p-6",children:[l.jsxs("h3",{className:"text-xl font-bold text-white mb-4 flex items-center",children:[l.jsx(Jp,{className:"w-5 h-5 mr-2 text-green-400"}),"Recent Activity"]}),l.jsx("div",{className:"space-y-3",children:e.slice(0,5).map(s=>l.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-700/30 rounded-lg",children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("div",{className:"w-8 h-8 bg-red-600 rounded-full flex items-center justify-center",children:l.jsx("span",{className:"text-white text-sm font-bold",children:s.name.charAt(0)})}),l.jsxs("div",{children:[l.jsx("div",{className:"text-white font-medium",children:s.name}),l.jsx("div",{className:"text-gray-400 text-sm",children:s.email})]})]}),l.jsxs("div",{className:"text-right",children:[l.jsxs("div",{className:"text-white font-medium",children:[s.purchases," purchases"]}),l.jsx("div",{className:"text-gray-400 text-sm",children:s.lastScanAt?s.lastScanAt.toDate().toLocaleDateString():"Never"})]})]},s.id))})]})]})},zz=({allUsers:t})=>{const e=t.filter(r=>r.role==="customer"),n=t.filter(r=>r.role==="admin"||r.role==="super_admin");return l.jsxs("div",{className:"bg-gray-900/80 backdrop-blur-sm border border-red-900/30 rounded-2xl p-8 shadow-2xl",children:[l.jsxs("div",{className:"text-center mb-8",children:[l.jsx("h2",{className:"text-3xl font-bold text-white mb-2",children:"User Management"}),l.jsx("p",{className:"text-gray-400",children:"Overview of all system users"})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[l.jsxs("div",{className:"bg-gradient-to-r from-blue-900/50 to-blue-800/50 border border-blue-700/50 rounded-xl p-6 text-center",children:[l.jsx("div",{className:"text-4xl font-bold text-blue-400 mb-2",children:t.length}),l.jsx("div",{className:"text-blue-300 text-lg",children:"Total Users"})]}),l.jsxs("div",{className:"bg-gradient-to-r from-green-900/50 to-green-800/50 border border-green-700/50 rounded-xl p-6 text-center",children:[l.jsx("div",{className:"text-4xl font-bold text-green-400 mb-2",children:e.length}),l.jsx("div",{className:"text-green-300 text-lg",children:"Customers"})]}),l.jsxs("div",{className:"bg-gradient-to-r from-purple-900/50 to-purple-800/50 border border-purple-700/50 rounded-xl p-6 text-center",children:[l.jsx("div",{className:"text-4xl font-bold text-purple-400 mb-2",children:n.length}),l.jsx("div",{className:"text-purple-300 text-lg",children:"Administrators"})]})]}),l.jsxs("div",{className:"bg-gray-800/50 border border-gray-700 rounded-xl p-6",children:[l.jsxs("h3",{className:"text-xl font-bold text-white mb-4 flex items-center",children:[l.jsx(na,{className:"w-5 h-5 mr-2 text-blue-400"}),"Customer Overview"]}),l.jsxs("div",{className:"overflow-x-auto",children:[l.jsxs("table",{className:"w-full text-sm",children:[l.jsx("thead",{children:l.jsxs("tr",{className:"border-b border-gray-700",children:[l.jsx("th",{className:"text-left p-3 text-gray-300",children:"Name"}),l.jsx("th",{className:"text-left p-3 text-gray-300",children:"Email"}),l.jsx("th",{className:"text-left p-3 text-gray-300",children:"Purchases"}),l.jsx("th",{className:"text-left p-3 text-gray-300",children:"Rewards"}),l.jsx("th",{className:"text-left p-3 text-gray-300",children:"Last Scan"}),l.jsx("th",{className:"text-left p-3 text-gray-300",children:"Status"})]})}),l.jsx("tbody",{children:e.slice(0,10).map(r=>{var s;return l.jsxs("tr",{className:"border-b border-gray-700/50 hover:bg-gray-700/30",children:[l.jsx("td",{className:"p-3 text-white",children:r.name}),l.jsx("td",{className:"p-3 text-gray-300",children:r.email}),l.jsx("td",{className:"p-3 text-white",children:r.purchases}),l.jsx("td",{className:"p-3 text-white",children:((s=r.completedRewards)==null?void 0:s.length)||0}),l.jsx("td",{className:"p-3 text-gray-300",children:r.lastScanAt?r.lastScanAt.toDate().toLocaleDateString():"Never"}),l.jsx("td",{className:"p-3",children:l.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${r.lastScanAt&&new Date().getTime()-r.lastScanAt.toDate().getTime()<7*24*60*60*1e3?"bg-green-900/50 text-green-300 border border-green-700/50":"bg-gray-900/50 text-gray-300 border border-gray-700/50"}`,children:r.lastScanAt&&new Date().getTime()-r.lastScanAt.toDate().getTime()<7*24*60*60*1e3?"Active":"Inactive"})})]},r.id)})})]}),e.length>10&&l.jsx("div",{className:"text-center mt-4",children:l.jsxs("p",{className:"text-gray-400 text-sm",children:["Showing 10 of ",e.length," customers"]})})]})]})]})};function VC(t,[e,n]){return Math.min(n,Math.max(e,t))}function Wz(t){const e=g.useRef({value:t,previous:t});return g.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var Qz=[" ","Enter","ArrowUp","ArrowDown"],Yz=[" ","Enter"],Sd="Select",[Lm,Fm,Kz]=od(Sd),[hc,YQ]=Kl(Sd,[Kz,cc]),Vm=cc(),[Hz,wo]=hc(Sd),[Jz,Xz]=hc(Sd),_2=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:s,onOpenChange:i,value:o,defaultValue:a,onValueChange:c,dir:u,name:h,autoComplete:p,disabled:f,required:v,form:x}=t,y=Vm(e),[w,T]=g.useState(null),[E,b]=g.useState(null),[R,j]=g.useState(!1),V=Nm(u),[I=!1,S]=ku({prop:r,defaultProp:s,onChange:i}),[P,k]=ku({prop:o,defaultProp:a,onChange:c}),O=g.useRef(null),L=w?x||!!w.closest("form"):!0,[D,X]=g.useState(new Set),re=Array.from(D).map(se=>se.props.value).join(";");return l.jsx(rN,{...y,children:l.jsxs(Hz,{required:v,scope:e,trigger:w,onTriggerChange:T,valueNode:E,onValueNodeChange:b,valueNodeHasChildren:R,onValueNodeHasChildrenChange:j,contentId:Ko(),value:P,onValueChange:k,open:I,onOpenChange:S,dir:V,triggerPointerDownPosRef:O,disabled:f,children:[l.jsx(Lm.Provider,{scope:e,children:l.jsx(Jz,{scope:t.__scopeSelect,onNativeOptionAdd:g.useCallback(se=>{X(ue=>new Set(ue).add(se))},[]),onNativeOptionRemove:g.useCallback(se=>{X(ue=>{const q=new Set(ue);return q.delete(se),q})},[]),children:n})}),L?l.jsxs(K2,{"aria-hidden":!0,required:v,tabIndex:-1,name:h,autoComplete:p,value:P,onChange:se=>k(se.target.value),disabled:f,form:x,children:[P===void 0?l.jsx("option",{value:""}):null,Array.from(D)]},re):null]})})};_2.displayName=Sd;var T2="SelectTrigger",A2=g.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...s}=t,i=Vm(n),o=wo(T2,n),a=o.disabled||r,c=it(e,o.onTriggerChange),u=Fm(n),h=g.useRef("touch"),[p,f,v]=H2(y=>{const w=u().filter(b=>!b.disabled),T=w.find(b=>b.value===o.value),E=J2(w,y,T);E!==void 0&&o.onValueChange(E.value)}),x=y=>{a||(o.onOpenChange(!0),v()),y&&(o.triggerPointerDownPosRef.current={x:Math.round(y.pageX),y:Math.round(y.pageY)})};return l.jsx(_w,{asChild:!0,...i,children:l.jsx(De.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:a,"data-disabled":a?"":void 0,"data-placeholder":Y2(o.value)?"":void 0,...s,ref:c,onClick:pe(s.onClick,y=>{y.currentTarget.focus(),h.current!=="mouse"&&x(y)}),onPointerDown:pe(s.onPointerDown,y=>{h.current=y.pointerType;const w=y.target;w.hasPointerCapture(y.pointerId)&&w.releasePointerCapture(y.pointerId),y.button===0&&y.ctrlKey===!1&&y.pointerType==="mouse"&&(x(y),y.preventDefault())}),onKeyDown:pe(s.onKeyDown,y=>{const w=p.current!=="";!(y.ctrlKey||y.altKey||y.metaKey)&&y.key.length===1&&f(y.key),!(w&&y.key===" ")&&Qz.includes(y.key)&&(x(),y.preventDefault())})})})});A2.displayName=T2;var S2="SelectValue",I2=g.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,children:i,placeholder:o="",...a}=t,c=wo(S2,n),{onValueNodeHasChildrenChange:u}=c,h=i!==void 0,p=it(e,c.onValueNodeChange);return en(()=>{u(h)},[u,h]),l.jsx(De.span,{...a,ref:p,style:{pointerEvents:"none"},children:Y2(c.value)?l.jsx(l.Fragment,{children:o}):i})});I2.displayName=S2;var Zz="SelectIcon",R2=g.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...s}=t;return l.jsx(De.span,{"aria-hidden":!0,...s,ref:e,children:r||"▼"})});R2.displayName=Zz;var eW="SelectPortal",N2=t=>l.jsx(Qp,{asChild:!0,...t});N2.displayName=eW;var da="SelectContent",P2=g.forwardRef((t,e)=>{const n=wo(da,t.__scopeSelect),[r,s]=g.useState();if(en(()=>{s(new DocumentFragment)},[]),!n.open){const i=r;return i?pa.createPortal(l.jsx(k2,{scope:t.__scopeSelect,children:l.jsx(Lm.Slot,{scope:t.__scopeSelect,children:l.jsx("div",{children:t.children})})}),i):null}return l.jsx(M2,{...t,ref:e})});P2.displayName=da;var kr=10,[k2,Eo]=hc(da),tW="SelectContentImpl",M2=g.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:i,onPointerDownOutside:o,side:a,sideOffset:c,align:u,alignOffset:h,arrowPadding:p,collisionBoundary:f,collisionPadding:v,sticky:x,hideWhenDetached:y,avoidCollisions:w,...T}=t,E=wo(da,n),[b,R]=g.useState(null),[j,V]=g.useState(null),I=it(e,ie=>R(ie)),[S,P]=g.useState(null),[k,O]=g.useState(null),L=Fm(n),[D,X]=g.useState(!1),re=g.useRef(!1);g.useEffect(()=>{if(b)return nP(b)},[b]),WN();const se=g.useCallback(ie=>{const[ge,...xe]=L().map(Ce=>Ce.ref.current),[Ee]=xe.slice(-1),Te=document.activeElement;for(const Ce of ie)if(Ce===Te||(Ce==null||Ce.scrollIntoView({block:"nearest"}),Ce===ge&&j&&(j.scrollTop=0),Ce===Ee&&j&&(j.scrollTop=j.scrollHeight),Ce==null||Ce.focus(),document.activeElement!==Te))return},[L,j]),ue=g.useCallback(()=>se([S,b]),[se,S,b]);g.useEffect(()=>{D&&ue()},[D,ue]);const{onOpenChange:q,triggerPointerDownPosRef:z}=E;g.useEffect(()=>{if(b){let ie={x:0,y:0};const ge=Ee=>{var Te,Ce;ie={x:Math.abs(Math.round(Ee.pageX)-(((Te=z.current)==null?void 0:Te.x)??0)),y:Math.abs(Math.round(Ee.pageY)-(((Ce=z.current)==null?void 0:Ce.y)??0))}},xe=Ee=>{ie.x<=10&&ie.y<=10?Ee.preventDefault():b.contains(Ee.target)||q(!1),document.removeEventListener("pointermove",ge),z.current=null};return z.current!==null&&(document.addEventListener("pointermove",ge),document.addEventListener("pointerup",xe,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",ge),document.removeEventListener("pointerup",xe,{capture:!0})}}},[b,q,z]),g.useEffect(()=>{const ie=()=>q(!1);return window.addEventListener("blur",ie),window.addEventListener("resize",ie),()=>{window.removeEventListener("blur",ie),window.removeEventListener("resize",ie)}},[q]);const[Z,te]=H2(ie=>{const ge=L().filter(Te=>!Te.disabled),xe=ge.find(Te=>Te.ref.current===document.activeElement),Ee=J2(ge,ie,xe);Ee&&setTimeout(()=>Ee.ref.current.focus())}),ae=g.useCallback((ie,ge,xe)=>{const Ee=!re.current&&!xe;(E.value!==void 0&&E.value===ge||Ee)&&(P(ie),Ee&&(re.current=!0))},[E.value]),le=g.useCallback(()=>b==null?void 0:b.focus(),[b]),Se=g.useCallback((ie,ge,xe)=>{const Ee=!re.current&&!xe;(E.value!==void 0&&E.value===ge||Ee)&&O(ie)},[E.value]),ke=r==="popper"?Hy:j2,we=ke===Hy?{side:a,sideOffset:c,align:u,alignOffset:h,arrowPadding:p,collisionBoundary:f,collisionPadding:v,sticky:x,hideWhenDetached:y,avoidCollisions:w}:{};return l.jsx(k2,{scope:n,content:b,viewport:j,onViewportChange:V,itemRefCallback:ae,selectedItem:S,onItemLeave:le,itemTextRefCallback:Se,focusSelectedItem:ue,selectedItemText:k,position:r,isPositioned:D,searchRef:Z,children:l.jsx(Fw,{as:ta,allowPinchZoom:!0,children:l.jsx(Lw,{asChild:!0,trapped:E.open,onMountAutoFocus:ie=>{ie.preventDefault()},onUnmountAutoFocus:pe(s,ie=>{var ge;(ge=E.trigger)==null||ge.focus({preventScroll:!0}),ie.preventDefault()}),children:l.jsx(ad,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:ie=>ie.preventDefault(),onDismiss:()=>E.onOpenChange(!1),children:l.jsx(ke,{role:"listbox",id:E.contentId,"data-state":E.open?"open":"closed",dir:E.dir,onContextMenu:ie=>ie.preventDefault(),...T,...we,onPlaced:()=>X(!0),ref:I,style:{display:"flex",flexDirection:"column",outline:"none",...T.style},onKeyDown:pe(T.onKeyDown,ie=>{const ge=ie.ctrlKey||ie.altKey||ie.metaKey;if(ie.key==="Tab"&&ie.preventDefault(),!ge&&ie.key.length===1&&te(ie.key),["ArrowUp","ArrowDown","Home","End"].includes(ie.key)){let Ee=L().filter(Te=>!Te.disabled).map(Te=>Te.ref.current);if(["ArrowUp","End"].includes(ie.key)&&(Ee=Ee.slice().reverse()),["ArrowUp","ArrowDown"].includes(ie.key)){const Te=ie.target,Ce=Ee.indexOf(Te);Ee=Ee.slice(Ce+1)}setTimeout(()=>se(Ee)),ie.preventDefault()}})})})})})})});M2.displayName=tW;var nW="SelectItemAlignedPosition",j2=g.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...s}=t,i=wo(da,n),o=Eo(da,n),[a,c]=g.useState(null),[u,h]=g.useState(null),p=it(e,I=>h(I)),f=Fm(n),v=g.useRef(!1),x=g.useRef(!0),{viewport:y,selectedItem:w,selectedItemText:T,focusSelectedItem:E}=o,b=g.useCallback(()=>{if(i.trigger&&i.valueNode&&a&&u&&y&&w&&T){const I=i.trigger.getBoundingClientRect(),S=u.getBoundingClientRect(),P=i.valueNode.getBoundingClientRect(),k=T.getBoundingClientRect();if(i.dir!=="rtl"){const Te=k.left-S.left,Ce=P.left-Te,he=I.left-Ce,ve=I.width+he,gt=Math.max(ve,S.width),at=window.innerWidth-kr,Dt=VC(Ce,[kr,Math.max(kr,at-gt)]);a.style.minWidth=ve+"px",a.style.left=Dt+"px"}else{const Te=S.right-k.right,Ce=window.innerWidth-P.right-Te,he=window.innerWidth-I.right-Ce,ve=I.width+he,gt=Math.max(ve,S.width),at=window.innerWidth-kr,Dt=VC(Ce,[kr,Math.max(kr,at-gt)]);a.style.minWidth=ve+"px",a.style.right=Dt+"px"}const O=f(),L=window.innerHeight-kr*2,D=y.scrollHeight,X=window.getComputedStyle(u),re=parseInt(X.borderTopWidth,10),se=parseInt(X.paddingTop,10),ue=parseInt(X.borderBottomWidth,10),q=parseInt(X.paddingBottom,10),z=re+se+D+q+ue,Z=Math.min(w.offsetHeight*5,z),te=window.getComputedStyle(y),ae=parseInt(te.paddingTop,10),le=parseInt(te.paddingBottom,10),Se=I.top+I.height/2-kr,ke=L-Se,we=w.offsetHeight/2,ie=w.offsetTop+we,ge=re+se+ie,xe=z-ge;if(ge<=Se){const Te=O.length>0&&w===O[O.length-1].ref.current;a.style.bottom="0px";const Ce=u.clientHeight-y.offsetTop-y.offsetHeight,he=Math.max(ke,we+(Te?le:0)+Ce+ue),ve=ge+he;a.style.height=ve+"px"}else{const Te=O.length>0&&w===O[0].ref.current;a.style.top="0px";const he=Math.max(Se,re+y.offsetTop+(Te?ae:0)+we)+xe;a.style.height=he+"px",y.scrollTop=ge-Se+y.offsetTop}a.style.margin=`${kr}px 0`,a.style.minHeight=Z+"px",a.style.maxHeight=L+"px",r==null||r(),requestAnimationFrame(()=>v.current=!0)}},[f,i.trigger,i.valueNode,a,u,y,w,T,i.dir,r]);en(()=>b(),[b]);const[R,j]=g.useState();en(()=>{u&&j(window.getComputedStyle(u).zIndex)},[u]);const V=g.useCallback(I=>{I&&x.current===!0&&(b(),E==null||E(),x.current=!1)},[b,E]);return l.jsx(sW,{scope:n,contentWrapper:a,shouldExpandOnScrollRef:v,onScrollButtonChange:V,children:l.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:R},children:l.jsx(De.div,{...s,ref:p,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});j2.displayName=nW;var rW="SelectPopperPosition",Hy=g.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:s=kr,...i}=t,o=Vm(n);return l.jsx(Tw,{...o,...i,ref:e,align:r,collisionPadding:s,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Hy.displayName=rW;var[sW,Kw]=hc(da,{}),Jy="SelectViewport",D2=g.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...s}=t,i=Eo(Jy,n),o=Kw(Jy,n),a=it(e,i.onViewportChange),c=g.useRef(0);return l.jsxs(l.Fragment,{children:[l.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),l.jsx(Lm.Slot,{scope:n,children:l.jsx(De.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:a,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:pe(s.onScroll,u=>{const h=u.currentTarget,{contentWrapper:p,shouldExpandOnScrollRef:f}=o;if(f!=null&&f.current&&p){const v=Math.abs(c.current-h.scrollTop);if(v>0){const x=window.innerHeight-kr*2,y=parseFloat(p.style.minHeight),w=parseFloat(p.style.height),T=Math.max(y,w);if(T<x){const E=T+v,b=Math.min(x,E),R=E-b;p.style.height=b+"px",p.style.bottom==="0px"&&(h.scrollTop=R>0?R:0,p.style.justifyContent="flex-end")}}}c.current=h.scrollTop})})})]})});D2.displayName=Jy;var O2="SelectGroup",[iW,oW]=hc(O2),aW=g.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=Ko();return l.jsx(iW,{scope:n,id:s,children:l.jsx(De.div,{role:"group","aria-labelledby":s,...r,ref:e})})});aW.displayName=O2;var L2="SelectLabel",F2=g.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=oW(L2,n);return l.jsx(De.div,{id:s.id,...r,ref:e})});F2.displayName=L2;var Rp="SelectItem",[lW,V2]=hc(Rp),B2=g.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:s=!1,textValue:i,...o}=t,a=wo(Rp,n),c=Eo(Rp,n),u=a.value===r,[h,p]=g.useState(i??""),[f,v]=g.useState(!1),x=it(e,E=>{var b;return(b=c.itemRefCallback)==null?void 0:b.call(c,E,r,s)}),y=Ko(),w=g.useRef("touch"),T=()=>{s||(a.onValueChange(r),a.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return l.jsx(lW,{scope:n,value:r,disabled:s,textId:y,isSelected:u,onItemTextChange:g.useCallback(E=>{p(b=>b||((E==null?void 0:E.textContent)??"").trim())},[]),children:l.jsx(Lm.ItemSlot,{scope:n,value:r,disabled:s,textValue:h,children:l.jsx(De.div,{role:"option","aria-labelledby":y,"data-highlighted":f?"":void 0,"aria-selected":u&&f,"data-state":u?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...o,ref:x,onFocus:pe(o.onFocus,()=>v(!0)),onBlur:pe(o.onBlur,()=>v(!1)),onClick:pe(o.onClick,()=>{w.current!=="mouse"&&T()}),onPointerUp:pe(o.onPointerUp,()=>{w.current==="mouse"&&T()}),onPointerDown:pe(o.onPointerDown,E=>{w.current=E.pointerType}),onPointerMove:pe(o.onPointerMove,E=>{var b;w.current=E.pointerType,s?(b=c.onItemLeave)==null||b.call(c):w.current==="mouse"&&E.currentTarget.focus({preventScroll:!0})}),onPointerLeave:pe(o.onPointerLeave,E=>{var b;E.currentTarget===document.activeElement&&((b=c.onItemLeave)==null||b.call(c))}),onKeyDown:pe(o.onKeyDown,E=>{var R;((R=c.searchRef)==null?void 0:R.current)!==""&&E.key===" "||(Yz.includes(E.key)&&T(),E.key===" "&&E.preventDefault())})})})})});B2.displayName=Rp;var Yc="SelectItemText",U2=g.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,...i}=t,o=wo(Yc,n),a=Eo(Yc,n),c=V2(Yc,n),u=Xz(Yc,n),[h,p]=g.useState(null),f=it(e,T=>p(T),c.onItemTextChange,T=>{var E;return(E=a.itemTextRefCallback)==null?void 0:E.call(a,T,c.value,c.disabled)}),v=h==null?void 0:h.textContent,x=g.useMemo(()=>l.jsx("option",{value:c.value,disabled:c.disabled,children:v},c.value),[c.disabled,c.value,v]),{onNativeOptionAdd:y,onNativeOptionRemove:w}=u;return en(()=>(y(x),()=>w(x)),[y,w,x]),l.jsxs(l.Fragment,{children:[l.jsx(De.span,{id:c.textId,...i,ref:f}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?pa.createPortal(i.children,o.valueNode):null]})});U2.displayName=Yc;var q2="SelectItemIndicator",G2=g.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return V2(q2,n).isSelected?l.jsx(De.span,{"aria-hidden":!0,...r,ref:e}):null});G2.displayName=q2;var Xy="SelectScrollUpButton",$2=g.forwardRef((t,e)=>{const n=Eo(Xy,t.__scopeSelect),r=Kw(Xy,t.__scopeSelect),[s,i]=g.useState(!1),o=it(e,r.onScrollButtonChange);return en(()=>{if(n.viewport&&n.isPositioned){let a=function(){const u=c.scrollTop>0;i(u)};const c=n.viewport;return a(),c.addEventListener("scroll",a),()=>c.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),s?l.jsx(W2,{...t,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:c}=n;a&&c&&(a.scrollTop=a.scrollTop-c.offsetHeight)}}):null});$2.displayName=Xy;var Zy="SelectScrollDownButton",z2=g.forwardRef((t,e)=>{const n=Eo(Zy,t.__scopeSelect),r=Kw(Zy,t.__scopeSelect),[s,i]=g.useState(!1),o=it(e,r.onScrollButtonChange);return en(()=>{if(n.viewport&&n.isPositioned){let a=function(){const u=c.scrollHeight-c.clientHeight,h=Math.ceil(c.scrollTop)<u;i(h)};const c=n.viewport;return a(),c.addEventListener("scroll",a),()=>c.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),s?l.jsx(W2,{...t,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:c}=n;a&&c&&(a.scrollTop=a.scrollTop+c.offsetHeight)}}):null});z2.displayName=Zy;var W2=g.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...s}=t,i=Eo("SelectScrollButton",n),o=g.useRef(null),a=Fm(n),c=g.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return g.useEffect(()=>()=>c(),[c]),en(()=>{var h;const u=a().find(p=>p.ref.current===document.activeElement);(h=u==null?void 0:u.ref.current)==null||h.scrollIntoView({block:"nearest"})},[a]),l.jsx(De.div,{"aria-hidden":!0,...s,ref:e,style:{flexShrink:0,...s.style},onPointerDown:pe(s.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(r,50))}),onPointerMove:pe(s.onPointerMove,()=>{var u;(u=i.onItemLeave)==null||u.call(i),o.current===null&&(o.current=window.setInterval(r,50))}),onPointerLeave:pe(s.onPointerLeave,()=>{c()})})}),cW="SelectSeparator",Q2=g.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return l.jsx(De.div,{"aria-hidden":!0,...r,ref:e})});Q2.displayName=cW;var ev="SelectArrow",uW=g.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=Vm(n),i=wo(ev,n),o=Eo(ev,n);return i.open&&o.position==="popper"?l.jsx(Aw,{...s,...r,ref:e}):null});uW.displayName=ev;function Y2(t){return t===""||t===void 0}var K2=g.forwardRef((t,e)=>{const{value:n,...r}=t,s=g.useRef(null),i=it(e,s),o=Wz(n);return g.useEffect(()=>{const a=s.current,c=window.HTMLSelectElement.prototype,h=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==n&&h){const p=new Event("change",{bubbles:!0});h.call(a,n),a.dispatchEvent(p)}},[o,n]),l.jsx(ld,{asChild:!0,children:l.jsx("select",{...r,ref:i,defaultValue:n})})});K2.displayName="BubbleSelect";function H2(t){const e=cn(t),n=g.useRef(""),r=g.useRef(0),s=g.useCallback(o=>{const a=n.current+o;e(a),function c(u){n.current=u,window.clearTimeout(r.current),u!==""&&(r.current=window.setTimeout(()=>c(""),1e3))}(a)},[e]),i=g.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return g.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,s,i]}function J2(t,e,n){const s=e.length>1&&Array.from(e).every(u=>u===e[0])?e[0]:e,i=n?t.indexOf(n):-1;let o=dW(t,Math.max(i,0));s.length===1&&(o=o.filter(u=>u!==n));const c=o.find(u=>u.textValue.toLowerCase().startsWith(s.toLowerCase()));return c!==n?c:void 0}function dW(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var hW=_2,X2=A2,fW=I2,pW=R2,mW=N2,Z2=P2,gW=D2,ek=F2,tk=B2,yW=U2,vW=G2,nk=$2,rk=z2,sk=Q2;const xW=hW,wW=fW,ik=g.forwardRef(({className:t,children:e,...n},r)=>l.jsxs(X2,{ref:r,className:Le("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[e,l.jsx(pW,{asChild:!0,children:l.jsx(HA,{className:"h-4 w-4 opacity-50"})})]}));ik.displayName=X2.displayName;const ok=g.forwardRef(({className:t,...e},n)=>l.jsx(nk,{ref:n,className:Le("flex cursor-default items-center justify-center py-1",t),...e,children:l.jsx(cO,{className:"h-4 w-4"})}));ok.displayName=nk.displayName;const ak=g.forwardRef(({className:t,...e},n)=>l.jsx(rk,{ref:n,className:Le("flex cursor-default items-center justify-center py-1",t),...e,children:l.jsx(HA,{className:"h-4 w-4"})}));ak.displayName=rk.displayName;const lk=g.forwardRef(({className:t,children:e,position:n="popper",...r},s)=>l.jsx(mW,{children:l.jsxs(Z2,{ref:s,className:Le("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[l.jsx(ok,{}),l.jsx(gW,{className:Le("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),l.jsx(ak,{})]})}));lk.displayName=Z2.displayName;const EW=g.forwardRef(({className:t,...e},n)=>l.jsx(ek,{ref:n,className:Le("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));EW.displayName=ek.displayName;const bf=g.forwardRef(({className:t,children:e,...n},r)=>l.jsxs(tk,{ref:r,className:Le("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[l.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:l.jsx(vW,{children:l.jsx(KA,{className:"h-4 w-4"})})}),l.jsx(yW,{children:e})]}));bf.displayName=tk.displayName;const bW=g.forwardRef(({className:t,...e},n)=>l.jsx(sk,{ref:n,className:Le("-mx-1 my-1 h-px bg-muted",t),...e}));bW.displayName=sk.displayName;const CW=()=>{const{user:t,loading:e,updateUserRole:n}=ms(),r=Qr(),[s,i]=g.useState([]),[o,a]=g.useState(!0),[c,u]=g.useState(null),[h,p]=g.useState(null),[f,v]=g.useState(null);if(g.useEffect(()=>{!e&&(!t||t.role!=="super_admin")&&r("/dashboard")},[t,e,r]),g.useEffect(()=>{const E=async()=>{if(!(!t||t.role!=="super_admin"))try{const b=gd(Pt,"users"),R=tw(b,KI("createdAt","desc")),j=await iw(R),V=[];j.forEach(I=>{const S=I.data();V.push({id:I.id,name:S.name,email:S.email,role:S.role||"customer",purchases:S.purchases||0,createdAt:S.createdAt})}),i(V)}catch(b){console.error("Error loading users:",b),lt({title:"Error",description:"Failed to load users",variant:"destructive"})}finally{a(!1)}};(t==null?void 0:t.role)==="super_admin"&&E()},[t]),e)return l.jsx("div",{className:"min-h-screen bg-gradient-to-br from-black via-gray-900 to-red-950 flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-red-500 mx-auto mb-4"}),l.jsx("p",{className:"text-white text-lg",children:"Loading..."})]})});if(!t||t.role!=="super_admin")return null;const x=async(E,b)=>{if(E===t.id){lt({title:"Cannot Update Own Role",description:"You cannot change your own role",variant:"destructive"});return}u(E);try{await n(E,b),lt({title:"Role Updated",description:"User role has been updated successfully!"}),i(R=>R.map(j=>j.id===E?{...j,role:b}:j))}catch(R){console.error("Error updating role:",R),lt({title:"Update Failed",description:"Failed to update user role. Please try again.",variant:"destructive"})}finally{u(null)}},y=async E=>{p(E);try{await WV(an(Pt,"users",E)),i(b=>b.filter(R=>R.id!==E)),lt({title:"User Deleted",description:"The user has been deleted successfully."})}catch(b){console.error("Error deleting user:",b),lt({title:"Delete Failed",description:"Failed to delete user. Please try again.",variant:"destructive"})}finally{p(null),v(null)}},w=E=>{switch(E){case"super_admin":return l.jsx(ny,{className:"w-4 h-4 text-yellow-500"});case"admin":return l.jsx(ZA,{className:"w-4 h-4 text-blue-500"});case"customer":return l.jsx(ry,{className:"w-4 h-4 text-gray-500"});default:return l.jsx(ry,{className:"w-4 h-4 text-gray-500"})}},T=E=>{switch(E){case"super_admin":return"text-yellow-500 bg-yellow-500/10 border-yellow-500/20";case"admin":return"text-blue-500 bg-blue-500/10 border-blue-500/20";case"customer":return"text-gray-500 bg-gray-500/10 border-gray-500/20";default:return"text-gray-500 bg-gray-500/10 border-gray-500/20"}};return l.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-black via-gray-900 to-red-950 relative overflow-hidden",children:[l.jsxs("div",{className:"absolute inset-0 opacity-10",children:[l.jsx("div",{className:"absolute top-20 right-10 w-40 h-40 bg-red-500 rounded-full blur-3xl animate-pulse"}),l.jsx("div",{className:"absolute bottom-32 left-10 w-32 h-32 bg-red-600 rounded-full blur-3xl animate-pulse delay-1000"})]}),l.jsxs("div",{className:"relative z-10 min-h-screen flex flex-col",children:[l.jsx("div",{className:"bg-gray-900/80 backdrop-blur-sm border-b border-red-900/30 sticky top-0 z-10",children:l.jsxs("div",{className:"p-6 flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx(Ks,{to:"/dashboard",className:"text-red-400 hover:text-red-300 transition-colors",children:l.jsx(Hl,{className:"w-6 h-6"})}),l.jsx("h1",{className:"ml-4 text-2xl font-bold text-white",children:"User Management"})]}),l.jsxs("div",{className:"flex items-center text-gray-400",children:[l.jsx(ny,{className:"w-6 h-6 mr-2 text-yellow-500"}),l.jsx("span",{className:"text-sm",children:"Super Admin Panel"})]})]})}),l.jsx("div",{className:"flex-1 px-6 py-8",children:l.jsx("div",{className:"max-w-4xl mx-auto",children:l.jsxs("div",{className:"bg-gray-900/80 backdrop-blur-sm border border-red-900/30 rounded-2xl p-8 shadow-2xl",children:[l.jsxs("div",{className:"text-center mb-8",children:[l.jsx("h2",{className:"text-3xl font-bold text-white mb-2",children:"Manage Users"}),l.jsx("p",{className:"text-gray-400",children:"Update user roles and permissions"})]}),o?l.jsxs("div",{className:"text-center py-8",children:[l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-red-500 mx-auto mb-4"}),l.jsx("p",{className:"text-white",children:"Loading users..."})]}):l.jsx("div",{className:"space-y-4",children:s.map(E=>l.jsxs("div",{className:"bg-gray-800/50 border border-gray-700 rounded-lg p-4 flex items-center justify-between",children:[l.jsx("div",{className:"flex items-center space-x-4",children:l.jsxs("div",{className:"flex items-center space-x-3",children:[w(E.role),l.jsxs("div",{children:[l.jsx("h3",{className:"text-white font-semibold",children:E.name}),l.jsx("p",{className:"text-gray-400 text-sm",children:E.email}),l.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[l.jsx("span",{className:`text-xs px-2 py-1 rounded-full border ${T(E.role)}`,children:E.role.replace("_"," ").toUpperCase()}),l.jsxs("span",{className:"text-gray-500 text-xs",children:[E.purchases," purchases"]})]})]})]})}),l.jsxs("div",{className:"flex items-center space-x-3",children:[E.id!==t.id&&l.jsx(l.Fragment,{children:l.jsxs(xW,{value:E.role,onValueChange:b=>x(E.id,b),disabled:c===E.id,children:[l.jsx(ik,{className:"w-32 bg-gray-700 border-gray-600 text-white",children:l.jsx(wW,{})}),l.jsxs(lk,{className:"bg-gray-800 border-gray-700",children:[l.jsx(bf,{value:"customer",children:"Customer"}),l.jsx(bf,{value:"admin",children:"Admin"}),l.jsx(bf,{value:"super_admin",children:"Super Admin"})]})]})}),E.id===t.id&&l.jsx("span",{className:"text-gray-500 text-sm",children:"Current User"})]})]},E.id))}),s.length===0&&!o&&l.jsxs("div",{className:"text-center py-8",children:[l.jsx(na,{className:"w-12 h-12 text-gray-500 mx-auto mb-4"}),l.jsx("p",{className:"text-gray-400",children:"No users found"})]})]})})})]}),f&&l.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60",children:l.jsxs("div",{className:"bg-gray-900 rounded-lg p-8 border border-red-700 shadow-xl w-full max-w-sm",children:[l.jsx("h2",{className:"text-lg font-bold text-white mb-4",children:"Confirm Delete"}),l.jsxs("p",{className:"text-gray-300 mb-6",children:["Are you sure you want to delete"," ",l.jsx("span",{className:"font-semibold text-red-400",children:f.name}),"? This action cannot be undone."]}),l.jsxs("div",{className:"flex justify-end space-x-3",children:[l.jsx(Ze,{variant:"ghost",onClick:()=>v(null),className:"text-gray-300 hover:text-white",children:"Cancel"}),l.jsx(Ze,{variant:"destructive",onClick:()=>y(f.id),disabled:h===f.id,children:h===f.id?"Deleting...":"Delete"})]})]})})]})},_W=()=>{const t=Xs();return g.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",t.pathname)},[t.pathname]),l.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:l.jsxs("div",{className:"text-center",children:[l.jsx("h1",{className:"text-4xl font-bold mb-4",children:"404"}),l.jsx("p",{className:"text-xl text-gray-600 mb-4",children:"Oops! Page not found"}),l.jsx("a",{href:"/",className:"text-blue-500 hover:text-blue-700 underline",children:"Return to Home"})]})})};let ck=!0,uk=!0;function Kc(t,e,n){const r=t.match(e);return r&&r.length>=n&&parseFloat(r[n],10)}function Ea(t,e,n){if(!t.RTCPeerConnection)return;const r=t.RTCPeerConnection.prototype,s=r.addEventListener;r.addEventListener=function(o,a){if(o!==e)return s.apply(this,arguments);const c=u=>{const h=n(u);h&&(a.handleEvent?a.handleEvent(h):a(h))};return this._eventMap=this._eventMap||{},this._eventMap[e]||(this._eventMap[e]=new Map),this._eventMap[e].set(a,c),s.apply(this,[o,c])};const i=r.removeEventListener;r.removeEventListener=function(o,a){if(o!==e||!this._eventMap||!this._eventMap[e])return i.apply(this,arguments);if(!this._eventMap[e].has(a))return i.apply(this,arguments);const c=this._eventMap[e].get(a);return this._eventMap[e].delete(a),this._eventMap[e].size===0&&delete this._eventMap[e],Object.keys(this._eventMap).length===0&&delete this._eventMap,i.apply(this,[o,c])},Object.defineProperty(r,"on"+e,{get(){return this["_on"+e]},set(o){this["_on"+e]&&(this.removeEventListener(e,this["_on"+e]),delete this["_on"+e]),o&&this.addEventListener(e,this["_on"+e]=o)},enumerable:!0,configurable:!0})}function TW(t){return typeof t!="boolean"?new Error("Argument type: "+typeof t+". Please use a boolean."):(ck=t,t?"adapter.js logging disabled":"adapter.js logging enabled")}function AW(t){return typeof t!="boolean"?new Error("Argument type: "+typeof t+". Please use a boolean."):(uk=!t,"adapter.js deprecation warnings "+(t?"disabled":"enabled"))}function dk(){if(typeof window=="object"){if(ck)return;typeof console<"u"&&typeof console.log=="function"&&console.log.apply(console,arguments)}}function Hw(t,e){uk&&console.warn(t+" is deprecated, please use "+e+" instead.")}function SW(t){const e={browser:null,version:null};if(typeof t>"u"||!t.navigator||!t.navigator.userAgent)return e.browser="Not a browser.",e;const{navigator:n}=t;if(n.userAgentData&&n.userAgentData.brands){const r=n.userAgentData.brands.find(s=>s.brand==="Chromium");if(r)return{browser:"chrome",version:parseInt(r.version,10)}}if(n.mozGetUserMedia)e.browser="firefox",e.version=parseInt(Kc(n.userAgent,/Firefox\/(\d+)\./,1));else if(n.webkitGetUserMedia||t.isSecureContext===!1&&t.webkitRTCPeerConnection)e.browser="chrome",e.version=parseInt(Kc(n.userAgent,/Chrom(e|ium)\/(\d+)\./,2));else if(t.RTCPeerConnection&&n.userAgent.match(/AppleWebKit\/(\d+)\./))e.browser="safari",e.version=parseInt(Kc(n.userAgent,/AppleWebKit\/(\d+)\./,1)),e.supportsUnifiedPlan=t.RTCRtpTransceiver&&"currentDirection"in t.RTCRtpTransceiver.prototype,e._safariVersion=Kc(n.userAgent,/Version\/(\d+(\.?\d+))/,1);else return e.browser="Not a supported browser.",e;return e}function BC(t){return Object.prototype.toString.call(t)==="[object Object]"}function hk(t){return BC(t)?Object.keys(t).reduce(function(e,n){const r=BC(t[n]),s=r?hk(t[n]):t[n],i=r&&!Object.keys(s).length;return s===void 0||i?e:Object.assign(e,{[n]:s})},{}):t}function tv(t,e,n){!e||n.has(e.id)||(n.set(e.id,e),Object.keys(e).forEach(r=>{r.endsWith("Id")?tv(t,t.get(e[r]),n):r.endsWith("Ids")&&e[r].forEach(s=>{tv(t,t.get(s),n)})}))}function UC(t,e,n){const r=n?"outbound-rtp":"inbound-rtp",s=new Map;if(e===null)return s;const i=[];return t.forEach(o=>{o.type==="track"&&o.trackIdentifier===e.id&&i.push(o)}),i.forEach(o=>{t.forEach(a=>{a.type===r&&a.trackId===o.id&&tv(t,a,s)})}),s}const qC=dk;function fk(t,e){const n=t&&t.navigator;if(!n.mediaDevices)return;const r=function(a){if(typeof a!="object"||a.mandatory||a.optional)return a;const c={};return Object.keys(a).forEach(u=>{if(u==="require"||u==="advanced"||u==="mediaSource")return;const h=typeof a[u]=="object"?a[u]:{ideal:a[u]};h.exact!==void 0&&typeof h.exact=="number"&&(h.min=h.max=h.exact);const p=function(f,v){return f?f+v.charAt(0).toUpperCase()+v.slice(1):v==="deviceId"?"sourceId":v};if(h.ideal!==void 0){c.optional=c.optional||[];let f={};typeof h.ideal=="number"?(f[p("min",u)]=h.ideal,c.optional.push(f),f={},f[p("max",u)]=h.ideal,c.optional.push(f)):(f[p("",u)]=h.ideal,c.optional.push(f))}h.exact!==void 0&&typeof h.exact!="number"?(c.mandatory=c.mandatory||{},c.mandatory[p("",u)]=h.exact):["min","max"].forEach(f=>{h[f]!==void 0&&(c.mandatory=c.mandatory||{},c.mandatory[p(f,u)]=h[f])})}),a.advanced&&(c.optional=(c.optional||[]).concat(a.advanced)),c},s=function(a,c){if(e.version>=61)return c(a);if(a=JSON.parse(JSON.stringify(a)),a&&typeof a.audio=="object"){const u=function(h,p,f){p in h&&!(f in h)&&(h[f]=h[p],delete h[p])};a=JSON.parse(JSON.stringify(a)),u(a.audio,"autoGainControl","googAutoGainControl"),u(a.audio,"noiseSuppression","googNoiseSuppression"),a.audio=r(a.audio)}if(a&&typeof a.video=="object"){let u=a.video.facingMode;u=u&&(typeof u=="object"?u:{ideal:u});const h=e.version<66;if(u&&(u.exact==="user"||u.exact==="environment"||u.ideal==="user"||u.ideal==="environment")&&!(n.mediaDevices.getSupportedConstraints&&n.mediaDevices.getSupportedConstraints().facingMode&&!h)){delete a.video.facingMode;let p;if(u.exact==="environment"||u.ideal==="environment"?p=["back","rear"]:(u.exact==="user"||u.ideal==="user")&&(p=["front"]),p)return n.mediaDevices.enumerateDevices().then(f=>{f=f.filter(x=>x.kind==="videoinput");let v=f.find(x=>p.some(y=>x.label.toLowerCase().includes(y)));return!v&&f.length&&p.includes("back")&&(v=f[f.length-1]),v&&(a.video.deviceId=u.exact?{exact:v.deviceId}:{ideal:v.deviceId}),a.video=r(a.video),qC("chrome: "+JSON.stringify(a)),c(a)})}a.video=r(a.video)}return qC("chrome: "+JSON.stringify(a)),c(a)},i=function(a){return e.version>=64?a:{name:{PermissionDeniedError:"NotAllowedError",PermissionDismissedError:"NotAllowedError",InvalidStateError:"NotAllowedError",DevicesNotFoundError:"NotFoundError",ConstraintNotSatisfiedError:"OverconstrainedError",TrackStartError:"NotReadableError",MediaDeviceFailedDueToShutdown:"NotAllowedError",MediaDeviceKillSwitchOn:"NotAllowedError",TabCaptureError:"AbortError",ScreenCaptureError:"AbortError",DeviceCaptureError:"AbortError"}[a.name]||a.name,message:a.message,constraint:a.constraint||a.constraintName,toString(){return this.name+(this.message&&": ")+this.message}}},o=function(a,c,u){s(a,h=>{n.webkitGetUserMedia(h,c,p=>{u&&u(i(p))})})};if(n.getUserMedia=o.bind(n),n.mediaDevices.getUserMedia){const a=n.mediaDevices.getUserMedia.bind(n.mediaDevices);n.mediaDevices.getUserMedia=function(c){return s(c,u=>a(u).then(h=>{if(u.audio&&!h.getAudioTracks().length||u.video&&!h.getVideoTracks().length)throw h.getTracks().forEach(p=>{p.stop()}),new DOMException("","NotFoundError");return h},h=>Promise.reject(i(h))))}}}function pk(t){t.MediaStream=t.MediaStream||t.webkitMediaStream}function mk(t){if(typeof t=="object"&&t.RTCPeerConnection&&!("ontrack"in t.RTCPeerConnection.prototype)){Object.defineProperty(t.RTCPeerConnection.prototype,"ontrack",{get(){return this._ontrack},set(n){this._ontrack&&this.removeEventListener("track",this._ontrack),this.addEventListener("track",this._ontrack=n)},enumerable:!0,configurable:!0});const e=t.RTCPeerConnection.prototype.setRemoteDescription;t.RTCPeerConnection.prototype.setRemoteDescription=function(){return this._ontrackpoly||(this._ontrackpoly=r=>{r.stream.addEventListener("addtrack",s=>{let i;t.RTCPeerConnection.prototype.getReceivers?i=this.getReceivers().find(a=>a.track&&a.track.id===s.track.id):i={track:s.track};const o=new Event("track");o.track=s.track,o.receiver=i,o.transceiver={receiver:i},o.streams=[r.stream],this.dispatchEvent(o)}),r.stream.getTracks().forEach(s=>{let i;t.RTCPeerConnection.prototype.getReceivers?i=this.getReceivers().find(a=>a.track&&a.track.id===s.id):i={track:s};const o=new Event("track");o.track=s,o.receiver=i,o.transceiver={receiver:i},o.streams=[r.stream],this.dispatchEvent(o)})},this.addEventListener("addstream",this._ontrackpoly)),e.apply(this,arguments)}}else Ea(t,"track",e=>(e.transceiver||Object.defineProperty(e,"transceiver",{value:{receiver:e.receiver}}),e))}function gk(t){if(typeof t=="object"&&t.RTCPeerConnection&&!("getSenders"in t.RTCPeerConnection.prototype)&&"createDTMFSender"in t.RTCPeerConnection.prototype){const e=function(s,i){return{track:i,get dtmf(){return this._dtmf===void 0&&(i.kind==="audio"?this._dtmf=s.createDTMFSender(i):this._dtmf=null),this._dtmf},_pc:s}};if(!t.RTCPeerConnection.prototype.getSenders){t.RTCPeerConnection.prototype.getSenders=function(){return this._senders=this._senders||[],this._senders.slice()};const s=t.RTCPeerConnection.prototype.addTrack;t.RTCPeerConnection.prototype.addTrack=function(a,c){let u=s.apply(this,arguments);return u||(u=e(this,a),this._senders.push(u)),u};const i=t.RTCPeerConnection.prototype.removeTrack;t.RTCPeerConnection.prototype.removeTrack=function(a){i.apply(this,arguments);const c=this._senders.indexOf(a);c!==-1&&this._senders.splice(c,1)}}const n=t.RTCPeerConnection.prototype.addStream;t.RTCPeerConnection.prototype.addStream=function(i){this._senders=this._senders||[],n.apply(this,[i]),i.getTracks().forEach(o=>{this._senders.push(e(this,o))})};const r=t.RTCPeerConnection.prototype.removeStream;t.RTCPeerConnection.prototype.removeStream=function(i){this._senders=this._senders||[],r.apply(this,[i]),i.getTracks().forEach(o=>{const a=this._senders.find(c=>c.track===o);a&&this._senders.splice(this._senders.indexOf(a),1)})}}else if(typeof t=="object"&&t.RTCPeerConnection&&"getSenders"in t.RTCPeerConnection.prototype&&"createDTMFSender"in t.RTCPeerConnection.prototype&&t.RTCRtpSender&&!("dtmf"in t.RTCRtpSender.prototype)){const e=t.RTCPeerConnection.prototype.getSenders;t.RTCPeerConnection.prototype.getSenders=function(){const r=e.apply(this,[]);return r.forEach(s=>s._pc=this),r},Object.defineProperty(t.RTCRtpSender.prototype,"dtmf",{get(){return this._dtmf===void 0&&(this.track.kind==="audio"?this._dtmf=this._pc.createDTMFSender(this.track):this._dtmf=null),this._dtmf}})}}function yk(t){if(!(typeof t=="object"&&t.RTCPeerConnection&&t.RTCRtpSender&&t.RTCRtpReceiver))return;if(!("getStats"in t.RTCRtpSender.prototype)){const n=t.RTCPeerConnection.prototype.getSenders;n&&(t.RTCPeerConnection.prototype.getSenders=function(){const i=n.apply(this,[]);return i.forEach(o=>o._pc=this),i});const r=t.RTCPeerConnection.prototype.addTrack;r&&(t.RTCPeerConnection.prototype.addTrack=function(){const i=r.apply(this,arguments);return i._pc=this,i}),t.RTCRtpSender.prototype.getStats=function(){const i=this;return this._pc.getStats().then(o=>UC(o,i.track,!0))}}if(!("getStats"in t.RTCRtpReceiver.prototype)){const n=t.RTCPeerConnection.prototype.getReceivers;n&&(t.RTCPeerConnection.prototype.getReceivers=function(){const s=n.apply(this,[]);return s.forEach(i=>i._pc=this),s}),Ea(t,"track",r=>(r.receiver._pc=r.srcElement,r)),t.RTCRtpReceiver.prototype.getStats=function(){const s=this;return this._pc.getStats().then(i=>UC(i,s.track,!1))}}if(!("getStats"in t.RTCRtpSender.prototype&&"getStats"in t.RTCRtpReceiver.prototype))return;const e=t.RTCPeerConnection.prototype.getStats;t.RTCPeerConnection.prototype.getStats=function(){if(arguments.length>0&&arguments[0]instanceof t.MediaStreamTrack){const r=arguments[0];let s,i,o;return this.getSenders().forEach(a=>{a.track===r&&(s?o=!0:s=a)}),this.getReceivers().forEach(a=>(a.track===r&&(i?o=!0:i=a),a.track===r)),o||s&&i?Promise.reject(new DOMException("There are more than one sender or receiver for the track.","InvalidAccessError")):s?s.getStats():i?i.getStats():Promise.reject(new DOMException("There is no sender or receiver for the track.","InvalidAccessError"))}return e.apply(this,arguments)}}function vk(t){t.RTCPeerConnection.prototype.getLocalStreams=function(){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},Object.keys(this._shimmedLocalStreams).map(o=>this._shimmedLocalStreams[o][0])};const e=t.RTCPeerConnection.prototype.addTrack;t.RTCPeerConnection.prototype.addTrack=function(o,a){if(!a)return e.apply(this,arguments);this._shimmedLocalStreams=this._shimmedLocalStreams||{};const c=e.apply(this,arguments);return this._shimmedLocalStreams[a.id]?this._shimmedLocalStreams[a.id].indexOf(c)===-1&&this._shimmedLocalStreams[a.id].push(c):this._shimmedLocalStreams[a.id]=[a,c],c};const n=t.RTCPeerConnection.prototype.addStream;t.RTCPeerConnection.prototype.addStream=function(o){this._shimmedLocalStreams=this._shimmedLocalStreams||{},o.getTracks().forEach(u=>{if(this.getSenders().find(p=>p.track===u))throw new DOMException("Track already exists.","InvalidAccessError")});const a=this.getSenders();n.apply(this,arguments);const c=this.getSenders().filter(u=>a.indexOf(u)===-1);this._shimmedLocalStreams[o.id]=[o].concat(c)};const r=t.RTCPeerConnection.prototype.removeStream;t.RTCPeerConnection.prototype.removeStream=function(o){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},delete this._shimmedLocalStreams[o.id],r.apply(this,arguments)};const s=t.RTCPeerConnection.prototype.removeTrack;t.RTCPeerConnection.prototype.removeTrack=function(o){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},o&&Object.keys(this._shimmedLocalStreams).forEach(a=>{const c=this._shimmedLocalStreams[a].indexOf(o);c!==-1&&this._shimmedLocalStreams[a].splice(c,1),this._shimmedLocalStreams[a].length===1&&delete this._shimmedLocalStreams[a]}),s.apply(this,arguments)}}function xk(t,e){if(!t.RTCPeerConnection)return;if(t.RTCPeerConnection.prototype.addTrack&&e.version>=65)return vk(t);const n=t.RTCPeerConnection.prototype.getLocalStreams;t.RTCPeerConnection.prototype.getLocalStreams=function(){const h=n.apply(this);return this._reverseStreams=this._reverseStreams||{},h.map(p=>this._reverseStreams[p.id])};const r=t.RTCPeerConnection.prototype.addStream;t.RTCPeerConnection.prototype.addStream=function(h){if(this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},h.getTracks().forEach(p=>{if(this.getSenders().find(v=>v.track===p))throw new DOMException("Track already exists.","InvalidAccessError")}),!this._reverseStreams[h.id]){const p=new t.MediaStream(h.getTracks());this._streams[h.id]=p,this._reverseStreams[p.id]=h,h=p}r.apply(this,[h])};const s=t.RTCPeerConnection.prototype.removeStream;t.RTCPeerConnection.prototype.removeStream=function(h){this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},s.apply(this,[this._streams[h.id]||h]),delete this._reverseStreams[this._streams[h.id]?this._streams[h.id].id:h.id],delete this._streams[h.id]},t.RTCPeerConnection.prototype.addTrack=function(h,p){if(this.signalingState==="closed")throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");const f=[].slice.call(arguments,1);if(f.length!==1||!f[0].getTracks().find(y=>y===h))throw new DOMException("The adapter.js addTrack polyfill only supports a single  stream which is associated with the specified track.","NotSupportedError");if(this.getSenders().find(y=>y.track===h))throw new DOMException("Track already exists.","InvalidAccessError");this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{};const x=this._streams[p.id];if(x)x.addTrack(h),Promise.resolve().then(()=>{this.dispatchEvent(new Event("negotiationneeded"))});else{const y=new t.MediaStream([h]);this._streams[p.id]=y,this._reverseStreams[y.id]=p,this.addStream(y)}return this.getSenders().find(y=>y.track===h)};function i(u,h){let p=h.sdp;return Object.keys(u._reverseStreams||[]).forEach(f=>{const v=u._reverseStreams[f],x=u._streams[v.id];p=p.replace(new RegExp(x.id,"g"),v.id)}),new RTCSessionDescription({type:h.type,sdp:p})}function o(u,h){let p=h.sdp;return Object.keys(u._reverseStreams||[]).forEach(f=>{const v=u._reverseStreams[f],x=u._streams[v.id];p=p.replace(new RegExp(v.id,"g"),x.id)}),new RTCSessionDescription({type:h.type,sdp:p})}["createOffer","createAnswer"].forEach(function(u){const h=t.RTCPeerConnection.prototype[u],p={[u](){const f=arguments;return arguments.length&&typeof arguments[0]=="function"?h.apply(this,[x=>{const y=i(this,x);f[0].apply(null,[y])},x=>{f[1]&&f[1].apply(null,x)},arguments[2]]):h.apply(this,arguments).then(x=>i(this,x))}};t.RTCPeerConnection.prototype[u]=p[u]});const a=t.RTCPeerConnection.prototype.setLocalDescription;t.RTCPeerConnection.prototype.setLocalDescription=function(){return!arguments.length||!arguments[0].type?a.apply(this,arguments):(arguments[0]=o(this,arguments[0]),a.apply(this,arguments))};const c=Object.getOwnPropertyDescriptor(t.RTCPeerConnection.prototype,"localDescription");Object.defineProperty(t.RTCPeerConnection.prototype,"localDescription",{get(){const u=c.get.apply(this);return u.type===""?u:i(this,u)}}),t.RTCPeerConnection.prototype.removeTrack=function(h){if(this.signalingState==="closed")throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");if(!h._pc)throw new DOMException("Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.","TypeError");if(!(h._pc===this))throw new DOMException("Sender was not created by this connection.","InvalidAccessError");this._streams=this._streams||{};let f;Object.keys(this._streams).forEach(v=>{this._streams[v].getTracks().find(y=>h.track===y)&&(f=this._streams[v])}),f&&(f.getTracks().length===1?this.removeStream(this._reverseStreams[f.id]):f.removeTrack(h.track),this.dispatchEvent(new Event("negotiationneeded")))}}function nv(t,e){!t.RTCPeerConnection&&t.webkitRTCPeerConnection&&(t.RTCPeerConnection=t.webkitRTCPeerConnection),t.RTCPeerConnection&&e.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(n){const r=t.RTCPeerConnection.prototype[n],s={[n](){return arguments[0]=new(n==="addIceCandidate"?t.RTCIceCandidate:t.RTCSessionDescription)(arguments[0]),r.apply(this,arguments)}};t.RTCPeerConnection.prototype[n]=s[n]})}function wk(t,e){Ea(t,"negotiationneeded",n=>{const r=n.target;if(!((e.version<72||r.getConfiguration&&r.getConfiguration().sdpSemantics==="plan-b")&&r.signalingState!=="stable"))return n})}const GC=Object.freeze(Object.defineProperty({__proto__:null,fixNegotiationNeeded:wk,shimAddTrackRemoveTrack:xk,shimAddTrackRemoveTrackWithNative:vk,shimGetSendersWithDtmf:gk,shimGetUserMedia:fk,shimMediaStream:pk,shimOnTrack:mk,shimPeerConnection:nv,shimSenderReceiverGetStats:yk},Symbol.toStringTag,{value:"Module"}));function Ek(t,e){const n=t&&t.navigator,r=t&&t.MediaStreamTrack;if(n.getUserMedia=function(s,i,o){Hw("navigator.getUserMedia","navigator.mediaDevices.getUserMedia"),n.mediaDevices.getUserMedia(s).then(i,o)},!(e.version>55&&"autoGainControl"in n.mediaDevices.getSupportedConstraints())){const s=function(o,a,c){a in o&&!(c in o)&&(o[c]=o[a],delete o[a])},i=n.mediaDevices.getUserMedia.bind(n.mediaDevices);if(n.mediaDevices.getUserMedia=function(o){return typeof o=="object"&&typeof o.audio=="object"&&(o=JSON.parse(JSON.stringify(o)),s(o.audio,"autoGainControl","mozAutoGainControl"),s(o.audio,"noiseSuppression","mozNoiseSuppression")),i(o)},r&&r.prototype.getSettings){const o=r.prototype.getSettings;r.prototype.getSettings=function(){const a=o.apply(this,arguments);return s(a,"mozAutoGainControl","autoGainControl"),s(a,"mozNoiseSuppression","noiseSuppression"),a}}if(r&&r.prototype.applyConstraints){const o=r.prototype.applyConstraints;r.prototype.applyConstraints=function(a){return this.kind==="audio"&&typeof a=="object"&&(a=JSON.parse(JSON.stringify(a)),s(a,"autoGainControl","mozAutoGainControl"),s(a,"noiseSuppression","mozNoiseSuppression")),o.apply(this,[a])}}}}function IW(t,e){t.navigator.mediaDevices&&"getDisplayMedia"in t.navigator.mediaDevices||t.navigator.mediaDevices&&(t.navigator.mediaDevices.getDisplayMedia=function(r){if(!(r&&r.video)){const s=new DOMException("getDisplayMedia without video constraints is undefined");return s.name="NotFoundError",s.code=8,Promise.reject(s)}return r.video===!0?r.video={mediaSource:e}:r.video.mediaSource=e,t.navigator.mediaDevices.getUserMedia(r)})}function bk(t){typeof t=="object"&&t.RTCTrackEvent&&"receiver"in t.RTCTrackEvent.prototype&&!("transceiver"in t.RTCTrackEvent.prototype)&&Object.defineProperty(t.RTCTrackEvent.prototype,"transceiver",{get(){return{receiver:this.receiver}}})}function rv(t,e){if(typeof t!="object"||!(t.RTCPeerConnection||t.mozRTCPeerConnection))return;!t.RTCPeerConnection&&t.mozRTCPeerConnection&&(t.RTCPeerConnection=t.mozRTCPeerConnection),e.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(s){const i=t.RTCPeerConnection.prototype[s],o={[s](){return arguments[0]=new(s==="addIceCandidate"?t.RTCIceCandidate:t.RTCSessionDescription)(arguments[0]),i.apply(this,arguments)}};t.RTCPeerConnection.prototype[s]=o[s]});const n={inboundrtp:"inbound-rtp",outboundrtp:"outbound-rtp",candidatepair:"candidate-pair",localcandidate:"local-candidate",remotecandidate:"remote-candidate"},r=t.RTCPeerConnection.prototype.getStats;t.RTCPeerConnection.prototype.getStats=function(){const[i,o,a]=arguments;return r.apply(this,[i||null]).then(c=>{if(e.version<53&&!o)try{c.forEach(u=>{u.type=n[u.type]||u.type})}catch(u){if(u.name!=="TypeError")throw u;c.forEach((h,p)=>{c.set(p,Object.assign({},h,{type:n[h.type]||h.type}))})}return c}).then(o,a)}}function Ck(t){if(!(typeof t=="object"&&t.RTCPeerConnection&&t.RTCRtpSender)||t.RTCRtpSender&&"getStats"in t.RTCRtpSender.prototype)return;const e=t.RTCPeerConnection.prototype.getSenders;e&&(t.RTCPeerConnection.prototype.getSenders=function(){const s=e.apply(this,[]);return s.forEach(i=>i._pc=this),s});const n=t.RTCPeerConnection.prototype.addTrack;n&&(t.RTCPeerConnection.prototype.addTrack=function(){const s=n.apply(this,arguments);return s._pc=this,s}),t.RTCRtpSender.prototype.getStats=function(){return this.track?this._pc.getStats(this.track):Promise.resolve(new Map)}}function _k(t){if(!(typeof t=="object"&&t.RTCPeerConnection&&t.RTCRtpSender)||t.RTCRtpSender&&"getStats"in t.RTCRtpReceiver.prototype)return;const e=t.RTCPeerConnection.prototype.getReceivers;e&&(t.RTCPeerConnection.prototype.getReceivers=function(){const r=e.apply(this,[]);return r.forEach(s=>s._pc=this),r}),Ea(t,"track",n=>(n.receiver._pc=n.srcElement,n)),t.RTCRtpReceiver.prototype.getStats=function(){return this._pc.getStats(this.track)}}function Tk(t){!t.RTCPeerConnection||"removeStream"in t.RTCPeerConnection.prototype||(t.RTCPeerConnection.prototype.removeStream=function(n){Hw("removeStream","removeTrack"),this.getSenders().forEach(r=>{r.track&&n.getTracks().includes(r.track)&&this.removeTrack(r)})})}function Ak(t){t.DataChannel&&!t.RTCDataChannel&&(t.RTCDataChannel=t.DataChannel)}function Sk(t){if(!(typeof t=="object"&&t.RTCPeerConnection))return;const e=t.RTCPeerConnection.prototype.addTransceiver;e&&(t.RTCPeerConnection.prototype.addTransceiver=function(){this.setParametersPromises=[];let r=arguments[1]&&arguments[1].sendEncodings;r===void 0&&(r=[]),r=[...r];const s=r.length>0;s&&r.forEach(o=>{if("rid"in o&&!/^[a-z0-9]{0,16}$/i.test(o.rid))throw new TypeError("Invalid RID value provided.");if("scaleResolutionDownBy"in o&&!(parseFloat(o.scaleResolutionDownBy)>=1))throw new RangeError("scale_resolution_down_by must be >= 1.0");if("maxFramerate"in o&&!(parseFloat(o.maxFramerate)>=0))throw new RangeError("max_framerate must be >= 0.0")});const i=e.apply(this,arguments);if(s){const{sender:o}=i,a=o.getParameters();(!("encodings"in a)||a.encodings.length===1&&Object.keys(a.encodings[0]).length===0)&&(a.encodings=r,o.sendEncodings=r,this.setParametersPromises.push(o.setParameters(a).then(()=>{delete o.sendEncodings}).catch(()=>{delete o.sendEncodings})))}return i})}function Ik(t){if(!(typeof t=="object"&&t.RTCRtpSender))return;const e=t.RTCRtpSender.prototype.getParameters;e&&(t.RTCRtpSender.prototype.getParameters=function(){const r=e.apply(this,arguments);return"encodings"in r||(r.encodings=[].concat(this.sendEncodings||[{}])),r})}function Rk(t){if(!(typeof t=="object"&&t.RTCPeerConnection))return;const e=t.RTCPeerConnection.prototype.createOffer;t.RTCPeerConnection.prototype.createOffer=function(){return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then(()=>e.apply(this,arguments)).finally(()=>{this.setParametersPromises=[]}):e.apply(this,arguments)}}function Nk(t){if(!(typeof t=="object"&&t.RTCPeerConnection))return;const e=t.RTCPeerConnection.prototype.createAnswer;t.RTCPeerConnection.prototype.createAnswer=function(){return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then(()=>e.apply(this,arguments)).finally(()=>{this.setParametersPromises=[]}):e.apply(this,arguments)}}const $C=Object.freeze(Object.defineProperty({__proto__:null,shimAddTransceiver:Sk,shimCreateAnswer:Nk,shimCreateOffer:Rk,shimGetDisplayMedia:IW,shimGetParameters:Ik,shimGetUserMedia:Ek,shimOnTrack:bk,shimPeerConnection:rv,shimRTCDataChannel:Ak,shimReceiverGetStats:_k,shimRemoveStream:Tk,shimSenderGetStats:Ck},Symbol.toStringTag,{value:"Module"}));function Pk(t){if(!(typeof t!="object"||!t.RTCPeerConnection)){if("getLocalStreams"in t.RTCPeerConnection.prototype||(t.RTCPeerConnection.prototype.getLocalStreams=function(){return this._localStreams||(this._localStreams=[]),this._localStreams}),!("addStream"in t.RTCPeerConnection.prototype)){const e=t.RTCPeerConnection.prototype.addTrack;t.RTCPeerConnection.prototype.addStream=function(r){this._localStreams||(this._localStreams=[]),this._localStreams.includes(r)||this._localStreams.push(r),r.getAudioTracks().forEach(s=>e.call(this,s,r)),r.getVideoTracks().forEach(s=>e.call(this,s,r))},t.RTCPeerConnection.prototype.addTrack=function(r,...s){return s&&s.forEach(i=>{this._localStreams?this._localStreams.includes(i)||this._localStreams.push(i):this._localStreams=[i]}),e.apply(this,arguments)}}"removeStream"in t.RTCPeerConnection.prototype||(t.RTCPeerConnection.prototype.removeStream=function(n){this._localStreams||(this._localStreams=[]);const r=this._localStreams.indexOf(n);if(r===-1)return;this._localStreams.splice(r,1);const s=n.getTracks();this.getSenders().forEach(i=>{s.includes(i.track)&&this.removeTrack(i)})})}}function kk(t){if(!(typeof t!="object"||!t.RTCPeerConnection)&&("getRemoteStreams"in t.RTCPeerConnection.prototype||(t.RTCPeerConnection.prototype.getRemoteStreams=function(){return this._remoteStreams?this._remoteStreams:[]}),!("onaddstream"in t.RTCPeerConnection.prototype))){Object.defineProperty(t.RTCPeerConnection.prototype,"onaddstream",{get(){return this._onaddstream},set(n){this._onaddstream&&(this.removeEventListener("addstream",this._onaddstream),this.removeEventListener("track",this._onaddstreampoly)),this.addEventListener("addstream",this._onaddstream=n),this.addEventListener("track",this._onaddstreampoly=r=>{r.streams.forEach(s=>{if(this._remoteStreams||(this._remoteStreams=[]),this._remoteStreams.includes(s))return;this._remoteStreams.push(s);const i=new Event("addstream");i.stream=s,this.dispatchEvent(i)})})}});const e=t.RTCPeerConnection.prototype.setRemoteDescription;t.RTCPeerConnection.prototype.setRemoteDescription=function(){const r=this;return this._onaddstreampoly||this.addEventListener("track",this._onaddstreampoly=function(s){s.streams.forEach(i=>{if(r._remoteStreams||(r._remoteStreams=[]),r._remoteStreams.indexOf(i)>=0)return;r._remoteStreams.push(i);const o=new Event("addstream");o.stream=i,r.dispatchEvent(o)})}),e.apply(r,arguments)}}}function Mk(t){if(typeof t!="object"||!t.RTCPeerConnection)return;const e=t.RTCPeerConnection.prototype,n=e.createOffer,r=e.createAnswer,s=e.setLocalDescription,i=e.setRemoteDescription,o=e.addIceCandidate;e.createOffer=function(u,h){const p=arguments.length>=2?arguments[2]:arguments[0],f=n.apply(this,[p]);return h?(f.then(u,h),Promise.resolve()):f},e.createAnswer=function(u,h){const p=arguments.length>=2?arguments[2]:arguments[0],f=r.apply(this,[p]);return h?(f.then(u,h),Promise.resolve()):f};let a=function(c,u,h){const p=s.apply(this,[c]);return h?(p.then(u,h),Promise.resolve()):p};e.setLocalDescription=a,a=function(c,u,h){const p=i.apply(this,[c]);return h?(p.then(u,h),Promise.resolve()):p},e.setRemoteDescription=a,a=function(c,u,h){const p=o.apply(this,[c]);return h?(p.then(u,h),Promise.resolve()):p},e.addIceCandidate=a}function jk(t){const e=t&&t.navigator;if(e.mediaDevices&&e.mediaDevices.getUserMedia){const n=e.mediaDevices,r=n.getUserMedia.bind(n);e.mediaDevices.getUserMedia=s=>r(Dk(s))}!e.getUserMedia&&e.mediaDevices&&e.mediaDevices.getUserMedia&&(e.getUserMedia=(function(r,s,i){e.mediaDevices.getUserMedia(r).then(s,i)}).bind(e))}function Dk(t){return t&&t.video!==void 0?Object.assign({},t,{video:hk(t.video)}):t}function Ok(t){if(!t.RTCPeerConnection)return;const e=t.RTCPeerConnection;t.RTCPeerConnection=function(r,s){if(r&&r.iceServers){const i=[];for(let o=0;o<r.iceServers.length;o++){let a=r.iceServers[o];a.urls===void 0&&a.url?(Hw("RTCIceServer.url","RTCIceServer.urls"),a=JSON.parse(JSON.stringify(a)),a.urls=a.url,delete a.url,i.push(a)):i.push(r.iceServers[o])}r.iceServers=i}return new e(r,s)},t.RTCPeerConnection.prototype=e.prototype,"generateCertificate"in e&&Object.defineProperty(t.RTCPeerConnection,"generateCertificate",{get(){return e.generateCertificate}})}function Lk(t){typeof t=="object"&&t.RTCTrackEvent&&"receiver"in t.RTCTrackEvent.prototype&&!("transceiver"in t.RTCTrackEvent.prototype)&&Object.defineProperty(t.RTCTrackEvent.prototype,"transceiver",{get(){return{receiver:this.receiver}}})}function Fk(t){const e=t.RTCPeerConnection.prototype.createOffer;t.RTCPeerConnection.prototype.createOffer=function(r){if(r){typeof r.offerToReceiveAudio<"u"&&(r.offerToReceiveAudio=!!r.offerToReceiveAudio);const s=this.getTransceivers().find(o=>o.receiver.track.kind==="audio");r.offerToReceiveAudio===!1&&s?s.direction==="sendrecv"?s.setDirection?s.setDirection("sendonly"):s.direction="sendonly":s.direction==="recvonly"&&(s.setDirection?s.setDirection("inactive"):s.direction="inactive"):r.offerToReceiveAudio===!0&&!s&&this.addTransceiver("audio",{direction:"recvonly"}),typeof r.offerToReceiveVideo<"u"&&(r.offerToReceiveVideo=!!r.offerToReceiveVideo);const i=this.getTransceivers().find(o=>o.receiver.track.kind==="video");r.offerToReceiveVideo===!1&&i?i.direction==="sendrecv"?i.setDirection?i.setDirection("sendonly"):i.direction="sendonly":i.direction==="recvonly"&&(i.setDirection?i.setDirection("inactive"):i.direction="inactive"):r.offerToReceiveVideo===!0&&!i&&this.addTransceiver("video",{direction:"recvonly"})}return e.apply(this,arguments)}}function Vk(t){typeof t!="object"||t.AudioContext||(t.AudioContext=t.webkitAudioContext)}const zC=Object.freeze(Object.defineProperty({__proto__:null,shimAudioContext:Vk,shimCallbacksAPI:Mk,shimConstraints:Dk,shimCreateOfferLegacy:Fk,shimGetUserMedia:jk,shimLocalStreamsAPI:Pk,shimRTCIceServerUrls:Ok,shimRemoteStreamsAPI:kk,shimTrackEventTransceiver:Lk},Symbol.toStringTag,{value:"Module"}));var Bk={exports:{}};(function(t){const e={};e.generateIdentifier=function(){return Math.random().toString(36).substring(2,12)},e.localCName=e.generateIdentifier(),e.splitLines=function(n){return n.trim().split(`
`).map(r=>r.trim())},e.splitSections=function(n){return n.split(`
m=`).map((s,i)=>(i>0?"m="+s:s).trim()+`\r
`)},e.getDescription=function(n){const r=e.splitSections(n);return r&&r[0]},e.getMediaSections=function(n){const r=e.splitSections(n);return r.shift(),r},e.matchPrefix=function(n,r){return e.splitLines(n).filter(s=>s.indexOf(r)===0)},e.parseCandidate=function(n){let r;n.indexOf("a=candidate:")===0?r=n.substring(12).split(" "):r=n.substring(10).split(" ");const s={foundation:r[0],component:{1:"rtp",2:"rtcp"}[r[1]]||r[1],protocol:r[2].toLowerCase(),priority:parseInt(r[3],10),ip:r[4],address:r[4],port:parseInt(r[5],10),type:r[7]};for(let i=8;i<r.length;i+=2)switch(r[i]){case"raddr":s.relatedAddress=r[i+1];break;case"rport":s.relatedPort=parseInt(r[i+1],10);break;case"tcptype":s.tcpType=r[i+1];break;case"ufrag":s.ufrag=r[i+1],s.usernameFragment=r[i+1];break;default:s[r[i]]===void 0&&(s[r[i]]=r[i+1]);break}return s},e.writeCandidate=function(n){const r=[];r.push(n.foundation);const s=n.component;s==="rtp"?r.push(1):s==="rtcp"?r.push(2):r.push(s),r.push(n.protocol.toUpperCase()),r.push(n.priority),r.push(n.address||n.ip),r.push(n.port);const i=n.type;return r.push("typ"),r.push(i),i!=="host"&&n.relatedAddress&&n.relatedPort&&(r.push("raddr"),r.push(n.relatedAddress),r.push("rport"),r.push(n.relatedPort)),n.tcpType&&n.protocol.toLowerCase()==="tcp"&&(r.push("tcptype"),r.push(n.tcpType)),(n.usernameFragment||n.ufrag)&&(r.push("ufrag"),r.push(n.usernameFragment||n.ufrag)),"candidate:"+r.join(" ")},e.parseIceOptions=function(n){return n.substring(14).split(" ")},e.parseRtpMap=function(n){let r=n.substring(9).split(" ");const s={payloadType:parseInt(r.shift(),10)};return r=r[0].split("/"),s.name=r[0],s.clockRate=parseInt(r[1],10),s.channels=r.length===3?parseInt(r[2],10):1,s.numChannels=s.channels,s},e.writeRtpMap=function(n){let r=n.payloadType;n.preferredPayloadType!==void 0&&(r=n.preferredPayloadType);const s=n.channels||n.numChannels||1;return"a=rtpmap:"+r+" "+n.name+"/"+n.clockRate+(s!==1?"/"+s:"")+`\r
`},e.parseExtmap=function(n){const r=n.substring(9).split(" ");return{id:parseInt(r[0],10),direction:r[0].indexOf("/")>0?r[0].split("/")[1]:"sendrecv",uri:r[1],attributes:r.slice(2).join(" ")}},e.writeExtmap=function(n){return"a=extmap:"+(n.id||n.preferredId)+(n.direction&&n.direction!=="sendrecv"?"/"+n.direction:"")+" "+n.uri+(n.attributes?" "+n.attributes:"")+`\r
`},e.parseFmtp=function(n){const r={};let s;const i=n.substring(n.indexOf(" ")+1).split(";");for(let o=0;o<i.length;o++)s=i[o].trim().split("="),r[s[0].trim()]=s[1];return r},e.writeFmtp=function(n){let r="",s=n.payloadType;if(n.preferredPayloadType!==void 0&&(s=n.preferredPayloadType),n.parameters&&Object.keys(n.parameters).length){const i=[];Object.keys(n.parameters).forEach(o=>{n.parameters[o]!==void 0?i.push(o+"="+n.parameters[o]):i.push(o)}),r+="a=fmtp:"+s+" "+i.join(";")+`\r
`}return r},e.parseRtcpFb=function(n){const r=n.substring(n.indexOf(" ")+1).split(" ");return{type:r.shift(),parameter:r.join(" ")}},e.writeRtcpFb=function(n){let r="",s=n.payloadType;return n.preferredPayloadType!==void 0&&(s=n.preferredPayloadType),n.rtcpFeedback&&n.rtcpFeedback.length&&n.rtcpFeedback.forEach(i=>{r+="a=rtcp-fb:"+s+" "+i.type+(i.parameter&&i.parameter.length?" "+i.parameter:"")+`\r
`}),r},e.parseSsrcMedia=function(n){const r=n.indexOf(" "),s={ssrc:parseInt(n.substring(7,r),10)},i=n.indexOf(":",r);return i>-1?(s.attribute=n.substring(r+1,i),s.value=n.substring(i+1)):s.attribute=n.substring(r+1),s},e.parseSsrcGroup=function(n){const r=n.substring(13).split(" ");return{semantics:r.shift(),ssrcs:r.map(s=>parseInt(s,10))}},e.getMid=function(n){const r=e.matchPrefix(n,"a=mid:")[0];if(r)return r.substring(6)},e.parseFingerprint=function(n){const r=n.substring(14).split(" ");return{algorithm:r[0].toLowerCase(),value:r[1].toUpperCase()}},e.getDtlsParameters=function(n,r){return{role:"auto",fingerprints:e.matchPrefix(n+r,"a=fingerprint:").map(e.parseFingerprint)}},e.writeDtlsParameters=function(n,r){let s="a=setup:"+r+`\r
`;return n.fingerprints.forEach(i=>{s+="a=fingerprint:"+i.algorithm+" "+i.value+`\r
`}),s},e.parseCryptoLine=function(n){const r=n.substring(9).split(" ");return{tag:parseInt(r[0],10),cryptoSuite:r[1],keyParams:r[2],sessionParams:r.slice(3)}},e.writeCryptoLine=function(n){return"a=crypto:"+n.tag+" "+n.cryptoSuite+" "+(typeof n.keyParams=="object"?e.writeCryptoKeyParams(n.keyParams):n.keyParams)+(n.sessionParams?" "+n.sessionParams.join(" "):"")+`\r
`},e.parseCryptoKeyParams=function(n){if(n.indexOf("inline:")!==0)return null;const r=n.substring(7).split("|");return{keyMethod:"inline",keySalt:r[0],lifeTime:r[1],mkiValue:r[2]?r[2].split(":")[0]:void 0,mkiLength:r[2]?r[2].split(":")[1]:void 0}},e.writeCryptoKeyParams=function(n){return n.keyMethod+":"+n.keySalt+(n.lifeTime?"|"+n.lifeTime:"")+(n.mkiValue&&n.mkiLength?"|"+n.mkiValue+":"+n.mkiLength:"")},e.getCryptoParameters=function(n,r){return e.matchPrefix(n+r,"a=crypto:").map(e.parseCryptoLine)},e.getIceParameters=function(n,r){const s=e.matchPrefix(n+r,"a=ice-ufrag:")[0],i=e.matchPrefix(n+r,"a=ice-pwd:")[0];return s&&i?{usernameFragment:s.substring(12),password:i.substring(10)}:null},e.writeIceParameters=function(n){let r="a=ice-ufrag:"+n.usernameFragment+`\r
a=ice-pwd:`+n.password+`\r
`;return n.iceLite&&(r+=`a=ice-lite\r
`),r},e.parseRtpParameters=function(n){const r={codecs:[],headerExtensions:[],fecMechanisms:[],rtcp:[]},i=e.splitLines(n)[0].split(" ");r.profile=i[2];for(let a=3;a<i.length;a++){const c=i[a],u=e.matchPrefix(n,"a=rtpmap:"+c+" ")[0];if(u){const h=e.parseRtpMap(u),p=e.matchPrefix(n,"a=fmtp:"+c+" ");switch(h.parameters=p.length?e.parseFmtp(p[0]):{},h.rtcpFeedback=e.matchPrefix(n,"a=rtcp-fb:"+c+" ").map(e.parseRtcpFb),r.codecs.push(h),h.name.toUpperCase()){case"RED":case"ULPFEC":r.fecMechanisms.push(h.name.toUpperCase());break}}}e.matchPrefix(n,"a=extmap:").forEach(a=>{r.headerExtensions.push(e.parseExtmap(a))});const o=e.matchPrefix(n,"a=rtcp-fb:* ").map(e.parseRtcpFb);return r.codecs.forEach(a=>{o.forEach(c=>{a.rtcpFeedback.find(h=>h.type===c.type&&h.parameter===c.parameter)||a.rtcpFeedback.push(c)})}),r},e.writeRtpDescription=function(n,r){let s="";s+="m="+n+" ",s+=r.codecs.length>0?"9":"0",s+=" "+(r.profile||"UDP/TLS/RTP/SAVPF")+" ",s+=r.codecs.map(o=>o.preferredPayloadType!==void 0?o.preferredPayloadType:o.payloadType).join(" ")+`\r
`,s+=`c=IN IP4 0.0.0.0\r
`,s+=`a=rtcp:9 IN IP4 0.0.0.0\r
`,r.codecs.forEach(o=>{s+=e.writeRtpMap(o),s+=e.writeFmtp(o),s+=e.writeRtcpFb(o)});let i=0;return r.codecs.forEach(o=>{o.maxptime>i&&(i=o.maxptime)}),i>0&&(s+="a=maxptime:"+i+`\r
`),r.headerExtensions&&r.headerExtensions.forEach(o=>{s+=e.writeExtmap(o)}),s},e.parseRtpEncodingParameters=function(n){const r=[],s=e.parseRtpParameters(n),i=s.fecMechanisms.indexOf("RED")!==-1,o=s.fecMechanisms.indexOf("ULPFEC")!==-1,a=e.matchPrefix(n,"a=ssrc:").map(f=>e.parseSsrcMedia(f)).filter(f=>f.attribute==="cname"),c=a.length>0&&a[0].ssrc;let u;const h=e.matchPrefix(n,"a=ssrc-group:FID").map(f=>f.substring(17).split(" ").map(x=>parseInt(x,10)));h.length>0&&h[0].length>1&&h[0][0]===c&&(u=h[0][1]),s.codecs.forEach(f=>{if(f.name.toUpperCase()==="RTX"&&f.parameters.apt){let v={ssrc:c,codecPayloadType:parseInt(f.parameters.apt,10)};c&&u&&(v.rtx={ssrc:u}),r.push(v),i&&(v=JSON.parse(JSON.stringify(v)),v.fec={ssrc:c,mechanism:o?"red+ulpfec":"red"},r.push(v))}}),r.length===0&&c&&r.push({ssrc:c});let p=e.matchPrefix(n,"b=");return p.length&&(p[0].indexOf("b=TIAS:")===0?p=parseInt(p[0].substring(7),10):p[0].indexOf("b=AS:")===0?p=parseInt(p[0].substring(5),10)*1e3*.95-50*40*8:p=void 0,r.forEach(f=>{f.maxBitrate=p})),r},e.parseRtcpParameters=function(n){const r={},s=e.matchPrefix(n,"a=ssrc:").map(a=>e.parseSsrcMedia(a)).filter(a=>a.attribute==="cname")[0];s&&(r.cname=s.value,r.ssrc=s.ssrc);const i=e.matchPrefix(n,"a=rtcp-rsize");r.reducedSize=i.length>0,r.compound=i.length===0;const o=e.matchPrefix(n,"a=rtcp-mux");return r.mux=o.length>0,r},e.writeRtcpParameters=function(n){let r="";return n.reducedSize&&(r+=`a=rtcp-rsize\r
`),n.mux&&(r+=`a=rtcp-mux\r
`),n.ssrc!==void 0&&n.cname&&(r+="a=ssrc:"+n.ssrc+" cname:"+n.cname+`\r
`),r},e.parseMsid=function(n){let r;const s=e.matchPrefix(n,"a=msid:");if(s.length===1)return r=s[0].substring(7).split(" "),{stream:r[0],track:r[1]};const i=e.matchPrefix(n,"a=ssrc:").map(o=>e.parseSsrcMedia(o)).filter(o=>o.attribute==="msid");if(i.length>0)return r=i[0].value.split(" "),{stream:r[0],track:r[1]}},e.parseSctpDescription=function(n){const r=e.parseMLine(n),s=e.matchPrefix(n,"a=max-message-size:");let i;s.length>0&&(i=parseInt(s[0].substring(19),10)),isNaN(i)&&(i=65536);const o=e.matchPrefix(n,"a=sctp-port:");if(o.length>0)return{port:parseInt(o[0].substring(12),10),protocol:r.fmt,maxMessageSize:i};const a=e.matchPrefix(n,"a=sctpmap:");if(a.length>0){const c=a[0].substring(10).split(" ");return{port:parseInt(c[0],10),protocol:c[1],maxMessageSize:i}}},e.writeSctpDescription=function(n,r){let s=[];return n.protocol!=="DTLS/SCTP"?s=["m="+n.kind+" 9 "+n.protocol+" "+r.protocol+`\r
`,`c=IN IP4 0.0.0.0\r
`,"a=sctp-port:"+r.port+`\r
`]:s=["m="+n.kind+" 9 "+n.protocol+" "+r.port+`\r
`,`c=IN IP4 0.0.0.0\r
`,"a=sctpmap:"+r.port+" "+r.protocol+` 65535\r
`],r.maxMessageSize!==void 0&&s.push("a=max-message-size:"+r.maxMessageSize+`\r
`),s.join("")},e.generateSessionId=function(){return Math.random().toString().substr(2,22)},e.writeSessionBoilerplate=function(n,r,s){let i;const o=r!==void 0?r:2;return n?i=n:i=e.generateSessionId(),`v=0\r
o=`+(s||"thisisadapterortc")+" "+i+" "+o+` IN IP4 127.0.0.1\r
s=-\r
t=0 0\r
`},e.getDirection=function(n,r){const s=e.splitLines(n);for(let i=0;i<s.length;i++)switch(s[i]){case"a=sendrecv":case"a=sendonly":case"a=recvonly":case"a=inactive":return s[i].substring(2)}return r?e.getDirection(r):"sendrecv"},e.getKind=function(n){return e.splitLines(n)[0].split(" ")[0].substring(2)},e.isRejected=function(n){return n.split(" ",2)[1]==="0"},e.parseMLine=function(n){const s=e.splitLines(n)[0].substring(2).split(" ");return{kind:s[0],port:parseInt(s[1],10),protocol:s[2],fmt:s.slice(3).join(" ")}},e.parseOLine=function(n){const s=e.matchPrefix(n,"o=")[0].substring(2).split(" ");return{username:s[0],sessionId:s[1],sessionVersion:parseInt(s[2],10),netType:s[3],addressType:s[4],address:s[5]}},e.isValidSDP=function(n){if(typeof n!="string"||n.length===0)return!1;const r=e.splitLines(n);for(let s=0;s<r.length;s++)if(r[s].length<2||r[s].charAt(1)!=="=")return!1;return!0},t.exports=e})(Bk);var Uk=Bk.exports;const wl=uv(Uk),RW=i_({__proto__:null,default:wl},[Uk]);function Cf(t){if(!t.RTCIceCandidate||t.RTCIceCandidate&&"foundation"in t.RTCIceCandidate.prototype)return;const e=t.RTCIceCandidate;t.RTCIceCandidate=function(r){if(typeof r=="object"&&r.candidate&&r.candidate.indexOf("a=")===0&&(r=JSON.parse(JSON.stringify(r)),r.candidate=r.candidate.substring(2)),r.candidate&&r.candidate.length){const s=new e(r),i=wl.parseCandidate(r.candidate);for(const o in i)o in s||Object.defineProperty(s,o,{value:i[o]});return s.toJSON=function(){return{candidate:s.candidate,sdpMid:s.sdpMid,sdpMLineIndex:s.sdpMLineIndex,usernameFragment:s.usernameFragment}},s}return new e(r)},t.RTCIceCandidate.prototype=e.prototype,Ea(t,"icecandidate",n=>(n.candidate&&Object.defineProperty(n,"candidate",{value:new t.RTCIceCandidate(n.candidate),writable:"false"}),n))}function sv(t){!t.RTCIceCandidate||t.RTCIceCandidate&&"relayProtocol"in t.RTCIceCandidate.prototype||Ea(t,"icecandidate",e=>{if(e.candidate){const n=wl.parseCandidate(e.candidate.candidate);n.type==="relay"&&(e.candidate.relayProtocol={0:"tls",1:"tcp",2:"udp"}[n.priority>>24])}return e})}function _f(t,e){if(!t.RTCPeerConnection)return;"sctp"in t.RTCPeerConnection.prototype||Object.defineProperty(t.RTCPeerConnection.prototype,"sctp",{get(){return typeof this._sctp>"u"?null:this._sctp}});const n=function(a){if(!a||!a.sdp)return!1;const c=wl.splitSections(a.sdp);return c.shift(),c.some(u=>{const h=wl.parseMLine(u);return h&&h.kind==="application"&&h.protocol.indexOf("SCTP")!==-1})},r=function(a){const c=a.sdp.match(/mozilla...THIS_IS_SDPARTA-(\d+)/);if(c===null||c.length<2)return-1;const u=parseInt(c[1],10);return u!==u?-1:u},s=function(a){let c=65536;return e.browser==="firefox"&&(e.version<57?a===-1?c=16384:c=2147483637:e.version<60?c=e.version===57?65535:65536:c=2147483637),c},i=function(a,c){let u=65536;e.browser==="firefox"&&e.version===57&&(u=65535);const h=wl.matchPrefix(a.sdp,"a=max-message-size:");return h.length>0?u=parseInt(h[0].substring(19),10):e.browser==="firefox"&&c!==-1&&(u=2147483637),u},o=t.RTCPeerConnection.prototype.setRemoteDescription;t.RTCPeerConnection.prototype.setRemoteDescription=function(){if(this._sctp=null,e.browser==="chrome"&&e.version>=76){const{sdpSemantics:c}=this.getConfiguration();c==="plan-b"&&Object.defineProperty(this,"sctp",{get(){return typeof this._sctp>"u"?null:this._sctp},enumerable:!0,configurable:!0})}if(n(arguments[0])){const c=r(arguments[0]),u=s(c),h=i(arguments[0],c);let p;u===0&&h===0?p=Number.POSITIVE_INFINITY:u===0||h===0?p=Math.max(u,h):p=Math.min(u,h);const f={};Object.defineProperty(f,"maxMessageSize",{get(){return p}}),this._sctp=f}return o.apply(this,arguments)}}function Tf(t){if(!(t.RTCPeerConnection&&"createDataChannel"in t.RTCPeerConnection.prototype))return;function e(r,s){const i=r.send;r.send=function(){const a=arguments[0],c=a.length||a.size||a.byteLength;if(r.readyState==="open"&&s.sctp&&c>s.sctp.maxMessageSize)throw new TypeError("Message too large (can send a maximum of "+s.sctp.maxMessageSize+" bytes)");return i.apply(r,arguments)}}const n=t.RTCPeerConnection.prototype.createDataChannel;t.RTCPeerConnection.prototype.createDataChannel=function(){const s=n.apply(this,arguments);return e(s,this),s},Ea(t,"datachannel",r=>(e(r.channel,r.target),r))}function iv(t){if(!t.RTCPeerConnection||"connectionState"in t.RTCPeerConnection.prototype)return;const e=t.RTCPeerConnection.prototype;Object.defineProperty(e,"connectionState",{get(){return{completed:"connected",checking:"connecting"}[this.iceConnectionState]||this.iceConnectionState},enumerable:!0,configurable:!0}),Object.defineProperty(e,"onconnectionstatechange",{get(){return this._onconnectionstatechange||null},set(n){this._onconnectionstatechange&&(this.removeEventListener("connectionstatechange",this._onconnectionstatechange),delete this._onconnectionstatechange),n&&this.addEventListener("connectionstatechange",this._onconnectionstatechange=n)},enumerable:!0,configurable:!0}),["setLocalDescription","setRemoteDescription"].forEach(n=>{const r=e[n];e[n]=function(){return this._connectionstatechangepoly||(this._connectionstatechangepoly=s=>{const i=s.target;if(i._lastConnectionState!==i.connectionState){i._lastConnectionState=i.connectionState;const o=new Event("connectionstatechange",s);i.dispatchEvent(o)}return s},this.addEventListener("iceconnectionstatechange",this._connectionstatechangepoly)),r.apply(this,arguments)}})}function ov(t,e){if(!t.RTCPeerConnection||e.browser==="chrome"&&e.version>=71||e.browser==="safari"&&e._safariVersion>=13.1)return;const n=t.RTCPeerConnection.prototype.setRemoteDescription;t.RTCPeerConnection.prototype.setRemoteDescription=function(s){if(s&&s.sdp&&s.sdp.indexOf(`
a=extmap-allow-mixed`)!==-1){const i=s.sdp.split(`
`).filter(o=>o.trim()!=="a=extmap-allow-mixed").join(`
`);t.RTCSessionDescription&&s instanceof t.RTCSessionDescription?arguments[0]=new t.RTCSessionDescription({type:s.type,sdp:i}):s.sdp=i}return n.apply(this,arguments)}}function Af(t,e){if(!(t.RTCPeerConnection&&t.RTCPeerConnection.prototype))return;const n=t.RTCPeerConnection.prototype.addIceCandidate;!n||n.length===0||(t.RTCPeerConnection.prototype.addIceCandidate=function(){return arguments[0]?(e.browser==="chrome"&&e.version<78||e.browser==="firefox"&&e.version<68||e.browser==="safari")&&arguments[0]&&arguments[0].candidate===""?Promise.resolve():n.apply(this,arguments):(arguments[1]&&arguments[1].apply(null),Promise.resolve())})}function Sf(t,e){if(!(t.RTCPeerConnection&&t.RTCPeerConnection.prototype))return;const n=t.RTCPeerConnection.prototype.setLocalDescription;!n||n.length===0||(t.RTCPeerConnection.prototype.setLocalDescription=function(){let s=arguments[0]||{};if(typeof s!="object"||s.type&&s.sdp)return n.apply(this,arguments);if(s={type:s.type,sdp:s.sdp},!s.type)switch(this.signalingState){case"stable":case"have-local-offer":case"have-remote-pranswer":s.type="offer";break;default:s.type="answer";break}return s.sdp||s.type!=="offer"&&s.type!=="answer"?n.apply(this,[s]):(s.type==="offer"?this.createOffer:this.createAnswer).apply(this).then(o=>n.apply(this,[o]))})}const NW=Object.freeze(Object.defineProperty({__proto__:null,removeExtmapAllowMixed:ov,shimAddIceCandidateNullOrEmpty:Af,shimConnectionState:iv,shimMaxMessageSize:_f,shimParameterlessSetLocalDescription:Sf,shimRTCIceCandidate:Cf,shimRTCIceCandidateRelayProtocol:sv,shimSendThrowTypeError:Tf},Symbol.toStringTag,{value:"Module"}));function PW({window:t}={},e={shimChrome:!0,shimFirefox:!0,shimSafari:!0}){const n=dk,r=SW(t),s={browserDetails:r,commonShim:NW,extractVersion:Kc,disableLog:TW,disableWarnings:AW,sdp:RW};switch(r.browser){case"chrome":if(!GC||!nv||!e.shimChrome)return n("Chrome shim is not included in this adapter release."),s;if(r.version===null)return n("Chrome shim can not determine version, not shimming."),s;n("adapter.js shimming chrome."),s.browserShim=GC,Af(t,r),Sf(t),fk(t,r),pk(t),nv(t,r),mk(t),xk(t,r),gk(t),yk(t),wk(t,r),Cf(t),sv(t),iv(t),_f(t,r),Tf(t),ov(t,r);break;case"firefox":if(!$C||!rv||!e.shimFirefox)return n("Firefox shim is not included in this adapter release."),s;n("adapter.js shimming firefox."),s.browserShim=$C,Af(t,r),Sf(t),Ek(t,r),rv(t,r),bk(t),Tk(t),Ck(t),_k(t),Ak(t),Sk(t),Ik(t),Rk(t),Nk(t),Cf(t),iv(t),_f(t,r),Tf(t);break;case"safari":if(!zC||!e.shimSafari)return n("Safari shim is not included in this adapter release."),s;n("adapter.js shimming safari."),s.browserShim=zC,Af(t,r),Sf(t),Ok(t),Fk(t),Mk(t),Pk(t),kk(t),Lk(t),jk(t),Vk(t),Cf(t),sv(t),_f(t,r),Tf(t),ov(t,r);break;default:n("Unsupported browser!");break}return s}PW({window:typeof window>"u"?void 0:window});var qk=t=>{throw TypeError(t)},Gk=(t,e,n)=>e.has(t)||qk("Cannot "+n),kW=(t,e,n)=>(Gk(t,e,"read from private field"),n?n.call(t):e.get(t)),MW=(t,e,n)=>e.has(t)?qk("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),jW=(t,e,n,r)=>(Gk(t,e,"write to private field"),e.set(t,n),n);const Bm=[["Aztec","M"],["Codabar","L"],["Code39","L"],["Code93","L"],["Code128","L"],["DataBar","L"],["DataBarExpanded","L"],["DataMatrix","M"],["EAN-8","L"],["EAN-13","L"],["ITF","L"],["MaxiCode","M"],["PDF417","M"],["QRCode","M"],["UPC-A","L"],["UPC-E","L"],["MicroQRCode","M"],["rMQRCode","M"],["DXFilmEdge","L"],["DataBarLimited","L"]],Um=Bm.map(([t])=>t),DW=Um.filter((t,e)=>Bm[e][1]==="L"),OW=Um.filter((t,e)=>Bm[e][1]==="M");function av(t){switch(t){case"Linear-Codes":return DW.reduce((e,n)=>e|av(n),0);case"Matrix-Codes":return OW.reduce((e,n)=>e|av(n),0);case"Any":return(1<<Bm.length)-1;case"None":return 0;default:return 1<<Um.indexOf(t)}}function LW(t){if(t===0)return"None";const e=31-Math.clz32(t);return Um[e]}function FW(t){return t.reduce((e,n)=>e|av(n),0)}const VW=["LocalAverage","GlobalHistogram","FixedThreshold","BoolCast"];function BW(t){return VW.indexOf(t)}const WC=["Unknown","ASCII","ISO8859_1","ISO8859_2","ISO8859_3","ISO8859_4","ISO8859_5","ISO8859_6","ISO8859_7","ISO8859_8","ISO8859_9","ISO8859_10","ISO8859_11","ISO8859_13","ISO8859_14","ISO8859_15","ISO8859_16","Cp437","Cp1250","Cp1251","Cp1252","Cp1256","Shift_JIS","Big5","GB2312","GB18030","EUC_JP","EUC_KR","UTF16BE","UTF16BE","UTF8","UTF16LE","UTF32BE","UTF32LE","BINARY"];function UW(t){return t==="UnicodeBig"?WC.indexOf("UTF16BE"):WC.indexOf(t)}const qW=["Text","Binary","Mixed","GS1","ISO15434","UnknownECI"];function GW(t){return qW[t]}const $W=["Ignore","Read","Require"];function zW(t){return $W.indexOf(t)}const WW=["Plain","ECI","HRI","Hex","Escaped"];function QW(t){return WW.indexOf(t)}const Np={formats:[],tryHarder:!0,tryRotate:!0,tryInvert:!0,tryDownscale:!0,tryDenoise:!1,binarizer:"LocalAverage",isPure:!1,downscaleFactor:3,downscaleThreshold:500,minLineCount:2,maxNumberOfSymbols:255,tryCode39ExtendedMode:!0,returnErrors:!1,eanAddOnSymbol:"Ignore",textMode:"HRI",characterSet:"Unknown"};function QC(t){return{...t,formats:FW(t.formats),binarizer:BW(t.binarizer),eanAddOnSymbol:zW(t.eanAddOnSymbol),textMode:QW(t.textMode),characterSet:UW(t.characterSet)}}function YW(t){return{...t,format:LW(t.format),contentType:GW(t.contentType),eccLevel:t.ecLevel}}const KW={locateFile:(t,e)=>{const n=t.match(/_(.+?)\.wasm$/);return n?`https://fastly.jsdelivr.net/npm/zxing-wasm@2.1.2/dist/${n[1]}/${t}`:e+t}},s0=new WeakMap;function HW(t,e){return Object.is(t,e)||Object.keys(t).length===Object.keys(e).length&&Object.keys(t).every(n=>Object.prototype.hasOwnProperty.call(e,n)&&t[n]===e[n])}function $k(t,{overrides:e,equalityFn:n=HW,fireImmediately:r=!1}={}){var s;const[i,o]=(s=s0.get(t))!=null?s:[KW],a=e??i;let c;if(r){if(o&&(c=n(i,a)))return o;const u=t({...a});return s0.set(t,[a,u]),u}(c??n(i,a))||s0.set(t,[a])}async function JW(t,e,n=Np){const r={...Np,...n},s=await $k(t,{fireImmediately:!0});let i,o;if("width"in e&&"height"in e&&"data"in e){const{data:c,data:{byteLength:u},width:h,height:p}=e;o=s._malloc(u),s.HEAPU8.set(c,o),i=s.readBarcodesFromPixmap(o,h,p,QC(r))}else{let c,u;if("buffer"in e)[c,u]=[e.byteLength,e];else if("byteLength"in e)[c,u]=[e.byteLength,new Uint8Array(e)];else if("size"in e)[c,u]=[e.size,new Uint8Array(await e.arrayBuffer())];else throw new TypeError("Invalid input type");o=s._malloc(c),s.HEAPU8.set(u,o),i=s.readBarcodesFromImage(o,c,QC(r))}s._free(o);const a=[];for(let c=0;c<i.size();++c)a.push(YW(i.get(c)));return a}({...Np,formats:[...Np.formats]});var zk=async function(t={}){var e,n=t,r,s,i=new Promise((_,C)=>{r=_,s=C}),o=typeof window=="object",a=typeof Bun<"u",c=typeof WorkerGlobalScope<"u";typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string"&&process.type!="renderer";var u="./this.program",h="";function p(_){return n.locateFile?n.locateFile(_,h):h+_}var f,v;(o||c||a)&&(c?h=self.location.href:typeof document<"u"&&document.currentScript&&(h=document.currentScript.src),h.startsWith("blob:")?h="":h=h.slice(0,h.replace(/[?#].*/,"").lastIndexOf("/")+1),c&&(v=_=>{var C=new XMLHttpRequest;return C.open("GET",_,!1),C.responseType="arraybuffer",C.send(null),new Uint8Array(C.response)}),f=async _=>{var C=await fetch(_,{credentials:"same-origin"});if(C.ok)return C.arrayBuffer();throw new Error(C.status+" : "+C.url)});var x=console.log.bind(console),y=console.error.bind(console),w,T,E=!1,b,R,j,V,I,S,P,k;function O(){var _=T.buffer;b=new Int8Array(_),j=new Int16Array(_),n.HEAPU8=R=new Uint8Array(_),V=new Uint16Array(_),I=new Int32Array(_),S=new Uint32Array(_),P=new Float32Array(_),k=new Float64Array(_)}function L(){if(n.preRun)for(typeof n.preRun=="function"&&(n.preRun=[n.preRun]);n.preRun.length;)Ce(n.preRun.shift());ge(Te)}function D(){m.ya()}function X(){if(n.postRun)for(typeof n.postRun=="function"&&(n.postRun=[n.postRun]);n.postRun.length;)Ee(n.postRun.shift());ge(xe)}var re=0,se=null;function ue(_){var C;re++,(C=n.monitorRunDependencies)===null||C===void 0||C.call(n,re)}function q(_){var C;if(re--,(C=n.monitorRunDependencies)===null||C===void 0||C.call(n,re),re==0&&se){var N=se;se=null,N()}}function z(_){var C;(C=n.onAbort)===null||C===void 0||C.call(n,_),_="Aborted("+_+")",y(_),E=!0,_+=". Build with -sASSERTIONS for more info.";var N=new WebAssembly.RuntimeError(_);throw s(N),N}var Z;function te(){return p("zxing_reader.wasm")}function ae(_){if(_==Z&&w)return new Uint8Array(w);if(v)return v(_);throw"both async and sync fetching of the wasm failed"}async function le(_){if(!w)try{var C=await f(_);return new Uint8Array(C)}catch{}return ae(_)}async function Se(_,C){try{var N=await le(_),F=await WebAssembly.instantiate(N,C);return F}catch(B){y(`failed to asynchronously prepare wasm: ${B}`),z(B)}}async function ke(_,C,N){if(!_&&typeof WebAssembly.instantiateStreaming=="function")try{var F=fetch(C,{credentials:"same-origin"}),B=await WebAssembly.instantiateStreaming(F,N);return B}catch(U){y(`wasm streaming compile failed: ${U}`),y("falling back to ArrayBuffer instantiation")}return Se(C,N)}function we(){return{a:d}}async function ie(){function _(U,W){return m=U.exports,T=m.xa,O(),Sa=m.Ba,q(),m}ue();function C(U){return _(U.instance)}var N=we();if(n.instantiateWasm)return new Promise((U,W)=>{n.instantiateWasm(N,($,ne)=>{U(_($))})});Z!=null||(Z=te());try{var F=await ke(w,Z,N),B=C(F);return B}catch(U){return s(U),Promise.reject(U)}}var ge=_=>{for(;_.length>0;)_.shift()(n)},xe=[],Ee=_=>xe.push(_),Te=[],Ce=_=>Te.push(_),he=_=>qt(_),ve=()=>Qe(),gt=[],at=0,Dt=_=>{var C=new dn(_);return C.get_caught()||(C.set_caught(!0),at--),C.set_rethrown(!1),gt.push(C),Kt(_),Y(_)},et=0,yt=()=>{K(0,0);var _=gt.pop();Yt(_.excPtr),et=0};class dn{constructor(C){this.excPtr=C,this.ptr=C-24}set_type(C){S[this.ptr+4>>2]=C}get_type(){return S[this.ptr+4>>2]}set_destructor(C){S[this.ptr+8>>2]=C}get_destructor(){return S[this.ptr+8>>2]}set_caught(C){C=C?1:0,b[this.ptr+12]=C}get_caught(){return b[this.ptr+12]!=0}set_rethrown(C){C=C?1:0,b[this.ptr+13]=C}get_rethrown(){return b[this.ptr+13]!=0}init(C,N){this.set_adjusted_ptr(0),this.set_type(C),this.set_destructor(N)}set_adjusted_ptr(C){S[this.ptr+16>>2]=C}get_adjusted_ptr(){return S[this.ptr+16>>2]}}var Cr=_=>rt(_),gs=_=>{var C=et;if(!C)return Cr(0),0;var N=new dn(C);N.set_adjusted_ptr(C);var F=N.get_type();if(!F)return Cr(0),C;for(var B of _){if(B===0||B===F)break;var U=N.ptr+16;if(li(B,F,U))return Cr(B),C}return Cr(F),C},cr=()=>gs([]),ys=_=>gs([_]),bo=(_,C)=>gs([_,C]),At=()=>{var _=gt.pop();_||z("no exception to throw");var C=_.excPtr;throw _.get_rethrown()||(gt.push(_),_.set_rethrown(!0),_.set_caught(!1),at++),et=C,et},vt=(_,C,N)=>{var F=new dn(_);throw F.init(C,N),et=_,at++,et},vs=()=>at,_r=_=>{throw et||(et=_),et},Co=()=>z(""),Zs={},ur=_=>{for(;_.length;){var C=_.pop(),N=_.pop();N(C)}};function Tr(_){return this.fromWireType(S[_>>2])}var Ar={},_n={},Tn={},fc=n.InternalError=class extends Error{constructor(_){super(_),this.name="InternalError"}},Ae=_=>{throw new fc(_)},Ue=(_,C,N)=>{_.forEach($=>Tn[$]=C);function F($){var ne=N($);ne.length!==_.length&&Ae("Mismatched type converter count");for(var ce=0;ce<_.length;++ce)fn(_[ce],ne[ce])}var B=new Array(C.length),U=[],W=0;C.forEach(($,ne)=>{_n.hasOwnProperty($)?B[ne]=_n[$]:(U.push($),Ar.hasOwnProperty($)||(Ar[$]=[]),Ar[$].push(()=>{B[ne]=_n[$],++W,W===U.length&&F(B)}))}),U.length===0&&F(B)},Je=_=>{var C=Zs[_];delete Zs[_];var N=C.rawConstructor,F=C.rawDestructor,B=C.fields,U=B.map(W=>W.getterReturnType).concat(B.map(W=>W.setterArgumentType));Ue([_],U,W=>{var $={};return B.forEach((ne,ce)=>{var de=ne.fieldName,_e=W[ce],Ke=W[ce].optional,Xe=ne.getter,wt=ne.getterContext,Gt=W[ce+B.length],Ot=ne.setter,Ht=ne.setterContext;$[de]={read:Ss=>_e.fromWireType(Xe(wt,Ss)),write:(Ss,Ln)=>{var hr=[];Ot(Ht,Ss,Gt.toWireType(hr,Ln)),ur(hr)},optional:Ke}}),[{name:C.name,fromWireType:ne=>{var ce={};for(var de in $)ce[de]=$[de].read(ne);return F(ne),ce},toWireType:(ne,ce)=>{for(var de in $)if(!(de in ce)&&!$[de].optional)throw new TypeError(`Missing field: "${de}"`);var _e=N();for(de in $)$[de].write(_e,ce[de]);return ne!==null&&ne.push(F,_e),_e},argPackAdvance:dr,readValueFromPointer:Tr,destructorFunction:F}]})},Qt=(_,C,N,F,B)=>{},hn=()=>{for(var _=new Array(256),C=0;C<256;++C)_[C]=String.fromCharCode(C);Sr=_},Sr,dt=_=>{for(var C="",N=_;R[N];)C+=Sr[R[N++]];return C},ei=n.BindingError=class extends Error{constructor(_){super(_),this.name="BindingError"}},We=_=>{throw new ei(_)};function Id(_,C){let N=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};var F=C.name;if(_||We(`type "${F}" must have a positive integer typeid pointer`),_n.hasOwnProperty(_)){if(N.ignoreDuplicateRegistrations)return;We(`Cannot register type '${F}' twice`)}if(_n[_]=C,delete Tn[_],Ar.hasOwnProperty(_)){var B=Ar[_];delete Ar[_],B.forEach(U=>U())}}function fn(_,C){let N=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Id(_,C,N)}var dr=8,tn=(_,C,N,F)=>{C=dt(C),fn(_,{name:C,fromWireType:function(B){return!!B},toWireType:function(B,U){return U?N:F},argPackAdvance:dr,readValueFromPointer:function(B){return this.fromWireType(R[B])},destructorFunction:null})},Rd=_=>({count:_.count,deleteScheduled:_.deleteScheduled,preservePointerOnDelete:_.preservePointerOnDelete,ptr:_.ptr,ptrType:_.ptrType,smartPtr:_.smartPtr,smartPtrType:_.smartPtrType}),xs=_=>{function C(N){return N.$$.ptrType.registeredClass.name}We(C(_)+" instance already deleted")},ws=!1,Nd=_=>{},qm=_=>{_.smartPtr?_.smartPtrType.rawDestructor(_.smartPtr):_.ptrType.registeredClass.rawDestructor(_.ptr)},Es=_=>{_.count.value-=1;var C=_.count.value===0;C&&qm(_)},_o=_=>typeof FinalizationRegistry>"u"?(_o=C=>C,_):(ws=new FinalizationRegistry(C=>{Es(C.$$)}),_o=C=>{var N=C.$$,F=!!N.smartPtr;if(F){var B={$$:N};ws.register(C,B,C)}return C},Nd=C=>ws.unregister(C),_o(_)),Gm=()=>{let _=bs.prototype;Object.assign(_,{isAliasOf(N){if(!(this instanceof bs)||!(N instanceof bs))return!1;var F=this.$$.ptrType.registeredClass,B=this.$$.ptr;N.$$=N.$$;for(var U=N.$$.ptrType.registeredClass,W=N.$$.ptr;F.baseClass;)B=F.upcast(B),F=F.baseClass;for(;U.baseClass;)W=U.upcast(W),U=U.baseClass;return F===U&&B===W},clone(){if(this.$$.ptr||xs(this),this.$$.preservePointerOnDelete)return this.$$.count.value+=1,this;var N=_o(Object.create(Object.getPrototypeOf(this),{$$:{value:Rd(this.$$)}}));return N.$$.count.value+=1,N.$$.deleteScheduled=!1,N},delete(){this.$$.ptr||xs(this),this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete&&We("Object already scheduled for deletion"),Nd(this),Es(this.$$),this.$$.preservePointerOnDelete||(this.$$.smartPtr=void 0,this.$$.ptr=void 0)},isDeleted(){return!this.$$.ptr},deleteLater(){return this.$$.ptr||xs(this),this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete&&We("Object already scheduled for deletion"),this.$$.deleteScheduled=!0,this}});const C=Symbol.dispose;C&&(_[C]=_.delete)};function bs(){}var ba=(_,C)=>Object.defineProperty(C,"name",{value:_}),Ca={},To=(_,C,N)=>{if(_[C].overloadTable===void 0){var F=_[C];_[C]=function(){for(var B=arguments.length,U=new Array(B),W=0;W<B;W++)U[W]=arguments[W];return _[C].overloadTable.hasOwnProperty(U.length)||We(`Function '${N}' called with an invalid number of arguments (${U.length}) - expects one of (${_[C].overloadTable})!`),_[C].overloadTable[U.length].apply(this,U)},_[C].overloadTable=[],_[C].overloadTable[F.argCount]=F}},Ir=(_,C,N)=>{n.hasOwnProperty(_)?((N===void 0||n[_].overloadTable!==void 0&&n[_].overloadTable[N]!==void 0)&&We(`Cannot register public name '${_}' twice`),To(n,_,_),n[_].overloadTable.hasOwnProperty(N)&&We(`Cannot register multiple overloads of a function with the same number of arguments (${N})!`),n[_].overloadTable[N]=C):(n[_]=C,n[_].argCount=N)},Pd=48,kd=57,pc=_=>{_=_.replace(/[^a-zA-Z0-9_]/g,"$");var C=_.charCodeAt(0);return C>=Pd&&C<=kd?`_${_}`:_};function mc(_,C,N,F,B,U,W,$){this.name=_,this.constructor=C,this.instancePrototype=N,this.rawDestructor=F,this.baseClass=B,this.getActualType=U,this.upcast=W,this.downcast=$,this.pureVirtualFunctions=[]}var _a=(_,C,N)=>{for(;C!==N;)C.upcast||We(`Expected null or instance of ${N.name}, got an instance of ${C.name}`),_=C.upcast(_),C=C.baseClass;return _};function Md(_,C){if(C===null)return this.isReference&&We(`null is not a valid ${this.name}`),0;C.$$||We(`Cannot pass "${embindRepr(C)}" as a ${this.name}`),C.$$.ptr||We(`Cannot pass deleted object as a pointer of type ${this.name}`);var N=C.$$.ptrType.registeredClass,F=_a(C.$$.ptr,N,this.registeredClass);return F}function $m(_,C){var N;if(C===null)return this.isReference&&We(`null is not a valid ${this.name}`),this.isSmartPointer?(N=this.rawConstructor(),_!==null&&_.push(this.rawDestructor,N),N):0;(!C||!C.$$)&&We(`Cannot pass "${embindRepr(C)}" as a ${this.name}`),C.$$.ptr||We(`Cannot pass deleted object as a pointer of type ${this.name}`),!this.isConst&&C.$$.ptrType.isConst&&We(`Cannot convert argument of type ${C.$$.smartPtrType?C.$$.smartPtrType.name:C.$$.ptrType.name} to parameter type ${this.name}`);var F=C.$$.ptrType.registeredClass;if(N=_a(C.$$.ptr,F,this.registeredClass),this.isSmartPointer)switch(C.$$.smartPtr===void 0&&We("Passing raw pointer to smart pointer is illegal"),this.sharingPolicy){case 0:C.$$.smartPtrType===this?N=C.$$.smartPtr:We(`Cannot convert argument of type ${C.$$.smartPtrType?C.$$.smartPtrType.name:C.$$.ptrType.name} to parameter type ${this.name}`);break;case 1:N=C.$$.smartPtr;break;case 2:if(C.$$.smartPtrType===this)N=C.$$.smartPtr;else{var B=C.clone();N=this.rawShare(N,Rr.toHandle(()=>B.delete())),_!==null&&_.push(this.rawDestructor,N)}break;default:We("Unsupporting sharing policy")}return N}function Ta(_,C){if(C===null)return this.isReference&&We(`null is not a valid ${this.name}`),0;C.$$||We(`Cannot pass "${embindRepr(C)}" as a ${this.name}`),C.$$.ptr||We(`Cannot pass deleted object as a pointer of type ${this.name}`),C.$$.ptrType.isConst&&We(`Cannot convert argument of type ${C.$$.ptrType.name} to parameter type ${this.name}`);var N=C.$$.ptrType.registeredClass,F=_a(C.$$.ptr,N,this.registeredClass);return F}var gc=(_,C,N)=>{if(C===N)return _;if(N.baseClass===void 0)return null;var F=gc(_,C,N.baseClass);return F===null?null:N.downcast(F)},yc={},Ao=(_,C)=>{for(C===void 0&&We("ptr should not be undefined");_.baseClass;)C=_.upcast(C),_=_.baseClass;return C},Cs=(_,C)=>(C=Ao(_,C),yc[C]),ti=(_,C)=>{(!C.ptrType||!C.ptr)&&Ae("makeClassHandle requires ptr and ptrType");var N=!!C.smartPtrType,F=!!C.smartPtr;return N!==F&&Ae("Both smartPtrType and smartPtr must be specified"),C.count={value:1},_o(Object.create(_,{$$:{value:C,writable:!0}}))};function zm(_){var C=this.getPointee(_);if(!C)return this.destructor(_),null;var N=Cs(this.registeredClass,C);if(N!==void 0){if(N.$$.count.value===0)return N.$$.ptr=C,N.$$.smartPtr=_,N.clone();var F=N.clone();return this.destructor(_),F}function B(){return this.isSmartPointer?ti(this.registeredClass.instancePrototype,{ptrType:this.pointeeType,ptr:C,smartPtrType:this,smartPtr:_}):ti(this.registeredClass.instancePrototype,{ptrType:this,ptr:_})}var U=this.registeredClass.getActualType(C),W=Ca[U];if(!W)return B.call(this);var $;this.isConst?$=W.constPointerType:$=W.pointerType;var ne=gc(C,this.registeredClass,$.registeredClass);return ne===null?B.call(this):this.isSmartPointer?ti($.registeredClass.instancePrototype,{ptrType:$,ptr:ne,smartPtrType:this,smartPtr:_}):ti($.registeredClass.instancePrototype,{ptrType:$,ptr:ne})}var jd=()=>{Object.assign(So.prototype,{getPointee(_){return this.rawGetPointee&&(_=this.rawGetPointee(_)),_},destructor(_){var C;(C=this.rawDestructor)===null||C===void 0||C.call(this,_)},argPackAdvance:dr,readValueFromPointer:Tr,fromWireType:zm})};function So(_,C,N,F,B,U,W,$,ne,ce,de){this.name=_,this.registeredClass=C,this.isReference=N,this.isConst=F,this.isSmartPointer=B,this.pointeeType=U,this.sharingPolicy=W,this.rawGetPointee=$,this.rawConstructor=ne,this.rawShare=ce,this.rawDestructor=de,!B&&C.baseClass===void 0?F?(this.toWireType=Md,this.destructorFunction=null):(this.toWireType=Ta,this.destructorFunction=null):this.toWireType=$m}var vc=(_,C,N)=>{n.hasOwnProperty(_)||Ae("Replacing nonexistent public symbol"),n[_].overloadTable!==void 0&&N!==void 0?n[_].overloadTable[N]=C:(n[_]=C,n[_].argCount=N)},Aa=[],Sa,Fe=_=>{var C=Aa[_];return C||(Aa[_]=C=Sa.get(_)),C},Dd=function(_,C){let N=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];if(_.includes("j"))return dynCallLegacy(_,C,N);var F=Fe(C),B=F(...N);return B},Wm=function(_,C){let N=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;return function(){for(var F=arguments.length,B=new Array(F),U=0;U<F;U++)B[U]=arguments[U];return Dd(_,C,B,N)}},Wn=function(_,C){_=dt(_);function N(){if(_.includes("j"))return Wm(_,C);var B=Fe(C);return B}var F=N();return typeof F!="function"&&We(`unknown function pointer with signature ${_}: ${C}`),F};class Od extends Error{}var xc=_=>{var C=A(_),N=dt(C);return M(C),N},Ia=(_,C)=>{var N=[],F={};function B(U){if(!F[U]&&!_n[U]){if(Tn[U]){Tn[U].forEach(B);return}N.push(U),F[U]=!0}}throw C.forEach(B),new Od(`${_}: `+N.map(xc).join([", "]))},_s=(_,C,N,F,B,U,W,$,ne,ce,de,_e,Ke)=>{de=dt(de),U=Wn(B,U),$&&($=Wn(W,$)),ce&&(ce=Wn(ne,ce)),Ke=Wn(_e,Ke);var Xe=pc(de);Ir(Xe,function(){Ia(`Cannot construct ${de} due to unbound types`,[F])}),Ue([_,C,N],F?[F]:[],wt=>{wt=wt[0];var Gt,Ot;F?(Gt=wt.registeredClass,Ot=Gt.instancePrototype):Ot=bs.prototype;var Ht=ba(de,function(){if(Object.getPrototypeOf(this)!==Ss)throw new ei(`Use 'new' to construct ${de}`);if(Ln.constructor_body===void 0)throw new ei(`${de} has no accessible constructor`);for(var Zw=arguments.length,uh=new Array(Zw),dh=0;dh<Zw;dh++)uh[dh]=arguments[dh];var e1=Ln.constructor_body[uh.length];if(e1===void 0)throw new ei(`Tried to invoke ctor of ${de} with invalid number of parameters (${uh.length}) - expected (${Object.keys(Ln.constructor_body).toString()}) parameters instead!`);return e1.apply(this,uh)}),Ss=Object.create(Ot,{constructor:{value:Ht}});Ht.prototype=Ss;var Ln=new mc(de,Ht,Ss,Ke,Gt,U,$,ce);if(Ln.baseClass){var hr,ch;(ch=(hr=Ln.baseClass).__derivedClasses)!==null&&ch!==void 0||(hr.__derivedClasses=[]),Ln.baseClass.__derivedClasses.push(Ln)}var VM=new So(de,Ln,!0,!1,!1),Jw=new So(de+"*",Ln,!1,!1,!1),Xw=new So(de+" const*",Ln,!1,!0,!1);return Ca[_]={pointerType:Jw,constPointerType:Xw},vc(Xe,Ht),[VM,Jw,Xw]})},Qn=(_,C)=>{for(var N=[],F=0;F<_;F++)N.push(S[C+F*4>>2]);return N};function Ra(_){for(var C=1;C<_.length;++C)if(_[C]!==null&&_[C].destructorFunction===void 0)return!0;return!1}function ni(_,C,N,F,B,U){var W=C.length;W<2&&We("argTypes array size mismatch! Must at least get return value and 'this' types!");var $=C[1]!==null&&N!==null,ne=Ra(C),ce=C[0].name!=="void",de=W-2,_e=new Array(de),Ke=[],Xe=[],wt=function(){Xe.length=0;var Gt;Ke.length=$?2:1,Ke[0]=B,$&&(Gt=C[1].toWireType(Xe,this),Ke[1]=Gt);for(var Ot=0;Ot<de;++Ot)_e[Ot]=C[Ot+2].toWireType(Xe,Ot<0||arguments.length<=Ot?void 0:arguments[Ot]),Ke.push(_e[Ot]);var Ht=F(...Ke);function Ss(Ln){if(ne)ur(Xe);else for(var hr=$?1:2;hr<C.length;hr++){var ch=hr===1?Gt:_e[hr-2];C[hr].destructorFunction!==null&&C[hr].destructorFunction(ch)}if(ce)return C[0].fromWireType(Ln)}return Ss(Ht)};return ba(_,wt)}var Ld=(_,C,N,F,B,U)=>{var W=Qn(C,N);B=Wn(F,B),Ue([],[_],$=>{$=$[0];var ne=`constructor ${$.name}`;if($.registeredClass.constructor_body===void 0&&($.registeredClass.constructor_body=[]),$.registeredClass.constructor_body[C-1]!==void 0)throw new ei(`Cannot register multiple constructors with identical number of parameters (${C-1}) for class '${$.name}'! Overload resolution is currently only performed using the parameter count, not actual type info!`);return $.registeredClass.constructor_body[C-1]=()=>{Ia(`Cannot construct ${$.name} due to unbound types`,W)},Ue([],W,ce=>(ce.splice(1,0,null),$.registeredClass.constructor_body[C-1]=ni(ne,ce,null,B,U),[])),[]})},ot=_=>{_=_.trim();const C=_.indexOf("(");return C===-1?_:_.slice(0,C)},Na=(_,C,N,F,B,U,W,$,ne,ce)=>{var de=Qn(N,F);C=dt(C),C=ot(C),U=Wn(B,U),Ue([],[_],_e=>{_e=_e[0];var Ke=`${_e.name}.${C}`;C.startsWith("@@")&&(C=Symbol[C.substring(2)]),$&&_e.registeredClass.pureVirtualFunctions.push(C);function Xe(){Ia(`Cannot call ${Ke} due to unbound types`,de)}var wt=_e.registeredClass.instancePrototype,Gt=wt[C];return Gt===void 0||Gt.overloadTable===void 0&&Gt.className!==_e.name&&Gt.argCount===N-2?(Xe.argCount=N-2,Xe.className=_e.name,wt[C]=Xe):(To(wt,C,Ke),wt[C].overloadTable[N-2]=Xe),Ue([],de,Ot=>{var Ht=ni(Ke,Ot,_e,U,W);return wt[C].overloadTable===void 0?(Ht.argCount=N-2,wt[C]=Ht):wt[C].overloadTable[N-2]=Ht,[]}),[]})},Ts=[],An=[],wc=_=>{_>9&&--An[_+1]===0&&(An[_]=void 0,Ts.push(_))},Fd=()=>An.length/2-5-Ts.length,Qm=()=>{An.push(0,1,void 0,1,null,1,!0,1,!1,1),n.count_emval_handles=Fd},Rr={toValue:_=>(_||We(`Cannot use deleted val. handle = ${_}`),An[_]),toHandle:_=>{switch(_){case void 0:return 2;case null:return 4;case!0:return 6;case!1:return 8;default:{const C=Ts.pop()||An.length;return An[C]=_,An[C+1]=1,C}}}},Vd={name:"emscripten::val",fromWireType:_=>{var C=Rr.toValue(_);return wc(_),C},toWireType:(_,C)=>Rr.toHandle(C),argPackAdvance:dr,readValueFromPointer:Tr,destructorFunction:null},Ym=_=>fn(_,Vd),Io=(_,C)=>{switch(C){case 4:return function(N){return this.fromWireType(P[N>>2])};case 8:return function(N){return this.fromWireType(k[N>>3])};default:throw new TypeError(`invalid float width (${C}): ${_}`)}},Yr=(_,C,N)=>{C=dt(C),fn(_,{name:C,fromWireType:F=>F,toWireType:(F,B)=>B,argPackAdvance:dr,readValueFromPointer:Io(C,N),destructorFunction:null})},Bd=(_,C,N,F,B,U,W,$)=>{var ne=Qn(C,N);_=dt(_),_=ot(_),B=Wn(F,B),Ir(_,function(){Ia(`Cannot call ${_} due to unbound types`,ne)},C-1),Ue([],ne,ce=>{var de=[ce[0],null].concat(ce.slice(1));return vc(_,ni(_,de,null,B,U),C-1),[]})},Ud=(_,C,N)=>{switch(C){case 1:return N?F=>b[F]:F=>R[F];case 2:return N?F=>j[F>>1]:F=>V[F>>1];case 4:return N?F=>I[F>>2]:F=>S[F>>2];default:throw new TypeError(`invalid integer width (${C}): ${_}`)}},qd=(_,C,N,F,B)=>{C=dt(C);var U=de=>de;if(F===0){var W=32-8*N;U=de=>de<<W>>>W}var $=C.includes("unsigned"),ne=(de,_e)=>{},ce;$?ce=function(de,_e){return ne(_e,this.name),_e>>>0}:ce=function(de,_e){return ne(_e,this.name),_e},fn(_,{name:C,fromWireType:U,toWireType:ce,argPackAdvance:dr,readValueFromPointer:Ud(C,N,F!==0),destructorFunction:null})},ri=(_,C,N)=>{var F=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array],B=F[C];function U(W){var $=S[W>>2],ne=S[W+4>>2];return new B(b.buffer,ne,$)}N=dt(N),fn(_,{name:N,fromWireType:U,argPackAdvance:dr,readValueFromPointer:U},{ignoreDuplicateRegistrations:!0})},Km=Object.assign({optional:!0},Vd),Hm=(_,C)=>{fn(_,Km)},Jm=(_,C,N,F)=>{if(!(F>0))return 0;for(var B=N,U=N+F-1,W=0;W<_.length;++W){var $=_.charCodeAt(W);if($>=55296&&$<=57343){var ne=_.charCodeAt(++W);$=65536+(($&1023)<<10)|ne&1023}if($<=127){if(N>=U)break;C[N++]=$}else if($<=2047){if(N+1>=U)break;C[N++]=192|$>>6,C[N++]=128|$&63}else if($<=65535){if(N+2>=U)break;C[N++]=224|$>>12,C[N++]=128|$>>6&63,C[N++]=128|$&63}else{if(N+3>=U)break;C[N++]=240|$>>18,C[N++]=128|$>>12&63,C[N++]=128|$>>6&63,C[N++]=128|$&63}}return C[N]=0,N-B},Sn=(_,C,N)=>Jm(_,R,C,N),Gd=_=>{for(var C=0,N=0;N<_.length;++N){var F=_.charCodeAt(N);F<=127?C++:F<=2047?C+=2:F>=55296&&F<=57343?(C+=4,++N):C+=3}return C},$d=typeof TextDecoder<"u"?new TextDecoder:void 0,Ro=function(_){let C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,N=arguments.length>2&&arguments[2]!==void 0?arguments[2]:NaN;for(var F=C+N,B=C;_[B]&&!(B>=F);)++B;if(B-C>16&&_.buffer&&$d)return $d.decode(_.subarray(C,B));for(var U="";C<B;){var W=_[C++];if(!(W&128)){U+=String.fromCharCode(W);continue}var $=_[C++]&63;if((W&224)==192){U+=String.fromCharCode((W&31)<<6|$);continue}var ne=_[C++]&63;if((W&240)==224?W=(W&15)<<12|$<<6|ne:W=(W&7)<<18|$<<12|ne<<6|_[C++]&63,W<65536)U+=String.fromCharCode(W);else{var ce=W-65536;U+=String.fromCharCode(55296|ce>>10,56320|ce&1023)}}return U},Pa=(_,C)=>_?Ro(R,_,C):"",zd=(_,C)=>{C=dt(C),fn(_,{name:C,fromWireType(N){for(var F=S[N>>2],B=N+4,U,$,W=B,$=0;$<=F;++$){var ne=B+$;if($==F||R[ne]==0){var ce=ne-W,de=Pa(W,ce);U===void 0?U=de:(U+="\0",U+=de),W=ne+1}}return M(N),U},toWireType(N,F){F instanceof ArrayBuffer&&(F=new Uint8Array(F));var B,U=typeof F=="string";U||ArrayBuffer.isView(F)&&F.BYTES_PER_ELEMENT==1||We("Cannot pass non-string to std::string"),U?B=Gd(F):B=F.length;var W=G(4+B+1),$=W+4;return S[W>>2]=B,U?Sn(F,$,B+1):R.set(F,$),N!==null&&N.push(M,W),W},argPackAdvance:dr,readValueFromPointer:Tr,destructorFunction(N){M(N)}})},si=typeof TextDecoder<"u"?new TextDecoder("utf-16le"):void 0,No=(_,C)=>{for(var N=_,F=N>>1,B=F+C/2;!(F>=B)&&V[F];)++F;if(N=F<<1,N-_>32&&si)return si.decode(R.subarray(_,N));for(var U="",W=0;!(W>=C/2);++W){var $=j[_+W*2>>1];if($==0)break;U+=String.fromCharCode($)}return U},Wd=(_,C,N)=>{if(N!=null||(N=2147483647),N<2)return 0;N-=2;for(var F=C,B=N<_.length*2?N/2:_.length,U=0;U<B;++U){var W=_.charCodeAt(U);j[C>>1]=W,C+=2}return j[C>>1]=0,C-F},Ec=_=>_.length*2,xt=(_,C)=>{for(var N=0,F="";!(N>=C/4);){var B=I[_+N*4>>2];if(B==0)break;if(++N,B>=65536){var U=B-65536;F+=String.fromCharCode(55296|U>>10,56320|U&1023)}else F+=String.fromCharCode(B)}return F},Xm=(_,C,N)=>{if(N!=null||(N=2147483647),N<4)return 0;for(var F=C,B=F+N-4,U=0;U<_.length;++U){var W=_.charCodeAt(U);if(W>=55296&&W<=57343){var $=_.charCodeAt(++U);W=65536+((W&1023)<<10)|$&1023}if(I[C>>2]=W,C+=4,C+4>B)break}return I[C>>2]=0,C-F},Zm=_=>{for(var C=0,N=0;N<_.length;++N){var F=_.charCodeAt(N);F>=55296&&F<=57343&&++N,C+=4}return C},Qd=(_,C,N)=>{N=dt(N);var F,B,U,W;C===2?(F=No,B=Wd,W=Ec,U=$=>V[$>>1]):C===4&&(F=xt,B=Xm,W=Zm,U=$=>S[$>>2]),fn(_,{name:N,fromWireType:$=>{for(var ne=S[$>>2],ce,de=$+4,_e=0;_e<=ne;++_e){var Ke=$+4+_e*C;if(_e==ne||U(Ke)==0){var Xe=Ke-de,wt=F(de,Xe);ce===void 0?ce=wt:(ce+="\0",ce+=wt),de=Ke+C}}return M($),ce},toWireType:($,ne)=>{typeof ne!="string"&&We(`Cannot pass non-string to C++ string type ${N}`);var ce=W(ne),de=G(4+ce+C);return S[de>>2]=ce/C,B(ne,de+4,ce+C),$!==null&&$.push(M,de),de},argPackAdvance:dr,readValueFromPointer:Tr,destructorFunction($){M($)}})},Yd=(_,C,N,F,B,U)=>{Zs[_]={name:dt(C),rawConstructor:Wn(N,F),rawDestructor:Wn(B,U),fields:[]}},Kd=(_,C,N,F,B,U,W,$,ne,ce)=>{Zs[_].fields.push({fieldName:dt(C),getterReturnType:N,getter:Wn(F,B),getterContext:U,setterArgumentType:W,setter:Wn($,ne),setterContext:ce})},ka=(_,C)=>{C=dt(C),fn(_,{isVoid:!0,name:C,argPackAdvance:0,fromWireType:()=>{},toWireType:(N,F)=>{}})},Ma=[],Nr=(_,C,N,F)=>(_=Ma[_],C=Rr.toValue(C),_(null,C,N,F)),Hd={},eg=_=>{var C=Hd[_];return C===void 0?dt(_):C},ii=()=>{if(typeof globalThis=="object")return globalThis;function _(C){C.$$$embind_global$$$=C;var N=typeof $$$embind_global$$$=="object"&&C.$$$embind_global$$$==C;return N||delete C.$$$embind_global$$$,N}if(typeof $$$embind_global$$$=="object"||(typeof global=="object"&&_(global)?$$$embind_global$$$=global:typeof self=="object"&&_(self)&&($$$embind_global$$$=self),typeof $$$embind_global$$$=="object"))return $$$embind_global$$$;throw Error("unable to get global object.")},Jd=_=>_===0?Rr.toHandle(ii()):(_=eg(_),Rr.toHandle(ii()[_])),bc=_=>{var C=Ma.length;return Ma.push(_),C},Po=(_,C)=>{var N=_n[_];return N===void 0&&We(`${C} has unknown type ${xc(_)}`),N},Xd=(_,C)=>{for(var N=new Array(_),F=0;F<_;++F)N[F]=Po(S[C+F*4>>2],`parameter ${F}`);return N},ja=(_,C,N)=>{var F=[],B=_.toWireType(F,N);return F.length&&(S[C>>2]=Rr.toHandle(F)),B},tg=Reflect.construct,Zd=(_,C,N)=>{var F=Xd(_,C),B=F.shift();_--;var U=new Array(_),W=(ne,ce,de,_e)=>{for(var Ke=0,Xe=0;Xe<_;++Xe)U[Xe]=F[Xe].readValueFromPointer(_e+Ke),Ke+=F[Xe].argPackAdvance;var wt=N===1?tg(ce,U):ce.apply(ne,U);return ja(B,de,wt)},$=`methodCaller<(${F.map(ne=>ne.name).join(", ")}) => ${B.name}>`;return bc(ba($,W))},ko=_=>{_>9&&(An[_+1]+=1)},eh=_=>{var C=Rr.toValue(_);ur(C),wc(_)},th=(_,C)=>{_=Po(_,"_emval_take_value");var N=_.readValueFromPointer(C);return Rr.toHandle(N)},Cc=(_,C,N,F)=>{var B=new Date().getFullYear(),U=new Date(B,0,1),W=new Date(B,6,1),$=U.getTimezoneOffset(),ne=W.getTimezoneOffset(),ce=Math.max($,ne);S[_>>2]=ce*60,I[C>>2]=+($!=ne);var de=Xe=>{var wt=Xe>=0?"-":"+",Gt=Math.abs(Xe),Ot=String(Math.floor(Gt/60)).padStart(2,"0"),Ht=String(Gt%60).padStart(2,"0");return`UTC${wt}${Ot}${Ht}`},_e=de($),Ke=de(ne);ne<$?(Sn(_e,N,17),Sn(Ke,F,17)):(Sn(_e,F,17),Sn(Ke,N,17))},_c=()=>2147483648,nh=(_,C)=>Math.ceil(_/C)*C,Da=_=>{var C=T.buffer,N=(_-C.byteLength+65535)/65536|0;try{return T.grow(N),O(),1}catch{}},rh=_=>{var C=R.length;_>>>=0;var N=_c();if(_>N)return!1;for(var F=1;F<=4;F*=2){var B=C*(1+.2/F);B=Math.min(B,_+100663296);var U=Math.min(N,nh(Math.max(_,B),65536)),W=Da(U);if(W)return!0}return!1},Oa={},As=()=>u||"./this.program",oi=()=>{if(!oi.strings){var _=(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",C={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:_,_:As()};for(var N in Oa)Oa[N]===void 0?delete C[N]:C[N]=Oa[N];var F=[];for(var N in C)F.push(`${N}=${C[N]}`);oi.strings=F}return oi.strings},sh=(_,C)=>{var N=0,F=0;for(var B of oi()){var U=C+N;S[_+F>>2]=U,N+=Sn(B,U,1/0)+1,F+=4}return 0},ih=(_,C)=>{var N=oi();S[_>>2]=N.length;var F=0;for(var B of N)F+=Gd(B)+1;return S[C>>2]=F,0},oh=_=>52;function La(_,C,N,F,B){return 70}var In=[null,[],[]],ah=(_,C)=>{var N=In[_];C===0||C===10?((_===1?x:y)(Ro(N)),N.length=0):N.push(C)},lh=(_,C,N,F)=>{for(var B=0,U=0;U<N;U++){var W=S[C>>2],$=S[C+4>>2];C+=8;for(var ne=0;ne<$;ne++)ah(_,R[W+ne]);B+=$}return S[F>>2]=B,0},ai=_=>_;hn(),Gm(),jd(),Qm(),n.noExitRuntime&&n.noExitRuntime,n.print&&(x=n.print),n.printErr&&(y=n.printErr),n.wasmBinary&&(w=n.wasmBinary),n.arguments&&n.arguments,n.thisProgram&&(u=n.thisProgram);var d={s:Dt,w:yt,a:cr,j:ys,m:bo,N:At,p:vt,da:vs,d:_r,_:Co,sa:Je,Z:Qt,na:tn,qa:_s,pa:Ld,F:Na,la:Ym,R:Yr,S:Bd,y:qd,t:ri,ra:Hm,ma:zd,O:Qd,K:Yd,ta:Kd,oa:ka,V:Nr,ua:wc,wa:Jd,$:Zd,T:ko,va:eh,ka:th,aa:Cc,ea:rh,ba:sh,ca:ih,fa:oh,X:La,Q:lh,I:_M,C:AM,U:lM,P:MM,q:wM,b:sM,D:CM,ia:IM,c:oM,ha:RM,h:aM,i:fM,r:mM,M:bM,v:yM,E:xM,J:EM,A:SM,H:jM,W:LM,k:uM,f:cM,e:iM,g:Tc,L:kM,l:hM,ja:TM,o:gM,x:pM,u:vM,ga:PM,B:NM,n:dM,G:DM,Y:OM,z:ai},m=await ie();m.ya;var A=m.za,M=n._free=m.Aa,G=n._malloc=m.Ca,Y=m.Da,K=m.Ea,rt=m.Fa,qt=m.Ga,Qe=m.Ha,Yt=m.Ia,Kt=m.Ja,li=m.Ka;n.dynCall_viijii=m.La;var Yn=n.dynCall_vij=m.Ma;n.dynCall_jiji=m.Na;var Fa=n.dynCall_jiiii=m.Oa;n.dynCall_iiiiij=m.Pa,n.dynCall_iiiiijj=m.Qa,n.dynCall_iiiiiijj=m.Ra;function Tc(_,C,N,F){var B=ve();try{Fe(_)(C,N,F)}catch(U){if(he(B),U!==U+0)throw U;K(1,0)}}function sM(_,C){var N=ve();try{return Fe(_)(C)}catch(F){if(he(N),F!==F+0)throw F;K(1,0)}}function iM(_,C,N){var F=ve();try{Fe(_)(C,N)}catch(B){if(he(F),B!==B+0)throw B;K(1,0)}}function oM(_,C,N){var F=ve();try{return Fe(_)(C,N)}catch(B){if(he(F),B!==B+0)throw B;K(1,0)}}function aM(_,C,N,F){var B=ve();try{return Fe(_)(C,N,F)}catch(U){if(he(B),U!==U+0)throw U;K(1,0)}}function lM(_,C,N,F,B){var U=ve();try{return Fe(_)(C,N,F,B)}catch(W){if(he(U),W!==W+0)throw W;K(1,0)}}function cM(_,C){var N=ve();try{Fe(_)(C)}catch(F){if(he(N),F!==F+0)throw F;K(1,0)}}function uM(_){var C=ve();try{Fe(_)()}catch(N){if(he(C),N!==N+0)throw N;K(1,0)}}function dM(_,C,N,F,B,U,W,$,ne,ce,de){var _e=ve();try{Fe(_)(C,N,F,B,U,W,$,ne,ce,de)}catch(Ke){if(he(_e),Ke!==Ke+0)throw Ke;K(1,0)}}function hM(_,C,N,F,B){var U=ve();try{Fe(_)(C,N,F,B)}catch(W){if(he(U),W!==W+0)throw W;K(1,0)}}function fM(_,C,N,F,B){var U=ve();try{return Fe(_)(C,N,F,B)}catch(W){if(he(U),W!==W+0)throw W;K(1,0)}}function pM(_,C,N,F,B,U,W){var $=ve();try{Fe(_)(C,N,F,B,U,W)}catch(ne){if(he($),ne!==ne+0)throw ne;K(1,0)}}function mM(_,C,N,F,B,U){var W=ve();try{return Fe(_)(C,N,F,B,U)}catch($){if(he(W),$!==$+0)throw $;K(1,0)}}function gM(_,C,N,F,B,U){var W=ve();try{Fe(_)(C,N,F,B,U)}catch($){if(he(W),$!==$+0)throw $;K(1,0)}}function yM(_,C,N,F,B,U,W){var $=ve();try{return Fe(_)(C,N,F,B,U,W)}catch(ne){if(he($),ne!==ne+0)throw ne;K(1,0)}}function vM(_,C,N,F,B,U,W,$){var ne=ve();try{Fe(_)(C,N,F,B,U,W,$)}catch(ce){if(he(ne),ce!==ce+0)throw ce;K(1,0)}}function xM(_,C,N,F,B,U,W,$){var ne=ve();try{return Fe(_)(C,N,F,B,U,W,$)}catch(ce){if(he(ne),ce!==ce+0)throw ce;K(1,0)}}function wM(_){var C=ve();try{return Fe(_)()}catch(N){if(he(C),N!==N+0)throw N;K(1,0)}}function EM(_,C,N,F,B,U,W,$,ne){var ce=ve();try{return Fe(_)(C,N,F,B,U,W,$,ne)}catch(de){if(he(ce),de!==de+0)throw de;K(1,0)}}function bM(_,C,N,F,B,U,W){var $=ve();try{return Fe(_)(C,N,F,B,U,W)}catch(ne){if(he($),ne!==ne+0)throw ne;K(1,0)}}function CM(_,C,N,F){var B=ve();try{return Fe(_)(C,N,F)}catch(U){if(he(B),U!==U+0)throw U;K(1,0)}}function _M(_,C,N,F){var B=ve();try{return Fe(_)(C,N,F)}catch(U){if(he(B),U!==U+0)throw U;K(1,0)}}function TM(_,C,N,F,B,U,W,$){var ne=ve();try{Fe(_)(C,N,F,B,U,W,$)}catch(ce){if(he(ne),ce!==ce+0)throw ce;K(1,0)}}function AM(_,C,N,F,B,U){var W=ve();try{return Fe(_)(C,N,F,B,U)}catch($){if(he(W),$!==$+0)throw $;K(1,0)}}function SM(_,C,N,F,B,U,W,$,ne,ce){var de=ve();try{return Fe(_)(C,N,F,B,U,W,$,ne,ce)}catch(_e){if(he(de),_e!==_e+0)throw _e;K(1,0)}}function IM(_,C,N){var F=ve();try{return Fe(_)(C,N)}catch(B){if(he(F),B!==B+0)throw B;K(1,0)}}function RM(_,C,N,F,B){var U=ve();try{return Fe(_)(C,N,F,B)}catch(W){if(he(U),W!==W+0)throw W;K(1,0)}}function NM(_,C,N,F,B,U,W,$,ne,ce){var de=ve();try{Fe(_)(C,N,F,B,U,W,$,ne,ce)}catch(_e){if(he(de),_e!==_e+0)throw _e;K(1,0)}}function PM(_,C,N,F,B,U,W,$,ne){var ce=ve();try{Fe(_)(C,N,F,B,U,W,$,ne)}catch(de){if(he(ce),de!==de+0)throw de;K(1,0)}}function kM(_,C,N,F,B,U,W){var $=ve();try{Fe(_)(C,N,F,B,U,W)}catch(ne){if(he($),ne!==ne+0)throw ne;K(1,0)}}function MM(_,C,N,F){var B=ve();try{return Fe(_)(C,N,F)}catch(U){if(he(B),U!==U+0)throw U;K(1,0)}}function jM(_,C,N,F,B,U,W,$,ne,ce,de,_e){var Ke=ve();try{return Fe(_)(C,N,F,B,U,W,$,ne,ce,de,_e)}catch(Xe){if(he(Ke),Xe!==Xe+0)throw Xe;K(1,0)}}function DM(_,C,N,F,B,U,W,$,ne,ce,de,_e,Ke,Xe,wt,Gt){var Ot=ve();try{Fe(_)(C,N,F,B,U,W,$,ne,ce,de,_e,Ke,Xe,wt,Gt)}catch(Ht){if(he(Ot),Ht!==Ht+0)throw Ht;K(1,0)}}function OM(_,C,N,F){var B=ve();try{Yn(_,C,N,F)}catch(U){if(he(B),U!==U+0)throw U;K(1,0)}}function LM(_,C,N,F,B){var U=ve();try{return Fa(_,C,N,F,B)}catch(W){if(he(U),W!==W+0)throw W;K(1,0)}}function ng(){if(re>0){se=ng;return}if(L(),re>0){se=ng;return}function _(){var C;n.calledRun=!0,!E&&(D(),r(n),(C=n.onRuntimeInitialized)===null||C===void 0||C.call(n),X())}n.setStatus?(n.setStatus("Running..."),setTimeout(()=>{setTimeout(()=>n.setStatus(""),1),_()},1)):_()}function FM(){if(n.preInit)for(typeof n.preInit=="function"&&(n.preInit=[n.preInit]);n.preInit.length>0;)n.preInit.shift()()}return FM(),ng(),e=i,e};function XW(t){return $k(zk,t)}async function ZW(t,e){return JW(zk,t,e)}const Wk=[["aztec","Aztec"],["code_128","Code128"],["code_39","Code39"],["code_93","Code93"],["codabar","Codabar"],["databar","DataBar"],["databar_expanded","DataBarExpanded"],["databar_limited","DataBarLimited"],["data_matrix","DataMatrix"],["dx_film_edge","DXFilmEdge"],["ean_13","EAN-13"],["ean_8","EAN-8"],["itf","ITF"],["maxi_code","MaxiCode"],["micro_qr_code","MicroQRCode"],["pdf417","PDF417"],["qr_code","QRCode"],["rm_qr_code","rMQRCode"],["upc_a","UPC-A"],["upc_e","UPC-E"],["linear_codes","Linear-Codes"],["matrix_codes","Matrix-Codes"],["any","Any"]],eQ=[...Wk,["unknown"]].map(t=>t[0]),lv=new Map(Wk);function tQ(t){for(const[e,n]of lv)if(t===n)return e;return"unknown"}function nQ(t){if(Qk(t))return{width:t.naturalWidth,height:t.naturalHeight};if(Yk(t))return{width:t.width.baseVal.value,height:t.height.baseVal.value};if(Kk(t))return{width:t.videoWidth,height:t.videoHeight};if(Jk(t))return{width:t.width,height:t.height};if(Zk(t))return{width:t.displayWidth,height:t.displayHeight};if(Hk(t))return{width:t.width,height:t.height};if(Xk(t))return{width:t.width,height:t.height};throw new TypeError("The provided value is not of type '(Blob or HTMLCanvasElement or HTMLImageElement or HTMLVideoElement or ImageBitmap or ImageData or OffscreenCanvas or SVGImageElement or VideoFrame)'.")}function Qk(t){var e,n;try{return t instanceof((n=(e=t==null?void 0:t.ownerDocument)==null?void 0:e.defaultView)==null?void 0:n.HTMLImageElement)}catch{return!1}}function Yk(t){var e,n;try{return t instanceof((n=(e=t==null?void 0:t.ownerDocument)==null?void 0:e.defaultView)==null?void 0:n.SVGImageElement)}catch{return!1}}function Kk(t){var e,n;try{return t instanceof((n=(e=t==null?void 0:t.ownerDocument)==null?void 0:e.defaultView)==null?void 0:n.HTMLVideoElement)}catch{return!1}}function Hk(t){var e,n;try{return t instanceof((n=(e=t==null?void 0:t.ownerDocument)==null?void 0:e.defaultView)==null?void 0:n.HTMLCanvasElement)}catch{return!1}}function Jk(t){try{return t instanceof ImageBitmap||Object.prototype.toString.call(t)==="[object ImageBitmap]"}catch{return!1}}function Xk(t){try{return t instanceof OffscreenCanvas||Object.prototype.toString.call(t)==="[object OffscreenCanvas]"}catch{return!1}}function Zk(t){try{return t instanceof VideoFrame||Object.prototype.toString.call(t)==="[object VideoFrame]"}catch{return!1}}function rQ(t){try{return t instanceof Blob||Object.prototype.toString.call(t)==="[object Blob]"}catch{return!1}}function sQ(t){try{return t instanceof ImageData||Object.prototype.toString.call(t)==="[object ImageData]"}catch{return!1}}function iQ(t,e){try{const n=new OffscreenCanvas(t,e);if(n.getContext("2d")instanceof OffscreenCanvasRenderingContext2D)return n;throw void 0}catch{const n=document.createElement("canvas");return n.width=t,n.height=e,n}}async function eM(t){if(Qk(t)&&!await cQ(t))throw new DOMException("Failed to load or decode HTMLImageElement.","InvalidStateError");if(Yk(t)&&!await uQ(t))throw new DOMException("Failed to load or decode SVGImageElement.","InvalidStateError");if(Zk(t)&&dQ(t))throw new DOMException("VideoFrame is closed.","InvalidStateError");if(Kk(t)&&(t.readyState===0||t.readyState===1))throw new DOMException("Invalid element or state.","InvalidStateError");if(Jk(t)&&fQ(t))throw new DOMException("The image source is detached.","InvalidStateError");const{width:e,height:n}=nQ(t);if(e===0||n===0)return null;const r=iQ(e,n).getContext("2d");r.drawImage(t,0,0);try{return r.getImageData(0,0,e,n)}catch{throw new DOMException("Source would taint origin.","SecurityError")}}async function oQ(t){let e;try{e=await createImageBitmap(t)}catch{try{if(globalThis.Image){e=new Image;let n="";try{n=URL.createObjectURL(t),e.src=n,await e.decode()}finally{URL.revokeObjectURL(n)}}else return t}catch{throw new DOMException("Failed to load or decode Blob.","InvalidStateError")}}return await eM(e)}function aQ(t){const{width:e,height:n}=t;if(e===0||n===0)return null;const r=t.getContext("2d");try{return r.getImageData(0,0,e,n)}catch{throw new DOMException("Source would taint origin.","SecurityError")}}async function lQ(t){if(rQ(t))return await oQ(t);if(sQ(t)){if(hQ(t))throw new DOMException("The image data has been detached.","InvalidStateError");return t}return Hk(t)||Xk(t)?aQ(t):await eM(t)}async function cQ(t){try{return await t.decode(),!0}catch{return!1}}async function uQ(t){var e;try{return await((e=t.decode)==null?void 0:e.call(t)),!0}catch{return!1}}function dQ(t){return t.format===null}function hQ(t){return t.data.buffer.byteLength===0}function fQ(t){return t.width===0&&t.height===0}function YC(t,e){return pQ(t)?new DOMException(`${e}: ${t.message}`,t.name):mQ(t)?new t.constructor(`${e}: ${t.message}`):new Error(`${e}: ${t}`)}function pQ(t){return t instanceof DOMException||Object.prototype.toString.call(t)==="[object DOMException]"}function mQ(t){return t instanceof Error||Object.prototype.toString.call(t)==="[object Error]"}var If;class cv{constructor(e={}){MW(this,If);var n;try{const r=(n=e==null?void 0:e.formats)==null?void 0:n.filter(s=>s!=="unknown");if((r==null?void 0:r.length)===0)throw new TypeError("Hint option provided, but is empty.");for(const s of r??[])if(!lv.has(s))throw new TypeError(`Failed to read the 'formats' property from 'BarcodeDetectorOptions': The provided value '${s}' is not a valid enum value of type BarcodeFormat.`);jW(this,If,r??[]),XW({fireImmediately:!0}).catch(()=>{})}catch(r){throw YC(r,"Failed to construct 'BarcodeDetector'")}}static async getSupportedFormats(){return eQ.filter(e=>e!=="unknown")}async detect(e){try{const n=await lQ(e);if(n===null)return[];let r;const s={tryCode39ExtendedMode:!1,textMode:"Plain",formats:kW(this,If).map(i=>lv.get(i))};try{r=await ZW(n,s)}catch(i){throw console.error(i),new DOMException("Barcode detection service unavailable.","NotSupportedError")}return r.map(i=>{const{topLeft:{x:o,y:a},topRight:{x:c,y:u},bottomLeft:{x:h,y:p},bottomRight:{x:f,y:v}}=i.position,x=Math.min(o,c,h,f),y=Math.min(a,u,p,v),w=Math.max(o,c,h,f),T=Math.max(a,u,p,v);return{boundingBox:new DOMRectReadOnly(x,y,w-x,T-y),rawValue:i.text,format:tQ(i.format),cornerPoints:[{x:o,y:a},{x:c,y:u},{x:f,y:v},{x:h,y:p}]}})}catch(n){throw YC(n,"Failed to execute 'detect' on 'BarcodeDetector'")}}}If=new WeakMap;globalThis.BarcodeDetector!=null||(globalThis.BarcodeDetector=cv);function gQ(t){const{onClick:e,disabled:n,className:r}=t,s={cursor:n?"default":"pointer",stroke:n?"grey":"yellow",strokeLineJoin:"round",strokeLineCap:"round",strokeWidth:1.5,...t.style};return Q.createElement("svg",{onClick:n?void 0:e,className:r,style:s,width:"28px",height:"28px",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Q.createElement("path",{d:"M3 3L6.00007 6.00007M21 21L19.8455 19.8221M9.74194 4.06811C9.83646 4.04279 9.93334 4.02428 10.0319 4.01299C10.1453 4 10.2683 4 10.5141 4H13.5327C13.7786 4 13.9015 4 14.015 4.01299C14.6068 4.08078 15.1375 4.40882 15.4628 4.90782C15.5252 5.00345 15.5802 5.11345 15.6901 5.33333C15.7451 5.44329 15.7726 5.49827 15.8037 5.54609C15.9664 5.79559 16.2318 5.95961 16.5277 5.9935C16.5844 6 16.6459 6 16.7688 6H17.8234C18.9435 6 19.5036 6 19.9314 6.21799C20.3077 6.40973 20.6137 6.71569 20.8055 7.09202C21.0234 7.51984 21.0234 8.0799 21.0234 9.2V15.3496M19.8455 19.8221C19.4278 20 18.8702 20 17.8234 20H6.22344C5.10333 20 4.54328 20 4.11546 19.782C3.73913 19.5903 3.43317 19.2843 3.24142 18.908C3.02344 18.4802 3.02344 17.9201 3.02344 16.8V9.2C3.02344 8.0799 3.02344 7.51984 3.24142 7.09202C3.43317 6.71569 3.73913 6.40973 4.11546 6.21799C4.51385 6.015 5.0269 6.00103 6.00007 6.00007M19.8455 19.8221L14.5619 14.5619M14.5619 14.5619C14.0349 15.4243 13.0847 16 12 16C10.3431 16 9 14.6569 9 13C9 11.9153 9.57566 10.9651 10.4381 10.4381M14.5619 14.5619L10.4381 10.4381M10.4381 10.4381L6.00007 6.00007"}))}function yQ(t){const{onClick:e,disabled:n,className:r}=t,s={cursor:n?"default":"pointer",stroke:n?"grey":"yellow",strokeLineJoin:"round",strokeLineCap:"round",strokeWidth:1.5,...t.style};return Q.createElement("svg",{onClick:n?void 0:e,className:r,style:s,width:"28px",height:"28px",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Q.createElement("path",{d:"M12 16C13.6569 16 15 14.6569 15 13C15 11.3431 13.6569 10 12 10C10.3431 10 9 11.3431 9 13C9 14.6569 10.3431 16 12 16Z"}),Q.createElement("path",{d:"M3 16.8V9.2C3 8.0799 3 7.51984 3.21799 7.09202C3.40973 6.71569 3.71569 6.40973 4.09202 6.21799C4.51984 6 5.0799 6 6.2 6H7.25464C7.37758 6 7.43905 6 7.49576 5.9935C7.79166 5.95961 8.05705 5.79559 8.21969 5.54609C8.25086 5.49827 8.27836 5.44328 8.33333 5.33333C8.44329 5.11342 8.49827 5.00346 8.56062 4.90782C8.8859 4.40882 9.41668 4.08078 10.0085 4.01299C10.1219 4 10.2448 4 10.4907 4H13.5093C13.7552 4 13.8781 4 13.9915 4.01299C14.5833 4.08078 15.1141 4.40882 15.4394 4.90782C15.5017 5.00345 15.5567 5.11345 15.6667 5.33333C15.7216 5.44329 15.7491 5.49827 15.7803 5.54609C15.943 5.79559 16.2083 5.95961 16.5042 5.9935C16.561 6 16.6224 6 16.7454 6H17.8C18.9201 6 19.4802 6 19.908 6.21799C20.2843 6.40973 20.5903 6.71569 20.782 7.09202C21 7.51984 21 8.0799 21 9.2V16.8C21 17.9201 21 18.4802 20.782 18.908C20.5903 19.2843 20.2843 19.5903 19.908 19.782C19.4802 20 18.9201 20 17.8 20H6.2C5.0799 20 4.51984 20 4.09202 19.782C3.71569 19.5903 3.40973 19.2843 3.21799 18.908C3 18.4802 3 17.9201 3 16.8Z"}))}function vQ(t){const{scanning:e,startScanning:n,stopScanning:r}=t,[s,i]=g.useState(!1);function o(){i(!0),e?r():n(),setTimeout(()=>i(!1),1e3)}return Q.createElement("div",{style:{bottom:85,right:8,position:"absolute",zIndex:2,cursor:s?"default":"pointer"}},e?Q.createElement(gQ,{disabled:s,onClick:o}):Q.createElement(yQ,{disabled:s,onClick:o}))}function xQ(t){const{onClick:e,className:n,style:r}=t;return Q.createElement("svg",{onClick:e,width:"30px",height:"30px",viewBox:"0 0 24 24",className:n,style:r,xmlns:"http://www.w3.org/2000/svg"},Q.createElement("path",{strokeWidth:.2,stroke:"yellow",fill:"yellow",d:"M13.225 9l5.025-7h-7.972l-3.3 11h5.359l-2.452 8.648.75.364L20.374 9zm.438 3H8.322l2.7-9H16.3l-5.025 7h7.101l-6.7 8.953z"}))}function wQ(t){const{onClick:e,className:n,style:r}=t;return Q.createElement("svg",{onClick:e,width:"30px",height:"30px",viewBox:"0 0 24 24",className:n,style:r,xmlns:"http://www.w3.org/2000/svg"},Q.createElement("path",{strokeWidth:.2,stroke:"yellow",fill:"yellow",d:"M14.516 15.158l.714.714-4.595 6.14-.75-.364L12.337 13H6.978L8.22 8.861l.803.803L8.322 12h3.036l1.793 1.792-1.475 5.16zm5.984 4.05L4.793 3.5l.707-.707 3.492 3.492L10.278 2h7.972l-5.025 7h7.149l-3.71 4.957 4.543 4.543zM12.707 10l3.243 3.243L18.376 10zM9.795 7.088l2.079 2.079L16.3 3h-5.278z"}))}function EQ(t){const{status:e,scanning:n,torchToggle:r}=t;function s(i){r(i)}return n&&r?Q.createElement("div",{style:{bottom:35,right:8,position:"absolute",zIndex:2,cursor:"pointer"}},e?Q.createElement(wQ,{onClick:()=>s(!1)}):Q.createElement(xQ,{onClick:()=>s(!0)})):null}function bQ(t){const{onClick:e,className:n,disabled:r=!1}=t,s={cursor:r?"default":"pointer",stroke:r?"grey":"yellow",fill:r?"grey":"yellow",...t.style};return Q.createElement("svg",{onClick:r?void 0:e,width:"30px",height:"30px",viewBox:"0 0 24 24",className:n,style:s,xmlns:"http://www.w3.org/2000/svg"},Q.createElement("path",{strokeWidth:.3,d:"M16.279,17.039c-1.396,1.209 -3.216,1.941 -5.206,1.941c-4.393,0 -7.96,-3.567 -7.96,-7.96c-0,-4.393 3.567,-7.96 7.96,-7.96c4.393,0 7.96,3.567 7.96,7.96c-0,2.044 -0.772,3.909 -2.04,5.319l0.165,0.165c1.194,1.194 2.388,2.388 3.583,3.582c0.455,0.456 -0.252,1.163 -0.707,0.708l-3.755,-3.755Zm1.754,-6.019c-0,-3.841 -3.119,-6.96 -6.96,-6.96c-3.842,0 -6.96,3.119 -6.96,6.96c-0,3.841 3.118,6.96 6.96,6.96c3.841,0 6.96,-3.119 6.96,-6.96Zm-7.46,0.5l-1.5,0c-0.645,0 -0.643,-1 -0,-1l1.5,0l-0,-1.5c-0,-0.645 1,-0.643 1,0l-0,1.5l1.5,0c0.645,0 0.643,1 -0,1l-1.5,0l-0,1.5c-0,0.645 -1,0.643 -1,0l-0,-1.5Z"}))}function CQ(t){const{onClick:e,className:n,disabled:r=!1}=t,s={cursor:r?"default":"pointer",stroke:r?"grey":"yellow",fill:r?"grey":"yellow",...t.style};return Q.createElement("svg",{onClick:r?void 0:e,width:"30px",height:"30px",viewBox:"0 0 24 24",className:n,style:s,xmlns:"http://www.w3.org/2000/svg"},Q.createElement("path",{strokeWidth:.3,d:"M16.279,17.039c-1.396,1.209 -3.216,1.941 -5.206,1.941c-4.393,0 -7.96,-3.567 -7.96,-7.96c-0,-4.393 3.567,-7.96 7.96,-7.96c4.393,0 7.96,3.567 7.96,7.96c-0,2.044 -0.772,3.909 -2.04,5.319l0.165,0.165c1.194,1.194 2.388,2.388 3.583,3.582c0.455,0.456 -0.252,1.163 -0.707,0.708l-3.755,-3.755Zm1.754,-6.019c-0,-3.841 -3.119,-6.96 -6.96,-6.96c-3.842,0 -6.96,3.119 -6.96,6.96c-0,3.841 3.118,6.96 6.96,6.96c3.841,0 6.96,-3.119 6.96,-6.96Zm-4.96,-0.5c0.645,0 0.643,1 -0,1l-4,0c-0.645,0 -0.643,-1 -0,-1l4,0Z"}))}function _Q(t){const{scanning:e,capabilities:n,onZoom:r,value:s}=t;if(!e||!r)return null;const i=(n.max-n.min)/3;return Q.createElement(g.Fragment,null,Q.createElement("div",{style:{bottom:130,right:8,position:"absolute",zIndex:2,cursor:"pointer"}},Q.createElement(CQ,{disabled:s<=n.min,onClick:function(){r(Math.max(s-i,n.min))}})),Q.createElement("div",{style:{bottom:180,right:8,position:"absolute",zIndex:2,cursor:"pointer"}},Q.createElement(bQ,{disabled:s>=n.max,onClick:function(){r(Math.min(s+i,n.max))}})))}const fi={fullContainer:{width:"100%",height:"100%",position:"relative",display:"flex",alignItems:"center",justifyContent:"center",overflow:"hidden"},innerContainer:{width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",position:"relative"},overlay:{position:"absolute",top:0,right:0,bottom:0,left:0,pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},borderBox:{position:"relative",width:"70%",aspectRatio:"1 / 1",border:"2px dashed rgba(239, 68, 68, 0.4)",borderRadius:"0.5rem"},cornerTopLeft:{position:"absolute",width:"15%",height:"15%",border:"4px solid #ef4444",top:0,left:0,borderBottomColor:"transparent",borderRightColor:"transparent",borderTopLeftRadius:"0.5rem"},cornerTopRight:{position:"absolute",width:"15%",height:"15%",border:"4px solid #ef4444",top:0,right:0,borderBottomColor:"transparent",borderLeftColor:"transparent",borderTopRightRadius:"0.5rem"},cornerBottomLeft:{position:"absolute",width:"15%",height:"15%",border:"4px solid #ef4444",bottom:0,left:0,borderTopColor:"transparent",borderRightColor:"transparent",borderBottomLeftRadius:"0.5rem"},cornerBottomRight:{position:"absolute",width:"15%",height:"15%",border:"4px solid #ef4444",bottom:0,right:0,borderTopColor:"transparent",borderLeftColor:"transparent",borderBottomRightRadius:"0.5rem"}};function TQ(t){const{scanning:e,capabilities:n,onOff:r,torch:s,zoom:i,startScanning:o,stopScanning:a}=t;return Q.createElement("div",{style:fi.fullContainer},Q.createElement("div",{style:fi.innerContainer},Q.createElement("div",{style:fi.overlay},Q.createElement("div",{style:fi.borderBox},Q.createElement("div",{style:fi.cornerTopLeft}),Q.createElement("div",{style:fi.cornerTopRight}),Q.createElement("div",{style:fi.cornerBottomLeft}),Q.createElement("div",{style:fi.cornerBottomRight}))),r&&Q.createElement(vQ,{scanning:e,startScanning:o,stopScanning:a}),s&&n.torch&&Q.createElement(EQ,{scanning:e,status:s.status,torchToggle:s.toggle}),i&&n.zoom&&Q.createElement(_Q,{scanning:e,capabilities:n.zoom,value:i.value,onZoom:i.onChange})))}const AQ="data:audio/mp3;base64,//PkZAAhghE0AKToAJra/n0FQygAAAGIkYJgmCYXBMAAGCTJz3zhCEM//z//1hz//8MMMMN08ssV6e5DDWIQreAgCvFKy8bXgIKMkUDDBgzJwIBtkRMQAocxIFdxghQGKDoEziAzQxOBOdH92i/iGi+zDCAEIX46a73HrSybZw1x3JZjXp7dSNy/P68rjcbt7p7fakMP5LVMyzCaj1pjvejYYAIDgDGzECjEAk1Jl3559HIon8hzlfPVTCvGJZzfcKSxXfyMWM88//9VKSxXdtnb9vomOuuRyiWVYbf+X8zp6fKGHIdycuWMMMMMMKSnp+6wsYc/9f/7z7rPPWHN556p6fP8MMMP///PPP/7+GHK9PT6p7f/unldP2np7YeHjweiYA4GLNAgAiI7u57n5//oc5/yfk6znOcPhwOBwggHCMpA4HA4KEyHOc5znO+hPIc5//+fqJh8XQPh90JU5xQinOf//87/zvP+ggAYuhCKHxdA+Hxd0EA4KKHA4ciB3kOXfXB/gmf8p/B96lAMKAgAADU+BujARHgwdisgHMfAUHAiceBg4ASBgZBiBIBH4ZaHOJsLhf8R+HYEciIgYSwj/+Bi7EqBh+AcBn5P6Bh4TuBmrAMBiZH7gaLEWgew//PkZFMlyek60MpYAShzqqZhm6gCUWeEUWAewEWYGN4X4GDEPwGE8S4GDoOIGAYKgIQOkz//gGARAUB+CwGxTwMAACAEgyAwdAlAxKhzAxXiZ///AxcEwAwJjDAziCAAwQgdAwRgdAsJQDAmAcGzYDwAhZIAKAcIQB4GT9TQMJ9/4Gi1Fv/AcAYUqKBAwGgNAwVBAAwGhwAwdBlAxFg1AwlgzAwNBuAkJQDBgEEDEqGECgChFgBgL//CIswYYH//+HKCpk4K0C9AaKKCAOBeMcR4X9C44BwABCgGAsGYCgTwHAcAwXAiAwSAQV///CJP9lwMBQAwAAAWGo5lVLCcaeneVhJAVGai3//ioaUEf//gaTAYGCj8BnEwfrIqDcsIQb/vmhU/8fAs0G8YGGwKST8Igj4GCATipksVzY8p//90FWJwh45AkX//4fCF9wMEgkL3uQc+gbGJ8t4MBAMBP/hEXf9FRuWBcAfIFjYzQdoLCBwh7IWVlxaX/w8oMCP/+EQT5poGB1Ir90DhiV6af/jFYBpT2BgoQyyt2M0ToBdEaZyzt8nTo3xdNDCTSd//o6F06CjooxRr4jVF/0bOKD6OMUNDRxiMUVFR0FFQPhGXRjDpr4MAEA4wIQUhYOIw//PkZE4nrg08sOx4ACQ0CopD2aAAlwTTBxQeMcwd8w8gZTAgABXwGABOkzpI0wAQAExnWfP4x8ZjKunWdZ1o1Qe6lFGKCNULORQCELAAPnRUf/GIx/0FHGfo3SdZ0qP2cukXKLlRtBKFgAQwCkwJgFRYBEEATmDsLSY2QiQYCEnEra+UZo6F1aKMRr6GhoaP/+j//ov+i+hjLqBgMkYoqChoo1GqCjoY06TpRqjjLOYzRRmMuizmgdKhdF8kjTAAAPMCwGswzglgwAJfzqxmioKH/////////////+ijLOAwFmN0f/////////Q///8ZjP/9DGYyFwIDBeB3MA4AlBWidKM5spykAUAQOCakK+udGqN8VDYjTRuN//0bVX//6Kio4xQFv//nf//kKOoAEIB6SY6hcxenp85///4/DEPf/84Xvl4vF4dwtxfEJgCYQHMSgKCROp4+fn////L4tQf0unz89OecLxeL0ul09y6enzp4dIhKAQFA5hKfLu1nU7/Wr71rRKJUBQSUVt////l08GUPVWgAAYAeNKsxbQNAAhQx3/oKGMM6dZ1Yy6sajMbfKio7lNcv0sScZ47lNcw32ekVFMP9fp/f+mklI6at6u/dBMQuW6y+C5BcgwAA//PkZEomGg1HYGe0riWsCqbEwiY0BJFJMxrCcxGgQ2VK8xxCF1wsABgQBBgQBAYAFCkYCgALkK4fJ00E5ctJN1Uxy5au3XoGcM4dSN0EYZwzhW0WCh1PZwzhnFFQxtnbO2d0Kt6CdXbruggkTEX5Rs4TEQUVsdVXaCcuWXIBQUGmwmgoAGcJiM4dSioHQdBnEY+hjcbov//jcb/43G43G/jCRibfxugdBnDqULO2duvQumztncbo4xGKKNxugooxGIxQULoOgFgUMTA/jbrxiMDmETL+eLhcPThzOeeOZfL5fIcBYuXD/OHv8t//LJFxjxQYHHKDGFkZMtlmKM0RgQfbVtxFIHbQBDRuzRguEI1c9XZ/rWmrZfVU3Oc/9utNNygRQkCoHlAYstNN6DJ1IINpoINppv+WG/+g2mmnUmmmpBAoJIJhnwB5xkymn606Df/t000xhU03UXC5Ol8uFyXy+Xy/l8v5w4cLk4XAvwAYUvl/QL5fTdlKZkEEEEGumaKaX00zIOemf6CH///ywI3LKpiQ2Ef4xYWMSDyI0XwzikpL0ajVHZ3j9DGIjeuXcNfjn96/S/TUz/X/vX////5K/r+v7Jn+LlAoGZOIQIwMKBQM/yppKYURmhGZkR2b//PkZE0mHg1HEG8wyiD7mlwAyDU8nJHi5htakZmZGNiRcpkJhBmUmZYQcM1VDEEBggNDV/ASEZRYKFZIhkXKLlKmk7IVTKmZNJ5KhiqVUqpX+k7+qlVKyV/ZIqZDFDWTJlFyi5TJpKhiXKBQyZzIS5JhBoayV/AQWVpGWkcYTV5O/rIVSv8/0nkr+v6/vyR/X9f1/ZN8kf5/n99/n+f5/lTKmf9/mRP8yFUqpWSv4yJUqpX9kj/MmZNJ5K/z/P9J5P/v6yFUz/CEoywgUMqZkz/FssECIsVq0aPRrRRatFFFykQZJ2Ukl///5KjmksOaA7ALROJLDnEsLbq3GTMVrwb/0dGzmM0DlfBlHQOmrdR0MYi92TX6b/cmDHLclyUVYO/4O8sFTKFTKFf8yhUyhUyhXzKlDKlCsr/+ZUoVlSsr/+ZQqZUoZUoceMfcoZUoZUoVlfOPGcmDHKcpynKg9yXJcr3JclyXJclyYO+DXJclyfgxFZVb3KcqD/g2MxzsY72L9LubPR0dCyf5K5NNd+Tv9GXRdV0XJclyfcl/n+k8kf6SX/iVynvXf///4Mg/1OkxguYzmM5jMcLHMxwwGhgNCwXMLAcwMXTLi1MD7w7tmTdBvMmE0xQFzCwHMDAd//PkZGMpigkmAGOUvCfTgcgAuC+ITswMFzC4oMLhYMByn0xvU+p9Tr0xUxf/0xv///1PBYDhgNTFTFTGTGTGTGTGTGTGTGC4GTFMDAcLAdMVMVMULAcMBpgYDhcDGFwsYXFBikLGFwMGA4MBxgcDKfTEMUoAx2BisD+mKp5Tv1OkxkxkxkxkxkxkxkxlO0xVPJi/6nv////U7CwHTFTFTGTGTGTGU+p71PpjJipihYDpipi/6n1Ov//C4GC4GTGTGTGTFU8WBSZdLhWB//yKlotyLZFiLf8tyyRUipFSKkVGRBZQMiWC3yx//wxUGKsSvDFQGHUAL3QMsHDFIYpCYy2Bmagy6BjLgy6Bh3od58DCLAizBgRb+EQiyEQiwGBFuDAi3/////20QqSBJf/qcumv/////wMZdGXAYMu1gYy6MuBEZdBgy4BjLgy6BjLgy6BjLgy6BjLQy6DBlz2cJDLgRGXAMZdGXAYMuhMZcCIy6sJGaoGMuppwNRl3WBjLgy63wiEWAwIt/+EQi0IhFsDCLAi0GBFkGBFgMJCqaqYAgAYIhBBvwf7kwcqRq7V3IctacvlN6NxqgooxRRuNRiijEZjMGRuMvz9FGozQ+1X2qe1T1S//+VhaWAtKwtML//PkZEIkbgcaAHc1xCJrjeAAtfuUAtLAWf///mWePH95ZFgsyssvM88+jzO6K+z7OM48sH+WDiweZx5YOK+zxWLGJWsa6xadAv02fTZLSpsFpvLSga0tMgWgUgWmwgUmyWl8tMgWWmLSoFJsoFlpSwsmyBg4HhEdgwHAYPBwGDgeBg8HwMHg4DB4PBgOAwcOwMHLwDn5lAwcDgiDgYDwMHA/4MB3//+EQeDAdwiDwYLPhEWQYLODBYERZBgt8Ii34GLBaB5pfAZ0FvEAQ/UfwxULlx+IXx+8f5CELH8fxKhAIDFoHBEDRc3////gwHgaRXgMHYMB2EU/gwZ/gYbw3gY3QbgYNgbgYiAbgwN3/+EQbBEG4MBuDAbAwG4RBtAwbg2////+B9B6F//////////hEdD//////////8DRahEQGCInMNg3LBElgNjDciCwG/lgNiwGxWG///mG4bf/+WA3Kw3KyIMNw2Kw3MNg3MNg3MNiIMiQ2OK0xMiA3KyJLAEZgRARmBEDEYFwBBgEgEeomowol5YAJKwCDAIAJ8sAE+gGBgCJYAQUZ/13LubMu5dyiYOAhKwEFGf9AOoz/g4CFAIol/lgAjysAgsAElYBP////lgJksBM//lgRUxF//PkZGApggsIAHt2wiNLoggAqCz8RFSwIqYioipkjEjHCCSN/+WJg5iYOYmPK5krmTmZk5mZ8sTJYmf8yJiNiIisi/ywRmRkZkZGZGRmRERkREZERGRERkREZERGxEf///hETIMEyBiZEyBiZEzwiJgDEwU4DV2gQGFOBgmP8GAiAwRAiBgIgYCIGAi/4MBHAwRgjAwRgjwMEQIgMcgY8DBGCMDBGCMDEyJn///+BiYQIBlObj4eYLIwsjAOBGFkYBoEQ84eULIw88LIA88PKHnw8sPKFkeHlANAiAaFUDAiMYPIHmDzBZBhZB///8GBOA1sH/Awni7AwnhPCITwYE/CKzBgt8Ig8GA4Ig6EQdww4Yb+F1sIgtwYCwGAsAwWAsBgLAYCwDBYCwDBaHUDF+VEDKgC2BgtBaDAWgYLQW////gYLAWQMFgLAMFoLcGAt////4RMABmBSj4NgwMOGHBsHhdcLrwbB4XXC6+F14YcLrww4Ng8MOGHBsHww4Ng8AUC4AoMQMC4fgw3wutV4QIsAgFYIBWCCVgHeVgHeWABCwAIVgH+YBwB5aRAstKgV6Ba1oMg9avtUVN/qdLWciD/cqD3Jg6DFPuTB/////lYAn//mC8C+YLwL5gvgvGC//PkZFEpLgMKYXt2xB5LogAArbdc+C8VgvlYL/mC8C+YLwL5YBfMNgNkwXixDWoHPMc4VUxVA2TBeDZPYXzXl815fK14sLxYXvK1//NeXzXl815fMtdDLSw3UsMtLCstMtLDLSwsFhWWlgt//8sFhW6f/////+WF7zXl8sL5ry+Vrxry+WF/wMLwX4MC+EQv/AwvBfAxsjYAyqpKA0lpLAwvBfBgXv///4RA2DANAYGgNgYGgNgYGwN+EQvf/BgXwYF//8DC+F4Dd6NgGBf4AgFwbB0MMF1wuuDYMBsGwusDYOBsHA2Dvg2DQuuDYOhdcMMF14YYDGYDEGwfhhgbB0MN///4RBaEQWgZByoYRWYMFvwiDsGwaF1gbB34GDwdC64XW/w1aKxDVgatir4YcLrQbBwNg7////////////+ESfgZPyff/////////4MFmBvvMAERZ8CC5adNj02E2S0qbCBSBZaYtN///oFlpU2QMXIFAYuQK9AtAo7IxLTpsIFJs/5aZRxQawaxGfIg9CsrI+PUqkWdOHp7ODsOl6cOHZ4dsulfLI9/8BAAgMBACsBLACVgBjoAWAE5OTM6WDAR0zodMdHCsJLASWAjzCQgsBJhASWAjysI8wkJMICU//PkZFkeqgcaYDd1th6DogAAqCuIxQwtDA5MdMULgyY6YqnXqdep5TpMdMVRNRL/UT9AN6jCiSjKAZRNRhAMomgFQDfCIJwYCQiCAiCMGAkGAgDBJUA3eVAMEgj////8SrDFIYqh5g8kPMHkDzB5OFkYeYPJ+HlDzB5+AYVQDibCyIPLLEZIsjIliWS0WywWyyWuWCyWJaLZbLJYDHgLAItFvy3///4eYPKBlQTh5QYEODBb//hhoNg7/C62DYPFUKwKsVgNWBq8VkVcVkVUVYrH//hGff/8Iz8GT7//////wiX4ML3gwvgwvf4ML3gZeqoHVGyBl4vgZfL2F1oNg4Lrg2DcLrg2DQw0Lrhh8Lr4YcMNBsGhdcGBcMOGGAFGAGMQsF1guuGG4XXV/4uQXOLmF1kL/8lCXkuSk4O8/FzHzuP0hIucf/CIFAMCgFPgYFAKAwCgGBQCgGHYO4GBVM4GgQI4RCMEQKQOtQjUI1CNcI14MqDKwDIAGQDzh5wsjDyw8uHmDzYeUPN+DEYRRhFEIowYgDQgIhWDApgwKAwKQYFAYFQMKkYDOxHAzsRgMKBUGBX/h5v+Hm4ecPNh5A8wBwjhZHhZAHlDzBZAFkAeQPKHnCyILIAsih5QsgDz//PkZLQgIgsMAFp1xCGLogAAA2rkB5w8oeYLIQ8kPMHkCyGHnAMKoGmAgFkUPMHmDYAtfHPHNkr/JYl8c8lCWHPHMkqSo5onMAkBDnfJX//8IgDBgBhEdAaxSQMHUGAEIgAV4risCcipBOMVRVBO////hEvAxsAwvf////8MPDDww4XWC64XXDDww4YcMPC6wYb/wYGgiGwMplMDYhTCIaCIaBga/////8GA+EQdgYPB4MB4GDwdhEH8Ig8Ig8GA6EQcEQf8DBxlBjoAweDuFwgCQXiL//iLiKCKCL4XCiKRFwEgoRT4iqpMQU1FMy4xMDCqqqqqqqr////xuDd8fv/DVwrArEIg6EQdhEHAYPBwMB+ERYBi0WAwWAZ0FoGLYOB+JfgZ0FoGdBaDBYbn+WHm9xW7/Nzzc83PLDzc8reWlA7S0oHamx//6BflpU2C0qbBaf/8yk/ysn+VkMhTKQrKVk8yE8rIVkKyYsAn/5WC+YICmCApWCGTkxtKMcVWlgFMEBTBAX////0C0C0C/////////LTFpvTZLTlpv/0Ci0xaYtOgWmymyWkAxcWmTZTYTY8tMmygUWmLTIFpsFpv9NnywLmLCx2RgWmQKTZ98UjnzZ1/++D4M6/////3//PkZOgjIg8IAFcbxCaTogAAoCuIzfJ8vfJ8Wcs5fBnD5//++L5f////////6nCKv//+o0o0FUYwqDNGCwgUMKC0VVGkVv//4Yf8LrxVCriqDVoasDVuKsNWw1bisBqwVkVkVX//gy/4YYMMGGhhgwwNg4LrhdcLrAYWGAA0zBsH4Ng3C6/////4MAoGBQIDAKBgUCAwCgYEAsDAoEAwKBAYBYMAoGBQIBgUCYGBQIBgUCwiBAYBYMAoRAgRAoGBBMBooCAYFAkIgTEUxFv/EWxFxFhFoi0LhQuFiLCL/EWqTEFNRTMuMTAwqqqq//////8TWJriV/hERAwRgYiEYGIhGBmIRgYiEYMEQMEcDMSiA1GYwMR+UDMTkA7KIgMRGIGGM0SIrRGjRlhEV4jxov8rR/5YRFhEdQSViCsR5iRJWIKxPlgQYgSViSsR5WJMQJLC78IiKERF4REeERGEREERHwMRGOBmIRhERhERAwRAYiEQGIhGBmIRAajkgG5TEEREDBHwYIwYI4REXCIV/4MCmDArgwKAYUO/gYVCkGBUGBTgYUCsGBUIhUDCoUCIVBgVBgVBgUhEKQMKhUDCoUBgVAwoFAYFcGBQDI6oA5+qQiFAMjBUGBXCyEPIFkOH//PkZPMj6gr6AFdVwifkBdwAoC2Ilh5/8PPh5Qsih5IeUA0TAZrE8PP////wMRiIIqID8piAxEIwMxCMDEQjCIj//BiIDRo8Iogii/4MKwYVhEoESkDEiIGJEgYlfBgmDBIMEAYgSBiBIREAwSERH/8I7wPfuCO4I7v/8GBvAw3Bv/////gwN34RBuBg2BuBg2BuBg2BuEQbhEG+EQbAwG4MBtwiDaDAbhEGwMBuDAbAwG4GDYG8DBsDcDBuNwDRWDcIg2AwbA34RBv///CINvCINgMRIN/////wiG4DDeG+TEFNRTMuMTAwqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqq/zB4OLAP8rBxWDisHlYOKxb5WLTFgsMWiw18LDOnjPxZoxadDOgsLAtLAbKymVhsrDZWG/LAb8w2GywGysNlgNFgNGFwuBQuWnTZLToFFpisLJsFp0Cy0voFAQLFZkMCAQwIBCsC/5WBCwBCwBCwBCsCeVgUwIBCwBDEwEMCAQrAhgUClgCFgTlgCGJgJ5gQTGJwKWAKYFApgQTGBQL5kY0HMjQYnAhWJvKwIWAIVgQrApYAhWBPBgECIEBgE/8IgXhECQiBAMCkcDEwEwMCAQGAQIhoIhsGBsIhvgwN//PkZN4irgr2AAOVqiUThegAnCtMgwNwiG/8IhuDA1hENhENgYbKYHb2IBhoNhENAwN////8IhsDKZS////8IhuBhspgc0KQRDWEQ3///CNf4GAIMDAwgAwAAwhAwAwYAIgwiHBgAMAYGAAGHv///CIBqBqESDEIgRYGoGHBiDEIgGoGgMAYgxgwgxCIETwYFYMCoMCuDApBgU8DCoU//gY3G//wYFOBhUKBEKQYFfBgV8IhSEQoBkYK8IhT/wMKhXBgUCIU4RCoRCvgYVCsDCp3A1SqAYFAiFP////gY3G1TEFNRTMuMTAwVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVgwCAwCBEC///////8IgUIgWEQIBgUCAwTQMCAQDAoEhECAYFIwGaRMBotWAasdwH/KqBmhFgaKI4GRgKVpjCBTCBPMJHNMFMIFKwnlgJ5hUxhUwGWlpAMuMuWLTFpvQKQLQKLTIFJsoFIFFZb/8woQwoT///MIF8rC+WAphAphAppgpYClgsmwBC6bHoFFpUCi0wGXFguWCwFLgUsgX6BZaVNj0Ci03//+EQKEQKEQLCIFAxMBcDAgFAwIBQYBODAKBgUCAYEAuDAKBgUCAYFAgRAngwCgwCwiBIRAmE//PkZN4iogj2AFdVxiUrhewAhOkwQIBgQ0gbOI4GRhOBiYCgYEAv////CIFAyMBQYBf///CIF8IgUDAgFBgEAwIRwMCCcDEwFAwIBf///CIEQGMDGEXCKBpCIDCEQDCAsYInDFQMMAuYSoTQMVfBlf//+DKfBgAiGDAQMIMIgCIQYADAEGAgwP////8ItgNu2/8DAAAiABgHhECBgQGEQARA8GAeEQIMABECEQIMAwYBBgCDAARA4GAAgYACDAARAwiAgwDhED4RABEBCIGBgDoH2dgZwCBgAP//BhX/+DCiTEFNRTMuMTAwqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqF1ww////////hdeGGDDBhwjeF102E2fTYAowMLjE0zTDfyyMYjEDJTwMLSwFi0/gQLoFIFpsegWmyBQsWlQL9ApNgtIWn8tMgX6BaBX+WmQL9Nn02f9NktIgUgWmwWl9Avy06bCBSbJaUtImyWkQKLTIFgYWoFFpAKFwMLzZgwAwvLTIFlpU2fQLQK///4Yf4YaF1sLrg2DAuuDYNDDQw4NgwLrhh4XXC64Ng3C60MNwbB4XWC64YcMODYPCJYDlMQBlwRLg2DOF1v/////PkZM0eKgz0AE+UuCnLFfAAk3Fsg2DAYX/ww//4YaGGDDhdbDDACFwMuXA2DADlygusDYOBsGhhv//wNU/CKQusF1oXX+F1wuuGGC6wXWDDBdbC6wXXhHv//4AHIFgC0BZAA4Ba4FkADwFsC3AtQAOcC0BYAtgAcAA9+BYAsgW4FvgWOABwC1oq+it4RT0VVG0VFGkVywo1/RWU4U59TlFb1GvRX////QK9Nj/9AtNn02fTY9NhNlAr/QK//TYTZLSJsIFemx///oF/5aZNj02U2C0yBaBfoFAS6bKBfoFVTEFNRTMuMTAwVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVQiA8GAO/4RAf//////wYA4GAO+EQHAwB4GDoB4GA4HQRB0BhlDIBpEAcBgPDIBgPAeDAHIFAYuLTpspsJsFpi0haRApAtAstIYKClgF/ysF/ysE/ysF//LAJ6plTlYC1ZUypmqtWVK1VqyplSFgBaqqcwAAVIqcrEBAAKmMBERCQhwD5iICIQEyABMAABBVGXF4gIA4DLAAWAEQgLVSsBaq1ZUv+YKClgELAJ////5YBP//LAL5WC+Vgn+WAX/LT+gW//PkZMIhLgrsAFt1yiD7FiB6A9qwmwViybCbCbCBSBabCBSBabPpsegWmwWn9ApApApNgCGBmEwWlLSpsf////hEHgYOB3////4GDkiBxMHhEdgYOB4GDwcBg4HW23gooFYHd/+BnAz8O8Vv//FaBm4rBWh38es2zbAtD1m2PVBqBrBqBrAF7AF3/5el84MkuHTgyy+dL0dRnEajMIyOn8RsZ5HGG/kbIpHIkYUiD0y2WctlZaWSwrKx6FZbxnL54ul04eLhw9Ol84dl86cOHT3Ipb5Z8qKpVx6/j0EkLctVTEFNRTMuMTAwgWQLQAHgLf/////4Fn+EQESEcIgInCIRW9TkrCzH0YIjjWtI+YeCD0woLCBQwsKRWUaRVCBZFZRtRtFRTlTlThRtAr0C0C//02E2fTZQK/0Ck2f9TlFRTlTlFT/9TlFVFRFb/9ThThynIQbWkAREue5S11rKdlkDEVABh61ExYPU+tOD4MQgcn4iwigivxFRFoXDcRQLhoiwioXCeAkFBcNiL8RURQBIKEVEWiLBcKIqIpEXC4QReIoIpCIKAQMxFAFAsIuIr/4YYLr//ww4XWBgwC64XX/hhgw3hhwuv8MNhhguvhdcAUYgaYTAAoWDDg2DQbBg//PkZPYe6gzuADd1uDKsBhBAe89cYYdGjtDT2hDmlD2leaOv9oX0OX/0NNLplNf8ewakNWGrTfTRpphNJtfaeh7T1/tStdtTpqN532lpX/1/kmQ5eaf2hoaV9paGleJAvd0rer2pWu1ar2vk56vVrV5Hj1Nop+/lfv5Zpkem5kX/2vtata2rq783nbvtbW6VjW6a2rq13+rO6VysV58K7tbp0ru6Vrtqa1a67tr6sau1ulYrnfa2v927Vrt21NSuN5X927/D4diAQANh4gEIfxB+IQG/D/4gDw/iGIRD+HRATEFNRTMuMTAwqqqqqqqqqqqqqqqqqiIEK/ititFX///8VcVuK38VsVhXBOQTpq/qm8QCAcBmIxgdfFZCHECpxFBFAuFEUC4cLhsRTEVEUDVoDQD+KrFYirFX+KwKoVgVUVUVeKwGrhWRWBViqFYDV4rMViKyGroauBg/A0YThVgNAEVQqw1fisis4quKxxWYrAatxWIqoqg1dFYxVxWIrAavAaAArIrAqoqhWYrIqvxWMVYrARCADhcKoVYavDVgqhV4qorIrHFWKuKxFViscVUVYasAaAfFY/4YcMNhdfwuuGGC64YfDDA2DwusANygbBwAxhAECwNg8MOF1hD4//PkZOkc4g7yBjd1sDNkDhgqYwtcYoUyiQ0NCkxQ0NCQkSIbGKIyRGEo5mUaNEhGKEHMmaGhI0UokORvMmZmZSZSiMZQkRnKKZkzRoSNCQpQ0NEZoaNFJkhh3KOUJEhIcoSJCQkIzlDlEjMDMyMpQ0JCQzNCRGaNCRISEZoZihoaIwlEHKNGiMzFEjRmSIwlHMyZmcyiGyMxRyhIkIxRSZokSEYGBkiRojAPESNGjQxvKHMmMoSKTJCQkIwlFKLDYWGhoZhYWAAUGBsAwsMDYUAcK4XDPhQVwwLAH/DfgHC6TEFNRaqqBgjwYI//wYI/8GCL///+DBFhERgwRcIiPAzGYgMRKIDcskBgjAxEIwYI4GiRwNEjhFH4MRwYjA0aOEUf8Io/BiLgxGEUYRRQij/BiKDEYMR+DBGBiMRQiIgYIwiIwYIgiIgMRGIDUSjhEReEREBiIRAwR/wYI/8IiP4MEcGCIIiOERH8GCIIiMIiIIiODBHBgjBgjwiIoREcIiOEREDBFCKiAxHJcIiMGCMGCLwYI8IiPhERgwRAwRAYjEUIiIGCP/AxGIgiIsGCL//4REYMEXhERBERhExhExAzyAZiEWDBGERGeKsVsVRVFcVwTnFcVxVgnYqipFUV//PkZPkcfgzeAFaVxDgUBgAgatvIYrgnYqgnQJyK4riqK4rwTsVor4rQAjABAgnQritFSKoqQTsE5C1haxfF7F4XQtULSFqC1i4LwWkXIWkXRdF+LwqAnME4iqCdwToVuK+HAERWAkAlgJB0OB3Doc8OYc8VCsVgIB3DuHAERUAkAkHMOBwOAIisO4dwEAEAEg6AkAl4CeHA4AkKhXioBIOiv8OB3F+LgWkXxeF8XouxcF0XBeF8XBdF8XhdAdouC8AEsXYWsXOKsVBU/FaKmK/FTxXFbFUVPiv/8VfxXitVTEFNRTMuMTAwVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVAXX/8MN/wwwYf//DDBh4Yf/+DYODDfCIFAwKBQiaANFgUDAgFAwIBcADwFuBY/At8C1wLfgAdAtwLGBawLcC3AsgWeBYwLX4XW8LrBhgiFgMlhYLrhh4XWhdb8MOGGhdcMP4YaF1gw8LrwuvhhoYYLrYXWDDBdcGwfC60MN/ww8GwZ4XXC64GZQsF1wbBnDD4XXg2DcLrBdaDYPhhgusF1uGGC64YfhhoNg0LrQwwYcMNC62F1/g2DYXW4XXC6+GH8DTIW4YeB/wR/wjwR+DP/y06bJaRAtAtAtAs//PkZNwY2grqBFW1xDhTRegABLBstL6BRaVAstN5aYtN/psIFf5aQtIgWgUWk8tImyWkQL9Avy0qbKbKbJaf02f/0CkCy05adAsC3K7+mx5aVAv0C/TZ8tOmymwB2pspsFpPLSlpy0qbCBSBXlpk2E2E2C0paUtP6Bfpslp0CkCy0ibJaZAosWQLLTJsemwgUmz6BZaYtOgUWmLTpsJsoFJslpPLT+mwmz//6Bfpsf6BSBSbCBXoFeWk9NhNhAr0Cy0/+WnTZ8tJ/oFf6bP+myWn//8tMmz/lpf//////8sPTEFNRTMuMTAwVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVBgJwiCYMBP//gwE//////wiCAMEgkIggIqIDKpUCIIgwE8IzA4j+EYhGAZMIyDJA5gGRhGcIyDIhEQiIGAgwIRDwiAGAAwYMHBghGAZMGRCMhGYRgGRA5gIyDIwZPBk/wZIRmEY/gyOBxIMgIzCMgcTgwRBgjwYJBgngwTwYJhEQBiBGERMIrwOouAxAgGCQYIhERhEQDBGDBAREgwTCIgGCQYJgwSDBHwiI4MEAwSBiRHCIkGCYGJEQiI/Bgn4REYREeBiBIH6XhERhETwogoy04mpZibFmJuWYmx8n//PkZN4ZrgrkAFZUyDcjofgAA9qc0HafZ8HwNrjaG3xtjaDtJwTo+D55Ow7fxNRNSyLPlqJsAr/lmA/FmWYm5acTQVgTkVQTnBOQTgVxVBOBVFWK4J3FUE7gBABOwToVQTsVhUFcVRXBOhUBORWiuKkVYrCqK+KoqgnQrAnEV+K8E7FQE5xWBOQToVQTsVRW8V4qRUFYVgTsVhXioKgrCqKwqAnYqCtBOhUioK+CcisK8VRUFSKnirFQVBVFcE6FcVoJwKoqCrFXFUE7gnAqiuCcQTsE7xU8VP8VYrgnYrCuTEFNRTMuMTAwqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqn3/l/J/8vHL5f/BhwCETgGpIDOATgEIOFoDcHzgEIDgC+pG7eve1S/6tat7rXupDXSStWoIpGS4TSMQNIySMwpIyAaRkkZ8GJGdBtbwYkZ63tCKRkoIpGWDEjLCKRmEkjOvsEUjJOsIpGa6bOrgxIzsEkjIGJGYUkZVKCKRmqoDkgEjMJJGSYMSMAikZJ3qhp0dq9ru3X1I36FujPbXuxwKbr//waABfg0AC6DUDUDXBqBoAmQawJiGrhqDUGoN//PkZL8USgKcAAblrroTgfQAbhtQAag1QawaYNIAuQa12Lv9si7F2NnXa2Vsi7i/DZl2tlL9l+vL8tlUTUTUTUYQDIBlGUAyifqJKJqJ+p5Mf/U7TETEU7CxkxVO1PKdqeU8u4vq2ddnrsbM2Zs/tl9s67V2NlbIu5sgaA1Q14ExAmAaA0BrDVDXhpgTPDQGuBMA0gTKGgCYgTHDQGrDUGgNcNQaw1hoAmcNIaRIAtALVEgC1gteI8FpBaBIAtcRwkAWgFpBaILVBaIkAWgRwjhIiPEeDXwa/4NUGr+DRwaKBgX/8IhP//wiF8GBMGBP/wYEhEKEQmEQuDAoGFTAwLgwLhG/4MvCM8GSDJCNwZQOXg2DwbB8MPDDhhuGGBsHhh8Lrf4MCQYFCIUGJgiE8GBQMIFhELDDhdaGHhdYGwaGGDDhhuDYMBsHg2D8MMGHBsH8GwYDYMhEKEQgMCeDAsIhAiFBgQIhAYFhEKDAkGBMIhYGEC4GFCBELgYUKDAuEQsGBQMKEwiEBgUGBcIhQYFwYFAwgWDAoRC8GBAYE4RCgwKEQvhEJgYUIBhQkIhAiECIUGBIMC4RCgwJCIUGBAiFgaYLwiEA5cGXCNhGBGwZAw4Ng0MPBkqNqcoqorlh//PkZP8cygrkAFI0wjo7lfAAjhq4SnPor//psoFemygWmwWm/0C0Ci05adApNn/TZQLU5RU9FRFVFdTn1OFG1Gywv/UbUa9Ff0VoFgCwBbAtQLUCzAtgAchHAN8ImAbgBvwDd4RwjQDeAN8I0ImEQEQAbwRgiQjBHhHAN0A3vgG6Ab/CIhEgG5AN6EQESAbmEYI4RABvYRoRABuYRgDehEQiAiIRABvcA3QiQDfwjwDfCICPCJCJCJ4RwiYRwjBEwDehEYRgDfCNCOEQEQEcI+BagAd4FrAscCxAswLfwLAFgC1wLNVMQU1FMy4xMDBVVVVVVVVVBlBkwO3wZAZMIz//////+DJwO0IwI0DsA7cGUI34Rn4RgMuEZgywZQjAZP/hGAcmDKEYDIB28GQGQGXhGgcgRoMgRoHYBywZAZYMmBygyQYFCIUDChQYE4MCgaYJ/gwKEQsGBAiEBgXAwgQLrhdcGwcGHBsGA2Dgw4YYGwZC6/hdYMMF14YcLrYYcMPDDhdYGweF1oYb4MCwYEwYEgwJBgTCIQGBIRC/BgQDCBcIhAMKFhEKDAsGBQYFAwgTgwKDAoMCQiEgwIBhAnCIUGBQiFwiEBicIhAiFhEIgIoBooGieDPA+4GeDPCP//PkZOobXgrkAEY0jjazieQgBKKIBGgyBGhGhGgyAdoMmEaDIB2gyhGwZYMsI0GSDIEaDKB2QOWEaDKB2hGgygcoHYBygdkDtgygcngyAyhG4MgMgRgRmDJCNBkA7QjAZIRoRoMuByhGgyAyAyhGwZYHKByAcgMgRoHIEbCNCNA7fCNA7AZAO0GSEYEaDLA7cDthGgyAyAyQjAOwGUIyDKEYEaEYEYEaEbA5AZQZAZAZIMgRkGXBlBkCMgyAyQZYMngcmEb8GUGQIyDIBywZAZOEZhGBGwO2EbwjcI3hGYMqTEFNRTMuMTAwqqqqqqqqqqqqqqqqqqqqquDqz8GMDQIvBj///+DGDEGAMAifBj8IuEThFCIEQGPCLwiQYBFCKESDCETBhhGAZGEZ4MjgcSEY4GoRQigxCIEQGPCKBiBrgxwiBEwMIRAY4MQNMIkImDEGIRYMIRYRAYhFBjwYwNQYgwBgBh4GAMQiwYgxA0gahFBgBjgYBFhFhFCKEWBgEWEUGEIgMQYQMYRAMQigxhFBh4GkIgRIRYRAY4RIMQYgYhFA18IoMQYQihFhEgwhFCIDEGIRQieBiEUIoRQYhEwYDAFwGrBog0waAaQawacGsGiDQp9MZMVT3piJjJjK//PkZOYZBgjoaUJQ0DprofQgbhq0dep71PqeU69TpMdMVT6n1OlPKdJjpiKdFZkxlPKdJiJj+mKp/0xFPBoAmYaw0BpwJhDSBMQ1BqAmIEzDSGgNXDRDRhp+GsNMNAEyAmYagJkBMA1BpDXAmECZhoDXhqAmYawJjgTICZBrDSGsNAExDVDQGqGgNHDWBMIaQ0BrAmcCYgTHAmIEzDWGgNYaOBMw0BqDSBMYaA04aA1hqwJhw0ATKGqBM8NYEz4aQJkGoNMNIag1+GsCY+BMQJlDVw0cCYfDXw1ho4aQ0gTCTEFNRTMuMTAwqqoD37wjuhHf/////hGf////hHf/gycEZwRn4MnYMncIzsGTwOdOA507A507hGeEZ8GTuDJ4Rn4HPn4Mn4RnhGcDJwM3YM3gzdBm6DNwR3QjvA927Bm//Bm7Bm/Bm8GbgZvBm4GboR3gzeEd+DN8GbvBm6EZ+Bzp4Mn4HOnBGfA588IzsDnTgZPCM8Iz+EZ/CM4DnTgOdPBk8Iz4RJwGTidBi7AycTgiT4RJ8GE6ESdhEngZPJwGTieDCcESfwYToMJ3AycTwiTsDJ5OhEnwibwYb+ETdwibwibvCJuwYb/4RN/Btf/jYGyNv8bHLUtSzE0/LQBW//PkZPQcHgjQAFKVrjfDmgAge1eMLITcshNy1LX8si0LUTQtCyLQTUteWQmvLItSz4mgmnTJops0umEymDSPsnR9HwfB8k7Pvn0fAvwtcLXF/F+L4vQtQWuFoC0BaReF7AeBfwtcXBdF4XheFwXAtAui9C1haRdi6LwvirgnUE6FcVBVisKgrCvioK+KoqiqAhh3AQFXhwVYrFYCWHMOioVAI4dFWHPDgCAdDgdDmHcBIBEO+HRWAiKsBMO4dFQCAdATw6HBWHBWAgHBUHMOf/gICsOCoV4qw7+KxWHA6KhVTEFNRTMuMTAwVVVVVVVVVVVVVVVVVVVVC11Fz1+NP+/Xkqpr9OfuhQ6lZNWf+XsZc/si+KNoOj/Ntai9j7IISgZAklTqQhjToNTeQoreRdaSDODWvYAVFaWWkQmVuZPP8bRUzq896vc+XS6mm5gnnW7JLnV4z9N5XnW4k86x+uyHyxnWkmdborzraff2SvOtvljOtjd/5XRW8MivOsry/K3gUzrFPS1eFTOttTsul1+lLGdbV3c53h51mdbK7xPOr1SpnWlM63kedZnV4XPK86onnW7myrnWTmRTOqascoabXd/L+yuzS95dv1efjhl92ntYyTuIb6wuWRZFmWRa//PkZOcb/gqMACDf1LTLofggA9qc/gKRZiblqWYm3E24moSQnR9BJj6JwfBaFqWZZFoWvLUshNPxNuWn6bTZHgozRTSaNAY5oGjFQVgTkE6FUVorioK8VBXBO8VRUioAhxVioK4qAnIrYrCqKsVRVBORXBORVFcVcVwTgVBUBORUisK4rCoKwrxXFYE4FYVATjFcVhX4rcVBVFQV4rxVFSKwqCpFcV+K8VhXFYV4qivFUE4FaCdivBORUBOfBOgToE6FUVYqisKgqCtxWFbFQVxXisKgqRU4qioKuKwqCvxVBkH/4Mgf4Rg4RgfgxZBizhFYEVuDFvhFbBi3CKyEVsGLf/4MgAxaDFoGsWYMWgaxYBrFngxaDFnCKwIrAYswNas+DFgRWYGtWYMWBFZgxbgaxbgxZCKwGLIRWgxZCK2EVmDFmDFgMW4GtW8IrAYtBi3Bi0GLAYsCK0IrQit4MWeEVgRW+DFsI9cDW9AYtgxZhFaBrVgMWgxaDFvCKwIrIGtWhFaBrFuEVvBi3hFZA1i0IrYMWYMWAxaEVkGLAisCKzBizCK0DWrIRg+EYIRgQjABkHwODABkDhGDwODBgyAEYIRoRvww4YcKILYKILfhRg5htjY4OQbQ2hNAH8su//PkZP8cRgjWAFAUYjwDofQAi9pcJry1E1LUsuWvE2E0LQTcB+E2LMTctQFEEcWnFYVwTkAI4rRWFYE6BOhWwToBBAQgnIrisETANwIiAb/COEQEbgG+EcA38A3wjhGCMEeEaEeKoJwK4J2KoARBVBOIJ1FWKoJ0CcCuCdRWFcV4rioK4rAnYJ2K0V8VYr8E4xWFUVBVFQE6FXBORWFSKorxVFcVwToE5wTvBOoqwToVIJziuKwJxAQgnUVBUgnAqQCaCdxWirFaKwrRWFcE7FfFeK4rgnIrAnYrCoKoqgnAqCrip4qgnCr/////8Iu8BjvP4Ry5/8Izggc4Zw4RnD/hGcP8GThBk4eDJwgycIMnDwjOD4MnBA3eu9hF3kGO8gx3vBjvAN3jvMGO8CLvAY72DHeAbvXe+DHehF3kGO8gbvHeBF3oG713gG713vgx3oMd5BjvAi7wGO9A3eu8BjvMDd470Iu9wN3jvQY7wGO9wN3jvIRd4Bu9d6Bu9d6DHeAbvHewi7yEXecGO9BjvQN3rvIG7zykGO9A3eO9CLvYMd6EXegx3gG7x3kDd470Dd472DHewY7yDHeAKomwmhZFkAof8tCy4m5aCbcTUswFYsy0/LQTX9NBqBgJgYaY//PkZPcaTdCuAFgWlkI0DfQAe9r8Jxz6CShr8++JsArgjxNBNC0LQsyyLMsgRxallyyLIsi0LUTUtS0AVwFPia8si0LMTXiacsxNizLMTYTcsi1LMsy0E2LUsuJqJvxNyy/E1LMteWgm4mpZlkJuWRZFmWnLQTfgncVATkVcVQTsVIqQToVxWFeK4rwTmATCsCcAnQJyKoriqKwrxWiqKoqwToVRWBORWBOBVFSKgq4qAnAqAnArRVgnIJ3FYVQAgCriqK4qYqivBOsVoJwKgJ3FYVBWFfBOIqCoCcivipxUFSCd4qRV4rCvFaCc/BOhW8VxWFUVhX4r1eX/+DHgaYMOEX/CJgwwYQY8GODH/wYf4RAiQiAxCKBj4GAMYRQiwYcGEGMIoMfhECIBgEXAwCJhEA1BjhF+BhCIDEGARYGoRAYgxCLwYeESEUGMDEIoGAMAiAwBiBrCJ8GMGGEWEUGIRYMAYAxCKBiBgBqDDA1wiBEBiDAIsGIMANANMIoMAYhEBh4GMGMGARfAxBj8GAMANYRAYBFAwCIBhgYhEwNQMYGIRAMAiwNYRQi4RQYwYgahEBiBqBgESEUIqa6Z6bTBpGkmUwmkwaZpJlNCkifmkaaaBymgm0wmRPxSDTTa//PkZOYYTgboZUAQIkCEFgAAe898YTZpJtMJhNilphNdMJhMGgmemDSNJNmkaX6aNJN9MJhMc0E2mzSNJMpg0umU2mDS5oJlNJtNJnpg0DSTBoml0wmzTE8TRpGgm00mkzzRNNMJg0jQTSb/NFNdNGl02KTzRTfTPTSbTKZNLphNJpNmgmUymkwaaaTKZ/TSYTBoJr/ifptMpr9MJlNptMpg0kymumEwmf+mEwmOmkymTT5ppv80eaHTCYTHTSaNBNJtN80/0yaBoJo0k2aPTPNA0OaSaTJoplMJv9MgBAB4MBUGwbwVwUBkFAYDAU4NBoMBqhAELk//h/y1/vz6/6zMnEglwqnIsVSHBzAMMIqXiLgxS8ucoLCKl7VwipeupwYpeAxS8Z22hSl4U+qE1L2goKUva1GUJqXqwkpeAxS81IQpS8smBqXql6E1LyEVLxdEJqXoSUvAmpeJhFS8rpH3CKl6EVLxPWFKXgDUvVL1LCal4kuDFL2EVLxFlPClLyEVL2FKXhdwYpeswGpeqXkGKXqLAxS8wYpeqWk8KUvATUvQYpehJS9Bil6yoUpegipeZT2x1vN5NR2X3KrRuXjFmaS0AUCyE1BHflmWZacTYsvy05ZgAIs+WQCqJoWZ//PkZOwZ+gaYBgbm6EQMAfQAe9r8ZCbiaFkWv5ZibialoArlryyDtCSnyfR8hrE7PpNmiaIxDTGKafTJalqJoJoWQm4mnLUtSzE1LUsxNyy4mpZlqJpy14mgD8WpagKvLIEcJuWnLItBNhNhNxNgH8tSyLMTflmA/iaCaFqJqWf4mxZFmCdCvFWKwqivgnQJzFfwToAIwqgnOKgqCoK4J2KwqisKwJwKwqCqKgJwK4rYqirgnIJ2K8VhVwTmKorYrioK4JwKwrRWFQE5FUE6BOwTgV4qYqiuCdAnYqAnMVBVFUVATkVBVirioKoqCviuK8VwTjxWFfivFUVxXBOcVuKvFaKoqiuCdeEW3Bjb/gxvhFvCLYGN8GNwi3CLf8DbtuEW//CM7+DG+EW+DG8DbNgi3CLfA2zYItwY3gbZuDG8GT/Bk+DJ+DJ/hGdCM+EZwMnQZP8GT8GToRngc6dBk4IzwZOBk8GTvhGdBk+DG8Dbt8DbtgY2CLbBjYGNwi2A2zYDbN4RbhFtA2zcDbNwNu3CLaEW4RbeEW2DG8DbNwY3BjYDbNgY3A2zYItwi3CLbgbdvA27YGN/CLaDG4RbgxsDG4Rb8ItsI7oR3cGb00m0wmTT6aTZoJgUpMc0kwaa//PkZNcYqeLUAAAUHjw8DgQAe88cYTXTXNBpXiQdfLVpLJoaCSJs0TQNAbRpJpDWleaGlDmlfQ9fQ7tBZoa0IeOw3Ccq44TcHgrufDVzQNA0Om0wmDTNE0EymkymumU2mU0aSY6ZE8NFMmiaaYNDptMGn+aJpdNptNps0OmU0J50wNtMGmmEz/zQTJpppNplMJlM9M8FAYCoKAAApgqDIMACwAQbBsAMGQAQaCkGg0GgyCkGeCgNABwAAUgrwA+CoAQNAeHCAOAeAyIQHBwgDg4QYDAGgMEEOEAeA0Q4DxAHh0PEMGYMBsFQYDPgoDMGQV4NBqryAZfhGfwjMDl4Rv/wjcGT/4R/CPBH//hH4H3gzv4M7A+/gzoR4GdBnAf+DPBnwj4M7BnwivA1QIpCKcIpgaqDFgaqBogMWBqgGqgxQinA0XBi8IqEUCKBFcD7/CPwj0I+DPA/8GfBnQZ8I+EeCPwZ4R6EfhGcI0GSDIDJCNCMBkgdsIwGQDkBk4HIEZgy4RoHZwZQjcDtCMgcoRgRoRgHKDJBl4RgHIDKDIEYEaEZgyYMoRsIwGQGQIwGUGUI3A5AZMI2EaDLBlwjQZQjAjAZQoqIqqN+pypx/qNIqoqqNKNKcqchwGrCAPqN//PkZOsaCgjiBUZRnkhEBfAgw9tw+iu1RUqp2qNUNalOVG1GkV/U58sLU48sLLCiwFU4hAYA+qQQgasVhVIYQNWKwmAKpvasNoHIDm4OQHIDlGwNgbH4D+JuWQm4mhZFoJsWgm4I4TcbA2xtA5ODnGyNoHJ+NgHKDl/LMBXLUtS04mvLQteAqCaCbFoWQmha8bQ2Acg2ht8bI2RsjaGyNrjYGwNvjbByja/GxFYE4ipBOIrwTiK4J2KuK8BAK4rAnAJwKkE4FYE7FUVgEIqgIRVBO4qRXFQVBVBOMVwCcE5itBOoqAnQqCpBOIrxVBOoJ0KwJxgnQrCuKsVBXioCcCqCdAnYJyKsVYqipBOgjwiAj/8InhH4RMIkIioAC4RiJCMRP////CNk//Blkv4M6F8I9C/8GWT/8I2SwjZOEbJQZZIGWShGyYMsnwj0P///CPQ/hGyQRsn8I2SCNkgOyVkoMsnhGyQMslCNkoMsl4MsnhGyXCNk4MsmEbJ/wZZP8I2SA7JWTgyyQMiKDIieEYiAcRIihGIkIxFwZEUIxEA4iREgcRYihGIoHESIkDiJEUIxFwjEQIxEwZEWDIihGIoRiKEYiHcYJRIr9kzDmO5cIaApXE/NA0TTTKZGym/0//PkZMQWjdCsAwAWCsQ8Cfwoe89cyaXTKZACgKxsmybQFQCyPQPUbRtA9x6QAoegHKmRtClpk0RSkwaCYE/GyaaZ6ZFJTaaTCbTabTBomgmk2mxS0x0waSaTI2gcgOcT0T5MiedM9M9NCfCeGgNhMJlNJoT1MdNJhMjaNPptNGkmhtpnmgmv+KQmRSE0aaY6ZTKZTRoJg0U0aBopg0emU1/xPzTTaa5o80DRTZoJs0TRNEUhMikJs0P0x0wmkwmUymkwaKb5pppNJg0OaInhpGgmeaSbTBp9N/ptNJo0DTNAbOCkGAwGABgA4NgwAAAMAPBgAQKAyDAZgoCkFINAABWAEDAUBTAABgMBTgqACDcGAAQYDAUqLUlVt///+Bj4MIRcGH/hE//hEwY/wi8GPBj8GH8IgRcIv4RYMQi+DAIsIsIn8GHCLCJCJ/BhBgBpgwwifhFhEhF/gwCIDAGIMIMAMQYBFhFBgDH4GAMQiQNAYAwwYBECIAMIAMAAiHBgAMIAiAIg4MABgABhADAhEAGAARCBhCEQhEIMABh6EQAwIMABgCEQwMAQYD4MDCIcGACIQiHwYGDAhEOEQ4MAENB8hJD7PsnXJ0fZ98+D6LItQR3PgnZHmgPYYRopk0xj//PkZMkU/gLsKkITrkL0CfzIetvgJtNdNGkmkwCPLITf8s+WpaFmApAjgFUsyz49jSTCaGMmkyaRZlkJsWpaiagKBZlmWomh8c+CdcnROj4Pk+Akh9E6DsJ0fJ8c+OTs+idk4J2Tg+j7Pr8nB9nwfAa59k7598+D74Sk+eEkFQdDmKsOhwBEVYCeAiAmAiHcBEV4CYCIWmCHF6FqC0haRcF4XYvxfF2LwvC+FqC0xcC0C/FwLSFoF0XBfi7C0xei8LwvcLQLoWoXheC0BaIWoXBdiNiMY6cZ8RkZxnjqOojAz4zx0HUdBGozjoMw6iMjpxdi+L4uC5F/xd/haIui/bZ/+DGBp4RYMQYgw8Ivgw/CJ4RfBh/hECKBgEUGODH8InhFwY4GoMcIgRIMcInCIBrBhCIESESBp+DEGARfhEA1gxBjBj4RAYQYgxgYwiYRcIgMAiAwBjCJgYAawYYRQMQMAYhFgagYhEA0AxA1A1CJBhBgEXwMQNAihFhFAxwYAwgaYMPCJA1hEBiBrwYQiwYwiBFwYhFgxgawihFCLA0gYAwCKESBoBpCJ4MIRcGOEVB9ALR8BJj7/PonB9HyEoJwfZ9E4Dt5OeTnlqJtxNAH7nwfHPonJ8E759E6PoJI//PkZOAWKgjoZUAQYka0Ffgge9VcfZOCdE7J0To+Cc8JWTo+D7J0EqPoO0+T5PsJSfJ9n0TkJUfJOeTknPPo+z6J2Ts+ycE759/k7Pg+z5J2TonBOeTkJUTg+T5DtJ0Tvk5Pjk5DXPg+idH2HYfR9E6PgnR9k5JyfZ9cnR9cNYJSfROidE6Ps+Cdn0fB8E6DtPs+CdHwfH5OAlR8nyfB98+SdE4J0ff5OidH2TknfPkJMfYSg+Cd8+D6PsnP/JwTk++fYSQO0+D5J0fZ8HwTjn2AWDgdAL8ApALQCkO8GACwMgyAVBiAVhzwY4BeDIMgFMOh0ArDgc4BeAV4cgFsOhz/wP225HGw7wCsO4M8AqHP/+DEGQ7/8OgzgFoM4Bf4MhwO4BT4cDmHcGfDnw78GcVhUFTFXFeKoqYJ3isKuKkVgTsVoqCsKwrCoKsVQTqKorYWoXhfxeF/xdi58XOL4WmLnFYVQToE4FXiuK0VwTnFQVRVFcVhU4JzFfDgdhzBnDuHfALgyDAMQZBgGQCgBUAoDAMh3BkAsDMGcGAYgxBn+HAC0ArwCwMAS5adAry0yBSBfoFBVaKqKwVUVrRXUa9FUOEqVUjV3ySPLkvkzlNlNn02E2S06pvVKWACECpW//PkZN8VDgj+zymq5krb1ewAxJvkqe1XysDVFSqlVIo2o0ispyFVoqKNIrKcqNKcKcFhSjaKiKyKhYWiv6nCnCKijajSnPorKNKcKcqcIrqNoqKNqcKNoqKNKNqNKcIqKN//orf6BSbKbKBSBXlp0CvQKTYTZ/0C/LTxFxFoigioigCLC4cRYRWItEXC4cRcI0IoFwwXCiKwjQXC8LhRFcRcRQRSFwoikRcLhxFRFguHiKRF8E7FYVhVBOgCYVRUACKKgqgE0E6ACJFYVoJ0CcgnQrAnMVwTgE6ioKoRwDdhHhG4RARgDcCMEaEYIiAbwRIRuESEcIwRwiYRwjQjBEgWoFuBa4FngWkIQQigwhEwigx/CL/4RfCKEQGP/wYiEUwYHwYGDAwYAGA4RCEQBEGB0rCNcGU4RrBlcIsGGDCESBiEWDCBhCIEWBiDAGHCKEUGEGEGMIgMAiwigxCIDADQGIRfCIEQDXgYYRfBgBoESEXwY/CJCKEQIsGIRODEGIRQYgw8IgRYMMGAGGDEDGDAIoMcDQIkGMGGBrgwCKDAIsIkDUDWDGDDA1hE4RQMQYgwBhhFBhBh4MAMYRMIoRAiAxBjhF4mhZFpxNBNy0LQTUTXhKglR9FqWpaAP5Zi//PkZNYXkgTkGEJwlkXcDfQAe9r8bCa/k5JwTriacsizBHE6CSH1w7efHLPgjuJqWnLITYTX8tRNAH/ialqJuJuWZaFkCO4m5aE7J2TonB8E559nyEnJyfB8FmJrxNxNhNS1E3LT8sxNC0E0LTlqJuWQm3E15ZiaFqWRZiaCagP5aCblkKoqCsCdioKoqwToE6FcVwAhRWBOIrCpFbgnEVRVFUVIJ2K4rAnIqioKgrcV4riuK0E4FcVQTsVxUBOoJ3FUE7itFYE7FYVRXFUVwTkVoqAnYJxBO4rReF4XYWsLWLoui4LwuC9AdsLQL0LQA9C8Lgvi6LguBahfFwXAtIvQQ4vCqKwrxX/8E5xXit4JwKzBnwj+DF+F1guvBiQYkDRIR8I/gz8Gd4R/wYsGLBi8I8DPBneDPBnwZ/8I8DP8I8B/0Gd+DPA+8I/+Ef+DOgzvwj4R/hHoM+Ee4M4D74M+Ef/A/7gfcDPBn4R7BnfCPgz4M7Bngf8DPwjwR6B/3CPwj0Gfgz+EfBnhH8GfwioRQGIBqgRUDVAYoGiBFcIoBqoMWEUA1UDRYRUIqEUA1WBooGiAaqBogRUGJwigM8I/gz+DOCPwj/Bnwj3BnBHgZ4M4I+DOhHhNCz5aiaCb//PkZM0YugrgAAASBEUEBfQAe9rclmWompZ8shNyzLMsy1LMBUAfhNxNicBJCcE5J0JpyyLMTcBVLXloCO5aCagKACiAqflqWYmvE3E3BHlmArFnxNRNC1LUBS5aFoWhZFmWR8k5CTnxz4PonZ8E5Pg+j4LUshNQH4TYtSzLMshNBNhNSyAViyE0FQE4FYVoJ0CcRUgnYqisKoJxFWAhiuKgrCtFUE7FQE5iqKgqRVFWKorwTsVxVFYE7FTFTBOxVgnAqRXBOPisK4BOK0VoriuK0E5BOxUivFcE5FYE5FQVBXFQE6FQVBVFYVxWioCcCoLovi4LoWiL0LSL+LouBaIvBahdi6LoWgEMFoC1hacXxdC14uipiqKn8VPFbiqKsVb//Bm/+EXgx4RdhFb///hE1/8GLP//CKwIrQjoGa/wPewZqEdYM1wZqDNAetgzWEd8GagzYM2DN4M1wjoI7Bm+DNhHcD3rA9awZuEdwZvCOwjsGaA964M1A978I7hHQR0DNge98I6hHYR1wZrBmwPWgPWwZsI7wjqB63COvgzQR3BmwZsGaget8D3rCOgZoGa4R1gzYM0EdwZsI6CO+DN4R1wZsD3oGaBmwjqEdAzXCO/4R0DNAzYR0WgI8TQT//PkZL4XFgTcAE6Tekf8EfQAe9t8YTXiagKwCsJuWXLMTUtC1LMTT8TYTUJP+fAdomomoD8JuWoCgWoI7iaFkJqJqfZ8hrk4CSE5Pk+Cdk5PgnBOT7JwTg+uWZaiaCbcsgFAsy0LPlmJsWYmom5ZFmWpaibiaAjy15ZFkWQm5Zll+JsJqJvy1E0CThJz65OQlJ8H2TknZOT759k6J3z4PgTQTcsy0LITflmWfLUsiyLITYTcTT8syzLQsi0LMEcWZa8tSyE1LTibibFqWYI/8shNCyE1LQsy1LUTUBTLLloWXLUsiyLUtBN+JqJvy1E05Z8TcsxNeWn/LTnxydHwfZ9n1ydk4PsnHJyfR9E4JwTgnB8k4588nB9cnR8c+D7PjxV4q4r8VsVgTgE4/itFShX/xV4rirxVFWKoq4qfxX8E6xVxUBOYrCtwTvwTj/xV8E5/irBOsVuKwqRXFTFQVorCrFf/xWioKwrCtioCcxUFUVAToE4FUVxWFQVhUBO4rgnUVIJyKkVgToE4ipFUVoq4qisKsE64qCoCdxUFUVxXFUE78VxWFQV4qiuKgqiuK4CCK2KoqirBOATsE4FWK4qxVFUVhVFYE4gnIriuCcQTiK4rCoCdCtirBORUiqK2//PkZLAWsgzuADQNNkZj/fjIe9r8K/FXFUVwSE5aiaAKgmhaFpxNQkp8n3z5PsJOGsffLQsyyE1LItS1E1Af+CPLMTUTfibFmJoWQmxanzydHwTsnASknBaCalqWom5ZcsxNyc8nASsnHDt59BrhJgkpOicBKg7D7JyfZ8E5Pk+Cd8EeWXE0LQsiyLQtSyLIsi0LUTYsy0E3LITQshNiyLUsiy4I78shNy0LMVcE6ipgnArRVgncE4wTsVIrCqCcCtBOYrwTgE7iuKwqCoKwrcE7BOQTqKgqiqFpBEC1gPYD3F0X4WoLTF0Xxei6FqC0BaAtQWgXxdwtWFqC0haBW/FQVRUBOBUFcE6ioCcAnEVRX4rYrxWFUVBViuLsXgtAuC6FoBDBaYvi7F8XxexdF8XhcFyI//gx//CJBhgxhEwY/+EXwYgx8ImDH8GPhE8GPhEwigwhFwNQNQNfhE+DGDAGHCIBrhEhEBh4RQMAY/gYBFBhhEAxCIDCEUDEDHBiEUIoRQY+DCBp4McGEIgGgMcGIGMGIGIGgRQYgxCKBiBjBgDGESDADWBgEUDEIuDADWBpBiEUDEDDgYgwBgDEDQDUGIGgRAYQYAxCKBhCKEThEBgBiEUGIRQMQiQiwNAY//PkZKwWNgjoZUAQREakFfQAe9t8YMfwi4GBaFoJsWpaFlyyBHctCzE25ZiaFoAocsy1E24Sk+idk6LMTYTYTQsyyLUtCyLQTUswFYJMGuTg+CdHwErPotAFAsuJtxNCz4m4mvBHiafloWZZ8YppBqzTNI0jTNBMpg0jTTZZFqWfE3Af/xNf+WomhZ8suWZZCb8tC1LQtS14m/LQtBNhNOfR8hKCc8nHJ2EqCUE5CSHxydk6Pg+D7Ps+Sdk6LUTQTcTcTctSz4mwmha8TXlmJvyy5ZiaFl+WpZFoWZa8TQshNCz4mhalmJsWfLQsuWRactBNRNC1E1LLlly0E2PgJWfR8h2H2fJOSdnx+fXPs+T5PgNbnzz6Po+T7JwTk+z4PonROglJ84qCvxXxUirFX4q4qeCd1f8InCI/4R/CP//4RMI/CMEYI4RAR8I8IjCJ4REI/gG8ESEfCOERCP4R/+EaERCPCNCNCI4BvQjYRMHINobIOfjZBzDZG3xtja42gcw2PwcvG2Nng5+NgbY2wcn42htDYGwNrjYGwNsbX42vxscbI2gc3Bzg5Qcg2uNvjaGwNgbI2+Dl4OUbI2Qc42RsjbBy//g5eAboR4RwjQDeCP+EcI8IwBuwjwjBEBEA//PkZKoZMgrqADXt9EV8FfQAe9scG+EThEBGCMESESEbhEQjwjwjwjBHCIwiQDcCNCI/hHE0/LQBSLITf/lqWoSvk7LT8BWLMtRNAk58E7Po+CyLQTcsyyLUsi0Afi1LUTUTUtBNS05aFkWpZHzwkoSgnB9HwfQSsTYsizLQtRNRNgFf/8NcJWEmAWCdn0To+T4CUHyGtxNiyLT/lmJqJqJqWgmpZFqJsWgmwmwmwmv5ZiaibiactBNv/yyLTiaFkWZagKgCmJqWQmgmom3E0LTibAKfE0LLiuKgrYqipBO4JzFUE5BORXBOhVioKwqRWBOYJyKkE6BOIrYqCqCcxVxVFUV8E4FSCdcVgAgCuKkLTBDC6CHi+LwuRfha4uC+FpF8XQtAWgB2wtAWoXBchaBfwtQWnFSCdxVxXFUVhUFYV4rgnOK3wTiKir//1eDCsf//7/+wOYd///ei/f6lmiqGXpyOlCSRm+yP3UtDhFIzqBhwCFHAGFHABYGcAnAAMOAAYcAAw4BYKOAIROANgicAQYcABE4AAzgE4B+1wmcAwYcAK+sDOADgFLCJwAlWBnABwABnABwDWraETgEDOADgDBiRkgoJpGaP+64RSMoRSMGBiRkkwMSMlq7AxIy4//PkZJUYEgieBFw3fkL8FgAied8AROAAicA8DOATgAGHAAROAFwM4BOAGBhwADDgAGHANQUcAgicAYROAfgw4AIkbPNNNpo0TSNBNJgUs0l7lomEwmRSOaRp80zQFK4nvTInnTEGgwGwAwYmOmkyaInppJpMJg0k1+KUaaaTCb42U0mBsGiaSaNNNpo0OaKZNE0jTTSY5oGmaZpJrphM9MGkmDQTCZBzpg0OKR+mBtdMJobfTSbTfG2KSaBpGgaZomiaBomn02mOmkwmjSNPpjmmaKZNA0zSNFNCeClJkT40DTTCY5oJk0kyaJpdMppMdMdN80TR6ZTXTfNJNmimumem+aKZTKaTaaTRops0kwaZppk0+aSa6ZTKYTfTfTPTHTKa5omgmEyaJo9NmkaRp/pnmmaf6aNNMplMplMdMpv8TxMJlNplNJn9MdM1OM6hWa/EjiRiRiO/xIcSP+GgCZQ1+GvDRDV//4aP///4I8EwTwTBLwS/4AHgnBHBHgiwR4JgAgS4IwAYPA8ADg+AAAAFwfB4L4WADC2AGAGFwsFwuD2FgAcAPC+F/B8L4X/B7B4L4WwuD+AGDwXACAAC2D2AEFgfCwAAAAXB8LhcLeDwXCwPYPA+ACACD+AH4XwA//PkZJMVIgb2ejVLxkBMEgTIe898vwv4X/ACB/C4WwtgBg/gA4PA9gBeFhLRTXTRomkmP0yJ6J+mPy0NA0OvibNDQmfzTNNMjaFKNATxMiemiaRoGkmE2mkwmTRTHNBMGiaCZTSZTZomh0PaV9fX2hoX14kzSmOaCY5pJr80U0aPTfNFMps0jSNJMmiaSaTKb6aTKYNLphMpg0eaJoGkJ8aBoppMppMJg00xzTTabNFNJpNJpNpnpg0DT6bTRoppoJMWrSh/690NQ5paV5D2le/LND2hoQxDF/rzR1/r/aWhfaWleQxfXmheaevNDS0tLQ0ryGoch/X15D+vLy+0oc0ry/19DUOXuvIc0oav9oXkNX1/r3X18QCGHQGQHB8PiAPAaHgPDsBgcH+Hqv//+DJ0GNuEW4MbQY2wZO4Rn///4R34R3Qjv//8Gbv//8GbgZuwZvCO4GbsD37+Ed3A586DJ4Rn8DnToRn8GTsGT8GToRn4HOngyf4HOnBGeDJ0IzgjOCM8DnTwjOgydwOdP4RnYMncDbtwY2A27cItgNs3CLeDGwMbwY3CLaEWwRbQi3A27eDG0GN4G2bBFvA2zcItgY3A27YGN4G2bAxtA58/gc6eDJwHOnAyfCM7A588//PkZLMYngTSAFAUhEYcDfggw9V8DnzwOdOBk8IzuEZ4MnAyfgychsy7F3oE13Nl9sy7myrsL6qqOU5anCqkHqNDI3KVUTEU8GNU7U6gxyHKchyVV/Xa2Zspfds3rubK2VsjZmztk9djZi/TZV2NnXYu0vsm0yaBoDZNEbA2k0aKZNjmwbH/Nvm2bRtGyBVArD1G0bQPUevg9h6/+PRzZNkCrzZNgesegesermyPQPXzbHpNvm0PQPUPSbJs82TaHqAtj082h6DaNn8eo2DbHrHpNjj1m1zYHqNo2jYNnmwbPNgek2ja5sj0D1m0bJs80xtJlMdMCeps0U0meaaa6b5p/mmmU3zRTfNFN/pgHPzQNPmkaaaTXTKbTRoJk0zS6b/NBNdNJlNGj02aH6Z4IgAEEYJ4I+CMEQJcEUEXBOpHDX/w1Q0Q1Q1cNWGvw0Q0/hp/AmIaA0cCYhow0w1/w0hoDRhpw1w1BrgTLDXw1BrhrDQGgNQEzAmOGuGiGgNfgTHDQGoCZw1w0BrDWBMIEzDVDTDUGgNfAFwGjBrg1A1YNcGsAXAaQaABcBqg1g1QagaINYaoEyw1Bow1YaA1hoDSBMw1gTICYQJkGrDQGoNGGmGsNcNQawJkGuBM4aIa//PkZKAYngTsATQNQkKMFgDifh7AYagJkGsCZ+GkNWGiGsNAaYaOGgCYgTENQaw0Yaw1Q1Q0/hqw1BkAfmkaCb6ZTCY6bNBNLwmqGA5fzSTCb/lgwXOmMmMmTQ5pmkmUwmkymfzRTaZFJ6aNM002NrppMpg0kwKQmE2m0yKUaKaE95o9MJj9N9NJk0UymOaSaE/TabNNNmmmk2mU2aHTKZTCaNDjaTJoGimkyNvpk0TRTHTf6bTRopg001+mU0aXNBMjYNA0k2mjR5pfps0U100mUz0ym02mDRTHTaaTRpplMc0kz0ySA000mDSTKbNI002mzQTHTaYTf//NA0zQTBodNJk0UyKSaaZNJMprmkaP5oGmKUmEymUyaCbTHNBMJlN80DRNBMmkm/00mUwaZpprplNpvmiaJo80+aSa//TaY/6ZaH//wY4ReEX4RIMfwiAxBh/BhCJ/+ESDDwYcIn+EQIoMAiQYAw8IsGIGGETBj4MP4MQiAxhEAwAxAxBjBiEUIgMIMcDCDAGIMcGMDEGGBgEUDTwNfAx4MAiwiQYgwBgEUIgMIRAiQYhFwYAwBhA1CKDEIoGoGgMQi4MeDADGEQIkIgGMDCDAIoMAiQiAYwYYMQNQigwCJBiDEGAR//PkZJwV+gzoZUAQRkZsCfQAe9tcQYgx8GEGIMQiwMAY4MANAMcIoMSyE1E1/LMTUtCz5OD5PkJJz5Pk+uA/FqWRaib8TUTUTQtC05alqWYm4momgI8TYsxNCzE3LUtQFEsgFM+z6J0fB8nz+TsNcnB9BK+Tk+g7CdhJT6LTiaFqWYI7lqWoCvy05ZlnxNy0/LUshNBNvwR4moCj+Wv5ZlkJqWpalkCOE1E1LQsiyLITUBULLlqWZZlmJsWhZcsi1/4CiWpalkJqJuWvLXlkJsJpyy4mwm5ZlmJuWXLUTQteWgmgmwCsJoWfE3LMsiyLP8TTlkJuAolqJryzE1LTibCbloJuWhZFoWYmxZ8TcXIvxeC0i+FrF0B2i4L8LSL4uBaIDyCHF8XRfF6FqgiwtIuYWoXIrYqAncVvxVip8VIqCvUxPqtFbFf/4q/8V/8V/iririr8VATjxXipxWgnYq+KwqfFTFQVoq+KsVBW8VhUisKuK0VRXivFYE4FTBOhVFcVRV4riuCdCuCdCtwTiCcCqCcgnYqxWFcVIJwKsVxWisK8VxVgnArYqRWFeK0V4qgnQrgnYrfBOoqAnAq4J0CciqKviuK3BOoJyKsE4FUVoqisK2KwrAnArgBAFSK4//PkZJ0VagjyJgGtbkOkFfwAbh4AqRViuK4J0KgrCrFUVxVjOEeDQgjlcT4T40xtjaNI0uaI2QciGNJIl4kJZtCGIaSckIm6GL3TQ2zRTY2UwmjSNE0fxS02aY2BsJs0/+mzSE8TQpHTKZTaaG0aQpApZp/mmm+aHTfTCZGwNgUk0E0aRp/ilJlNJgT5MmkJ9zQNA0TQTH6ZG2mk0mk0mk3zQTKY/G3zQTHTabTBpGgmU0aKaTJpJpNJtMphNjYTfNE0emkymE2mEyaCbNBNfmkaJpdNJnpg0k0mDTTCbTaZTBp80k2aCbTfNE00yaCb6bTZoplMmmaKZTKaTJpmiaHTXNJNdMDbTab6Y6Z6ZNNMJhMJhN9NJrmim02m0ymU300aPTSa6Y//5pJpNdN/9NppxWxU4Jx/xWxU/xU4qcV/ipiuKwqxWFbioK/8VIqivFTwTkVgTkVor4JxFXxX8VcVxUFQE4FaCcwTvBOIqwToVuKwqCtFUVYqxXxWFeK0E7FQVYrwTnwTsV4rCqCcfFaCcRVFQE5gnAr4JyK4r4Jz4J0Koqip4rCvisKoJ3xWBOME7iuKgriuKgrAnAqgnArxXiqCcgnYJzFQVQTmAEIVYrwToAIYrwTiKkVQTkE5//PkZK4XGgzsADQNAkIcCfwAe898FXFTFYVxXxUFQVkzzS5oilg5TTTY2kyaJpJtNGgJ8aKaTQ2k2aCaNI0eaSYNJM/tKHEiQxfJG09MmgaSYTRppg0TRNNMJlMptMCfppNprmiaA2jQNLmmaRppk0jRFLNP9NJhMGmaQpZpJhNCkGkmE0J+mxSk0m0x02mjRTKbTCZ42EwaQpJpptNprmgaRpmim00J4mzSNM0kymkyKWmE0muaKYGwNjmgafTPNE0U0mUwJ7+mem01+J8mhSk2mjRTSb6aTCbNBM9MpjpjppMpk0E2mE2mE2mjSTfTaZ6YNFMcT1MpnprptNmim0wmE100aSaTRo9MGjzTTHTaaTfTSaNLpoFMAAFYNBQGwAvwAYM4NgqqkjaAN3d3d3etERNK5CZ/3Ctf8AaiAc/u7vaIn/+8XPv//+GDKv8W1/+AC8K4Yw+94xe940jgceOBwOcRaxGwH4EuNIjBfxazB8HhkwVjIAII/vDkjG/wAcJPeF5e98hNgSYLWMFvhZ73pX06aoehpmh01hMJtM9K3TKY9E10x+memvlIpZM9MUTCbShbUrtM+n5ophNZuXK+0wmemumMCemkmvc0Uwm/lJJlLe5oJZI0SyW6R0mE//PkZLcXlgrzECFvrEmMEfgAfh7k2aORpbTYUo9SBNsekGYNVKgqg6hrUXK4Q42DOwPWbILEzBSumEgkWJPU8S72G5wUuGDwguEKa1Q0UykS3Bn7FJNgg5qoEgpsGabBtGabZt7NrKCNgLYes1idmabBtm2bZsBRm0PQbF9mwPSPUBbMwzB6QojYM42ePTzbMwzR6TaNs1eBVNv81yDUJ2QYhJtD0m0PVe+x6T2M8HsbFwsh6B6D7HpugT2uZhO6HqZhmE7ISZhhkFNcghtmybBnnsD1Ho49ZtG2bZs5PVBc2EEepCaEHNjj1EJHq5smabZtmwbNEEPR+bJse9z2PY2T1SN0rdNJq6yXI06COvNJj9MGmkkGmUj7pI0TToNGlEsNEnCW10ymi5FtNFKpvps0kz0uW3aaTF00mTSzdNJu0KFYz1KjaGAhyoQCFGM//zFARgIUZ/oZpdCttay6M5drW1joSj6Ekk1b7J7R7aoQNlPrWBKLTTzOsGT5yYxLrtHTy2iUxEkES0HIBVD066VjGj31odPkkSjJtbWs6OIjKmlXHR9K5MTv5pdZolE10kk2lly74TFx5KTXeTGLrS6ExiucvJSSDUdXZm3NLn1rtYBCUEoRj77WOhCPc+g5//PkZJ8XPgzoAABMTrz8BfQyY9ONGxJULutaa1TE5LHxWEo+XecmMa3p0kqBCR6qOFaFUGpNJIIjqVi0ylBqJIkiSJIkmJj605EkSRJPetWAyVacmodBUVhGfrAZPF0AUrgRLNiqDU4VHo8h6HRObJJNdqlRBMFT0qdNE0WZhmay2tCuOY6oieWieianCnVSbzjd7SGhrLi6eUSeLcZTWqdML5PM50uOGJms9VqtYU6hrgrm4V0frUzTvYsiegR2FOkqUxSKdVCpmRCSkIAUZ4VPhqEKgFDU2VhUiIhUaIg0RAkTBYEjYBUbBMuCJgLAkCUBUinABgBE3/9EQqFRM0s0qzktk9ZFqqFC6RULE11JVDkd8Y1vVFOx9oUIpZ8Vnq5klkxBTUUzLjEwMKqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqq";var Hc=t=>t instanceof Date,tM=t=>t==null;const nM=t=>typeof t=="object";var KC=t=>!tM(t)&&!Array.isArray(t)&&nM(t)&&!Hc(t),HC=t=>tM(t)||!nM(t);function rM(t,e){if(HC(t)||HC(e))return t===e;if(Hc(t)&&Hc(e))return t.getTime()===e.getTime();const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(const s of n){const i=t[s];if(!r.includes(s))return!1;if(s!=="ref"){const o=e[s];if(Hc(i)&&Hc(o)||KC(i)&&KC(o)||Array.isArray(i)&&Array.isArray(o)?!rM(i,o):i!==o)return!1}}return!0}const SQ={facingMode:"environment",width:{min:640,ideal:720,max:1920},height:{min:640,ideal:720,max:1080}},IQ={finder:!0,torch:!0,tracker:void 0,onOff:!1,zoom:!1},RQ={width:"100%",height:"100%",position:"relative",display:"flex",alignItems:"center",justifyContent:"center",overflow:"hidden",aspectRatio:"1/1"},NQ={width:"100%",height:"100%",objectFit:"cover",overflow:"hidden"};function zh(t){if(t===null)throw new Error("Canvas should always be defined when component is mounted.");const e=t.getContext("2d");if(e===null)throw new Error("Canvas 2D context should be non-null");e.clearRect(0,0,t.width,t.height)}function PQ(t){var e;const{onScan:n,constraints:r,formats:s=["qr_code"],paused:i=!1,components:o,children:a,styles:c,classNames:u,allowMultiple:h,scanDelay:p,onError:f,sound:v}=t,x=g.useRef(null),y=g.useRef(null),w=g.useRef(null),T=g.useMemo(()=>({...SQ,...r}),[r]),E=g.useMemo(()=>({...IQ,...o}),[o]),[b,R]=g.useState(!1),[j,V]=g.useState(!0),[I,S]=g.useState(T),P=function(){const re=g.useRef(Promise.resolve({type:"stop",data:{}})),se=g.useRef(null),ue=g.useRef(null),[q,z]=g.useState({}),[Z,te]=g.useState({}),ae=g.useCallback(async(ie,ge)=>{var xe,Ee,Te;if(!window.isSecureContext)throw new Error("camera access is only permitted in secure context. Use HTTPS or localhost rather than HTTP.");if(((xe=navigator==null?void 0:navigator.mediaDevices)===null||xe===void 0?void 0:xe.getUserMedia)===void 0)throw new Error("this browser has no Stream API support");const Ce=await navigator.mediaDevices.getUserMedia({audio:!1,video:ge});ie.srcObject!==void 0?ie.srcObject=Ce:ie.mozSrcObject!==void 0?ie.mozSrcObject=Ce:window.URL.createObjectURL?ie.src=window.URL.createObjectURL(Ce):window.webkitURL?ie.src=window.webkitURL.createObjectURL(Ce):ie.src=Ce.id,await Promise.race([ie.play(),new Promise(ve=>setTimeout(ve,3e3)).then(()=>{throw new Error("Loading camera stream timed out after 3 seconds.")})]),await new Promise(ve=>setTimeout(ve,500));const[he]=Ce.getVideoTracks();return te(he.getSettings()),z((Te=(Ee=he==null?void 0:he.getCapabilities)===null||Ee===void 0?void 0:Ee.call(he))!==null&&Te!==void 0?Te:{}),se.current=Ce,ue.current=he,{type:"start",data:{videoEl:ie,stream:Ce,constraints:ge}}},[]),le=g.useCallback(async(ie,ge)=>{ie.src="",ie.srcObject=null,ie.load();for(const xe of ge.getTracks())ge.removeTrack(xe),xe.stop();return se.current=null,ue.current=null,te({}),{type:"stop",data:{}}},[]),Se=g.useCallback(async(ie,{constraints:ge,restart:xe=!1})=>{if(re.current=re.current.then(Ee=>{if(Ee.type==="start"){const{data:{videoEl:Te,stream:Ce,constraints:he}}=Ee;return xe||ie!==Te||ge!==he?le(Te,Ce).then(()=>ae(ie,ge)):Ee}return ae(ie,ge)}),(await re.current).type==="stop")throw new Error("Something went wrong with the camera task queue (start task).")},[ae,le]),ke=g.useCallback(async()=>{if(re.current=re.current.then(ie=>{if(ie.type==="stop")return ie;const{data:{videoEl:ge,stream:xe}}=ie;return le(ge,xe)}),(await re.current).type==="start")throw new Error("Something went wrong with the camera task queue (stop task).")},[le]),we=g.useCallback(async ie=>{const ge=ue.current;if(!ge)throw new Error("No active video track found.");{ie.advanced&&ie.advanced[0].zoom&&ge.getCapabilities().torch&&await ge.applyConstraints({advanced:[{torch:!1}]}),await ge.applyConstraints(ie);const xe=ge.getCapabilities(),Ee=ge.getSettings();z(xe),te(Ee)}},[]);return g.useEffect(()=>()=>{(async()=>await ke())()},[ke]),{capabilities:q,settings:Z,startCamera:Se,stopCamera:ke,updateConstraints:we}}(),{startScanning:k,stopScanning:O}=function(re){const{videoElementRef:se,onScan:ue,onFound:q,retryDelay:z=100,scanDelay:Z=0,formats:te=[],allowMultiple:ae=!1,sound:le=!0}=re,Se=g.useRef(new cv({formats:te})),ke=g.useRef(null),we=g.useRef(null);g.useEffect(()=>{Se.current=new cv({formats:te})},[te]),g.useEffect(()=>{typeof window<"u"&&le&&(ke.current=new Audio(typeof le=="string"?le:AQ))},[le]);const ie=g.useCallback(ge=>async xe=>{if(se.current!==null&&se.current.readyState>1){const{lastScan:Ee,contentBefore:Te,lastScanHadContent:Ce}=ge;if(xe-Ee<z)we.current=window.requestAnimationFrame(ie(ge));else{const he=await Se.current.detect(se.current),ve=he.some(et=>!Te.includes(et.rawValue)),gt=he.length>0;let at=ge.lastOnScan;(ve||ae&&gt&&xe-at>=Z)&&(le&&ke.current&&ke.current.paused&&ke.current.play().catch(et=>console.error("Error playing the sound",et)),at=xe,ue(he)),gt&&q(he),!gt&&Ce&&q(he);const Dt={lastScan:xe,lastOnScan:at,lastScanHadContent:gt,contentBefore:ve?he.map(et=>et.rawValue):Te};we.current=window.requestAnimationFrame(ie(Dt))}}},[se.current,ue,q,z]);return{startScanning:g.useCallback(()=>{const ge=performance.now(),xe={lastScan:ge,lastOnScan:ge,contentBefore:[],lastScanHadContent:!1};we.current=window.requestAnimationFrame(ie(xe))},[ie]),stopScanning:g.useCallback(()=>{we.current!==null&&(window.cancelAnimationFrame(we.current),we.current=null)},[])}}({videoElementRef:x,onScan:n,onFound:re=>function(se,ue,q,z){const Z=q;if(Z==null)throw new Error("onFound handler should only be called when component is mounted. Thus tracking canvas is always defined.");const te=ue;if(te==null)throw new Error("onFound handler should only be called when component is mounted. Thus video element is always defined.");if(se.length===0||z===void 0)zh(Z);else{const ae=te.offsetWidth,le=te.offsetHeight,Se=te.videoWidth,ke=te.videoHeight,we=Math.max(ae/Se,le/ke),ie=Se*we,ge=ke*we,xe=ie/Se,Ee=ge/ke,Te=(ae-ie)/2,Ce=(le-ge)/2,he=({x:Dt,y:et})=>({x:Math.floor(Dt*xe),y:Math.floor(et*Ee)}),ve=({x:Dt,y:et})=>({x:Math.floor(Dt+Te),y:Math.floor(et+Ce)}),gt=se.map(Dt=>{const{boundingBox:et,cornerPoints:yt}=Dt,{x:dn,y:Cr}=ve(he({x:et.x,y:et.y})),{x:gs,y:cr}=he({x:et.width,y:et.height});return{...Dt,cornerPoints:yt.map(ys=>ve(he(ys))),boundingBox:DOMRectReadOnly.fromRect({x:dn,y:Cr,width:gs,height:cr})}});Z.width=te.offsetWidth,Z.height=te.offsetHeight;const at=Z.getContext("2d");if(at===null)throw new Error("onFound handler should only be called when component is mounted. Thus tracking canvas 2D context is always defined.");z(gt,at)}}(re,x.current,w.current,E.tracker),formats:s,retryDelay:E.tracker===void 0?500:10,scanDelay:p,allowMultiple:h,sound:v});g.useEffect(()=>(R(!0),()=>{R(!1)}),[]),g.useEffect(()=>{b&&(O(),k())},[o==null?void 0:o.tracker]),g.useEffect(()=>{if(!rM(T,I)){const re=T;r!=null&&r.deviceId&&delete re.facingMode,S(re)}},[r]);const L=g.useMemo(()=>({constraints:I,shouldStream:b&&!i}),[I,b,i]),D=async()=>{const re=x.current;if(re==null)throw new Error("Video should be defined when component is mounted.");const se=y.current;if(se==null)throw new Error("Canvas should be defined when component is mounted.");const ue=se.getContext("2d");if(ue==null)throw new Error("Canvas should be defined when component is mounted.");if(L.shouldStream){await P.stopCamera(),V(!1);try{await P.startCamera(re,L),re?V(!0):await P.stopCamera()}catch(q){f==null||f(q),console.error("error",q)}}else se.width=re.videoWidth,se.height=re.videoHeight,ue.drawImage(re,0,0,re.videoWidth,re.videoHeight),await P.stopCamera(),V(!1)};g.useEffect(()=>{(async()=>await D())()},[L]);const X=g.useMemo(()=>L.shouldStream&&j,[L.shouldStream,j]);return g.useEffect(()=>{if(X){if(y.current===void 0)throw new Error("shouldScan effect should only be triggered when component is mounted. Thus pause frame canvas is defined");if(zh(y.current),w.current===void 0)throw new Error("shouldScan effect should only be triggered when component is mounted. Thus tracking canvas is defined");if(zh(w.current),x.current==null)throw new Error("shouldScan effect should only be triggered when component is mounted. Thus video element is defined");k()}},[X]),Q.createElement("div",{style:{...RQ,...c==null?void 0:c.container},className:u==null?void 0:u.container},Q.createElement("video",{ref:x,style:{...NQ,...c==null?void 0:c.video,visibility:i?"hidden":"visible"},className:u==null?void 0:u.video,autoPlay:!0,muted:!0,playsInline:!0}),Q.createElement("canvas",{ref:y,style:{display:i?"block":"none",position:"absolute",width:"100%",height:"100%"}}),Q.createElement("canvas",{ref:w,style:{position:"absolute",width:"100%",height:"100%"}}),Q.createElement("div",{style:{position:"absolute",width:"100%",height:"100%"}},E.finder&&Q.createElement(TQ,{scanning:j,capabilities:P.capabilities,onOff:E.onOff,zoom:E.zoom&&P.settings.zoom?{value:P.settings.zoom,onChange:async re=>{const se={...I,advanced:[{zoom:re}]};await P.updateConstraints(se)}}:void 0,torch:E.torch?{status:(e=P.settings.torch)!==null&&e!==void 0&&e,toggle:async re=>{const se={...I,advanced:[{torch:re}]};await P.updateConstraints(se)}}:void 0,startScanning:async()=>await D(),stopScanning:async()=>{await P.stopCamera(),zh(w.current),V(!1)}}),a))}const kQ=()=>{var f,v;const[t,e]=g.useState(null),[n,r]=g.useState(null),[s,i]=g.useState(!1),o=Qr(),a=Xs(),{addPurchase:c}=ms();g.useEffect(()=>{pt("page_view",{page:"Scan"})},[]);const u=async x=>{if(!s){i(!0),e(null),r(null);try{if(!Array.isArray(x)||!x[0]||typeof x[0].rawValue!="string")throw new Error("Invalid QR scan result format");const y=x[0].rawValue;pt("scan_qr_attempt",{rawValue:y});let w;try{w=JSON.parse(y)}catch{const V=y.split(":");if(V.length<3||V[0]!=="LOYALTY")throw pt("scan_qr_invalid",{rawValue:y}),new Error("Invalid QR code format");w={userEmail:V[1],userId:V[2],offerId:"default_offer"}}if(!w.userEmail||!w.userId)throw new Error("Invalid QR code data - missing user information");const T=an(Pt,"users",w.userId),E=await iw(tw(gd(Pt,"users"),Rb("email","==",w.userEmail),Rb("id","==",w.userId)));if(E.empty)throw pt("scan_qr_no_user",{email:w.userEmail,uid:w.userId}),new Error("No user found for this QR code");const R=E.docs[0].data();pt("scan_qr_success",{scanned_user:w.userEmail,scanned_uid:w.userId,offer_id:w.offerId}),w.action==="redeem_reward"&&w.rewardId?await dq(null,w.userEmail,w.userId,w.rewardId):await c(w.userEmail,w.userId,w.offerId),r(w.userEmail),e(!0);const j=await Gl(T);if(j.exists()){const V=j.data(),I=V.purchases||0;let S="";if(w.action==="redeem_reward")S=`Reward redeemed for ${w.userName}! 🎉`,pt("reward_redeemed",{scanned_user:w.userEmail,reward_id:w.rewardId});else if(S=`Stamp added for ${w.offerName||"loyalty program"}!`,S+=` Total purchases: ${I}`,w.offerId&&w.offerId!=="default_offer"){const P=V.currentOfferProgress||0,k=5,O=Math.max(0,k-P);P>=k?(S+=" - Offer completed! 🎉",pt("offer_completed",{scanned_user:w.userEmail,offer_id:w.offerId})):S+=` - ${O} more stamps needed for reward`}else{const P=V.purchaseLimit||5;if(I>=P)S+=" - Reward ready! 🎉",pt("reward_ready",{scanned_user:w.userEmail,scanned_uid:w.userId});else{const k=P-I;S+=` - ${k} more to earn reward`}}lt({title:"Success",description:S})}setTimeout(()=>{o("/dashboard")},1500)}catch(y){console.error("Error processing QR scan:",y);let w="Failed to process loyalty point";y instanceof Error&&(w=y.message),e(!1),lt({title:"Error",description:w,variant:"destructive"}),pt("scan_qr_error",{error:y.message})}finally{i(!1)}}},h=x=>{console.error("Scanner error:",x),e(!1),lt({title:"Scanner Error",description:"Camera error - please check permissions",variant:"destructive"}),pt("scan_qr_scanner_error",{error:String(x)})},p=()=>{e(null),r(null),i(!1)};return l.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-black via-gray-900 to-red-950 relative overflow-hidden",children:[l.jsxs("div",{className:"absolute inset-0 opacity-10",children:[l.jsx("div",{className:"absolute top-20 right-10 w-40 h-40 bg-red-500 rounded-full blur-3xl animate-pulse"}),l.jsx("div",{className:"absolute bottom-32 left-10 w-32 h-32 bg-red-600 rounded-full blur-3xl animate-pulse delay-1000"})]}),l.jsxs("div",{className:"relative z-10 min-h-screen flex flex-col",children:[l.jsx("div",{className:"bg-gray-900/80 backdrop-blur-sm border-b border-red-900/30 sticky top-0 z-10",children:l.jsx("div",{className:"p-6 flex items-center justify-between",children:l.jsxs("div",{className:"flex items-center",children:[l.jsx(Ks,{to:"/dashboard",className:"text-red-400 hover:text-red-300 transition-colors",children:l.jsx(Hl,{className:"w-6 h-6"})}),l.jsx("h1",{className:"ml-4 text-2xl font-bold text-white",children:"Scan Loyalty QR"})]})})}),l.jsx("div",{className:"flex-1 flex flex-col items-center justify-center px-6",children:l.jsxs("div",{className:"w-full max-w-md bg-gray-900/80 backdrop-blur-sm border border-red-900/30 rounded-2xl p-8 shadow-2xl flex flex-col items-center",children:[l.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"Scan a User's QR Code"}),!t&&l.jsxs("div",{className:"relative w-full flex flex-col items-center",children:[l.jsx("div",{style:{width:300,height:300,margin:"20px auto"},children:l.jsx(PQ,{onScan:u,onError:h})}),s&&l.jsx("div",{className:"absolute top-2 left-2 bg-blue-500 text-white text-xs px-2 py-1 rounded-full",children:"Processing..."})]}),t===!0&&l.jsxs("div",{className:"mt-6 p-6 bg-gradient-to-r from-green-900/50 to-emerald-900/50 border border-green-700 rounded-xl text-center shadow-2xl animate-pulse",children:[l.jsx("div",{className:"text-6xl mb-4",children:"🎉"}),l.jsx("div",{className:"text-2xl font-bold text-green-400 mb-2",children:"Stamp Added Successfully!"}),l.jsxs("div",{className:"text-lg text-green-300 mb-3",children:[n&&l.jsxs("div",{className:"mb-3",children:[l.jsx("span",{className:"text-green-400 font-semibold",children:n}),l.jsxs("span",{className:"text-green-300",children:[" ","has earned a stamp!"]})]}),((v=(f=a.state)==null?void 0:f.qrData)==null?void 0:v.offerName)&&l.jsxs("div",{className:"text-sm text-green-400 bg-green-900/30 px-3 py-1 rounded-full inline-block mb-2",children:["Offer: ",a.state.qrData.offerName]})]}),l.jsx("div",{className:"mt-4 text-xs text-green-500",children:"Redirecting to dashboard..."})]}),t===!1&&l.jsxs("div",{className:"mt-6 p-6 bg-gradient-to-r from-red-900/50 to-red-800/50 border border-red-700 rounded-xl text-center shadow-2xl",children:[l.jsx("div",{className:"text-6xl mb-4",children:"❌"}),l.jsx("div",{className:"text-2xl font-bold text-red-400 mb-2",children:"Scan Failed"}),l.jsx("div",{className:"text-lg text-red-300 mb-3",children:"There was an error processing the QR code"}),l.jsx("div",{className:"text-sm text-red-400 bg-red-900/30 px-3 py-1 rounded-full inline-block",children:"Please try scanning again"})]}),!t&&l.jsx("div",{className:"mt-6 flex gap-3",children:l.jsx(Ze,{onClick:p,disabled:!t,variant:"outline",className:"border-red-500 text-red-400 hover:bg-red-500/20",children:"Reset Scanner"})})]})})]})]})},MQ=new LU,jQ=()=>l.jsx(VU,{client:MQ,children:l.jsx(pU,{children:l.jsxs(pq,{children:[l.jsx(h8,{}),l.jsx(U8,{}),l.jsx(j7,{children:l.jsxs(S7,{children:[l.jsx(Hr,{path:"/",element:l.jsx(vq,{})}),l.jsx(Hr,{path:"/register",element:l.jsx(AC,{children:l.jsx(Eq,{})})}),l.jsx(Hr,{path:"/login",element:l.jsx(AC,{children:l.jsx(bq,{})})}),l.jsx(Hr,{path:"/dashboard",element:l.jsx(Oc,{children:l.jsx(Vz,{})})}),l.jsx(Hr,{path:"/rewards",element:l.jsx(Oc,{children:l.jsx(Bz,{})})}),l.jsx(Hr,{path:"/settings",element:l.jsx(Oc,{children:l.jsx(Uz,{})})}),l.jsx(Hr,{path:"/scan",element:l.jsx(Oc,{children:l.jsx(kQ,{})})}),l.jsx(Hr,{path:"/users",element:l.jsx(Oc,{requiredRole:"admin",children:l.jsx(CW,{})})}),l.jsx(Hr,{path:"*",element:l.jsx(_W,{})})]})})]})})});wA(document.getElementById("root")).render(l.jsx(jQ,{}));
