var nE=t=>{throw TypeError(t)};var ig=(t,e,n)=>e.has(t)||nE("Cannot "+n);var te=(t,e,n)=>(ig(t,e,"read from private field"),n?n.call(t):e.get(t)),et=(t,e,n)=>e.has(t)?nE("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),je=(t,e,n,r)=>(ig(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),hn=(t,e,n)=>(ig(t,e,"access private method"),n);var mh=(t,e,n,r)=>({set _(s){je(t,e,s,n)},get _(){return te(t,e,r)}});function a_(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function hv(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var l_={exports:{}},Dp={},c_={exports:{}},Fe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nd=Symbol.for("react.element"),TM=Symbol.for("react.portal"),AM=Symbol.for("react.fragment"),SM=Symbol.for("react.strict_mode"),IM=Symbol.for("react.profiler"),RM=Symbol.for("react.provider"),NM=Symbol.for("react.context"),PM=Symbol.for("react.forward_ref"),kM=Symbol.for("react.suspense"),MM=Symbol.for("react.memo"),jM=Symbol.for("react.lazy"),rE=Symbol.iterator;function DM(t){return t===null||typeof t!="object"?null:(t=rE&&t[rE]||t["@@iterator"],typeof t=="function"?t:null)}var u_={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},d_=Object.assign,h_={};function Yl(t,e,n){this.props=t,this.context=e,this.refs=h_,this.updater=n||u_}Yl.prototype.isReactComponent={};Yl.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Yl.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function f_(){}f_.prototype=Yl.prototype;function fv(t,e,n){this.props=t,this.context=e,this.refs=h_,this.updater=n||u_}var pv=fv.prototype=new f_;pv.constructor=fv;d_(pv,Yl.prototype);pv.isPureReactComponent=!0;var sE=Array.isArray,p_=Object.prototype.hasOwnProperty,mv={current:null},m_={key:!0,ref:!0,__self:!0,__source:!0};function g_(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)p_.call(e,r)&&!m_.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var c=Array(a),u=0;u<a;u++)c[u]=arguments[u+2];s.children=c}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:nd,type:t,key:i,ref:o,props:s,_owner:mv.current}}function OM(t,e){return{$$typeof:nd,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function gv(t){return typeof t=="object"&&t!==null&&t.$$typeof===nd}function LM(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var iE=/\/+/g;function og(t,e){return typeof t=="object"&&t!==null&&t.key!=null?LM(""+t.key):e.toString(36)}function Kh(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case nd:case TM:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+og(o,0):r,sE(s)?(n="",t!=null&&(n=t.replace(iE,"$&/")+"/"),Kh(s,e,n,"",function(u){return u})):s!=null&&(gv(s)&&(s=OM(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(iE,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",sE(t))for(var a=0;a<t.length;a++){i=t[a];var c=r+og(i,a);o+=Kh(i,e,n,c,s)}else if(c=DM(t),typeof c=="function")for(t=c.call(t),a=0;!(i=t.next()).done;)i=i.value,c=r+og(i,a++),o+=Kh(i,e,n,c,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function gh(t,e,n){if(t==null)return t;var r=[],s=0;return Kh(t,r,"","",function(i){return e.call(n,i,s++)}),r}function VM(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Dn={current:null},Hh={transition:null},FM={ReactCurrentDispatcher:Dn,ReactCurrentBatchConfig:Hh,ReactCurrentOwner:mv};function y_(){throw Error("act(...) is not supported in production builds of React.")}Fe.Children={map:gh,forEach:function(t,e,n){gh(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return gh(t,function(){e++}),e},toArray:function(t){return gh(t,function(e){return e})||[]},only:function(t){if(!gv(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Fe.Component=Yl;Fe.Fragment=AM;Fe.Profiler=IM;Fe.PureComponent=fv;Fe.StrictMode=SM;Fe.Suspense=kM;Fe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=FM;Fe.act=y_;Fe.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=d_({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=mv.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(c in e)p_.call(e,c)&&!m_.hasOwnProperty(c)&&(r[c]=e[c]===void 0&&a!==void 0?a[c]:e[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){a=Array(c);for(var u=0;u<c;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:nd,type:t.type,key:s,ref:i,props:r,_owner:o}};Fe.createContext=function(t){return t={$$typeof:NM,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:RM,_context:t},t.Consumer=t};Fe.createElement=g_;Fe.createFactory=function(t){var e=g_.bind(null,t);return e.type=t,e};Fe.createRef=function(){return{current:null}};Fe.forwardRef=function(t){return{$$typeof:PM,render:t}};Fe.isValidElement=gv;Fe.lazy=function(t){return{$$typeof:jM,_payload:{_status:-1,_result:t},_init:VM}};Fe.memo=function(t,e){return{$$typeof:MM,type:t,compare:e===void 0?null:e}};Fe.startTransition=function(t){var e=Hh.transition;Hh.transition={};try{t()}finally{Hh.transition=e}};Fe.unstable_act=y_;Fe.useCallback=function(t,e){return Dn.current.useCallback(t,e)};Fe.useContext=function(t){return Dn.current.useContext(t)};Fe.useDebugValue=function(){};Fe.useDeferredValue=function(t){return Dn.current.useDeferredValue(t)};Fe.useEffect=function(t,e){return Dn.current.useEffect(t,e)};Fe.useId=function(){return Dn.current.useId()};Fe.useImperativeHandle=function(t,e,n){return Dn.current.useImperativeHandle(t,e,n)};Fe.useInsertionEffect=function(t,e){return Dn.current.useInsertionEffect(t,e)};Fe.useLayoutEffect=function(t,e){return Dn.current.useLayoutEffect(t,e)};Fe.useMemo=function(t,e){return Dn.current.useMemo(t,e)};Fe.useReducer=function(t,e,n){return Dn.current.useReducer(t,e,n)};Fe.useRef=function(t){return Dn.current.useRef(t)};Fe.useState=function(t){return Dn.current.useState(t)};Fe.useSyncExternalStore=function(t,e,n){return Dn.current.useSyncExternalStore(t,e,n)};Fe.useTransition=function(){return Dn.current.useTransition()};Fe.version="18.3.1";c_.exports=Fe;var y=c_.exports;const Y=hv(y),v_=a_({__proto__:null,default:Y},[y]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var BM=y,UM=Symbol.for("react.element"),qM=Symbol.for("react.fragment"),GM=Object.prototype.hasOwnProperty,$M=BM.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,zM={key:!0,ref:!0,__self:!0,__source:!0};function x_(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)GM.call(e,r)&&!zM.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:UM,type:t,key:i,ref:o,props:s,_owner:$M.current}}Dp.Fragment=qM;Dp.jsx=x_;Dp.jsxs=x_;l_.exports=Dp;var l=l_.exports,w_={exports:{}},lr={},E_={exports:{}},b_={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(q,z){var se=q.length;q.push(z);e:for(;0<se;){var ne=se-1>>>1,le=q[ne];if(0<s(le,z))q[ne]=z,q[se]=le,se=ne;else break e}}function n(q){return q.length===0?null:q[0]}function r(q){if(q.length===0)return null;var z=q[0],se=q.pop();if(se!==z){q[0]=se;e:for(var ne=0,le=q.length,ue=le>>>1;ne<ue;){var Se=2*(ne+1)-1,ke=q[Se],we=Se+1,ie=q[we];if(0>s(ke,se))we<le&&0>s(ie,ke)?(q[ne]=ie,q[we]=se,ne=we):(q[ne]=ke,q[Se]=se,ne=Se);else if(we<le&&0>s(ie,se))q[ne]=ie,q[we]=se,ne=we;else break e}}return z}function s(q,z){var se=q.sortIndex-z.sortIndex;return se!==0?se:q.id-z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var c=[],u=[],h=1,f=null,p=3,v=!1,x=!1,g=!1,w=typeof setTimeout=="function"?setTimeout:null,T=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(q){for(var z=n(u);z!==null;){if(z.callback===null)r(u);else if(z.startTime<=q)r(u),z.sortIndex=z.expirationTime,e(c,z);else break;z=n(u)}}function R(q){if(g=!1,b(q),!x)if(n(c)!==null)x=!0,J(D);else{var z=n(u);z!==null&&oe(R,z.startTime-q)}}function D(q,z){x=!1,g&&(g=!1,T(S),S=-1),v=!0;var se=p;try{for(b(z),f=n(c);f!==null&&(!(f.expirationTime>z)||q&&!O());){var ne=f.callback;if(typeof ne=="function"){f.callback=null,p=f.priorityLevel;var le=ne(f.expirationTime<=z);z=t.unstable_now(),typeof le=="function"?f.callback=le:f===n(c)&&r(c),b(z)}else r(c);f=n(c)}if(f!==null)var ue=!0;else{var Se=n(u);Se!==null&&oe(R,Se.startTime-z),ue=!1}return ue}finally{f=null,p=se,v=!1}}var F=!1,I=null,S=-1,P=5,k=-1;function O(){return!(t.unstable_now()-k<P)}function L(){if(I!==null){var q=t.unstable_now();k=q;var z=!0;try{z=I(!0,q)}finally{z?j():(F=!1,I=null)}}else F=!1}var j;if(typeof E=="function")j=function(){E(L)};else if(typeof MessageChannel<"u"){var W=new MessageChannel,H=W.port2;W.port1.onmessage=L,j=function(){H.postMessage(null)}}else j=function(){w(L,0)};function J(q){I=q,F||(F=!0,j())}function oe(q,z){S=w(function(){q(t.unstable_now())},z)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(q){q.callback=null},t.unstable_continueExecution=function(){x||v||(x=!0,J(D))},t.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<q?Math.floor(1e3/q):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(q){switch(p){case 1:case 2:case 3:var z=3;break;default:z=p}var se=p;p=z;try{return q()}finally{p=se}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(q,z){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var se=p;p=q;try{return z()}finally{p=se}},t.unstable_scheduleCallback=function(q,z,se){var ne=t.unstable_now();switch(typeof se=="object"&&se!==null?(se=se.delay,se=typeof se=="number"&&0<se?ne+se:ne):se=ne,q){case 1:var le=-1;break;case 2:le=250;break;case 5:le=1073741823;break;case 4:le=1e4;break;default:le=5e3}return le=se+le,q={id:h++,callback:z,priorityLevel:q,startTime:se,expirationTime:le,sortIndex:-1},se>ne?(q.sortIndex=se,e(u,q),n(c)===null&&q===n(u)&&(g?(T(S),S=-1):g=!0,oe(R,se-ne))):(q.sortIndex=le,e(c,q),x||v||(x=!0,J(D))),q},t.unstable_shouldYield=O,t.unstable_wrapCallback=function(q){var z=p;return function(){var se=p;p=z;try{return q.apply(this,arguments)}finally{p=se}}}})(b_);E_.exports=b_;var WM=E_.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var QM=y,ar=WM;function ae(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var C_=new Set,gu={};function ha(t,e){Nl(t,e),Nl(t+"Capture",e)}function Nl(t,e){for(gu[t]=e,t=0;t<e.length;t++)C_.add(e[t])}var Bs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),a0=Object.prototype.hasOwnProperty,YM=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,oE={},aE={};function KM(t){return a0.call(aE,t)?!0:a0.call(oE,t)?!1:YM.test(t)?aE[t]=!0:(oE[t]=!0,!1)}function HM(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function JM(t,e,n,r){if(e===null||typeof e>"u"||HM(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function On(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var an={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){an[t]=new On(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];an[e]=new On(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){an[t]=new On(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){an[t]=new On(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){an[t]=new On(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){an[t]=new On(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){an[t]=new On(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){an[t]=new On(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){an[t]=new On(t,5,!1,t.toLowerCase(),null,!1,!1)});var yv=/[\-:]([a-z])/g;function vv(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(yv,vv);an[e]=new On(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(yv,vv);an[e]=new On(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(yv,vv);an[e]=new On(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){an[t]=new On(t,1,!1,t.toLowerCase(),null,!1,!1)});an.xlinkHref=new On("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){an[t]=new On(t,1,!1,t.toLowerCase(),null,!0,!0)});function xv(t,e,n,r){var s=an.hasOwnProperty(e)?an[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(JM(e,n,s,r)&&(n=null),r||s===null?KM(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Js=QM.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,yh=Symbol.for("react.element"),Qa=Symbol.for("react.portal"),Ya=Symbol.for("react.fragment"),wv=Symbol.for("react.strict_mode"),l0=Symbol.for("react.profiler"),__=Symbol.for("react.provider"),T_=Symbol.for("react.context"),Ev=Symbol.for("react.forward_ref"),c0=Symbol.for("react.suspense"),u0=Symbol.for("react.suspense_list"),bv=Symbol.for("react.memo"),yi=Symbol.for("react.lazy"),A_=Symbol.for("react.offscreen"),lE=Symbol.iterator;function Sc(t){return t===null||typeof t!="object"?null:(t=lE&&t[lE]||t["@@iterator"],typeof t=="function"?t:null)}var _t=Object.assign,ag;function Vc(t){if(ag===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);ag=e&&e[1]||""}return`
`+ag+t}var lg=!1;function cg(t,e){if(!t||lg)return"";lg=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var c=`
`+s[o].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=o&&0<=a);break}}}finally{lg=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Vc(t):""}function XM(t){switch(t.tag){case 5:return Vc(t.type);case 16:return Vc("Lazy");case 13:return Vc("Suspense");case 19:return Vc("SuspenseList");case 0:case 2:case 15:return t=cg(t.type,!1),t;case 11:return t=cg(t.type.render,!1),t;case 1:return t=cg(t.type,!0),t;default:return""}}function d0(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Ya:return"Fragment";case Qa:return"Portal";case l0:return"Profiler";case wv:return"StrictMode";case c0:return"Suspense";case u0:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case T_:return(t.displayName||"Context")+".Consumer";case __:return(t._context.displayName||"Context")+".Provider";case Ev:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case bv:return e=t.displayName||null,e!==null?e:d0(t.type)||"Memo";case yi:e=t._payload,t=t._init;try{return d0(t(e))}catch{}}return null}function ZM(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return d0(e);case 8:return e===wv?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Ki(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function S_(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function ej(t){var e=S_(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function vh(t){t._valueTracker||(t._valueTracker=ej(t))}function I_(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=S_(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function kf(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function h0(t,e){var n=e.checked;return _t({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function cE(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Ki(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function R_(t,e){e=e.checked,e!=null&&xv(t,"checked",e,!1)}function f0(t,e){R_(t,e);var n=Ki(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?p0(t,e.type,n):e.hasOwnProperty("defaultValue")&&p0(t,e.type,Ki(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function uE(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function p0(t,e,n){(e!=="number"||kf(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Fc=Array.isArray;function al(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Ki(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function m0(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(ae(91));return _t({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function dE(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(ae(92));if(Fc(n)){if(1<n.length)throw Error(ae(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Ki(n)}}function N_(t,e){var n=Ki(e.value),r=Ki(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function hE(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function P_(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function g0(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?P_(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var xh,k_=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(xh=xh||document.createElement("div"),xh.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=xh.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function yu(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Xc={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},tj=["Webkit","ms","Moz","O"];Object.keys(Xc).forEach(function(t){tj.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Xc[e]=Xc[t]})});function M_(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Xc.hasOwnProperty(t)&&Xc[t]?(""+e).trim():e+"px"}function j_(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=M_(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var nj=_t({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function y0(t,e){if(e){if(nj[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(ae(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(ae(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(ae(61))}if(e.style!=null&&typeof e.style!="object")throw Error(ae(62))}}function v0(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var x0=null;function Cv(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var w0=null,ll=null,cl=null;function fE(t){if(t=id(t)){if(typeof w0!="function")throw Error(ae(280));var e=t.stateNode;e&&(e=Bp(e),w0(t.stateNode,t.type,e))}}function D_(t){ll?cl?cl.push(t):cl=[t]:ll=t}function O_(){if(ll){var t=ll,e=cl;if(cl=ll=null,fE(t),e)for(t=0;t<e.length;t++)fE(e[t])}}function L_(t,e){return t(e)}function V_(){}var ug=!1;function F_(t,e,n){if(ug)return t(e,n);ug=!0;try{return L_(t,e,n)}finally{ug=!1,(ll!==null||cl!==null)&&(V_(),O_())}}function vu(t,e){var n=t.stateNode;if(n===null)return null;var r=Bp(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(ae(231,e,typeof n));return n}var E0=!1;if(Bs)try{var Ic={};Object.defineProperty(Ic,"passive",{get:function(){E0=!0}}),window.addEventListener("test",Ic,Ic),window.removeEventListener("test",Ic,Ic)}catch{E0=!1}function rj(t,e,n,r,s,i,o,a,c){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(h){this.onError(h)}}var Zc=!1,Mf=null,jf=!1,b0=null,sj={onError:function(t){Zc=!0,Mf=t}};function ij(t,e,n,r,s,i,o,a,c){Zc=!1,Mf=null,rj.apply(sj,arguments)}function oj(t,e,n,r,s,i,o,a,c){if(ij.apply(this,arguments),Zc){if(Zc){var u=Mf;Zc=!1,Mf=null}else throw Error(ae(198));jf||(jf=!0,b0=u)}}function fa(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function B_(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function pE(t){if(fa(t)!==t)throw Error(ae(188))}function aj(t){var e=t.alternate;if(!e){if(e=fa(t),e===null)throw Error(ae(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return pE(s),t;if(i===r)return pE(s),e;i=i.sibling}throw Error(ae(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(ae(189))}}if(n.alternate!==r)throw Error(ae(190))}if(n.tag!==3)throw Error(ae(188));return n.stateNode.current===n?t:e}function U_(t){return t=aj(t),t!==null?q_(t):null}function q_(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=q_(t);if(e!==null)return e;t=t.sibling}return null}var G_=ar.unstable_scheduleCallback,mE=ar.unstable_cancelCallback,lj=ar.unstable_shouldYield,cj=ar.unstable_requestPaint,Mt=ar.unstable_now,uj=ar.unstable_getCurrentPriorityLevel,_v=ar.unstable_ImmediatePriority,$_=ar.unstable_UserBlockingPriority,Df=ar.unstable_NormalPriority,dj=ar.unstable_LowPriority,z_=ar.unstable_IdlePriority,Op=null,is=null;function hj(t){if(is&&typeof is.onCommitFiberRoot=="function")try{is.onCommitFiberRoot(Op,t,void 0,(t.current.flags&128)===128)}catch{}}var Br=Math.clz32?Math.clz32:mj,fj=Math.log,pj=Math.LN2;function mj(t){return t>>>=0,t===0?32:31-(fj(t)/pj|0)|0}var wh=64,Eh=4194304;function Bc(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Of(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=Bc(a):(i&=o,i!==0&&(r=Bc(i)))}else o=n&~s,o!==0?r=Bc(o):i!==0&&(r=Bc(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Br(e),s=1<<n,r|=t[n],e&=~s;return r}function gj(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function yj(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-Br(i),a=1<<o,c=s[o];c===-1?(!(a&n)||a&r)&&(s[o]=gj(a,e)):c<=e&&(t.expiredLanes|=a),i&=~a}}function C0(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function W_(){var t=wh;return wh<<=1,!(wh&4194240)&&(wh=64),t}function dg(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function rd(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Br(e),t[e]=n}function vj(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-Br(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function Tv(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Br(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var st=0;function Q_(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Y_,Av,K_,H_,J_,_0=!1,bh=[],Di=null,Oi=null,Li=null,xu=new Map,wu=new Map,wi=[],xj="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function gE(t,e){switch(t){case"focusin":case"focusout":Di=null;break;case"dragenter":case"dragleave":Oi=null;break;case"mouseover":case"mouseout":Li=null;break;case"pointerover":case"pointerout":xu.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":wu.delete(e.pointerId)}}function Rc(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=id(e),e!==null&&Av(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function wj(t,e,n,r,s){switch(e){case"focusin":return Di=Rc(Di,t,e,n,r,s),!0;case"dragenter":return Oi=Rc(Oi,t,e,n,r,s),!0;case"mouseover":return Li=Rc(Li,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return xu.set(i,Rc(xu.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,wu.set(i,Rc(wu.get(i)||null,t,e,n,r,s)),!0}return!1}function X_(t){var e=Oo(t.target);if(e!==null){var n=fa(e);if(n!==null){if(e=n.tag,e===13){if(e=B_(n),e!==null){t.blockedOn=e,J_(t.priority,function(){K_(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Jh(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=T0(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);x0=r,n.target.dispatchEvent(r),x0=null}else return e=id(n),e!==null&&Av(e),t.blockedOn=n,!1;e.shift()}return!0}function yE(t,e,n){Jh(t)&&n.delete(e)}function Ej(){_0=!1,Di!==null&&Jh(Di)&&(Di=null),Oi!==null&&Jh(Oi)&&(Oi=null),Li!==null&&Jh(Li)&&(Li=null),xu.forEach(yE),wu.forEach(yE)}function Nc(t,e){t.blockedOn===e&&(t.blockedOn=null,_0||(_0=!0,ar.unstable_scheduleCallback(ar.unstable_NormalPriority,Ej)))}function Eu(t){function e(s){return Nc(s,t)}if(0<bh.length){Nc(bh[0],t);for(var n=1;n<bh.length;n++){var r=bh[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Di!==null&&Nc(Di,t),Oi!==null&&Nc(Oi,t),Li!==null&&Nc(Li,t),xu.forEach(e),wu.forEach(e),n=0;n<wi.length;n++)r=wi[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<wi.length&&(n=wi[0],n.blockedOn===null);)X_(n),n.blockedOn===null&&wi.shift()}var ul=Js.ReactCurrentBatchConfig,Lf=!0;function bj(t,e,n,r){var s=st,i=ul.transition;ul.transition=null;try{st=1,Sv(t,e,n,r)}finally{st=s,ul.transition=i}}function Cj(t,e,n,r){var s=st,i=ul.transition;ul.transition=null;try{st=4,Sv(t,e,n,r)}finally{st=s,ul.transition=i}}function Sv(t,e,n,r){if(Lf){var s=T0(t,e,n,r);if(s===null)Eg(t,e,r,Vf,n),gE(t,r);else if(wj(s,t,e,n,r))r.stopPropagation();else if(gE(t,r),e&4&&-1<xj.indexOf(t)){for(;s!==null;){var i=id(s);if(i!==null&&Y_(i),i=T0(t,e,n,r),i===null&&Eg(t,e,r,Vf,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else Eg(t,e,r,null,n)}}var Vf=null;function T0(t,e,n,r){if(Vf=null,t=Cv(r),t=Oo(t),t!==null)if(e=fa(t),e===null)t=null;else if(n=e.tag,n===13){if(t=B_(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Vf=t,null}function Z_(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(uj()){case _v:return 1;case $_:return 4;case Df:case dj:return 16;case z_:return 536870912;default:return 16}default:return 16}}var Pi=null,Iv=null,Xh=null;function eT(){if(Xh)return Xh;var t,e=Iv,n=e.length,r,s="value"in Pi?Pi.value:Pi.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return Xh=s.slice(t,1<r?1-r:void 0)}function Zh(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Ch(){return!0}function vE(){return!1}function cr(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Ch:vE,this.isPropagationStopped=vE,this}return _t(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ch)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ch)},persist:function(){},isPersistent:Ch}),e}var Kl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Rv=cr(Kl),sd=_t({},Kl,{view:0,detail:0}),_j=cr(sd),hg,fg,Pc,Lp=_t({},sd,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Nv,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Pc&&(Pc&&t.type==="mousemove"?(hg=t.screenX-Pc.screenX,fg=t.screenY-Pc.screenY):fg=hg=0,Pc=t),hg)},movementY:function(t){return"movementY"in t?t.movementY:fg}}),xE=cr(Lp),Tj=_t({},Lp,{dataTransfer:0}),Aj=cr(Tj),Sj=_t({},sd,{relatedTarget:0}),pg=cr(Sj),Ij=_t({},Kl,{animationName:0,elapsedTime:0,pseudoElement:0}),Rj=cr(Ij),Nj=_t({},Kl,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Pj=cr(Nj),kj=_t({},Kl,{data:0}),wE=cr(kj),Mj={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},jj={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Dj={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Oj(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Dj[t])?!!e[t]:!1}function Nv(){return Oj}var Lj=_t({},sd,{key:function(t){if(t.key){var e=Mj[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Zh(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?jj[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Nv,charCode:function(t){return t.type==="keypress"?Zh(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Zh(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Vj=cr(Lj),Fj=_t({},Lp,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),EE=cr(Fj),Bj=_t({},sd,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Nv}),Uj=cr(Bj),qj=_t({},Kl,{propertyName:0,elapsedTime:0,pseudoElement:0}),Gj=cr(qj),$j=_t({},Lp,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),zj=cr($j),Wj=[9,13,27,32],Pv=Bs&&"CompositionEvent"in window,eu=null;Bs&&"documentMode"in document&&(eu=document.documentMode);var Qj=Bs&&"TextEvent"in window&&!eu,tT=Bs&&(!Pv||eu&&8<eu&&11>=eu),bE=" ",CE=!1;function nT(t,e){switch(t){case"keyup":return Wj.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function rT(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ka=!1;function Yj(t,e){switch(t){case"compositionend":return rT(e);case"keypress":return e.which!==32?null:(CE=!0,bE);case"textInput":return t=e.data,t===bE&&CE?null:t;default:return null}}function Kj(t,e){if(Ka)return t==="compositionend"||!Pv&&nT(t,e)?(t=eT(),Xh=Iv=Pi=null,Ka=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return tT&&e.locale!=="ko"?null:e.data;default:return null}}var Hj={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function _E(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Hj[t.type]:e==="textarea"}function sT(t,e,n,r){D_(r),e=Ff(e,"onChange"),0<e.length&&(n=new Rv("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var tu=null,bu=null;function Jj(t){mT(t,0)}function Vp(t){var e=Xa(t);if(I_(e))return t}function Xj(t,e){if(t==="change")return e}var iT=!1;if(Bs){var mg;if(Bs){var gg="oninput"in document;if(!gg){var TE=document.createElement("div");TE.setAttribute("oninput","return;"),gg=typeof TE.oninput=="function"}mg=gg}else mg=!1;iT=mg&&(!document.documentMode||9<document.documentMode)}function AE(){tu&&(tu.detachEvent("onpropertychange",oT),bu=tu=null)}function oT(t){if(t.propertyName==="value"&&Vp(bu)){var e=[];sT(e,bu,t,Cv(t)),F_(Jj,e)}}function Zj(t,e,n){t==="focusin"?(AE(),tu=e,bu=n,tu.attachEvent("onpropertychange",oT)):t==="focusout"&&AE()}function e4(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Vp(bu)}function t4(t,e){if(t==="click")return Vp(e)}function n4(t,e){if(t==="input"||t==="change")return Vp(e)}function r4(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Gr=typeof Object.is=="function"?Object.is:r4;function Cu(t,e){if(Gr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!a0.call(e,s)||!Gr(t[s],e[s]))return!1}return!0}function SE(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function IE(t,e){var n=SE(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=SE(n)}}function aT(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?aT(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function lT(){for(var t=window,e=kf();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=kf(t.document)}return e}function kv(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function s4(t){var e=lT(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&aT(n.ownerDocument.documentElement,n)){if(r!==null&&kv(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=IE(n,i);var o=IE(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var i4=Bs&&"documentMode"in document&&11>=document.documentMode,Ha=null,A0=null,nu=null,S0=!1;function RE(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;S0||Ha==null||Ha!==kf(r)||(r=Ha,"selectionStart"in r&&kv(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),nu&&Cu(nu,r)||(nu=r,r=Ff(A0,"onSelect"),0<r.length&&(e=new Rv("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Ha)))}function _h(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Ja={animationend:_h("Animation","AnimationEnd"),animationiteration:_h("Animation","AnimationIteration"),animationstart:_h("Animation","AnimationStart"),transitionend:_h("Transition","TransitionEnd")},yg={},cT={};Bs&&(cT=document.createElement("div").style,"AnimationEvent"in window||(delete Ja.animationend.animation,delete Ja.animationiteration.animation,delete Ja.animationstart.animation),"TransitionEvent"in window||delete Ja.transitionend.transition);function Fp(t){if(yg[t])return yg[t];if(!Ja[t])return t;var e=Ja[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in cT)return yg[t]=e[n];return t}var uT=Fp("animationend"),dT=Fp("animationiteration"),hT=Fp("animationstart"),fT=Fp("transitionend"),pT=new Map,NE="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function co(t,e){pT.set(t,e),ha(e,[t])}for(var vg=0;vg<NE.length;vg++){var xg=NE[vg],o4=xg.toLowerCase(),a4=xg[0].toUpperCase()+xg.slice(1);co(o4,"on"+a4)}co(uT,"onAnimationEnd");co(dT,"onAnimationIteration");co(hT,"onAnimationStart");co("dblclick","onDoubleClick");co("focusin","onFocus");co("focusout","onBlur");co(fT,"onTransitionEnd");Nl("onMouseEnter",["mouseout","mouseover"]);Nl("onMouseLeave",["mouseout","mouseover"]);Nl("onPointerEnter",["pointerout","pointerover"]);Nl("onPointerLeave",["pointerout","pointerover"]);ha("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ha("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ha("onBeforeInput",["compositionend","keypress","textInput","paste"]);ha("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ha("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ha("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Uc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),l4=new Set("cancel close invalid load scroll toggle".split(" ").concat(Uc));function PE(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,oj(r,e,void 0,t),t.currentTarget=null}function mT(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],c=a.instance,u=a.currentTarget;if(a=a.listener,c!==i&&s.isPropagationStopped())break e;PE(s,a,u),i=c}else for(o=0;o<r.length;o++){if(a=r[o],c=a.instance,u=a.currentTarget,a=a.listener,c!==i&&s.isPropagationStopped())break e;PE(s,a,u),i=c}}}if(jf)throw t=b0,jf=!1,b0=null,t}function ft(t,e){var n=e[k0];n===void 0&&(n=e[k0]=new Set);var r=t+"__bubble";n.has(r)||(gT(e,t,2,!1),n.add(r))}function wg(t,e,n){var r=0;e&&(r|=4),gT(n,t,r,e)}var Th="_reactListening"+Math.random().toString(36).slice(2);function _u(t){if(!t[Th]){t[Th]=!0,C_.forEach(function(n){n!=="selectionchange"&&(l4.has(n)||wg(n,!1,t),wg(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Th]||(e[Th]=!0,wg("selectionchange",!1,e))}}function gT(t,e,n,r){switch(Z_(e)){case 1:var s=bj;break;case 4:s=Cj;break;default:s=Sv}n=s.bind(null,e,n,t),s=void 0,!E0||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function Eg(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;o=o.return}for(;a!==null;){if(o=Oo(a),o===null)return;if(c=o.tag,c===5||c===6){r=i=o;continue e}a=a.parentNode}}r=r.return}F_(function(){var u=i,h=Cv(n),f=[];e:{var p=pT.get(t);if(p!==void 0){var v=Rv,x=t;switch(t){case"keypress":if(Zh(n)===0)break e;case"keydown":case"keyup":v=Vj;break;case"focusin":x="focus",v=pg;break;case"focusout":x="blur",v=pg;break;case"beforeblur":case"afterblur":v=pg;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=xE;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=Aj;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=Uj;break;case uT:case dT:case hT:v=Rj;break;case fT:v=Gj;break;case"scroll":v=_j;break;case"wheel":v=zj;break;case"copy":case"cut":case"paste":v=Pj;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=EE}var g=(e&4)!==0,w=!g&&t==="scroll",T=g?p!==null?p+"Capture":null:p;g=[];for(var E=u,b;E!==null;){b=E;var R=b.stateNode;if(b.tag===5&&R!==null&&(b=R,T!==null&&(R=vu(E,T),R!=null&&g.push(Tu(E,R,b)))),w)break;E=E.return}0<g.length&&(p=new v(p,x,null,n,h),f.push({event:p,listeners:g}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",v=t==="mouseout"||t==="pointerout",p&&n!==x0&&(x=n.relatedTarget||n.fromElement)&&(Oo(x)||x[Us]))break e;if((v||p)&&(p=h.window===h?h:(p=h.ownerDocument)?p.defaultView||p.parentWindow:window,v?(x=n.relatedTarget||n.toElement,v=u,x=x?Oo(x):null,x!==null&&(w=fa(x),x!==w||x.tag!==5&&x.tag!==6)&&(x=null)):(v=null,x=u),v!==x)){if(g=xE,R="onMouseLeave",T="onMouseEnter",E="mouse",(t==="pointerout"||t==="pointerover")&&(g=EE,R="onPointerLeave",T="onPointerEnter",E="pointer"),w=v==null?p:Xa(v),b=x==null?p:Xa(x),p=new g(R,E+"leave",v,n,h),p.target=w,p.relatedTarget=b,R=null,Oo(h)===u&&(g=new g(T,E+"enter",x,n,h),g.target=b,g.relatedTarget=w,R=g),w=R,v&&x)t:{for(g=v,T=x,E=0,b=g;b;b=Fa(b))E++;for(b=0,R=T;R;R=Fa(R))b++;for(;0<E-b;)g=Fa(g),E--;for(;0<b-E;)T=Fa(T),b--;for(;E--;){if(g===T||T!==null&&g===T.alternate)break t;g=Fa(g),T=Fa(T)}g=null}else g=null;v!==null&&kE(f,p,v,g,!1),x!==null&&w!==null&&kE(f,w,x,g,!0)}}e:{if(p=u?Xa(u):window,v=p.nodeName&&p.nodeName.toLowerCase(),v==="select"||v==="input"&&p.type==="file")var D=Xj;else if(_E(p))if(iT)D=n4;else{D=e4;var F=Zj}else(v=p.nodeName)&&v.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(D=t4);if(D&&(D=D(t,u))){sT(f,D,n,h);break e}F&&F(t,p,u),t==="focusout"&&(F=p._wrapperState)&&F.controlled&&p.type==="number"&&p0(p,"number",p.value)}switch(F=u?Xa(u):window,t){case"focusin":(_E(F)||F.contentEditable==="true")&&(Ha=F,A0=u,nu=null);break;case"focusout":nu=A0=Ha=null;break;case"mousedown":S0=!0;break;case"contextmenu":case"mouseup":case"dragend":S0=!1,RE(f,n,h);break;case"selectionchange":if(i4)break;case"keydown":case"keyup":RE(f,n,h)}var I;if(Pv)e:{switch(t){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else Ka?nT(t,n)&&(S="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(S="onCompositionStart");S&&(tT&&n.locale!=="ko"&&(Ka||S!=="onCompositionStart"?S==="onCompositionEnd"&&Ka&&(I=eT()):(Pi=h,Iv="value"in Pi?Pi.value:Pi.textContent,Ka=!0)),F=Ff(u,S),0<F.length&&(S=new wE(S,t,null,n,h),f.push({event:S,listeners:F}),I?S.data=I:(I=rT(n),I!==null&&(S.data=I)))),(I=Qj?Yj(t,n):Kj(t,n))&&(u=Ff(u,"onBeforeInput"),0<u.length&&(h=new wE("onBeforeInput","beforeinput",null,n,h),f.push({event:h,listeners:u}),h.data=I))}mT(f,e)})}function Tu(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Ff(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=vu(t,n),i!=null&&r.unshift(Tu(t,i,s)),i=vu(t,e),i!=null&&r.push(Tu(t,i,s))),t=t.return}return r}function Fa(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function kE(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var a=n,c=a.alternate,u=a.stateNode;if(c!==null&&c===r)break;a.tag===5&&u!==null&&(a=u,s?(c=vu(n,i),c!=null&&o.unshift(Tu(n,c,a))):s||(c=vu(n,i),c!=null&&o.push(Tu(n,c,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var c4=/\r\n?/g,u4=/\u0000|\uFFFD/g;function ME(t){return(typeof t=="string"?t:""+t).replace(c4,`
`).replace(u4,"")}function Ah(t,e,n){if(e=ME(e),ME(t)!==e&&n)throw Error(ae(425))}function Bf(){}var I0=null,R0=null;function N0(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var P0=typeof setTimeout=="function"?setTimeout:void 0,d4=typeof clearTimeout=="function"?clearTimeout:void 0,jE=typeof Promise=="function"?Promise:void 0,h4=typeof queueMicrotask=="function"?queueMicrotask:typeof jE<"u"?function(t){return jE.resolve(null).then(t).catch(f4)}:P0;function f4(t){setTimeout(function(){throw t})}function bg(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),Eu(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Eu(e)}function Vi(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function DE(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Hl=Math.random().toString(36).slice(2),rs="__reactFiber$"+Hl,Au="__reactProps$"+Hl,Us="__reactContainer$"+Hl,k0="__reactEvents$"+Hl,p4="__reactListeners$"+Hl,m4="__reactHandles$"+Hl;function Oo(t){var e=t[rs];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Us]||n[rs]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=DE(t);t!==null;){if(n=t[rs])return n;t=DE(t)}return e}t=n,n=t.parentNode}return null}function id(t){return t=t[rs]||t[Us],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Xa(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(ae(33))}function Bp(t){return t[Au]||null}var M0=[],Za=-1;function uo(t){return{current:t}}function mt(t){0>Za||(t.current=M0[Za],M0[Za]=null,Za--)}function ut(t,e){Za++,M0[Za]=t.current,t.current=e}var Hi={},En=uo(Hi),Gn=uo(!1),Ho=Hi;function Pl(t,e){var n=t.type.contextTypes;if(!n)return Hi;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function $n(t){return t=t.childContextTypes,t!=null}function Uf(){mt(Gn),mt(En)}function OE(t,e,n){if(En.current!==Hi)throw Error(ae(168));ut(En,e),ut(Gn,n)}function yT(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(ae(108,ZM(t)||"Unknown",s));return _t({},n,r)}function qf(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Hi,Ho=En.current,ut(En,t),ut(Gn,Gn.current),!0}function LE(t,e,n){var r=t.stateNode;if(!r)throw Error(ae(169));n?(t=yT(t,e,Ho),r.__reactInternalMemoizedMergedChildContext=t,mt(Gn),mt(En),ut(En,t)):mt(Gn),ut(Gn,n)}var ks=null,Up=!1,Cg=!1;function vT(t){ks===null?ks=[t]:ks.push(t)}function g4(t){Up=!0,vT(t)}function ho(){if(!Cg&&ks!==null){Cg=!0;var t=0,e=st;try{var n=ks;for(st=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}ks=null,Up=!1}catch(s){throw ks!==null&&(ks=ks.slice(t+1)),G_(_v,ho),s}finally{st=e,Cg=!1}}return null}var el=[],tl=0,Gf=null,$f=0,mr=[],gr=0,Jo=null,Ms=1,js="";function Mo(t,e){el[tl++]=$f,el[tl++]=Gf,Gf=t,$f=e}function xT(t,e,n){mr[gr++]=Ms,mr[gr++]=js,mr[gr++]=Jo,Jo=t;var r=Ms;t=js;var s=32-Br(r)-1;r&=~(1<<s),n+=1;var i=32-Br(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,Ms=1<<32-Br(e)+s|n<<s|r,js=i+t}else Ms=1<<i|n<<s|r,js=t}function Mv(t){t.return!==null&&(Mo(t,1),xT(t,1,0))}function jv(t){for(;t===Gf;)Gf=el[--tl],el[tl]=null,$f=el[--tl],el[tl]=null;for(;t===Jo;)Jo=mr[--gr],mr[gr]=null,js=mr[--gr],mr[gr]=null,Ms=mr[--gr],mr[gr]=null}var rr=null,tr=null,Et=!1,Vr=null;function wT(t,e){var n=xr(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function VE(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,rr=t,tr=Vi(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,rr=t,tr=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Jo!==null?{id:Ms,overflow:js}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=xr(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,rr=t,tr=null,!0):!1;default:return!1}}function j0(t){return(t.mode&1)!==0&&(t.flags&128)===0}function D0(t){if(Et){var e=tr;if(e){var n=e;if(!VE(t,e)){if(j0(t))throw Error(ae(418));e=Vi(n.nextSibling);var r=rr;e&&VE(t,e)?wT(r,n):(t.flags=t.flags&-4097|2,Et=!1,rr=t)}}else{if(j0(t))throw Error(ae(418));t.flags=t.flags&-4097|2,Et=!1,rr=t}}}function FE(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;rr=t}function Sh(t){if(t!==rr)return!1;if(!Et)return FE(t),Et=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!N0(t.type,t.memoizedProps)),e&&(e=tr)){if(j0(t))throw ET(),Error(ae(418));for(;e;)wT(t,e),e=Vi(e.nextSibling)}if(FE(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(ae(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){tr=Vi(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}tr=null}}else tr=rr?Vi(t.stateNode.nextSibling):null;return!0}function ET(){for(var t=tr;t;)t=Vi(t.nextSibling)}function kl(){tr=rr=null,Et=!1}function Dv(t){Vr===null?Vr=[t]:Vr.push(t)}var y4=Js.ReactCurrentBatchConfig;function kc(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(ae(309));var r=n.stateNode}if(!r)throw Error(ae(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(ae(284));if(!n._owner)throw Error(ae(290,t))}return t}function Ih(t,e){throw t=Object.prototype.toString.call(e),Error(ae(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function BE(t){var e=t._init;return e(t._payload)}function bT(t){function e(T,E){if(t){var b=T.deletions;b===null?(T.deletions=[E],T.flags|=16):b.push(E)}}function n(T,E){if(!t)return null;for(;E!==null;)e(T,E),E=E.sibling;return null}function r(T,E){for(T=new Map;E!==null;)E.key!==null?T.set(E.key,E):T.set(E.index,E),E=E.sibling;return T}function s(T,E){return T=qi(T,E),T.index=0,T.sibling=null,T}function i(T,E,b){return T.index=b,t?(b=T.alternate,b!==null?(b=b.index,b<E?(T.flags|=2,E):b):(T.flags|=2,E)):(T.flags|=1048576,E)}function o(T){return t&&T.alternate===null&&(T.flags|=2),T}function a(T,E,b,R){return E===null||E.tag!==6?(E=Ng(b,T.mode,R),E.return=T,E):(E=s(E,b),E.return=T,E)}function c(T,E,b,R){var D=b.type;return D===Ya?h(T,E,b.props.children,R,b.key):E!==null&&(E.elementType===D||typeof D=="object"&&D!==null&&D.$$typeof===yi&&BE(D)===E.type)?(R=s(E,b.props),R.ref=kc(T,E,b),R.return=T,R):(R=af(b.type,b.key,b.props,null,T.mode,R),R.ref=kc(T,E,b),R.return=T,R)}function u(T,E,b,R){return E===null||E.tag!==4||E.stateNode.containerInfo!==b.containerInfo||E.stateNode.implementation!==b.implementation?(E=Pg(b,T.mode,R),E.return=T,E):(E=s(E,b.children||[]),E.return=T,E)}function h(T,E,b,R,D){return E===null||E.tag!==7?(E=zo(b,T.mode,R,D),E.return=T,E):(E=s(E,b),E.return=T,E)}function f(T,E,b){if(typeof E=="string"&&E!==""||typeof E=="number")return E=Ng(""+E,T.mode,b),E.return=T,E;if(typeof E=="object"&&E!==null){switch(E.$$typeof){case yh:return b=af(E.type,E.key,E.props,null,T.mode,b),b.ref=kc(T,null,E),b.return=T,b;case Qa:return E=Pg(E,T.mode,b),E.return=T,E;case yi:var R=E._init;return f(T,R(E._payload),b)}if(Fc(E)||Sc(E))return E=zo(E,T.mode,b,null),E.return=T,E;Ih(T,E)}return null}function p(T,E,b,R){var D=E!==null?E.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return D!==null?null:a(T,E,""+b,R);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case yh:return b.key===D?c(T,E,b,R):null;case Qa:return b.key===D?u(T,E,b,R):null;case yi:return D=b._init,p(T,E,D(b._payload),R)}if(Fc(b)||Sc(b))return D!==null?null:h(T,E,b,R,null);Ih(T,b)}return null}function v(T,E,b,R,D){if(typeof R=="string"&&R!==""||typeof R=="number")return T=T.get(b)||null,a(E,T,""+R,D);if(typeof R=="object"&&R!==null){switch(R.$$typeof){case yh:return T=T.get(R.key===null?b:R.key)||null,c(E,T,R,D);case Qa:return T=T.get(R.key===null?b:R.key)||null,u(E,T,R,D);case yi:var F=R._init;return v(T,E,b,F(R._payload),D)}if(Fc(R)||Sc(R))return T=T.get(b)||null,h(E,T,R,D,null);Ih(E,R)}return null}function x(T,E,b,R){for(var D=null,F=null,I=E,S=E=0,P=null;I!==null&&S<b.length;S++){I.index>S?(P=I,I=null):P=I.sibling;var k=p(T,I,b[S],R);if(k===null){I===null&&(I=P);break}t&&I&&k.alternate===null&&e(T,I),E=i(k,E,S),F===null?D=k:F.sibling=k,F=k,I=P}if(S===b.length)return n(T,I),Et&&Mo(T,S),D;if(I===null){for(;S<b.length;S++)I=f(T,b[S],R),I!==null&&(E=i(I,E,S),F===null?D=I:F.sibling=I,F=I);return Et&&Mo(T,S),D}for(I=r(T,I);S<b.length;S++)P=v(I,T,S,b[S],R),P!==null&&(t&&P.alternate!==null&&I.delete(P.key===null?S:P.key),E=i(P,E,S),F===null?D=P:F.sibling=P,F=P);return t&&I.forEach(function(O){return e(T,O)}),Et&&Mo(T,S),D}function g(T,E,b,R){var D=Sc(b);if(typeof D!="function")throw Error(ae(150));if(b=D.call(b),b==null)throw Error(ae(151));for(var F=D=null,I=E,S=E=0,P=null,k=b.next();I!==null&&!k.done;S++,k=b.next()){I.index>S?(P=I,I=null):P=I.sibling;var O=p(T,I,k.value,R);if(O===null){I===null&&(I=P);break}t&&I&&O.alternate===null&&e(T,I),E=i(O,E,S),F===null?D=O:F.sibling=O,F=O,I=P}if(k.done)return n(T,I),Et&&Mo(T,S),D;if(I===null){for(;!k.done;S++,k=b.next())k=f(T,k.value,R),k!==null&&(E=i(k,E,S),F===null?D=k:F.sibling=k,F=k);return Et&&Mo(T,S),D}for(I=r(T,I);!k.done;S++,k=b.next())k=v(I,T,S,k.value,R),k!==null&&(t&&k.alternate!==null&&I.delete(k.key===null?S:k.key),E=i(k,E,S),F===null?D=k:F.sibling=k,F=k);return t&&I.forEach(function(L){return e(T,L)}),Et&&Mo(T,S),D}function w(T,E,b,R){if(typeof b=="object"&&b!==null&&b.type===Ya&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case yh:e:{for(var D=b.key,F=E;F!==null;){if(F.key===D){if(D=b.type,D===Ya){if(F.tag===7){n(T,F.sibling),E=s(F,b.props.children),E.return=T,T=E;break e}}else if(F.elementType===D||typeof D=="object"&&D!==null&&D.$$typeof===yi&&BE(D)===F.type){n(T,F.sibling),E=s(F,b.props),E.ref=kc(T,F,b),E.return=T,T=E;break e}n(T,F);break}else e(T,F);F=F.sibling}b.type===Ya?(E=zo(b.props.children,T.mode,R,b.key),E.return=T,T=E):(R=af(b.type,b.key,b.props,null,T.mode,R),R.ref=kc(T,E,b),R.return=T,T=R)}return o(T);case Qa:e:{for(F=b.key;E!==null;){if(E.key===F)if(E.tag===4&&E.stateNode.containerInfo===b.containerInfo&&E.stateNode.implementation===b.implementation){n(T,E.sibling),E=s(E,b.children||[]),E.return=T,T=E;break e}else{n(T,E);break}else e(T,E);E=E.sibling}E=Pg(b,T.mode,R),E.return=T,T=E}return o(T);case yi:return F=b._init,w(T,E,F(b._payload),R)}if(Fc(b))return x(T,E,b,R);if(Sc(b))return g(T,E,b,R);Ih(T,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,E!==null&&E.tag===6?(n(T,E.sibling),E=s(E,b),E.return=T,T=E):(n(T,E),E=Ng(b,T.mode,R),E.return=T,T=E),o(T)):n(T,E)}return w}var Ml=bT(!0),CT=bT(!1),zf=uo(null),Wf=null,nl=null,Ov=null;function Lv(){Ov=nl=Wf=null}function Vv(t){var e=zf.current;mt(zf),t._currentValue=e}function O0(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function dl(t,e){Wf=t,Ov=nl=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(qn=!0),t.firstContext=null)}function br(t){var e=t._currentValue;if(Ov!==t)if(t={context:t,memoizedValue:e,next:null},nl===null){if(Wf===null)throw Error(ae(308));nl=t,Wf.dependencies={lanes:0,firstContext:t}}else nl=nl.next=t;return e}var Lo=null;function Fv(t){Lo===null?Lo=[t]:Lo.push(t)}function _T(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,Fv(e)):(n.next=s.next,s.next=n),e.interleaved=n,qs(t,r)}function qs(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var vi=!1;function Bv(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function TT(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Ls(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Fi(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,He&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,qs(t,n)}return s=r.interleaved,s===null?(e.next=e,Fv(r)):(e.next=s.next,s.next=e),r.interleaved=e,qs(t,n)}function ef(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Tv(t,n)}}function UE(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Qf(t,e,n,r){var s=t.updateQueue;vi=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var c=a,u=c.next;c.next=null,o===null?i=u:o.next=u,o=c;var h=t.alternate;h!==null&&(h=h.updateQueue,a=h.lastBaseUpdate,a!==o&&(a===null?h.firstBaseUpdate=u:a.next=u,h.lastBaseUpdate=c))}if(i!==null){var f=s.baseState;o=0,h=u=c=null,a=i;do{var p=a.lane,v=a.eventTime;if((r&p)===p){h!==null&&(h=h.next={eventTime:v,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var x=t,g=a;switch(p=e,v=n,g.tag){case 1:if(x=g.payload,typeof x=="function"){f=x.call(v,f,p);break e}f=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=g.payload,p=typeof x=="function"?x.call(v,f,p):x,p==null)break e;f=_t({},f,p);break e;case 2:vi=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,p=s.effects,p===null?s.effects=[a]:p.push(a))}else v={eventTime:v,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},h===null?(u=h=v,c=f):h=h.next=v,o|=p;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;p=a,a=p.next,p.next=null,s.lastBaseUpdate=p,s.shared.pending=null}}while(!0);if(h===null&&(c=f),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=h,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);Zo|=o,t.lanes=o,t.memoizedState=f}}function qE(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(ae(191,s));s.call(r)}}}var od={},os=uo(od),Su=uo(od),Iu=uo(od);function Vo(t){if(t===od)throw Error(ae(174));return t}function Uv(t,e){switch(ut(Iu,e),ut(Su,t),ut(os,od),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:g0(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=g0(e,t)}mt(os),ut(os,e)}function jl(){mt(os),mt(Su),mt(Iu)}function AT(t){Vo(Iu.current);var e=Vo(os.current),n=g0(e,t.type);e!==n&&(ut(Su,t),ut(os,n))}function qv(t){Su.current===t&&(mt(os),mt(Su))}var bt=uo(0);function Yf(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var _g=[];function Gv(){for(var t=0;t<_g.length;t++)_g[t]._workInProgressVersionPrimary=null;_g.length=0}var tf=Js.ReactCurrentDispatcher,Tg=Js.ReactCurrentBatchConfig,Xo=0,Ct=null,$t=null,Xt=null,Kf=!1,ru=!1,Ru=0,v4=0;function fn(){throw Error(ae(321))}function $v(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Gr(t[n],e[n]))return!1;return!0}function zv(t,e,n,r,s,i){if(Xo=i,Ct=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,tf.current=t===null||t.memoizedState===null?b4:C4,t=n(r,s),ru){i=0;do{if(ru=!1,Ru=0,25<=i)throw Error(ae(301));i+=1,Xt=$t=null,e.updateQueue=null,tf.current=_4,t=n(r,s)}while(ru)}if(tf.current=Hf,e=$t!==null&&$t.next!==null,Xo=0,Xt=$t=Ct=null,Kf=!1,e)throw Error(ae(300));return t}function Wv(){var t=Ru!==0;return Ru=0,t}function Xr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Xt===null?Ct.memoizedState=Xt=t:Xt=Xt.next=t,Xt}function Cr(){if($t===null){var t=Ct.alternate;t=t!==null?t.memoizedState:null}else t=$t.next;var e=Xt===null?Ct.memoizedState:Xt.next;if(e!==null)Xt=e,$t=t;else{if(t===null)throw Error(ae(310));$t=t,t={memoizedState:$t.memoizedState,baseState:$t.baseState,baseQueue:$t.baseQueue,queue:$t.queue,next:null},Xt===null?Ct.memoizedState=Xt=t:Xt=Xt.next=t}return Xt}function Nu(t,e){return typeof e=="function"?e(t):e}function Ag(t){var e=Cr(),n=e.queue;if(n===null)throw Error(ae(311));n.lastRenderedReducer=t;var r=$t,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,c=null,u=i;do{var h=u.lane;if((Xo&h)===h)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var f={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(a=c=f,o=r):c=c.next=f,Ct.lanes|=h,Zo|=h}u=u.next}while(u!==null&&u!==i);c===null?o=r:c.next=a,Gr(r,e.memoizedState)||(qn=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=c,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,Ct.lanes|=i,Zo|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Sg(t){var e=Cr(),n=e.queue;if(n===null)throw Error(ae(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);Gr(i,e.memoizedState)||(qn=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function ST(){}function IT(t,e){var n=Ct,r=Cr(),s=e(),i=!Gr(r.memoizedState,s);if(i&&(r.memoizedState=s,qn=!0),r=r.queue,Qv(PT.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||Xt!==null&&Xt.memoizedState.tag&1){if(n.flags|=2048,Pu(9,NT.bind(null,n,r,s,e),void 0,null),Zt===null)throw Error(ae(349));Xo&30||RT(n,e,s)}return s}function RT(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Ct.updateQueue,e===null?(e={lastEffect:null,stores:null},Ct.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function NT(t,e,n,r){e.value=n,e.getSnapshot=r,kT(e)&&MT(t)}function PT(t,e,n){return n(function(){kT(e)&&MT(t)})}function kT(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Gr(t,n)}catch{return!0}}function MT(t){var e=qs(t,1);e!==null&&Ur(e,t,1,-1)}function GE(t){var e=Xr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Nu,lastRenderedState:t},e.queue=t,t=t.dispatch=E4.bind(null,Ct,t),[e.memoizedState,t]}function Pu(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Ct.updateQueue,e===null?(e={lastEffect:null,stores:null},Ct.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function jT(){return Cr().memoizedState}function nf(t,e,n,r){var s=Xr();Ct.flags|=t,s.memoizedState=Pu(1|e,n,void 0,r===void 0?null:r)}function qp(t,e,n,r){var s=Cr();r=r===void 0?null:r;var i=void 0;if($t!==null){var o=$t.memoizedState;if(i=o.destroy,r!==null&&$v(r,o.deps)){s.memoizedState=Pu(e,n,i,r);return}}Ct.flags|=t,s.memoizedState=Pu(1|e,n,i,r)}function $E(t,e){return nf(8390656,8,t,e)}function Qv(t,e){return qp(2048,8,t,e)}function DT(t,e){return qp(4,2,t,e)}function OT(t,e){return qp(4,4,t,e)}function LT(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function VT(t,e,n){return n=n!=null?n.concat([t]):null,qp(4,4,LT.bind(null,e,t),n)}function Yv(){}function FT(t,e){var n=Cr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&$v(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function BT(t,e){var n=Cr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&$v(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function UT(t,e,n){return Xo&21?(Gr(n,e)||(n=W_(),Ct.lanes|=n,Zo|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,qn=!0),t.memoizedState=n)}function x4(t,e){var n=st;st=n!==0&&4>n?n:4,t(!0);var r=Tg.transition;Tg.transition={};try{t(!1),e()}finally{st=n,Tg.transition=r}}function qT(){return Cr().memoizedState}function w4(t,e,n){var r=Ui(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},GT(t))$T(e,n);else if(n=_T(t,e,n,r),n!==null){var s=jn();Ur(n,t,r,s),zT(n,e,r)}}function E4(t,e,n){var r=Ui(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(GT(t))$T(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,Gr(a,o)){var c=e.interleaved;c===null?(s.next=s,Fv(e)):(s.next=c.next,c.next=s),e.interleaved=s;return}}catch{}finally{}n=_T(t,e,s,r),n!==null&&(s=jn(),Ur(n,t,r,s),zT(n,e,r))}}function GT(t){var e=t.alternate;return t===Ct||e!==null&&e===Ct}function $T(t,e){ru=Kf=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function zT(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Tv(t,n)}}var Hf={readContext:br,useCallback:fn,useContext:fn,useEffect:fn,useImperativeHandle:fn,useInsertionEffect:fn,useLayoutEffect:fn,useMemo:fn,useReducer:fn,useRef:fn,useState:fn,useDebugValue:fn,useDeferredValue:fn,useTransition:fn,useMutableSource:fn,useSyncExternalStore:fn,useId:fn,unstable_isNewReconciler:!1},b4={readContext:br,useCallback:function(t,e){return Xr().memoizedState=[t,e===void 0?null:e],t},useContext:br,useEffect:$E,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,nf(4194308,4,LT.bind(null,e,t),n)},useLayoutEffect:function(t,e){return nf(4194308,4,t,e)},useInsertionEffect:function(t,e){return nf(4,2,t,e)},useMemo:function(t,e){var n=Xr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Xr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=w4.bind(null,Ct,t),[r.memoizedState,t]},useRef:function(t){var e=Xr();return t={current:t},e.memoizedState=t},useState:GE,useDebugValue:Yv,useDeferredValue:function(t){return Xr().memoizedState=t},useTransition:function(){var t=GE(!1),e=t[0];return t=x4.bind(null,t[1]),Xr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Ct,s=Xr();if(Et){if(n===void 0)throw Error(ae(407));n=n()}else{if(n=e(),Zt===null)throw Error(ae(349));Xo&30||RT(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,$E(PT.bind(null,r,i,t),[t]),r.flags|=2048,Pu(9,NT.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=Xr(),e=Zt.identifierPrefix;if(Et){var n=js,r=Ms;n=(r&~(1<<32-Br(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Ru++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=v4++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},C4={readContext:br,useCallback:FT,useContext:br,useEffect:Qv,useImperativeHandle:VT,useInsertionEffect:DT,useLayoutEffect:OT,useMemo:BT,useReducer:Ag,useRef:jT,useState:function(){return Ag(Nu)},useDebugValue:Yv,useDeferredValue:function(t){var e=Cr();return UT(e,$t.memoizedState,t)},useTransition:function(){var t=Ag(Nu)[0],e=Cr().memoizedState;return[t,e]},useMutableSource:ST,useSyncExternalStore:IT,useId:qT,unstable_isNewReconciler:!1},_4={readContext:br,useCallback:FT,useContext:br,useEffect:Qv,useImperativeHandle:VT,useInsertionEffect:DT,useLayoutEffect:OT,useMemo:BT,useReducer:Sg,useRef:jT,useState:function(){return Sg(Nu)},useDebugValue:Yv,useDeferredValue:function(t){var e=Cr();return $t===null?e.memoizedState=t:UT(e,$t.memoizedState,t)},useTransition:function(){var t=Sg(Nu)[0],e=Cr().memoizedState;return[t,e]},useMutableSource:ST,useSyncExternalStore:IT,useId:qT,unstable_isNewReconciler:!1};function jr(t,e){if(t&&t.defaultProps){e=_t({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function L0(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:_t({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Gp={isMounted:function(t){return(t=t._reactInternals)?fa(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=jn(),s=Ui(t),i=Ls(r,s);i.payload=e,n!=null&&(i.callback=n),e=Fi(t,i,s),e!==null&&(Ur(e,t,s,r),ef(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=jn(),s=Ui(t),i=Ls(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=Fi(t,i,s),e!==null&&(Ur(e,t,s,r),ef(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=jn(),r=Ui(t),s=Ls(n,r);s.tag=2,e!=null&&(s.callback=e),e=Fi(t,s,r),e!==null&&(Ur(e,t,r,n),ef(e,t,r))}};function zE(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!Cu(n,r)||!Cu(s,i):!0}function WT(t,e,n){var r=!1,s=Hi,i=e.contextType;return typeof i=="object"&&i!==null?i=br(i):(s=$n(e)?Ho:En.current,r=e.contextTypes,i=(r=r!=null)?Pl(t,s):Hi),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Gp,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function WE(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Gp.enqueueReplaceState(e,e.state,null)}function V0(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},Bv(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=br(i):(i=$n(e)?Ho:En.current,s.context=Pl(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(L0(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&Gp.enqueueReplaceState(s,s.state,null),Qf(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function Dl(t,e){try{var n="",r=e;do n+=XM(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function Ig(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function F0(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var T4=typeof WeakMap=="function"?WeakMap:Map;function QT(t,e,n){n=Ls(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Xf||(Xf=!0,K0=r),F0(t,e)},n}function YT(t,e,n){n=Ls(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){F0(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){F0(t,e),typeof r!="function"&&(Bi===null?Bi=new Set([this]):Bi.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function QE(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new T4;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=F4.bind(null,t,e,n),e.then(t,t))}function YE(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function KE(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Ls(-1,1),e.tag=2,Fi(n,e,1))),n.lanes|=1),t)}var A4=Js.ReactCurrentOwner,qn=!1;function Pn(t,e,n,r){e.child=t===null?CT(e,null,n,r):Ml(e,t.child,n,r)}function HE(t,e,n,r,s){n=n.render;var i=e.ref;return dl(e,s),r=zv(t,e,n,r,i,s),n=Wv(),t!==null&&!qn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Gs(t,e,s)):(Et&&n&&Mv(e),e.flags|=1,Pn(t,e,r,s),e.child)}function JE(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!nx(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,KT(t,e,i,r,s)):(t=af(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:Cu,n(o,r)&&t.ref===e.ref)return Gs(t,e,s)}return e.flags|=1,t=qi(i,r),t.ref=e.ref,t.return=e,e.child=t}function KT(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(Cu(i,r)&&t.ref===e.ref)if(qn=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(qn=!0);else return e.lanes=t.lanes,Gs(t,e,s)}return B0(t,e,n,r,s)}function HT(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},ut(sl,Xn),Xn|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,ut(sl,Xn),Xn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,ut(sl,Xn),Xn|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,ut(sl,Xn),Xn|=r;return Pn(t,e,s,n),e.child}function JT(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function B0(t,e,n,r,s){var i=$n(n)?Ho:En.current;return i=Pl(e,i),dl(e,s),n=zv(t,e,n,r,i,s),r=Wv(),t!==null&&!qn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Gs(t,e,s)):(Et&&r&&Mv(e),e.flags|=1,Pn(t,e,n,s),e.child)}function XE(t,e,n,r,s){if($n(n)){var i=!0;qf(e)}else i=!1;if(dl(e,s),e.stateNode===null)rf(t,e),WT(e,n,r),V0(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var c=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=br(u):(u=$n(n)?Ho:En.current,u=Pl(e,u));var h=n.getDerivedStateFromProps,f=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||c!==u)&&WE(e,o,r,u),vi=!1;var p=e.memoizedState;o.state=p,Qf(e,r,o,s),c=e.memoizedState,a!==r||p!==c||Gn.current||vi?(typeof h=="function"&&(L0(e,n,h,r),c=e.memoizedState),(a=vi||zE(e,n,a,r,p,c,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=c),o.props=r,o.state=c,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,TT(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:jr(e.type,a),o.props=u,f=e.pendingProps,p=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=br(c):(c=$n(n)?Ho:En.current,c=Pl(e,c));var v=n.getDerivedStateFromProps;(h=typeof v=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||p!==c)&&WE(e,o,r,c),vi=!1,p=e.memoizedState,o.state=p,Qf(e,r,o,s);var x=e.memoizedState;a!==f||p!==x||Gn.current||vi?(typeof v=="function"&&(L0(e,n,v,r),x=e.memoizedState),(u=vi||zE(e,n,u,r,p,x,c)||!1)?(h||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,x,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,x,c)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=x),o.props=r,o.state=x,o.context=c,r=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),r=!1)}return U0(t,e,n,r,i,s)}function U0(t,e,n,r,s,i){JT(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&LE(e,n,!1),Gs(t,e,i);r=e.stateNode,A4.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Ml(e,t.child,null,i),e.child=Ml(e,null,a,i)):Pn(t,e,a,i),e.memoizedState=r.state,s&&LE(e,n,!0),e.child}function XT(t){var e=t.stateNode;e.pendingContext?OE(t,e.pendingContext,e.pendingContext!==e.context):e.context&&OE(t,e.context,!1),Uv(t,e.containerInfo)}function ZE(t,e,n,r,s){return kl(),Dv(s),e.flags|=256,Pn(t,e,n,r),e.child}var q0={dehydrated:null,treeContext:null,retryLane:0};function G0(t){return{baseLanes:t,cachePool:null,transitions:null}}function ZT(t,e,n){var r=e.pendingProps,s=bt.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),ut(bt,s&1),t===null)return D0(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Wp(o,r,0,null),t=zo(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=G0(n),e.memoizedState=q0,t):Kv(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return S4(t,e,o,r,a,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,a=s.sibling;var c={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=c,e.deletions=null):(r=qi(s,c),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=qi(a,i):(i=zo(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?G0(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=q0,r}return i=t.child,t=i.sibling,r=qi(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Kv(t,e){return e=Wp({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Rh(t,e,n,r){return r!==null&&Dv(r),Ml(e,t.child,null,n),t=Kv(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function S4(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=Ig(Error(ae(422))),Rh(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=Wp({mode:"visible",children:r.children},s,0,null),i=zo(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&Ml(e,t.child,null,o),e.child.memoizedState=G0(o),e.memoizedState=q0,i);if(!(e.mode&1))return Rh(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(ae(419)),r=Ig(i,r,void 0),Rh(t,e,o,r)}if(a=(o&t.childLanes)!==0,qn||a){if(r=Zt,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,qs(t,s),Ur(r,t,s,-1))}return tx(),r=Ig(Error(ae(421))),Rh(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=B4.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,tr=Vi(s.nextSibling),rr=e,Et=!0,Vr=null,t!==null&&(mr[gr++]=Ms,mr[gr++]=js,mr[gr++]=Jo,Ms=t.id,js=t.overflow,Jo=e),e=Kv(e,r.children),e.flags|=4096,e)}function e1(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),O0(t.return,e,n)}function Rg(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function eA(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(Pn(t,e,r.children,n),r=bt.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&e1(t,n,e);else if(t.tag===19)e1(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(ut(bt,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&Yf(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),Rg(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&Yf(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}Rg(e,!0,n,null,i);break;case"together":Rg(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function rf(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Gs(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Zo|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(ae(153));if(e.child!==null){for(t=e.child,n=qi(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=qi(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function I4(t,e,n){switch(e.tag){case 3:XT(e),kl();break;case 5:AT(e);break;case 1:$n(e.type)&&qf(e);break;case 4:Uv(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;ut(zf,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(ut(bt,bt.current&1),e.flags|=128,null):n&e.child.childLanes?ZT(t,e,n):(ut(bt,bt.current&1),t=Gs(t,e,n),t!==null?t.sibling:null);ut(bt,bt.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return eA(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),ut(bt,bt.current),r)break;return null;case 22:case 23:return e.lanes=0,HT(t,e,n)}return Gs(t,e,n)}var tA,$0,nA,rA;tA=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};$0=function(){};nA=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,Vo(os.current);var i=null;switch(n){case"input":s=h0(t,s),r=h0(t,r),i=[];break;case"select":s=_t({},s,{value:void 0}),r=_t({},r,{value:void 0}),i=[];break;case"textarea":s=m0(t,s),r=m0(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Bf)}y0(n,r);var o;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var a=s[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(gu.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var c=r[u];if(a=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&c!==a&&(c!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&a[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(i||(i=[]),i.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,a=a?a.__html:void 0,c!=null&&a!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(gu.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&ft("scroll",t),i||a===c||(i=[])):(i=i||[]).push(u,c))}n&&(i=i||[]).push("style",n);var u=i;(e.updateQueue=u)&&(e.flags|=4)}};rA=function(t,e,n,r){n!==r&&(e.flags|=4)};function Mc(t,e){if(!Et)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function pn(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function R4(t,e,n){var r=e.pendingProps;switch(jv(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return pn(e),null;case 1:return $n(e.type)&&Uf(),pn(e),null;case 3:return r=e.stateNode,jl(),mt(Gn),mt(En),Gv(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Sh(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Vr!==null&&(X0(Vr),Vr=null))),$0(t,e),pn(e),null;case 5:qv(e);var s=Vo(Iu.current);if(n=e.type,t!==null&&e.stateNode!=null)nA(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(ae(166));return pn(e),null}if(t=Vo(os.current),Sh(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[rs]=e,r[Au]=i,t=(e.mode&1)!==0,n){case"dialog":ft("cancel",r),ft("close",r);break;case"iframe":case"object":case"embed":ft("load",r);break;case"video":case"audio":for(s=0;s<Uc.length;s++)ft(Uc[s],r);break;case"source":ft("error",r);break;case"img":case"image":case"link":ft("error",r),ft("load",r);break;case"details":ft("toggle",r);break;case"input":cE(r,i),ft("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},ft("invalid",r);break;case"textarea":dE(r,i),ft("invalid",r)}y0(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&Ah(r.textContent,a,t),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&Ah(r.textContent,a,t),s=["children",""+a]):gu.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&ft("scroll",r)}switch(n){case"input":vh(r),uE(r,i,!0);break;case"textarea":vh(r),hE(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Bf)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=P_(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[rs]=e,t[Au]=r,tA(t,e,!1,!1),e.stateNode=t;e:{switch(o=v0(n,r),n){case"dialog":ft("cancel",t),ft("close",t),s=r;break;case"iframe":case"object":case"embed":ft("load",t),s=r;break;case"video":case"audio":for(s=0;s<Uc.length;s++)ft(Uc[s],t);s=r;break;case"source":ft("error",t),s=r;break;case"img":case"image":case"link":ft("error",t),ft("load",t),s=r;break;case"details":ft("toggle",t),s=r;break;case"input":cE(t,r),s=h0(t,r),ft("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=_t({},r,{value:void 0}),ft("invalid",t);break;case"textarea":dE(t,r),s=m0(t,r),ft("invalid",t);break;default:s=r}y0(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var c=a[i];i==="style"?j_(t,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&k_(t,c)):i==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&yu(t,c):typeof c=="number"&&yu(t,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(gu.hasOwnProperty(i)?c!=null&&i==="onScroll"&&ft("scroll",t):c!=null&&xv(t,i,c,o))}switch(n){case"input":vh(t),uE(t,r,!1);break;case"textarea":vh(t),hE(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Ki(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?al(t,!!r.multiple,i,!1):r.defaultValue!=null&&al(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Bf)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return pn(e),null;case 6:if(t&&e.stateNode!=null)rA(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(ae(166));if(n=Vo(Iu.current),Vo(os.current),Sh(e)){if(r=e.stateNode,n=e.memoizedProps,r[rs]=e,(i=r.nodeValue!==n)&&(t=rr,t!==null))switch(t.tag){case 3:Ah(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Ah(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[rs]=e,e.stateNode=r}return pn(e),null;case 13:if(mt(bt),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Et&&tr!==null&&e.mode&1&&!(e.flags&128))ET(),kl(),e.flags|=98560,i=!1;else if(i=Sh(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(ae(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(ae(317));i[rs]=e}else kl(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;pn(e),i=!1}else Vr!==null&&(X0(Vr),Vr=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||bt.current&1?zt===0&&(zt=3):tx())),e.updateQueue!==null&&(e.flags|=4),pn(e),null);case 4:return jl(),$0(t,e),t===null&&_u(e.stateNode.containerInfo),pn(e),null;case 10:return Vv(e.type._context),pn(e),null;case 17:return $n(e.type)&&Uf(),pn(e),null;case 19:if(mt(bt),i=e.memoizedState,i===null)return pn(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)Mc(i,!1);else{if(zt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Yf(t),o!==null){for(e.flags|=128,Mc(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return ut(bt,bt.current&1|2),e.child}t=t.sibling}i.tail!==null&&Mt()>Ol&&(e.flags|=128,r=!0,Mc(i,!1),e.lanes=4194304)}else{if(!r)if(t=Yf(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Mc(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Et)return pn(e),null}else 2*Mt()-i.renderingStartTime>Ol&&n!==1073741824&&(e.flags|=128,r=!0,Mc(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=Mt(),e.sibling=null,n=bt.current,ut(bt,r?n&1|2:n&1),e):(pn(e),null);case 22:case 23:return ex(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Xn&1073741824&&(pn(e),e.subtreeFlags&6&&(e.flags|=8192)):pn(e),null;case 24:return null;case 25:return null}throw Error(ae(156,e.tag))}function N4(t,e){switch(jv(e),e.tag){case 1:return $n(e.type)&&Uf(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return jl(),mt(Gn),mt(En),Gv(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return qv(e),null;case 13:if(mt(bt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(ae(340));kl()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return mt(bt),null;case 4:return jl(),null;case 10:return Vv(e.type._context),null;case 22:case 23:return ex(),null;case 24:return null;default:return null}}var Nh=!1,vn=!1,P4=typeof WeakSet=="function"?WeakSet:Set,ye=null;function rl(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Rt(t,e,r)}else n.current=null}function z0(t,e,n){try{n()}catch(r){Rt(t,e,r)}}var t1=!1;function k4(t,e){if(I0=Lf,t=lT(),kv(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,c=-1,u=0,h=0,f=t,p=null;t:for(;;){for(var v;f!==n||s!==0&&f.nodeType!==3||(a=o+s),f!==i||r!==0&&f.nodeType!==3||(c=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(v=f.firstChild)!==null;)p=f,f=v;for(;;){if(f===t)break t;if(p===n&&++u===s&&(a=o),p===i&&++h===r&&(c=o),(v=f.nextSibling)!==null)break;f=p,p=f.parentNode}f=v}n=a===-1||c===-1?null:{start:a,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(R0={focusedElem:t,selectionRange:n},Lf=!1,ye=e;ye!==null;)if(e=ye,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ye=t;else for(;ye!==null;){e=ye;try{var x=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var g=x.memoizedProps,w=x.memoizedState,T=e.stateNode,E=T.getSnapshotBeforeUpdate(e.elementType===e.type?g:jr(e.type,g),w);T.__reactInternalSnapshotBeforeUpdate=E}break;case 3:var b=e.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ae(163))}}catch(R){Rt(e,e.return,R)}if(t=e.sibling,t!==null){t.return=e.return,ye=t;break}ye=e.return}return x=t1,t1=!1,x}function su(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&z0(e,n,i)}s=s.next}while(s!==r)}}function $p(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function W0(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function sA(t){var e=t.alternate;e!==null&&(t.alternate=null,sA(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[rs],delete e[Au],delete e[k0],delete e[p4],delete e[m4])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function iA(t){return t.tag===5||t.tag===3||t.tag===4}function n1(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||iA(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Q0(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Bf));else if(r!==4&&(t=t.child,t!==null))for(Q0(t,e,n),t=t.sibling;t!==null;)Q0(t,e,n),t=t.sibling}function Y0(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Y0(t,e,n),t=t.sibling;t!==null;)Y0(t,e,n),t=t.sibling}var tn=null,Lr=!1;function ui(t,e,n){for(n=n.child;n!==null;)oA(t,e,n),n=n.sibling}function oA(t,e,n){if(is&&typeof is.onCommitFiberUnmount=="function")try{is.onCommitFiberUnmount(Op,n)}catch{}switch(n.tag){case 5:vn||rl(n,e);case 6:var r=tn,s=Lr;tn=null,ui(t,e,n),tn=r,Lr=s,tn!==null&&(Lr?(t=tn,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):tn.removeChild(n.stateNode));break;case 18:tn!==null&&(Lr?(t=tn,n=n.stateNode,t.nodeType===8?bg(t.parentNode,n):t.nodeType===1&&bg(t,n),Eu(t)):bg(tn,n.stateNode));break;case 4:r=tn,s=Lr,tn=n.stateNode.containerInfo,Lr=!0,ui(t,e,n),tn=r,Lr=s;break;case 0:case 11:case 14:case 15:if(!vn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&z0(n,e,o),s=s.next}while(s!==r)}ui(t,e,n);break;case 1:if(!vn&&(rl(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Rt(n,e,a)}ui(t,e,n);break;case 21:ui(t,e,n);break;case 22:n.mode&1?(vn=(r=vn)||n.memoizedState!==null,ui(t,e,n),vn=r):ui(t,e,n);break;default:ui(t,e,n)}}function r1(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new P4),e.forEach(function(r){var s=U4.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function kr(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:tn=a.stateNode,Lr=!1;break e;case 3:tn=a.stateNode.containerInfo,Lr=!0;break e;case 4:tn=a.stateNode.containerInfo,Lr=!0;break e}a=a.return}if(tn===null)throw Error(ae(160));oA(i,o,s),tn=null,Lr=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){Rt(s,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)aA(e,t),e=e.sibling}function aA(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(kr(e,t),Hr(t),r&4){try{su(3,t,t.return),$p(3,t)}catch(g){Rt(t,t.return,g)}try{su(5,t,t.return)}catch(g){Rt(t,t.return,g)}}break;case 1:kr(e,t),Hr(t),r&512&&n!==null&&rl(n,n.return);break;case 5:if(kr(e,t),Hr(t),r&512&&n!==null&&rl(n,n.return),t.flags&32){var s=t.stateNode;try{yu(s,"")}catch(g){Rt(t,t.return,g)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,a=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&R_(s,i),v0(a,o);var u=v0(a,i);for(o=0;o<c.length;o+=2){var h=c[o],f=c[o+1];h==="style"?j_(s,f):h==="dangerouslySetInnerHTML"?k_(s,f):h==="children"?yu(s,f):xv(s,h,f,u)}switch(a){case"input":f0(s,i);break;case"textarea":N_(s,i);break;case"select":var p=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var v=i.value;v!=null?al(s,!!i.multiple,v,!1):p!==!!i.multiple&&(i.defaultValue!=null?al(s,!!i.multiple,i.defaultValue,!0):al(s,!!i.multiple,i.multiple?[]:"",!1))}s[Au]=i}catch(g){Rt(t,t.return,g)}}break;case 6:if(kr(e,t),Hr(t),r&4){if(t.stateNode===null)throw Error(ae(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(g){Rt(t,t.return,g)}}break;case 3:if(kr(e,t),Hr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Eu(e.containerInfo)}catch(g){Rt(t,t.return,g)}break;case 4:kr(e,t),Hr(t);break;case 13:kr(e,t),Hr(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Xv=Mt())),r&4&&r1(t);break;case 22:if(h=n!==null&&n.memoizedState!==null,t.mode&1?(vn=(u=vn)||h,kr(e,t),vn=u):kr(e,t),Hr(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!h&&t.mode&1)for(ye=t,h=t.child;h!==null;){for(f=ye=h;ye!==null;){switch(p=ye,v=p.child,p.tag){case 0:case 11:case 14:case 15:su(4,p,p.return);break;case 1:rl(p,p.return);var x=p.stateNode;if(typeof x.componentWillUnmount=="function"){r=p,n=p.return;try{e=r,x.props=e.memoizedProps,x.state=e.memoizedState,x.componentWillUnmount()}catch(g){Rt(r,n,g)}}break;case 5:rl(p,p.return);break;case 22:if(p.memoizedState!==null){i1(f);continue}}v!==null?(v.return=p,ye=v):i1(f)}h=h.sibling}e:for(h=null,f=t;;){if(f.tag===5){if(h===null){h=f;try{s=f.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=f.stateNode,c=f.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,a.style.display=M_("display",o))}catch(g){Rt(t,t.return,g)}}}else if(f.tag===6){if(h===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(g){Rt(t,t.return,g)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;h===f&&(h=null),f=f.return}h===f&&(h=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:kr(e,t),Hr(t),r&4&&r1(t);break;case 21:break;default:kr(e,t),Hr(t)}}function Hr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(iA(n)){var r=n;break e}n=n.return}throw Error(ae(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(yu(s,""),r.flags&=-33);var i=n1(t);Y0(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=n1(t);Q0(t,a,o);break;default:throw Error(ae(161))}}catch(c){Rt(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function M4(t,e,n){ye=t,lA(t)}function lA(t,e,n){for(var r=(t.mode&1)!==0;ye!==null;){var s=ye,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||Nh;if(!o){var a=s.alternate,c=a!==null&&a.memoizedState!==null||vn;a=Nh;var u=vn;if(Nh=o,(vn=c)&&!u)for(ye=s;ye!==null;)o=ye,c=o.child,o.tag===22&&o.memoizedState!==null?o1(s):c!==null?(c.return=o,ye=c):o1(s);for(;i!==null;)ye=i,lA(i),i=i.sibling;ye=s,Nh=a,vn=u}s1(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,ye=i):s1(t)}}function s1(t){for(;ye!==null;){var e=ye;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:vn||$p(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!vn)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:jr(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&qE(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}qE(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var h=u.memoizedState;if(h!==null){var f=h.dehydrated;f!==null&&Eu(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ae(163))}vn||e.flags&512&&W0(e)}catch(p){Rt(e,e.return,p)}}if(e===t){ye=null;break}if(n=e.sibling,n!==null){n.return=e.return,ye=n;break}ye=e.return}}function i1(t){for(;ye!==null;){var e=ye;if(e===t){ye=null;break}var n=e.sibling;if(n!==null){n.return=e.return,ye=n;break}ye=e.return}}function o1(t){for(;ye!==null;){var e=ye;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{$p(4,e)}catch(c){Rt(e,n,c)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(c){Rt(e,s,c)}}var i=e.return;try{W0(e)}catch(c){Rt(e,i,c)}break;case 5:var o=e.return;try{W0(e)}catch(c){Rt(e,o,c)}}}catch(c){Rt(e,e.return,c)}if(e===t){ye=null;break}var a=e.sibling;if(a!==null){a.return=e.return,ye=a;break}ye=e.return}}var j4=Math.ceil,Jf=Js.ReactCurrentDispatcher,Hv=Js.ReactCurrentOwner,wr=Js.ReactCurrentBatchConfig,He=0,Zt=null,Vt=null,sn=0,Xn=0,sl=uo(0),zt=0,ku=null,Zo=0,zp=0,Jv=0,iu=null,Bn=null,Xv=0,Ol=1/0,Ps=null,Xf=!1,K0=null,Bi=null,Ph=!1,ki=null,Zf=0,ou=0,H0=null,sf=-1,of=0;function jn(){return He&6?Mt():sf!==-1?sf:sf=Mt()}function Ui(t){return t.mode&1?He&2&&sn!==0?sn&-sn:y4.transition!==null?(of===0&&(of=W_()),of):(t=st,t!==0||(t=window.event,t=t===void 0?16:Z_(t.type)),t):1}function Ur(t,e,n,r){if(50<ou)throw ou=0,H0=null,Error(ae(185));rd(t,n,r),(!(He&2)||t!==Zt)&&(t===Zt&&(!(He&2)&&(zp|=n),zt===4&&Ei(t,sn)),zn(t,r),n===1&&He===0&&!(e.mode&1)&&(Ol=Mt()+500,Up&&ho()))}function zn(t,e){var n=t.callbackNode;yj(t,e);var r=Of(t,t===Zt?sn:0);if(r===0)n!==null&&mE(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&mE(n),e===1)t.tag===0?g4(a1.bind(null,t)):vT(a1.bind(null,t)),h4(function(){!(He&6)&&ho()}),n=null;else{switch(Q_(r)){case 1:n=_v;break;case 4:n=$_;break;case 16:n=Df;break;case 536870912:n=z_;break;default:n=Df}n=gA(n,cA.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function cA(t,e){if(sf=-1,of=0,He&6)throw Error(ae(327));var n=t.callbackNode;if(hl()&&t.callbackNode!==n)return null;var r=Of(t,t===Zt?sn:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=ep(t,r);else{e=r;var s=He;He|=2;var i=dA();(Zt!==t||sn!==e)&&(Ps=null,Ol=Mt()+500,$o(t,e));do try{L4();break}catch(a){uA(t,a)}while(!0);Lv(),Jf.current=i,He=s,Vt!==null?e=0:(Zt=null,sn=0,e=zt)}if(e!==0){if(e===2&&(s=C0(t),s!==0&&(r=s,e=J0(t,s))),e===1)throw n=ku,$o(t,0),Ei(t,r),zn(t,Mt()),n;if(e===6)Ei(t,r);else{if(s=t.current.alternate,!(r&30)&&!D4(s)&&(e=ep(t,r),e===2&&(i=C0(t),i!==0&&(r=i,e=J0(t,i))),e===1))throw n=ku,$o(t,0),Ei(t,r),zn(t,Mt()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(ae(345));case 2:jo(t,Bn,Ps);break;case 3:if(Ei(t,r),(r&130023424)===r&&(e=Xv+500-Mt(),10<e)){if(Of(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){jn(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=P0(jo.bind(null,t,Bn,Ps),e);break}jo(t,Bn,Ps);break;case 4:if(Ei(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-Br(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=Mt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*j4(r/1960))-r,10<r){t.timeoutHandle=P0(jo.bind(null,t,Bn,Ps),r);break}jo(t,Bn,Ps);break;case 5:jo(t,Bn,Ps);break;default:throw Error(ae(329))}}}return zn(t,Mt()),t.callbackNode===n?cA.bind(null,t):null}function J0(t,e){var n=iu;return t.current.memoizedState.isDehydrated&&($o(t,e).flags|=256),t=ep(t,e),t!==2&&(e=Bn,Bn=n,e!==null&&X0(e)),t}function X0(t){Bn===null?Bn=t:Bn.push.apply(Bn,t)}function D4(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!Gr(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ei(t,e){for(e&=~Jv,e&=~zp,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Br(e),r=1<<n;t[n]=-1,e&=~r}}function a1(t){if(He&6)throw Error(ae(327));hl();var e=Of(t,0);if(!(e&1))return zn(t,Mt()),null;var n=ep(t,e);if(t.tag!==0&&n===2){var r=C0(t);r!==0&&(e=r,n=J0(t,r))}if(n===1)throw n=ku,$o(t,0),Ei(t,e),zn(t,Mt()),n;if(n===6)throw Error(ae(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,jo(t,Bn,Ps),zn(t,Mt()),null}function Zv(t,e){var n=He;He|=1;try{return t(e)}finally{He=n,He===0&&(Ol=Mt()+500,Up&&ho())}}function ea(t){ki!==null&&ki.tag===0&&!(He&6)&&hl();var e=He;He|=1;var n=wr.transition,r=st;try{if(wr.transition=null,st=1,t)return t()}finally{st=r,wr.transition=n,He=e,!(He&6)&&ho()}}function ex(){Xn=sl.current,mt(sl)}function $o(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,d4(n)),Vt!==null)for(n=Vt.return;n!==null;){var r=n;switch(jv(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Uf();break;case 3:jl(),mt(Gn),mt(En),Gv();break;case 5:qv(r);break;case 4:jl();break;case 13:mt(bt);break;case 19:mt(bt);break;case 10:Vv(r.type._context);break;case 22:case 23:ex()}n=n.return}if(Zt=t,Vt=t=qi(t.current,null),sn=Xn=e,zt=0,ku=null,Jv=zp=Zo=0,Bn=iu=null,Lo!==null){for(e=0;e<Lo.length;e++)if(n=Lo[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}Lo=null}return t}function uA(t,e){do{var n=Vt;try{if(Lv(),tf.current=Hf,Kf){for(var r=Ct.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Kf=!1}if(Xo=0,Xt=$t=Ct=null,ru=!1,Ru=0,Hv.current=null,n===null||n.return===null){zt=1,ku=e,Vt=null;break}e:{var i=t,o=n.return,a=n,c=e;if(e=sn,a.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,h=a,f=h.tag;if(!(h.mode&1)&&(f===0||f===11||f===15)){var p=h.alternate;p?(h.updateQueue=p.updateQueue,h.memoizedState=p.memoizedState,h.lanes=p.lanes):(h.updateQueue=null,h.memoizedState=null)}var v=YE(o);if(v!==null){v.flags&=-257,KE(v,o,a,i,e),v.mode&1&&QE(i,u,e),e=v,c=u;var x=e.updateQueue;if(x===null){var g=new Set;g.add(c),e.updateQueue=g}else x.add(c);break e}else{if(!(e&1)){QE(i,u,e),tx();break e}c=Error(ae(426))}}else if(Et&&a.mode&1){var w=YE(o);if(w!==null){!(w.flags&65536)&&(w.flags|=256),KE(w,o,a,i,e),Dv(Dl(c,a));break e}}i=c=Dl(c,a),zt!==4&&(zt=2),iu===null?iu=[i]:iu.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var T=QT(i,c,e);UE(i,T);break e;case 1:a=c;var E=i.type,b=i.stateNode;if(!(i.flags&128)&&(typeof E.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(Bi===null||!Bi.has(b)))){i.flags|=65536,e&=-e,i.lanes|=e;var R=YT(i,a,e);UE(i,R);break e}}i=i.return}while(i!==null)}fA(n)}catch(D){e=D,Vt===n&&n!==null&&(Vt=n=n.return);continue}break}while(!0)}function dA(){var t=Jf.current;return Jf.current=Hf,t===null?Hf:t}function tx(){(zt===0||zt===3||zt===2)&&(zt=4),Zt===null||!(Zo&268435455)&&!(zp&268435455)||Ei(Zt,sn)}function ep(t,e){var n=He;He|=2;var r=dA();(Zt!==t||sn!==e)&&(Ps=null,$o(t,e));do try{O4();break}catch(s){uA(t,s)}while(!0);if(Lv(),He=n,Jf.current=r,Vt!==null)throw Error(ae(261));return Zt=null,sn=0,zt}function O4(){for(;Vt!==null;)hA(Vt)}function L4(){for(;Vt!==null&&!lj();)hA(Vt)}function hA(t){var e=mA(t.alternate,t,Xn);t.memoizedProps=t.pendingProps,e===null?fA(t):Vt=e,Hv.current=null}function fA(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=N4(n,e),n!==null){n.flags&=32767,Vt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{zt=6,Vt=null;return}}else if(n=R4(n,e,Xn),n!==null){Vt=n;return}if(e=e.sibling,e!==null){Vt=e;return}Vt=e=t}while(e!==null);zt===0&&(zt=5)}function jo(t,e,n){var r=st,s=wr.transition;try{wr.transition=null,st=1,V4(t,e,n,r)}finally{wr.transition=s,st=r}return null}function V4(t,e,n,r){do hl();while(ki!==null);if(He&6)throw Error(ae(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(ae(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(vj(t,i),t===Zt&&(Vt=Zt=null,sn=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Ph||(Ph=!0,gA(Df,function(){return hl(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=wr.transition,wr.transition=null;var o=st;st=1;var a=He;He|=4,Hv.current=null,k4(t,n),aA(n,t),s4(R0),Lf=!!I0,R0=I0=null,t.current=n,M4(n),cj(),He=a,st=o,wr.transition=i}else t.current=n;if(Ph&&(Ph=!1,ki=t,Zf=s),i=t.pendingLanes,i===0&&(Bi=null),hj(n.stateNode),zn(t,Mt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Xf)throw Xf=!1,t=K0,K0=null,t;return Zf&1&&t.tag!==0&&hl(),i=t.pendingLanes,i&1?t===H0?ou++:(ou=0,H0=t):ou=0,ho(),null}function hl(){if(ki!==null){var t=Q_(Zf),e=wr.transition,n=st;try{if(wr.transition=null,st=16>t?16:t,ki===null)var r=!1;else{if(t=ki,ki=null,Zf=0,He&6)throw Error(ae(331));var s=He;for(He|=4,ye=t.current;ye!==null;){var i=ye,o=i.child;if(ye.flags&16){var a=i.deletions;if(a!==null){for(var c=0;c<a.length;c++){var u=a[c];for(ye=u;ye!==null;){var h=ye;switch(h.tag){case 0:case 11:case 15:su(8,h,i)}var f=h.child;if(f!==null)f.return=h,ye=f;else for(;ye!==null;){h=ye;var p=h.sibling,v=h.return;if(sA(h),h===u){ye=null;break}if(p!==null){p.return=v,ye=p;break}ye=v}}}var x=i.alternate;if(x!==null){var g=x.child;if(g!==null){x.child=null;do{var w=g.sibling;g.sibling=null,g=w}while(g!==null)}}ye=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,ye=o;else e:for(;ye!==null;){if(i=ye,i.flags&2048)switch(i.tag){case 0:case 11:case 15:su(9,i,i.return)}var T=i.sibling;if(T!==null){T.return=i.return,ye=T;break e}ye=i.return}}var E=t.current;for(ye=E;ye!==null;){o=ye;var b=o.child;if(o.subtreeFlags&2064&&b!==null)b.return=o,ye=b;else e:for(o=E;ye!==null;){if(a=ye,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:$p(9,a)}}catch(D){Rt(a,a.return,D)}if(a===o){ye=null;break e}var R=a.sibling;if(R!==null){R.return=a.return,ye=R;break e}ye=a.return}}if(He=s,ho(),is&&typeof is.onPostCommitFiberRoot=="function")try{is.onPostCommitFiberRoot(Op,t)}catch{}r=!0}return r}finally{st=n,wr.transition=e}}return!1}function l1(t,e,n){e=Dl(n,e),e=QT(t,e,1),t=Fi(t,e,1),e=jn(),t!==null&&(rd(t,1,e),zn(t,e))}function Rt(t,e,n){if(t.tag===3)l1(t,t,n);else for(;e!==null;){if(e.tag===3){l1(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Bi===null||!Bi.has(r))){t=Dl(n,t),t=YT(e,t,1),e=Fi(e,t,1),t=jn(),e!==null&&(rd(e,1,t),zn(e,t));break}}e=e.return}}function F4(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=jn(),t.pingedLanes|=t.suspendedLanes&n,Zt===t&&(sn&n)===n&&(zt===4||zt===3&&(sn&130023424)===sn&&500>Mt()-Xv?$o(t,0):Jv|=n),zn(t,e)}function pA(t,e){e===0&&(t.mode&1?(e=Eh,Eh<<=1,!(Eh&130023424)&&(Eh=4194304)):e=1);var n=jn();t=qs(t,e),t!==null&&(rd(t,e,n),zn(t,n))}function B4(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),pA(t,n)}function U4(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(ae(314))}r!==null&&r.delete(e),pA(t,n)}var mA;mA=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Gn.current)qn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return qn=!1,I4(t,e,n);qn=!!(t.flags&131072)}else qn=!1,Et&&e.flags&1048576&&xT(e,$f,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;rf(t,e),t=e.pendingProps;var s=Pl(e,En.current);dl(e,n),s=zv(null,e,r,t,s,n);var i=Wv();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,$n(r)?(i=!0,qf(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Bv(e),s.updater=Gp,e.stateNode=s,s._reactInternals=e,V0(e,r,t,n),e=U0(null,e,r,!0,i,n)):(e.tag=0,Et&&i&&Mv(e),Pn(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(rf(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=G4(r),t=jr(r,t),s){case 0:e=B0(null,e,r,t,n);break e;case 1:e=XE(null,e,r,t,n);break e;case 11:e=HE(null,e,r,t,n);break e;case 14:e=JE(null,e,r,jr(r.type,t),n);break e}throw Error(ae(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:jr(r,s),B0(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:jr(r,s),XE(t,e,r,s,n);case 3:e:{if(XT(e),t===null)throw Error(ae(387));r=e.pendingProps,i=e.memoizedState,s=i.element,TT(t,e),Qf(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=Dl(Error(ae(423)),e),e=ZE(t,e,r,n,s);break e}else if(r!==s){s=Dl(Error(ae(424)),e),e=ZE(t,e,r,n,s);break e}else for(tr=Vi(e.stateNode.containerInfo.firstChild),rr=e,Et=!0,Vr=null,n=CT(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(kl(),r===s){e=Gs(t,e,n);break e}Pn(t,e,r,n)}e=e.child}return e;case 5:return AT(e),t===null&&D0(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,N0(r,s)?o=null:i!==null&&N0(r,i)&&(e.flags|=32),JT(t,e),Pn(t,e,o,n),e.child;case 6:return t===null&&D0(e),null;case 13:return ZT(t,e,n);case 4:return Uv(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Ml(e,null,r,n):Pn(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:jr(r,s),HE(t,e,r,s,n);case 7:return Pn(t,e,e.pendingProps,n),e.child;case 8:return Pn(t,e,e.pendingProps.children,n),e.child;case 12:return Pn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,ut(zf,r._currentValue),r._currentValue=o,i!==null)if(Gr(i.value,o)){if(i.children===s.children&&!Gn.current){e=Gs(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var c=a.firstContext;c!==null;){if(c.context===r){if(i.tag===1){c=Ls(-1,n&-n),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var h=u.pending;h===null?c.next=c:(c.next=h.next,h.next=c),u.pending=c}}i.lanes|=n,c=i.alternate,c!==null&&(c.lanes|=n),O0(i.return,n,e),a.lanes|=n;break}c=c.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(ae(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),O0(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Pn(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,dl(e,n),s=br(s),r=r(s),e.flags|=1,Pn(t,e,r,n),e.child;case 14:return r=e.type,s=jr(r,e.pendingProps),s=jr(r.type,s),JE(t,e,r,s,n);case 15:return KT(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:jr(r,s),rf(t,e),e.tag=1,$n(r)?(t=!0,qf(e)):t=!1,dl(e,n),WT(e,r,s),V0(e,r,s,n),U0(null,e,r,!0,t,n);case 19:return eA(t,e,n);case 22:return HT(t,e,n)}throw Error(ae(156,e.tag))};function gA(t,e){return G_(t,e)}function q4(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function xr(t,e,n,r){return new q4(t,e,n,r)}function nx(t){return t=t.prototype,!(!t||!t.isReactComponent)}function G4(t){if(typeof t=="function")return nx(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Ev)return 11;if(t===bv)return 14}return 2}function qi(t,e){var n=t.alternate;return n===null?(n=xr(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function af(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")nx(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Ya:return zo(n.children,s,i,e);case wv:o=8,s|=8;break;case l0:return t=xr(12,n,e,s|2),t.elementType=l0,t.lanes=i,t;case c0:return t=xr(13,n,e,s),t.elementType=c0,t.lanes=i,t;case u0:return t=xr(19,n,e,s),t.elementType=u0,t.lanes=i,t;case A_:return Wp(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case __:o=10;break e;case T_:o=9;break e;case Ev:o=11;break e;case bv:o=14;break e;case yi:o=16,r=null;break e}throw Error(ae(130,t==null?t:typeof t,""))}return e=xr(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function zo(t,e,n,r){return t=xr(7,t,r,e),t.lanes=n,t}function Wp(t,e,n,r){return t=xr(22,t,r,e),t.elementType=A_,t.lanes=n,t.stateNode={isHidden:!1},t}function Ng(t,e,n){return t=xr(6,t,null,e),t.lanes=n,t}function Pg(t,e,n){return e=xr(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function $4(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=dg(0),this.expirationTimes=dg(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=dg(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function rx(t,e,n,r,s,i,o,a,c){return t=new $4(t,e,n,a,c),e===1?(e=1,i===!0&&(e|=8)):e=0,i=xr(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Bv(i),t}function z4(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Qa,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function yA(t){if(!t)return Hi;t=t._reactInternals;e:{if(fa(t)!==t||t.tag!==1)throw Error(ae(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if($n(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(ae(171))}if(t.tag===1){var n=t.type;if($n(n))return yT(t,n,e)}return e}function vA(t,e,n,r,s,i,o,a,c){return t=rx(n,r,!0,t,s,i,o,a,c),t.context=yA(null),n=t.current,r=jn(),s=Ui(n),i=Ls(r,s),i.callback=e??null,Fi(n,i,s),t.current.lanes=s,rd(t,s,r),zn(t,r),t}function Qp(t,e,n,r){var s=e.current,i=jn(),o=Ui(s);return n=yA(n),e.context===null?e.context=n:e.pendingContext=n,e=Ls(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Fi(s,e,o),t!==null&&(Ur(t,s,o,i),ef(t,s,o)),o}function tp(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function c1(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function sx(t,e){c1(t,e),(t=t.alternate)&&c1(t,e)}function W4(){return null}var xA=typeof reportError=="function"?reportError:function(t){console.error(t)};function ix(t){this._internalRoot=t}Yp.prototype.render=ix.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(ae(409));Qp(t,e,null,null)};Yp.prototype.unmount=ix.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;ea(function(){Qp(null,t,null,null)}),e[Us]=null}};function Yp(t){this._internalRoot=t}Yp.prototype.unstable_scheduleHydration=function(t){if(t){var e=H_();t={blockedOn:null,target:t,priority:e};for(var n=0;n<wi.length&&e!==0&&e<wi[n].priority;n++);wi.splice(n,0,t),n===0&&X_(t)}};function ox(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Kp(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function u1(){}function Q4(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var u=tp(o);i.call(u)}}var o=vA(e,r,t,0,null,!1,!1,"",u1);return t._reactRootContainer=o,t[Us]=o.current,_u(t.nodeType===8?t.parentNode:t),ea(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var u=tp(c);a.call(u)}}var c=rx(t,0,!1,null,null,!1,!1,"",u1);return t._reactRootContainer=c,t[Us]=c.current,_u(t.nodeType===8?t.parentNode:t),ea(function(){Qp(e,c,n,r)}),c}function Hp(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var c=tp(o);a.call(c)}}Qp(e,o,t,s)}else o=Q4(n,e,t,s,r);return tp(o)}Y_=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Bc(e.pendingLanes);n!==0&&(Tv(e,n|1),zn(e,Mt()),!(He&6)&&(Ol=Mt()+500,ho()))}break;case 13:ea(function(){var r=qs(t,1);if(r!==null){var s=jn();Ur(r,t,1,s)}}),sx(t,1)}};Av=function(t){if(t.tag===13){var e=qs(t,134217728);if(e!==null){var n=jn();Ur(e,t,134217728,n)}sx(t,134217728)}};K_=function(t){if(t.tag===13){var e=Ui(t),n=qs(t,e);if(n!==null){var r=jn();Ur(n,t,e,r)}sx(t,e)}};H_=function(){return st};J_=function(t,e){var n=st;try{return st=t,e()}finally{st=n}};w0=function(t,e,n){switch(e){case"input":if(f0(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=Bp(r);if(!s)throw Error(ae(90));I_(r),f0(r,s)}}}break;case"textarea":N_(t,n);break;case"select":e=n.value,e!=null&&al(t,!!n.multiple,e,!1)}};L_=Zv;V_=ea;var Y4={usingClientEntryPoint:!1,Events:[id,Xa,Bp,D_,O_,Zv]},jc={findFiberByHostInstance:Oo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},K4={bundleType:jc.bundleType,version:jc.version,rendererPackageName:jc.rendererPackageName,rendererConfig:jc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Js.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=U_(t),t===null?null:t.stateNode},findFiberByHostInstance:jc.findFiberByHostInstance||W4,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var kh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!kh.isDisabled&&kh.supportsFiber)try{Op=kh.inject(K4),is=kh}catch{}}lr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Y4;lr.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ox(e))throw Error(ae(200));return z4(t,e,null,n)};lr.createRoot=function(t,e){if(!ox(t))throw Error(ae(299));var n=!1,r="",s=xA;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=rx(t,1,!1,null,null,n,!1,r,s),t[Us]=e.current,_u(t.nodeType===8?t.parentNode:t),new ix(e)};lr.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(ae(188)):(t=Object.keys(t).join(","),Error(ae(268,t)));return t=U_(e),t=t===null?null:t.stateNode,t};lr.flushSync=function(t){return ea(t)};lr.hydrate=function(t,e,n){if(!Kp(e))throw Error(ae(200));return Hp(null,t,e,!0,n)};lr.hydrateRoot=function(t,e,n){if(!ox(t))throw Error(ae(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=xA;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=vA(e,null,t,1,n??null,s,!1,i,o),t[Us]=e.current,_u(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new Yp(e)};lr.render=function(t,e,n){if(!Kp(e))throw Error(ae(200));return Hp(null,t,e,!1,n)};lr.unmountComponentAtNode=function(t){if(!Kp(t))throw Error(ae(40));return t._reactRootContainer?(ea(function(){Hp(null,null,t,!1,function(){t._reactRootContainer=null,t[Us]=null})}),!0):!1};lr.unstable_batchedUpdates=Zv;lr.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Kp(n))throw Error(ae(200));if(t==null||t._reactInternals===void 0)throw Error(ae(38));return Hp(t,e,n,!1,r)};lr.version="18.3.1-next-f1338f8080-20240426";function wA(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(wA)}catch(t){console.error(t)}}wA(),w_.exports=lr;var pa=w_.exports;const EA=hv(pa);var bA,d1=pa;bA=d1.createRoot,d1.hydrateRoot;const H4=1,J4=1e6;let kg=0;function X4(){return kg=(kg+1)%Number.MAX_SAFE_INTEGER,kg.toString()}const Mg=new Map,h1=t=>{if(Mg.has(t))return;const e=setTimeout(()=>{Mg.delete(t),au({type:"REMOVE_TOAST",toastId:t})},J4);Mg.set(t,e)},Z4=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,H4)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?h1(n):t.toasts.forEach(r=>{h1(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},lf=[];let cf={toasts:[]};function au(t){cf=Z4(cf,t),lf.forEach(e=>{e(cf)})}function lt({...t}){const e=X4(),n=s=>au({type:"UPDATE_TOAST",toast:{...s,id:e}}),r=()=>au({type:"DISMISS_TOAST",toastId:e});return au({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:s=>{s||r()}}}),{id:e,dismiss:r,update:n}}function eD(){const[t,e]=y.useState(cf);return y.useEffect(()=>(lf.push(e),()=>{const n=lf.indexOf(e);n>-1&&lf.splice(n,1)}),[t]),{...t,toast:lt,dismiss:n=>au({type:"DISMISS_TOAST",toastId:n})}}function pe(t,e,{checkForDefaultPrevented:n=!0}={}){return function(s){if(t==null||t(s),n===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function tD(t,e){typeof t=="function"?t(e):t!=null&&(t.current=e)}function ax(...t){return e=>t.forEach(n=>tD(n,e))}function it(...t){return y.useCallback(ax(...t),t)}function nD(t,e=[]){let n=[];function r(i,o){const a=y.createContext(o),c=n.length;n=[...n,o];function u(f){const{scope:p,children:v,...x}=f,g=(p==null?void 0:p[t][c])||a,w=y.useMemo(()=>x,Object.values(x));return l.jsx(g.Provider,{value:w,children:v})}function h(f,p){const v=(p==null?void 0:p[t][c])||a,x=y.useContext(v);if(x)return x;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return u.displayName=i+"Provider",[u,h]}const s=()=>{const i=n.map(o=>y.createContext(o));return function(a){const c=(a==null?void 0:a[t])||i;return y.useMemo(()=>({[`__scope${t}`]:{...a,[t]:c}}),[a,c])}};return s.scopeName=t,[r,rD(s,...e)]}function rD(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:c,scopeName:u})=>{const f=c(i)[`__scope${u}`];return{...a,...f}},{});return y.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var ta=y.forwardRef((t,e)=>{const{children:n,...r}=t,s=y.Children.toArray(n),i=s.find(sD);if(i){const o=i.props.children,a=s.map(c=>c===i?y.Children.count(o)>1?y.Children.only(null):y.isValidElement(o)?o.props.children:null:c);return l.jsx(Z0,{...r,ref:e,children:y.isValidElement(o)?y.cloneElement(o,void 0,a):null})}return l.jsx(Z0,{...r,ref:e,children:n})});ta.displayName="Slot";var Z0=y.forwardRef((t,e)=>{const{children:n,...r}=t;if(y.isValidElement(n)){const s=oD(n);return y.cloneElement(n,{...iD(r,n.props),ref:e?ax(e,s):s})}return y.Children.count(n)>1?y.Children.only(null):null});Z0.displayName="SlotClone";var CA=({children:t})=>l.jsx(l.Fragment,{children:t});function sD(t){return y.isValidElement(t)&&t.type===CA}function iD(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...a)=>{i(...a),s(...a)}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function oD(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function ad(t){const e=t+"CollectionProvider",[n,r]=nD(e),[s,i]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=v=>{const{scope:x,children:g}=v,w=Y.useRef(null),T=Y.useRef(new Map).current;return l.jsx(s,{scope:x,itemMap:T,collectionRef:w,children:g})};o.displayName=e;const a=t+"CollectionSlot",c=Y.forwardRef((v,x)=>{const{scope:g,children:w}=v,T=i(a,g),E=it(x,T.collectionRef);return l.jsx(ta,{ref:E,children:w})});c.displayName=a;const u=t+"CollectionItemSlot",h="data-radix-collection-item",f=Y.forwardRef((v,x)=>{const{scope:g,children:w,...T}=v,E=Y.useRef(null),b=it(x,E),R=i(u,g);return Y.useEffect(()=>(R.itemMap.set(E,{ref:E,...T}),()=>void R.itemMap.delete(E))),l.jsx(ta,{[h]:"",ref:b,children:w})});f.displayName=u;function p(v){const x=i(t+"CollectionConsumer",v);return Y.useCallback(()=>{const w=x.collectionRef.current;if(!w)return[];const T=Array.from(w.querySelectorAll(`[${h}]`));return Array.from(x.itemMap.values()).sort((R,D)=>T.indexOf(R.ref.current)-T.indexOf(D.ref.current))},[x.collectionRef,x.itemMap])}return[{Provider:o,Slot:c,ItemSlot:f},p,r]}function ld(t,e=[]){let n=[];function r(i,o){const a=y.createContext(o),c=n.length;n=[...n,o];const u=f=>{var T;const{scope:p,children:v,...x}=f,g=((T=p==null?void 0:p[t])==null?void 0:T[c])||a,w=y.useMemo(()=>x,Object.values(x));return l.jsx(g.Provider,{value:w,children:v})};u.displayName=i+"Provider";function h(f,p){var g;const v=((g=p==null?void 0:p[t])==null?void 0:g[c])||a,x=y.useContext(v);if(x)return x;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[u,h]}const s=()=>{const i=n.map(o=>y.createContext(o));return function(a){const c=(a==null?void 0:a[t])||i;return y.useMemo(()=>({[`__scope${t}`]:{...a,[t]:c}}),[a,c])}};return s.scopeName=t,[r,aD(s,...e)]}function aD(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:c,scopeName:u})=>{const f=c(i)[`__scope${u}`];return{...a,...f}},{});return y.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var lD=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Be=lD.reduce((t,e)=>{const n=y.forwardRef((r,s)=>{const{asChild:i,...o}=r,a=i?ta:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),l.jsx(a,{...o,ref:s})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function lx(t,e){t&&pa.flushSync(()=>t.dispatchEvent(e))}function bn(t){const e=y.useRef(t);return y.useEffect(()=>{e.current=t}),y.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function cD(t,e=globalThis==null?void 0:globalThis.document){const n=bn(t);y.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var uD="DismissableLayer",ey="dismissableLayer.update",dD="dismissableLayer.pointerDownOutside",hD="dismissableLayer.focusOutside",f1,_A=y.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),cd=y.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:a,...c}=t,u=y.useContext(_A),[h,f]=y.useState(null),p=(h==null?void 0:h.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,v]=y.useState({}),x=it(e,I=>f(I)),g=Array.from(u.layers),[w]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),T=g.indexOf(w),E=h?g.indexOf(h):-1,b=u.layersWithOutsidePointerEventsDisabled.size>0,R=E>=T,D=pD(I=>{const S=I.target,P=[...u.branches].some(k=>k.contains(S));!R||P||(s==null||s(I),o==null||o(I),I.defaultPrevented||a==null||a())},p),F=mD(I=>{const S=I.target;[...u.branches].some(k=>k.contains(S))||(i==null||i(I),o==null||o(I),I.defaultPrevented||a==null||a())},p);return cD(I=>{E===u.layers.size-1&&(r==null||r(I),!I.defaultPrevented&&a&&(I.preventDefault(),a()))},p),y.useEffect(()=>{if(h)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(f1=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(h)),u.layers.add(h),p1(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=f1)}},[h,p,n,u]),y.useEffect(()=>()=>{h&&(u.layers.delete(h),u.layersWithOutsidePointerEventsDisabled.delete(h),p1())},[h,u]),y.useEffect(()=>{const I=()=>v({});return document.addEventListener(ey,I),()=>document.removeEventListener(ey,I)},[]),l.jsx(Be.div,{...c,ref:x,style:{pointerEvents:b?R?"auto":"none":void 0,...t.style},onFocusCapture:pe(t.onFocusCapture,F.onFocusCapture),onBlurCapture:pe(t.onBlurCapture,F.onBlurCapture),onPointerDownCapture:pe(t.onPointerDownCapture,D.onPointerDownCapture)})});cd.displayName=uD;var fD="DismissableLayerBranch",TA=y.forwardRef((t,e)=>{const n=y.useContext(_A),r=y.useRef(null),s=it(e,r);return y.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),l.jsx(Be.div,{...t,ref:s})});TA.displayName=fD;function pD(t,e=globalThis==null?void 0:globalThis.document){const n=bn(t),r=y.useRef(!1),s=y.useRef(()=>{});return y.useEffect(()=>{const i=a=>{if(a.target&&!r.current){let c=function(){AA(dD,n,u,{discrete:!0})};const u={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=c,e.addEventListener("click",s.current,{once:!0})):c()}else e.removeEventListener("click",s.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function mD(t,e=globalThis==null?void 0:globalThis.document){const n=bn(t),r=y.useRef(!1);return y.useEffect(()=>{const s=i=>{i.target&&!r.current&&AA(hD,n,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function p1(){const t=new CustomEvent(ey);document.dispatchEvent(t)}function AA(t,e,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?lx(s,i):s.dispatchEvent(i)}var gD=cd,yD=TA,Cn=globalThis!=null&&globalThis.document?y.useLayoutEffect:()=>{},vD="Portal",Jp=y.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[s,i]=y.useState(!1);Cn(()=>i(!0),[]);const o=n||s&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?EA.createPortal(l.jsx(Be.div,{...r,ref:e}),o):null});Jp.displayName=vD;function xD(t,e){return y.useReducer((n,r)=>e[n][r]??n,t)}var ma=t=>{const{present:e,children:n}=t,r=wD(e),s=typeof n=="function"?n({present:r.isPresent}):y.Children.only(n),i=it(r.ref,ED(s));return typeof n=="function"||r.isPresent?y.cloneElement(s,{ref:i}):null};ma.displayName="Presence";function wD(t){const[e,n]=y.useState(),r=y.useRef({}),s=y.useRef(t),i=y.useRef("none"),o=t?"mounted":"unmounted",[a,c]=xD(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return y.useEffect(()=>{const u=Mh(r.current);i.current=a==="mounted"?u:"none"},[a]),Cn(()=>{const u=r.current,h=s.current;if(h!==t){const p=i.current,v=Mh(u);t?c("MOUNT"):v==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(h&&p!==v?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,c]),Cn(()=>{if(e){let u;const h=e.ownerDocument.defaultView??window,f=v=>{const g=Mh(r.current).includes(v.animationName);if(v.target===e&&g&&(c("ANIMATION_END"),!s.current)){const w=e.style.animationFillMode;e.style.animationFillMode="forwards",u=h.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=w)})}},p=v=>{v.target===e&&(i.current=Mh(r.current))};return e.addEventListener("animationstart",p),e.addEventListener("animationcancel",f),e.addEventListener("animationend",f),()=>{h.clearTimeout(u),e.removeEventListener("animationstart",p),e.removeEventListener("animationcancel",f),e.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[e,c]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:y.useCallback(u=>{u&&(r.current=getComputedStyle(u)),n(u)},[])}}function Mh(t){return(t==null?void 0:t.animationName)||"none"}function ED(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function Mu({prop:t,defaultProp:e,onChange:n=()=>{}}){const[r,s]=bD({defaultProp:e,onChange:n}),i=t!==void 0,o=i?t:r,a=bn(n),c=y.useCallback(u=>{if(i){const f=typeof u=="function"?u(t):u;f!==t&&a(f)}else s(u)},[i,t,s,a]);return[o,c]}function bD({defaultProp:t,onChange:e}){const n=y.useState(t),[r]=n,s=y.useRef(r),i=bn(e);return y.useEffect(()=>{s.current!==r&&(i(r),s.current=r)},[r,s,i]),n}var CD="VisuallyHidden",ud=y.forwardRef((t,e)=>l.jsx(Be.span,{...t,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}));ud.displayName=CD;var _D=ud,cx="ToastProvider",[ux,TD,AD]=ad("Toast"),[SA,dQ]=ld("Toast",[AD]),[SD,Xp]=SA(cx),IA=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:s="right",swipeThreshold:i=50,children:o}=t,[a,c]=y.useState(null),[u,h]=y.useState(0),f=y.useRef(!1),p=y.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${cx}\`. Expected non-empty \`string\`.`),l.jsx(ux.Provider,{scope:e,children:l.jsx(SD,{scope:e,label:n,duration:r,swipeDirection:s,swipeThreshold:i,toastCount:u,viewport:a,onViewportChange:c,onToastAdd:y.useCallback(()=>h(v=>v+1),[]),onToastRemove:y.useCallback(()=>h(v=>v-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:p,children:o})})};IA.displayName=cx;var RA="ToastViewport",ID=["F8"],ty="toast.viewportPause",ny="toast.viewportResume",NA=y.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=ID,label:s="Notifications ({hotkey})",...i}=t,o=Xp(RA,n),a=TD(n),c=y.useRef(null),u=y.useRef(null),h=y.useRef(null),f=y.useRef(null),p=it(e,f,o.onViewportChange),v=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),x=o.toastCount>0;y.useEffect(()=>{const w=T=>{var b;r.length!==0&&r.every(R=>T[R]||T.code===R)&&((b=f.current)==null||b.focus())};return document.addEventListener("keydown",w),()=>document.removeEventListener("keydown",w)},[r]),y.useEffect(()=>{const w=c.current,T=f.current;if(x&&w&&T){const E=()=>{if(!o.isClosePausedRef.current){const F=new CustomEvent(ty);T.dispatchEvent(F),o.isClosePausedRef.current=!0}},b=()=>{if(o.isClosePausedRef.current){const F=new CustomEvent(ny);T.dispatchEvent(F),o.isClosePausedRef.current=!1}},R=F=>{!w.contains(F.relatedTarget)&&b()},D=()=>{w.contains(document.activeElement)||b()};return w.addEventListener("focusin",E),w.addEventListener("focusout",R),w.addEventListener("pointermove",E),w.addEventListener("pointerleave",D),window.addEventListener("blur",E),window.addEventListener("focus",b),()=>{w.removeEventListener("focusin",E),w.removeEventListener("focusout",R),w.removeEventListener("pointermove",E),w.removeEventListener("pointerleave",D),window.removeEventListener("blur",E),window.removeEventListener("focus",b)}}},[x,o.isClosePausedRef]);const g=y.useCallback(({tabbingDirection:w})=>{const E=a().map(b=>{const R=b.ref.current,D=[R,...UD(R)];return w==="forwards"?D:D.reverse()});return(w==="forwards"?E.reverse():E).flat()},[a]);return y.useEffect(()=>{const w=f.current;if(w){const T=E=>{var D,F,I;const b=E.altKey||E.ctrlKey||E.metaKey;if(E.key==="Tab"&&!b){const S=document.activeElement,P=E.shiftKey;if(E.target===w&&P){(D=u.current)==null||D.focus();return}const L=g({tabbingDirection:P?"backwards":"forwards"}),j=L.findIndex(W=>W===S);jg(L.slice(j+1))?E.preventDefault():P?(F=u.current)==null||F.focus():(I=h.current)==null||I.focus()}};return w.addEventListener("keydown",T),()=>w.removeEventListener("keydown",T)}},[a,g]),l.jsxs(yD,{ref:c,role:"region","aria-label":s.replace("{hotkey}",v),tabIndex:-1,style:{pointerEvents:x?void 0:"none"},children:[x&&l.jsx(ry,{ref:u,onFocusFromOutsideViewport:()=>{const w=g({tabbingDirection:"forwards"});jg(w)}}),l.jsx(ux.Slot,{scope:n,children:l.jsx(Be.ol,{tabIndex:-1,...i,ref:p})}),x&&l.jsx(ry,{ref:h,onFocusFromOutsideViewport:()=>{const w=g({tabbingDirection:"backwards"});jg(w)}})]})});NA.displayName=RA;var PA="ToastFocusProxy",ry=y.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...s}=t,i=Xp(PA,n);return l.jsx(ud,{"aria-hidden":!0,tabIndex:0,...s,ref:e,style:{position:"fixed"},onFocus:o=>{var u;const a=o.relatedTarget;!((u=i.viewport)!=null&&u.contains(a))&&r()}})});ry.displayName=PA;var Zp="Toast",RD="toast.swipeStart",ND="toast.swipeMove",PD="toast.swipeCancel",kD="toast.swipeEnd",kA=y.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:s,onOpenChange:i,...o}=t,[a=!0,c]=Mu({prop:r,defaultProp:s,onChange:i});return l.jsx(ma,{present:n||a,children:l.jsx(DD,{open:a,...o,ref:e,onClose:()=>c(!1),onPause:bn(t.onPause),onResume:bn(t.onResume),onSwipeStart:pe(t.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:pe(t.onSwipeMove,u=>{const{x:h,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${h}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:pe(t.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:pe(t.onSwipeEnd,u=>{const{x:h,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${h}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),c(!1)})})})});kA.displayName=Zp;var[MD,jD]=SA(Zp,{onClose(){}}),DD=y.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:s,open:i,onClose:o,onEscapeKeyDown:a,onPause:c,onResume:u,onSwipeStart:h,onSwipeMove:f,onSwipeCancel:p,onSwipeEnd:v,...x}=t,g=Xp(Zp,n),[w,T]=y.useState(null),E=it(e,W=>T(W)),b=y.useRef(null),R=y.useRef(null),D=s||g.duration,F=y.useRef(0),I=y.useRef(D),S=y.useRef(0),{onToastAdd:P,onToastRemove:k}=g,O=bn(()=>{var H;(w==null?void 0:w.contains(document.activeElement))&&((H=g.viewport)==null||H.focus()),o()}),L=y.useCallback(W=>{!W||W===1/0||(window.clearTimeout(S.current),F.current=new Date().getTime(),S.current=window.setTimeout(O,W))},[O]);y.useEffect(()=>{const W=g.viewport;if(W){const H=()=>{L(I.current),u==null||u()},J=()=>{const oe=new Date().getTime()-F.current;I.current=I.current-oe,window.clearTimeout(S.current),c==null||c()};return W.addEventListener(ty,J),W.addEventListener(ny,H),()=>{W.removeEventListener(ty,J),W.removeEventListener(ny,H)}}},[g.viewport,D,c,u,L]),y.useEffect(()=>{i&&!g.isClosePausedRef.current&&L(D)},[i,D,g.isClosePausedRef,L]),y.useEffect(()=>(P(),()=>k()),[P,k]);const j=y.useMemo(()=>w?FA(w):null,[w]);return g.viewport?l.jsxs(l.Fragment,{children:[j&&l.jsx(OD,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:j}),l.jsx(MD,{scope:n,onClose:O,children:pa.createPortal(l.jsx(ux.ItemSlot,{scope:n,children:l.jsx(gD,{asChild:!0,onEscapeKeyDown:pe(a,()=>{g.isFocusedToastEscapeKeyDownRef.current||O(),g.isFocusedToastEscapeKeyDownRef.current=!1}),children:l.jsx(Be.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":g.swipeDirection,...x,ref:E,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:pe(t.onKeyDown,W=>{W.key==="Escape"&&(a==null||a(W.nativeEvent),W.nativeEvent.defaultPrevented||(g.isFocusedToastEscapeKeyDownRef.current=!0,O()))}),onPointerDown:pe(t.onPointerDown,W=>{W.button===0&&(b.current={x:W.clientX,y:W.clientY})}),onPointerMove:pe(t.onPointerMove,W=>{if(!b.current)return;const H=W.clientX-b.current.x,J=W.clientY-b.current.y,oe=!!R.current,q=["left","right"].includes(g.swipeDirection),z=["left","up"].includes(g.swipeDirection)?Math.min:Math.max,se=q?z(0,H):0,ne=q?0:z(0,J),le=W.pointerType==="touch"?10:2,ue={x:se,y:ne},Se={originalEvent:W,delta:ue};oe?(R.current=ue,jh(ND,f,Se,{discrete:!1})):m1(ue,g.swipeDirection,le)?(R.current=ue,jh(RD,h,Se,{discrete:!1}),W.target.setPointerCapture(W.pointerId)):(Math.abs(H)>le||Math.abs(J)>le)&&(b.current=null)}),onPointerUp:pe(t.onPointerUp,W=>{const H=R.current,J=W.target;if(J.hasPointerCapture(W.pointerId)&&J.releasePointerCapture(W.pointerId),R.current=null,b.current=null,H){const oe=W.currentTarget,q={originalEvent:W,delta:H};m1(H,g.swipeDirection,g.swipeThreshold)?jh(kD,v,q,{discrete:!0}):jh(PD,p,q,{discrete:!0}),oe.addEventListener("click",z=>z.preventDefault(),{once:!0})}})})})}),g.viewport)})]}):null}),OD=t=>{const{__scopeToast:e,children:n,...r}=t,s=Xp(Zp,e),[i,o]=y.useState(!1),[a,c]=y.useState(!1);return FD(()=>o(!0)),y.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),a?null:l.jsx(Jp,{asChild:!0,children:l.jsx(ud,{...r,children:i&&l.jsxs(l.Fragment,{children:[s.label," ",n]})})})},LD="ToastTitle",MA=y.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return l.jsx(Be.div,{...r,ref:e})});MA.displayName=LD;var VD="ToastDescription",jA=y.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return l.jsx(Be.div,{...r,ref:e})});jA.displayName=VD;var DA="ToastAction",OA=y.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?l.jsx(VA,{altText:n,asChild:!0,children:l.jsx(dx,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${DA}\`. Expected non-empty \`string\`.`),null)});OA.displayName=DA;var LA="ToastClose",dx=y.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,s=jD(LA,n);return l.jsx(VA,{asChild:!0,children:l.jsx(Be.button,{type:"button",...r,ref:e,onClick:pe(t.onClick,s.onClose)})})});dx.displayName=LA;var VA=y.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...s}=t;return l.jsx(Be.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...s,ref:e})});function FA(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),BD(r)){const s=r.ariaHidden||r.hidden||r.style.display==="none",i=r.dataset.radixToastAnnounceExclude==="";if(!s)if(i){const o=r.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...FA(r))}}),e}function jh(t,e,n,{discrete:r}){const s=n.originalEvent.currentTarget,i=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?lx(s,i):s.dispatchEvent(i)}var m1=(t,e,n=0)=>{const r=Math.abs(t.x),s=Math.abs(t.y),i=r>s;return e==="left"||e==="right"?i&&r>n:!i&&s>n};function FD(t=()=>{}){const e=bn(t);Cn(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function BD(t){return t.nodeType===t.ELEMENT_NODE}function UD(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function jg(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var qD=IA,BA=NA,UA=kA,qA=MA,GA=jA,$A=OA,zA=dx;function WA(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=WA(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function QA(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=WA(t))&&(r&&(r+=" "),r+=e);return r}const g1=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,y1=QA,hx=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return y1(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:i}=e,o=Object.keys(s).map(u=>{const h=n==null?void 0:n[u],f=i==null?void 0:i[u];if(h===null)return null;const p=g1(h)||g1(f);return s[u][p]}),a=n&&Object.entries(n).reduce((u,h)=>{let[f,p]=h;return p===void 0||(u[f]=p),u},{}),c=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((u,h)=>{let{class:f,className:p,...v}=h;return Object.entries(v).every(x=>{let[g,w]=x;return Array.isArray(w)?w.includes({...i,...a}[g]):{...i,...a}[g]===w})?[...u,f,p]:u},[]);return y1(t,o,c,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GD=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),YA=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var $D={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zD=y.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:o,...a},c)=>y.createElement("svg",{ref:c,...$D,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:YA("lucide",s),...a},[...o.map(([u,h])=>y.createElement(u,h)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ze=(t,e)=>{const n=y.forwardRef(({className:r,...s},i)=>y.createElement(zD,{ref:i,iconNode:e,className:YA(`lucide-${GD(t)}`,r),...s}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KA=ze("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jl=ze("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WD=ze("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QD=ze("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HA=ze("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JA=ze("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ju=ze("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YD=ze("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const np=ze("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uf=ze("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KD=ze("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XA=ze("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sy=ze("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fx=ze("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sr=ze("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HD=ze("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JD=ze("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const px=ze("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZA=ze("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XD=ze("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZD=ze("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eO=ze("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tO=ze("QrCode",[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nO=ze("ScanLine",[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}],["path",{d:"M7 12h10",key:"b7w52i"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rO=ze("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mx=ze("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eS=ze("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tS=ze("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nS=ze("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dd=ze("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sO=ze("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gx=ze("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iy=ze("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ll=ze("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const na=ze("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vl=ze("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),yx="-",iO=t=>{const e=aO(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const a=o.split(yx);return a[0]===""&&a.length!==1&&a.shift(),rS(a,e)||oO(o)},getConflictingClassGroupIds:(o,a)=>{const c=n[o]||[];return a&&r[o]?[...c,...r[o]]:c}}},rS=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),s=r?rS(t.slice(1),r):void 0;if(s)return s;if(e.validators.length===0)return;const i=t.join(yx);return(o=e.validators.find(({validator:a})=>a(i)))==null?void 0:o.classGroupId},v1=/^\[(.+)\]$/,oO=t=>{if(v1.test(t)){const e=v1.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},aO=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return cO(Object.entries(t.classGroups),n).forEach(([i,o])=>{oy(o,r,i,e)}),r},oy=(t,e,n,r)=>{t.forEach(s=>{if(typeof s=="string"){const i=s===""?e:x1(e,s);i.classGroupId=n;return}if(typeof s=="function"){if(lO(s)){oy(s(r),e,n,r);return}e.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([i,o])=>{oy(o,x1(e,i),n,r)})})},x1=(t,e)=>{let n=t;return e.split(yx).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},lO=t=>t.isThemeGetter,cO=(t,e)=>e?t.map(([n,r])=>{const s=r.map(i=>typeof i=="string"?e+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,a])=>[e+o,a])):i);return[n,s]}):t,uO=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const s=(i,o)=>{n.set(i,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(i){let o=n.get(i);if(o!==void 0)return o;if((o=r.get(i))!==void 0)return s(i,o),o},set(i,o){n.has(i)?n.set(i,o):s(i,o)}}},sS="!",dO=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,s=e[0],i=e.length,o=a=>{const c=[];let u=0,h=0,f;for(let w=0;w<a.length;w++){let T=a[w];if(u===0){if(T===s&&(r||a.slice(w,w+i)===e)){c.push(a.slice(h,w)),h=w+i;continue}if(T==="/"){f=w;continue}}T==="["?u++:T==="]"&&u--}const p=c.length===0?a:a.substring(h),v=p.startsWith(sS),x=v?p.substring(1):p,g=f&&f>h?f-h:void 0;return{modifiers:c,hasImportantModifier:v,baseClassName:x,maybePostfixModifierPosition:g}};return n?a=>n({className:a,parseClassName:o}):o},hO=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},fO=t=>({cache:uO(t.cacheSize),parseClassName:dO(t),...iO(t)}),pO=/\s+/,mO=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=e,i=[],o=t.trim().split(pO);let a="";for(let c=o.length-1;c>=0;c-=1){const u=o[c],{modifiers:h,hasImportantModifier:f,baseClassName:p,maybePostfixModifierPosition:v}=n(u);let x=!!v,g=r(x?p.substring(0,v):p);if(!g){if(!x){a=u+(a.length>0?" "+a:a);continue}if(g=r(p),!g){a=u+(a.length>0?" "+a:a);continue}x=!1}const w=hO(h).join(":"),T=f?w+sS:w,E=T+g;if(i.includes(E))continue;i.push(E);const b=s(g,x);for(let R=0;R<b.length;++R){const D=b[R];i.push(T+D)}a=u+(a.length>0?" "+a:a)}return a};function gO(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=iS(e))&&(r&&(r+=" "),r+=n);return r}const iS=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=iS(t[r]))&&(n&&(n+=" "),n+=e);return n};function yO(t,...e){let n,r,s,i=o;function o(c){const u=e.reduce((h,f)=>f(h),t());return n=fO(u),r=n.cache.get,s=n.cache.set,i=a,a(c)}function a(c){const u=r(c);if(u)return u;const h=mO(c,n);return s(c,h),h}return function(){return i(gO.apply(null,arguments))}}const ht=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},oS=/^\[(?:([a-z-]+):)?(.+)\]$/i,vO=/^\d+\/\d+$/,xO=new Set(["px","full","screen"]),wO=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,EO=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,bO=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,CO=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,_O=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Rs=t=>fl(t)||xO.has(t)||vO.test(t),di=t=>Xl(t,"length",kO),fl=t=>!!t&&!Number.isNaN(Number(t)),Dg=t=>Xl(t,"number",fl),Dc=t=>!!t&&Number.isInteger(Number(t)),TO=t=>t.endsWith("%")&&fl(t.slice(0,-1)),Me=t=>oS.test(t),hi=t=>wO.test(t),AO=new Set(["length","size","percentage"]),SO=t=>Xl(t,AO,aS),IO=t=>Xl(t,"position",aS),RO=new Set(["image","url"]),NO=t=>Xl(t,RO,jO),PO=t=>Xl(t,"",MO),Oc=()=>!0,Xl=(t,e,n)=>{const r=oS.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},kO=t=>EO.test(t)&&!bO.test(t),aS=()=>!1,MO=t=>CO.test(t),jO=t=>_O.test(t),DO=()=>{const t=ht("colors"),e=ht("spacing"),n=ht("blur"),r=ht("brightness"),s=ht("borderColor"),i=ht("borderRadius"),o=ht("borderSpacing"),a=ht("borderWidth"),c=ht("contrast"),u=ht("grayscale"),h=ht("hueRotate"),f=ht("invert"),p=ht("gap"),v=ht("gradientColorStops"),x=ht("gradientColorStopPositions"),g=ht("inset"),w=ht("margin"),T=ht("opacity"),E=ht("padding"),b=ht("saturate"),R=ht("scale"),D=ht("sepia"),F=ht("skew"),I=ht("space"),S=ht("translate"),P=()=>["auto","contain","none"],k=()=>["auto","hidden","clip","visible","scroll"],O=()=>["auto",Me,e],L=()=>[Me,e],j=()=>["",Rs,di],W=()=>["auto",fl,Me],H=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],J=()=>["solid","dashed","dotted","double","none"],oe=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],q=()=>["start","end","center","between","around","evenly","stretch"],z=()=>["","0",Me],se=()=>["auto","avoid","all","avoid-page","page","left","right","column"],ne=()=>[fl,Me];return{cacheSize:500,separator:":",theme:{colors:[Oc],spacing:[Rs,di],blur:["none","",hi,Me],brightness:ne(),borderColor:[t],borderRadius:["none","","full",hi,Me],borderSpacing:L(),borderWidth:j(),contrast:ne(),grayscale:z(),hueRotate:ne(),invert:z(),gap:L(),gradientColorStops:[t],gradientColorStopPositions:[TO,di],inset:O(),margin:O(),opacity:ne(),padding:L(),saturate:ne(),scale:ne(),sepia:z(),skew:ne(),space:L(),translate:L()},classGroups:{aspect:[{aspect:["auto","square","video",Me]}],container:["container"],columns:[{columns:[hi]}],"break-after":[{"break-after":se()}],"break-before":[{"break-before":se()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...H(),Me]}],overflow:[{overflow:k()}],"overflow-x":[{"overflow-x":k()}],"overflow-y":[{"overflow-y":k()}],overscroll:[{overscroll:P()}],"overscroll-x":[{"overscroll-x":P()}],"overscroll-y":[{"overscroll-y":P()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[g]}],"inset-x":[{"inset-x":[g]}],"inset-y":[{"inset-y":[g]}],start:[{start:[g]}],end:[{end:[g]}],top:[{top:[g]}],right:[{right:[g]}],bottom:[{bottom:[g]}],left:[{left:[g]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Dc,Me]}],basis:[{basis:O()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Me]}],grow:[{grow:z()}],shrink:[{shrink:z()}],order:[{order:["first","last","none",Dc,Me]}],"grid-cols":[{"grid-cols":[Oc]}],"col-start-end":[{col:["auto",{span:["full",Dc,Me]},Me]}],"col-start":[{"col-start":W()}],"col-end":[{"col-end":W()}],"grid-rows":[{"grid-rows":[Oc]}],"row-start-end":[{row:["auto",{span:[Dc,Me]},Me]}],"row-start":[{"row-start":W()}],"row-end":[{"row-end":W()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Me]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Me]}],gap:[{gap:[p]}],"gap-x":[{"gap-x":[p]}],"gap-y":[{"gap-y":[p]}],"justify-content":[{justify:["normal",...q()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...q(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...q(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[E]}],px:[{px:[E]}],py:[{py:[E]}],ps:[{ps:[E]}],pe:[{pe:[E]}],pt:[{pt:[E]}],pr:[{pr:[E]}],pb:[{pb:[E]}],pl:[{pl:[E]}],m:[{m:[w]}],mx:[{mx:[w]}],my:[{my:[w]}],ms:[{ms:[w]}],me:[{me:[w]}],mt:[{mt:[w]}],mr:[{mr:[w]}],mb:[{mb:[w]}],ml:[{ml:[w]}],"space-x":[{"space-x":[I]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[I]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Me,e]}],"min-w":[{"min-w":[Me,e,"min","max","fit"]}],"max-w":[{"max-w":[Me,e,"none","full","min","max","fit","prose",{screen:[hi]},hi]}],h:[{h:[Me,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Me,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Me,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Me,e,"auto","min","max","fit"]}],"font-size":[{text:["base",hi,di]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Dg]}],"font-family":[{font:[Oc]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Me]}],"line-clamp":[{"line-clamp":["none",fl,Dg]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Rs,Me]}],"list-image":[{"list-image":["none",Me]}],"list-style-type":[{list:["none","disc","decimal",Me]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[T]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[T]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...J(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Rs,di]}],"underline-offset":[{"underline-offset":["auto",Rs,Me]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:L()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Me]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Me]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[T]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...H(),IO]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",SO]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},NO]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[x]}],"gradient-via-pos":[{via:[x]}],"gradient-to-pos":[{to:[x]}],"gradient-from":[{from:[v]}],"gradient-via":[{via:[v]}],"gradient-to":[{to:[v]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[T]}],"border-style":[{border:[...J(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[T]}],"divide-style":[{divide:J()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...J()]}],"outline-offset":[{"outline-offset":[Rs,Me]}],"outline-w":[{outline:[Rs,di]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:j()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[T]}],"ring-offset-w":[{"ring-offset":[Rs,di]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",hi,PO]}],"shadow-color":[{shadow:[Oc]}],opacity:[{opacity:[T]}],"mix-blend":[{"mix-blend":[...oe(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":oe()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",hi,Me]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[h]}],invert:[{invert:[f]}],saturate:[{saturate:[b]}],sepia:[{sepia:[D]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[h]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[T]}],"backdrop-saturate":[{"backdrop-saturate":[b]}],"backdrop-sepia":[{"backdrop-sepia":[D]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Me]}],duration:[{duration:ne()}],ease:[{ease:["linear","in","out","in-out",Me]}],delay:[{delay:ne()}],animate:[{animate:["none","spin","ping","pulse","bounce",Me]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[R]}],"scale-x":[{"scale-x":[R]}],"scale-y":[{"scale-y":[R]}],rotate:[{rotate:[Dc,Me]}],"translate-x":[{"translate-x":[S]}],"translate-y":[{"translate-y":[S]}],"skew-x":[{"skew-x":[F]}],"skew-y":[{"skew-y":[F]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Me]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Me]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":L()}],"scroll-mx":[{"scroll-mx":L()}],"scroll-my":[{"scroll-my":L()}],"scroll-ms":[{"scroll-ms":L()}],"scroll-me":[{"scroll-me":L()}],"scroll-mt":[{"scroll-mt":L()}],"scroll-mr":[{"scroll-mr":L()}],"scroll-mb":[{"scroll-mb":L()}],"scroll-ml":[{"scroll-ml":L()}],"scroll-p":[{"scroll-p":L()}],"scroll-px":[{"scroll-px":L()}],"scroll-py":[{"scroll-py":L()}],"scroll-ps":[{"scroll-ps":L()}],"scroll-pe":[{"scroll-pe":L()}],"scroll-pt":[{"scroll-pt":L()}],"scroll-pr":[{"scroll-pr":L()}],"scroll-pb":[{"scroll-pb":L()}],"scroll-pl":[{"scroll-pl":L()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Me]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Rs,di,Dg]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},OO=yO(DO),LO=()=>{};var w1={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lS=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},VO=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],a=t[n++],c=((s&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},cS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,a=o?t[s+1]:0,c=s+2<t.length,u=c?t[s+2]:0,h=i>>2,f=(i&3)<<4|a>>4;let p=(a&15)<<2|u>>6,v=u&63;c||(v=64,o||(p=64)),r.push(n[h],n[f],n[p],n[v])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(lS(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):VO(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],a=s<t.length?n[t.charAt(s)]:0;++s;const u=s<t.length?n[t.charAt(s)]:64;++s;const f=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||a==null||u==null||f==null)throw new FO;const p=i<<2|a>>4;if(r.push(p),u!==64){const v=a<<4&240|u>>2;if(r.push(v),f!==64){const x=u<<6&192|f;r.push(x)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class FO extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const BO=function(t){const e=lS(t);return cS.encodeByteArray(e,!0)},rp=function(t){return BO(t).replace(/\./g,"")},uS=function(t){try{return cS.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UO(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qO=()=>UO().__FIREBASE_DEFAULTS__,GO=()=>{if(typeof process>"u"||typeof w1>"u")return;const t=w1.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},$O=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&uS(t[1]);return e&&JSON.parse(e)},em=()=>{try{return LO()||qO()||GO()||$O()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},dS=t=>{var e,n;return(n=(e=em())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},zO=t=>{const e=dS(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},hS=()=>{var t;return(t=em())===null||t===void 0?void 0:t.config},fS=t=>{var e;return(e=em())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WO{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zl(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function pS(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QO(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t);return[rp(JSON.stringify(n)),rp(JSON.stringify(o)),""].join(".")}const lu={};function YO(){const t={prod:[],emulator:[]};for(const e of Object.keys(lu))lu[e]?t.emulator.push(e):t.prod.push(e);return t}function KO(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let E1=!1;function mS(t,e){if(typeof window>"u"||typeof document>"u"||!Zl(window.location.host)||lu[t]===e||lu[t]||E1)return;lu[t]=e;function n(p){return`__firebase__banner__${p}`}const r="__firebase__banner",i=YO().prod.length>0;function o(){const p=document.getElementById(r);p&&p.remove()}function a(p){p.style.display="flex",p.style.background="#7faaf0",p.style.position="fixed",p.style.bottom="5px",p.style.left="5px",p.style.padding=".5em",p.style.borderRadius="5px",p.style.alignItems="center"}function c(p,v){p.setAttribute("width","24"),p.setAttribute("id",v),p.setAttribute("height","24"),p.setAttribute("viewBox","0 0 24 24"),p.setAttribute("fill","none"),p.style.marginLeft="-6px"}function u(){const p=document.createElement("span");return p.style.cursor="pointer",p.style.marginLeft="16px",p.style.fontSize="24px",p.innerHTML=" &times;",p.onclick=()=>{E1=!0,o()},p}function h(p,v){p.setAttribute("id",v),p.innerText="Learn more",p.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",p.setAttribute("target","__blank"),p.style.paddingLeft="5px",p.style.textDecoration="underline"}function f(){const p=KO(r),v=n("text"),x=document.getElementById(v)||document.createElement("span"),g=n("learnmore"),w=document.getElementById(g)||document.createElement("a"),T=n("preprendIcon"),E=document.getElementById(T)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(p.created){const b=p.element;a(b),h(w,g);const R=u();c(E,T),b.append(E,x,w,R),document.body.appendChild(b)}i?(x.innerText="Preview backend disconnected.",E.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(E.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,x.innerText="Preview backend running in this workspace."),x.setAttribute("id",v)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",f):f()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _n(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function HO(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(_n())}function JO(){var t;const e=(t=em())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function XO(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function ZO(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function eL(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function tL(){const t=_n();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function nL(){return!JO()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function rL(){try{return typeof indexedDB=="object"}catch{return!1}}function sL(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)===null||i===void 0?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iL="FirebaseError";class Xs extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=iL,Object.setPrototypeOf(this,Xs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,hd.prototype.create)}}class hd{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?oL(i,r):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new Xs(s,a,r)}}function oL(t,e){return t.replace(aL,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const aL=/\{\$([^}]+)}/g;function lL(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function ra(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(b1(i)&&b1(o)){if(!ra(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function b1(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fd(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function qc(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,i]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(i)}}),e}function Gc(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function cL(t,e){const n=new uL(t,e);return n.subscribe.bind(n)}class uL{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");dL(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=Og),s.error===void 0&&(s.error=Og),s.complete===void 0&&(s.complete=Og);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function dL(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Og(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ut(t){return t&&t._delegate?t._delegate:t}class sa{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Do="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hL=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new WO;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(pL(e))try{this.getOrInitializeService({instanceIdentifier:Do})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=Do){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Do){return this.instances.has(e)}getOptions(e=Do){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);r===a&&o.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),i=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;i.add(e),this.onInitCallbacks.set(s,i);const o=this.instances.get(s);return o&&e(o,s),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:fL(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Do){return this.component?this.component.multipleInstances?e:Do:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function fL(t){return t===Do?void 0:t}function pL(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mL{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new hL(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qe;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(qe||(qe={}));const gL={debug:qe.DEBUG,verbose:qe.VERBOSE,info:qe.INFO,warn:qe.WARN,error:qe.ERROR,silent:qe.SILENT},yL=qe.INFO,vL={[qe.DEBUG]:"log",[qe.VERBOSE]:"log",[qe.INFO]:"info",[qe.WARN]:"warn",[qe.ERROR]:"error"},xL=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=vL[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class vx{constructor(e){this.name=e,this._logLevel=yL,this._logHandler=xL,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in qe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?gL[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,qe.DEBUG,...e),this._logHandler(this,qe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,qe.VERBOSE,...e),this._logHandler(this,qe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,qe.INFO,...e),this._logHandler(this,qe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,qe.WARN,...e),this._logHandler(this,qe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,qe.ERROR,...e),this._logHandler(this,qe.ERROR,...e)}}const wL=(t,e)=>e.some(n=>t instanceof n);let C1,_1;function EL(){return C1||(C1=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function bL(){return _1||(_1=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const gS=new WeakMap,ay=new WeakMap,yS=new WeakMap,Lg=new WeakMap,xx=new WeakMap;function CL(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(Gi(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&gS.set(n,t)}).catch(()=>{}),xx.set(e,t),e}function _L(t){if(ay.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});ay.set(t,e)}let ly={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return ay.get(t);if(e==="objectStoreNames")return t.objectStoreNames||yS.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Gi(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function TL(t){ly=t(ly)}function AL(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Vg(this),e,...n);return yS.set(r,e.sort?e.sort():[e]),Gi(r)}:bL().includes(t)?function(...e){return t.apply(Vg(this),e),Gi(gS.get(this))}:function(...e){return Gi(t.apply(Vg(this),e))}}function SL(t){return typeof t=="function"?AL(t):(t instanceof IDBTransaction&&_L(t),wL(t,EL())?new Proxy(t,ly):t)}function Gi(t){if(t instanceof IDBRequest)return CL(t);if(Lg.has(t))return Lg.get(t);const e=SL(t);return e!==t&&(Lg.set(t,e),xx.set(e,t)),e}const Vg=t=>xx.get(t);function IL(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),a=Gi(o);return r&&o.addEventListener("upgradeneeded",c=>{r(Gi(o.result),c.oldVersion,c.newVersion,Gi(o.transaction),c)}),n&&o.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),a.then(c=>{i&&c.addEventListener("close",()=>i()),s&&c.addEventListener("versionchange",u=>s(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const RL=["get","getKey","getAll","getAllKeys","count"],NL=["put","add","delete","clear"],Fg=new Map;function T1(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Fg.get(e))return Fg.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=NL.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||RL.includes(n)))return;const i=async function(o,...a){const c=this.transaction(o,s?"readwrite":"readonly");let u=c.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),s&&c.done]))[0]};return Fg.set(e,i),i}TL(t=>({...t,get:(e,n,r)=>T1(e,n)||t.get(e,n,r),has:(e,n)=>!!T1(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PL{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(kL(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function kL(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const cy="@firebase/app",A1="0.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $s=new vx("@firebase/app"),ML="@firebase/app-compat",jL="@firebase/analytics-compat",DL="@firebase/analytics",OL="@firebase/app-check-compat",LL="@firebase/app-check",VL="@firebase/auth",FL="@firebase/auth-compat",BL="@firebase/database",UL="@firebase/data-connect",qL="@firebase/database-compat",GL="@firebase/functions",$L="@firebase/functions-compat",zL="@firebase/installations",WL="@firebase/installations-compat",QL="@firebase/messaging",YL="@firebase/messaging-compat",KL="@firebase/performance",HL="@firebase/performance-compat",JL="@firebase/remote-config",XL="@firebase/remote-config-compat",ZL="@firebase/storage",e3="@firebase/storage-compat",t3="@firebase/firestore",n3="@firebase/ai",r3="@firebase/firestore-compat",s3="firebase",i3="11.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uy="[DEFAULT]",o3={[cy]:"fire-core",[ML]:"fire-core-compat",[DL]:"fire-analytics",[jL]:"fire-analytics-compat",[LL]:"fire-app-check",[OL]:"fire-app-check-compat",[VL]:"fire-auth",[FL]:"fire-auth-compat",[BL]:"fire-rtdb",[UL]:"fire-data-connect",[qL]:"fire-rtdb-compat",[GL]:"fire-fn",[$L]:"fire-fn-compat",[zL]:"fire-iid",[WL]:"fire-iid-compat",[QL]:"fire-fcm",[YL]:"fire-fcm-compat",[KL]:"fire-perf",[HL]:"fire-perf-compat",[JL]:"fire-rc",[XL]:"fire-rc-compat",[ZL]:"fire-gcs",[e3]:"fire-gcs-compat",[t3]:"fire-fst",[r3]:"fire-fst-compat",[n3]:"fire-vertex","fire-js":"fire-js",[s3]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Du=new Map,a3=new Map,dy=new Map;function S1(t,e){try{t.container.addComponent(e)}catch(n){$s.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Fl(t){const e=t.name;if(dy.has(e))return $s.debug(`There were multiple attempts to register component ${e}.`),!1;dy.set(e,t);for(const n of Du.values())S1(n,t);for(const n of a3.values())S1(n,t);return!0}function wx(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function yr(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l3={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},$i=new hd("app","Firebase",l3);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c3{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new sa("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw $i.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ec=i3;function vS(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:uy,automaticDataCollectionEnabled:!0},e),s=r.name;if(typeof s!="string"||!s)throw $i.create("bad-app-name",{appName:String(s)});if(n||(n=hS()),!n)throw $i.create("no-options");const i=Du.get(s);if(i){if(ra(n,i.options)&&ra(r,i.config))return i;throw $i.create("duplicate-app",{appName:s})}const o=new mL(s);for(const c of dy.values())o.addComponent(c);const a=new c3(n,r,o);return Du.set(s,a),a}function Ex(t=uy){const e=Du.get(t);if(!e&&t===uy&&hS())return vS();if(!e)throw $i.create("no-app",{appName:t});return e}function u3(){return Array.from(Du.values())}function zi(t,e,n){var r;let s=(r=o3[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const i=s.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const a=[`Unable to register library "${s}" with version "${e}":`];i&&a.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),$s.warn(a.join(" "));return}Fl(new sa(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d3="firebase-heartbeat-database",h3=1,Ou="firebase-heartbeat-store";let Bg=null;function xS(){return Bg||(Bg=IL(d3,h3,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Ou)}catch(n){console.warn(n)}}}}).catch(t=>{throw $i.create("idb-open",{originalErrorMessage:t.message})})),Bg}async function f3(t){try{const n=(await xS()).transaction(Ou),r=await n.objectStore(Ou).get(wS(t));return await n.done,r}catch(e){if(e instanceof Xs)$s.warn(e.message);else{const n=$i.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});$s.warn(n.message)}}}async function I1(t,e){try{const r=(await xS()).transaction(Ou,"readwrite");await r.objectStore(Ou).put(e,wS(t)),await r.done}catch(n){if(n instanceof Xs)$s.warn(n.message);else{const r=$i.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});$s.warn(r.message)}}}function wS(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p3=1024,m3=30;class g3{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new v3(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=R1();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats.length>m3){const o=x3(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){$s.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=R1(),{heartbeatsToSend:r,unsentEntries:s}=y3(this._heartbeatsCache.heartbeats),i=rp(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return $s.warn(n),""}}}function R1(){return new Date().toISOString().substring(0,10)}function y3(t,e=p3){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),N1(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),N1(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class v3{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return rL()?sL().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await f3(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return I1(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return I1(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function N1(t){return rp(JSON.stringify({version:2,heartbeats:t})).length}function x3(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w3(t){Fl(new sa("platform-logger",e=>new PL(e),"PRIVATE")),Fl(new sa("heartbeat",e=>new g3(e),"PRIVATE")),zi(cy,A1,t),zi(cy,A1,"esm2017"),zi("fire-js","")}w3("");var E3="firebase",b3="11.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */zi(E3,b3,"app");var P1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Wi,ES;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(I,S){function P(){}P.prototype=S.prototype,I.D=S.prototype,I.prototype=new P,I.prototype.constructor=I,I.C=function(k,O,L){for(var j=Array(arguments.length-2),W=2;W<arguments.length;W++)j[W-2]=arguments[W];return S.prototype[O].apply(k,j)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(I,S,P){P||(P=0);var k=Array(16);if(typeof S=="string")for(var O=0;16>O;++O)k[O]=S.charCodeAt(P++)|S.charCodeAt(P++)<<8|S.charCodeAt(P++)<<16|S.charCodeAt(P++)<<24;else for(O=0;16>O;++O)k[O]=S[P++]|S[P++]<<8|S[P++]<<16|S[P++]<<24;S=I.g[0],P=I.g[1],O=I.g[2];var L=I.g[3],j=S+(L^P&(O^L))+k[0]+3614090360&4294967295;S=P+(j<<7&4294967295|j>>>25),j=L+(O^S&(P^O))+k[1]+3905402710&4294967295,L=S+(j<<12&4294967295|j>>>20),j=O+(P^L&(S^P))+k[2]+606105819&4294967295,O=L+(j<<17&4294967295|j>>>15),j=P+(S^O&(L^S))+k[3]+3250441966&4294967295,P=O+(j<<22&4294967295|j>>>10),j=S+(L^P&(O^L))+k[4]+4118548399&4294967295,S=P+(j<<7&4294967295|j>>>25),j=L+(O^S&(P^O))+k[5]+1200080426&4294967295,L=S+(j<<12&4294967295|j>>>20),j=O+(P^L&(S^P))+k[6]+2821735955&4294967295,O=L+(j<<17&4294967295|j>>>15),j=P+(S^O&(L^S))+k[7]+4249261313&4294967295,P=O+(j<<22&4294967295|j>>>10),j=S+(L^P&(O^L))+k[8]+1770035416&4294967295,S=P+(j<<7&4294967295|j>>>25),j=L+(O^S&(P^O))+k[9]+2336552879&4294967295,L=S+(j<<12&4294967295|j>>>20),j=O+(P^L&(S^P))+k[10]+4294925233&4294967295,O=L+(j<<17&4294967295|j>>>15),j=P+(S^O&(L^S))+k[11]+2304563134&4294967295,P=O+(j<<22&4294967295|j>>>10),j=S+(L^P&(O^L))+k[12]+1804603682&4294967295,S=P+(j<<7&4294967295|j>>>25),j=L+(O^S&(P^O))+k[13]+4254626195&4294967295,L=S+(j<<12&4294967295|j>>>20),j=O+(P^L&(S^P))+k[14]+2792965006&4294967295,O=L+(j<<17&4294967295|j>>>15),j=P+(S^O&(L^S))+k[15]+1236535329&4294967295,P=O+(j<<22&4294967295|j>>>10),j=S+(O^L&(P^O))+k[1]+4129170786&4294967295,S=P+(j<<5&4294967295|j>>>27),j=L+(P^O&(S^P))+k[6]+3225465664&4294967295,L=S+(j<<9&4294967295|j>>>23),j=O+(S^P&(L^S))+k[11]+643717713&4294967295,O=L+(j<<14&4294967295|j>>>18),j=P+(L^S&(O^L))+k[0]+3921069994&4294967295,P=O+(j<<20&4294967295|j>>>12),j=S+(O^L&(P^O))+k[5]+3593408605&4294967295,S=P+(j<<5&4294967295|j>>>27),j=L+(P^O&(S^P))+k[10]+38016083&4294967295,L=S+(j<<9&4294967295|j>>>23),j=O+(S^P&(L^S))+k[15]+3634488961&4294967295,O=L+(j<<14&4294967295|j>>>18),j=P+(L^S&(O^L))+k[4]+3889429448&4294967295,P=O+(j<<20&4294967295|j>>>12),j=S+(O^L&(P^O))+k[9]+568446438&4294967295,S=P+(j<<5&4294967295|j>>>27),j=L+(P^O&(S^P))+k[14]+3275163606&4294967295,L=S+(j<<9&4294967295|j>>>23),j=O+(S^P&(L^S))+k[3]+4107603335&4294967295,O=L+(j<<14&4294967295|j>>>18),j=P+(L^S&(O^L))+k[8]+1163531501&4294967295,P=O+(j<<20&4294967295|j>>>12),j=S+(O^L&(P^O))+k[13]+2850285829&4294967295,S=P+(j<<5&4294967295|j>>>27),j=L+(P^O&(S^P))+k[2]+4243563512&4294967295,L=S+(j<<9&4294967295|j>>>23),j=O+(S^P&(L^S))+k[7]+1735328473&4294967295,O=L+(j<<14&4294967295|j>>>18),j=P+(L^S&(O^L))+k[12]+2368359562&4294967295,P=O+(j<<20&4294967295|j>>>12),j=S+(P^O^L)+k[5]+4294588738&4294967295,S=P+(j<<4&4294967295|j>>>28),j=L+(S^P^O)+k[8]+2272392833&4294967295,L=S+(j<<11&4294967295|j>>>21),j=O+(L^S^P)+k[11]+1839030562&4294967295,O=L+(j<<16&4294967295|j>>>16),j=P+(O^L^S)+k[14]+4259657740&4294967295,P=O+(j<<23&4294967295|j>>>9),j=S+(P^O^L)+k[1]+2763975236&4294967295,S=P+(j<<4&4294967295|j>>>28),j=L+(S^P^O)+k[4]+1272893353&4294967295,L=S+(j<<11&4294967295|j>>>21),j=O+(L^S^P)+k[7]+4139469664&4294967295,O=L+(j<<16&4294967295|j>>>16),j=P+(O^L^S)+k[10]+3200236656&4294967295,P=O+(j<<23&4294967295|j>>>9),j=S+(P^O^L)+k[13]+681279174&4294967295,S=P+(j<<4&4294967295|j>>>28),j=L+(S^P^O)+k[0]+3936430074&4294967295,L=S+(j<<11&4294967295|j>>>21),j=O+(L^S^P)+k[3]+3572445317&4294967295,O=L+(j<<16&4294967295|j>>>16),j=P+(O^L^S)+k[6]+76029189&4294967295,P=O+(j<<23&4294967295|j>>>9),j=S+(P^O^L)+k[9]+3654602809&4294967295,S=P+(j<<4&4294967295|j>>>28),j=L+(S^P^O)+k[12]+3873151461&4294967295,L=S+(j<<11&4294967295|j>>>21),j=O+(L^S^P)+k[15]+530742520&4294967295,O=L+(j<<16&4294967295|j>>>16),j=P+(O^L^S)+k[2]+3299628645&4294967295,P=O+(j<<23&4294967295|j>>>9),j=S+(O^(P|~L))+k[0]+4096336452&4294967295,S=P+(j<<6&4294967295|j>>>26),j=L+(P^(S|~O))+k[7]+1126891415&4294967295,L=S+(j<<10&4294967295|j>>>22),j=O+(S^(L|~P))+k[14]+2878612391&4294967295,O=L+(j<<15&4294967295|j>>>17),j=P+(L^(O|~S))+k[5]+4237533241&4294967295,P=O+(j<<21&4294967295|j>>>11),j=S+(O^(P|~L))+k[12]+1700485571&4294967295,S=P+(j<<6&4294967295|j>>>26),j=L+(P^(S|~O))+k[3]+2399980690&4294967295,L=S+(j<<10&4294967295|j>>>22),j=O+(S^(L|~P))+k[10]+4293915773&4294967295,O=L+(j<<15&4294967295|j>>>17),j=P+(L^(O|~S))+k[1]+2240044497&4294967295,P=O+(j<<21&4294967295|j>>>11),j=S+(O^(P|~L))+k[8]+1873313359&4294967295,S=P+(j<<6&4294967295|j>>>26),j=L+(P^(S|~O))+k[15]+4264355552&4294967295,L=S+(j<<10&4294967295|j>>>22),j=O+(S^(L|~P))+k[6]+2734768916&4294967295,O=L+(j<<15&4294967295|j>>>17),j=P+(L^(O|~S))+k[13]+1309151649&4294967295,P=O+(j<<21&4294967295|j>>>11),j=S+(O^(P|~L))+k[4]+4149444226&4294967295,S=P+(j<<6&4294967295|j>>>26),j=L+(P^(S|~O))+k[11]+3174756917&4294967295,L=S+(j<<10&4294967295|j>>>22),j=O+(S^(L|~P))+k[2]+718787259&4294967295,O=L+(j<<15&4294967295|j>>>17),j=P+(L^(O|~S))+k[9]+3951481745&4294967295,I.g[0]=I.g[0]+S&4294967295,I.g[1]=I.g[1]+(O+(j<<21&4294967295|j>>>11))&4294967295,I.g[2]=I.g[2]+O&4294967295,I.g[3]=I.g[3]+L&4294967295}r.prototype.u=function(I,S){S===void 0&&(S=I.length);for(var P=S-this.blockSize,k=this.B,O=this.h,L=0;L<S;){if(O==0)for(;L<=P;)s(this,I,L),L+=this.blockSize;if(typeof I=="string"){for(;L<S;)if(k[O++]=I.charCodeAt(L++),O==this.blockSize){s(this,k),O=0;break}}else for(;L<S;)if(k[O++]=I[L++],O==this.blockSize){s(this,k),O=0;break}}this.h=O,this.o+=S},r.prototype.v=function(){var I=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);I[0]=128;for(var S=1;S<I.length-8;++S)I[S]=0;var P=8*this.o;for(S=I.length-8;S<I.length;++S)I[S]=P&255,P/=256;for(this.u(I),I=Array(16),S=P=0;4>S;++S)for(var k=0;32>k;k+=8)I[P++]=this.g[S]>>>k&255;return I};function i(I,S){var P=a;return Object.prototype.hasOwnProperty.call(P,I)?P[I]:P[I]=S(I)}function o(I,S){this.h=S;for(var P=[],k=!0,O=I.length-1;0<=O;O--){var L=I[O]|0;k&&L==S||(P[O]=L,k=!1)}this.g=P}var a={};function c(I){return-128<=I&&128>I?i(I,function(S){return new o([S|0],0>S?-1:0)}):new o([I|0],0>I?-1:0)}function u(I){if(isNaN(I)||!isFinite(I))return f;if(0>I)return w(u(-I));for(var S=[],P=1,k=0;I>=P;k++)S[k]=I/P|0,P*=4294967296;return new o(S,0)}function h(I,S){if(I.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(I.charAt(0)=="-")return w(h(I.substring(1),S));if(0<=I.indexOf("-"))throw Error('number format error: interior "-" character');for(var P=u(Math.pow(S,8)),k=f,O=0;O<I.length;O+=8){var L=Math.min(8,I.length-O),j=parseInt(I.substring(O,O+L),S);8>L?(L=u(Math.pow(S,L)),k=k.j(L).add(u(j))):(k=k.j(P),k=k.add(u(j)))}return k}var f=c(0),p=c(1),v=c(16777216);t=o.prototype,t.m=function(){if(g(this))return-w(this).m();for(var I=0,S=1,P=0;P<this.g.length;P++){var k=this.i(P);I+=(0<=k?k:4294967296+k)*S,S*=4294967296}return I},t.toString=function(I){if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(x(this))return"0";if(g(this))return"-"+w(this).toString(I);for(var S=u(Math.pow(I,6)),P=this,k="";;){var O=R(P,S).g;P=T(P,O.j(S));var L=((0<P.g.length?P.g[0]:P.h)>>>0).toString(I);if(P=O,x(P))return L+k;for(;6>L.length;)L="0"+L;k=L+k}},t.i=function(I){return 0>I?0:I<this.g.length?this.g[I]:this.h};function x(I){if(I.h!=0)return!1;for(var S=0;S<I.g.length;S++)if(I.g[S]!=0)return!1;return!0}function g(I){return I.h==-1}t.l=function(I){return I=T(this,I),g(I)?-1:x(I)?0:1};function w(I){for(var S=I.g.length,P=[],k=0;k<S;k++)P[k]=~I.g[k];return new o(P,~I.h).add(p)}t.abs=function(){return g(this)?w(this):this},t.add=function(I){for(var S=Math.max(this.g.length,I.g.length),P=[],k=0,O=0;O<=S;O++){var L=k+(this.i(O)&65535)+(I.i(O)&65535),j=(L>>>16)+(this.i(O)>>>16)+(I.i(O)>>>16);k=j>>>16,L&=65535,j&=65535,P[O]=j<<16|L}return new o(P,P[P.length-1]&-2147483648?-1:0)};function T(I,S){return I.add(w(S))}t.j=function(I){if(x(this)||x(I))return f;if(g(this))return g(I)?w(this).j(w(I)):w(w(this).j(I));if(g(I))return w(this.j(w(I)));if(0>this.l(v)&&0>I.l(v))return u(this.m()*I.m());for(var S=this.g.length+I.g.length,P=[],k=0;k<2*S;k++)P[k]=0;for(k=0;k<this.g.length;k++)for(var O=0;O<I.g.length;O++){var L=this.i(k)>>>16,j=this.i(k)&65535,W=I.i(O)>>>16,H=I.i(O)&65535;P[2*k+2*O]+=j*H,E(P,2*k+2*O),P[2*k+2*O+1]+=L*H,E(P,2*k+2*O+1),P[2*k+2*O+1]+=j*W,E(P,2*k+2*O+1),P[2*k+2*O+2]+=L*W,E(P,2*k+2*O+2)}for(k=0;k<S;k++)P[k]=P[2*k+1]<<16|P[2*k];for(k=S;k<2*S;k++)P[k]=0;return new o(P,0)};function E(I,S){for(;(I[S]&65535)!=I[S];)I[S+1]+=I[S]>>>16,I[S]&=65535,S++}function b(I,S){this.g=I,this.h=S}function R(I,S){if(x(S))throw Error("division by zero");if(x(I))return new b(f,f);if(g(I))return S=R(w(I),S),new b(w(S.g),w(S.h));if(g(S))return S=R(I,w(S)),new b(w(S.g),S.h);if(30<I.g.length){if(g(I)||g(S))throw Error("slowDivide_ only works with positive integers.");for(var P=p,k=S;0>=k.l(I);)P=D(P),k=D(k);var O=F(P,1),L=F(k,1);for(k=F(k,2),P=F(P,2);!x(k);){var j=L.add(k);0>=j.l(I)&&(O=O.add(P),L=j),k=F(k,1),P=F(P,1)}return S=T(I,O.j(S)),new b(O,S)}for(O=f;0<=I.l(S);){for(P=Math.max(1,Math.floor(I.m()/S.m())),k=Math.ceil(Math.log(P)/Math.LN2),k=48>=k?1:Math.pow(2,k-48),L=u(P),j=L.j(S);g(j)||0<j.l(I);)P-=k,L=u(P),j=L.j(S);x(L)&&(L=p),O=O.add(L),I=T(I,j)}return new b(O,I)}t.A=function(I){return R(this,I).h},t.and=function(I){for(var S=Math.max(this.g.length,I.g.length),P=[],k=0;k<S;k++)P[k]=this.i(k)&I.i(k);return new o(P,this.h&I.h)},t.or=function(I){for(var S=Math.max(this.g.length,I.g.length),P=[],k=0;k<S;k++)P[k]=this.i(k)|I.i(k);return new o(P,this.h|I.h)},t.xor=function(I){for(var S=Math.max(this.g.length,I.g.length),P=[],k=0;k<S;k++)P[k]=this.i(k)^I.i(k);return new o(P,this.h^I.h)};function D(I){for(var S=I.g.length+1,P=[],k=0;k<S;k++)P[k]=I.i(k)<<1|I.i(k-1)>>>31;return new o(P,I.h)}function F(I,S){var P=S>>5;S%=32;for(var k=I.g.length-P,O=[],L=0;L<k;L++)O[L]=0<S?I.i(L+P)>>>S|I.i(L+P+1)<<32-S:I.i(L+P);return new o(O,I.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,ES=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=h,Wi=o}).apply(typeof P1<"u"?P1:typeof self<"u"?self:typeof window<"u"?window:{});var Dh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var bS,$c,CS,df,hy,_S,TS,AS;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(d,m,A){return d==Array.prototype||d==Object.prototype||(d[m]=A.value),d};function n(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof Dh=="object"&&Dh];for(var m=0;m<d.length;++m){var A=d[m];if(A&&A.Math==Math)return A}throw Error("Cannot find global object")}var r=n(this);function s(d,m){if(m)e:{var A=r;d=d.split(".");for(var M=0;M<d.length-1;M++){var G=d[M];if(!(G in A))break e;A=A[G]}d=d[d.length-1],M=A[d],m=m(M),m!=M&&m!=null&&e(A,d,{configurable:!0,writable:!0,value:m})}}function i(d,m){d instanceof String&&(d+="");var A=0,M=!1,G={next:function(){if(!M&&A<d.length){var K=A++;return{value:m(K,d[K]),done:!1}}return M=!0,{done:!0,value:void 0}}};return G[Symbol.iterator]=function(){return G},G}s("Array.prototype.values",function(d){return d||function(){return i(this,function(m,A){return A})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function c(d){var m=typeof d;return m=m!="object"?m:d?Array.isArray(d)?"array":m:"null",m=="array"||m=="object"&&typeof d.length=="number"}function u(d){var m=typeof d;return m=="object"&&d!=null||m=="function"}function h(d,m,A){return d.call.apply(d.bind,arguments)}function f(d,m,A){if(!d)throw Error();if(2<arguments.length){var M=Array.prototype.slice.call(arguments,2);return function(){var G=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(G,M),d.apply(m,G)}}return function(){return d.apply(m,arguments)}}function p(d,m,A){return p=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:f,p.apply(null,arguments)}function v(d,m){var A=Array.prototype.slice.call(arguments,1);return function(){var M=A.slice();return M.push.apply(M,arguments),d.apply(this,M)}}function x(d,m){function A(){}A.prototype=m.prototype,d.aa=m.prototype,d.prototype=new A,d.prototype.constructor=d,d.Qb=function(M,G,K){for(var X=Array(arguments.length-2),rt=2;rt<arguments.length;rt++)X[rt-2]=arguments[rt];return m.prototype[G].apply(M,X)}}function g(d){const m=d.length;if(0<m){const A=Array(m);for(let M=0;M<m;M++)A[M]=d[M];return A}return[]}function w(d,m){for(let A=1;A<arguments.length;A++){const M=arguments[A];if(c(M)){const G=d.length||0,K=M.length||0;d.length=G+K;for(let X=0;X<K;X++)d[G+X]=M[X]}else d.push(M)}}class T{constructor(m,A){this.i=m,this.j=A,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function E(d){return/^[\s\xa0]*$/.test(d)}function b(){var d=a.navigator;return d&&(d=d.userAgent)?d:""}function R(d){return R[" "](d),d}R[" "]=function(){};var D=b().indexOf("Gecko")!=-1&&!(b().toLowerCase().indexOf("webkit")!=-1&&b().indexOf("Edge")==-1)&&!(b().indexOf("Trident")!=-1||b().indexOf("MSIE")!=-1)&&b().indexOf("Edge")==-1;function F(d,m,A){for(const M in d)m.call(A,d[M],M,d)}function I(d,m){for(const A in d)m.call(void 0,d[A],A,d)}function S(d){const m={};for(const A in d)m[A]=d[A];return m}const P="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function k(d,m){let A,M;for(let G=1;G<arguments.length;G++){M=arguments[G];for(A in M)d[A]=M[A];for(let K=0;K<P.length;K++)A=P[K],Object.prototype.hasOwnProperty.call(M,A)&&(d[A]=M[A])}}function O(d){var m=1;d=d.split(":");const A=[];for(;0<m&&d.length;)A.push(d.shift()),m--;return d.length&&A.push(d.join(":")),A}function L(d){a.setTimeout(()=>{throw d},0)}function j(){var d=z;let m=null;return d.g&&(m=d.g,d.g=d.g.next,d.g||(d.h=null),m.next=null),m}class W{constructor(){this.h=this.g=null}add(m,A){const M=H.get();M.set(m,A),this.h?this.h.next=M:this.g=M,this.h=M}}var H=new T(()=>new J,d=>d.reset());class J{constructor(){this.next=this.g=this.h=null}set(m,A){this.h=m,this.g=A,this.next=null}reset(){this.next=this.g=this.h=null}}let oe,q=!1,z=new W,se=()=>{const d=a.Promise.resolve(void 0);oe=()=>{d.then(ne)}};var ne=()=>{for(var d;d=j();){try{d.h.call(d.g)}catch(A){L(A)}var m=H;m.j(d),100>m.h&&(m.h++,d.next=m.g,m.g=d)}q=!1};function le(){this.s=this.s,this.C=this.C}le.prototype.s=!1,le.prototype.ma=function(){this.s||(this.s=!0,this.N())},le.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ue(d,m){this.type=d,this.g=this.target=m,this.defaultPrevented=!1}ue.prototype.h=function(){this.defaultPrevented=!0};var Se=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var d=!1,m=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const A=()=>{};a.addEventListener("test",A,m),a.removeEventListener("test",A,m)}catch{}return d}();function ke(d,m){if(ue.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d){var A=this.type=d.type,M=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;if(this.target=d.target||d.srcElement,this.g=m,m=d.relatedTarget){if(D){e:{try{R(m.nodeName);var G=!0;break e}catch{}G=!1}G||(m=null)}}else A=="mouseover"?m=d.fromElement:A=="mouseout"&&(m=d.toElement);this.relatedTarget=m,M?(this.clientX=M.clientX!==void 0?M.clientX:M.pageX,this.clientY=M.clientY!==void 0?M.clientY:M.pageY,this.screenX=M.screenX||0,this.screenY=M.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=typeof d.pointerType=="string"?d.pointerType:we[d.pointerType]||"",this.state=d.state,this.i=d,d.defaultPrevented&&ke.aa.h.call(this)}}x(ke,ue);var we={2:"touch",3:"pen",4:"mouse"};ke.prototype.h=function(){ke.aa.h.call(this);var d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var ie="closure_listenable_"+(1e6*Math.random()|0),ge=0;function xe(d,m,A,M,G){this.listener=d,this.proxy=null,this.src=m,this.type=A,this.capture=!!M,this.ha=G,this.key=++ge,this.da=this.fa=!1}function Ee(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function Te(d){this.src=d,this.g={},this.h=0}Te.prototype.add=function(d,m,A,M,G){var K=d.toString();d=this.g[K],d||(d=this.g[K]=[],this.h++);var X=he(d,m,M,G);return-1<X?(m=d[X],A||(m.fa=!1)):(m=new xe(m,this.src,K,!!M,G),m.fa=A,d.push(m)),m};function Ce(d,m){var A=m.type;if(A in d.g){var M=d.g[A],G=Array.prototype.indexOf.call(M,m,void 0),K;(K=0<=G)&&Array.prototype.splice.call(M,G,1),K&&(Ee(m),d.g[A].length==0&&(delete d.g[A],d.h--))}}function he(d,m,A,M){for(var G=0;G<d.length;++G){var K=d[G];if(!K.da&&K.listener==m&&K.capture==!!A&&K.ha==M)return G}return-1}var ve="closure_lm_"+(1e6*Math.random()|0),gt={};function at(d,m,A,M,G){if(Array.isArray(m)){for(var K=0;K<m.length;K++)at(d,m[K],A,M,G);return null}return A=bo(A),d&&d[ie]?d.K(m,A,u(M)?!!M.capture:!!M,G):Dt(d,m,A,!1,M,G)}function Dt(d,m,A,M,G,K){if(!m)throw Error("Invalid event type");var X=u(G)?!!G.capture:!!G,rt=ur(d);if(rt||(d[ve]=rt=new Te(d)),A=rt.add(m,A,M,X,K),A.proxy)return A;if(M=Ze(),A.proxy=M,M.src=d,M.listener=A,d.addEventListener)Se||(G=X),G===void 0&&(G=!1),d.addEventListener(m.toString(),M,G);else if(d.attachEvent)d.attachEvent(_r(m.toString()),M);else if(d.addListener&&d.removeListener)d.addListener(M);else throw Error("addEventListener and attachEvent are unavailable.");return A}function Ze(){function d(A){return m.call(d.src,d.listener,A)}const m=ys;return d}function yt(d,m,A,M,G){if(Array.isArray(m))for(var K=0;K<m.length;K++)yt(d,m[K],A,M,G);else M=u(M)?!!M.capture:!!M,A=bo(A),d&&d[ie]?(d=d.i,m=String(m).toString(),m in d.g&&(K=d.g[m],A=he(K,A,M,G),-1<A&&(Ee(K[A]),Array.prototype.splice.call(K,A,1),K.length==0&&(delete d.g[m],d.h--)))):d&&(d=ur(d))&&(m=d.g[m.toString()],d=-1,m&&(d=he(m,A,M,G)),(A=-1<d?m[d]:null)&&cn(A))}function cn(d){if(typeof d!="number"&&d&&!d.da){var m=d.src;if(m&&m[ie])Ce(m.i,d);else{var A=d.type,M=d.proxy;m.removeEventListener?m.removeEventListener(A,M,d.capture):m.detachEvent?m.detachEvent(_r(A),M):m.addListener&&m.removeListener&&m.removeListener(M),(A=ur(m))?(Ce(A,d),A.h==0&&(A.src=null,m[ve]=null)):Ee(d)}}}function _r(d){return d in gt?gt[d]:gt[d]="on"+d}function ys(d,m){if(d.da)d=!0;else{m=new ke(m,this);var A=d.listener,M=d.ha||d.src;d.fa&&cn(d),d=A.call(M,m)}return d}function ur(d){return d=d[ve],d instanceof Te?d:null}var vs="__closure_events_fn_"+(1e9*Math.random()>>>0);function bo(d){return typeof d=="function"?d:(d[vs]||(d[vs]=function(m){return d.handleEvent(m)}),d[vs])}function At(){le.call(this),this.i=new Te(this),this.M=this,this.F=null}x(At,le),At.prototype[ie]=!0,At.prototype.removeEventListener=function(d,m,A,M){yt(this,d,m,A,M)};function vt(d,m){var A,M=d.F;if(M)for(A=[];M;M=M.F)A.push(M);if(d=d.M,M=m.type||m,typeof m=="string")m=new ue(m,d);else if(m instanceof ue)m.target=m.target||d;else{var G=m;m=new ue(M,d),k(m,G)}if(G=!0,A)for(var K=A.length-1;0<=K;K--){var X=m.g=A[K];G=xs(X,M,!0,m)&&G}if(X=m.g=d,G=xs(X,M,!0,m)&&G,G=xs(X,M,!1,m)&&G,A)for(K=0;K<A.length;K++)X=m.g=A[K],G=xs(X,M,!1,m)&&G}At.prototype.N=function(){if(At.aa.N.call(this),this.i){var d=this.i,m;for(m in d.g){for(var A=d.g[m],M=0;M<A.length;M++)Ee(A[M]);delete d.g[m],d.h--}}this.F=null},At.prototype.K=function(d,m,A,M){return this.i.add(String(d),m,!1,A,M)},At.prototype.L=function(d,m,A,M){return this.i.add(String(d),m,!0,A,M)};function xs(d,m,A,M){if(m=d.i.g[String(m)],!m)return!0;m=m.concat();for(var G=!0,K=0;K<m.length;++K){var X=m[K];if(X&&!X.da&&X.capture==A){var rt=X.listener,qt=X.ha||X.src;X.fa&&Ce(d.i,X),G=rt.call(qt,M)!==!1&&G}}return G&&!M.defaultPrevented}function Tr(d,m,A){if(typeof d=="function")A&&(d=p(d,A));else if(d&&typeof d.handleEvent=="function")d=p(d.handleEvent,d);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:a.setTimeout(d,m||0)}function Co(d){d.g=Tr(()=>{d.g=null,d.i&&(d.i=!1,Co(d))},d.l);const m=d.h;d.h=null,d.m.apply(null,m)}class ei extends le{constructor(m,A){super(),this.m=m,this.l=A,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Co(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function dr(d){le.call(this),this.h=d,this.g={}}x(dr,le);var Ar=[];function Sr(d){F(d.g,function(m,A){this.g.hasOwnProperty(A)&&cn(m)},d),d.g={}}dr.prototype.N=function(){dr.aa.N.call(this),Sr(this)},dr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Tn=a.JSON.stringify,An=a.JSON.parse,pc=class{stringify(d){return a.JSON.stringify(d,void 0)}parse(d){return a.JSON.parse(d,void 0)}};function Ae(){}Ae.prototype.h=null;function Ue(d){return d.h||(d.h=d.i())}function Je(){}var Qt={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function un(){ue.call(this,"d")}x(un,ue);function Ir(){ue.call(this,"c")}x(Ir,ue);var dt={},ti=null;function We(){return ti=ti||new At}dt.La="serverreachability";function Pd(d){ue.call(this,dt.La,d)}x(Pd,ue);function dn(d){const m=We();vt(m,new Pd(m))}dt.STAT_EVENT="statevent";function hr(d,m){ue.call(this,dt.STAT_EVENT,d),this.stat=m}x(hr,ue);function en(d){const m=We();vt(m,new hr(m,d))}dt.Ma="timingevent";function kd(d,m){ue.call(this,dt.Ma,d),this.size=m}x(kd,ue);function ws(d,m){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){d()},m)}function Es(){this.g=!0}Es.prototype.xa=function(){this.g=!1};function Md(d,m,A,M,G,K){d.info(function(){if(d.g)if(K)for(var X="",rt=K.split("&"),qt=0;qt<rt.length;qt++){var Qe=rt[qt].split("=");if(1<Qe.length){var Yt=Qe[0];Qe=Qe[1];var Kt=Yt.split("_");X=2<=Kt.length&&Kt[1]=="type"?X+(Yt+"="+Qe+"&"):X+(Yt+"=redacted&")}}else X=null;else X=K;return"XMLHTTP REQ ("+M+") [attempt "+G+"]: "+m+`
`+A+`
`+X})}function $m(d,m,A,M,G,K,X){d.info(function(){return"XMLHTTP RESP ("+M+") [ attempt "+G+"]: "+m+`
`+A+`
`+K+" "+X})}function bs(d,m,A,M){d.info(function(){return"XMLHTTP TEXT ("+m+"): "+zm(d,A)+(M?" "+M:"")})}function _o(d,m){d.info(function(){return"TIMEOUT: "+m})}Es.prototype.info=function(){};function zm(d,m){if(!d.g)return m;if(!m)return null;try{var A=JSON.parse(m);if(A){for(d=0;d<A.length;d++)if(Array.isArray(A[d])){var M=A[d];if(!(2>M.length)){var G=M[1];if(Array.isArray(G)&&!(1>G.length)){var K=G[0];if(K!="noop"&&K!="stop"&&K!="close")for(var X=1;X<G.length;X++)G[X]=""}}}}return Tn(A)}catch{return m}}var Cs={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ba={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Ca;function To(){}x(To,Ae),To.prototype.g=function(){return new XMLHttpRequest},To.prototype.i=function(){return{}},Ca=new To;function Rr(d,m,A,M){this.j=d,this.i=m,this.l=A,this.R=M||1,this.U=new dr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new jd}function jd(){this.i=null,this.g="",this.h=!1}var Dd={},mc={};function gc(d,m,A){d.L=1,d.v=Na(Qn(m)),d.m=A,d.P=!0,_a(d,null)}function _a(d,m){d.F=Date.now(),Ta(d),d.A=Qn(d.v);var A=d.A,M=d.R;Array.isArray(M)||(M=[String(M)]),zd(A.i,"t",M),d.C=0,A=d.j.J,d.h=new jd,d.g=lh(d.j,A?m:null,!d.m),0<d.O&&(d.M=new ei(p(d.Y,d,d.g),d.O)),m=d.U,A=d.g,M=d.ca;var G="readystatechange";Array.isArray(G)||(G&&(Ar[0]=G.toString()),G=Ar);for(var K=0;K<G.length;K++){var X=at(A,G[K],M||m.handleEvent,!1,m.h||m);if(!X)break;m.g[X.key]=X}m=d.H?S(d.H):{},d.m?(d.u||(d.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.A,d.u,d.m,m)):(d.u="GET",d.g.ea(d.A,d.u,null,m)),dn(),Md(d.i,d.u,d.A,d.l,d.R,d.m)}Rr.prototype.ca=function(d){d=d.target;const m=this.M;m&&Pr(d)==3?m.j():this.Y(d)},Rr.prototype.Y=function(d){try{if(d==this.g)e:{const Kt=Pr(this.g);var m=this.g.Ba();const ci=this.g.Z();if(!(3>Kt)&&(Kt!=3||this.g&&(this.h.h||this.g.oa()||Zd(this.g)))){this.J||Kt!=4||m==7||(m==8||0>=ci?dn(3):dn(2)),vc(this);var A=this.g.Z();this.X=A;t:if(Od(this)){var M=Zd(this.g);d="";var G=M.length,K=Pr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){_s(this),Ao(this);var X="";break t}this.h.i=new a.TextDecoder}for(m=0;m<G;m++)this.h.h=!0,d+=this.h.i.decode(M[m],{stream:!(K&&m==G-1)});M.length=0,this.h.g+=d,this.C=0,X=this.h.g}else X=this.g.oa();if(this.o=A==200,$m(this.i,this.u,this.A,this.l,this.R,Kt,A),this.o){if(this.T&&!this.K){t:{if(this.g){var rt,qt=this.g;if((rt=qt.g?qt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!E(rt)){var Qe=rt;break t}}Qe=null}if(A=Qe)bs(this.i,this.l,A,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ni(this,A);else{this.o=!1,this.s=3,en(12),_s(this),Ao(this);break e}}if(this.P){A=!0;let Yn;for(;!this.J&&this.C<X.length;)if(Yn=Wm(this,X),Yn==mc){Kt==4&&(this.s=4,en(14),A=!1),bs(this.i,this.l,null,"[Incomplete Response]");break}else if(Yn==Dd){this.s=4,en(15),bs(this.i,this.l,X,"[Invalid Chunk]"),A=!1;break}else bs(this.i,this.l,Yn,null),ni(this,Yn);if(Od(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Kt!=4||X.length!=0||this.h.h||(this.s=1,en(16),A=!1),this.o=this.o&&A,!A)bs(this.i,this.l,X,"[Invalid Chunked Response]"),_s(this),Ao(this);else if(0<X.length&&!this.W){this.W=!0;var Yt=this.j;Yt.g==this&&Yt.ba&&!Yt.M&&(Yt.j.info("Great, no buffering proxy detected. Bytes received: "+X.length),Tc(Yt),Yt.M=!0,en(11))}}else bs(this.i,this.l,X,null),ni(this,X);Kt==4&&_s(this),this.o&&!this.J&&(Kt==4?oh(this.j,this):(this.o=!1,Ta(this)))}else ng(this.g),A==400&&0<X.indexOf("Unknown SID")?(this.s=3,en(12)):(this.s=0,en(13)),_s(this),Ao(this)}}}catch{}finally{}};function Od(d){return d.g?d.u=="GET"&&d.L!=2&&d.j.Ca:!1}function Wm(d,m){var A=d.C,M=m.indexOf(`
`,A);return M==-1?mc:(A=Number(m.substring(A,M)),isNaN(A)?Dd:(M+=1,M+A>m.length?mc:(m=m.slice(M,M+A),d.C=M+A,m)))}Rr.prototype.cancel=function(){this.J=!0,_s(this)};function Ta(d){d.S=Date.now()+d.I,yc(d,d.I)}function yc(d,m){if(d.B!=null)throw Error("WatchDog timer not null");d.B=ws(p(d.ba,d),m)}function vc(d){d.B&&(a.clearTimeout(d.B),d.B=null)}Rr.prototype.ba=function(){this.B=null;const d=Date.now();0<=d-this.S?(_o(this.i,this.A),this.L!=2&&(dn(),en(17)),_s(this),this.s=2,Ao(this)):yc(this,this.S-d)};function Ao(d){d.j.G==0||d.J||oh(d.j,d)}function _s(d){vc(d);var m=d.M;m&&typeof m.ma=="function"&&m.ma(),d.M=null,Sr(d.U),d.g&&(m=d.g,d.g=null,m.abort(),m.ma())}function ni(d,m){try{var A=d.j;if(A.G!=0&&(A.g==d||Aa(A.h,d))){if(!d.K&&Aa(A.h,d)&&A.G==3){try{var M=A.Da.g.parse(m)}catch{M=null}if(Array.isArray(M)&&M.length==3){var G=M;if(G[0]==0){e:if(!A.u){if(A.g)if(A.g.F+3e3<d.F)Da(A),Po(A);else break e;_c(A),en(18)}}else A.za=G[1],0<A.za-A.T&&37500>G[2]&&A.F&&A.v==0&&!A.C&&(A.C=ws(p(A.Za,A),6e3));if(1>=xc(A.h)&&A.ca){try{A.ca()}catch{}A.ca=void 0}}else Ss(A,11)}else if((d.K||A.g==d)&&Da(A),!E(m))for(G=A.Da.g.parse(m),m=0;m<G.length;m++){let Qe=G[m];if(A.T=Qe[0],Qe=Qe[1],A.G==2)if(Qe[0]=="c"){A.K=Qe[1],A.ia=Qe[2];const Yt=Qe[3];Yt!=null&&(A.la=Yt,A.j.info("VER="+A.la));const Kt=Qe[4];Kt!=null&&(A.Aa=Kt,A.j.info("SVER="+A.Aa));const ci=Qe[5];ci!=null&&typeof ci=="number"&&0<ci&&(M=1.5*ci,A.L=M,A.j.info("backChannelRequestTimeoutMs_="+M)),M=A;const Yn=d.g;if(Yn){const Va=Yn.g?Yn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Va){var K=M.h;K.g||Va.indexOf("spdy")==-1&&Va.indexOf("quic")==-1&&Va.indexOf("h2")==-1||(K.j=K.l,K.g=new Set,K.h&&(Sa(K,K.h),K.h=null))}if(M.D){const Ac=Yn.g?Yn.g.getResponseHeader("X-HTTP-Session-Id"):null;Ac&&(M.ya=Ac,ot(M.I,M.D,Ac))}}A.G=3,A.l&&A.l.ua(),A.ba&&(A.R=Date.now()-d.F,A.j.info("Handshake RTT: "+A.R+"ms")),M=A;var X=d;if(M.qa=ah(M,M.J?M.ia:null,M.W),X.K){Oe(M.h,X);var rt=X,qt=M.L;qt&&(rt.I=qt),rt.B&&(vc(rt),Ta(rt)),M.g=X}else sh(M);0<A.i.length&&ja(A)}else Qe[0]!="stop"&&Qe[0]!="close"||Ss(A,7);else A.G==3&&(Qe[0]=="stop"||Qe[0]=="close"?Qe[0]=="stop"?Ss(A,7):Cc(A):Qe[0]!="noop"&&A.l&&A.l.ta(Qe),A.v=0)}}dn(4)}catch{}}var Qm=class{constructor(d,m){this.g=d,this.map=m}};function Ld(d){this.l=d||10,a.PerformanceNavigationTiming?(d=a.performance.getEntriesByType("navigation"),d=0<d.length&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function So(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function xc(d){return d.h?1:d.g?d.g.size:0}function Aa(d,m){return d.h?d.h==m:d.g?d.g.has(m):!1}function Sa(d,m){d.g?d.g.add(m):d.h=m}function Oe(d,m){d.h&&d.h==m?d.h=null:d.g&&d.g.has(m)&&d.g.delete(m)}Ld.prototype.cancel=function(){if(this.i=Vd(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function Vd(d){if(d.h!=null)return d.i.concat(d.h.D);if(d.g!=null&&d.g.size!==0){let m=d.i;for(const A of d.g.values())m=m.concat(A.D);return m}return g(d.i)}function Ym(d){if(d.V&&typeof d.V=="function")return d.V();if(typeof Map<"u"&&d instanceof Map||typeof Set<"u"&&d instanceof Set)return Array.from(d.values());if(typeof d=="string")return d.split("");if(c(d)){for(var m=[],A=d.length,M=0;M<A;M++)m.push(d[M]);return m}m=[],A=0;for(M in d)m[A++]=d[M];return m}function Wn(d){if(d.na&&typeof d.na=="function")return d.na();if(!d.V||typeof d.V!="function"){if(typeof Map<"u"&&d instanceof Map)return Array.from(d.keys());if(!(typeof Set<"u"&&d instanceof Set)){if(c(d)||typeof d=="string"){var m=[];d=d.length;for(var A=0;A<d;A++)m.push(A);return m}m=[],A=0;for(const M in d)m[A++]=M;return m}}}function Fd(d,m){if(d.forEach&&typeof d.forEach=="function")d.forEach(m,void 0);else if(c(d)||typeof d=="string")Array.prototype.forEach.call(d,m,void 0);else for(var A=Wn(d),M=Ym(d),G=M.length,K=0;K<G;K++)m.call(void 0,M[K],A&&A[K],d)}var wc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ia(d,m){if(d){d=d.split("&");for(var A=0;A<d.length;A++){var M=d[A].indexOf("="),G=null;if(0<=M){var K=d[A].substring(0,M);G=d[A].substring(M+1)}else K=d[A];m(K,G?decodeURIComponent(G.replace(/\+/g," ")):"")}}}function Ts(d){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,d instanceof Ts){this.h=d.h,Ra(this,d.j),this.o=d.o,this.g=d.g,ri(this,d.s),this.l=d.l;var m=d.i,A=new Io;A.i=m.i,m.g&&(A.g=new Map(m.g),A.h=m.h),Bd(this,A),this.m=d.m}else d&&(m=String(d).match(wc))?(this.h=!1,Ra(this,m[1]||"",!0),this.o=As(m[2]||""),this.g=As(m[3]||"",!0),ri(this,m[4]),this.l=As(m[5]||"",!0),Bd(this,m[6]||"",!0),this.m=As(m[7]||"")):(this.h=!1,this.i=new Io(null,this.h))}Ts.prototype.toString=function(){var d=[],m=this.j;m&&d.push(Sn(m,Ud,!0),":");var A=this.g;return(A||m=="file")&&(d.push("//"),(m=this.o)&&d.push(Sn(m,Ud,!0),"@"),d.push(encodeURIComponent(String(A)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),A=this.s,A!=null&&d.push(":",String(A))),(A=this.l)&&(this.g&&A.charAt(0)!="/"&&d.push("/"),d.push(Sn(A,A.charAt(0)=="/"?Nr:Km,!0))),(A=this.i.toString())&&d.push("?",A),(A=this.m)&&d.push("#",Sn(A,Hm)),d.join("")};function Qn(d){return new Ts(d)}function Ra(d,m,A){d.j=A?As(m,!0):m,d.j&&(d.j=d.j.replace(/:$/,""))}function ri(d,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);d.s=m}else d.s=null}function Bd(d,m,A){m instanceof Io?(d.i=m,Jm(d.i,d.h)):(A||(m=Sn(m,qd)),d.i=new Io(m,d.h))}function ot(d,m,A){d.i.set(m,A)}function Na(d){return ot(d,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),d}function As(d,m){return d?m?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function Sn(d,m,A){return typeof d=="string"?(d=encodeURI(d).replace(m,Ec),A&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function Ec(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var Ud=/[#\/\?@]/g,Km=/[#\?:]/g,Nr=/[#\?]/g,qd=/[#\?@]/g,Hm=/#/g;function Io(d,m){this.h=this.g=null,this.i=d||null,this.j=!!m}function Kr(d){d.g||(d.g=new Map,d.h=0,d.i&&Ia(d.i,function(m,A){d.add(decodeURIComponent(m.replace(/\+/g," ")),A)}))}t=Io.prototype,t.add=function(d,m){Kr(this),this.i=null,d=si(this,d);var A=this.g.get(d);return A||this.g.set(d,A=[]),A.push(m),this.h+=1,this};function Gd(d,m){Kr(d),m=si(d,m),d.g.has(m)&&(d.i=null,d.h-=d.g.get(m).length,d.g.delete(m))}function $d(d,m){return Kr(d),m=si(d,m),d.g.has(m)}t.forEach=function(d,m){Kr(this),this.g.forEach(function(A,M){A.forEach(function(G){d.call(m,G,M,this)},this)},this)},t.na=function(){Kr(this);const d=Array.from(this.g.values()),m=Array.from(this.g.keys()),A=[];for(let M=0;M<m.length;M++){const G=d[M];for(let K=0;K<G.length;K++)A.push(m[M])}return A},t.V=function(d){Kr(this);let m=[];if(typeof d=="string")$d(this,d)&&(m=m.concat(this.g.get(si(this,d))));else{d=Array.from(this.g.values());for(let A=0;A<d.length;A++)m=m.concat(d[A])}return m},t.set=function(d,m){return Kr(this),this.i=null,d=si(this,d),$d(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[m]),this.h+=1,this},t.get=function(d,m){return d?(d=this.V(d),0<d.length?String(d[0]):m):m};function zd(d,m,A){Gd(d,m),0<A.length&&(d.i=null,d.g.set(si(d,m),g(A)),d.h+=A.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],m=Array.from(this.g.keys());for(var A=0;A<m.length;A++){var M=m[A];const K=encodeURIComponent(String(M)),X=this.V(M);for(M=0;M<X.length;M++){var G=K;X[M]!==""&&(G+="="+encodeURIComponent(String(X[M]))),d.push(G)}}return this.i=d.join("&")};function si(d,m){return m=String(m),d.j&&(m=m.toLowerCase()),m}function Jm(d,m){m&&!d.j&&(Kr(d),d.i=null,d.g.forEach(function(A,M){var G=M.toLowerCase();M!=G&&(Gd(this,M),zd(this,G,A))},d)),d.j=m}function Xm(d,m){const A=new Es;if(a.Image){const M=new Image;M.onload=v(In,A,"TestLoadImage: loaded",!0,m,M),M.onerror=v(In,A,"TestLoadImage: error",!1,m,M),M.onabort=v(In,A,"TestLoadImage: abort",!1,m,M),M.ontimeout=v(In,A,"TestLoadImage: timeout",!1,m,M),a.setTimeout(function(){M.ontimeout&&M.ontimeout()},1e4),M.src=d}else m(!1)}function Zm(d,m){const A=new Es,M=new AbortController,G=setTimeout(()=>{M.abort(),In(A,"TestPingServer: timeout",!1,m)},1e4);fetch(d,{signal:M.signal}).then(K=>{clearTimeout(G),K.ok?In(A,"TestPingServer: ok",!0,m):In(A,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(G),In(A,"TestPingServer: error",!1,m)})}function In(d,m,A,M,G){try{G&&(G.onload=null,G.onerror=null,G.onabort=null,G.ontimeout=null),M(A)}catch{}}function Wd(){this.g=new pc}function Qd(d,m,A){const M=A||"";try{Fd(d,function(G,K){let X=G;u(G)&&(X=Tn(G)),m.push(M+K+"="+encodeURIComponent(X))})}catch(G){throw m.push(M+"type="+encodeURIComponent("_badmap")),G}}function Ro(d){this.l=d.Ub||null,this.j=d.eb||!1}x(Ro,Ae),Ro.prototype.g=function(){return new Pa(this.l,this.j)},Ro.prototype.i=function(d){return function(){return d}}({});function Pa(d,m){At.call(this),this.D=d,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}x(Pa,At),t=Pa.prototype,t.open=function(d,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=d,this.A=m,this.readyState=1,No(this)},t.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};d&&(m.body=d),(this.D||a).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ii(this)),this.readyState=0},t.Sa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,No(this)),this.g&&(this.readyState=3,No(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Yd(this)}else d.text().then(this.Ra.bind(this),this.ga.bind(this))};function Yd(d){d.j.read().then(d.Pa.bind(d)).catch(d.ga.bind(d))}t.Pa=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var m=d.value?d.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!d.done}))&&(this.response=this.responseText+=m)}d.done?ii(this):No(this),this.readyState==3&&Yd(this)}},t.Ra=function(d){this.g&&(this.response=this.responseText=d,ii(this))},t.Qa=function(d){this.g&&(this.response=d,ii(this))},t.ga=function(){this.g&&ii(this)};function ii(d){d.readyState=4,d.l=null,d.j=null,d.v=null,No(d)}t.setRequestHeader=function(d,m){this.u.append(d,m)},t.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],m=this.h.entries();for(var A=m.next();!A.done;)A=A.value,d.push(A[0]+": "+A[1]),A=m.next();return d.join(`\r
`)};function No(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(Pa.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function Kd(d){let m="";return F(d,function(A,M){m+=M,m+=":",m+=A,m+=`\r
`}),m}function bc(d,m,A){e:{for(M in A){var M=!1;break e}M=!0}M||(A=Kd(A),typeof d=="string"?A!=null&&encodeURIComponent(String(A)):ot(d,m,A))}function xt(d){At.call(this),this.headers=new Map,this.o=d||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}x(xt,At);var eg=/^https?$/i,tg=["POST","PUT"];t=xt.prototype,t.Ha=function(d){this.J=d},t.ea=function(d,m,A,M){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);m=m?m.toUpperCase():"GET",this.D=d,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ca.g(),this.v=this.o?Ue(this.o):Ue(Ca),this.g.onreadystatechange=p(this.Ea,this);try{this.B=!0,this.g.open(m,String(d),!0),this.B=!1}catch(K){Hd(this,K);return}if(d=A||"",A=new Map(this.headers),M)if(Object.getPrototypeOf(M)===Object.prototype)for(var G in M)A.set(G,M[G]);else if(typeof M.keys=="function"&&typeof M.get=="function")for(const K of M.keys())A.set(K,M.get(K));else throw Error("Unknown input type for opt_headers: "+String(M));M=Array.from(A.keys()).find(K=>K.toLowerCase()=="content-type"),G=a.FormData&&d instanceof a.FormData,!(0<=Array.prototype.indexOf.call(tg,m,void 0))||M||G||A.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[K,X]of A)this.g.setRequestHeader(K,X);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ma(this),this.u=!0,this.g.send(d),this.u=!1}catch(K){Hd(this,K)}};function Hd(d,m){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=m,d.m=5,Jd(d),ka(d)}function Jd(d){d.A||(d.A=!0,vt(d,"complete"),vt(d,"error"))}t.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=d||7,vt(this,"complete"),vt(this,"abort"),ka(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ka(this,!0)),xt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Xd(this):this.bb())},t.bb=function(){Xd(this)};function Xd(d){if(d.h&&typeof o<"u"&&(!d.v[1]||Pr(d)!=4||d.Z()!=2)){if(d.u&&Pr(d)==4)Tr(d.Ea,0,d);else if(vt(d,"readystatechange"),Pr(d)==4){d.h=!1;try{const X=d.Z();e:switch(X){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var A;if(!(A=m)){var M;if(M=X===0){var G=String(d.D).match(wc)[1]||null;!G&&a.self&&a.self.location&&(G=a.self.location.protocol.slice(0,-1)),M=!eg.test(G?G.toLowerCase():"")}A=M}if(A)vt(d,"complete"),vt(d,"success");else{d.m=6;try{var K=2<Pr(d)?d.g.statusText:""}catch{K=""}d.l=K+" ["+d.Z()+"]",Jd(d)}}finally{ka(d)}}}}function ka(d,m){if(d.g){Ma(d);const A=d.g,M=d.v[0]?()=>{}:null;d.g=null,d.v=null,m||vt(d,"ready");try{A.onreadystatechange=M}catch{}}}function Ma(d){d.I&&(a.clearTimeout(d.I),d.I=null)}t.isActive=function(){return!!this.g};function Pr(d){return d.g?d.g.readyState:0}t.Z=function(){try{return 2<Pr(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(d){if(this.g){var m=this.g.responseText;return d&&m.indexOf(d)==0&&(m=m.substring(d.length)),An(m)}};function Zd(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.H){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function ng(d){const m={};d=(d.g&&2<=Pr(d)&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let M=0;M<d.length;M++){if(E(d[M]))continue;var A=O(d[M]);const G=A[0];if(A=A[1],typeof A!="string")continue;A=A.trim();const K=m[G]||[];m[G]=K,K.push(A)}I(m,function(M){return M.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function oi(d,m,A){return A&&A.internalChannelParams&&A.internalChannelParams[d]||m}function eh(d){this.Aa=0,this.i=[],this.j=new Es,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=oi("failFast",!1,d),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=oi("baseRetryDelayMs",5e3,d),this.cb=oi("retryDelaySeedMs",1e4,d),this.Wa=oi("forwardChannelMaxRetries",2,d),this.wa=oi("forwardChannelRequestTimeoutMs",2e4,d),this.pa=d&&d.xmlHttpFactory||void 0,this.Xa=d&&d.Tb||void 0,this.Ca=d&&d.useFetchStreams||!1,this.L=void 0,this.J=d&&d.supportsCrossDomainXhr||!1,this.K="",this.h=new Ld(d&&d.concurrentRequestLimit),this.Da=new Wd,this.P=d&&d.fastHandshake||!1,this.O=d&&d.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=d&&d.Rb||!1,d&&d.xa&&this.j.xa(),d&&d.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&d&&d.detectBufferingProxy||!1,this.ja=void 0,d&&d.longPollingTimeout&&0<d.longPollingTimeout&&(this.ja=d.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=eh.prototype,t.la=8,t.G=1,t.connect=function(d,m,A,M){en(0),this.W=d,this.H=m||{},A&&M!==void 0&&(this.H.OSID=A,this.H.OAID=M),this.F=this.X,this.I=ah(this,null,this.W),ja(this)};function Cc(d){if(th(d),d.G==3){var m=d.U++,A=Qn(d.I);if(ot(A,"SID",d.K),ot(A,"RID",m),ot(A,"TYPE","terminate"),ko(d,A),m=new Rr(d,d.j,m),m.L=2,m.v=Na(Qn(A)),A=!1,a.navigator&&a.navigator.sendBeacon)try{A=a.navigator.sendBeacon(m.v.toString(),"")}catch{}!A&&a.Image&&(new Image().src=m.v,A=!0),A||(m.g=lh(m.j,null),m.g.ea(m.v)),m.F=Date.now(),Ta(m)}ai(d)}function Po(d){d.g&&(Tc(d),d.g.cancel(),d.g=null)}function th(d){Po(d),d.u&&(a.clearTimeout(d.u),d.u=null),Da(d),d.h.cancel(),d.s&&(typeof d.s=="number"&&a.clearTimeout(d.s),d.s=null)}function ja(d){if(!So(d.h)&&!d.s){d.s=!0;var m=d.Ga;oe||se(),q||(oe(),q=!0),z.add(m,d),d.B=0}}function rg(d,m){return xc(d.h)>=d.h.j-(d.s?1:0)?!1:d.s?(d.i=m.D.concat(d.i),!0):d.G==1||d.G==2||d.B>=(d.Va?0:d.Wa)?!1:(d.s=ws(p(d.Ga,d,m),Oa(d,d.B)),d.B++,!0)}t.Ga=function(d){if(this.s)if(this.s=null,this.G==1){if(!d){this.U=Math.floor(1e5*Math.random()),d=this.U++;const G=new Rr(this,this.j,d);let K=this.o;if(this.S&&(K?(K=S(K),k(K,this.S)):K=this.S),this.m!==null||this.O||(G.H=K,K=null),this.P)e:{for(var m=0,A=0;A<this.i.length;A++){t:{var M=this.i[A];if("__data__"in M.map&&(M=M.map.__data__,typeof M=="string")){M=M.length;break t}M=void 0}if(M===void 0)break;if(m+=M,4096<m){m=A;break e}if(m===4096||A===this.i.length-1){m=A+1;break e}}m=1e3}else m=1e3;m=rh(this,G,m),A=Qn(this.I),ot(A,"RID",d),ot(A,"CVER",22),this.D&&ot(A,"X-HTTP-Session-Id",this.D),ko(this,A),K&&(this.O?m="headers="+encodeURIComponent(String(Kd(K)))+"&"+m:this.m&&bc(A,this.m,K)),Sa(this.h,G),this.Ua&&ot(A,"TYPE","init"),this.P?(ot(A,"$req",m),ot(A,"SID","null"),G.T=!0,gc(G,A,null)):gc(G,A,m),this.G=2}}else this.G==3&&(d?nh(this,d):this.i.length==0||So(this.h)||nh(this))};function nh(d,m){var A;m?A=m.l:A=d.U++;const M=Qn(d.I);ot(M,"SID",d.K),ot(M,"RID",A),ot(M,"AID",d.T),ko(d,M),d.m&&d.o&&bc(M,d.m,d.o),A=new Rr(d,d.j,A,d.B+1),d.m===null&&(A.H=d.o),m&&(d.i=m.D.concat(d.i)),m=rh(d,A,1e3),A.I=Math.round(.5*d.wa)+Math.round(.5*d.wa*Math.random()),Sa(d.h,A),gc(A,M,m)}function ko(d,m){d.H&&F(d.H,function(A,M){ot(m,M,A)}),d.l&&Fd({},function(A,M){ot(m,M,A)})}function rh(d,m,A){A=Math.min(d.i.length,A);var M=d.l?p(d.l.Na,d.l,d):null;e:{var G=d.i;let K=-1;for(;;){const X=["count="+A];K==-1?0<A?(K=G[0].g,X.push("ofs="+K)):K=0:X.push("ofs="+K);let rt=!0;for(let qt=0;qt<A;qt++){let Qe=G[qt].g;const Yt=G[qt].map;if(Qe-=K,0>Qe)K=Math.max(0,G[qt].g-100),rt=!1;else try{Qd(Yt,X,"req"+Qe+"_")}catch{M&&M(Yt)}}if(rt){M=X.join("&");break e}}}return d=d.i.splice(0,A),m.D=d,M}function sh(d){if(!d.g&&!d.u){d.Y=1;var m=d.Fa;oe||se(),q||(oe(),q=!0),z.add(m,d),d.v=0}}function _c(d){return d.g||d.u||3<=d.v?!1:(d.Y++,d.u=ws(p(d.Fa,d),Oa(d,d.v)),d.v++,!0)}t.Fa=function(){if(this.u=null,ih(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var d=2*this.R;this.j.info("BP detection timer enabled: "+d),this.A=ws(p(this.ab,this),d)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,en(10),Po(this),ih(this))};function Tc(d){d.A!=null&&(a.clearTimeout(d.A),d.A=null)}function ih(d){d.g=new Rr(d,d.j,"rpc",d.Y),d.m===null&&(d.g.H=d.o),d.g.O=0;var m=Qn(d.qa);ot(m,"RID","rpc"),ot(m,"SID",d.K),ot(m,"AID",d.T),ot(m,"CI",d.F?"0":"1"),!d.F&&d.ja&&ot(m,"TO",d.ja),ot(m,"TYPE","xmlhttp"),ko(d,m),d.m&&d.o&&bc(m,d.m,d.o),d.L&&(d.g.I=d.L);var A=d.g;d=d.ia,A.L=1,A.v=Na(Qn(m)),A.m=null,A.P=!0,_a(A,d)}t.Za=function(){this.C!=null&&(this.C=null,Po(this),_c(this),en(19))};function Da(d){d.C!=null&&(a.clearTimeout(d.C),d.C=null)}function oh(d,m){var A=null;if(d.g==m){Da(d),Tc(d),d.g=null;var M=2}else if(Aa(d.h,m))A=m.D,Oe(d.h,m),M=1;else return;if(d.G!=0){if(m.o)if(M==1){A=m.m?m.m.length:0,m=Date.now()-m.F;var G=d.B;M=We(),vt(M,new kd(M,A)),ja(d)}else sh(d);else if(G=m.s,G==3||G==0&&0<m.X||!(M==1&&rg(d,m)||M==2&&_c(d)))switch(A&&0<A.length&&(m=d.h,m.i=m.i.concat(A)),G){case 1:Ss(d,5);break;case 4:Ss(d,10);break;case 3:Ss(d,6);break;default:Ss(d,2)}}}function Oa(d,m){let A=d.Ta+Math.floor(Math.random()*d.cb);return d.isActive()||(A*=2),A*m}function Ss(d,m){if(d.j.info("Error code "+m),m==2){var A=p(d.fb,d),M=d.Xa;const G=!M;M=new Ts(M||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Ra(M,"https"),Na(M),G?Xm(M.toString(),A):Zm(M.toString(),A)}else en(2);d.G=0,d.l&&d.l.sa(m),ai(d),th(d)}t.fb=function(d){d?(this.j.info("Successfully pinged google.com"),en(2)):(this.j.info("Failed to ping google.com"),en(1))};function ai(d){if(d.G=0,d.ka=[],d.l){const m=Vd(d.h);(m.length!=0||d.i.length!=0)&&(w(d.ka,m),w(d.ka,d.i),d.h.i.length=0,g(d.i),d.i.length=0),d.l.ra()}}function ah(d,m,A){var M=A instanceof Ts?Qn(A):new Ts(A);if(M.g!="")m&&(M.g=m+"."+M.g),ri(M,M.s);else{var G=a.location;M=G.protocol,m=m?m+"."+G.hostname:G.hostname,G=+G.port;var K=new Ts(null);M&&Ra(K,M),m&&(K.g=m),G&&ri(K,G),A&&(K.l=A),M=K}return A=d.D,m=d.ya,A&&m&&ot(M,A,m),ot(M,"VER",d.la),ko(d,M),M}function lh(d,m,A){if(m&&!d.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=d.Ca&&!d.pa?new xt(new Ro({eb:A})):new xt(d.pa),m.Ha(d.J),m}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function ch(){}t=ch.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function La(){}La.prototype.g=function(d,m){return new Rn(d,m)};function Rn(d,m){At.call(this),this.g=new eh(m),this.l=d,this.h=m&&m.messageUrlParams||null,d=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(d?d["X-WebChannel-Content-Type"]=m.messageContentType:d={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(d?d["X-WebChannel-Client-Profile"]=m.va:d={"X-WebChannel-Client-Profile":m.va}),this.g.S=d,(d=m&&m.Sb)&&!E(d)&&(this.g.m=d),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!E(m)&&(this.g.D=m,d=this.h,d!==null&&m in d&&(d=this.h,m in d&&delete d[m])),this.j=new li(this)}x(Rn,At),Rn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Rn.prototype.close=function(){Cc(this.g)},Rn.prototype.o=function(d){var m=this.g;if(typeof d=="string"){var A={};A.__data__=d,d=A}else this.u&&(A={},A.__data__=Tn(d),d=A);m.i.push(new Qm(m.Ya++,d)),m.G==3&&ja(m)},Rn.prototype.N=function(){this.g.l=null,delete this.j,Cc(this.g),delete this.g,Rn.aa.N.call(this)};function uh(d){un.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var m=d.__sm__;if(m){e:{for(const A in m){d=A;break e}d=void 0}(this.i=d)&&(d=this.i,m=m!==null&&d in m?m[d]:void 0),this.data=m}else this.data=d}x(uh,un);function dh(){Ir.call(this),this.status=1}x(dh,Ir);function li(d){this.g=d}x(li,ch),li.prototype.ua=function(){vt(this.g,"a")},li.prototype.ta=function(d){vt(this.g,new uh(d))},li.prototype.sa=function(d){vt(this.g,new dh)},li.prototype.ra=function(){vt(this.g,"b")},La.prototype.createWebChannel=La.prototype.g,Rn.prototype.send=Rn.prototype.o,Rn.prototype.open=Rn.prototype.m,Rn.prototype.close=Rn.prototype.close,AS=function(){return new La},TS=function(){return We()},_S=dt,hy={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Cs.NO_ERROR=0,Cs.TIMEOUT=8,Cs.HTTP_ERROR=6,df=Cs,ba.COMPLETE="complete",CS=ba,Je.EventType=Qt,Qt.OPEN="a",Qt.CLOSE="b",Qt.ERROR="c",Qt.MESSAGE="d",At.prototype.listen=At.prototype.K,$c=Je,xt.prototype.listenOnce=xt.prototype.L,xt.prototype.getLastError=xt.prototype.Ka,xt.prototype.getLastErrorCode=xt.prototype.Ba,xt.prototype.getStatus=xt.prototype.Z,xt.prototype.getResponseJson=xt.prototype.Oa,xt.prototype.getResponseText=xt.prototype.oa,xt.prototype.send=xt.prototype.ea,xt.prototype.setWithCredentials=xt.prototype.Ha,bS=xt}).apply(typeof Dh<"u"?Dh:typeof self<"u"?self:typeof window<"u"?window:{});const k1="@firebase/firestore",M1="4.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}yn.UNAUTHENTICATED=new yn(null),yn.GOOGLE_CREDENTIALS=new yn("google-credentials-uid"),yn.FIRST_PARTY=new yn("first-party-uid"),yn.MOCK_USER=new yn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let tc="11.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ia=new vx("@firebase/firestore");function Ga(){return ia.logLevel}function me(t,...e){if(ia.logLevel<=qe.DEBUG){const n=e.map(bx);ia.debug(`Firestore (${tc}): ${t}`,...n)}}function zs(t,...e){if(ia.logLevel<=qe.ERROR){const n=e.map(bx);ia.error(`Firestore (${tc}): ${t}`,...n)}}function Ji(t,...e){if(ia.logLevel<=qe.WARN){const n=e.map(bx);ia.warn(`Firestore (${tc}): ${t}`,...n)}}function bx(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Re(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,SS(t,r,n)}function SS(t,e,n){let r=`FIRESTORE (${tc}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw zs(r),new Error(r)}function tt(t,e,n,r){let s="Unexpected state";typeof n=="string"?s=n:r=n,t||SS(e,s,r)}function Pe(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class fe extends Xs{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vs{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IS{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class C3{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(yn.UNAUTHENTICATED))}shutdown(){}}class _3{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class T3{constructor(e){this.t=e,this.currentUser=yn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){tt(this.o===void 0,42304);let r=this.i;const s=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve();let i=new Vs;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Vs,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const c=i;e.enqueueRetryable(async()=>{await c.promise,await s(this.currentUser)})},a=c=>{me("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(c=>a(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?a(c):(me("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Vs)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(me("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(tt(typeof r.accessToken=="string",31837,{l:r}),new IS(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return tt(e===null||typeof e=="string",2055,{h:e}),new yn(e)}}class A3{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=yn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class S3{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new A3(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(yn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class j1{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class I3{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,yr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){tt(this.o===void 0,3512);const r=i=>{i.error!=null&&me("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.m;return this.m=i.token,me("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{me("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.V.getImmediate({optional:!0});i?s(i):me("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new j1(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(tt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new j1(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R3(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RS(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cx{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=R3(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%62))}return r}}function De(t,e){return t<e?-1:t>e?1:0}function fy(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=t.codePointAt(n),s=e.codePointAt(n);if(r!==s){if(r<128&&s<128)return De(r,s);{const i=RS(),o=N3(i.encode(D1(t,n)),i.encode(D1(e,n)));return o!==0?o:De(r,s)}}n+=r>65535?2:1}return De(t.length,e.length)}function D1(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function N3(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return De(t[n],e[n]);return De(t.length,e.length)}function Bl(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O1="__name__";class Zr{constructor(e,n,r){n===void 0?n=0:n>e.length&&Re(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Re(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Zr.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Zr?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=Zr.compareSegments(e.get(s),n.get(s));if(i!==0)return i}return De(e.length,n.length)}static compareSegments(e,n){const r=Zr.isNumericId(e),s=Zr.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?Zr.extractNumericId(e).compare(Zr.extractNumericId(n)):fy(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Wi.fromString(e.substring(4,e.length-2))}}class ct extends Zr{construct(e,n,r){return new ct(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new fe(Z.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new ct(n)}static emptyPath(){return new ct([])}}const P3=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class rn extends Zr{construct(e,n,r){return new rn(e,n,r)}static isValidIdentifier(e){return P3.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),rn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===O1}static keyField(){return new rn([O1])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new fe(Z.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<e.length;){const a=e[s];if(a==="\\"){if(s+1===e.length)throw new fe(Z.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[s+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new fe(Z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,s+=2}else a==="`"?(o=!o,s++):a!=="."||o?(r+=a,s++):(i(),s++)}if(i(),o)throw new fe(Z.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new rn(n)}static emptyPath(){return new rn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class be{constructor(e){this.path=e}static fromPath(e){return new be(ct.fromString(e))}static fromName(e){return new be(ct.fromString(e).popFirst(5))}static empty(){return new be(ct.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ct.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ct.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new be(new ct(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NS(t,e,n){if(!n)throw new fe(Z.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function k3(t,e,n,r){if(e===!0&&r===!0)throw new fe(Z.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function L1(t){if(!be.isDocumentKey(t))throw new fe(Z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function V1(t){if(be.isDocumentKey(t))throw new fe(Z.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function PS(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function tm(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Re(12329,{type:typeof t})}function ir(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new fe(Z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=tm(t);throw new fe(Z.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bt(t,e){const n={typeString:t};return e&&(n.value=e),n}function pd(t,e){if(!PS(t))throw new fe(Z.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const s=e[r].typeString,i="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const o=t[r];if(s&&typeof o!==s){n=`JSON field '${r}' must be a ${s}.`;break}if(i!==void 0&&o!==i.value){n=`Expected '${r}' field to equal '${i.value}'`;break}}if(n)throw new fe(Z.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F1=-62135596800,B1=1e6;class Ge{static now(){return Ge.fromMillis(Date.now())}static fromDate(e){return Ge.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*B1);return new Ge(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new fe(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new fe(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<F1)throw new fe(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new fe(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/B1}_compareTo(e){return this.seconds===e.seconds?De(this.nanoseconds,e.nanoseconds):De(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Ge._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(pd(e,Ge._jsonSchema))return new Ge(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-F1;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Ge._jsonSchemaVersion="firestore/timestamp/1.0",Ge._jsonSchema={type:Bt("string",Ge._jsonSchemaVersion),seconds:Bt("number"),nanoseconds:Bt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ne{static fromTimestamp(e){return new Ne(e)}static min(){return new Ne(new Ge(0,0))}static max(){return new Ne(new Ge(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lu=-1;function M3(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=Ne.fromTimestamp(r===1e9?new Ge(n+1,0):new Ge(n,r));return new Xi(s,be.empty(),e)}function j3(t){return new Xi(t.readTime,t.key,Lu)}class Xi{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Xi(Ne.min(),be.empty(),Lu)}static max(){return new Xi(Ne.max(),be.empty(),Lu)}}function D3(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=be.comparator(t.documentKey,e.documentKey),n!==0?n:De(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O3="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class L3{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nc(t){if(t.code!==Z.FAILED_PRECONDITION||t.message!==O3)throw t;me("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ee{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Re(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ee((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof ee?n:ee.resolve(n)}catch(n){return ee.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):ee.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):ee.reject(n)}static resolve(e){return new ee((n,r)=>{n(e)})}static reject(e){return new ee((n,r)=>{r(e)})}static waitFor(e){return new ee((n,r)=>{let s=0,i=0,o=!1;e.forEach(a=>{++s,a.next(()=>{++i,o&&i===s&&n()},c=>r(c))}),o=!0,i===s&&n()})}static or(e){let n=ee.resolve(!1);for(const r of e)n=n.next(s=>s?ee.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new ee((r,s)=>{const i=e.length,o=new Array(i);let a=0;for(let c=0;c<i;c++){const u=c;n(e[u]).next(h=>{o[u]=h,++a,a===i&&r(o)},h=>s(h))}})}static doWhile(e,n){return new ee((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}function V3(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function rc(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nm{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this._e(r),this.ae=r=>n.writeSequenceNumber(r))}_e(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ae&&this.ae(e),e}}nm.ue=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _x=-1;function rm(t){return t==null}function sp(t){return t===0&&1/t==-1/0}function F3(t){return typeof t=="number"&&Number.isInteger(t)&&!sp(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kS="";function B3(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=U1(e)),e=U3(t.get(n),e);return U1(e)}function U3(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const i=t.charAt(s);switch(i){case"\0":n+="";break;case kS:n+="";break;default:n+=i}}return n}function U1(t){return t+kS+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q1(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function fo(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function MS(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tt{constructor(e,n){this.comparator=e,this.root=n||nn.EMPTY}insert(e,n){return new Tt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,nn.BLACK,null,null))}remove(e){return new Tt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,nn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Oh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Oh(this.root,e,this.comparator,!1)}getReverseIterator(){return new Oh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Oh(this.root,e,this.comparator,!0)}}class Oh{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class nn{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??nn.RED,this.left=s??nn.EMPTY,this.right=i??nn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new nn(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return nn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return nn.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,nn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,nn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Re(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Re(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Re(27949);return e+(this.isRed()?0:1)}}nn.EMPTY=null,nn.RED=!0,nn.BLACK=!1;nn.EMPTY=new class{constructor(){this.size=0}get key(){throw Re(57766)}get value(){throw Re(16141)}get color(){throw Re(16727)}get left(){throw Re(29726)}get right(){throw Re(36894)}copy(e,n,r,s,i){return this}insert(e,n,r){return new nn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{constructor(e){this.comparator=e,this.data=new Tt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new G1(this.data.getIterator())}getIteratorFrom(e){return new G1(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Wt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Wt(this.comparator);return n.data=e,n}}class G1{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nr{constructor(e){this.fields=e,e.sort(rn.comparator)}static empty(){return new nr([])}unionWith(e){let n=new Wt(rn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new nr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Bl(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jS extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new jS("Invalid base64 string: "+i):i}}(e);return new ln(n)}static fromUint8Array(e){const n=function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i}(e);return new ln(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return De(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ln.EMPTY_BYTE_STRING=new ln("");const q3=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Zi(t){if(tt(!!t,39018),typeof t=="string"){let e=0;const n=q3.exec(t);if(tt(!!n,46558,{timestamp:t}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:kt(t.seconds),nanos:kt(t.nanos)}}function kt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function eo(t){return typeof t=="string"?ln.fromBase64String(t):ln.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DS="server_timestamp",OS="__type__",LS="__previous_value__",VS="__local_write_time__";function Tx(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[OS])===null||n===void 0?void 0:n.stringValue)===DS}function sm(t){const e=t.mapValue.fields[LS];return Tx(e)?sm(e):e}function Vu(t){const e=Zi(t.mapValue.fields[VS].timestampValue);return new Ge(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G3{constructor(e,n,r,s,i,o,a,c,u,h){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=u,this.isUsingEmulator=h}}const ip="(default)";class Fu{constructor(e,n){this.projectId=e,this.database=n||ip}static empty(){return new Fu("","")}get isDefaultDatabase(){return this.database===ip}isEqual(e){return e instanceof Fu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FS="__type__",BS="__max__",Lh={mapValue:{fields:{__type__:{stringValue:BS}}}},US="__vector__",op="value";function to(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Tx(t)?4:z3(t)?9007199254740991:$3(t)?10:11:Re(28295,{value:t})}function fs(t,e){if(t===e)return!0;const n=to(t);if(n!==to(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Vu(t).isEqual(Vu(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=Zi(s.timestampValue),a=Zi(i.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return eo(s.bytesValue).isEqual(eo(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return kt(s.geoPointValue.latitude)===kt(i.geoPointValue.latitude)&&kt(s.geoPointValue.longitude)===kt(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return kt(s.integerValue)===kt(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=kt(s.doubleValue),a=kt(i.doubleValue);return o===a?sp(o)===sp(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Bl(t.arrayValue.values||[],e.arrayValue.values||[],fs);case 10:case 11:return function(s,i){const o=s.mapValue.fields||{},a=i.mapValue.fields||{};if(q1(o)!==q1(a))return!1;for(const c in o)if(o.hasOwnProperty(c)&&(a[c]===void 0||!fs(o[c],a[c])))return!1;return!0}(t,e);default:return Re(52216,{left:t})}}function Bu(t,e){return(t.values||[]).find(n=>fs(n,e))!==void 0}function Ul(t,e){if(t===e)return 0;const n=to(t),r=to(e);if(n!==r)return De(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return De(t.booleanValue,e.booleanValue);case 2:return function(i,o){const a=kt(i.integerValue||i.doubleValue),c=kt(o.integerValue||o.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1}(t,e);case 3:return $1(t.timestampValue,e.timestampValue);case 4:return $1(Vu(t),Vu(e));case 5:return fy(t.stringValue,e.stringValue);case 6:return function(i,o){const a=eo(i),c=eo(o);return a.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const a=i.split("/"),c=o.split("/");for(let u=0;u<a.length&&u<c.length;u++){const h=De(a[u],c[u]);if(h!==0)return h}return De(a.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const a=De(kt(i.latitude),kt(o.latitude));return a!==0?a:De(kt(i.longitude),kt(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return z1(t.arrayValue,e.arrayValue);case 10:return function(i,o){var a,c,u,h;const f=i.fields||{},p=o.fields||{},v=(a=f[op])===null||a===void 0?void 0:a.arrayValue,x=(c=p[op])===null||c===void 0?void 0:c.arrayValue,g=De(((u=v==null?void 0:v.values)===null||u===void 0?void 0:u.length)||0,((h=x==null?void 0:x.values)===null||h===void 0?void 0:h.length)||0);return g!==0?g:z1(v,x)}(t.mapValue,e.mapValue);case 11:return function(i,o){if(i===Lh.mapValue&&o===Lh.mapValue)return 0;if(i===Lh.mapValue)return 1;if(o===Lh.mapValue)return-1;const a=i.fields||{},c=Object.keys(a),u=o.fields||{},h=Object.keys(u);c.sort(),h.sort();for(let f=0;f<c.length&&f<h.length;++f){const p=fy(c[f],h[f]);if(p!==0)return p;const v=Ul(a[c[f]],u[h[f]]);if(v!==0)return v}return De(c.length,h.length)}(t.mapValue,e.mapValue);default:throw Re(23264,{le:n})}}function $1(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return De(t,e);const n=Zi(t),r=Zi(e),s=De(n.seconds,r.seconds);return s!==0?s:De(n.nanos,r.nanos)}function z1(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const i=Ul(n[s],r[s]);if(i)return i}return De(n.length,r.length)}function ql(t){return py(t)}function py(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Zi(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return eo(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return be.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=py(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const o of r)i?i=!1:s+=",",s+=`${o}:${py(n.fields[o])}`;return s+"}"}(t.mapValue):Re(61005,{value:t})}function hf(t){switch(to(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=sm(t);return e?16+hf(e):16;case 5:return 2*t.stringValue.length;case 6:return eo(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((s,i)=>s+hf(i),0)}(t.arrayValue);case 10:case 11:return function(r){let s=0;return fo(r.fields,(i,o)=>{s+=i.length+hf(o)}),s}(t.mapValue);default:throw Re(13486,{value:t})}}function W1(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function my(t){return!!t&&"integerValue"in t}function Ax(t){return!!t&&"arrayValue"in t}function Q1(t){return!!t&&"nullValue"in t}function Y1(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function ff(t){return!!t&&"mapValue"in t}function $3(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[FS])===null||n===void 0?void 0:n.stringValue)===US}function cu(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return fo(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=cu(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=cu(t.arrayValue.values[n]);return e}return Object.assign({},t)}function z3(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===BS}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Un{constructor(e){this.value=e}static empty(){return new Un({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!ff(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=cu(n)}setAll(e){let n=rn.emptyPath(),r={},s=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const c=this.getFieldsMap(n);this.applyChanges(c,r,s),r={},s=[],n=a.popLast()}o?r[a.lastSegment()]=cu(o):s.push(a.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());ff(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return fs(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];ff(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){fo(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new Un(cu(this.value))}}function qS(t){const e=[];return fo(t.fields,(n,r)=>{const s=new rn([n]);if(ff(r)){const i=qS(r.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)}),new nr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xn{constructor(e,n,r,s,i,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(e){return new xn(e,0,Ne.min(),Ne.min(),Ne.min(),Un.empty(),0)}static newFoundDocument(e,n,r,s){return new xn(e,1,n,Ne.min(),r,s,0)}static newNoDocument(e,n){return new xn(e,2,n,Ne.min(),Ne.min(),Un.empty(),0)}static newUnknownDocument(e,n){return new xn(e,3,n,Ne.min(),Ne.min(),Un.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ne.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Un.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Un.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ne.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof xn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new xn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ap{constructor(e,n){this.position=e,this.inclusive=n}}function K1(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?r=be.comparator(be.fromName(o.referenceValue),n.key):r=Ul(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function H1(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!fs(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uu{constructor(e,n="asc"){this.field=e,this.dir=n}}function W3(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GS{}class Ft extends GS{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new Y3(e,n,r):n==="array-contains"?new J3(e,r):n==="in"?new X3(e,r):n==="not-in"?new Z3(e,r):n==="array-contains-any"?new eV(e,r):new Ft(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new K3(e,r):new H3(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Ul(n,this.value)):n!==null&&to(this.value)===to(n)&&this.matchesComparison(Ul(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Re(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class $r extends GS{constructor(e,n){super(),this.filters=e,this.op=n,this.he=null}static create(e,n){return new $r(e,n)}matches(e){return $S(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}}function $S(t){return t.op==="and"}function zS(t){return Q3(t)&&$S(t)}function Q3(t){for(const e of t.filters)if(e instanceof $r)return!1;return!0}function gy(t){if(t instanceof Ft)return t.field.canonicalString()+t.op.toString()+ql(t.value);if(zS(t))return t.filters.map(e=>gy(e)).join(",");{const e=t.filters.map(n=>gy(n)).join(",");return`${t.op}(${e})`}}function WS(t,e){return t instanceof Ft?function(r,s){return s instanceof Ft&&r.op===s.op&&r.field.isEqual(s.field)&&fs(r.value,s.value)}(t,e):t instanceof $r?function(r,s){return s instanceof $r&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,o,a)=>i&&WS(o,s.filters[a]),!0):!1}(t,e):void Re(19439)}function QS(t){return t instanceof Ft?function(n){return`${n.field.canonicalString()} ${n.op} ${ql(n.value)}`}(t):t instanceof $r?function(n){return n.op.toString()+" {"+n.getFilters().map(QS).join(" ,")+"}"}(t):"Filter"}class Y3 extends Ft{constructor(e,n,r){super(e,n,r),this.key=be.fromName(r.referenceValue)}matches(e){const n=be.comparator(e.key,this.key);return this.matchesComparison(n)}}class K3 extends Ft{constructor(e,n){super(e,"in",n),this.keys=YS("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class H3 extends Ft{constructor(e,n){super(e,"not-in",n),this.keys=YS("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function YS(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>be.fromName(r.referenceValue))}class J3 extends Ft{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Ax(n)&&Bu(n.arrayValue,this.value)}}class X3 extends Ft{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Bu(this.value.arrayValue,n)}}class Z3 extends Ft{constructor(e,n){super(e,"not-in",n)}matches(e){if(Bu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Bu(this.value.arrayValue,n)}}class eV extends Ft{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Ax(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Bu(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tV{constructor(e,n=null,r=[],s=[],i=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=a,this.Pe=null}}function J1(t,e=null,n=[],r=[],s=null,i=null,o=null){return new tV(t,e,n,r,s,i,o)}function Sx(t){const e=Pe(t);if(e.Pe===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>gy(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),rm(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>ql(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>ql(r)).join(",")),e.Pe=n}return e.Pe}function Ix(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!W3(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!WS(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!H1(t.startAt,e.startAt)&&H1(t.endAt,e.endAt)}function yy(t){return be.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sc{constructor(e,n=null,r=[],s=[],i=null,o="F",a=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=c,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function nV(t,e,n,r,s,i,o,a){return new sc(t,e,n,r,s,i,o,a)}function im(t){return new sc(t)}function X1(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function KS(t){return t.collectionGroup!==null}function uu(t){const e=Pe(t);if(e.Te===null){e.Te=[];const n=new Set;for(const i of e.explicitOrderBy)e.Te.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new Wt(rn.comparator);return o.filters.forEach(c=>{c.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.Te.push(new Uu(i,r))}),n.has(rn.keyField().canonicalString())||e.Te.push(new Uu(rn.keyField(),r))}return e.Te}function as(t){const e=Pe(t);return e.Ie||(e.Ie=rV(e,uu(t))),e.Ie}function rV(t,e){if(t.limitType==="F")return J1(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new Uu(s.field,i)});const n=t.endAt?new ap(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new ap(t.startAt.position,t.startAt.inclusive):null;return J1(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function vy(t,e){const n=t.filters.concat([e]);return new sc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function xy(t,e,n){return new sc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function om(t,e){return Ix(as(t),as(e))&&t.limitType===e.limitType}function HS(t){return`${Sx(as(t))}|lt:${t.limitType}`}function $a(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>QS(s)).join(", ")}]`),rm(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>ql(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>ql(s)).join(",")),`Target(${r})`}(as(t))}; limitType=${t.limitType})`}function am(t,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):be.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,s){for(const i of uu(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(o,a,c){const u=K1(o,a,c);return o.inclusive?u<=0:u<0}(r.startAt,uu(r),s)||r.endAt&&!function(o,a,c){const u=K1(o,a,c);return o.inclusive?u>=0:u>0}(r.endAt,uu(r),s))}(t,e)}function sV(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function JS(t){return(e,n)=>{let r=!1;for(const s of uu(t)){const i=iV(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function iV(t,e,n){const r=t.field.isKeyField()?be.comparator(e.key,n.key):function(i,o,a){const c=o.data.field(i),u=a.data.field(i);return c!==null&&u!==null?Ul(c,u):Re(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Re(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ga{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){fo(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return MS(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oV=new Tt(be.comparator);function Ws(){return oV}const XS=new Tt(be.comparator);function zc(...t){let e=XS;for(const n of t)e=e.insert(n.key,n);return e}function ZS(t){let e=XS;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Fo(){return du()}function eI(){return du()}function du(){return new ga(t=>t.toString(),(t,e)=>t.isEqual(e))}const aV=new Tt(be.comparator),lV=new Wt(be.comparator);function $e(...t){let e=lV;for(const n of t)e=e.add(n);return e}const cV=new Wt(De);function uV(){return cV}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rx(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:sp(e)?"-0":e}}function tI(t){return{integerValue:""+t}}function dV(t,e){return F3(e)?tI(e):Rx(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lm{constructor(){this._=void 0}}function hV(t,e,n){return t instanceof lp?function(s,i){const o={fields:{[OS]:{stringValue:DS},[VS]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&Tx(i)&&(i=sm(i)),i&&(o.fields[LS]=i),{mapValue:o}}(n,e):t instanceof qu?rI(t,e):t instanceof Gu?sI(t,e):function(s,i){const o=nI(s,i),a=Z1(o)+Z1(s.Ee);return my(o)&&my(s.Ee)?tI(a):Rx(s.serializer,a)}(t,e)}function fV(t,e,n){return t instanceof qu?rI(t,e):t instanceof Gu?sI(t,e):n}function nI(t,e){return t instanceof cp?function(r){return my(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class lp extends lm{}class qu extends lm{constructor(e){super(),this.elements=e}}function rI(t,e){const n=iI(e);for(const r of t.elements)n.some(s=>fs(s,r))||n.push(r);return{arrayValue:{values:n}}}class Gu extends lm{constructor(e){super(),this.elements=e}}function sI(t,e){let n=iI(e);for(const r of t.elements)n=n.filter(s=>!fs(s,r));return{arrayValue:{values:n}}}class cp extends lm{constructor(e,n){super(),this.serializer=e,this.Ee=n}}function Z1(t){return kt(t.integerValue||t.doubleValue)}function iI(t){return Ax(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function pV(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof qu&&s instanceof qu||r instanceof Gu&&s instanceof Gu?Bl(r.elements,s.elements,fs):r instanceof cp&&s instanceof cp?fs(r.Ee,s.Ee):r instanceof lp&&s instanceof lp}(t.transform,e.transform)}class mV{constructor(e,n){this.version=e,this.transformResults=n}}class qr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new qr}static exists(e){return new qr(void 0,e)}static updateTime(e){return new qr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function pf(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}let cm=class{};function oI(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Nx(t.key,qr.none()):new md(t.key,t.data,qr.none());{const n=t.data,r=Un.empty();let s=new Wt(rn.comparator);for(let i of e.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new po(t.key,r,new nr(s.toArray()),qr.none())}}function gV(t,e,n){t instanceof md?function(s,i,o){const a=s.value.clone(),c=tb(s.fieldTransforms,i,o.transformResults);a.setAll(c),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof po?function(s,i,o){if(!pf(s.precondition,i))return void i.convertToUnknownDocument(o.version);const a=tb(s.fieldTransforms,i,o.transformResults),c=i.data;c.setAll(aI(s)),c.setAll(a),i.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(t,e,n):function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function hu(t,e,n,r){return t instanceof md?function(i,o,a,c){if(!pf(i.precondition,o))return a;const u=i.value.clone(),h=nb(i.fieldTransforms,c,o);return u.setAll(h),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof po?function(i,o,a,c){if(!pf(i.precondition,o))return a;const u=nb(i.fieldTransforms,c,o),h=o.data;return h.setAll(aI(i)),h.setAll(u),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),a===null?null:a.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(i,o,a){return pf(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function yV(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=nI(r.transform,s||null);i!=null&&(n===null&&(n=Un.empty()),n.set(r.field,i))}return n||null}function eb(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&Bl(r,s,(i,o)=>pV(i,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class md extends cm{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class po extends cm{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function aI(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function tb(t,e,n){const r=new Map;tt(t.length===n.length,32656,{Ae:n.length,Re:t.length});for(let s=0;s<n.length;s++){const i=t[s],o=i.transform,a=e.data.field(i.field);r.set(i.field,fV(o,a,n[s]))}return r}function nb(t,e,n){const r=new Map;for(const s of t){const i=s.transform,o=n.data.field(s.field);r.set(s.field,hV(i,o,e))}return r}class Nx extends cm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class vV extends cm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xV{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&gV(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=hu(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=hu(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=eI();return this.mutations.forEach(s=>{const i=e.get(s.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=n.has(s.key)?null:a;const c=oI(o,a);c!==null&&r.set(s.key,c),o.isValidDocument()||o.convertToNoDocument(Ne.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),$e())}isEqual(e){return this.batchId===e.batchId&&Bl(this.mutations,e.mutations,(n,r)=>eb(n,r))&&Bl(this.baseMutations,e.baseMutations,(n,r)=>eb(n,r))}}class Px{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){tt(e.mutations.length===r.length,58842,{Ve:e.mutations.length,me:r.length});let s=function(){return aV}();const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new Px(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wV{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EV{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Lt,Ye;function bV(t){switch(t){case Z.OK:return Re(64938);case Z.CANCELLED:case Z.UNKNOWN:case Z.DEADLINE_EXCEEDED:case Z.RESOURCE_EXHAUSTED:case Z.INTERNAL:case Z.UNAVAILABLE:case Z.UNAUTHENTICATED:return!1;case Z.INVALID_ARGUMENT:case Z.NOT_FOUND:case Z.ALREADY_EXISTS:case Z.PERMISSION_DENIED:case Z.FAILED_PRECONDITION:case Z.ABORTED:case Z.OUT_OF_RANGE:case Z.UNIMPLEMENTED:case Z.DATA_LOSS:return!0;default:return Re(15467,{code:t})}}function lI(t){if(t===void 0)return zs("GRPC error has no .code"),Z.UNKNOWN;switch(t){case Lt.OK:return Z.OK;case Lt.CANCELLED:return Z.CANCELLED;case Lt.UNKNOWN:return Z.UNKNOWN;case Lt.DEADLINE_EXCEEDED:return Z.DEADLINE_EXCEEDED;case Lt.RESOURCE_EXHAUSTED:return Z.RESOURCE_EXHAUSTED;case Lt.INTERNAL:return Z.INTERNAL;case Lt.UNAVAILABLE:return Z.UNAVAILABLE;case Lt.UNAUTHENTICATED:return Z.UNAUTHENTICATED;case Lt.INVALID_ARGUMENT:return Z.INVALID_ARGUMENT;case Lt.NOT_FOUND:return Z.NOT_FOUND;case Lt.ALREADY_EXISTS:return Z.ALREADY_EXISTS;case Lt.PERMISSION_DENIED:return Z.PERMISSION_DENIED;case Lt.FAILED_PRECONDITION:return Z.FAILED_PRECONDITION;case Lt.ABORTED:return Z.ABORTED;case Lt.OUT_OF_RANGE:return Z.OUT_OF_RANGE;case Lt.UNIMPLEMENTED:return Z.UNIMPLEMENTED;case Lt.DATA_LOSS:return Z.DATA_LOSS;default:return Re(39323,{code:t})}}(Ye=Lt||(Lt={}))[Ye.OK=0]="OK",Ye[Ye.CANCELLED=1]="CANCELLED",Ye[Ye.UNKNOWN=2]="UNKNOWN",Ye[Ye.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ye[Ye.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ye[Ye.NOT_FOUND=5]="NOT_FOUND",Ye[Ye.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ye[Ye.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ye[Ye.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ye[Ye.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ye[Ye.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ye[Ye.ABORTED=10]="ABORTED",Ye[Ye.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ye[Ye.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ye[Ye.INTERNAL=13]="INTERNAL",Ye[Ye.UNAVAILABLE=14]="UNAVAILABLE",Ye[Ye.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CV=new Wi([4294967295,4294967295],0);function rb(t){const e=RS().encode(t),n=new ES;return n.update(e),new Uint8Array(n.digest())}function sb(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new Wi([n,r],0),new Wi([s,i],0)]}class kx{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Wc(`Invalid padding: ${n}`);if(r<0)throw new Wc(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Wc(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Wc(`Invalid padding when bitmap length is 0: ${n}`);this.fe=8*e.length-n,this.ge=Wi.fromNumber(this.fe)}pe(e,n,r){let s=e.add(n.multiply(Wi.fromNumber(r)));return s.compare(CV)===1&&(s=new Wi([s.getBits(0),s.getBits(1)],0)),s.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;const n=rb(e),[r,s]=sb(n);for(let i=0;i<this.hashCount;i++){const o=this.pe(r,s,i);if(!this.ye(o))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new kx(i,s,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.fe===0)return;const n=rb(e),[r,s]=sb(n);for(let i=0;i<this.hashCount;i++){const o=this.pe(r,s,i);this.we(o)}}we(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Wc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class um{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,gd.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new um(Ne.min(),s,new Tt(De),Ws(),$e())}}class gd{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new gd(r,n,$e(),$e(),$e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mf{constructor(e,n,r,s){this.Se=e,this.removedTargetIds=n,this.key=r,this.be=s}}class cI{constructor(e,n){this.targetId=e,this.De=n}}class uI{constructor(e,n,r=ln.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class ib{constructor(){this.ve=0,this.Ce=ob(),this.Fe=ln.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=$e(),n=$e(),r=$e();return this.Ce.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:Re(38017,{changeType:i})}}),new gd(this.Fe,this.Me,e,n,r)}ke(){this.xe=!1,this.Ce=ob()}qe(e,n){this.xe=!0,this.Ce=this.Ce.insert(e,n)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,tt(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}}class _V{constructor(e){this.We=e,this.Ge=new Map,this.ze=Ws(),this.je=Vh(),this.Je=Vh(),this.He=new Tt(De)}Ye(e){for(const n of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(n,e.be):this.Xe(n,e.key,e.be);for(const n of e.removedTargetIds)this.Xe(n,e.key,e.be)}et(e){this.forEachTarget(e,n=>{const r=this.tt(n);switch(e.state){case 0:this.nt(n)&&r.Be(e.resumeToken);break;case 1:r.Ue(),r.Oe||r.ke(),r.Be(e.resumeToken);break;case 2:r.Ue(),r.Oe||this.removeTarget(n);break;case 3:this.nt(n)&&(r.Ke(),r.Be(e.resumeToken));break;case 4:this.nt(n)&&(this.rt(n),r.Be(e.resumeToken));break;default:Re(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Ge.forEach((r,s)=>{this.nt(s)&&n(s)})}it(e){const n=e.targetId,r=e.De.count,s=this.st(n);if(s){const i=s.target;if(yy(i))if(r===0){const o=new be(i.path);this.Xe(n,o,xn.newNoDocument(o,Ne.min()))}else tt(r===1,20013,{expectedCount:r});else{const o=this.ot(n);if(o!==r){const a=this._t(e),c=a?this.ut(a,e,o):1;if(c!==0){this.rt(n);const u=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(n,u)}}}}}_t(e){const n=e.De.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let o,a;try{o=eo(r).toUint8Array()}catch(c){if(c instanceof jS)return Ji("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{a=new kx(o,s,i)}catch(c){return Ji(c instanceof Wc?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return a.fe===0?null:a}ut(e,n,r){return n.De.count===r-this.ht(e,n.targetId)?0:2}ht(e,n){const r=this.We.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const o=this.We.lt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(a)||(this.Xe(n,i,null),s++)}),s}Pt(e){const n=new Map;this.Ge.forEach((i,o)=>{const a=this.st(o);if(a){if(i.current&&yy(a.target)){const c=new be(a.target.path);this.Tt(c).has(o)||this.It(o,c)||this.Xe(o,c,xn.newNoDocument(c,e))}i.Ne&&(n.set(o,i.Le()),i.ke())}});let r=$e();this.Je.forEach((i,o)=>{let a=!0;o.forEachWhile(c=>{const u=this.st(c);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(i))}),this.ze.forEach((i,o)=>o.setReadTime(e));const s=new um(e,n,this.He,this.ze,r);return this.ze=Ws(),this.je=Vh(),this.Je=Vh(),this.He=new Tt(De),s}Ze(e,n){if(!this.nt(e))return;const r=this.It(e,n.key)?2:0;this.tt(e).qe(n.key,r),this.ze=this.ze.insert(n.key,n),this.je=this.je.insert(n.key,this.Tt(n.key).add(e)),this.Je=this.Je.insert(n.key,this.dt(n.key).add(e))}Xe(e,n,r){if(!this.nt(e))return;const s=this.tt(e);this.It(e,n)?s.qe(n,1):s.Qe(n),this.Je=this.Je.insert(n,this.dt(n).delete(e)),this.Je=this.Je.insert(n,this.dt(n).add(e)),r&&(this.ze=this.ze.insert(n,r))}removeTarget(e){this.Ge.delete(e)}ot(e){const n=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let n=this.Ge.get(e);return n||(n=new ib,this.Ge.set(e,n)),n}dt(e){let n=this.Je.get(e);return n||(n=new Wt(De),this.Je=this.Je.insert(e,n)),n}Tt(e){let n=this.je.get(e);return n||(n=new Wt(De),this.je=this.je.insert(e,n)),n}nt(e){const n=this.st(e)!==null;return n||me("WatchChangeAggregator","Detected inactive target",e),n}st(e){const n=this.Ge.get(e);return n&&n.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new ib),this.We.getRemoteKeysForTarget(e).forEach(n=>{this.Xe(e,n,null)})}It(e,n){return this.We.getRemoteKeysForTarget(e).has(n)}}function Vh(){return new Tt(be.comparator)}function ob(){return new Tt(be.comparator)}const TV={asc:"ASCENDING",desc:"DESCENDING"},AV={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},SV={and:"AND",or:"OR"};class IV{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function wy(t,e){return t.useProto3Json||rm(e)?e:{value:e}}function up(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function dI(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function RV(t,e){return up(t,e.toTimestamp())}function ls(t){return tt(!!t,49232),Ne.fromTimestamp(function(n){const r=Zi(n);return new Ge(r.seconds,r.nanos)}(t))}function Mx(t,e){return Ey(t,e).canonicalString()}function Ey(t,e){const n=function(s){return new ct(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function hI(t){const e=ct.fromString(t);return tt(yI(e),10190,{key:e.toString()}),e}function by(t,e){return Mx(t.databaseId,e.path)}function Ug(t,e){const n=hI(e);if(n.get(1)!==t.databaseId.projectId)throw new fe(Z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new fe(Z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new be(pI(n))}function fI(t,e){return Mx(t.databaseId,e)}function NV(t){const e=hI(t);return e.length===4?ct.emptyPath():pI(e)}function Cy(t){return new ct(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function pI(t){return tt(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function ab(t,e,n){return{name:by(t,e),fields:n.value.mapValue.fields}}function PV(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:Re(39313,{state:u})}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(u,h){return u.useProto3Json?(tt(h===void 0||typeof h=="string",58123),ln.fromBase64String(h||"")):(tt(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),ln.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const h=u.code===void 0?Z.UNKNOWN:lI(u.code);return new fe(h,u.message||"")}(o);n=new uI(r,s,i,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=Ug(t,r.document.name),i=ls(r.document.updateTime),o=r.document.createTime?ls(r.document.createTime):Ne.min(),a=new Un({mapValue:{fields:r.document.fields}}),c=xn.newFoundDocument(s,i,o,a),u=r.targetIds||[],h=r.removedTargetIds||[];n=new mf(u,h,c.key,c)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=Ug(t,r.document),i=r.readTime?ls(r.readTime):Ne.min(),o=xn.newNoDocument(s,i),a=r.removedTargetIds||[];n=new mf([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=Ug(t,r.document),i=r.removedTargetIds||[];n=new mf([],i,s,null)}else{if(!("filter"in e))return Re(11601,{At:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new EV(s,i),a=r.targetId;n=new cI(a,o)}}return n}function kV(t,e){let n;if(e instanceof md)n={update:ab(t,e.key,e.value)};else if(e instanceof Nx)n={delete:by(t,e.key)};else if(e instanceof po)n={update:ab(t,e.key,e.data),updateMask:UV(e.fieldMask)};else{if(!(e instanceof vV))return Re(16599,{Rt:e.type});n={verify:by(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const a=o.transform;if(a instanceof lp)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof qu)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Gu)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof cp)return{fieldPath:o.field.canonicalString(),increment:a.Ee};throw Re(20930,{transform:o.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:RV(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:Re(27497)}(t,e.precondition)),n}function MV(t,e){return t&&t.length>0?(tt(e!==void 0,14353),t.map(n=>function(s,i){let o=s.updateTime?ls(s.updateTime):ls(i);return o.isEqual(Ne.min())&&(o=ls(i)),new mV(o,s.transformResults||[])}(n,e))):[]}function jV(t,e){return{documents:[fI(t,e.path)]}}function DV(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=fI(t,s);const i=function(u){if(u.length!==0)return gI($r.create(u,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const o=function(u){if(u.length!==0)return u.map(h=>function(p){return{field:za(p.field),direction:VV(p.dir)}}(h))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=wy(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{Vt:n,parent:s}}function OV(t){let e=NV(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){tt(r===1,65062);const h=n.from[0];h.allDescendants?s=h.collectionId:e=e.child(h.collectionId)}let i=[];n.where&&(i=function(f){const p=mI(f);return p instanceof $r&&zS(p)?p.getFilters():[p]}(n.where));let o=[];n.orderBy&&(o=function(f){return f.map(p=>function(x){return new Uu(Wa(x.field),function(w){switch(w){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(x.direction))}(p))}(n.orderBy));let a=null;n.limit&&(a=function(f){let p;return p=typeof f=="object"?f.value:f,rm(p)?null:p}(n.limit));let c=null;n.startAt&&(c=function(f){const p=!!f.before,v=f.values||[];return new ap(v,p)}(n.startAt));let u=null;return n.endAt&&(u=function(f){const p=!f.before,v=f.values||[];return new ap(v,p)}(n.endAt)),nV(e,s,o,i,a,"F",c,u)}function LV(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Re(28987,{purpose:s})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function mI(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Wa(n.unaryFilter.field);return Ft.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=Wa(n.unaryFilter.field);return Ft.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Wa(n.unaryFilter.field);return Ft.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Wa(n.unaryFilter.field);return Ft.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Re(61313);default:return Re(60726)}}(t):t.fieldFilter!==void 0?function(n){return Ft.create(Wa(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Re(58110);default:return Re(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return $r.create(n.compositeFilter.filters.map(r=>mI(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Re(1026)}}(n.compositeFilter.op))}(t):Re(30097,{filter:t})}function VV(t){return TV[t]}function FV(t){return AV[t]}function BV(t){return SV[t]}function za(t){return{fieldPath:t.canonicalString()}}function Wa(t){return rn.fromServerFormat(t.fieldPath)}function gI(t){return t instanceof Ft?function(n){if(n.op==="=="){if(Y1(n.value))return{unaryFilter:{field:za(n.field),op:"IS_NAN"}};if(Q1(n.value))return{unaryFilter:{field:za(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Y1(n.value))return{unaryFilter:{field:za(n.field),op:"IS_NOT_NAN"}};if(Q1(n.value))return{unaryFilter:{field:za(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:za(n.field),op:FV(n.op),value:n.value}}}(t):t instanceof $r?function(n){const r=n.getFilters().map(s=>gI(s));return r.length===1?r[0]:{compositeFilter:{op:BV(n.op),filters:r}}}(t):Re(54877,{filter:t})}function UV(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function yI(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mi{constructor(e,n,r,s,i=Ne.min(),o=Ne.min(),a=ln.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=c}withSequenceNumber(e){return new Mi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Mi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Mi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Mi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qV{constructor(e){this.gt=e}}function GV(t){const e=OV({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?xy(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $V{constructor(){this.Dn=new zV}addToCollectionParentIndex(e,n){return this.Dn.add(n),ee.resolve()}getCollectionParents(e,n){return ee.resolve(this.Dn.getEntries(n))}addFieldIndex(e,n){return ee.resolve()}deleteFieldIndex(e,n){return ee.resolve()}deleteAllFieldIndexes(e){return ee.resolve()}createTargetIndexes(e,n){return ee.resolve()}getDocumentsMatchingTarget(e,n){return ee.resolve(null)}getIndexType(e,n){return ee.resolve(0)}getFieldIndexes(e,n){return ee.resolve([])}getNextCollectionGroupToUpdate(e){return ee.resolve(null)}getMinOffset(e,n){return ee.resolve(Xi.min())}getMinOffsetFromCollectionGroup(e,n){return ee.resolve(Xi.min())}updateCollectionGroup(e,n,r){return ee.resolve()}updateIndexEntries(e,n){return ee.resolve()}}class zV{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new Wt(ct.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new Wt(ct.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lb={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},vI=41943040;class Fn{static withCacheSize(e){return new Fn(e,Fn.DEFAULT_COLLECTION_PERCENTILE,Fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Fn.DEFAULT_COLLECTION_PERCENTILE=10,Fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Fn.DEFAULT=new Fn(vI,Fn.DEFAULT_COLLECTION_PERCENTILE,Fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Fn.DISABLED=new Fn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gl{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new Gl(0)}static ur(){return new Gl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cb="LruGarbageCollector",WV=1048576;function ub([t,e],[n,r]){const s=De(t,n);return s===0?De(e,r):s}class QV{constructor(e){this.Tr=e,this.buffer=new Wt(ub),this.Ir=0}dr(){return++this.Ir}Er(e){const n=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();ub(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class YV{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){me(cb,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){rc(n)?me(cb,"Ignoring IndexedDB error during garbage collection: ",n):await nc(n)}await this.Rr(3e5)})}}class KV{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.mr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return ee.resolve(nm.ue);const r=new QV(n);return this.Vr.forEachTarget(e,s=>r.Er(s.sequenceNumber)).next(()=>this.Vr.gr(e,s=>r.Er(s))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.Vr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(me("LruGarbageCollector","Garbage collection skipped; disabled"),ee.resolve(lb)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(me("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),lb):this.pr(e,n))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,n){let r,s,i,o,a,c,u;const h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(me("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),s=this.params.maximumSequenceNumbersToCollect):s=f,o=Date.now(),this.nthSequenceNumber(e,s))).next(f=>(r=f,a=Date.now(),this.removeTargets(e,r,n))).next(f=>(i=f,c=Date.now(),this.removeOrphanedDocuments(e,r))).next(f=>(u=Date.now(),Ga()<=qe.DEBUG&&me("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-h}ms
	Determined least recently used ${s} in `+(a-o)+`ms
	Removed ${i} targets in `+(c-a)+`ms
	Removed ${f} documents in `+(u-c)+`ms
Total Duration: ${u-h}ms`),ee.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:i,documentsRemoved:f})))}}function HV(t,e){return new KV(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JV{constructor(){this.changes=new ga(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,xn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?ee.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XV{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZV{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&hu(r.mutation,s,nr.empty(),Ge.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,$e()).next(()=>r))}getLocalViewOfDocuments(e,n,r=$e()){const s=Fo();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let o=zc();return i.forEach((a,c)=>{o=o.insert(a,c.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Fo();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,$e()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,s){let i=Ws();const o=du(),a=function(){return du()}();return n.forEach((c,u)=>{const h=r.get(u.key);s.has(u.key)&&(h===void 0||h.mutation instanceof po)?i=i.insert(u.key,u):h!==void 0?(o.set(u.key,h.mutation.getFieldMask()),hu(h.mutation,u,h.mutation.getFieldMask(),Ge.now())):o.set(u.key,nr.empty())}),this.recalculateAndSaveOverlays(e,i).next(c=>(c.forEach((u,h)=>o.set(u,h)),n.forEach((u,h)=>{var f;return a.set(u,new XV(h,(f=o.get(u))!==null&&f!==void 0?f:null))}),a))}recalculateAndSaveOverlays(e,n){const r=du();let s=new Tt((o,a)=>o-a),i=$e();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(c=>{const u=n.get(c);if(u===null)return;let h=r.get(c)||nr.empty();h=a.applyToLocalView(u,h),r.set(c,h);const f=(s.get(a.batchId)||$e()).add(c);s=s.insert(a.batchId,f)})}).next(()=>{const o=[],a=s.getReverseIterator();for(;a.hasNext();){const c=a.getNext(),u=c.key,h=c.value,f=eI();h.forEach(p=>{if(!i.has(p)){const v=oI(n.get(p),r.get(p));v!==null&&f.set(p,v),i=i.add(p)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,f))}return ee.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(o){return be.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):KS(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):ee.resolve(Fo());let a=Lu,c=i;return o.next(u=>ee.forEach(u,(h,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),i.get(h)?ee.resolve():this.remoteDocumentCache.getEntry(e,h).next(p=>{c=c.insert(h,p)}))).next(()=>this.populateOverlays(e,u,i)).next(()=>this.computeViews(e,c,u,$e())).next(h=>({batchId:a,changes:ZS(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new be(n)).next(r=>{let s=zc();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let o=zc();return this.indexManager.getCollectionParents(e,i).next(a=>ee.forEach(a,c=>{const u=function(f,p){return new sc(p,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,c.child(i));return this.getDocumentsMatchingCollectionQuery(e,u,r,s).next(h=>{h.forEach((f,p)=>{o=o.insert(f,p)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s))).next(o=>{i.forEach((c,u)=>{const h=u.getKey();o.get(h)===null&&(o=o.insert(h,xn.newInvalidDocument(h)))});let a=zc();return o.forEach((c,u)=>{const h=i.get(c);h!==void 0&&hu(h.mutation,u,nr.empty(),Ge.now()),am(n,u)&&(a=a.insert(c,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eF{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,n){return ee.resolve(this.Br.get(n))}saveBundleMetadata(e,n){return this.Br.set(n.id,function(s){return{id:s.id,version:s.version,createTime:ls(s.createTime)}}(n)),ee.resolve()}getNamedQuery(e,n){return ee.resolve(this.Lr.get(n))}saveNamedQuery(e,n){return this.Lr.set(n.name,function(s){return{name:s.name,query:GV(s.bundledQuery),readTime:ls(s.readTime)}}(n)),ee.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tF{constructor(){this.overlays=new Tt(be.comparator),this.kr=new Map}getOverlay(e,n){return ee.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Fo();return ee.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.wt(e,n,i)}),ee.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.kr.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.kr.delete(r)),ee.resolve()}getOverlaysForCollection(e,n,r){const s=Fo(),i=n.length+1,o=new be(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const c=a.getNext().value,u=c.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===i&&c.largestBatchId>r&&s.set(c.getKey(),c)}return ee.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new Tt((u,h)=>u-h);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let h=i.get(u.largestBatchId);h===null&&(h=Fo(),i=i.insert(u.largestBatchId,h)),h.set(u.getKey(),u)}}const a=Fo(),c=i.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((u,h)=>a.set(u,h)),!(a.size()>=s)););return ee.resolve(a)}wt(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.kr.get(s.largestBatchId).delete(r.key);this.kr.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new wV(n,r));let i=this.kr.get(n);i===void 0&&(i=$e(),this.kr.set(n,i)),this.kr.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nF{constructor(){this.sessionToken=ln.EMPTY_BYTE_STRING}getSessionToken(e){return ee.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ee.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jx{constructor(){this.qr=new Wt(Jt.Qr),this.$r=new Wt(Jt.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,n){const r=new Jt(e,n);this.qr=this.qr.add(r),this.$r=this.$r.add(r)}Kr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Wr(new Jt(e,n))}Gr(e,n){e.forEach(r=>this.removeReference(r,n))}zr(e){const n=new be(new ct([])),r=new Jt(n,e),s=new Jt(n,e+1),i=[];return this.$r.forEachInRange([r,s],o=>{this.Wr(o),i.push(o.key)}),i}jr(){this.qr.forEach(e=>this.Wr(e))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){const n=new be(new ct([])),r=new Jt(n,e),s=new Jt(n,e+1);let i=$e();return this.$r.forEachInRange([r,s],o=>{i=i.add(o.key)}),i}containsKey(e){const n=new Jt(e,0),r=this.qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Jt{constructor(e,n){this.key=e,this.Hr=n}static Qr(e,n){return be.comparator(e.key,n.key)||De(e.Hr,n.Hr)}static Ur(e,n){return De(e.Hr,n.Hr)||be.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rF{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.er=1,this.Yr=new Wt(Jt.Qr)}checkEmpty(e){return ee.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new xV(i,n,r,s);this.mutationQueue.push(o);for(const a of s)this.Yr=this.Yr.add(new Jt(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return ee.resolve(o)}lookupMutationBatch(e,n){return ee.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.Xr(r),i=s<0?0:s;return ee.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return ee.resolve(this.mutationQueue.length===0?_x:this.er-1)}getAllMutationBatches(e){return ee.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Jt(n,0),s=new Jt(n,Number.POSITIVE_INFINITY),i=[];return this.Yr.forEachInRange([r,s],o=>{const a=this.Zr(o.Hr);i.push(a)}),ee.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Wt(De);return n.forEach(s=>{const i=new Jt(s,0),o=new Jt(s,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([i,o],a=>{r=r.add(a.Hr)})}),ee.resolve(this.ei(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;be.isDocumentKey(i)||(i=i.child(""));const o=new Jt(new be(i),0);let a=new Wt(De);return this.Yr.forEachWhile(c=>{const u=c.key.path;return!!r.isPrefixOf(u)&&(u.length===s&&(a=a.add(c.Hr)),!0)},o),ee.resolve(this.ei(a))}ei(e){const n=[];return e.forEach(r=>{const s=this.Zr(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){tt(this.ti(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Yr;return ee.forEach(n.mutations,s=>{const i=new Jt(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Yr=r})}rr(e){}containsKey(e,n){const r=new Jt(n,0),s=this.Yr.firstAfterOrEqual(r);return ee.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,ee.resolve()}ti(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sF{constructor(e){this.ni=e,this.docs=function(){return new Tt(be.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.ni(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return ee.resolve(r?r.document.mutableCopy():xn.newInvalidDocument(n))}getEntries(e,n){let r=Ws();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():xn.newInvalidDocument(s))}),ee.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=Ws();const o=n.path,a=new be(o.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){const{key:u,value:{document:h}}=c.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||D3(j3(h),r)<=0||(s.has(h.key)||am(n,h))&&(i=i.insert(h.key,h.mutableCopy()))}return ee.resolve(i)}getAllFromCollectionGroup(e,n,r,s){Re(9500)}ri(e,n){return ee.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new iF(this)}getSize(e){return ee.resolve(this.size)}}class iF extends JV{constructor(e){super(),this.Or=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.Or.addEntry(e,s)):this.Or.removeEntry(r)}),ee.waitFor(n)}getFromCache(e,n){return this.Or.getEntry(e,n)}getAllFromCache(e,n){return this.Or.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oF{constructor(e){this.persistence=e,this.ii=new ga(n=>Sx(n),Ix),this.lastRemoteSnapshotVersion=Ne.min(),this.highestTargetId=0,this.si=0,this.oi=new jx,this.targetCount=0,this._i=Gl.ar()}forEachTarget(e,n){return this.ii.forEach((r,s)=>n(s)),ee.resolve()}getLastRemoteSnapshotVersion(e){return ee.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ee.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),ee.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.si&&(this.si=n),ee.resolve()}hr(e){this.ii.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this._i=new Gl(n),this.highestTargetId=n),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,n){return this.hr(n),this.targetCount+=1,ee.resolve()}updateTargetData(e,n){return this.hr(n),ee.resolve()}removeTargetData(e,n){return this.ii.delete(n.target),this.oi.zr(n.targetId),this.targetCount-=1,ee.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.ii.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.ii.delete(o),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),s++)}),ee.waitFor(i).next(()=>s)}getTargetCount(e){return ee.resolve(this.targetCount)}getTargetData(e,n){const r=this.ii.get(n)||null;return ee.resolve(r)}addMatchingKeys(e,n,r){return this.oi.Kr(n,r),ee.resolve()}removeMatchingKeys(e,n,r){this.oi.Gr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(o=>{i.push(s.markPotentiallyOrphaned(e,o))}),ee.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this.oi.zr(n),ee.resolve()}getMatchingKeysForTargetId(e,n){const r=this.oi.Jr(n);return ee.resolve(r)}containsKey(e,n){return ee.resolve(this.oi.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xI{constructor(e,n){this.ai={},this.overlays={},this.ui=new nm(0),this.ci=!1,this.ci=!0,this.li=new nF,this.referenceDelegate=e(this),this.hi=new oF(this),this.indexManager=new $V,this.remoteDocumentCache=function(s){return new sF(s)}(r=>this.referenceDelegate.Pi(r)),this.serializer=new qV(n),this.Ti=new eF(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new tF,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ai[e.toKey()];return r||(r=new rF(n,this.referenceDelegate),this.ai[e.toKey()]=r),r}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,n,r){me("MemoryPersistence","Starting transaction:",e);const s=new aF(this.ui.next());return this.referenceDelegate.Ii(),r(s).next(i=>this.referenceDelegate.di(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Ei(e,n){return ee.or(Object.values(this.ai).map(r=>()=>r.containsKey(e,n)))}}class aF extends L3{constructor(e){super(),this.currentSequenceNumber=e}}class Dx{constructor(e){this.persistence=e,this.Ai=new jx,this.Ri=null}static Vi(e){return new Dx(e)}get mi(){if(this.Ri)return this.Ri;throw Re(60996)}addReference(e,n,r){return this.Ai.addReference(r,n),this.mi.delete(r.toString()),ee.resolve()}removeReference(e,n,r){return this.Ai.removeReference(r,n),this.mi.add(r.toString()),ee.resolve()}markPotentiallyOrphaned(e,n){return this.mi.add(n.toString()),ee.resolve()}removeTarget(e,n){this.Ai.zr(n.targetId).forEach(s=>this.mi.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.mi.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}Ii(){this.Ri=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ee.forEach(this.mi,r=>{const s=be.fromPath(r);return this.fi(e,s).next(i=>{i||n.removeEntry(s,Ne.min())})}).next(()=>(this.Ri=null,n.apply(e)))}updateLimboDocument(e,n){return this.fi(e,n).next(r=>{r?this.mi.delete(n.toString()):this.mi.add(n.toString())})}Pi(e){return 0}fi(e,n){return ee.or([()=>ee.resolve(this.Ai.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class dp{constructor(e,n){this.persistence=e,this.gi=new ga(r=>B3(r.path),(r,s)=>r.isEqual(s)),this.garbageCollector=HV(this,n)}static Vi(e,n){return new dp(e,n)}Ii(){}di(e){return ee.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}mr(e){const n=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(s=>r+s))}yr(e){let n=0;return this.gr(e,r=>{n++}).next(()=>n)}gr(e,n){return ee.forEach(this.gi,(r,s)=>this.Sr(e,r,s).next(i=>i?ee.resolve():n(s)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),i=s.newChangeBuffer();return s.ri(e,o=>this.Sr(e,o,n).next(a=>{a||(r++,i.removeEntry(o,Ne.min()))})).next(()=>i.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.gi.set(n,e.currentSequenceNumber),ee.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.gi.set(r,e.currentSequenceNumber),ee.resolve()}removeReference(e,n,r){return this.gi.set(r,e.currentSequenceNumber),ee.resolve()}updateLimboDocument(e,n){return this.gi.set(n,e.currentSequenceNumber),ee.resolve()}Pi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=hf(e.data.value)),n}Sr(e,n,r){return ee.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.gi.get(n);return ee.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ox{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.Is=r,this.ds=s}static Es(e,n){let r=$e(),s=$e();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new Ox(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lF{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cF{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=function(){return nL()?8:V3(_n())>0?6:4}()}initialize(e,n){this.gs=e,this.indexManager=n,this.As=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.ps(e,n).next(o=>{i.result=o}).next(()=>{if(!i.result)return this.ys(e,n,s,r).next(o=>{i.result=o})}).next(()=>{if(i.result)return;const o=new lF;return this.ws(e,n,o).next(a=>{if(i.result=a,this.Rs)return this.Ss(e,n,o,a.size)})}).next(()=>i.result)}Ss(e,n,r,s){return r.documentReadCount<this.Vs?(Ga()<=qe.DEBUG&&me("QueryEngine","SDK will not create cache indexes for query:",$a(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),ee.resolve()):(Ga()<=qe.DEBUG&&me("QueryEngine","Query:",$a(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.fs*s?(Ga()<=qe.DEBUG&&me("QueryEngine","The SDK decides to create cache indexes for query:",$a(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,as(n))):ee.resolve())}ps(e,n){if(X1(n))return ee.resolve(null);let r=as(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=xy(n,null,"F"),r=as(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const o=$e(...i);return this.gs.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(c=>{const u=this.bs(n,a);return this.Ds(n,u,o,c.readTime)?this.ps(e,xy(n,null,"F")):this.vs(e,u,n,c)}))})))}ys(e,n,r,s){return X1(n)||s.isEqual(Ne.min())?ee.resolve(null):this.gs.getDocuments(e,r).next(i=>{const o=this.bs(n,i);return this.Ds(n,o,r,s)?ee.resolve(null):(Ga()<=qe.DEBUG&&me("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),$a(n)),this.vs(e,o,n,M3(s,Lu)).next(a=>a))})}bs(e,n){let r=new Wt(JS(e));return n.forEach((s,i)=>{am(e,i)&&(r=r.add(i))}),r}Ds(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}ws(e,n,r){return Ga()<=qe.DEBUG&&me("QueryEngine","Using full collection scan to execute query:",$a(n)),this.gs.getDocumentsMatchingQuery(e,n,Xi.min(),r)}vs(e,n,r,s){return this.gs.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lx="LocalStore",uF=3e8;class dF{constructor(e,n,r,s){this.persistence=e,this.Cs=n,this.serializer=s,this.Fs=new Tt(De),this.Ms=new ga(i=>Sx(i),Ix),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(r)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new ZV(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Fs))}}function hF(t,e,n,r){return new dF(t,e,n,r)}async function wI(t,e){const n=Pe(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n.Ns(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const o=[],a=[];let c=$e();for(const u of s){o.push(u.batchId);for(const h of u.mutations)c=c.add(h.key)}for(const u of i){a.push(u.batchId);for(const h of u.mutations)c=c.add(h.key)}return n.localDocuments.getDocuments(r,c).next(u=>({Bs:u,removedBatchIds:o,addedBatchIds:a}))})})}function fF(t,e){const n=Pe(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=n.Os.newChangeBuffer({trackRemovals:!0});return function(a,c,u,h){const f=u.batch,p=f.keys();let v=ee.resolve();return p.forEach(x=>{v=v.next(()=>h.getEntry(c,x)).next(g=>{const w=u.docVersions.get(x);tt(w!==null,48541),g.version.compareTo(w)<0&&(f.applyToRemoteDocument(g,u),g.isValidDocument()&&(g.setReadTime(u.commitVersion),h.addEntry(g)))})}),v.next(()=>a.mutationQueue.removeMutationBatch(c,f))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let c=$e();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(c=c.add(a.batch.mutations[u].key));return c}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function EI(t){const e=Pe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.hi.getLastRemoteSnapshotVersion(n))}function pF(t,e){const n=Pe(t),r=e.snapshotVersion;let s=n.Fs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.Os.newChangeBuffer({trackRemovals:!0});s=n.Fs;const a=[];e.targetChanges.forEach((h,f)=>{const p=s.get(f);if(!p)return;a.push(n.hi.removeMatchingKeys(i,h.removedDocuments,f).next(()=>n.hi.addMatchingKeys(i,h.addedDocuments,f)));let v=p.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(f)!==null?v=v.withResumeToken(ln.EMPTY_BYTE_STRING,Ne.min()).withLastLimboFreeSnapshotVersion(Ne.min()):h.resumeToken.approximateByteSize()>0&&(v=v.withResumeToken(h.resumeToken,r)),s=s.insert(f,v),function(g,w,T){return g.resumeToken.approximateByteSize()===0||w.snapshotVersion.toMicroseconds()-g.snapshotVersion.toMicroseconds()>=uF?!0:T.addedDocuments.size+T.modifiedDocuments.size+T.removedDocuments.size>0}(p,v,h)&&a.push(n.hi.updateTargetData(i,v))});let c=Ws(),u=$e();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(i,h))}),a.push(mF(i,o,e.documentUpdates).next(h=>{c=h.Ls,u=h.ks})),!r.isEqual(Ne.min())){const h=n.hi.getLastRemoteSnapshotVersion(i).next(f=>n.hi.setTargetsMetadata(i,i.currentSequenceNumber,r));a.push(h)}return ee.waitFor(a).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,c,u)).next(()=>c)}).then(i=>(n.Fs=s,i))}function mF(t,e,n){let r=$e(),s=$e();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let o=Ws();return n.forEach((a,c)=>{const u=i.get(a);c.isFoundDocument()!==u.isFoundDocument()&&(s=s.add(a)),c.isNoDocument()&&c.version.isEqual(Ne.min())?(e.removeEntry(a,c.readTime),o=o.insert(a,c)):!u.isValidDocument()||c.version.compareTo(u.version)>0||c.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(c),o=o.insert(a,c)):me(Lx,"Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",c.version)}),{Ls:o,ks:s}})}function gF(t,e){const n=Pe(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=_x),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function yF(t,e){const n=Pe(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.hi.getTargetData(r,e).next(i=>i?(s=i,ee.resolve(s)):n.hi.allocateTargetId(r).next(o=>(s=new Mi(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.hi.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.Fs.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.Fs=n.Fs.insert(r.targetId,r),n.Ms.set(e,r.targetId)),r})}async function _y(t,e,n){const r=Pe(t),s=r.Fs.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,o=>r.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!rc(o))throw o;me(Lx,`Failed to update sequence numbers for target ${e}: ${o}`)}r.Fs=r.Fs.remove(e),r.Ms.delete(s.target)}function db(t,e,n){const r=Pe(t);let s=Ne.min(),i=$e();return r.persistence.runTransaction("Execute query","readwrite",o=>function(c,u,h){const f=Pe(c),p=f.Ms.get(h);return p!==void 0?ee.resolve(f.Fs.get(p)):f.hi.getTargetData(u,h)}(r,o,as(e)).next(a=>{if(a)return s=a.lastLimboFreeSnapshotVersion,r.hi.getMatchingKeysForTargetId(o,a.targetId).next(c=>{i=c})}).next(()=>r.Cs.getDocumentsMatchingQuery(o,e,n?s:Ne.min(),n?i:$e())).next(a=>(vF(r,sV(e),a),{documents:a,qs:i})))}function vF(t,e,n){let r=t.xs.get(e)||Ne.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.xs.set(e,r)}class hb{constructor(){this.activeTargetIds=uV()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class xF{constructor(){this.Fo=new hb,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,n,r){this.Mo[e]=n}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new hb,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wF{xo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fb="ConnectivityMonitor";class pb{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){me(fb,"Network connectivity changed: AVAILABLE");for(const e of this.ko)e(0)}Lo(){me(fb,"Network connectivity changed: UNAVAILABLE");for(const e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Fh=null;function Ty(){return Fh===null?Fh=function(){return 268435456+Math.round(2147483648*Math.random())}():Fh++,"0x"+Fh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qg="RestConnection",EF={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class bF{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.$o=n+"://"+e.host,this.Uo=`projects/${r}/databases/${s}`,this.Ko=this.databaseId.database===ip?`project_id=${r}`:`project_id=${r}&database_id=${s}`}Wo(e,n,r,s,i){const o=Ty(),a=this.Go(e,n.toUriEncodedString());me(qg,`Sending RPC '${e}' ${o}:`,a,r);const c={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(c,s,i);const{host:u}=new URL(a),h=Zl(u);return this.jo(e,a,c,r,h).then(f=>(me(qg,`Received RPC '${e}' ${o}: `,f),f),f=>{throw Ji(qg,`RPC '${e}' ${o} failed with error: `,f,"url: ",a,"request:",r),f})}Jo(e,n,r,s,i,o){return this.Wo(e,n,r,s,i)}zo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+tc}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,i)=>e[i]=s),r&&r.headers.forEach((s,i)=>e[i]=s)}Go(e,n){const r=EF[e];return`${this.$o}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CF{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mn="WebChannelConnection";class _F extends bF{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,n,r,s,i){const o=Ty();return new Promise((a,c)=>{const u=new bS;u.setWithCredentials(!0),u.listenOnce(CS.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case df.NO_ERROR:const f=u.getResponseJson();me(mn,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(f)),a(f);break;case df.TIMEOUT:me(mn,`RPC '${e}' ${o} timed out`),c(new fe(Z.DEADLINE_EXCEEDED,"Request time out"));break;case df.HTTP_ERROR:const p=u.getStatus();if(me(mn,`RPC '${e}' ${o} failed with status:`,p,"response text:",u.getResponseText()),p>0){let v=u.getResponseJson();Array.isArray(v)&&(v=v[0]);const x=v==null?void 0:v.error;if(x&&x.status&&x.message){const g=function(T){const E=T.toLowerCase().replace(/_/g,"-");return Object.values(Z).indexOf(E)>=0?E:Z.UNKNOWN}(x.status);c(new fe(g,x.message))}else c(new fe(Z.UNKNOWN,"Server responded with status "+u.getStatus()))}else c(new fe(Z.UNAVAILABLE,"Connection failed."));break;default:Re(9055,{c_:e,streamId:o,l_:u.getLastErrorCode(),h_:u.getLastError()})}}finally{me(mn,`RPC '${e}' ${o} completed.`)}});const h=JSON.stringify(s);me(mn,`RPC '${e}' ${o} sending request:`,s),u.send(n,"POST",h,r,15)})}P_(e,n,r){const s=Ty(),i=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=AS(),a=TS(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(c.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(c.useFetchStreams=!0),this.zo(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;const h=i.join("");me(mn,`Creating RPC '${e}' stream ${s}: ${h}`,c);const f=o.createWebChannel(h,c);this.T_(f);let p=!1,v=!1;const x=new CF({Ho:w=>{v?me(mn,`Not sending because RPC '${e}' stream ${s} is closed:`,w):(p||(me(mn,`Opening RPC '${e}' stream ${s} transport.`),f.open(),p=!0),me(mn,`RPC '${e}' stream ${s} sending:`,w),f.send(w))},Yo:()=>f.close()}),g=(w,T,E)=>{w.listen(T,b=>{try{E(b)}catch(R){setTimeout(()=>{throw R},0)}})};return g(f,$c.EventType.OPEN,()=>{v||(me(mn,`RPC '${e}' stream ${s} transport opened.`),x.s_())}),g(f,$c.EventType.CLOSE,()=>{v||(v=!0,me(mn,`RPC '${e}' stream ${s} transport closed`),x.__(),this.I_(f))}),g(f,$c.EventType.ERROR,w=>{v||(v=!0,Ji(mn,`RPC '${e}' stream ${s} transport errored. Name:`,w.name,"Message:",w.message),x.__(new fe(Z.UNAVAILABLE,"The operation could not be completed")))}),g(f,$c.EventType.MESSAGE,w=>{var T;if(!v){const E=w.data[0];tt(!!E,16349);const b=E,R=(b==null?void 0:b.error)||((T=b[0])===null||T===void 0?void 0:T.error);if(R){me(mn,`RPC '${e}' stream ${s} received error:`,R);const D=R.status;let F=function(P){const k=Lt[P];if(k!==void 0)return lI(k)}(D),I=R.message;F===void 0&&(F=Z.INTERNAL,I="Unknown error status: "+D+" with message "+R.message),v=!0,x.__(new fe(F,I)),f.close()}else me(mn,`RPC '${e}' stream ${s} received:`,E),x.a_(E)}}),g(a,_S.STAT_EVENT,w=>{w.stat===hy.PROXY?me(mn,`RPC '${e}' stream ${s} detected buffering proxy`):w.stat===hy.NOPROXY&&me(mn,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{x.o_()},0),x}terminate(){this.u_.forEach(e=>e.close()),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter(n=>n===e)}}function Gg(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dm(t){return new IV(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bI{constructor(e,n,r=1e3,s=1.5,i=6e4){this.Fi=e,this.timerId=n,this.d_=r,this.E_=s,this.A_=i,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();const n=Math.floor(this.R_+this.p_()),r=Math.max(0,Date.now()-this.m_),s=Math.max(0,n-r);s>0&&me("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.R_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,s,()=>(this.m_=Date.now(),e())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mb="PersistentStream";class CI{constructor(e,n,r,s,i,o,a,c){this.Fi=e,this.w_=r,this.S_=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new bI(e,n)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(e){this.q_(),this.stream.send(e)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():n&&n.code===Z.RESOURCE_EXHAUSTED?(zs(n.toString()),zs("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):n&&n.code===Z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.n_(n)}U_(){}auth(){this.state=1;const e=this.K_(this.b_),n=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.b_===n&&this.W_(r,s)},r=>{e(()=>{const s=new fe(Z.UNKNOWN,"Fetching auth token failed: "+r.message);return this.G_(s)})})}W_(e,n){const r=this.K_(this.b_);this.stream=this.z_(e,n),this.stream.Zo(()=>{r(()=>this.listener.Zo())}),this.stream.e_(()=>{r(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(s=>{r(()=>this.G_(s))}),this.stream.onMessage(s=>{r(()=>++this.C_==1?this.j_(s):this.onNext(s))})}O_(){this.state=5,this.F_.g_(async()=>{this.state=0,this.start()})}G_(e){return me(mb,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return n=>{this.Fi.enqueueAndForget(()=>this.b_===e?n():(me(mb,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class TF extends CI{constructor(e,n,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}z_(e,n){return this.connection.P_("Listen",e,n)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();const n=PV(this.serializer,e),r=function(i){if(!("targetChange"in i))return Ne.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?Ne.min():o.readTime?ls(o.readTime):Ne.min()}(e);return this.listener.J_(n,r)}H_(e){const n={};n.database=Cy(this.serializer),n.addTarget=function(i,o){let a;const c=o.target;if(a=yy(c)?{documents:jV(i,c)}:{query:DV(i,c).Vt},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=dI(i,o.resumeToken);const u=wy(i,o.expectedCount);u!==null&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(Ne.min())>0){a.readTime=up(i,o.snapshotVersion.toTimestamp());const u=wy(i,o.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);const r=LV(this.serializer,e);r&&(n.labels=r),this.k_(n)}Y_(e){const n={};n.database=Cy(this.serializer),n.removeTarget=e,this.k_(n)}}class AF extends CI{constructor(e,n,r,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,n){return this.connection.P_("Write",e,n)}j_(e){return tt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,tt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ea()}onNext(e){tt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();const n=MV(e.writeResults,e.commitTime),r=ls(e.commitTime);return this.listener.ta(r,n)}na(){const e={};e.database=Cy(this.serializer),this.k_(e)}X_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>kV(this.serializer,r))};this.k_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SF{}class IF extends SF{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.ra=!1}ia(){if(this.ra)throw new fe(Z.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,r,s){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.Wo(e,Ey(n,r),s,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new fe(Z.UNKNOWN,i.toString())})}Jo(e,n,r,s,i){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Jo(e,Ey(n,r),s,o,a,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new fe(Z.UNKNOWN,o.toString())})}terminate(){this.ra=!0,this.connection.terminate()}}class RF{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(zs(n),this._a=!1):me("OnlineStateTracker",n)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oa="RemoteStore";class NF{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=i,this.Ea.xo(o=>{r.enqueueAndForget(async()=>{ya(this)&&(me(oa,"Restarting streams for network reachability change."),await async function(c){const u=Pe(c);u.Ia.add(4),await yd(u),u.Aa.set("Unknown"),u.Ia.delete(4),await hm(u)}(this))})}),this.Aa=new RF(r,s)}}async function hm(t){if(ya(t))for(const e of t.da)await e(!0)}async function yd(t){for(const e of t.da)await e(!1)}function _I(t,e){const n=Pe(t);n.Ta.has(e.targetId)||(n.Ta.set(e.targetId,e),Ux(n)?Bx(n):ic(n).x_()&&Fx(n,e))}function Vx(t,e){const n=Pe(t),r=ic(n);n.Ta.delete(e),r.x_()&&TI(n,e),n.Ta.size===0&&(r.x_()?r.B_():ya(n)&&n.Aa.set("Unknown"))}function Fx(t,e){if(t.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ne.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}ic(t).H_(e)}function TI(t,e){t.Ra.$e(e),ic(t).Y_(e)}function Bx(t){t.Ra=new _V({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>t.Ta.get(e)||null,lt:()=>t.datastore.serializer.databaseId}),ic(t).start(),t.Aa.aa()}function Ux(t){return ya(t)&&!ic(t).M_()&&t.Ta.size>0}function ya(t){return Pe(t).Ia.size===0}function AI(t){t.Ra=void 0}async function PF(t){t.Aa.set("Online")}async function kF(t){t.Ta.forEach((e,n)=>{Fx(t,e)})}async function MF(t,e){AI(t),Ux(t)?(t.Aa.la(e),Bx(t)):t.Aa.set("Unknown")}async function jF(t,e,n){if(t.Aa.set("Online"),e instanceof uI&&e.state===2&&e.cause)try{await async function(s,i){const o=i.cause;for(const a of i.targetIds)s.Ta.has(a)&&(await s.remoteSyncer.rejectListen(a,o),s.Ta.delete(a),s.Ra.removeTarget(a))}(t,e)}catch(r){me(oa,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await hp(t,r)}else if(e instanceof mf?t.Ra.Ye(e):e instanceof cI?t.Ra.it(e):t.Ra.et(e),!n.isEqual(Ne.min()))try{const r=await EI(t.localStore);n.compareTo(r)>=0&&await function(i,o){const a=i.Ra.Pt(o);return a.targetChanges.forEach((c,u)=>{if(c.resumeToken.approximateByteSize()>0){const h=i.Ta.get(u);h&&i.Ta.set(u,h.withResumeToken(c.resumeToken,o))}}),a.targetMismatches.forEach((c,u)=>{const h=i.Ta.get(c);if(!h)return;i.Ta.set(c,h.withResumeToken(ln.EMPTY_BYTE_STRING,h.snapshotVersion)),TI(i,c);const f=new Mi(h.target,c,u,h.sequenceNumber);Fx(i,f)}),i.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){me(oa,"Failed to raise snapshot:",r),await hp(t,r)}}async function hp(t,e,n){if(!rc(e))throw e;t.Ia.add(1),await yd(t),t.Aa.set("Offline"),n||(n=()=>EI(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{me(oa,"Retrying IndexedDB access"),await n(),t.Ia.delete(1),await hm(t)})}function SI(t,e){return e().catch(n=>hp(t,n,e))}async function fm(t){const e=Pe(t),n=no(e);let r=e.Pa.length>0?e.Pa[e.Pa.length-1].batchId:_x;for(;DF(e);)try{const s=await gF(e.localStore,r);if(s===null){e.Pa.length===0&&n.B_();break}r=s.batchId,OF(e,s)}catch(s){await hp(e,s)}II(e)&&RI(e)}function DF(t){return ya(t)&&t.Pa.length<10}function OF(t,e){t.Pa.push(e);const n=no(t);n.x_()&&n.Z_&&n.X_(e.mutations)}function II(t){return ya(t)&&!no(t).M_()&&t.Pa.length>0}function RI(t){no(t).start()}async function LF(t){no(t).na()}async function VF(t){const e=no(t);for(const n of t.Pa)e.X_(n.mutations)}async function FF(t,e,n){const r=t.Pa.shift(),s=Px.from(r,e,n);await SI(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await fm(t)}async function BF(t,e){e&&no(t).Z_&&await async function(r,s){if(function(o){return bV(o)&&o!==Z.ABORTED}(s.code)){const i=r.Pa.shift();no(r).N_(),await SI(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await fm(r)}}(t,e),II(t)&&RI(t)}async function gb(t,e){const n=Pe(t);n.asyncQueue.verifyOperationInProgress(),me(oa,"RemoteStore received new credentials");const r=ya(n);n.Ia.add(3),await yd(n),r&&n.Aa.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ia.delete(3),await hm(n)}async function UF(t,e){const n=Pe(t);e?(n.Ia.delete(2),await hm(n)):e||(n.Ia.add(2),await yd(n),n.Aa.set("Unknown"))}function ic(t){return t.Va||(t.Va=function(n,r,s){const i=Pe(n);return i.ia(),new TF(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Zo:PF.bind(null,t),e_:kF.bind(null,t),n_:MF.bind(null,t),J_:jF.bind(null,t)}),t.da.push(async e=>{e?(t.Va.N_(),Ux(t)?Bx(t):t.Aa.set("Unknown")):(await t.Va.stop(),AI(t))})),t.Va}function no(t){return t.ma||(t.ma=function(n,r,s){const i=Pe(n);return i.ia(),new AF(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Zo:()=>Promise.resolve(),e_:LF.bind(null,t),n_:BF.bind(null,t),ea:VF.bind(null,t),ta:FF.bind(null,t)}),t.da.push(async e=>{e?(t.ma.N_(),await fm(t)):(await t.ma.stop(),t.Pa.length>0&&(me(oa,`Stopping write stream with ${t.Pa.length} pending writes`),t.Pa=[]))})),t.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qx{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new Vs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const o=Date.now()+r,a=new qx(e,n,o,s,i);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new fe(Z.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Gx(t,e){if(zs("AsyncQueue",`${e}: ${t}`),rc(t))return new fe(Z.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pl{static emptySet(e){return new pl(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||be.comparator(n.key,r.key):(n,r)=>be.comparator(n.key,r.key),this.keyedMap=zc(),this.sortedSet=new Tt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof pl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new pl;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yb{constructor(){this.fa=new Tt(be.comparator)}track(e){const n=e.doc.key,r=this.fa.get(n);r?e.type!==0&&r.type===3?this.fa=this.fa.insert(n,e):e.type===3&&r.type!==1?this.fa=this.fa.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.fa=this.fa.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.fa=this.fa.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.fa=this.fa.remove(n):e.type===1&&r.type===2?this.fa=this.fa.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.fa=this.fa.insert(n,{type:2,doc:e.doc}):Re(63341,{At:e,ga:r}):this.fa=this.fa.insert(n,e)}pa(){const e=[];return this.fa.inorderTraversal((n,r)=>{e.push(r)}),e}}class $l{constructor(e,n,r,s,i,o,a,c,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,s,i){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new $l(e,n,pl.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&om(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qF{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(e=>e.ba())}}class GF{constructor(){this.queries=vb(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(n,r){const s=Pe(n),i=s.queries;s.queries=vb(),i.forEach((o,a)=>{for(const c of a.wa)c.onError(r)})})(this,new fe(Z.ABORTED,"Firestore shutting down"))}}function vb(){return new ga(t=>HS(t),om)}async function $x(t,e){const n=Pe(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.Sa()&&e.ba()&&(r=2):(i=new qF,r=e.ba()?0:1);try{switch(r){case 0:i.ya=await n.onListen(s,!0);break;case 1:i.ya=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(o){const a=Gx(o,`Initialization of query '${$a(e.query)}' failed`);return void e.onError(a)}n.queries.set(s,i),i.wa.push(e),e.va(n.onlineState),i.ya&&e.Ca(i.ya)&&Wx(n)}async function zx(t,e){const n=Pe(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const o=i.wa.indexOf(e);o>=0&&(i.wa.splice(o,1),i.wa.length===0?s=e.ba()?0:1:!i.Sa()&&e.ba()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function $F(t,e){const n=Pe(t);let r=!1;for(const s of e){const i=s.query,o=n.queries.get(i);if(o){for(const a of o.wa)a.Ca(s)&&(r=!0);o.ya=s}}r&&Wx(n)}function zF(t,e,n){const r=Pe(t),s=r.queries.get(e);if(s)for(const i of s.wa)i.onError(n);r.queries.delete(e)}function Wx(t){t.Da.forEach(e=>{e.next()})}var Ay,xb;(xb=Ay||(Ay={})).Fa="default",xb.Cache="cache";class Qx{constructor(e,n,r){this.query=e,this.Ma=n,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=r||{}}Ca(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new $l(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),n=!0):this.Ba(e,this.onlineState)&&(this.La(e),n=!0),this.Oa=e,n}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let n=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),n=!0),n}Ba(e,n){if(!e.fromCache||!this.ba())return!0;const r=n!=="Offline";return(!this.options.ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Na(e){if(e.docChanges.length>0)return!0;const n=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}La(e){e=$l.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==Ay.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NI{constructor(e){this.key=e}}class PI{constructor(e){this.key=e}}class WF{constructor(e,n){this.query=e,this.Ha=n,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=$e(),this.mutatedKeys=$e(),this.Xa=JS(e),this.eu=new pl(this.Xa)}get tu(){return this.Ha}nu(e,n){const r=n?n.ru:new yb,s=n?n.eu:this.eu;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,a=!1;const c=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,u=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((h,f)=>{const p=s.get(h),v=am(this.query,f)?f:null,x=!!p&&this.mutatedKeys.has(p.key),g=!!v&&(v.hasLocalMutations||this.mutatedKeys.has(v.key)&&v.hasCommittedMutations);let w=!1;p&&v?p.data.isEqual(v.data)?x!==g&&(r.track({type:3,doc:v}),w=!0):this.iu(p,v)||(r.track({type:2,doc:v}),w=!0,(c&&this.Xa(v,c)>0||u&&this.Xa(v,u)<0)&&(a=!0)):!p&&v?(r.track({type:0,doc:v}),w=!0):p&&!v&&(r.track({type:1,doc:p}),w=!0,(c||u)&&(a=!0)),w&&(v?(o=o.add(v),i=g?i.add(h):i.delete(h)):(o=o.delete(h),i=i.delete(h)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const h=this.query.limitType==="F"?o.last():o.first();o=o.delete(h.key),i=i.delete(h.key),r.track({type:1,doc:h})}return{eu:o,ru:r,Ds:a,mutatedKeys:i}}iu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;const o=e.ru.pa();o.sort((h,f)=>function(v,x){const g=w=>{switch(w){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Re(20277,{At:w})}};return g(v)-g(x)}(h.type,f.type)||this.Xa(h.doc,f.doc)),this.su(r),s=s!=null&&s;const a=n&&!s?this.ou():[],c=this.Za.size===0&&this.current&&!s?1:0,u=c!==this.Ya;return this.Ya=c,o.length!==0||u?{snapshot:new $l(this.query,e.eu,i,o,e.mutatedKeys,c===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),_u:a}:{_u:a}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new yb,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach(n=>this.Ha=this.Ha.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ha=this.Ha.delete(n)),this.current=e.current)}ou(){if(!this.current)return[];const e=this.Za;this.Za=$e(),this.eu.forEach(r=>{this.au(r.key)&&(this.Za=this.Za.add(r.key))});const n=[];return e.forEach(r=>{this.Za.has(r)||n.push(new PI(r))}),this.Za.forEach(r=>{e.has(r)||n.push(new NI(r))}),n}uu(e){this.Ha=e.qs,this.Za=$e();const n=this.nu(e.documents);return this.applyChanges(n,!0)}cu(){return $l.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}}const Yx="SyncEngine";class QF{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class YF{constructor(e){this.key=e,this.lu=!1}}class KF{constructor(e,n,r,s,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.hu={},this.Pu=new ga(a=>HS(a),om),this.Tu=new Map,this.Iu=new Set,this.du=new Tt(be.comparator),this.Eu=new Map,this.Au=new jx,this.Ru={},this.Vu=new Map,this.mu=Gl.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}}async function HF(t,e,n=!0){const r=LI(t);let s;const i=r.Pu.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.cu()):s=await kI(r,e,n,!0),s}async function JF(t,e){const n=LI(t);await kI(n,e,!0,!1)}async function kI(t,e,n,r){const s=await yF(t.localStore,as(e)),i=s.targetId,o=t.sharedClientState.addLocalQueryTarget(i,n);let a;return r&&(a=await XF(t,e,i,o==="current",s.resumeToken)),t.isPrimaryClient&&n&&_I(t.remoteStore,s),a}async function XF(t,e,n,r,s){t.gu=(f,p,v)=>async function(g,w,T,E){let b=w.view.nu(T);b.Ds&&(b=await db(g.localStore,w.query,!1).then(({documents:I})=>w.view.nu(I,b)));const R=E&&E.targetChanges.get(w.targetId),D=E&&E.targetMismatches.get(w.targetId)!=null,F=w.view.applyChanges(b,g.isPrimaryClient,R,D);return Eb(g,w.targetId,F._u),F.snapshot}(t,f,p,v);const i=await db(t.localStore,e,!0),o=new WF(e,i.qs),a=o.nu(i.documents),c=gd.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),u=o.applyChanges(a,t.isPrimaryClient,c);Eb(t,n,u._u);const h=new QF(e,n,o);return t.Pu.set(e,h),t.Tu.has(n)?t.Tu.get(n).push(e):t.Tu.set(n,[e]),u.snapshot}async function ZF(t,e,n){const r=Pe(t),s=r.Pu.get(e),i=r.Tu.get(s.targetId);if(i.length>1)return r.Tu.set(s.targetId,i.filter(o=>!om(o,e))),void r.Pu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await _y(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&Vx(r.remoteStore,s.targetId),Sy(r,s.targetId)}).catch(nc)):(Sy(r,s.targetId),await _y(r.localStore,s.targetId,!0))}async function e5(t,e){const n=Pe(t),r=n.Pu.get(e),s=n.Tu.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Vx(n.remoteStore,r.targetId))}async function t5(t,e,n){const r=l5(t);try{const s=await function(o,a){const c=Pe(o),u=Ge.now(),h=a.reduce((v,x)=>v.add(x.key),$e());let f,p;return c.persistence.runTransaction("Locally write mutations","readwrite",v=>{let x=Ws(),g=$e();return c.Os.getEntries(v,h).next(w=>{x=w,x.forEach((T,E)=>{E.isValidDocument()||(g=g.add(T))})}).next(()=>c.localDocuments.getOverlayedDocuments(v,x)).next(w=>{f=w;const T=[];for(const E of a){const b=yV(E,f.get(E.key).overlayedDocument);b!=null&&T.push(new po(E.key,b,qS(b.value.mapValue),qr.exists(!0)))}return c.mutationQueue.addMutationBatch(v,u,T,a)}).next(w=>{p=w;const T=w.applyToLocalDocumentSet(f,g);return c.documentOverlayCache.saveOverlays(v,w.batchId,T)})}).then(()=>({batchId:p.batchId,changes:ZS(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(o,a,c){let u=o.Ru[o.currentUser.toKey()];u||(u=new Tt(De)),u=u.insert(a,c),o.Ru[o.currentUser.toKey()]=u}(r,s.batchId,n),await vd(r,s.changes),await fm(r.remoteStore)}catch(s){const i=Gx(s,"Failed to persist write");n.reject(i)}}async function MI(t,e){const n=Pe(t);try{const r=await pF(n.localStore,e);e.targetChanges.forEach((s,i)=>{const o=n.Eu.get(i);o&&(tt(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?o.lu=!0:s.modifiedDocuments.size>0?tt(o.lu,14607):s.removedDocuments.size>0&&(tt(o.lu,42227),o.lu=!1))}),await vd(n,r,e)}catch(r){await nc(r)}}function wb(t,e,n){const r=Pe(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Pu.forEach((i,o)=>{const a=o.view.va(e);a.snapshot&&s.push(a.snapshot)}),function(o,a){const c=Pe(o);c.onlineState=a;let u=!1;c.queries.forEach((h,f)=>{for(const p of f.wa)p.va(a)&&(u=!0)}),u&&Wx(c)}(r.eventManager,e),s.length&&r.hu.J_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function n5(t,e,n){const r=Pe(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Eu.get(e),i=s&&s.key;if(i){let o=new Tt(be.comparator);o=o.insert(i,xn.newNoDocument(i,Ne.min()));const a=$e().add(i),c=new um(Ne.min(),new Map,new Tt(De),o,a);await MI(r,c),r.du=r.du.remove(i),r.Eu.delete(e),Kx(r)}else await _y(r.localStore,e,!1).then(()=>Sy(r,e,n)).catch(nc)}async function r5(t,e){const n=Pe(t),r=e.batch.batchId;try{const s=await fF(n.localStore,e);DI(n,r,null),jI(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await vd(n,s)}catch(s){await nc(s)}}async function s5(t,e,n){const r=Pe(t);try{const s=await function(o,a){const c=Pe(o);return c.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let h;return c.mutationQueue.lookupMutationBatch(u,a).next(f=>(tt(f!==null,37113),h=f.keys(),c.mutationQueue.removeMutationBatch(u,f))).next(()=>c.mutationQueue.performConsistencyCheck(u)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(u,h,a)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,h)).next(()=>c.localDocuments.getDocuments(u,h))})}(r.localStore,e);DI(r,e,n),jI(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await vd(r,s)}catch(s){await nc(s)}}function jI(t,e){(t.Vu.get(e)||[]).forEach(n=>{n.resolve()}),t.Vu.delete(e)}function DI(t,e,n){const r=Pe(t);let s=r.Ru[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.Ru[r.currentUser.toKey()]=s}}function Sy(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Tu.get(e))t.Pu.delete(r),n&&t.hu.pu(r,n);t.Tu.delete(e),t.isPrimaryClient&&t.Au.zr(e).forEach(r=>{t.Au.containsKey(r)||OI(t,r)})}function OI(t,e){t.Iu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(Vx(t.remoteStore,n),t.du=t.du.remove(e),t.Eu.delete(n),Kx(t))}function Eb(t,e,n){for(const r of n)r instanceof NI?(t.Au.addReference(r.key,e),i5(t,r)):r instanceof PI?(me(Yx,"Document no longer in limbo: "+r.key),t.Au.removeReference(r.key,e),t.Au.containsKey(r.key)||OI(t,r.key)):Re(19791,{yu:r})}function i5(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Iu.has(r)||(me(Yx,"New document in limbo: "+n),t.Iu.add(r),Kx(t))}function Kx(t){for(;t.Iu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Iu.values().next().value;t.Iu.delete(e);const n=new be(ct.fromString(e)),r=t.mu.next();t.Eu.set(r,new YF(n)),t.du=t.du.insert(n,r),_I(t.remoteStore,new Mi(as(im(n.path)),r,"TargetPurposeLimboResolution",nm.ue))}}async function vd(t,e,n){const r=Pe(t),s=[],i=[],o=[];r.Pu.isEmpty()||(r.Pu.forEach((a,c)=>{o.push(r.gu(c,e,n).then(u=>{var h;if((u||n)&&r.isPrimaryClient){const f=u?!u.fromCache:(h=n==null?void 0:n.targetChanges.get(c.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(c.targetId,f?"current":"not-current")}if(u){s.push(u);const f=Ox.Es(c.targetId,u);i.push(f)}}))}),await Promise.all(o),r.hu.J_(s),await async function(c,u){const h=Pe(c);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>ee.forEach(u,p=>ee.forEach(p.Is,v=>h.persistence.referenceDelegate.addReference(f,p.targetId,v)).next(()=>ee.forEach(p.ds,v=>h.persistence.referenceDelegate.removeReference(f,p.targetId,v)))))}catch(f){if(!rc(f))throw f;me(Lx,"Failed to update sequence numbers: "+f)}for(const f of u){const p=f.targetId;if(!f.fromCache){const v=h.Fs.get(p),x=v.snapshotVersion,g=v.withLastLimboFreeSnapshotVersion(x);h.Fs=h.Fs.insert(p,g)}}}(r.localStore,i))}async function o5(t,e){const n=Pe(t);if(!n.currentUser.isEqual(e)){me(Yx,"User change. New user:",e.toKey());const r=await wI(n.localStore,e);n.currentUser=e,function(i,o){i.Vu.forEach(a=>{a.forEach(c=>{c.reject(new fe(Z.CANCELLED,o))})}),i.Vu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await vd(n,r.Bs)}}function a5(t,e){const n=Pe(t),r=n.Eu.get(e);if(r&&r.lu)return $e().add(r.key);{let s=$e();const i=n.Tu.get(e);if(!i)return s;for(const o of i){const a=n.Pu.get(o);s=s.unionWith(a.view.tu)}return s}}function LI(t){const e=Pe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=MI.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=a5.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=n5.bind(null,e),e.hu.J_=$F.bind(null,e.eventManager),e.hu.pu=zF.bind(null,e.eventManager),e}function l5(t){const e=Pe(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=r5.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=s5.bind(null,e),e}class fp{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=dm(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Du(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Cu(e,this.localStore),this.indexBackfillerScheduler=this.Fu(e,this.localStore)}Cu(e,n){return null}Fu(e,n){return null}vu(e){return hF(this.persistence,new cF,e.initialUser,this.serializer)}Du(e){return new xI(Dx.Vi,this.serializer)}bu(e){return new xF}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}fp.provider={build:()=>new fp};class c5 extends fp{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,n){tt(this.persistence.referenceDelegate instanceof dp,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new YV(r,e.asyncQueue,n)}Du(e){const n=this.cacheSizeBytes!==void 0?Fn.withCacheSize(this.cacheSizeBytes):Fn.DEFAULT;return new xI(r=>dp.Vi(r,n),this.serializer)}}class Iy{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>wb(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=o5.bind(null,this.syncEngine),await UF(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new GF}()}createDatastore(e){const n=dm(e.databaseInfo.databaseId),r=function(i){return new _F(i)}(e.databaseInfo);return function(i,o,a,c){return new IF(i,o,a,c)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,i,o,a){return new NF(r,s,i,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>wb(this.syncEngine,n,0),function(){return pb.C()?new pb:new wF}())}createSyncEngine(e,n){return function(s,i,o,a,c,u,h){const f=new KF(s,i,o,a,c,u);return h&&(f.fu=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const i=Pe(s);me(oa,"RemoteStore shutting down."),i.Ia.add(5),await yd(i),i.Ea.shutdown(),i.Aa.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Iy.provider={build:()=>new Iy};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hx{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):zs("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ro="FirestoreClient";class u5{constructor(e,n,r,s,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=yn.UNAUTHENTICATED,this.clientId=Cx.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,async o=>{me(ro,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(me(ro,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Vs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Gx(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function $g(t,e){t.asyncQueue.verifyOperationInProgress(),me(ro,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await wI(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>{Ji("Terminating Firestore due to IndexedDb database deletion"),t.terminate().then(()=>{me("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(s=>{Ji("Terminating Firestore due to IndexedDb database deletion failed",s)})}),t._offlineComponents=e}async function bb(t,e){t.asyncQueue.verifyOperationInProgress();const n=await d5(t);me(ro,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>gb(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>gb(e.remoteStore,s)),t._onlineComponents=e}async function d5(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){me(ro,"Using user provided OfflineComponentProvider");try{await $g(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===Z.FAILED_PRECONDITION||s.code===Z.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;Ji("Error using user provided cache. Falling back to memory cache: "+n),await $g(t,new fp)}}else me(ro,"Using default OfflineComponentProvider"),await $g(t,new c5(void 0));return t._offlineComponents}async function VI(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(me(ro,"Using user provided OnlineComponentProvider"),await bb(t,t._uninitializedComponentsProvider._online)):(me(ro,"Using default OnlineComponentProvider"),await bb(t,new Iy))),t._onlineComponents}function h5(t){return VI(t).then(e=>e.syncEngine)}async function pp(t){const e=await VI(t),n=e.eventManager;return n.onListen=HF.bind(null,e.syncEngine),n.onUnlisten=ZF.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=JF.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=e5.bind(null,e.syncEngine),n}function f5(t,e,n={}){const r=new Vs;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,c,u){const h=new Hx({next:p=>{h.Ou(),o.enqueueAndForget(()=>zx(i,f));const v=p.docs.has(a);!v&&p.fromCache?u.reject(new fe(Z.UNAVAILABLE,"Failed to get document because the client is offline.")):v&&p.fromCache&&c&&c.source==="server"?u.reject(new fe(Z.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(p)},error:p=>u.reject(p)}),f=new Qx(im(a.path),h,{includeMetadataChanges:!0,ka:!0});return $x(i,f)}(await pp(t),t.asyncQueue,e,n,r)),r.promise}function p5(t,e,n={}){const r=new Vs;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,c,u){const h=new Hx({next:p=>{h.Ou(),o.enqueueAndForget(()=>zx(i,f)),p.fromCache&&c.source==="server"?u.reject(new fe(Z.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(p)},error:p=>u.reject(p)}),f=new Qx(a,h,{includeMetadataChanges:!0,ka:!0});return $x(i,f)}(await pp(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FI(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cb=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BI="firestore.googleapis.com",_b=!0;class Tb{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new fe(Z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=BI,this.ssl=_b}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:_b;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=vI;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<WV)throw new fe(Z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}k3("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=FI((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new fe(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new fe(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new fe(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class pm{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Tb({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new fe(Z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new fe(Z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Tb(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new C3;switch(r.type){case"firstParty":return new S3(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new fe(Z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=Cb.get(n);r&&(me("ComponentProvider","Removing Datastore"),Cb.delete(n),r.terminate())}(this),Promise.resolve()}}function m5(t,e,n,r={}){var s;t=ir(t,pm);const i=Zl(e),o=t._getSettings(),a=Object.assign(Object.assign({},o),{emulatorOptions:t._getEmulatorOptions()}),c=`${e}:${n}`;i&&(pS(`https://${c}`),mS("Firestore",!0)),o.host!==BI&&o.host!==c&&Ji("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const u=Object.assign(Object.assign({},o),{host:c,ssl:i,emulatorOptions:r});if(!ra(u,a)&&(t._setSettings(u),r.mockUserToken)){let h,f;if(typeof r.mockUserToken=="string")h=r.mockUserToken,f=yn.MOCK_USER;else{h=QO(r.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const p=r.mockUserToken.sub||r.mockUserToken.user_id;if(!p)throw new fe(Z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new yn(p)}t._authCredentials=new _3(new IS(h,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let oc=class UI{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new UI(this.firestore,e,this._query)}};class Nt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Qi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Nt(this.firestore,e,this._key)}toJSON(){return{type:Nt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(pd(n,Nt._jsonSchema))return new Nt(e,r||null,new be(ct.fromString(n.referencePath)))}}Nt._jsonSchemaVersion="firestore/documentReference/1.0",Nt._jsonSchema={type:Bt("string",Nt._jsonSchemaVersion),referencePath:Bt("string")};class Qi extends oc{constructor(e,n,r){super(e,n,im(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Nt(this.firestore,null,new be(e))}withConverter(e){return new Qi(this.firestore,e,this._path)}}function xd(t,e,...n){if(t=Ut(t),NS("collection","path",e),t instanceof pm){const r=ct.fromString(e,...n);return V1(r),new Qi(t,null,r)}{if(!(t instanceof Nt||t instanceof Qi))throw new fe(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ct.fromString(e,...n));return V1(r),new Qi(t.firestore,null,r)}}function on(t,e,...n){if(t=Ut(t),arguments.length===1&&(e=Cx.newId()),NS("doc","path",e),t instanceof pm){const r=ct.fromString(e,...n);return L1(r),new Nt(t,null,new be(r))}{if(!(t instanceof Nt||t instanceof Qi))throw new fe(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ct.fromString(e,...n));return L1(r),new Nt(t.firestore,t instanceof Qi?t.converter:null,new be(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ab="AsyncQueue";class Sb{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new bI(this,"async_queue_retry"),this.oc=()=>{const r=Gg();r&&me(Ab,"Visibility state changed to "+r.visibilityState),this.F_.y_()},this._c=e;const n=Gg();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;const n=Gg();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise(()=>{});const n=new Vs;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Zu.push(e),this.cc()))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!rc(e))throw e;me(Ab,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}}uc(e){const n=this._c.then(()=>(this.nc=!0,e().catch(r=>{throw this.tc=r,this.nc=!1,zs("INTERNAL UNHANDLED ERROR: ",Ib(r)),r}).then(r=>(this.nc=!1,r))));return this._c=n,n}enqueueAfterDelay(e,n,r){this.ac(),this.sc.indexOf(e)>-1&&(n=0);const s=qx.createAndSchedule(this,e,n,r,i=>this.lc(i));return this.ec.push(s),s}ac(){this.tc&&Re(47125,{hc:Ib(this.tc)})}verifyOperationInProgress(){}async Pc(){let e;do e=this._c,await e;while(e!==this._c)}Tc(e){for(const n of this.ec)if(n.timerId===e)return!0;return!1}Ic(e){return this.Pc().then(()=>{this.ec.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.ec)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Pc()})}dc(e){this.sc.push(e)}lc(e){const n=this.ec.indexOf(e);this.ec.splice(n,1)}}function Ib(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rb(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const s=n;for(const i of r)if(i in s&&typeof s[i]=="function")return!0;return!1}(t,["next","error","complete"])}class so extends pm{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new Sb,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Sb(e),this._firestoreClient=void 0,await e}}}function g5(t,e){const n=typeof t=="object"?t:Ex(),r=typeof t=="string"?t:ip,s=wx(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=zO("firestore");i&&m5(s,...i)}return s}function mm(t){if(t._terminated)throw new fe(Z.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||y5(t),t._firestoreClient}function y5(t){var e,n,r;const s=t._freezeSettings(),i=function(a,c,u,h){return new G3(a,c,u,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,FI(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._componentsProvider||!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),t._firestoreClient=new u5(t._authCredentials,t._appCheckCredentials,t._queue,i,t._componentsProvider&&function(a){const c=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(c),_online:c}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vr{constructor(e){this._byteString=e}static fromBase64String(e){try{return new vr(ln.fromBase64String(e))}catch(n){throw new fe(Z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new vr(ln.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:vr._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(pd(e,vr._jsonSchema))return vr.fromBase64String(e.bytes)}}vr._jsonSchemaVersion="firestore/bytes/1.0",vr._jsonSchema={type:Bt("string",vr._jsonSchemaVersion),bytes:Bt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gm{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new fe(Z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new rn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jx{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cs{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new fe(Z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new fe(Z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return De(this._lat,e._lat)||De(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:cs._jsonSchemaVersion}}static fromJSON(e){if(pd(e,cs._jsonSchema))return new cs(e.latitude,e.longitude)}}cs._jsonSchemaVersion="firestore/geoPoint/1.0",cs._jsonSchema={type:Bt("string",cs._jsonSchemaVersion),latitude:Bt("number"),longitude:Bt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class us{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0}(this._values,e._values)}toJSON(){return{type:us._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(pd(e,us._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new us(e.vectorValues);throw new fe(Z.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}us._jsonSchemaVersion="firestore/vectorValue/1.0",us._jsonSchema={type:Bt("string",us._jsonSchemaVersion),vectorValues:Bt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v5=/^__.*__$/;class x5{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new po(e,this.data,this.fieldMask,n,this.fieldTransforms):new md(e,this.data,n,this.fieldTransforms)}}class qI{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new po(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function GI(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Re(40011,{Ec:t})}}class Xx{constructor(e,n,r,s,i,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.Ac(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new Xx(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Rc({path:r,mc:!1});return s.fc(e),s}gc(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Rc({path:r,mc:!1});return s.Ac(),s}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return mp(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if(GI(this.Ec)&&v5.test(e))throw this.wc('Document fields cannot begin and end with "__"')}}class w5{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||dm(e)}Dc(e,n,r,s=!1){return new Xx({Ec:e,methodName:n,bc:r,path:rn.emptyPath(),mc:!1,Sc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Zx(t){const e=t._freezeSettings(),n=dm(t._databaseId);return new w5(t._databaseId,!!e.ignoreUndefinedProperties,n)}function E5(t,e,n,r,s,i={}){const o=t.Dc(i.merge||i.mergeFields?2:0,e,n,s);ew("Data must be an object, but it was:",o,r);const a=$I(r,o);let c,u;if(i.merge)c=new nr(o.fieldMask),u=o.fieldTransforms;else if(i.mergeFields){const h=[];for(const f of i.mergeFields){const p=Ry(e,f,n);if(!o.contains(p))throw new fe(Z.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);WI(h,p)||h.push(p)}c=new nr(h),u=o.fieldTransforms.filter(f=>c.covers(f.field))}else c=null,u=o.fieldTransforms;return new x5(new Un(a),c,u)}class ym extends Jx{_toFieldTransform(e){if(e.Ec!==2)throw e.Ec===1?e.wc(`${this._methodName}() can only appear at the top level of your update data`):e.wc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof ym}}function b5(t,e,n,r){const s=t.Dc(1,e,n);ew("Data must be an object, but it was:",s,r);const i=[],o=Un.empty();fo(r,(c,u)=>{const h=tw(e,c,n);u=Ut(u);const f=s.gc(h);if(u instanceof ym)i.push(h);else{const p=wd(u,f);p!=null&&(i.push(h),o.set(h,p))}});const a=new nr(i);return new qI(o,a,s.fieldTransforms)}function C5(t,e,n,r,s,i){const o=t.Dc(1,e,n),a=[Ry(e,r,n)],c=[s];if(i.length%2!=0)throw new fe(Z.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let p=0;p<i.length;p+=2)a.push(Ry(e,i[p])),c.push(i[p+1]);const u=[],h=Un.empty();for(let p=a.length-1;p>=0;--p)if(!WI(u,a[p])){const v=a[p];let x=c[p];x=Ut(x);const g=o.gc(v);if(x instanceof ym)u.push(v);else{const w=wd(x,g);w!=null&&(u.push(v),h.set(v,w))}}const f=new nr(u);return new qI(h,f,o.fieldTransforms)}function _5(t,e,n,r=!1){return wd(n,t.Dc(r?4:3,e))}function wd(t,e){if(zI(t=Ut(t)))return ew("Unsupported field value:",e,t),$I(t,e);if(t instanceof Jx)return function(r,s){if(!GI(s.Ec))throw s.wc(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.wc(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return function(r,s){const i=[];let o=0;for(const a of r){let c=wd(a,s.yc(o));c==null&&(c={nullValue:"NULL_VALUE"}),i.push(c),o++}return{arrayValue:{values:i}}}(t,e)}return function(r,s){if((r=Ut(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return dV(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=Ge.fromDate(r);return{timestampValue:up(s.serializer,i)}}if(r instanceof Ge){const i=new Ge(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:up(s.serializer,i)}}if(r instanceof cs)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof vr)return{bytesValue:dI(s.serializer,r._byteString)};if(r instanceof Nt){const i=s.databaseId,o=r.firestore._databaseId;if(!o.isEqual(i))throw s.wc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:Mx(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof us)return function(o,a){return{mapValue:{fields:{[FS]:{stringValue:US},[op]:{arrayValue:{values:o.toArray().map(u=>{if(typeof u!="number")throw a.wc("VectorValues must only contain numeric values.");return Rx(a.serializer,u)})}}}}}}(r,s);throw s.wc(`Unsupported field value: ${tm(r)}`)}(t,e)}function $I(t,e){const n={};return MS(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):fo(t,(r,s)=>{const i=wd(s,e.Vc(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function zI(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Ge||t instanceof cs||t instanceof vr||t instanceof Nt||t instanceof Jx||t instanceof us)}function ew(t,e,n){if(!zI(n)||!PS(n)){const r=tm(n);throw r==="an object"?e.wc(t+" a custom object"):e.wc(t+" "+r)}}function Ry(t,e,n){if((e=Ut(e))instanceof gm)return e._internalPath;if(typeof e=="string")return tw(t,e);throw mp("Field path arguments must be of type string or ",t,!1,void 0,n)}const T5=new RegExp("[~\\*/\\[\\]]");function tw(t,e,n){if(e.search(T5)>=0)throw mp(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new gm(...e.split("."))._internalPath}catch{throw mp(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function mp(t,e,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(i||o)&&(c+=" (found",i&&(c+=` in field ${r}`),o&&(c+=` in document ${s}`),c+=")"),new fe(Z.INVALID_ARGUMENT,a+t+c)}function WI(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QI{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Nt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new A5(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(vm("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class A5 extends QI{data(){return super.data()}}function vm(t,e){return typeof e=="string"?tw(t,e):e instanceof gm?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YI(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new fe(Z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class nw{}class KI extends nw{}function rw(t,e,...n){let r=[];e instanceof nw&&r.push(e),r=r.concat(n),function(i){const o=i.filter(c=>c instanceof sw).length,a=i.filter(c=>c instanceof xm).length;if(o>1||o>0&&a>0)throw new fe(Z.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)t=s._apply(t);return t}class xm extends KI{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new xm(e,n,r)}_apply(e){const n=this._parse(e);return JI(e._query,n),new oc(e.firestore,e.converter,vy(e._query,n))}_parse(e){const n=Zx(e.firestore);return function(i,o,a,c,u,h,f){let p;if(u.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new fe(Z.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){kb(f,h);const x=[];for(const g of f)x.push(Pb(c,i,g));p={arrayValue:{values:x}}}else p=Pb(c,i,f)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||kb(f,h),p=_5(a,o,f,h==="in"||h==="not-in");return Ft.create(u,h,p)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Nb(t,e,n){const r=e,s=vm("where",t);return xm._create(s,r,n)}class sw extends nw{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new sw(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:$r.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(s,i){let o=s;const a=i.getFlattenedFilters();for(const c of a)JI(o,c),o=vy(o,c)}(e._query,n),new oc(e.firestore,e.converter,vy(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class iw extends KI{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new iw(e,n)}_apply(e){const n=function(s,i,o){if(s.startAt!==null)throw new fe(Z.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new fe(Z.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Uu(i,o)}(e._query,this._field,this._direction);return new oc(e.firestore,e.converter,function(s,i){const o=s.explicitOrderBy.concat([i]);return new sc(s.path,s.collectionGroup,o,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,n))}}function HI(t,e="asc"){const n=e,r=vm("orderBy",t);return iw._create(r,n)}function Pb(t,e,n){if(typeof(n=Ut(n))=="string"){if(n==="")throw new fe(Z.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!KS(e)&&n.indexOf("/")!==-1)throw new fe(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(ct.fromString(n));if(!be.isDocumentKey(r))throw new fe(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return W1(t,new be(r))}if(n instanceof Nt)return W1(t,n._key);throw new fe(Z.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${tm(n)}.`)}function kb(t,e){if(!Array.isArray(t)||t.length===0)throw new fe(Z.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function JI(t,e){const n=function(s,i){for(const o of s)for(const a of o.getFlattenedFilters())if(i.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new fe(Z.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new fe(Z.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class S5{convertValue(e,n="none"){switch(to(e)){case 0:return null;case 1:return e.booleanValue;case 2:return kt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(eo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Re(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return fo(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertVectorValue(e){var n,r,s;const i=(s=(r=(n=e.fields)===null||n===void 0?void 0:n[op].arrayValue)===null||r===void 0?void 0:r.values)===null||s===void 0?void 0:s.map(o=>kt(o.doubleValue));return new us(i)}convertGeoPoint(e){return new cs(kt(e.latitude),kt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=sm(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Vu(e));default:return null}}convertTimestamp(e){const n=Zi(e);return new Ge(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=ct.fromString(e);tt(yI(r),9688,{name:e});const s=new Fu(r.get(1),r.get(3)),i=new be(r.popFirst(5));return s.isEqual(n)||zs(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I5(t,e,n){let r;return r=t?t.toFirestore(e):e,r}class Qc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Wo extends QI{constructor(e,n,r,s,i,o){super(e,n,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new gf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(vm("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new fe(Z.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Wo._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Wo._jsonSchemaVersion="firestore/documentSnapshot/1.0",Wo._jsonSchema={type:Bt("string",Wo._jsonSchemaVersion),bundleSource:Bt("string","DocumentSnapshot"),bundleName:Bt("string"),bundle:Bt("string")};class gf extends Wo{data(e={}){return super.data(e)}}class Qo{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new Qc(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new gf(this._firestore,this._userDataWriter,r.key,r,new Qc(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new fe(Z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map(a=>{const c=new gf(s._firestore,s._userDataWriter,a.doc.key,a.doc,new Qc(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);return a.doc,{type:"added",doc:c,oldIndex:-1,newIndex:o++}})}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(a=>i||a.type!==3).map(a=>{const c=new gf(s._firestore,s._userDataWriter,a.doc.key,a.doc,new Qc(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);let u=-1,h=-1;return a.type!==0&&(u=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),h=o.indexOf(a.doc.key)),{type:R5(a.type),doc:c,oldIndex:u,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new fe(Z.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Qo._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Cx.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],s=[];return this.docs.forEach(i=>{i._document!==null&&(n.push(i._document),r.push(this._userDataWriter.convertObjectMap(i._document.data.value.mapValue.fields,"previous")),s.push(i.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function R5(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Re(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zl(t){t=ir(t,Nt);const e=ir(t.firestore,so);return f5(mm(e),t._key).then(n=>XI(e,t,n))}Qo._jsonSchemaVersion="firestore/querySnapshot/1.0",Qo._jsonSchema={type:Bt("string",Qo._jsonSchemaVersion),bundleSource:Bt("string","QuerySnapshot"),bundleName:Bt("string"),bundle:Bt("string")};class ow extends S5{constructor(e){super(),this.firestore=e}convertBytes(e){return new vr(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Nt(this.firestore,null,n)}}function aw(t){t=ir(t,oc);const e=ir(t.firestore,so),n=mm(e),r=new ow(e);return YI(t._query),p5(n,t._query).then(s=>new Qo(e,r,t,s))}function wm(t,e,n){t=ir(t,Nt);const r=ir(t.firestore,so),s=I5(t.converter,e);return cw(r,[E5(Zx(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,qr.none())])}function Ed(t,e,n,...r){t=ir(t,Nt);const s=ir(t.firestore,so),i=Zx(s);let o;return o=typeof(e=Ut(e))=="string"||e instanceof gm?C5(i,"updateDoc",t._key,e,n,r):b5(i,"updateDoc",t._key,e),cw(s,[o.toMutation(t._key,qr.exists(!0))])}function N5(t){return cw(ir(t.firestore,so),[new Nx(t._key,qr.none())])}function lw(t,...e){var n,r,s;t=Ut(t);let i={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||Rb(e[o])||(i=e[o++]);const a={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(Rb(e[o])){const f=e[o];e[o]=(n=f.next)===null||n===void 0?void 0:n.bind(f),e[o+1]=(r=f.error)===null||r===void 0?void 0:r.bind(f),e[o+2]=(s=f.complete)===null||s===void 0?void 0:s.bind(f)}let c,u,h;if(t instanceof Nt)u=ir(t.firestore,so),h=im(t._key.path),c={next:f=>{e[o]&&e[o](XI(u,t,f))},error:e[o+1],complete:e[o+2]};else{const f=ir(t,oc);u=ir(f.firestore,so),h=f._query;const p=new ow(u);c={next:v=>{e[o]&&e[o](new Qo(u,p,f,v))},error:e[o+1],complete:e[o+2]},YI(t._query)}return function(p,v,x,g){const w=new Hx(g),T=new Qx(v,w,x);return p.asyncQueue.enqueueAndForget(async()=>$x(await pp(p),T)),()=>{w.Ou(),p.asyncQueue.enqueueAndForget(async()=>zx(await pp(p),T))}}(mm(u),h,a,c)}function cw(t,e){return function(r,s){const i=new Vs;return r.asyncQueue.enqueueAndForget(async()=>t5(await h5(r),s,i)),i.promise}(mm(t),e)}function XI(t,e,n){const r=n.docs.get(e._key),s=new ow(t);return new Wo(t,s,e._key,r,new Qc(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(s){tc=s})(ec),Fl(new sa("firestore",(r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),a=new so(new T3(r.getProvider("auth-internal")),new I3(o,r.getProvider("app-check-internal")),function(u,h){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new fe(Z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Fu(u.options.projectId,h)}(o,s),o);return i=Object.assign({useFetchStreams:n},i),a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),zi(k1,M1,e),zi(k1,M1,"esm2017")})();var ss=function(){return ss=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},ss.apply(this,arguments)};function bd(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function P5(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,i;r<s;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))}function ZI(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const k5=ZI,eR=new hd("auth","Firebase",ZI());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gp=new vx("@firebase/auth");function M5(t,...e){gp.logLevel<=qe.WARN&&gp.warn(`Auth (${ec}): ${t}`,...e)}function yf(t,...e){gp.logLevel<=qe.ERROR&&gp.error(`Auth (${ec}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zr(t,...e){throw uw(t,...e)}function ds(t,...e){return uw(t,...e)}function tR(t,e,n){const r=Object.assign(Object.assign({},k5()),{[e]:n});return new hd("auth","Firebase",r).create(e,{appName:t.name})}function Fs(t){return tR(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function uw(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return eR.create(t,...e)}function Ie(t,e,...n){if(!t)throw uw(e,...n)}function Ds(t){const e="INTERNAL ASSERTION FAILED: "+t;throw yf(e),new Error(e)}function Qs(t,e){t||Ds(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ny(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function j5(){return Mb()==="http:"||Mb()==="https:"}function Mb(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D5(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(j5()||ZO()||"connection"in navigator)?navigator.onLine:!0}function O5(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cd{constructor(e,n){this.shortDelay=e,this.longDelay=n,Qs(n>e,"Short delay should be less than long delay!"),this.isMobile=HO()||eL()}get(){return D5()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dw(t,e){Qs(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nR{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ds("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ds("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ds("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L5={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V5=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],F5=new Cd(3e4,6e4);function mo(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function go(t,e,n,r,s={}){return rR(t,s,async()=>{let i={},o={};r&&(e==="GET"?o=r:i={body:JSON.stringify(r)});const a=fd(Object.assign({key:t.config.apiKey},o)).slice(1),c=await t._getAdditionalHeaders();c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode);const u=Object.assign({method:e,headers:c},i);return XO()||(u.referrerPolicy="no-referrer"),t.emulatorConfig&&Zl(t.emulatorConfig.host)&&(u.credentials="include"),nR.fetch()(await sR(t,t.config.apiHost,n,a),u)})}async function rR(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},L5),e);try{const s=new U5(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw Bh(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const a=i.ok?o.errorMessage:o.error.message,[c,u]=a.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw Bh(t,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw Bh(t,"email-already-in-use",o);if(c==="USER_DISABLED")throw Bh(t,"user-disabled",o);const h=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw tR(t,h,u);zr(t,h)}}catch(s){if(s instanceof Xs)throw s;zr(t,"network-request-failed",{message:String(s)})}}async function _d(t,e,n,r,s={}){const i=await go(t,e,n,r,s);return"mfaPendingCredential"in i&&zr(t,"multi-factor-auth-required",{_serverResponse:i}),i}async function sR(t,e,n,r){const s=`${e}${n}?${r}`,i=t,o=i.config.emulator?dw(t.config,s):`${t.config.apiScheme}://${s}`;return V5.includes(n)&&(await i._persistenceManagerAvailable,i._getPersistenceType()==="COOKIE")?i._getPersistence()._getFinalTarget(o).toString():o}function B5(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class U5{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(ds(this.auth,"network-request-failed")),F5.get())})}}function Bh(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=ds(t,e,r);return s.customData._tokenResponse=n,s}function jb(t){return t!==void 0&&t.enterprise!==void 0}class q5{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return B5(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function G5(t,e){return go(t,"GET","/v2/recaptchaConfig",mo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $5(t,e){return go(t,"POST","/v1/accounts:delete",e)}async function yp(t,e){return go(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fu(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function z5(t,e=!1){const n=Ut(t),r=await n.getIdToken(e),s=hw(r);Ie(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:fu(zg(s.auth_time)),issuedAtTime:fu(zg(s.iat)),expirationTime:fu(zg(s.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function zg(t){return Number(t)*1e3}function hw(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return yf("JWT malformed, contained fewer than 3 sections"),null;try{const s=uS(n);return s?JSON.parse(s):(yf("Failed to decode base64 JWT payload"),null)}catch(s){return yf("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function Db(t){const e=hw(t);return Ie(e,"internal-error"),Ie(typeof e.exp<"u","internal-error"),Ie(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $u(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Xs&&W5(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function W5({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q5{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Py{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=fu(this.lastLoginAt),this.creationTime=fu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vp(t){var e;const n=t.auth,r=await t.getIdToken(),s=await $u(t,yp(n,{idToken:r}));Ie(s==null?void 0:s.users.length,n,"internal-error");const i=s.users[0];t._notifyReloadListener(i);const o=!((e=i.providerUserInfo)===null||e===void 0)&&e.length?iR(i.providerUserInfo):[],a=K5(t.providerData,o),c=t.isAnonymous,u=!(t.email&&i.passwordHash)&&!(a!=null&&a.length),h=c?u:!1,f={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new Py(i.createdAt,i.lastLoginAt),isAnonymous:h};Object.assign(t,f)}async function Y5(t){const e=Ut(t);await vp(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function K5(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function iR(t){return t.map(e=>{var{providerId:n}=e,r=bd(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function H5(t,e){const n=await rR(t,{},async()=>{const r=fd({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,o=await sR(t,s,"/v1/token",`key=${i}`),a=await t._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";const c={method:"POST",headers:a,body:r};return t.emulatorConfig&&Zl(t.emulatorConfig.host)&&(c.credentials="include"),nR.fetch()(o,c)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function J5(t,e){return go(t,"POST","/v2/accounts:revokeToken",mo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ml{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ie(e.idToken,"internal-error"),Ie(typeof e.idToken<"u","internal-error"),Ie(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Db(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ie(e.length!==0,"internal-error");const n=Db(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ie(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await H5(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,o=new ml;return r&&(Ie(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),s&&(Ie(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(Ie(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ml,this.toJSON())}_performRefresh(){return Ds("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fi(t,e){Ie(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Fr{constructor(e){var{uid:n,auth:r,stsTokenManager:s}=e,i=bd(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Q5(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Py(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await $u(this,this.stsTokenManager.getToken(this.auth,e));return Ie(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return z5(this,e)}reload(){return Y5(this)}_assign(e){this!==e&&(Ie(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Fr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Ie(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await vp(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(yr(this.auth.app))return Promise.reject(Fs(this.auth));const e=await this.getIdToken();return await $u(this,$5(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,s,i,o,a,c,u,h;const f=(r=n.displayName)!==null&&r!==void 0?r:void 0,p=(s=n.email)!==null&&s!==void 0?s:void 0,v=(i=n.phoneNumber)!==null&&i!==void 0?i:void 0,x=(o=n.photoURL)!==null&&o!==void 0?o:void 0,g=(a=n.tenantId)!==null&&a!==void 0?a:void 0,w=(c=n._redirectEventId)!==null&&c!==void 0?c:void 0,T=(u=n.createdAt)!==null&&u!==void 0?u:void 0,E=(h=n.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:b,emailVerified:R,isAnonymous:D,providerData:F,stsTokenManager:I}=n;Ie(b&&I,e,"internal-error");const S=ml.fromJSON(this.name,I);Ie(typeof b=="string",e,"internal-error"),fi(f,e.name),fi(p,e.name),Ie(typeof R=="boolean",e,"internal-error"),Ie(typeof D=="boolean",e,"internal-error"),fi(v,e.name),fi(x,e.name),fi(g,e.name),fi(w,e.name),fi(T,e.name),fi(E,e.name);const P=new Fr({uid:b,auth:e,email:p,emailVerified:R,displayName:f,isAnonymous:D,photoURL:x,phoneNumber:v,tenantId:g,stsTokenManager:S,createdAt:T,lastLoginAt:E});return F&&Array.isArray(F)&&(P.providerData=F.map(k=>Object.assign({},k))),w&&(P._redirectEventId=w),P}static async _fromIdTokenResponse(e,n,r=!1){const s=new ml;s.updateFromServerResponse(n);const i=new Fr({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await vp(i),i}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];Ie(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?iR(s.providerUserInfo):[],o=!(s.email&&s.passwordHash)&&!(i!=null&&i.length),a=new ml;a.updateFromIdToken(r);const c=new Fr({uid:s.localId,auth:e,stsTokenManager:a,isAnonymous:o}),u={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new Py(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(i!=null&&i.length)};return Object.assign(c,u),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ob=new Map;function Os(t){Qs(t instanceof Function,"Expected a class definition");let e=Ob.get(t);return e?(Qs(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Ob.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oR{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}oR.type="NONE";const Lb=oR;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vf(t,e,n){return`firebase:${t}:${e}:${n}`}class gl{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=vf(this.userKey,s.apiKey,i),this.fullPersistenceKey=vf("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await yp(this.auth,{idToken:e}).catch(()=>{});return n?Fr._fromGetAccountInfoResponse(this.auth,n,e):null}return Fr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new gl(Os(Lb),e,r);const s=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let i=s[0]||Os(Lb);const o=vf(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const h=await u._get(o);if(h){let f;if(typeof h=="string"){const p=await yp(e,{idToken:h}).catch(()=>{});if(!p)break;f=await Fr._fromGetAccountInfoResponse(e,p,h)}else f=Fr._fromJSON(e,h);u!==i&&(a=f),i=u;break}}catch{}const c=s.filter(u=>u._shouldAllowMigration);return!i._shouldAllowMigration||!c.length?new gl(i,e,r):(i=c[0],a&&await i._set(o,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==i)try{await u._remove(o)}catch{}})),new gl(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vb(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(uR(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(aR(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(hR(e))return"Blackberry";if(fR(e))return"Webos";if(lR(e))return"Safari";if((e.includes("chrome/")||cR(e))&&!e.includes("edge/"))return"Chrome";if(dR(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function aR(t=_n()){return/firefox\//i.test(t)}function lR(t=_n()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function cR(t=_n()){return/crios\//i.test(t)}function uR(t=_n()){return/iemobile/i.test(t)}function dR(t=_n()){return/android/i.test(t)}function hR(t=_n()){return/blackberry/i.test(t)}function fR(t=_n()){return/webos/i.test(t)}function fw(t=_n()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function X5(t=_n()){var e;return fw(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function Z5(){return tL()&&document.documentMode===10}function pR(t=_n()){return fw(t)||dR(t)||fR(t)||hR(t)||/windows phone/i.test(t)||uR(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mR(t,e=[]){let n;switch(t){case"Browser":n=Vb(_n());break;case"Worker":n=`${Vb(_n())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ec}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e6{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((o,a)=>{try{const c=e(i);o(c)}catch(c){a(c)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function t6(t,e={}){return go(t,"GET","/v2/passwordPolicy",mo(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n6=6;class r6{constructor(e){var n,r,s,i;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:n6,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(i=e.forceUpgradeOnSignin)!==null&&i!==void 0?i:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,s,i,o,a;const c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(n=c.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(s=c.containsLowercaseLetter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(i=c.containsUppercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(o=c.containsNumericCharacter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(a=c.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),c}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s6{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Fb(this),this.idTokenSubscription=new Fb(this),this.beforeStateQueue=new e6(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=eR,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(i=>this._resolvePersistenceManagerAvailable=i)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Os(n)),this._initializationPromise=this.queue(async()=>{var r,s,i;if(!this._deleted&&(this.persistenceManager=await gl.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await yp(this,{idToken:e}),r=await Fr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(yr(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let s=r,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=s==null?void 0:s._redirectEventId,c=await this.tryRedirectSignIn(e);(!o||o===a)&&(c!=null&&c.user)&&(s=c.user,i=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(s)}catch(o){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Ie(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await vp(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=O5()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(yr(this.app))return Promise.reject(Fs(this));const n=e?Ut(e):null;return n&&Ie(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ie(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return yr(this.app)?Promise.reject(Fs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return yr(this.app)?Promise.reject(Fs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Os(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await t6(this),n=new r6(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new hd("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await J5(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Os(e)||this._popupRedirectResolver;Ie(n,this,"argument-error"),this.redirectPersistenceManager=await gl.create(this,[Os(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ie(a,this,"internal-error"),a.then(()=>{o||i(this.currentUser)}),typeof n=="function"){const c=e.addObserver(n,r,s);return()=>{o=!0,c()}}else{const c=e.addObserver(n);return()=>{o=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ie(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=mR(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var e;if(yr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&M5(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function va(t){return Ut(t)}class Fb{constructor(e){this.auth=e,this.observer=null,this.addObserver=cL(n=>this.observer=n)}get next(){return Ie(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Em={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function i6(t){Em=t}function gR(t){return Em.loadJS(t)}function o6(){return Em.recaptchaEnterpriseScript}function a6(){return Em.gapiScript}function l6(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class c6{constructor(){this.enterprise=new u6}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class u6{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const d6="recaptcha-enterprise",yR="NO_RECAPTCHA";class h6{constructor(e){this.type=d6,this.auth=va(e)}async verify(e="verify",n=!1){async function r(i){if(!n){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(o,a)=>{G5(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const u=new q5(c);return i.tenantId==null?i._agentRecaptchaConfig=u:i._tenantRecaptchaConfigs[i.tenantId]=u,o(u.siteKey)}}).catch(c=>{a(c)})})}function s(i,o,a){const c=window.grecaptcha;jb(c)?c.enterprise.ready(()=>{c.enterprise.execute(i,{action:e}).then(u=>{o(u)}).catch(()=>{o(yR)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new c6().execute("siteKey",{action:"verify"}):new Promise((i,o)=>{r(this.auth).then(a=>{if(!n&&jb(window.grecaptcha))s(a,i,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let c=o6();c.length!==0&&(c+=a),gR(c).then(()=>{s(a,i,o)}).catch(u=>{o(u)})}}).catch(a=>{o(a)})})}}async function Bb(t,e,n,r=!1,s=!1){const i=new h6(t);let o;if(s)o=yR;else try{o=await i.verify(n)}catch{o=await i.verify(n,!0)}const a=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){const c=a.phoneEnrollmentInfo.phoneNumber,u=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:c,recaptchaToken:u,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const c=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:c,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function ky(t,e,n,r,s){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await Bb(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await Bb(t,e,n,n==="getOobCode");return r(t,a)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f6(t,e){const n=wx(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(ra(i,e??{}))return s;zr(s,"already-initialized")}return n.initialize({options:e})}function p6(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Os);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function m6(t,e,n){const r=va(t);Ie(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,i=vR(e),{host:o,port:a}=g6(e),c=a===null?"":`:${a}`,u={url:`${i}//${o}${c}/`},h=Object.freeze({host:o,port:a,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){Ie(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Ie(ra(u,r.config.emulator)&&ra(h,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=u,r.emulatorConfig=h,r.settings.appVerificationDisabledForTesting=!0,Zl(o)?(pS(`${i}//${o}${c}`),mS("Auth",!0)):y6()}function vR(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function g6(t){const e=vR(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:Ub(r.substr(i.length+1))}}else{const[i,o]=r.split(":");return{host:i,port:Ub(o)}}}function Ub(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function y6(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pw{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Ds("not implemented")}_getIdTokenResponse(e){return Ds("not implemented")}_linkToIdToken(e,n){return Ds("not implemented")}_getReauthenticationResolver(e){return Ds("not implemented")}}async function v6(t,e){return go(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function x6(t,e){return _d(t,"POST","/v1/accounts:signInWithPassword",mo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function w6(t,e){return _d(t,"POST","/v1/accounts:signInWithEmailLink",mo(t,e))}async function E6(t,e){return _d(t,"POST","/v1/accounts:signInWithEmailLink",mo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zu extends pw{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new zu(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new zu(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ky(e,n,"signInWithPassword",x6);case"emailLink":return w6(e,{email:this._email,oobCode:this._password});default:zr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ky(e,r,"signUpPassword",v6);case"emailLink":return E6(e,{idToken:n,email:this._email,oobCode:this._password});default:zr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yl(t,e){return _d(t,"POST","/v1/accounts:signInWithIdp",mo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b6="http://localhost";class aa extends pw{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new aa(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):zr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=n,i=bd(n,["providerId","signInMethod"]);if(!r||!s)return null;const o=new aa(r,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return yl(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,yl(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,yl(e,n)}buildRequest(){const e={requestUri:b6,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=fd(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C6(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function _6(t){const e=qc(Gc(t)).link,n=e?qc(Gc(e)).deep_link_id:null,r=qc(Gc(t)).deep_link_id;return(r?qc(Gc(r)).link:null)||r||n||e||t}class mw{constructor(e){var n,r,s,i,o,a;const c=qc(Gc(e)),u=(n=c.apiKey)!==null&&n!==void 0?n:null,h=(r=c.oobCode)!==null&&r!==void 0?r:null,f=C6((s=c.mode)!==null&&s!==void 0?s:null);Ie(u&&h&&f,"argument-error"),this.apiKey=u,this.operation=f,this.code=h,this.continueUrl=(i=c.continueUrl)!==null&&i!==void 0?i:null,this.languageCode=(o=c.lang)!==null&&o!==void 0?o:null,this.tenantId=(a=c.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=_6(e);try{return new mw(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ac{constructor(){this.providerId=ac.PROVIDER_ID}static credential(e,n){return zu._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=mw.parseLink(n);return Ie(r,"argument-error"),zu._fromEmailAndCode(e,r.code,r.tenantId)}}ac.PROVIDER_ID="password";ac.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ac.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xR{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Td extends xR{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bi extends Td{constructor(){super("facebook.com")}static credential(e){return aa._fromParams({providerId:bi.PROVIDER_ID,signInMethod:bi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return bi.credentialFromTaggedObject(e)}static credentialFromError(e){return bi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return bi.credential(e.oauthAccessToken)}catch{return null}}}bi.FACEBOOK_SIGN_IN_METHOD="facebook.com";bi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ci extends Td{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return aa._fromParams({providerId:Ci.PROVIDER_ID,signInMethod:Ci.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Ci.credentialFromTaggedObject(e)}static credentialFromError(e){return Ci.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Ci.credential(n,r)}catch{return null}}}Ci.GOOGLE_SIGN_IN_METHOD="google.com";Ci.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _i extends Td{constructor(){super("github.com")}static credential(e){return aa._fromParams({providerId:_i.PROVIDER_ID,signInMethod:_i.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return _i.credentialFromTaggedObject(e)}static credentialFromError(e){return _i.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return _i.credential(e.oauthAccessToken)}catch{return null}}}_i.GITHUB_SIGN_IN_METHOD="github.com";_i.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ti extends Td{constructor(){super("twitter.com")}static credential(e,n){return aa._fromParams({providerId:Ti.PROVIDER_ID,signInMethod:Ti.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Ti.credentialFromTaggedObject(e)}static credentialFromError(e){return Ti.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Ti.credential(n,r)}catch{return null}}}Ti.TWITTER_SIGN_IN_METHOD="twitter.com";Ti.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function T6(t,e){return _d(t,"POST","/v1/accounts:signUp",mo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class la{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await Fr._fromIdTokenResponse(e,r,s),o=qb(r);return new la({user:i,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=qb(r);return new la({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function qb(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xp extends Xs{constructor(e,n,r,s){var i;super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,xp.prototype),this.customData={appName:e.name,tenantId:(i=e.tenantId)!==null&&i!==void 0?i:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new xp(e,n,r,s)}}function wR(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?xp._fromErrorAndOperation(t,i,e,r):i})}async function A6(t,e,n=!1){const r=await $u(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return la._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function S6(t,e,n=!1){const{auth:r}=t;if(yr(r.app))return Promise.reject(Fs(r));const s="reauthenticate";try{const i=await $u(t,wR(r,s,e,t),n);Ie(i.idToken,r,"internal-error");const o=hw(i.idToken);Ie(o,r,"internal-error");const{sub:a}=o;return Ie(t.uid===a,r,"user-mismatch"),la._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&zr(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ER(t,e,n=!1){if(yr(t.app))return Promise.reject(Fs(t));const r="signIn",s=await wR(t,r,e),i=await la._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}async function I6(t,e){return ER(va(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bR(t){const e=va(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function R6(t,e,n){if(yr(t.app))return Promise.reject(Fs(t));const r=va(t),o=await ky(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",T6).catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&bR(t),c}),a=await la._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function N6(t,e,n){return yr(t.app)?Promise.reject(Fs(t)):I6(Ut(t),ac.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&bR(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P6(t,e){return Ut(t).setPersistence(e)}function k6(t,e,n,r){return Ut(t).onIdTokenChanged(e,n,r)}function M6(t,e,n){return Ut(t).beforeAuthStateChanged(e,n)}function j6(t,e,n,r){return Ut(t).onAuthStateChanged(e,n,r)}function Gb(t){return Ut(t).signOut()}const wp="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CR{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(wp,"1"),this.storage.removeItem(wp),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D6=1e3,O6=10;class _R extends CR{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=pR(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,c)=>{this.notifyListeners(o,c)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},i=this.storage.getItem(r);Z5()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,O6):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},D6)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}_R.type="LOCAL";const TR=_R;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AR extends CR{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}AR.type="SESSION";const SR=AR;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L6(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bm{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new bm(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const a=Array.from(o).map(async u=>u(n.origin,i)),c=await L6(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:c})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}bm.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gw(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V6{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((a,c)=>{const u=gw("",20);s.port1.start();const h=setTimeout(()=>{c(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(f){const p=f;if(p.data.eventId===u)switch(p.data.status){case"ack":clearTimeout(h),i=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(p.data.response);break;default:clearTimeout(h),clearTimeout(i),c(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hs(){return window}function F6(t){hs().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IR(){return typeof hs().WorkerGlobalScope<"u"&&typeof hs().importScripts=="function"}async function B6(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function U6(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function q6(){return IR()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RR="firebaseLocalStorageDb",G6=1,Ep="firebaseLocalStorage",NR="fbase_key";class Ad{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Cm(t,e){return t.transaction([Ep],e?"readwrite":"readonly").objectStore(Ep)}function $6(){const t=indexedDB.deleteDatabase(RR);return new Ad(t).toPromise()}function My(){const t=indexedDB.open(RR,G6);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Ep,{keyPath:NR})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Ep)?e(r):(r.close(),await $6(),e(await My()))})})}async function $b(t,e,n){const r=Cm(t,!0).put({[NR]:e,value:n});return new Ad(r).toPromise()}async function z6(t,e){const n=Cm(t,!1).get(e),r=await new Ad(n).toPromise();return r===void 0?null:r.value}function zb(t,e){const n=Cm(t,!0).delete(e);return new Ad(n).toPromise()}const W6=800,Q6=3;class PR{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await My(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>Q6)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return IR()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=bm._getInstance(q6()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await B6(),!this.activeServiceWorker)return;this.sender=new V6(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||U6()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await My();return await $b(e,wp,"1"),await zb(e,wp),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>$b(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>z6(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>zb(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=Cm(s,!1).getAll();return new Ad(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),W6)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}PR.type="LOCAL";const Y6=PR;new Cd(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K6(t,e){return e?Os(e):(Ie(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yw extends pw{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return yl(e,this._buildIdpRequest())}_linkToIdToken(e,n){return yl(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return yl(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function H6(t){return ER(t.auth,new yw(t),t.bypassAuthState)}function J6(t){const{auth:e,user:n}=t;return Ie(n,e,"internal-error"),S6(n,new yw(t),t.bypassAuthState)}async function X6(t){const{auth:e,user:n}=t;return Ie(n,e,"internal-error"),A6(n,new yw(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kR{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:o,type:a}=e;if(o){this.reject(o);return}const c={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(c))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return H6;case"linkViaPopup":case"linkViaRedirect":return X6;case"reauthViaPopup":case"reauthViaRedirect":return J6;default:zr(this.auth,"internal-error")}}resolve(e){Qs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Qs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z6=new Cd(2e3,1e4);class il extends kR{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,il.currentPopupAction&&il.currentPopupAction.cancel(),il.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ie(e,this.auth,"internal-error"),e}async onExecution(){Qs(this.filter.length===1,"Popup operations only handle one event");const e=gw();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(ds(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(ds(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,il.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ds(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Z6.get())};e()}}il.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eB="pendingRedirect",xf=new Map;class tB extends kR{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=xf.get(this.auth._key());if(!e){try{const r=await nB(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}xf.set(this.auth._key(),e)}return this.bypassAuthState||xf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function nB(t,e){const n=iB(e),r=sB(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function rB(t,e){xf.set(t._key(),e)}function sB(t){return Os(t._redirectPersistence)}function iB(t){return vf(eB,t.config.apiKey,t.name)}async function oB(t,e,n=!1){if(yr(t.app))return Promise.reject(Fs(t));const r=va(t),s=K6(r,e),o=await new tB(r,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aB=10*60*1e3;class lB{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!cB(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!MR(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(ds(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=aB&&this.cachedEventUids.clear(),this.cachedEventUids.has(Wb(e))}saveEventToCache(e){this.cachedEventUids.add(Wb(e)),this.lastProcessedEventTime=Date.now()}}function Wb(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function MR({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function cB(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return MR(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uB(t,e={}){return go(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dB=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,hB=/^https?/;async function fB(t){if(t.config.emulator)return;const{authorizedDomains:e}=await uB(t);for(const n of e)try{if(pB(n))return}catch{}zr(t,"unauthorized-domain")}function pB(t){const e=Ny(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!hB.test(n))return!1;if(dB.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mB=new Cd(3e4,6e4);function Qb(){const t=hs().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function gB(t){return new Promise((e,n)=>{var r,s,i;function o(){Qb(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Qb(),n(ds(t,"network-request-failed"))},timeout:mB.get()})}if(!((s=(r=hs().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((i=hs().gapi)===null||i===void 0)&&i.load)o();else{const a=l6("iframefcb");return hs()[a]=()=>{gapi.load?o():n(ds(t,"network-request-failed"))},gR(`${a6()}?onload=${a}`).catch(c=>n(c))}}).catch(e=>{throw wf=null,e})}let wf=null;function yB(t){return wf=wf||gB(t),wf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vB=new Cd(5e3,15e3),xB="__/auth/iframe",wB="emulator/auth/iframe",EB={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},bB=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function CB(t){const e=t.config;Ie(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?dw(e,wB):`https://${t.config.authDomain}/${xB}`,r={apiKey:e.apiKey,appName:t.name,v:ec},s=bB.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${fd(r).slice(1)}`}async function _B(t){const e=await yB(t),n=hs().gapi;return Ie(n,t,"internal-error"),e.open({where:document.body,url:CB(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:EB,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const o=ds(t,"network-request-failed"),a=hs().setTimeout(()=>{i(o)},vB.get());function c(){hs().clearTimeout(a),s(r)}r.ping(c).then(c,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TB={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},AB=500,SB=600,IB="_blank",RB="http://localhost";class Yb{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function NB(t,e,n,r=AB,s=SB){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const c=Object.assign(Object.assign({},TB),{width:r.toString(),height:s.toString(),top:i,left:o}),u=_n().toLowerCase();n&&(a=cR(u)?IB:n),aR(u)&&(e=e||RB,c.scrollbars="yes");const h=Object.entries(c).reduce((p,[v,x])=>`${p}${v}=${x},`,"");if(X5(u)&&a!=="_self")return PB(e||"",a),new Yb(null);const f=window.open(e||"",a,h);Ie(f,t,"popup-blocked");try{f.focus()}catch{}return new Yb(f)}function PB(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kB="__/auth/handler",MB="emulator/auth/handler",jB=encodeURIComponent("fac");async function Kb(t,e,n,r,s,i){Ie(t.config.authDomain,t,"auth-domain-config-required"),Ie(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:ec,eventId:s};if(e instanceof xR){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",lL(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,f]of Object.entries({}))o[h]=f}if(e instanceof Td){const h=e.getScopes().filter(f=>f!=="");h.length>0&&(o.scopes=h.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const h of Object.keys(a))a[h]===void 0&&delete a[h];const c=await t._getAppCheckToken(),u=c?`#${jB}=${encodeURIComponent(c)}`:"";return`${DB(t)}?${fd(a).slice(1)}${u}`}function DB({config:t}){return t.emulator?dw(t,MB):`https://${t.authDomain}/${kB}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wg="webStorageSupport";class OB{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=SR,this._completeRedirectFn=oB,this._overrideRedirectResult=rB}async _openPopup(e,n,r,s){var i;Qs((i=this.eventManagers[e._key()])===null||i===void 0?void 0:i.manager,"_initialize() not called before _openPopup()");const o=await Kb(e,n,r,Ny(),s);return NB(e,o,gw())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await Kb(e,n,r,Ny(),s);return F6(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(Qs(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await _B(e),r=new lB(e);return n.register("authEvent",s=>(Ie(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Wg,{type:Wg},s=>{var i;const o=(i=s==null?void 0:s[0])===null||i===void 0?void 0:i[Wg];o!==void 0&&n(!!o),zr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=fB(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return pR()||lR()||fw()}}const LB=OB;var Hb="@firebase/auth",Jb="1.10.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VB{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ie(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FB(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function BB(t){Fl(new sa("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;Ie(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:mR(t)},u=new s6(r,s,i,c);return p6(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Fl(new sa("auth-internal",e=>{const n=va(e.getProvider("auth").getImmediate());return(r=>new VB(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),zi(Hb,Jb,FB(t)),zi(Hb,Jb,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UB=5*60,qB=fS("authIdTokenMaxAge")||UB;let Xb=null;const GB=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>qB)return;const s=n==null?void 0:n.token;Xb!==s&&(Xb=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function $B(t=Ex()){const e=wx(t,"auth");if(e.isInitialized())return e.getImmediate();const n=f6(t,{popupRedirectResolver:LB,persistence:[Y6,TR,SR]}),r=fS("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const o=GB(i.toString());M6(n,o,()=>o(n.currentUser)),k6(n,a=>o(a))}}const s=dS("auth");return s&&m6(n,`http://${s}`),n}function zB(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}i6({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=ds("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",zB().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});BB("Browser");const WB={apiKey:"AIzaSyBUftmUEX4_zgW-7daz3Yq9Md7QJQWTDOM",authDomain:"vmaster-fcdff.firebaseapp.com",projectId:"vmaster-fcdff",storageBucket:"vmaster-fcdff.firebasestorage.app",messagingSenderId:"44584686885",appId:"1:44584686885:web:1aa7941cebb2ad30bf76cc",measurementId:"G-FH5MHDJ62K"},jR=u3().length?Ex():vS(WB),Pt=g5(jR),Yo=$B(jR);P6(Yo,TR);function nt(...t){return OO(QA(t))}const QB=qD,DR=y.forwardRef(({className:t,...e},n)=>l.jsx(BA,{ref:n,className:nt("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));DR.displayName=BA.displayName;const YB=hx("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),OR=y.forwardRef(({className:t,variant:e,...n},r)=>l.jsx(UA,{ref:r,className:nt(YB({variant:e}),t),...n}));OR.displayName=UA.displayName;const KB=y.forwardRef(({className:t,...e},n)=>l.jsx($A,{ref:n,className:nt("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));KB.displayName=$A.displayName;const LR=y.forwardRef(({className:t,...e},n)=>l.jsx(zA,{ref:n,className:nt("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:l.jsx(Vl,{className:"h-4 w-4"})}));LR.displayName=zA.displayName;const VR=y.forwardRef(({className:t,...e},n)=>l.jsx(qA,{ref:n,className:nt("text-sm font-semibold",t),...e}));VR.displayName=qA.displayName;const FR=y.forwardRef(({className:t,...e},n)=>l.jsx(GA,{ref:n,className:nt("text-sm opacity-90",t),...e}));FR.displayName=GA.displayName;function HB(){const{toasts:t}=eD();return l.jsxs(QB,{children:[t.map(function({id:e,title:n,description:r,action:s,...i}){return l.jsxs(OR,{...i,children:[l.jsxs("div",{className:"grid gap-1",children:[n&&l.jsx(VR,{children:n}),r&&l.jsx(FR,{children:r})]}),s,l.jsx(LR,{})]},e)}),l.jsx(DR,{})]})}var Zb=["light","dark"],JB="(prefers-color-scheme: dark)",XB=y.createContext(void 0),ZB={setTheme:t=>{},themes:[]},e8=()=>{var t;return(t=y.useContext(XB))!=null?t:ZB};y.memo(({forcedTheme:t,storageKey:e,attribute:n,enableSystem:r,enableColorScheme:s,defaultTheme:i,value:o,attrs:a,nonce:c})=>{let u=i==="system",h=n==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${a.map(x=>`'${x}'`).join(",")})`};`:`var d=document.documentElement,n='${n}',s='setAttribute';`,f=s?Zb.includes(i)&&i?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${i}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",p=(x,g=!1,w=!0)=>{let T=o?o[x]:x,E=g?x+"|| ''":`'${T}'`,b="";return s&&w&&!g&&Zb.includes(x)&&(b+=`d.style.colorScheme = '${x}';`),n==="class"?g||T?b+=`c.add(${E})`:b+="null":T&&(b+=`d[s](n,${E})`),b},v=t?`!function(){${h}${p(t)}}()`:r?`!function(){try{${h}var e=localStorage.getItem('${e}');if('system'===e||(!e&&${u})){var t='${JB}',m=window.matchMedia(t);if(m.media!==t||m.matches){${p("dark")}}else{${p("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${p(o?"x[e]":"e",!0)}}${u?"":"else{"+p(i,!1,!1)+"}"}${f}}catch(e){}}()`:`!function(){try{${h}var e=localStorage.getItem('${e}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${p(o?"x[e]":"e",!0)}}else{${p(i,!1,!1)};}${f}}catch(t){}}();`;return y.createElement("script",{nonce:c,dangerouslySetInnerHTML:{__html:v}})});var t8=t=>{switch(t){case"success":return s8;case"info":return o8;case"warning":return i8;case"error":return a8;default:return null}},n8=Array(12).fill(0),r8=({visible:t})=>Y.createElement("div",{className:"sonner-loading-wrapper","data-visible":t},Y.createElement("div",{className:"sonner-spinner"},n8.map((e,n)=>Y.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),s8=Y.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Y.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),i8=Y.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},Y.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),o8=Y.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Y.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),a8=Y.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Y.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),l8=()=>{let[t,e]=Y.useState(document.hidden);return Y.useEffect(()=>{let n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t},jy=1,c8=class{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{let e=this.subscribers.indexOf(t);this.subscribers.splice(e,1)}),this.publish=t=>{this.subscribers.forEach(e=>e(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var e;let{message:n,...r}=t,s=typeof(t==null?void 0:t.id)=="number"||((e=t.id)==null?void 0:e.length)>0?t.id:jy++,i=this.toasts.find(a=>a.id===s),o=t.dismissible===void 0?!0:t.dismissible;return i?this.toasts=this.toasts.map(a=>a.id===s?(this.publish({...a,...t,id:s,title:n}),{...a,...t,id:s,dismissible:o,title:n}):a):this.addToast({title:n,...r,dismissible:o,id:s}),s},this.dismiss=t=>(t||this.toasts.forEach(e=>{this.subscribers.forEach(n=>n({id:e.id,dismiss:!0}))}),this.subscribers.forEach(e=>e({id:t,dismiss:!0})),t),this.message=(t,e)=>this.create({...e,message:t}),this.error=(t,e)=>this.create({...e,message:t,type:"error"}),this.success=(t,e)=>this.create({...e,type:"success",message:t}),this.info=(t,e)=>this.create({...e,type:"info",message:t}),this.warning=(t,e)=>this.create({...e,type:"warning",message:t}),this.loading=(t,e)=>this.create({...e,type:"loading",message:t}),this.promise=(t,e)=>{if(!e)return;let n;e.loading!==void 0&&(n=this.create({...e,promise:t,type:"loading",message:e.loading,description:typeof e.description!="function"?e.description:void 0}));let r=t instanceof Promise?t:t(),s=n!==void 0;return r.then(async i=>{if(d8(i)&&!i.ok){s=!1;let o=typeof e.error=="function"?await e.error(`HTTP error! status: ${i.status}`):e.error,a=typeof e.description=="function"?await e.description(`HTTP error! status: ${i.status}`):e.description;this.create({id:n,type:"error",message:o,description:a})}else if(e.success!==void 0){s=!1;let o=typeof e.success=="function"?await e.success(i):e.success,a=typeof e.description=="function"?await e.description(i):e.description;this.create({id:n,type:"success",message:o,description:a})}}).catch(async i=>{if(e.error!==void 0){s=!1;let o=typeof e.error=="function"?await e.error(i):e.error,a=typeof e.description=="function"?await e.description(i):e.description;this.create({id:n,type:"error",message:o,description:a})}}).finally(()=>{var i;s&&(this.dismiss(n),n=void 0),(i=e.finally)==null||i.call(e)}),n},this.custom=(t,e)=>{let n=(e==null?void 0:e.id)||jy++;return this.create({jsx:t(n),id:n,...e}),n},this.subscribers=[],this.toasts=[]}},Jn=new c8,u8=(t,e)=>{let n=(e==null?void 0:e.id)||jy++;return Jn.addToast({title:t,...e,id:n}),n},d8=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",h8=u8,f8=()=>Jn.toasts;Object.assign(h8,{success:Jn.success,info:Jn.info,warning:Jn.warning,error:Jn.error,custom:Jn.custom,message:Jn.message,promise:Jn.promise,dismiss:Jn.dismiss,loading:Jn.loading},{getHistory:f8});function p8(t,{insertAt:e}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}p8(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999}:where([data-sonner-toaster][data-x-position="right"]){right:max(var(--offset),env(safe-area-inset-right))}:where([data-sonner-toaster][data-x-position="left"]){left:max(var(--offset),env(safe-area-inset-left))}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:max(var(--offset),env(safe-area-inset-top))}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:max(var(--offset),env(safe-area-inset-bottom))}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;background:var(--gray1);color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:0;right:0;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount, 0px));transition:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation:swipe-out .2s ease-out forwards}@keyframes swipe-out{0%{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount)));opacity:1}to{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount) + var(--lift) * -100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;--mobile-offset: 16px;right:var(--mobile-offset);left:var(--mobile-offset);width:100%}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset)}[data-sonner-toaster][data-y-position=bottom]{bottom:20px}[data-sonner-toaster][data-y-position=top]{top:20px}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset);right:var(--mobile-offset);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Uh(t){return t.label!==void 0}var m8=3,g8="32px",y8=4e3,v8=356,x8=14,w8=20,E8=200;function b8(...t){return t.filter(Boolean).join(" ")}var C8=t=>{var e,n,r,s,i,o,a,c,u,h;let{invert:f,toast:p,unstyled:v,interacting:x,setHeights:g,visibleToasts:w,heights:T,index:E,toasts:b,expanded:R,removeToast:D,defaultRichColors:F,closeButton:I,style:S,cancelButtonStyle:P,actionButtonStyle:k,className:O="",descriptionClassName:L="",duration:j,position:W,gap:H,loadingIcon:J,expandByDefault:oe,classNames:q,icons:z,closeButtonAriaLabel:se="Close toast",pauseWhenPageIsHidden:ne,cn:le}=t,[ue,Se]=Y.useState(!1),[ke,we]=Y.useState(!1),[ie,ge]=Y.useState(!1),[xe,Ee]=Y.useState(!1),[Te,Ce]=Y.useState(0),[he,ve]=Y.useState(0),gt=Y.useRef(null),at=Y.useRef(null),Dt=E===0,Ze=E+1<=w,yt=p.type,cn=p.dismissible!==!1,_r=p.className||"",ys=p.descriptionClassName||"",ur=Y.useMemo(()=>T.findIndex(Ae=>Ae.toastId===p.id)||0,[T,p.id]),vs=Y.useMemo(()=>{var Ae;return(Ae=p.closeButton)!=null?Ae:I},[p.closeButton,I]),bo=Y.useMemo(()=>p.duration||j||y8,[p.duration,j]),At=Y.useRef(0),vt=Y.useRef(0),xs=Y.useRef(0),Tr=Y.useRef(null),[Co,ei]=W.split("-"),dr=Y.useMemo(()=>T.reduce((Ae,Ue,Je)=>Je>=ur?Ae:Ae+Ue.height,0),[T,ur]),Ar=l8(),Sr=p.invert||f,Tn=yt==="loading";vt.current=Y.useMemo(()=>ur*H+dr,[ur,dr]),Y.useEffect(()=>{Se(!0)},[]),Y.useLayoutEffect(()=>{if(!ue)return;let Ae=at.current,Ue=Ae.style.height;Ae.style.height="auto";let Je=Ae.getBoundingClientRect().height;Ae.style.height=Ue,ve(Je),g(Qt=>Qt.find(un=>un.toastId===p.id)?Qt.map(un=>un.toastId===p.id?{...un,height:Je}:un):[{toastId:p.id,height:Je,position:p.position},...Qt])},[ue,p.title,p.description,g,p.id]);let An=Y.useCallback(()=>{we(!0),Ce(vt.current),g(Ae=>Ae.filter(Ue=>Ue.toastId!==p.id)),setTimeout(()=>{D(p)},E8)},[p,D,g,vt]);Y.useEffect(()=>{if(p.promise&&yt==="loading"||p.duration===1/0||p.type==="loading")return;let Ae,Ue=bo;return R||x||ne&&Ar?(()=>{if(xs.current<At.current){let Je=new Date().getTime()-At.current;Ue=Ue-Je}xs.current=new Date().getTime()})():Ue!==1/0&&(At.current=new Date().getTime(),Ae=setTimeout(()=>{var Je;(Je=p.onAutoClose)==null||Je.call(p,p),An()},Ue)),()=>clearTimeout(Ae)},[R,x,oe,p,bo,An,p.promise,yt,ne,Ar]),Y.useEffect(()=>{let Ae=at.current;if(Ae){let Ue=Ae.getBoundingClientRect().height;return ve(Ue),g(Je=>[{toastId:p.id,height:Ue,position:p.position},...Je]),()=>g(Je=>Je.filter(Qt=>Qt.toastId!==p.id))}},[g,p.id]),Y.useEffect(()=>{p.delete&&An()},[An,p.delete]);function pc(){return z!=null&&z.loading?Y.createElement("div",{className:"sonner-loader","data-visible":yt==="loading"},z.loading):J?Y.createElement("div",{className:"sonner-loader","data-visible":yt==="loading"},J):Y.createElement(r8,{visible:yt==="loading"})}return Y.createElement("li",{"aria-live":p.important?"assertive":"polite","aria-atomic":"true",role:"status",tabIndex:0,ref:at,className:le(O,_r,q==null?void 0:q.toast,(e=p==null?void 0:p.classNames)==null?void 0:e.toast,q==null?void 0:q.default,q==null?void 0:q[yt],(n=p==null?void 0:p.classNames)==null?void 0:n[yt]),"data-sonner-toast":"","data-rich-colors":(r=p.richColors)!=null?r:F,"data-styled":!(p.jsx||p.unstyled||v),"data-mounted":ue,"data-promise":!!p.promise,"data-removed":ke,"data-visible":Ze,"data-y-position":Co,"data-x-position":ei,"data-index":E,"data-front":Dt,"data-swiping":ie,"data-dismissible":cn,"data-type":yt,"data-invert":Sr,"data-swipe-out":xe,"data-expanded":!!(R||oe&&ue),style:{"--index":E,"--toasts-before":E,"--z-index":b.length-E,"--offset":`${ke?Te:vt.current}px`,"--initial-height":oe?"auto":`${he}px`,...S,...p.style},onPointerDown:Ae=>{Tn||!cn||(gt.current=new Date,Ce(vt.current),Ae.target.setPointerCapture(Ae.pointerId),Ae.target.tagName!=="BUTTON"&&(ge(!0),Tr.current={x:Ae.clientX,y:Ae.clientY}))},onPointerUp:()=>{var Ae,Ue,Je,Qt;if(xe||!cn)return;Tr.current=null;let un=Number(((Ae=at.current)==null?void 0:Ae.style.getPropertyValue("--swipe-amount").replace("px",""))||0),Ir=new Date().getTime()-((Ue=gt.current)==null?void 0:Ue.getTime()),dt=Math.abs(un)/Ir;if(Math.abs(un)>=w8||dt>.11){Ce(vt.current),(Je=p.onDismiss)==null||Je.call(p,p),An(),Ee(!0);return}(Qt=at.current)==null||Qt.style.setProperty("--swipe-amount","0px"),ge(!1)},onPointerMove:Ae=>{var Ue;if(!Tr.current||!cn)return;let Je=Ae.clientY-Tr.current.y,Qt=Ae.clientX-Tr.current.x,un=(Co==="top"?Math.min:Math.max)(0,Je),Ir=Ae.pointerType==="touch"?10:2;Math.abs(un)>Ir?(Ue=at.current)==null||Ue.style.setProperty("--swipe-amount",`${Je}px`):Math.abs(Qt)>Ir&&(Tr.current=null)}},vs&&!p.jsx?Y.createElement("button",{"aria-label":se,"data-disabled":Tn,"data-close-button":!0,onClick:Tn||!cn?()=>{}:()=>{var Ae;An(),(Ae=p.onDismiss)==null||Ae.call(p,p)},className:le(q==null?void 0:q.closeButton,(s=p==null?void 0:p.classNames)==null?void 0:s.closeButton)},Y.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},Y.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),Y.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"}))):null,p.jsx||Y.isValidElement(p.title)?p.jsx||p.title:Y.createElement(Y.Fragment,null,yt||p.icon||p.promise?Y.createElement("div",{"data-icon":"",className:le(q==null?void 0:q.icon,(i=p==null?void 0:p.classNames)==null?void 0:i.icon)},p.promise||p.type==="loading"&&!p.icon?p.icon||pc():null,p.type!=="loading"?p.icon||(z==null?void 0:z[yt])||t8(yt):null):null,Y.createElement("div",{"data-content":"",className:le(q==null?void 0:q.content,(o=p==null?void 0:p.classNames)==null?void 0:o.content)},Y.createElement("div",{"data-title":"",className:le(q==null?void 0:q.title,(a=p==null?void 0:p.classNames)==null?void 0:a.title)},p.title),p.description?Y.createElement("div",{"data-description":"",className:le(L,ys,q==null?void 0:q.description,(c=p==null?void 0:p.classNames)==null?void 0:c.description)},p.description):null),Y.isValidElement(p.cancel)?p.cancel:p.cancel&&Uh(p.cancel)?Y.createElement("button",{"data-button":!0,"data-cancel":!0,style:p.cancelButtonStyle||P,onClick:Ae=>{var Ue,Je;Uh(p.cancel)&&cn&&((Je=(Ue=p.cancel).onClick)==null||Je.call(Ue,Ae),An())},className:le(q==null?void 0:q.cancelButton,(u=p==null?void 0:p.classNames)==null?void 0:u.cancelButton)},p.cancel.label):null,Y.isValidElement(p.action)?p.action:p.action&&Uh(p.action)?Y.createElement("button",{"data-button":!0,"data-action":!0,style:p.actionButtonStyle||k,onClick:Ae=>{var Ue,Je;Uh(p.action)&&(Ae.defaultPrevented||((Je=(Ue=p.action).onClick)==null||Je.call(Ue,Ae),An()))},className:le(q==null?void 0:q.actionButton,(h=p==null?void 0:p.classNames)==null?void 0:h.actionButton)},p.action.label):null))};function eC(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}var _8=t=>{let{invert:e,position:n="bottom-right",hotkey:r=["altKey","KeyT"],expand:s,closeButton:i,className:o,offset:a,theme:c="light",richColors:u,duration:h,style:f,visibleToasts:p=m8,toastOptions:v,dir:x=eC(),gap:g=x8,loadingIcon:w,icons:T,containerAriaLabel:E="Notifications",pauseWhenPageIsHidden:b,cn:R=b8}=t,[D,F]=Y.useState([]),I=Y.useMemo(()=>Array.from(new Set([n].concat(D.filter(ne=>ne.position).map(ne=>ne.position)))),[D,n]),[S,P]=Y.useState([]),[k,O]=Y.useState(!1),[L,j]=Y.useState(!1),[W,H]=Y.useState(c!=="system"?c:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),J=Y.useRef(null),oe=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),q=Y.useRef(null),z=Y.useRef(!1),se=Y.useCallback(ne=>{var le;(le=D.find(ue=>ue.id===ne.id))!=null&&le.delete||Jn.dismiss(ne.id),F(ue=>ue.filter(({id:Se})=>Se!==ne.id))},[D]);return Y.useEffect(()=>Jn.subscribe(ne=>{if(ne.dismiss){F(le=>le.map(ue=>ue.id===ne.id?{...ue,delete:!0}:ue));return}setTimeout(()=>{EA.flushSync(()=>{F(le=>{let ue=le.findIndex(Se=>Se.id===ne.id);return ue!==-1?[...le.slice(0,ue),{...le[ue],...ne},...le.slice(ue+1)]:[ne,...le]})})})}),[]),Y.useEffect(()=>{if(c!=="system"){H(c);return}c==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?H("dark"):H("light")),typeof window<"u"&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",({matches:ne})=>{H(ne?"dark":"light")})},[c]),Y.useEffect(()=>{D.length<=1&&O(!1)},[D]),Y.useEffect(()=>{let ne=le=>{var ue,Se;r.every(ke=>le[ke]||le.code===ke)&&(O(!0),(ue=J.current)==null||ue.focus()),le.code==="Escape"&&(document.activeElement===J.current||(Se=J.current)!=null&&Se.contains(document.activeElement))&&O(!1)};return document.addEventListener("keydown",ne),()=>document.removeEventListener("keydown",ne)},[r]),Y.useEffect(()=>{if(J.current)return()=>{q.current&&(q.current.focus({preventScroll:!0}),q.current=null,z.current=!1)}},[J.current]),D.length?Y.createElement("section",{"aria-label":`${E} ${oe}`,tabIndex:-1},I.map((ne,le)=>{var ue;let[Se,ke]=ne.split("-");return Y.createElement("ol",{key:ne,dir:x==="auto"?eC():x,tabIndex:-1,ref:J,className:o,"data-sonner-toaster":!0,"data-theme":W,"data-y-position":Se,"data-x-position":ke,style:{"--front-toast-height":`${((ue=S[0])==null?void 0:ue.height)||0}px`,"--offset":typeof a=="number"?`${a}px`:a||g8,"--width":`${v8}px`,"--gap":`${g}px`,...f},onBlur:we=>{z.current&&!we.currentTarget.contains(we.relatedTarget)&&(z.current=!1,q.current&&(q.current.focus({preventScroll:!0}),q.current=null))},onFocus:we=>{we.target instanceof HTMLElement&&we.target.dataset.dismissible==="false"||z.current||(z.current=!0,q.current=we.relatedTarget)},onMouseEnter:()=>O(!0),onMouseMove:()=>O(!0),onMouseLeave:()=>{L||O(!1)},onPointerDown:we=>{we.target instanceof HTMLElement&&we.target.dataset.dismissible==="false"||j(!0)},onPointerUp:()=>j(!1)},D.filter(we=>!we.position&&le===0||we.position===ne).map((we,ie)=>{var ge,xe;return Y.createElement(C8,{key:we.id,icons:T,index:ie,toast:we,defaultRichColors:u,duration:(ge=v==null?void 0:v.duration)!=null?ge:h,className:v==null?void 0:v.className,descriptionClassName:v==null?void 0:v.descriptionClassName,invert:e,visibleToasts:p,closeButton:(xe=v==null?void 0:v.closeButton)!=null?xe:i,interacting:L,position:ne,style:v==null?void 0:v.style,unstyled:v==null?void 0:v.unstyled,classNames:v==null?void 0:v.classNames,cancelButtonStyle:v==null?void 0:v.cancelButtonStyle,actionButtonStyle:v==null?void 0:v.actionButtonStyle,removeToast:se,toasts:D.filter(Ee=>Ee.position==we.position),heights:S.filter(Ee=>Ee.position==we.position),setHeights:P,expandByDefault:s,gap:g,loadingIcon:w,expanded:k,pauseWhenPageIsHidden:b,cn:R})}))})):null};const T8=({...t})=>{const{theme:e="system"}=e8();return l.jsx(_8,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})};var A8=v_.useId||(()=>{}),S8=0;function Ko(t){const[e,n]=y.useState(A8());return Cn(()=>{n(r=>r??String(S8++))},[t]),e?`radix-${e}`:""}const I8=["top","right","bottom","left"],io=Math.min,Zn=Math.max,bp=Math.round,qh=Math.floor,oo=t=>({x:t,y:t}),R8={left:"right",right:"left",bottom:"top",top:"bottom"},N8={start:"end",end:"start"};function Dy(t,e,n){return Zn(t,io(e,n))}function Ys(t,e){return typeof t=="function"?t(e):t}function Ks(t){return t.split("-")[0]}function lc(t){return t.split("-")[1]}function vw(t){return t==="x"?"y":"x"}function xw(t){return t==="y"?"height":"width"}function ao(t){return["top","bottom"].includes(Ks(t))?"y":"x"}function ww(t){return vw(ao(t))}function P8(t,e,n){n===void 0&&(n=!1);const r=lc(t),s=ww(t),i=xw(s);let o=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(o=Cp(o)),[o,Cp(o)]}function k8(t){const e=Cp(t);return[Oy(t),e,Oy(e)]}function Oy(t){return t.replace(/start|end/g,e=>N8[e])}function M8(t,e,n){const r=["left","right"],s=["right","left"],i=["top","bottom"],o=["bottom","top"];switch(t){case"top":case"bottom":return n?e?s:r:e?r:s;case"left":case"right":return e?i:o;default:return[]}}function j8(t,e,n,r){const s=lc(t);let i=M8(Ks(t),n==="start",r);return s&&(i=i.map(o=>o+"-"+s),e&&(i=i.concat(i.map(Oy)))),i}function Cp(t){return t.replace(/left|right|bottom|top/g,e=>R8[e])}function D8(t){return{top:0,right:0,bottom:0,left:0,...t}}function BR(t){return typeof t!="number"?D8(t):{top:t,right:t,bottom:t,left:t}}function _p(t){const{x:e,y:n,width:r,height:s}=t;return{width:r,height:s,top:n,left:e,right:e+r,bottom:n+s,x:e,y:n}}function tC(t,e,n){let{reference:r,floating:s}=t;const i=ao(e),o=ww(e),a=xw(o),c=Ks(e),u=i==="y",h=r.x+r.width/2-s.width/2,f=r.y+r.height/2-s.height/2,p=r[a]/2-s[a]/2;let v;switch(c){case"top":v={x:h,y:r.y-s.height};break;case"bottom":v={x:h,y:r.y+r.height};break;case"right":v={x:r.x+r.width,y:f};break;case"left":v={x:r.x-s.width,y:f};break;default:v={x:r.x,y:r.y}}switch(lc(e)){case"start":v[o]-=p*(n&&u?-1:1);break;case"end":v[o]+=p*(n&&u?-1:1);break}return v}const O8=async(t,e,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:i=[],platform:o}=n,a=i.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(e));let u=await o.getElementRects({reference:t,floating:e,strategy:s}),{x:h,y:f}=tC(u,r,c),p=r,v={},x=0;for(let g=0;g<a.length;g++){const{name:w,fn:T}=a[g],{x:E,y:b,data:R,reset:D}=await T({x:h,y:f,initialPlacement:r,placement:p,strategy:s,middlewareData:v,rects:u,platform:o,elements:{reference:t,floating:e}});h=E??h,f=b??f,v={...v,[w]:{...v[w],...R}},D&&x<=50&&(x++,typeof D=="object"&&(D.placement&&(p=D.placement),D.rects&&(u=D.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:s}):D.rects),{x:h,y:f}=tC(u,p,c)),g=-1)}return{x:h,y:f,placement:p,strategy:s,middlewareData:v}};async function Wu(t,e){var n;e===void 0&&(e={});const{x:r,y:s,platform:i,rects:o,elements:a,strategy:c}=t,{boundary:u="clippingAncestors",rootBoundary:h="viewport",elementContext:f="floating",altBoundary:p=!1,padding:v=0}=Ys(e,t),x=BR(v),w=a[p?f==="floating"?"reference":"floating":f],T=_p(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(w)))==null||n?w:w.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(a.floating)),boundary:u,rootBoundary:h,strategy:c})),E=f==="floating"?{x:r,y:s,width:o.floating.width,height:o.floating.height}:o.reference,b=await(i.getOffsetParent==null?void 0:i.getOffsetParent(a.floating)),R=await(i.isElement==null?void 0:i.isElement(b))?await(i.getScale==null?void 0:i.getScale(b))||{x:1,y:1}:{x:1,y:1},D=_p(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:E,offsetParent:b,strategy:c}):E);return{top:(T.top-D.top+x.top)/R.y,bottom:(D.bottom-T.bottom+x.bottom)/R.y,left:(T.left-D.left+x.left)/R.x,right:(D.right-T.right+x.right)/R.x}}const L8=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:s,rects:i,platform:o,elements:a,middlewareData:c}=e,{element:u,padding:h=0}=Ys(t,e)||{};if(u==null)return{};const f=BR(h),p={x:n,y:r},v=ww(s),x=xw(v),g=await o.getDimensions(u),w=v==="y",T=w?"top":"left",E=w?"bottom":"right",b=w?"clientHeight":"clientWidth",R=i.reference[x]+i.reference[v]-p[v]-i.floating[x],D=p[v]-i.reference[v],F=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let I=F?F[b]:0;(!I||!await(o.isElement==null?void 0:o.isElement(F)))&&(I=a.floating[b]||i.floating[x]);const S=R/2-D/2,P=I/2-g[x]/2-1,k=io(f[T],P),O=io(f[E],P),L=k,j=I-g[x]-O,W=I/2-g[x]/2+S,H=Dy(L,W,j),J=!c.arrow&&lc(s)!=null&&W!==H&&i.reference[x]/2-(W<L?k:O)-g[x]/2<0,oe=J?W<L?W-L:W-j:0;return{[v]:p[v]+oe,data:{[v]:H,centerOffset:W-H-oe,...J&&{alignmentOffset:oe}},reset:J}}}),V8=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:s,middlewareData:i,rects:o,initialPlacement:a,platform:c,elements:u}=e,{mainAxis:h=!0,crossAxis:f=!0,fallbackPlacements:p,fallbackStrategy:v="bestFit",fallbackAxisSideDirection:x="none",flipAlignment:g=!0,...w}=Ys(t,e);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const T=Ks(s),E=ao(a),b=Ks(a)===a,R=await(c.isRTL==null?void 0:c.isRTL(u.floating)),D=p||(b||!g?[Cp(a)]:k8(a)),F=x!=="none";!p&&F&&D.push(...j8(a,g,x,R));const I=[a,...D],S=await Wu(e,w),P=[];let k=((r=i.flip)==null?void 0:r.overflows)||[];if(h&&P.push(S[T]),f){const W=P8(s,o,R);P.push(S[W[0]],S[W[1]])}if(k=[...k,{placement:s,overflows:P}],!P.every(W=>W<=0)){var O,L;const W=(((O=i.flip)==null?void 0:O.index)||0)+1,H=I[W];if(H)return{data:{index:W,overflows:k},reset:{placement:H}};let J=(L=k.filter(oe=>oe.overflows[0]<=0).sort((oe,q)=>oe.overflows[1]-q.overflows[1])[0])==null?void 0:L.placement;if(!J)switch(v){case"bestFit":{var j;const oe=(j=k.filter(q=>{if(F){const z=ao(q.placement);return z===E||z==="y"}return!0}).map(q=>[q.placement,q.overflows.filter(z=>z>0).reduce((z,se)=>z+se,0)]).sort((q,z)=>q[1]-z[1])[0])==null?void 0:j[0];oe&&(J=oe);break}case"initialPlacement":J=a;break}if(s!==J)return{reset:{placement:J}}}return{}}}};function nC(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function rC(t){return I8.some(e=>t[e]>=0)}const F8=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...s}=Ys(t,e);switch(r){case"referenceHidden":{const i=await Wu(e,{...s,elementContext:"reference"}),o=nC(i,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:rC(o)}}}case"escaped":{const i=await Wu(e,{...s,altBoundary:!0}),o=nC(i,n.floating);return{data:{escapedOffsets:o,escaped:rC(o)}}}default:return{}}}}};async function B8(t,e){const{placement:n,platform:r,elements:s}=t,i=await(r.isRTL==null?void 0:r.isRTL(s.floating)),o=Ks(n),a=lc(n),c=ao(n)==="y",u=["left","top"].includes(o)?-1:1,h=i&&c?-1:1,f=Ys(e,t);let{mainAxis:p,crossAxis:v,alignmentAxis:x}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return a&&typeof x=="number"&&(v=a==="end"?x*-1:x),c?{x:v*h,y:p*u}:{x:p*u,y:v*h}}const U8=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:s,y:i,placement:o,middlewareData:a}=e,c=await B8(e,t);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:s+c.x,y:i+c.y,data:{...c,placement:o}}}}},q8=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:s}=e,{mainAxis:i=!0,crossAxis:o=!1,limiter:a={fn:w=>{let{x:T,y:E}=w;return{x:T,y:E}}},...c}=Ys(t,e),u={x:n,y:r},h=await Wu(e,c),f=ao(Ks(s)),p=vw(f);let v=u[p],x=u[f];if(i){const w=p==="y"?"top":"left",T=p==="y"?"bottom":"right",E=v+h[w],b=v-h[T];v=Dy(E,v,b)}if(o){const w=f==="y"?"top":"left",T=f==="y"?"bottom":"right",E=x+h[w],b=x-h[T];x=Dy(E,x,b)}const g=a.fn({...e,[p]:v,[f]:x});return{...g,data:{x:g.x-n,y:g.y-r,enabled:{[p]:i,[f]:o}}}}}},G8=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:s,rects:i,middlewareData:o}=e,{offset:a=0,mainAxis:c=!0,crossAxis:u=!0}=Ys(t,e),h={x:n,y:r},f=ao(s),p=vw(f);let v=h[p],x=h[f];const g=Ys(a,e),w=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(c){const b=p==="y"?"height":"width",R=i.reference[p]-i.floating[b]+w.mainAxis,D=i.reference[p]+i.reference[b]-w.mainAxis;v<R?v=R:v>D&&(v=D)}if(u){var T,E;const b=p==="y"?"width":"height",R=["top","left"].includes(Ks(s)),D=i.reference[f]-i.floating[b]+(R&&((T=o.offset)==null?void 0:T[f])||0)+(R?0:w.crossAxis),F=i.reference[f]+i.reference[b]+(R?0:((E=o.offset)==null?void 0:E[f])||0)-(R?w.crossAxis:0);x<D?x=D:x>F&&(x=F)}return{[p]:v,[f]:x}}}},$8=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:s,rects:i,platform:o,elements:a}=e,{apply:c=()=>{},...u}=Ys(t,e),h=await Wu(e,u),f=Ks(s),p=lc(s),v=ao(s)==="y",{width:x,height:g}=i.floating;let w,T;f==="top"||f==="bottom"?(w=f,T=p===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(T=f,w=p==="end"?"top":"bottom");const E=g-h.top-h.bottom,b=x-h.left-h.right,R=io(g-h[w],E),D=io(x-h[T],b),F=!e.middlewareData.shift;let I=R,S=D;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(S=b),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(I=E),F&&!p){const k=Zn(h.left,0),O=Zn(h.right,0),L=Zn(h.top,0),j=Zn(h.bottom,0);v?S=x-2*(k!==0||O!==0?k+O:Zn(h.left,h.right)):I=g-2*(L!==0||j!==0?L+j:Zn(h.top,h.bottom))}await c({...e,availableWidth:S,availableHeight:I});const P=await o.getDimensions(a.floating);return x!==P.width||g!==P.height?{reset:{rects:!0}}:{}}}};function _m(){return typeof window<"u"}function cc(t){return UR(t)?(t.nodeName||"").toLowerCase():"#document"}function or(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function ms(t){var e;return(e=(UR(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function UR(t){return _m()?t instanceof Node||t instanceof or(t).Node:!1}function Wr(t){return _m()?t instanceof Element||t instanceof or(t).Element:!1}function ps(t){return _m()?t instanceof HTMLElement||t instanceof or(t).HTMLElement:!1}function sC(t){return!_m()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof or(t).ShadowRoot}function Sd(t){const{overflow:e,overflowX:n,overflowY:r,display:s}=Qr(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(s)}function z8(t){return["table","td","th"].includes(cc(t))}function Tm(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function Ew(t){const e=bw(),n=Wr(t)?Qr(t):t;return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function W8(t){let e=lo(t);for(;ps(e)&&!Wl(e);){if(Ew(e))return e;if(Tm(e))return null;e=lo(e)}return null}function bw(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Wl(t){return["html","body","#document"].includes(cc(t))}function Qr(t){return or(t).getComputedStyle(t)}function Am(t){return Wr(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function lo(t){if(cc(t)==="html")return t;const e=t.assignedSlot||t.parentNode||sC(t)&&t.host||ms(t);return sC(e)?e.host:e}function qR(t){const e=lo(t);return Wl(e)?t.ownerDocument?t.ownerDocument.body:t.body:ps(e)&&Sd(e)?e:qR(e)}function Qu(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const s=qR(t),i=s===((r=t.ownerDocument)==null?void 0:r.body),o=or(s);if(i){const a=Ly(o);return e.concat(o,o.visualViewport||[],Sd(s)?s:[],a&&n?Qu(a):[])}return e.concat(s,Qu(s,[],n))}function Ly(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function GR(t){const e=Qr(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=ps(t),i=s?t.offsetWidth:n,o=s?t.offsetHeight:r,a=bp(n)!==i||bp(r)!==o;return a&&(n=i,r=o),{width:n,height:r,$:a}}function Cw(t){return Wr(t)?t:t.contextElement}function vl(t){const e=Cw(t);if(!ps(e))return oo(1);const n=e.getBoundingClientRect(),{width:r,height:s,$:i}=GR(e);let o=(i?bp(n.width):n.width)/r,a=(i?bp(n.height):n.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const Q8=oo(0);function $R(t){const e=or(t);return!bw()||!e.visualViewport?Q8:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function Y8(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==or(t)?!1:e}function ca(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const s=t.getBoundingClientRect(),i=Cw(t);let o=oo(1);e&&(r?Wr(r)&&(o=vl(r)):o=vl(t));const a=Y8(i,n,r)?$R(i):oo(0);let c=(s.left+a.x)/o.x,u=(s.top+a.y)/o.y,h=s.width/o.x,f=s.height/o.y;if(i){const p=or(i),v=r&&Wr(r)?or(r):r;let x=p,g=Ly(x);for(;g&&r&&v!==x;){const w=vl(g),T=g.getBoundingClientRect(),E=Qr(g),b=T.left+(g.clientLeft+parseFloat(E.paddingLeft))*w.x,R=T.top+(g.clientTop+parseFloat(E.paddingTop))*w.y;c*=w.x,u*=w.y,h*=w.x,f*=w.y,c+=b,u+=R,x=or(g),g=Ly(x)}}return _p({width:h,height:f,x:c,y:u})}function K8(t){let{elements:e,rect:n,offsetParent:r,strategy:s}=t;const i=s==="fixed",o=ms(r),a=e?Tm(e.floating):!1;if(r===o||a&&i)return n;let c={scrollLeft:0,scrollTop:0},u=oo(1);const h=oo(0),f=ps(r);if((f||!f&&!i)&&((cc(r)!=="body"||Sd(o))&&(c=Am(r)),ps(r))){const p=ca(r);u=vl(r),h.x=p.x+r.clientLeft,h.y=p.y+r.clientTop}return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-c.scrollLeft*u.x+h.x,y:n.y*u.y-c.scrollTop*u.y+h.y}}function H8(t){return Array.from(t.getClientRects())}function Vy(t,e){const n=Am(t).scrollLeft;return e?e.left+n:ca(ms(t)).left+n}function J8(t){const e=ms(t),n=Am(t),r=t.ownerDocument.body,s=Zn(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),i=Zn(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+Vy(t);const a=-n.scrollTop;return Qr(r).direction==="rtl"&&(o+=Zn(e.clientWidth,r.clientWidth)-s),{width:s,height:i,x:o,y:a}}function X8(t,e){const n=or(t),r=ms(t),s=n.visualViewport;let i=r.clientWidth,o=r.clientHeight,a=0,c=0;if(s){i=s.width,o=s.height;const u=bw();(!u||u&&e==="fixed")&&(a=s.offsetLeft,c=s.offsetTop)}return{width:i,height:o,x:a,y:c}}function Z8(t,e){const n=ca(t,!0,e==="fixed"),r=n.top+t.clientTop,s=n.left+t.clientLeft,i=ps(t)?vl(t):oo(1),o=t.clientWidth*i.x,a=t.clientHeight*i.y,c=s*i.x,u=r*i.y;return{width:o,height:a,x:c,y:u}}function iC(t,e,n){let r;if(e==="viewport")r=X8(t,n);else if(e==="document")r=J8(ms(t));else if(Wr(e))r=Z8(e,n);else{const s=$R(t);r={...e,x:e.x-s.x,y:e.y-s.y}}return _p(r)}function zR(t,e){const n=lo(t);return n===e||!Wr(n)||Wl(n)?!1:Qr(n).position==="fixed"||zR(n,e)}function eU(t,e){const n=e.get(t);if(n)return n;let r=Qu(t,[],!1).filter(a=>Wr(a)&&cc(a)!=="body"),s=null;const i=Qr(t).position==="fixed";let o=i?lo(t):t;for(;Wr(o)&&!Wl(o);){const a=Qr(o),c=Ew(o);!c&&a.position==="fixed"&&(s=null),(i?!c&&!s:!c&&a.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||Sd(o)&&!c&&zR(t,o))?r=r.filter(h=>h!==o):s=a,o=lo(o)}return e.set(t,r),r}function tU(t){let{element:e,boundary:n,rootBoundary:r,strategy:s}=t;const o=[...n==="clippingAncestors"?Tm(e)?[]:eU(e,this._c):[].concat(n),r],a=o[0],c=o.reduce((u,h)=>{const f=iC(e,h,s);return u.top=Zn(f.top,u.top),u.right=io(f.right,u.right),u.bottom=io(f.bottom,u.bottom),u.left=Zn(f.left,u.left),u},iC(e,a,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function nU(t){const{width:e,height:n}=GR(t);return{width:e,height:n}}function rU(t,e,n){const r=ps(e),s=ms(e),i=n==="fixed",o=ca(t,!0,i,e);let a={scrollLeft:0,scrollTop:0};const c=oo(0);if(r||!r&&!i)if((cc(e)!=="body"||Sd(s))&&(a=Am(e)),r){const v=ca(e,!0,i,e);c.x=v.x+e.clientLeft,c.y=v.y+e.clientTop}else s&&(c.x=Vy(s));let u=0,h=0;if(s&&!r&&!i){const v=s.getBoundingClientRect();h=v.top+a.scrollTop,u=v.left+a.scrollLeft-Vy(s,v)}const f=o.left+a.scrollLeft-c.x-u,p=o.top+a.scrollTop-c.y-h;return{x:f,y:p,width:o.width,height:o.height}}function Qg(t){return Qr(t).position==="static"}function oC(t,e){if(!ps(t)||Qr(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return ms(t)===n&&(n=n.ownerDocument.body),n}function WR(t,e){const n=or(t);if(Tm(t))return n;if(!ps(t)){let s=lo(t);for(;s&&!Wl(s);){if(Wr(s)&&!Qg(s))return s;s=lo(s)}return n}let r=oC(t,e);for(;r&&z8(r)&&Qg(r);)r=oC(r,e);return r&&Wl(r)&&Qg(r)&&!Ew(r)?n:r||W8(t)||n}const sU=async function(t){const e=this.getOffsetParent||WR,n=this.getDimensions,r=await n(t.floating);return{reference:rU(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function iU(t){return Qr(t).direction==="rtl"}const oU={convertOffsetParentRelativeRectToViewportRelativeRect:K8,getDocumentElement:ms,getClippingRect:tU,getOffsetParent:WR,getElementRects:sU,getClientRects:H8,getDimensions:nU,getScale:vl,isElement:Wr,isRTL:iU};function aU(t,e){let n=null,r;const s=ms(t);function i(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,c){a===void 0&&(a=!1),c===void 0&&(c=1),i();const{left:u,top:h,width:f,height:p}=t.getBoundingClientRect();if(a||e(),!f||!p)return;const v=qh(h),x=qh(s.clientWidth-(u+f)),g=qh(s.clientHeight-(h+p)),w=qh(u),E={rootMargin:-v+"px "+-x+"px "+-g+"px "+-w+"px",threshold:Zn(0,io(1,c))||1};let b=!0;function R(D){const F=D[0].intersectionRatio;if(F!==c){if(!b)return o();F?o(!1,F):r=setTimeout(()=>{o(!1,1e-7)},1e3)}b=!1}try{n=new IntersectionObserver(R,{...E,root:s.ownerDocument})}catch{n=new IntersectionObserver(R,E)}n.observe(t)}return o(!0),i}function lU(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,u=Cw(t),h=s||i?[...u?Qu(u):[],...Qu(e)]:[];h.forEach(T=>{s&&T.addEventListener("scroll",n,{passive:!0}),i&&T.addEventListener("resize",n)});const f=u&&a?aU(u,n):null;let p=-1,v=null;o&&(v=new ResizeObserver(T=>{let[E]=T;E&&E.target===u&&v&&(v.unobserve(e),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var b;(b=v)==null||b.observe(e)})),n()}),u&&!c&&v.observe(u),v.observe(e));let x,g=c?ca(t):null;c&&w();function w(){const T=ca(t);g&&(T.x!==g.x||T.y!==g.y||T.width!==g.width||T.height!==g.height)&&n(),g=T,x=requestAnimationFrame(w)}return n(),()=>{var T;h.forEach(E=>{s&&E.removeEventListener("scroll",n),i&&E.removeEventListener("resize",n)}),f==null||f(),(T=v)==null||T.disconnect(),v=null,c&&cancelAnimationFrame(x)}}const cU=U8,uU=q8,dU=V8,hU=$8,fU=F8,aC=L8,pU=G8,mU=(t,e,n)=>{const r=new Map,s={platform:oU,...n},i={...s.platform,_c:r};return O8(t,e,{...s,platform:i})};var Ef=typeof document<"u"?y.useLayoutEffect:y.useEffect;function Tp(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!Tp(t[r],e[r]))return!1;return!0}if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=n;r--!==0;){const i=s[r];if(!(i==="_owner"&&t.$$typeof)&&!Tp(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function QR(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function lC(t,e){const n=QR(t);return Math.round(e*n)/n}function Yg(t){const e=y.useRef(t);return Ef(()=>{e.current=t}),e}function gU(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:i,floating:o}={},transform:a=!0,whileElementsMounted:c,open:u}=t,[h,f]=y.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[p,v]=y.useState(r);Tp(p,r)||v(r);const[x,g]=y.useState(null),[w,T]=y.useState(null),E=y.useCallback(q=>{q!==F.current&&(F.current=q,g(q))},[]),b=y.useCallback(q=>{q!==I.current&&(I.current=q,T(q))},[]),R=i||x,D=o||w,F=y.useRef(null),I=y.useRef(null),S=y.useRef(h),P=c!=null,k=Yg(c),O=Yg(s),L=Yg(u),j=y.useCallback(()=>{if(!F.current||!I.current)return;const q={placement:e,strategy:n,middleware:p};O.current&&(q.platform=O.current),mU(F.current,I.current,q).then(z=>{const se={...z,isPositioned:L.current!==!1};W.current&&!Tp(S.current,se)&&(S.current=se,pa.flushSync(()=>{f(se)}))})},[p,e,n,O,L]);Ef(()=>{u===!1&&S.current.isPositioned&&(S.current.isPositioned=!1,f(q=>({...q,isPositioned:!1})))},[u]);const W=y.useRef(!1);Ef(()=>(W.current=!0,()=>{W.current=!1}),[]),Ef(()=>{if(R&&(F.current=R),D&&(I.current=D),R&&D){if(k.current)return k.current(R,D,j);j()}},[R,D,j,k,P]);const H=y.useMemo(()=>({reference:F,floating:I,setReference:E,setFloating:b}),[E,b]),J=y.useMemo(()=>({reference:R,floating:D}),[R,D]),oe=y.useMemo(()=>{const q={position:n,left:0,top:0};if(!J.floating)return q;const z=lC(J.floating,h.x),se=lC(J.floating,h.y);return a?{...q,transform:"translate("+z+"px, "+se+"px)",...QR(J.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:z,top:se}},[n,a,J.floating,h.x,h.y]);return y.useMemo(()=>({...h,update:j,refs:H,elements:J,floatingStyles:oe}),[h,j,H,J,oe])}const yU=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:s}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?aC({element:r.current,padding:s}).fn(n):{}:r?aC({element:r,padding:s}).fn(n):{}}}},vU=(t,e)=>({...cU(t),options:[t,e]}),xU=(t,e)=>({...uU(t),options:[t,e]}),wU=(t,e)=>({...pU(t),options:[t,e]}),EU=(t,e)=>({...dU(t),options:[t,e]}),bU=(t,e)=>({...hU(t),options:[t,e]}),CU=(t,e)=>({...fU(t),options:[t,e]}),_U=(t,e)=>({...yU(t),options:[t,e]});var TU="Arrow",YR=y.forwardRef((t,e)=>{const{children:n,width:r=10,height:s=5,...i}=t;return l.jsx(Be.svg,{...i,ref:e,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:l.jsx("polygon",{points:"0,0 30,0 15,10"})})});YR.displayName=TU;var AU=YR;function SU(t,e=[]){let n=[];function r(i,o){const a=y.createContext(o),c=n.length;n=[...n,o];function u(f){const{scope:p,children:v,...x}=f,g=(p==null?void 0:p[t][c])||a,w=y.useMemo(()=>x,Object.values(x));return l.jsx(g.Provider,{value:w,children:v})}function h(f,p){const v=(p==null?void 0:p[t][c])||a,x=y.useContext(v);if(x)return x;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return u.displayName=i+"Provider",[u,h]}const s=()=>{const i=n.map(o=>y.createContext(o));return function(a){const c=(a==null?void 0:a[t])||i;return y.useMemo(()=>({[`__scope${t}`]:{...a,[t]:c}}),[a,c])}};return s.scopeName=t,[r,IU(s,...e)]}function IU(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:c,scopeName:u})=>{const f=c(i)[`__scope${u}`];return{...a,...f}},{});return y.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function RU(t){const[e,n]=y.useState(void 0);return Cn(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,a;if("borderBoxSize"in i){const c=i.borderBoxSize,u=Array.isArray(c)?c[0]:c;o=u.inlineSize,a=u.blockSize}else o=t.offsetWidth,a=t.offsetHeight;n({width:o,height:a})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var _w="Popper",[KR,uc]=SU(_w),[NU,HR]=KR(_w),JR=t=>{const{__scopePopper:e,children:n}=t,[r,s]=y.useState(null);return l.jsx(NU,{scope:e,anchor:r,onAnchorChange:s,children:n})};JR.displayName=_w;var XR="PopperAnchor",ZR=y.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...s}=t,i=HR(XR,n),o=y.useRef(null),a=it(e,o);return y.useEffect(()=>{i.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:l.jsx(Be.div,{...s,ref:a})});ZR.displayName=XR;var Tw="PopperContent",[PU,kU]=KR(Tw),eN=y.forwardRef((t,e)=>{var ie,ge,xe,Ee,Te,Ce;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:i="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:h=0,sticky:f="partial",hideWhenDetached:p=!1,updatePositionStrategy:v="optimized",onPlaced:x,...g}=t,w=HR(Tw,n),[T,E]=y.useState(null),b=it(e,he=>E(he)),[R,D]=y.useState(null),F=RU(R),I=(F==null?void 0:F.width)??0,S=(F==null?void 0:F.height)??0,P=r+(i!=="center"?"-"+i:""),k=typeof h=="number"?h:{top:0,right:0,bottom:0,left:0,...h},O=Array.isArray(u)?u:[u],L=O.length>0,j={padding:k,boundary:O.filter(jU),altBoundary:L},{refs:W,floatingStyles:H,placement:J,isPositioned:oe,middlewareData:q}=gU({strategy:"fixed",placement:P,whileElementsMounted:(...he)=>lU(...he,{animationFrame:v==="always"}),elements:{reference:w.anchor},middleware:[vU({mainAxis:s+S,alignmentAxis:o}),c&&xU({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?wU():void 0,...j}),c&&EU({...j}),bU({...j,apply:({elements:he,rects:ve,availableWidth:gt,availableHeight:at})=>{const{width:Dt,height:Ze}=ve.reference,yt=he.floating.style;yt.setProperty("--radix-popper-available-width",`${gt}px`),yt.setProperty("--radix-popper-available-height",`${at}px`),yt.setProperty("--radix-popper-anchor-width",`${Dt}px`),yt.setProperty("--radix-popper-anchor-height",`${Ze}px`)}}),R&&_U({element:R,padding:a}),DU({arrowWidth:I,arrowHeight:S}),p&&CU({strategy:"referenceHidden",...j})]}),[z,se]=rN(J),ne=bn(x);Cn(()=>{oe&&(ne==null||ne())},[oe,ne]);const le=(ie=q.arrow)==null?void 0:ie.x,ue=(ge=q.arrow)==null?void 0:ge.y,Se=((xe=q.arrow)==null?void 0:xe.centerOffset)!==0,[ke,we]=y.useState();return Cn(()=>{T&&we(window.getComputedStyle(T).zIndex)},[T]),l.jsx("div",{ref:W.setFloating,"data-radix-popper-content-wrapper":"",style:{...H,transform:oe?H.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ke,"--radix-popper-transform-origin":[(Ee=q.transformOrigin)==null?void 0:Ee.x,(Te=q.transformOrigin)==null?void 0:Te.y].join(" "),...((Ce=q.hide)==null?void 0:Ce.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:l.jsx(PU,{scope:n,placedSide:z,onArrowChange:D,arrowX:le,arrowY:ue,shouldHideArrow:Se,children:l.jsx(Be.div,{"data-side":z,"data-align":se,...g,ref:b,style:{...g.style,animation:oe?void 0:"none"}})})})});eN.displayName=Tw;var tN="PopperArrow",MU={top:"bottom",right:"left",bottom:"top",left:"right"},nN=y.forwardRef(function(e,n){const{__scopePopper:r,...s}=e,i=kU(tN,r),o=MU[i.placedSide];return l.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:l.jsx(AU,{...s,ref:n,style:{...s.style,display:"block"}})})});nN.displayName=tN;function jU(t){return t!==null}var DU=t=>({name:"transformOrigin",options:t,fn(e){var w,T,E;const{placement:n,rects:r,middlewareData:s}=e,o=((w=s.arrow)==null?void 0:w.centerOffset)!==0,a=o?0:t.arrowWidth,c=o?0:t.arrowHeight,[u,h]=rN(n),f={start:"0%",center:"50%",end:"100%"}[h],p=(((T=s.arrow)==null?void 0:T.x)??0)+a/2,v=(((E=s.arrow)==null?void 0:E.y)??0)+c/2;let x="",g="";return u==="bottom"?(x=o?f:`${p}px`,g=`${-c}px`):u==="top"?(x=o?f:`${p}px`,g=`${r.floating.height+c}px`):u==="right"?(x=`${-c}px`,g=o?f:`${v}px`):u==="left"&&(x=`${r.floating.width+c}px`,g=o?f:`${v}px`),{data:{x,y:g}}}});function rN(t){const[e,n="center"]=t.split("-");return[e,n]}var sN=JR,Aw=ZR,Sw=eN,Iw=nN,[Sm,mQ]=ld("Tooltip",[uc]),Rw=uc(),iN="TooltipProvider",OU=700,cC="tooltip.open",[LU,oN]=Sm(iN),aN=t=>{const{__scopeTooltip:e,delayDuration:n=OU,skipDelayDuration:r=300,disableHoverableContent:s=!1,children:i}=t,[o,a]=y.useState(!0),c=y.useRef(!1),u=y.useRef(0);return y.useEffect(()=>{const h=u.current;return()=>window.clearTimeout(h)},[]),l.jsx(LU,{scope:e,isOpenDelayed:o,delayDuration:n,onOpen:y.useCallback(()=>{window.clearTimeout(u.current),a(!1)},[]),onClose:y.useCallback(()=>{window.clearTimeout(u.current),u.current=window.setTimeout(()=>a(!0),r)},[r]),isPointerInTransitRef:c,onPointerInTransitChange:y.useCallback(h=>{c.current=h},[]),disableHoverableContent:s,children:i})};aN.displayName=iN;var lN="Tooltip",[gQ,Im]=Sm(lN),Fy="TooltipTrigger",VU=y.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=Im(Fy,n),i=oN(Fy,n),o=Rw(n),a=y.useRef(null),c=it(e,a,s.onTriggerChange),u=y.useRef(!1),h=y.useRef(!1),f=y.useCallback(()=>u.current=!1,[]);return y.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),l.jsx(Aw,{asChild:!0,...o,children:l.jsx(Be.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...r,ref:c,onPointerMove:pe(t.onPointerMove,p=>{p.pointerType!=="touch"&&!h.current&&!i.isPointerInTransitRef.current&&(s.onTriggerEnter(),h.current=!0)}),onPointerLeave:pe(t.onPointerLeave,()=>{s.onTriggerLeave(),h.current=!1}),onPointerDown:pe(t.onPointerDown,()=>{u.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:pe(t.onFocus,()=>{u.current||s.onOpen()}),onBlur:pe(t.onBlur,s.onClose),onClick:pe(t.onClick,s.onClose)})})});VU.displayName=Fy;var FU="TooltipPortal",[yQ,BU]=Sm(FU,{forceMount:void 0}),Ql="TooltipContent",cN=y.forwardRef((t,e)=>{const n=BU(Ql,t.__scopeTooltip),{forceMount:r=n.forceMount,side:s="top",...i}=t,o=Im(Ql,t.__scopeTooltip);return l.jsx(ma,{present:r||o.open,children:o.disableHoverableContent?l.jsx(uN,{side:s,...i,ref:e}):l.jsx(UU,{side:s,...i,ref:e})})}),UU=y.forwardRef((t,e)=>{const n=Im(Ql,t.__scopeTooltip),r=oN(Ql,t.__scopeTooltip),s=y.useRef(null),i=it(e,s),[o,a]=y.useState(null),{trigger:c,onClose:u}=n,h=s.current,{onPointerInTransitChange:f}=r,p=y.useCallback(()=>{a(null),f(!1)},[f]),v=y.useCallback((x,g)=>{const w=x.currentTarget,T={x:x.clientX,y:x.clientY},E=zU(T,w.getBoundingClientRect()),b=WU(T,E),R=QU(g.getBoundingClientRect()),D=KU([...b,...R]);a(D),f(!0)},[f]);return y.useEffect(()=>()=>p(),[p]),y.useEffect(()=>{if(c&&h){const x=w=>v(w,h),g=w=>v(w,c);return c.addEventListener("pointerleave",x),h.addEventListener("pointerleave",g),()=>{c.removeEventListener("pointerleave",x),h.removeEventListener("pointerleave",g)}}},[c,h,v,p]),y.useEffect(()=>{if(o){const x=g=>{const w=g.target,T={x:g.clientX,y:g.clientY},E=(c==null?void 0:c.contains(w))||(h==null?void 0:h.contains(w)),b=!YU(T,o);E?p():b&&(p(),u())};return document.addEventListener("pointermove",x),()=>document.removeEventListener("pointermove",x)}},[c,h,o,u,p]),l.jsx(uN,{...t,ref:i})}),[qU,GU]=Sm(lN,{isInside:!1}),uN=y.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":s,onEscapeKeyDown:i,onPointerDownOutside:o,...a}=t,c=Im(Ql,n),u=Rw(n),{onClose:h}=c;return y.useEffect(()=>(document.addEventListener(cC,h),()=>document.removeEventListener(cC,h)),[h]),y.useEffect(()=>{if(c.trigger){const f=p=>{const v=p.target;v!=null&&v.contains(c.trigger)&&h()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[c.trigger,h]),l.jsx(cd,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:f=>f.preventDefault(),onDismiss:h,children:l.jsxs(Sw,{"data-state":c.stateAttribute,...u,...a,ref:e,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[l.jsx(CA,{children:r}),l.jsx(qU,{scope:n,isInside:!0,children:l.jsx(_D,{id:c.contentId,role:"tooltip",children:s||r})})]})})});cN.displayName=Ql;var dN="TooltipArrow",$U=y.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=Rw(n);return GU(dN,n).isInside?null:l.jsx(Iw,{...s,...r,ref:e})});$U.displayName=dN;function zU(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),s=Math.abs(e.right-t.x),i=Math.abs(e.left-t.x);switch(Math.min(n,r,s,i)){case i:return"left";case s:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function WU(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function QU(t){const{top:e,right:n,bottom:r,left:s}=t;return[{x:s,y:e},{x:n,y:e},{x:n,y:r},{x:s,y:r}]}function YU(t,e){const{x:n,y:r}=t;let s=!1;for(let i=0,o=e.length-1;i<e.length;o=i++){const a=e[i].x,c=e[i].y,u=e[o].x,h=e[o].y;c>r!=h>r&&n<(u-a)*(r-c)/(h-c)+a&&(s=!s)}return s}function KU(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),HU(e)}function HU(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const s=t[r];for(;e.length>=2;){const i=e[e.length-1],o=e[e.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))e.pop();else break}e.push(s)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const s=t[r];for(;n.length>=2;){const i=n[n.length-1],o=n[n.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))n.pop();else break}n.push(s)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var JU=aN,hN=cN;const XU=JU,ZU=y.forwardRef(({className:t,sideOffset:e=4,...n},r)=>l.jsx(hN,{ref:r,sideOffset:e,className:nt("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n}));ZU.displayName=hN.displayName;var Rm=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Nm=typeof window>"u"||"Deno"in globalThis;function Dr(){}function e9(t,e){return typeof t=="function"?t(e):t}function t9(t){return typeof t=="number"&&t>=0&&t!==1/0}function n9(t,e){return Math.max(t+(e||0)-Date.now(),0)}function uC(t,e){return typeof t=="function"?t(e):t}function r9(t,e){return typeof t=="function"?t(e):t}function dC(t,e){const{type:n="all",exact:r,fetchStatus:s,predicate:i,queryKey:o,stale:a}=t;if(o){if(r){if(e.queryHash!==Nw(o,e.options))return!1}else if(!Ku(e.queryKey,o))return!1}if(n!=="all"){const c=e.isActive();if(n==="active"&&!c||n==="inactive"&&c)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||s&&s!==e.state.fetchStatus||i&&!i(e))}function hC(t,e){const{exact:n,status:r,predicate:s,mutationKey:i}=t;if(i){if(!e.options.mutationKey)return!1;if(n){if(Yu(e.options.mutationKey)!==Yu(i))return!1}else if(!Ku(e.options.mutationKey,i))return!1}return!(r&&e.state.status!==r||s&&!s(e))}function Nw(t,e){return((e==null?void 0:e.queryKeyHashFn)||Yu)(t)}function Yu(t){return JSON.stringify(t,(e,n)=>By(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function Ku(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(n=>!Ku(t[n],e[n])):!1}function fN(t,e){if(t===e)return t;const n=fC(t)&&fC(e);if(n||By(t)&&By(e)){const r=n?t:Object.keys(t),s=r.length,i=n?e:Object.keys(e),o=i.length,a=n?[]:{};let c=0;for(let u=0;u<o;u++){const h=n?u:i[u];(!n&&r.includes(h)||n)&&t[h]===void 0&&e[h]===void 0?(a[h]=void 0,c++):(a[h]=fN(t[h],e[h]),a[h]===t[h]&&t[h]!==void 0&&c++)}return s===o&&c===s?t:a}return e}function fC(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function By(t){if(!pC(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!pC(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function pC(t){return Object.prototype.toString.call(t)==="[object Object]"}function s9(t){return new Promise(e=>{setTimeout(e,t)})}function i9(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?fN(t,e):e}function o9(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function a9(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var Pw=Symbol();function pN(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===Pw?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var Bo,Ai,El,ZC,l9=(ZC=class extends Rm{constructor(){super();et(this,Bo);et(this,Ai);et(this,El);je(this,El,e=>{if(!Nm&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){te(this,Ai)||this.setEventListener(te(this,El))}onUnsubscribe(){var e;this.hasListeners()||((e=te(this,Ai))==null||e.call(this),je(this,Ai,void 0))}setEventListener(e){var n;je(this,El,e),(n=te(this,Ai))==null||n.call(this),je(this,Ai,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){te(this,Bo)!==e&&(je(this,Bo,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof te(this,Bo)=="boolean"?te(this,Bo):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Bo=new WeakMap,Ai=new WeakMap,El=new WeakMap,ZC),mN=new l9,bl,Si,Cl,e_,c9=(e_=class extends Rm{constructor(){super();et(this,bl,!0);et(this,Si);et(this,Cl);je(this,Cl,e=>{if(!Nm&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){te(this,Si)||this.setEventListener(te(this,Cl))}onUnsubscribe(){var e;this.hasListeners()||((e=te(this,Si))==null||e.call(this),je(this,Si,void 0))}setEventListener(e){var n;je(this,Cl,e),(n=te(this,Si))==null||n.call(this),je(this,Si,e(this.setOnline.bind(this)))}setOnline(e){te(this,bl)!==e&&(je(this,bl,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return te(this,bl)}},bl=new WeakMap,Si=new WeakMap,Cl=new WeakMap,e_),Ap=new c9;function u9(){let t,e;const n=new Promise((s,i)=>{t=s,e=i});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),t(s)},n.reject=s=>{r({status:"rejected",reason:s}),e(s)},n}function d9(t){return Math.min(1e3*2**t,3e4)}function gN(t){return(t??"online")==="online"?Ap.isOnline():!0}var yN=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function Kg(t){return t instanceof yN}function vN(t){let e=!1,n=0,r=!1,s;const i=u9(),o=g=>{var w;r||(p(new yN(g)),(w=t.abort)==null||w.call(t))},a=()=>{e=!0},c=()=>{e=!1},u=()=>mN.isFocused()&&(t.networkMode==="always"||Ap.isOnline())&&t.canRun(),h=()=>gN(t.networkMode)&&t.canRun(),f=g=>{var w;r||(r=!0,(w=t.onSuccess)==null||w.call(t,g),s==null||s(),i.resolve(g))},p=g=>{var w;r||(r=!0,(w=t.onError)==null||w.call(t,g),s==null||s(),i.reject(g))},v=()=>new Promise(g=>{var w;s=T=>{(r||u())&&g(T)},(w=t.onPause)==null||w.call(t)}).then(()=>{var g;s=void 0,r||(g=t.onContinue)==null||g.call(t)}),x=()=>{if(r)return;let g;const w=n===0?t.initialPromise:void 0;try{g=w??t.fn()}catch(T){g=Promise.reject(T)}Promise.resolve(g).then(f).catch(T=>{var F;if(r)return;const E=t.retry??(Nm?0:3),b=t.retryDelay??d9,R=typeof b=="function"?b(n,T):b,D=E===!0||typeof E=="number"&&n<E||typeof E=="function"&&E(n,T);if(e||!D){p(T);return}n++,(F=t.onFail)==null||F.call(t,n,T),s9(R).then(()=>u()?void 0:v()).then(()=>{e?p(T):x()})})};return{promise:i,cancel:o,continue:()=>(s==null||s(),i),cancelRetry:a,continueRetry:c,canStart:h,start:()=>(h()?x():v().then(x),i)}}function h9(){let t=[],e=0,n=a=>{a()},r=a=>{a()},s=a=>setTimeout(a,0);const i=a=>{e?t.push(a):s(()=>{n(a)})},o=()=>{const a=t;t=[],a.length&&s(()=>{r(()=>{a.forEach(c=>{n(c)})})})};return{batch:a=>{let c;e++;try{c=a()}finally{e--,e||o()}return c},batchCalls:a=>(...c)=>{i(()=>{a(...c)})},schedule:i,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{s=a}}}var kn=h9(),Uo,t_,xN=(t_=class{constructor(){et(this,Uo)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),t9(this.gcTime)&&je(this,Uo,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Nm?1/0:5*60*1e3))}clearGcTimeout(){te(this,Uo)&&(clearTimeout(te(this,Uo)),je(this,Uo,void 0))}},Uo=new WeakMap,t_),_l,Tl,pr,gn,ed,qo,Or,Ns,n_,f9=(n_=class extends xN{constructor(e){super();et(this,Or);et(this,_l);et(this,Tl);et(this,pr);et(this,gn);et(this,ed);et(this,qo);je(this,qo,!1),je(this,ed,e.defaultOptions),this.setOptions(e.options),this.observers=[],je(this,pr,e.cache),this.queryKey=e.queryKey,this.queryHash=e.queryHash,je(this,_l,m9(this.options)),this.state=e.state??te(this,_l),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=te(this,gn))==null?void 0:e.promise}setOptions(e){this.options={...te(this,ed),...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&te(this,pr).remove(this)}setData(e,n){const r=i9(this.state.data,e,this.options);return hn(this,Or,Ns).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(e,n){hn(this,Or,Ns).call(this,{type:"setState",state:e,setStateOptions:n})}cancel(e){var r,s;const n=(r=te(this,gn))==null?void 0:r.promise;return(s=te(this,gn))==null||s.cancel(e),n?n.then(Dr).catch(Dr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(te(this,_l))}isActive(){return this.observers.some(e=>r9(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Pw||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(e=0){return this.state.isInvalidated||this.state.data===void 0||!n9(this.state.dataUpdatedAt,e)}onFocus(){var n;const e=this.observers.find(r=>r.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(n=te(this,gn))==null||n.continue()}onOnline(){var n;const e=this.observers.find(r=>r.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(n=te(this,gn))==null||n.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),te(this,pr).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(n=>n!==e),this.observers.length||(te(this,gn)&&(te(this,qo)?te(this,gn).cancel({revert:!0}):te(this,gn).cancelRetry()),this.scheduleGc()),te(this,pr).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||hn(this,Or,Ns).call(this,{type:"invalidate"})}fetch(e,n){var c,u,h;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(te(this,gn))return te(this,gn).continueRetry(),te(this,gn).promise}if(e&&this.setOptions(e),!this.options.queryFn){const f=this.observers.find(p=>p.options.queryFn);f&&this.setOptions(f.options)}const r=new AbortController,s=f=>{Object.defineProperty(f,"signal",{enumerable:!0,get:()=>(je(this,qo,!0),r.signal)})},i=()=>{const f=pN(this.options,n),p={queryKey:this.queryKey,meta:this.meta};return s(p),je(this,qo,!1),this.options.persister?this.options.persister(f,p,this):f(p)},o={fetchOptions:n,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:i};s(o),(c=this.options.behavior)==null||c.onFetch(o,this),je(this,Tl,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((u=o.fetchOptions)==null?void 0:u.meta))&&hn(this,Or,Ns).call(this,{type:"fetch",meta:(h=o.fetchOptions)==null?void 0:h.meta});const a=f=>{var p,v,x,g;Kg(f)&&f.silent||hn(this,Or,Ns).call(this,{type:"error",error:f}),Kg(f)||((v=(p=te(this,pr).config).onError)==null||v.call(p,f,this),(g=(x=te(this,pr).config).onSettled)==null||g.call(x,this.state.data,f,this)),this.scheduleGc()};return je(this,gn,vN({initialPromise:n==null?void 0:n.initialPromise,fn:o.fetchFn,abort:r.abort.bind(r),onSuccess:f=>{var p,v,x,g;if(f===void 0){a(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(f)}catch(w){a(w);return}(v=(p=te(this,pr).config).onSuccess)==null||v.call(p,f,this),(g=(x=te(this,pr).config).onSettled)==null||g.call(x,f,this.state.error,this),this.scheduleGc()},onError:a,onFail:(f,p)=>{hn(this,Or,Ns).call(this,{type:"failed",failureCount:f,error:p})},onPause:()=>{hn(this,Or,Ns).call(this,{type:"pause"})},onContinue:()=>{hn(this,Or,Ns).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0})),te(this,gn).start()}},_l=new WeakMap,Tl=new WeakMap,pr=new WeakMap,gn=new WeakMap,ed=new WeakMap,qo=new WeakMap,Or=new WeakSet,Ns=function(e){const n=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...p9(r.data,this.options),fetchMeta:e.meta??null};case"success":return{...r,data:e.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=e.error;return Kg(s)&&s.revert&&te(this,Tl)?{...te(this,Tl),fetchStatus:"idle"}:{...r,error:s,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=n(this.state),kn.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),te(this,pr).notify({query:this,type:"updated",action:e})})},n_);function p9(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:gN(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function m9(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var es,r_,g9=(r_=class extends Rm{constructor(e={}){super();et(this,es);this.config=e,je(this,es,new Map)}build(e,n,r){const s=n.queryKey,i=n.queryHash??Nw(s,n);let o=this.get(i);return o||(o=new f9({cache:this,queryKey:s,queryHash:i,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(s)}),this.add(o)),o}add(e){te(this,es).has(e.queryHash)||(te(this,es).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=te(this,es).get(e.queryHash);n&&(e.destroy(),n===e&&te(this,es).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){kn.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return te(this,es).get(e)}getAll(){return[...te(this,es).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>dC(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>dC(e,r)):n}notify(e){kn.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){kn.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){kn.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},es=new WeakMap,r_),ts,Nn,Go,ns,mi,s_,y9=(s_=class extends xN{constructor(e){super();et(this,ns);et(this,ts);et(this,Nn);et(this,Go);this.mutationId=e.mutationId,je(this,Nn,e.mutationCache),je(this,ts,[]),this.state=e.state||v9(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){te(this,ts).includes(e)||(te(this,ts).push(e),this.clearGcTimeout(),te(this,Nn).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){je(this,ts,te(this,ts).filter(n=>n!==e)),this.scheduleGc(),te(this,Nn).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){te(this,ts).length||(this.state.status==="pending"?this.scheduleGc():te(this,Nn).remove(this))}continue(){var e;return((e=te(this,Go))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var s,i,o,a,c,u,h,f,p,v,x,g,w,T,E,b,R,D,F,I;je(this,Go,vN({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(S,P)=>{hn(this,ns,mi).call(this,{type:"failed",failureCount:S,error:P})},onPause:()=>{hn(this,ns,mi).call(this,{type:"pause"})},onContinue:()=>{hn(this,ns,mi).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>te(this,Nn).canRun(this)}));const n=this.state.status==="pending",r=!te(this,Go).canStart();try{if(!n){hn(this,ns,mi).call(this,{type:"pending",variables:e,isPaused:r}),await((i=(s=te(this,Nn).config).onMutate)==null?void 0:i.call(s,e,this));const P=await((a=(o=this.options).onMutate)==null?void 0:a.call(o,e));P!==this.state.context&&hn(this,ns,mi).call(this,{type:"pending",context:P,variables:e,isPaused:r})}const S=await te(this,Go).start();return await((u=(c=te(this,Nn).config).onSuccess)==null?void 0:u.call(c,S,e,this.state.context,this)),await((f=(h=this.options).onSuccess)==null?void 0:f.call(h,S,e,this.state.context)),await((v=(p=te(this,Nn).config).onSettled)==null?void 0:v.call(p,S,null,this.state.variables,this.state.context,this)),await((g=(x=this.options).onSettled)==null?void 0:g.call(x,S,null,e,this.state.context)),hn(this,ns,mi).call(this,{type:"success",data:S}),S}catch(S){try{throw await((T=(w=te(this,Nn).config).onError)==null?void 0:T.call(w,S,e,this.state.context,this)),await((b=(E=this.options).onError)==null?void 0:b.call(E,S,e,this.state.context)),await((D=(R=te(this,Nn).config).onSettled)==null?void 0:D.call(R,void 0,S,this.state.variables,this.state.context,this)),await((I=(F=this.options).onSettled)==null?void 0:I.call(F,void 0,S,e,this.state.context)),S}finally{hn(this,ns,mi).call(this,{type:"error",error:S})}}finally{te(this,Nn).runNext(this)}}},ts=new WeakMap,Nn=new WeakMap,Go=new WeakMap,ns=new WeakSet,mi=function(e){const n=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=n(this.state),kn.batch(()=>{te(this,ts).forEach(r=>{r.onMutationUpdate(e)}),te(this,Nn).notify({mutation:this,type:"updated",action:e})})},s_);function v9(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Hn,td,i_,x9=(i_=class extends Rm{constructor(e={}){super();et(this,Hn);et(this,td);this.config=e,je(this,Hn,new Map),je(this,td,Date.now())}build(e,n,r){const s=new y9({mutationCache:this,mutationId:++mh(this,td)._,options:e.defaultMutationOptions(n),state:r});return this.add(s),s}add(e){const n=Gh(e),r=te(this,Hn).get(n)??[];r.push(e),te(this,Hn).set(n,r),this.notify({type:"added",mutation:e})}remove(e){var r;const n=Gh(e);if(te(this,Hn).has(n)){const s=(r=te(this,Hn).get(n))==null?void 0:r.filter(i=>i!==e);s&&(s.length===0?te(this,Hn).delete(n):te(this,Hn).set(n,s))}this.notify({type:"removed",mutation:e})}canRun(e){var r;const n=(r=te(this,Hn).get(Gh(e)))==null?void 0:r.find(s=>s.state.status==="pending");return!n||n===e}runNext(e){var r;const n=(r=te(this,Hn).get(Gh(e)))==null?void 0:r.find(s=>s!==e&&s.state.isPaused);return(n==null?void 0:n.continue())??Promise.resolve()}clear(){kn.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}getAll(){return[...te(this,Hn).values()].flat()}find(e){const n={exact:!0,...e};return this.getAll().find(r=>hC(n,r))}findAll(e={}){return this.getAll().filter(n=>hC(e,n))}notify(e){kn.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return kn.batch(()=>Promise.all(e.map(n=>n.continue().catch(Dr))))}},Hn=new WeakMap,td=new WeakMap,i_);function Gh(t){var e;return((e=t.options.scope)==null?void 0:e.id)??String(t.mutationId)}function mC(t){return{onFetch:(e,n)=>{var h,f,p,v,x;const r=e.options,s=(p=(f=(h=e.fetchOptions)==null?void 0:h.meta)==null?void 0:f.fetchMore)==null?void 0:p.direction,i=((v=e.state.data)==null?void 0:v.pages)||[],o=((x=e.state.data)==null?void 0:x.pageParams)||[];let a={pages:[],pageParams:[]},c=0;const u=async()=>{let g=!1;const w=b=>{Object.defineProperty(b,"signal",{enumerable:!0,get:()=>(e.signal.aborted?g=!0:e.signal.addEventListener("abort",()=>{g=!0}),e.signal)})},T=pN(e.options,e.fetchOptions),E=async(b,R,D)=>{if(g)return Promise.reject();if(R==null&&b.pages.length)return Promise.resolve(b);const F={queryKey:e.queryKey,pageParam:R,direction:D?"backward":"forward",meta:e.options.meta};w(F);const I=await T(F),{maxPages:S}=e.options,P=D?a9:o9;return{pages:P(b.pages,I,S),pageParams:P(b.pageParams,R,S)}};if(s&&i.length){const b=s==="backward",R=b?w9:gC,D={pages:i,pageParams:o},F=R(r,D);a=await E(D,F,b)}else{const b=t??i.length;do{const R=c===0?o[0]??r.initialPageParam:gC(r,a);if(c>0&&R==null)break;a=await E(a,R),c++}while(c<b)}return a};e.options.persister?e.fetchFn=()=>{var g,w;return(w=(g=e.options).persister)==null?void 0:w.call(g,u,{queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=u}}}function gC(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function w9(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var It,Ii,Ri,Al,Sl,Ni,Il,Rl,o_,E9=(o_=class{constructor(t={}){et(this,It);et(this,Ii);et(this,Ri);et(this,Al);et(this,Sl);et(this,Ni);et(this,Il);et(this,Rl);je(this,It,t.queryCache||new g9),je(this,Ii,t.mutationCache||new x9),je(this,Ri,t.defaultOptions||{}),je(this,Al,new Map),je(this,Sl,new Map),je(this,Ni,0)}mount(){mh(this,Ni)._++,te(this,Ni)===1&&(je(this,Il,mN.subscribe(async t=>{t&&(await this.resumePausedMutations(),te(this,It).onFocus())})),je(this,Rl,Ap.subscribe(async t=>{t&&(await this.resumePausedMutations(),te(this,It).onOnline())})))}unmount(){var t,e;mh(this,Ni)._--,te(this,Ni)===0&&((t=te(this,Il))==null||t.call(this),je(this,Il,void 0),(e=te(this,Rl))==null||e.call(this),je(this,Rl,void 0))}isFetching(t){return te(this,It).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return te(this,Ii).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=te(this,It).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.getQueryData(t.queryKey);if(e===void 0)return this.fetchQuery(t);{const n=this.defaultQueryOptions(t),r=te(this,It).build(this,n);return t.revalidateIfStale&&r.isStaleByTime(uC(n.staleTime,r))&&this.prefetchQuery(n),Promise.resolve(e)}}getQueriesData(t){return te(this,It).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),s=te(this,It).get(r.queryHash),i=s==null?void 0:s.state.data,o=e9(e,i);if(o!==void 0)return te(this,It).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(t,e,n){return kn.batch(()=>te(this,It).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=te(this,It).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=te(this,It);kn.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=te(this,It),r={type:"active",...t};return kn.batch(()=>(n.findAll(t).forEach(s=>{s.reset()}),this.refetchQueries(r,e)))}cancelQueries(t={},e={}){const n={revert:!0,...e},r=kn.batch(()=>te(this,It).findAll(t).map(s=>s.cancel(n)));return Promise.all(r).then(Dr).catch(Dr)}invalidateQueries(t={},e={}){return kn.batch(()=>{if(te(this,It).findAll(t).forEach(r=>{r.invalidate()}),t.refetchType==="none")return Promise.resolve();const n={...t,type:t.refetchType??t.type??"active"};return this.refetchQueries(n,e)})}refetchQueries(t={},e){const n={...e,cancelRefetch:(e==null?void 0:e.cancelRefetch)??!0},r=kn.batch(()=>te(this,It).findAll(t).filter(s=>!s.isDisabled()).map(s=>{let i=s.fetch(void 0,n);return n.throwOnError||(i=i.catch(Dr)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(Dr)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=te(this,It).build(this,e);return n.isStaleByTime(uC(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Dr).catch(Dr)}fetchInfiniteQuery(t){return t.behavior=mC(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Dr).catch(Dr)}ensureInfiniteQueryData(t){return t.behavior=mC(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Ap.isOnline()?te(this,Ii).resumePausedMutations():Promise.resolve()}getQueryCache(){return te(this,It)}getMutationCache(){return te(this,Ii)}getDefaultOptions(){return te(this,Ri)}setDefaultOptions(t){je(this,Ri,t)}setQueryDefaults(t,e){te(this,Al).set(Yu(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...te(this,Al).values()];let n={};return e.forEach(r=>{Ku(t,r.queryKey)&&(n={...n,...r.defaultOptions})}),n}setMutationDefaults(t,e){te(this,Sl).set(Yu(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...te(this,Sl).values()];let n={};return e.forEach(r=>{Ku(t,r.mutationKey)&&(n={...n,...r.defaultOptions})}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...te(this,Ri).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=Nw(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.enabled!==!0&&e.queryFn===Pw&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...te(this,Ri).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){te(this,It).clear(),te(this,Ii).clear()}},It=new WeakMap,Ii=new WeakMap,Ri=new WeakMap,Al=new WeakMap,Sl=new WeakMap,Ni=new WeakMap,Il=new WeakMap,Rl=new WeakMap,o_),b9=y.createContext(void 0),C9=({client:t,children:e})=>(y.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),l.jsx(b9.Provider,{value:t,children:e}));/**
 * @remix-run/router v1.20.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Hu(){return Hu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Hu.apply(this,arguments)}var ji;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(ji||(ji={}));const yC="popstate";function _9(t){t===void 0&&(t={});function e(r,s){let{pathname:i,search:o,hash:a}=r.location;return Uy("",{pathname:i,search:o,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:Sp(s)}return A9(e,n,null,t)}function jt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function wN(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function T9(){return Math.random().toString(36).substr(2,8)}function vC(t,e){return{usr:t.state,key:t.key,idx:e}}function Uy(t,e,n,r){return n===void 0&&(n=null),Hu({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?dc(e):e,{state:n,key:e&&e.key||r||T9()})}function Sp(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function dc(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function A9(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,a=ji.Pop,c=null,u=h();u==null&&(u=0,o.replaceState(Hu({},o.state,{idx:u}),""));function h(){return(o.state||{idx:null}).idx}function f(){a=ji.Pop;let w=h(),T=w==null?null:w-u;u=w,c&&c({action:a,location:g.location,delta:T})}function p(w,T){a=ji.Push;let E=Uy(g.location,w,T);u=h()+1;let b=vC(E,u),R=g.createHref(E);try{o.pushState(b,"",R)}catch(D){if(D instanceof DOMException&&D.name==="DataCloneError")throw D;s.location.assign(R)}i&&c&&c({action:a,location:g.location,delta:1})}function v(w,T){a=ji.Replace;let E=Uy(g.location,w,T);u=h();let b=vC(E,u),R=g.createHref(E);o.replaceState(b,"",R),i&&c&&c({action:a,location:g.location,delta:0})}function x(w){let T=s.location.origin!=="null"?s.location.origin:s.location.href,E=typeof w=="string"?w:Sp(w);return E=E.replace(/ $/,"%20"),jt(T,"No window.location.(origin|href) available to create URL for href: "+E),new URL(E,T)}let g={get action(){return a},get location(){return t(s,o)},listen(w){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(yC,f),c=w,()=>{s.removeEventListener(yC,f),c=null}},createHref(w){return e(s,w)},createURL:x,encodeLocation(w){let T=x(w);return{pathname:T.pathname,search:T.search,hash:T.hash}},push:p,replace:v,go(w){return o.go(w)}};return g}var xC;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(xC||(xC={}));function S9(t,e,n){return n===void 0&&(n="/"),I9(t,e,n,!1)}function I9(t,e,n,r){let s=typeof e=="string"?dc(e):e,i=kw(s.pathname||"/",n);if(i==null)return null;let o=EN(t);R9(o);let a=null;for(let c=0;a==null&&c<o.length;++c){let u=B9(i);a=V9(o[c],u,r)}return a}function EN(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,o,a)=>{let c={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};c.relativePath.startsWith("/")&&(jt(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let u=Yi([r,c.relativePath]),h=n.concat(c);i.children&&i.children.length>0&&(jt(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),EN(i.children,e,h,u)),!(i.path==null&&!i.index)&&e.push({path:u,score:O9(u,i.index),routesMeta:h})};return t.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,o);else for(let c of bN(i.path))s(i,o,c)}),e}function bN(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=bN(r.join("/")),a=[];return a.push(...o.map(c=>c===""?i:[i,c].join("/"))),s&&a.push(...o),a.map(c=>t.startsWith("/")&&c===""?"/":c)}function R9(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:L9(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const N9=/^:[\w-]+$/,P9=3,k9=2,M9=1,j9=10,D9=-2,wC=t=>t==="*";function O9(t,e){let n=t.split("/"),r=n.length;return n.some(wC)&&(r+=D9),e&&(r+=k9),n.filter(s=>!wC(s)).reduce((s,i)=>s+(N9.test(i)?P9:i===""?M9:j9),r)}function L9(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function V9(t,e,n){let{routesMeta:r}=t,s={},i="/",o=[];for(let a=0;a<r.length;++a){let c=r[a],u=a===r.length-1,h=i==="/"?e:e.slice(i.length)||"/",f=EC({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},h),p=c.route;if(!f&&u&&n&&!r[r.length-1].route.index&&(f=EC({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},h)),!f)return null;Object.assign(s,f.params),o.push({params:s,pathname:Yi([i,f.pathname]),pathnameBase:$9(Yi([i,f.pathnameBase])),route:p}),f.pathnameBase!=="/"&&(i=Yi([i,f.pathnameBase]))}return o}function EC(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=F9(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((u,h,f)=>{let{paramName:p,isOptional:v}=h;if(p==="*"){let g=a[f]||"";o=i.slice(0,i.length-g.length).replace(/(.)\/+$/,"$1")}const x=a[f];return v&&!x?u[p]=void 0:u[p]=(x||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:o,pattern:t}}function F9(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),wN(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,c)=>(r.push({paramName:a,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function B9(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return wN(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function kw(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function U9(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?dc(t):t;return{pathname:n?n.startsWith("/")?n:q9(n,e):e,search:z9(r),hash:W9(s)}}function q9(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Hg(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function G9(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Mw(t,e){let n=G9(t);return e?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function jw(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=dc(t):(s=Hu({},t),jt(!s.pathname||!s.pathname.includes("?"),Hg("?","pathname","search",s)),jt(!s.pathname||!s.pathname.includes("#"),Hg("#","pathname","hash",s)),jt(!s.search||!s.search.includes("#"),Hg("#","search","hash",s)));let i=t===""||s.pathname==="",o=i?"/":s.pathname,a;if(o==null)a=n;else{let f=e.length-1;if(!r&&o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),f-=1;s.pathname=p.join("/")}a=f>=0?e[f]:"/"}let c=U9(s,a),u=o&&o!=="/"&&o.endsWith("/"),h=(i||o===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(u||h)&&(c.pathname+="/"),c}const Yi=t=>t.join("/").replace(/\/\/+/g,"/"),$9=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),z9=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,W9=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function Q9(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const CN=["post","put","patch","delete"];new Set(CN);const Y9=["get",...CN];new Set(Y9);/**
 * React Router v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ju(){return Ju=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ju.apply(this,arguments)}const Dw=y.createContext(null),K9=y.createContext(null),yo=y.createContext(null),Pm=y.createContext(null),vo=y.createContext({outlet:null,matches:[],isDataRoute:!1}),_N=y.createContext(null);function H9(t,e){let{relative:n}=e===void 0?{}:e;hc()||jt(!1);let{basename:r,navigator:s}=y.useContext(yo),{hash:i,pathname:o,search:a}=AN(t,{relative:n}),c=o;return r!=="/"&&(c=o==="/"?r:Yi([r,o])),s.createHref({pathname:c,search:a,hash:i})}function hc(){return y.useContext(Pm)!=null}function Zs(){return hc()||jt(!1),y.useContext(Pm).location}function TN(t){y.useContext(yo).static||y.useLayoutEffect(t)}function Yr(){let{isDataRoute:t}=y.useContext(vo);return t?c7():J9()}function J9(){hc()||jt(!1);let t=y.useContext(Dw),{basename:e,future:n,navigator:r}=y.useContext(yo),{matches:s}=y.useContext(vo),{pathname:i}=Zs(),o=JSON.stringify(Mw(s,n.v7_relativeSplatPath)),a=y.useRef(!1);return TN(()=>{a.current=!0}),y.useCallback(function(u,h){if(h===void 0&&(h={}),!a.current)return;if(typeof u=="number"){r.go(u);return}let f=jw(u,JSON.parse(o),i,h.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:Yi([e,f.pathname])),(h.replace?r.replace:r.push)(f,h.state,h)},[e,r,o,i,t])}function AN(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=y.useContext(yo),{matches:s}=y.useContext(vo),{pathname:i}=Zs(),o=JSON.stringify(Mw(s,r.v7_relativeSplatPath));return y.useMemo(()=>jw(t,JSON.parse(o),i,n==="path"),[t,o,i,n])}function X9(t,e){return Z9(t,e)}function Z9(t,e,n,r){hc()||jt(!1);let{navigator:s}=y.useContext(yo),{matches:i}=y.useContext(vo),o=i[i.length-1],a=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let u=Zs(),h;if(e){var f;let w=typeof e=="string"?dc(e):e;c==="/"||(f=w.pathname)!=null&&f.startsWith(c)||jt(!1),h=w}else h=u;let p=h.pathname||"/",v=p;if(c!=="/"){let w=c.replace(/^\//,"").split("/");v="/"+p.replace(/^\//,"").split("/").slice(w.length).join("/")}let x=S9(t,{pathname:v}),g=s7(x&&x.map(w=>Object.assign({},w,{params:Object.assign({},a,w.params),pathname:Yi([c,s.encodeLocation?s.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?c:Yi([c,s.encodeLocation?s.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),i,n,r);return e&&g?y.createElement(Pm.Provider,{value:{location:Ju({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:ji.Pop}},g):g}function e7(){let t=l7(),e=Q9(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return y.createElement(y.Fragment,null,y.createElement("h2",null,"Unexpected Application Error!"),y.createElement("h3",{style:{fontStyle:"italic"}},e),n?y.createElement("pre",{style:s},n):null,null)}const t7=y.createElement(e7,null);class n7 extends y.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?y.createElement(vo.Provider,{value:this.props.routeContext},y.createElement(_N.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function r7(t){let{routeContext:e,match:n,children:r}=t,s=y.useContext(Dw);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),y.createElement(vo.Provider,{value:e},r)}function s7(t,e,n,r){var s;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var i;if(!n)return null;if(n.errors)t=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(s=n)==null?void 0:s.errors;if(a!=null){let h=o.findIndex(f=>f.route.id&&(a==null?void 0:a[f.route.id])!==void 0);h>=0||jt(!1),o=o.slice(0,Math.min(o.length,h+1))}let c=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let h=0;h<o.length;h++){let f=o[h];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=h),f.route.id){let{loaderData:p,errors:v}=n,x=f.route.loader&&p[f.route.id]===void 0&&(!v||v[f.route.id]===void 0);if(f.route.lazy||x){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((h,f,p)=>{let v,x=!1,g=null,w=null;n&&(v=a&&f.route.id?a[f.route.id]:void 0,g=f.route.errorElement||t7,c&&(u<0&&p===0?(x=!0,w=null):u===p&&(x=!0,w=f.route.hydrateFallbackElement||null)));let T=e.concat(o.slice(0,p+1)),E=()=>{let b;return v?b=g:x?b=w:f.route.Component?b=y.createElement(f.route.Component,null):f.route.element?b=f.route.element:b=h,y.createElement(r7,{match:f,routeContext:{outlet:h,matches:T,isDataRoute:n!=null},children:b})};return n&&(f.route.ErrorBoundary||f.route.errorElement||p===0)?y.createElement(n7,{location:n.location,revalidation:n.revalidation,component:g,error:v,children:E(),routeContext:{outlet:null,matches:T,isDataRoute:!0}}):E()},null)}var SN=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(SN||{}),Ip=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Ip||{});function i7(t){let e=y.useContext(Dw);return e||jt(!1),e}function o7(t){let e=y.useContext(K9);return e||jt(!1),e}function a7(t){let e=y.useContext(vo);return e||jt(!1),e}function IN(t){let e=a7(),n=e.matches[e.matches.length-1];return n.route.id||jt(!1),n.route.id}function l7(){var t;let e=y.useContext(_N),n=o7(Ip.UseRouteError),r=IN(Ip.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function c7(){let{router:t}=i7(SN.UseNavigateStable),e=IN(Ip.UseNavigateStable),n=y.useRef(!1);return TN(()=>{n.current=!0}),y.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,Ju({fromRouteId:e},i)))},[t,e])}function Rp(t){let{to:e,replace:n,state:r,relative:s}=t;hc()||jt(!1);let{future:i,static:o}=y.useContext(yo),{matches:a}=y.useContext(vo),{pathname:c}=Zs(),u=Yr(),h=jw(e,Mw(a,i.v7_relativeSplatPath),c,s==="path"),f=JSON.stringify(h);return y.useEffect(()=>u(JSON.parse(f),{replace:n,state:r,relative:s}),[u,f,s,n,r]),null}function Jr(t){jt(!1)}function u7(t){let{basename:e="/",children:n=null,location:r,navigationType:s=ji.Pop,navigator:i,static:o=!1,future:a}=t;hc()&&jt(!1);let c=e.replace(/^\/*/,"/"),u=y.useMemo(()=>({basename:c,navigator:i,static:o,future:Ju({v7_relativeSplatPath:!1},a)}),[c,a,i,o]);typeof r=="string"&&(r=dc(r));let{pathname:h="/",search:f="",hash:p="",state:v=null,key:x="default"}=r,g=y.useMemo(()=>{let w=kw(h,c);return w==null?null:{location:{pathname:w,search:f,hash:p,state:v,key:x},navigationType:s}},[c,h,f,p,v,x,s]);return g==null?null:y.createElement(yo.Provider,{value:u},y.createElement(Pm.Provider,{children:n,value:g}))}function d7(t){let{children:e,location:n}=t;return X9(qy(e),n)}new Promise(()=>{});function qy(t,e){e===void 0&&(e=[]);let n=[];return y.Children.forEach(t,(r,s)=>{if(!y.isValidElement(r))return;let i=[...e,s];if(r.type===y.Fragment){n.push.apply(n,qy(r.props.children,i));return}r.type!==Jr&&jt(!1),!r.props.index||!r.props.children||jt(!1);let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=qy(r.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Gy(){return Gy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Gy.apply(this,arguments)}function h7(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function f7(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function p7(t,e){return t.button===0&&(!e||e==="_self")&&!f7(t)}const m7=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],g7="6";try{window.__reactRouterVersion=g7}catch{}const y7="startTransition",bC=v_[y7];function v7(t){let{basename:e,children:n,future:r,window:s}=t,i=y.useRef();i.current==null&&(i.current=_9({window:s,v5Compat:!0}));let o=i.current,[a,c]=y.useState({action:o.action,location:o.location}),{v7_startTransition:u}=r||{},h=y.useCallback(f=>{u&&bC?bC(()=>c(f)):c(f)},[c,u]);return y.useLayoutEffect(()=>o.listen(h),[o,h]),y.createElement(u7,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const x7=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",w7=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Hs=y.forwardRef(function(e,n){let{onClick:r,relative:s,reloadDocument:i,replace:o,state:a,target:c,to:u,preventScrollReset:h,viewTransition:f}=e,p=h7(e,m7),{basename:v}=y.useContext(yo),x,g=!1;if(typeof u=="string"&&w7.test(u)&&(x=u,x7))try{let b=new URL(window.location.href),R=u.startsWith("//")?new URL(b.protocol+u):new URL(u),D=kw(R.pathname,v);R.origin===b.origin&&D!=null?u=D+R.search+R.hash:g=!0}catch{}let w=H9(u,{relative:s}),T=E7(u,{replace:o,state:a,target:c,preventScrollReset:h,relative:s,viewTransition:f});function E(b){r&&r(b),b.defaultPrevented||T(b)}return y.createElement("a",Gy({},p,{href:x||w,onClick:g||i?r:E,ref:n,target:c}))});var CC;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(CC||(CC={}));var _C;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(_C||(_C={}));function E7(t,e){let{target:n,replace:r,state:s,preventScrollReset:i,relative:o,viewTransition:a}=e===void 0?{}:e,c=Yr(),u=Zs(),h=AN(t,{relative:o});return y.useCallback(f=>{if(p7(f,n)){f.preventDefault();let p=r!==void 0?r:Sp(u)===Sp(h);c(t,{replace:p,state:s,preventScrollReset:i,relative:o,viewTransition:a})}},[u,c,h,r,s,n,t,i,o,a])}const RN=()=>`session_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,b7=async(t,e)=>{try{console.log("loginUser: Starting login process for email:",t);const n=await N6(Yo,t,e);console.log("loginUser: Firebase Auth successful for UID:",n.user.uid);const r=await zl(on(Pt,"users",n.user.uid));if(console.log("loginUser: User document exists:",r.exists()),r.exists()){const s=r.data();console.log("loginUser: User data retrieved, current session status:",s.isSessionValid);const i=RN(),o=Ge.now();console.log("loginUser: Updating user document with new session"),await Ed(on(Pt,"users",n.user.uid),{sessionToken:i,lastLoginAt:o,isSessionValid:!0}),console.log("loginUser: User document updated with new session");const a={...s,sessionToken:i,lastLoginAt:o,isSessionValid:!0};return console.log("loginUser: Returning updated user data with session:",a.isSessionValid),a}return console.log("loginUser: User document not found, returning null"),null}catch(n){throw console.error("loginUser error:",n),n}},C7=async(t,e,n,r,s)=>{try{const i=await R6(Yo,e,n),o=RN(),a=Ge.now(),c={id:i.user.uid,name:t,email:e,feedback:r,purchases:0,isRewardReady:!1,createdAt:a,rewards:[],role:"customer",currentOfferId:"default_offer",currentOfferProgress:0,sessionToken:o,lastLoginAt:a,isSessionValid:!0};try{await wm(on(Pt,"users",i.user.uid),c),(await zl(on(Pt,"users",i.user.uid))).exists()?console.log(" User document verified in Firestore"):console.error(" User document not found after creation!")}catch(u){throw console.error("Firestore error during user creation:",u),u}return c}catch(i){throw console.error("registerUser error:",i),i}},_7=async()=>{try{const t=Yo.currentUser;t&&await Ed(on(Pt,"users",t.uid),{isSessionValid:!1,sessionToken:null}),await Gb(Yo)}catch(t){console.error("Logout error:",t),await Gb(Yo)}},T7=t=>j6(Yo,t),A7=(t,e)=>{const n=xd(Pt,"users"),r=rw(n,HI("createdAt","desc"));return lw(r,s=>{const i=[];s.forEach(o=>{const a=o.data();i.push({...a,id:o.id})}),t(i)},e)},S7=(t,e,n)=>{const r=on(Pt,"users",t);return lw(r,s=>{s.exists()?e(s.data()):e(null)},n)},I7=async(t,e,n)=>{if(!t||t.role!=="super_admin")throw new Error("Only super admins can update user roles");const r=on(Pt,"users",e);await Ed(r,{role:n})},R7=async(t,e,n,r)=>{var b,R;const s=e&&n;if(!t&&!s)return;const i=s?on(Pt,"users",n):on(Pt,"users",t.id),o=await zl(i);if(!o.exists())throw new Error("User not found");const a=o.data(),c=r||a.currentOfferId;if(!c)throw new Error("No offer specified and user has no active offer assigned");const u=on(Pt,"offers",c),h=await zl(u);if(!h.exists())throw new Error("Specified offer not found");const f=h.data();if(!f.isActive)throw new Error("Specified offer is no longer active");const p=f.stampRequirement,v=(b=a.completedRewards)==null?void 0:b.find(D=>{var F,I,S;return((F=D.offerSnapshot)==null?void 0:F.offerId)===c&&((I=D.scanHistory)==null?void 0:I.length)<((S=D.offerSnapshot)==null?void 0:S.stampRequirement)&&!D.claimedAt});let x=0,g=v;if(v){if(x=((R=v.scanHistory)==null?void 0:R.length)||0,x>=p)throw new Error("User has already completed this offer")}else g={rewardId:`reward_${Date.now()}`,claimedAt:null,scanHistory:[],rewardType:f.rewardType,rewardValue:f.rewardValue,rewardDescription:f.rewardDescription,offerSnapshot:{offerId:f.offerId,offerName:f.name,description:f.description,stampRequirement:f.stampRequirement,rewardType:f.rewardType,rewardValue:f.rewardValue,rewardDescription:f.rewardDescription},createdAt:Ge.now()};const w={scannedBy:(t==null?void 0:t.email)||"unknown",timestamp:Ge.now()},T={...g,scanHistory:[...g.scanHistory||[],w]};let E=a.completedRewards||[];v?E=E.map(D=>D.rewardId===v.rewardId?T:D):E=[...E,T],await Ed(i,{lastScanAt:Ge.now(),completedRewards:E})},N7=async(t,e,n,r)=>{const s=e&&n;if(!t&&!s)return;const i=s?on(Pt,"users",n):on(Pt,"users",t.id),o=await zl(i);if(!o.exists())throw new Error("User not found");const c=o.data().completedRewards||[],u=c.find(f=>f.rewardId===r);if(!u)throw new Error("Reward not found");if(u.claimedAt)throw new Error("Reward has already been redeemed");const h=c.map(f=>f.rewardId===r?{...f,claimedAt:Ge.now()}:f);await Ed(i,{completedRewards:h})},P7=(t,e)=>{const n=on(Pt,"settings","global");return lw(n,r=>{if(r.exists())t(r.data());else{const s={purchaseLimit:5,descriptionMessage:"Complete purchases to unlock your reward!",rewardType:"percentage",rewardValue:"20",rewardDescription:"20% OFF",updatedAt:Ge.now(),updatedBy:"system"};wm(n,s),t(s)}},e)},k7=5,M7="Welcome Offer",j7="Complete purchases to unlock your reward!",D7=5,O7="percentage",L7="20",V7="20% OFF",F7=async t=>{xd(Pt,"offers");const e={offerId:"default_offer",name:M7,description:j7,stampRequirement:D7,rewardType:O7,rewardValue:L7,rewardDescription:V7,isActive:!0,createdAt:Ge.now(),updatedAt:Ge.now(),createdBy:t.email||"system"};await wm(on(Pt,"offers","default_offer"),e)},B7=async()=>{const t=xd(Pt,"offers"),e=await aw(t);return e.empty?[]:e.docs.map(n=>n.data())},U7=async(t,e)=>{if(t.role!=="admin"&&t.role!=="super_admin")throw new Error("Only admins can create offers");const n=`offer_${Date.now()}`,r={...e,offerId:n,createdAt:Ge.now(),updatedAt:Ge.now(),createdBy:t.email||"system"};await wm(on(Pt,"offers",n),r)};function xo(t,e){return async(...n)=>{try{return await t(...n)}catch(r){throw console.error(`${e} error:`,r),r}}}const q7=xo(b7,"loginUser"),G7=xo(C7,"registerUser"),TC=xo(_7,"logoutUser"),$7=T7,z7=A7,W7=S7,Q7=xo(I7,"updateUserRole"),Y7=xo(R7,"addPurchase"),K7=xo(N7,"redeemReward"),H7=P7,pu=B7,J7=xo(U7,"createOffer"),AC=xo(F7,"createDefaultOffer"),NN=y.createContext(null),X7=({children:t})=>{const[e,n]=y.useState(null),[r,s]=y.useState(!0),[i,o]=y.useState(null),[a,c]=y.useState(!0),[u,h]=y.useState([]),[f,p]=y.useState(!1);y.useEffect(()=>{const E=H7(b=>{o(b),c(!1)},b=>{console.error("Error listening to settings:",b),c(!1)});return()=>E()},[]),y.useEffect(()=>{if(!e||e.role!=="admin"&&e.role!=="super_admin"){h([]);return}p(!0);const E=z7(b=>{h(b),p(!1)},b=>{console.error("Error listening to all users:",b),p(!1)});return()=>E()},[e==null?void 0:e.role]),y.useEffect(()=>{let E=null,b=!1;const R=$7(async F=>{b||(b=!0),F&&typeof F=="object"&&F!==null&&"uid"in F?(console.log("Firebase Auth user detected, setting up real-time listener for:",F.uid),setTimeout(()=>{E=W7(F.uid,I=>{console.log("Real-time user data received:",{uid:I.id,isSessionValid:I.isSessionValid,hasSessionToken:!!I.sessionToken}),I.isSessionValid===!1?(console.log("Session explicitly invalidated, signing out user"),n(null),s(!1),TC()):(console.log("Accepting user data during login, session status:",I.isSessionValid),n(I),s(!1))},I=>{console.error("Error listening to user data:",I),n(null),s(!1)})},500)):(n(null),s(!1),E&&(E(),E=null))}),D=setTimeout(()=>{b||s(!1)},1e4);return()=>{R&&R(),E&&E(),clearTimeout(D)}},[]);const v=async(E,b)=>{console.log("Login attempt started for:",E);try{const R=await q7(E,b);return console.log("Login successful, user data received:",!!R),R}catch(R){throw console.error("Login failed:",R),R}},x=(E,b,R,D)=>G7(E,b,R,D,null),g=(E,b,R)=>Y7(e,E,b,R),w=(E,b)=>Q7(e,E,b),T=async()=>{console.log("Logout called from useAuth hook"),await TC(),n(null)};return l.jsx(NN.Provider,{value:{user:e,loading:r,settings:i,settingsLoading:a,allUsers:u,allUsersLoading:f,login:v,register:x,addPurchase:g,logout:T,updateUserRole:w},children:t})},gs=()=>{const t=y.useContext(NN);if(!t)throw new Error("useAuth must be used within AuthProvider");return t},Lc=({children:t,requiredRole:e})=>{const{user:n,loading:r}=gs(),s=Zs();if(r)return l.jsx("div",{className:"min-h-screen bg-gradient-to-br from-black via-gray-900 to-red-950 flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx(px,{className:"h-8 w-8 animate-spin text-red-500 mx-auto mb-4"}),l.jsx("p",{className:"text-white text-lg",children:"Loading..."})]})});if(!n)return l.jsx(Rp,{to:"/login",state:{from:s},replace:!0});if(e){const i=n.role,o={customer:1,admin:2,super_admin:3};if(o[i]<o[e])return l.jsx(Rp,{to:"/dashboard",replace:!0})}return l.jsx(l.Fragment,{children:t})},SC=({children:t})=>{const{user:e,loading:n}=gs();return n?l.jsx("div",{className:"min-h-screen bg-gradient-to-br from-black via-gray-900 to-red-950 flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx(px,{className:"h-8 w-8 animate-spin text-red-500 mx-auto mb-4"}),l.jsx("p",{className:"text-white text-lg",children:"Loading..."})]})}):e?l.jsx(Rp,{to:"/dashboard",replace:!0}):l.jsx(l.Fragment,{children:t})},Z7=hx("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Ve=y.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...s},i)=>{const o=r?ta:"button";return l.jsx(o,{className:nt(Z7({variant:e,size:n,className:t})),ref:i,...s})});Ve.displayName="Button";const eq=()=>{const[t,e]=y.useState(!1),[n,r]=y.useState(!1),s=()=>{const i=window.matchMedia("(display-mode: standalone)").matches,o=window.matchMedia("(display-mode: fullscreen)").matches,a=window.matchMedia("(display-mode: minimal-ui)").matches,c=navigator.standalone===!0;return i||o||a||c};return y.useEffect(()=>{s()&&r(!0);const o=window.matchMedia("(display-mode: standalone)"),a=c=>{c.matches&&r(!0)};return o.addEventListener("change",a),()=>{o.removeEventListener("change",a)}},[]),n?null:l.jsxs("div",{className:"fixed top-4 right-4 z-40",children:[l.jsxs(Ve,{onClick:()=>e(!t),size:"sm",variant:"outline",className:"bg-white/90 backdrop-blur-sm border-gray-200 hover:bg-white",children:[l.jsx(JD,{className:"w-4 h-4 mr-2"}),"Install Guide"]}),t&&l.jsxs("div",{className:"absolute top-12 right-0 w-80 bg-white rounded-lg shadow-lg border border-gray-200 p-4",children:[l.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"How to Install"}),l.jsxs("div",{className:"space-y-3 text-sm text-gray-600",children:[l.jsxs("div",{children:[l.jsx("strong",{children:"Chrome/Edge (Desktop):"}),l.jsx("p",{children:'Look for the install icon (plus sign) in your browser address bar, or use the menu (three dots) and select "Install app"'})]}),l.jsxs("div",{children:[l.jsx("strong",{children:"Chrome/Edge (Mobile):"}),l.jsx("p",{children:'Tap the menu (three dots) and select "Add to Home screen" or "Install app"'})]}),l.jsxs("div",{children:[l.jsx("strong",{children:"Safari (Mobile):"}),l.jsx("p",{children:'Tap the Share button (square with arrow) and select "Add to Home Screen"'})]}),l.jsxs("div",{children:[l.jsx("strong",{children:"Safari (Desktop):"}),l.jsx("p",{children:'Use the Share button in the toolbar and select "Add to Dock"'})]}),l.jsxs("div",{children:[l.jsx("strong",{children:"Firefox:"}),l.jsx("p",{children:'Use the menu (three lines) and select "Install App" or "Add to Home Screen"'})]})]}),l.jsx(Ve,{onClick:()=>e(!1),size:"sm",className:"mt-3 w-full",children:"Got it!"})]})]})},tq=()=>{const[t,e]=y.useState(!1),n=()=>{const r=window.matchMedia("(display-mode: standalone)").matches,s=window.matchMedia("(display-mode: fullscreen)").matches,i=window.matchMedia("(display-mode: minimal-ui)").matches,o=navigator.standalone===!0;return r||s||i||o};return y.useEffect(()=>{n()&&e(!0);const s=window.matchMedia("(display-mode: standalone)"),i=o=>{o.matches&&e(!0)};return s.addEventListener("change",i),()=>{s.removeEventListener("change",i)}},[]),l.jsxs("div",{className:"min-h-screen relative overflow-hidden",children:[l.jsx("div",{className:"absolute inset-0 bg-cover bg-center bg-no-repeat",style:{backgroundImage:"url(/bgCover.jpeg)"}}),l.jsx("div",{className:"absolute inset-0 bg-black/60"}),l.jsxs("div",{className:"absolute inset-0 opacity-20",children:[l.jsx("div",{className:"absolute top-10 left-10 w-32 h-32 bg-red-500 rounded-full blur-3xl animate-pulse"}),l.jsx("div",{className:"absolute bottom-20 right-10 w-40 h-40 bg-red-600 rounded-full blur-3xl animate-pulse delay-1000"}),l.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-60 h-60 bg-red-700 rounded-full blur-3xl animate-pulse delay-500"})]}),l.jsxs("div",{className:"relative z-10 flex flex-col items-center justify-center min-h-screen px-6 text-center",children:[l.jsx("div",{children:l.jsx("div",{className:"flex justify-center mb-4",children:l.jsx("img",{src:"/logo.png",alt:"Vape Master Logo",className:"w-24 h-24 sm:w-32 sm:h-32 md:w-40 md:h-40 lg:w-48 lg:h-48 object-contain"})})}),l.jsxs("div",{className:"mb-12 max-w-md",children:[l.jsx("h2",{className:"text-xl sm:text-2xl md:text-3xl lg:text-4xl xl:text-5xl font-semibold text-white mb-4",children:"Loyalty Program"}),l.jsx("p",{className:"text-gray-300 text-sm sm:text-base md:text-lg lg:text-xl xl:text-2xl leading-relaxed",children:"Join our loyalty program and get rewards! Earn points with every purchase and unlock exclusive benefits."})]}),l.jsxs("div",{className:"space-y-4 w-full max-w-sm",children:[l.jsx(Hs,{to:"/register",className:"block",children:l.jsx(Ve,{className:"w-full py-4 text-lg font-semibold bg-gradient-to-r from-red-600 to-red-700 hover:from-red-700 hover:to-red-800 text-white border-none shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-105",children:"Join Now"})}),l.jsx(Hs,{to:"/login",className:"block",children:l.jsx(Ve,{variant:"outline",className:"w-full py-4 text-lg font-semibold bg-transparent border-2 border-red-500 text-red-400 hover:bg-red-500 hover:text-white transition-all duration-300 transform hover:scale-105",children:"Already a Member?"})})]}),!t&&l.jsx("div",{className:"mt-8",children:l.jsx(eq,{})}),l.jsx("div",{className:"absolute bottom-6 text-center text-gray-500",children:l.jsx("p",{className:"text-sm",children:"Smoke responsibly  21+ only"})})]})]})},nq=()=>{const{user:t,loading:e}=gs();return e?l.jsx("div",{className:"min-h-screen bg-gradient-to-br from-black via-gray-900 to-red-950 flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx(px,{className:"h-8 w-8 animate-spin text-red-500 mx-auto mb-4"}),l.jsx("p",{className:"text-white text-lg",children:"Loading..."})]})}):t?l.jsx(Rp,{to:"/dashboard",replace:!0}):l.jsx(tq,{})},wn=y.forwardRef(({className:t,type:e,...n},r)=>l.jsx("input",{type:e,className:nt("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...n}));wn.displayName="Input";var rq="Label",PN=y.forwardRef((t,e)=>l.jsx(Be.label,{...t,ref:e,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=t.onMouseDown)==null||s.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));PN.displayName=rq;var kN=PN;const sq=hx("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),er=y.forwardRef(({className:t,...e},n)=>l.jsx(kN,{ref:n,className:nt(sq(),t),...e}));er.displayName=kN.displayName;const Ow=y.forwardRef(({className:t,...e},n)=>l.jsx("textarea",{className:nt("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:n,...e}));Ow.displayName="Textarea";function pt(t,e){const n=window;typeof window<"u"&&typeof n.gtag=="function"&&n.gtag("event",t,e||{})}const iq=()=>{const[t,e]=y.useState(""),[n,r]=y.useState(""),[s,i]=y.useState(""),[o,a]=y.useState(""),[c,u]=y.useState(!1),{register:h,user:f,loading:p}=gs(),v=Yr();y.useEffect(()=>{pt("page_view",{page:"Register"})},[]);const x=async g=>{if(g.preventDefault(),!t.trim()||!n.trim()||!o.trim()){lt({title:"Missing Information",description:"Please fill in your name, email, and password.",variant:"destructive"}),pt("register_missing_info");return}u(!0);try{pt("register_attempt",{email:n}),await h(t.trim(),n.trim(),o.trim(),s.trim()||null),lt({title:"Welcome to Vape Master!",description:"Your loyalty card is ready!"}),pt("register_success",{user_id:f.id,user_role:f.role}),v("/dashboard")}catch(w){let T="Please try again.";w&&typeof w=="object"&&"message"in w&&typeof w.message=="string"&&(T=w.message),lt({title:"Registration Failed",description:T,variant:"destructive"}),pt("register_failed",{email:n,error:T})}finally{u(!1)}};return l.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-black via-gray-900 to-red-950 relative overflow-hidden",children:[l.jsxs("div",{className:"absolute inset-0 opacity-10",children:[l.jsx("div",{className:"absolute top-20 right-10 w-40 h-40 bg-red-500 rounded-full blur-3xl animate-pulse"}),l.jsx("div",{className:"absolute bottom-32 left-10 w-32 h-32 bg-red-600 rounded-full blur-3xl animate-pulse delay-1000"})]}),l.jsxs("div",{className:"relative z-10 min-h-screen flex flex-col",children:[l.jsx("div",{className:"p-6",children:l.jsx(Hs,{to:"/",className:"text-red-400 hover:text-red-300 transition-colors",children:l.jsx(Jl,{className:"w-6 h-6"})})}),l.jsx("div",{className:"flex-1 flex items-center justify-center px-6",children:l.jsx("div",{className:"w-full max-w-md",children:l.jsxs("div",{className:"bg-gray-900/80 backdrop-blur-sm border border-red-900/30 rounded-2xl p-8 shadow-2xl",children:[l.jsxs("div",{className:"text-center mb-8",children:[l.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"Join the Club"}),l.jsx("p",{className:"text-gray-400",children:"Create your loyalty account"})]}),l.jsxs("form",{onSubmit:x,className:"space-y-6",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(er,{htmlFor:"name",className:"text-white",children:"Full Name"}),l.jsx(wn,{id:"name",type:"text",value:t,onChange:g=>e(g.target.value),placeholder:"Enter your full name",className:"bg-gray-800/50 border-gray-700 text-white placeholder-gray-400 focus:border-red-500",required:!0})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(er,{htmlFor:"email",className:"text-white",children:"Email"}),l.jsx(wn,{id:"email",type:"email",value:n,onChange:g=>r(g.target.value),placeholder:"Enter your email",className:"bg-gray-800/50 border-gray-700 text-white placeholder-gray-400 focus:border-red-500",required:!0})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(er,{htmlFor:"password",className:"text-white",children:"Password"}),l.jsx(wn,{id:"password",type:"password",value:o,onChange:g=>a(g.target.value),placeholder:"Create a password",className:"bg-gray-800/50 border-gray-700 text-white placeholder-gray-400 focus:border-red-500",required:!0})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(er,{htmlFor:"feedback",className:"text-white",children:"Feedback (Optional)"}),l.jsx(Ow,{id:"feedback",value:s,onChange:g=>i(g.target.value),placeholder:"Tell us about your experience...",className:"bg-gray-800/50 border-gray-700 text-white placeholder-gray-400 focus:border-red-500 min-h-[100px]"})]}),l.jsx(Ve,{type:"submit",className:"w-full py-3 bg-gradient-to-r from-red-600 to-red-700 hover:from-red-700 hover:to-red-800 text-white font-semibold",disabled:c,children:c?"Creating Account...":"Create Account"})]}),l.jsx("div",{className:"mt-6 text-center",children:l.jsxs("p",{className:"text-gray-400",children:["Already have an account?"," ",l.jsx(Hs,{to:"/login",className:"text-red-400 hover:text-red-300 transition-colors font-semibold",children:"Sign in"})]})})]})})})]})]})},oq=()=>{const[t,e]=y.useState(""),[n,r]=y.useState(""),[s,i]=y.useState(!1),{login:o,user:a,loading:c}=gs(),u=Yr(),h=Zs();y.useEffect(()=>{pt("page_view",{page:"Login"})},[]);const f=async p=>{var v,x;if(p.preventDefault(),!t.trim()||!n.trim()){lt({title:"Missing Information",description:"Please enter your email and password.",variant:"destructive"}),pt("login_missing_info");return}i(!0);try{pt("login_attempt",{email:t});const g=await o(t.trim(),n.trim());if(g){lt({title:"Welcome back!",description:`Good to see you again, ${g.name}!`}),pt("login_success",{user_id:g.id,user_role:g.role});const w=((x=(v=h.state)==null?void 0:v.from)==null?void 0:x.pathname)||"/dashboard";u(w,{replace:!0})}else lt({title:"User Not Found",description:"No account found with this email. Please register first.",variant:"destructive"}),pt("login_user_not_found",{email:t})}catch(g){let w="Please try again.";g&&typeof g=="object"&&"message"in g&&typeof g.message=="string"&&(w=g.message),lt({title:"Login Failed",description:w,variant:"destructive"}),pt("login_failed",{email:t,error:w})}finally{i(!1)}};return l.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-black via-gray-900 to-red-950 relative overflow-hidden",children:[l.jsxs("div",{className:"absolute inset-0 opacity-10",children:[l.jsx("div",{className:"absolute top-20 right-10 w-40 h-40 bg-red-500 rounded-full blur-3xl animate-pulse"}),l.jsx("div",{className:"absolute bottom-32 left-10 w-32 h-32 bg-red-600 rounded-full blur-3xl animate-pulse delay-1000"})]}),l.jsxs("div",{className:"relative z-10 min-h-screen flex flex-col",children:[l.jsx("div",{className:"p-6",children:l.jsx(Hs,{to:"/",className:"text-red-400 hover:text-red-300 transition-colors",children:l.jsx(Jl,{className:"w-6 h-6"})})}),l.jsx("div",{className:"flex-1 flex items-center justify-center px-6",children:l.jsx("div",{className:"w-full max-w-md",children:l.jsxs("div",{className:"bg-gray-900/80 backdrop-blur-sm border border-red-900/30 rounded-2xl p-8 shadow-2xl",children:[l.jsxs("div",{className:"text-center mb-8",children:[l.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"Welcome Back"}),l.jsx("p",{className:"text-gray-400",children:"Sign in to your loyalty account"})]}),l.jsxs("form",{onSubmit:f,className:"space-y-6",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(er,{htmlFor:"email",className:"text-white",children:"Email"}),l.jsx(wn,{id:"email",type:"email",value:t,onChange:p=>e(p.target.value),placeholder:"Enter your email",className:"bg-gray-800/50 border-gray-700 text-white placeholder-gray-400 focus:border-red-500",required:!0})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(er,{htmlFor:"password",className:"text-white",children:"Password"}),l.jsx(wn,{id:"password",type:"password",value:n,onChange:p=>r(p.target.value),placeholder:"Enter your password",className:"bg-gray-800/50 border-gray-700 text-white placeholder-gray-400 focus:border-red-500",required:!0})]}),l.jsx(Ve,{type:"submit",className:"w-full py-3 bg-gradient-to-r from-red-600 to-red-700 hover:from-red-700 hover:to-red-800 text-white font-semibold",disabled:s,children:s?"Signing In...":"Sign In"})]}),l.jsx("div",{className:"mt-6 text-center",children:l.jsxs("p",{className:"text-gray-400",children:["Don't have an account?"," ",l.jsx(Hs,{to:"/register",className:"text-red-400 hover:text-red-300 transition-colors font-semibold",children:"Sign up"})]})})]})})})]})]})};function aq(){const{user:t,loading:e,addPurchase:n,logout:r,settings:s,allUsers:i,allUsersLoading:o}=gs(),[a,c]=y.useState([]),u=Yr(),[h,f]=y.useState(!1),p=y.useRef(null),[v,x]=y.useState(!1),[g,w]=y.useState(0),[T,E]=y.useState(null),[b,R]=y.useState("progress"),D=(t==null?void 0:t.purchaseLimit)||(s==null?void 0:s.purchaseLimit)||k7;y.useEffect(()=>{!e&&!t&&u("/login")},[t,e,u]),y.useEffect(()=>{t&&(async()=>{try{const O=await pu();c(O)}catch(O){console.error("Error loading offers:",O)}})()},[t]),y.useEffect(()=>{t&&(E(new Date),p.current!==null&&p.current!==t.purchases&&t.purchases-p.current>0&&(lt({title:"Purchase Updated! ",description:`Your purchase count was updated via QR scan. New total: ${t.purchases}/${D}`}),x(!0),w(O=>O+1),setTimeout(()=>x(!1),2500),t.isRewardReady&&p.current<D&&setTimeout(()=>{lt({title:"Reward Unlocked! ",description:"You've earned a reward! Check your rewards page."}),setTimeout(()=>u("/rewards"),1500)},1e3)),p.current===0&&t.purchases===1&&(f(!0),setTimeout(()=>f(!1),3e3)),p.current=t.purchases)},[t==null?void 0:t.purchases,t==null?void 0:t.isRewardReady,u,D]);const F=Math.max(0,D-((t==null?void 0:t.purchases)||0));return{user:t,loading:e,addPurchase:n,logout:r,settings:s,allUsers:i,allUsersLoading:o,offers:a,navigate:u,showFirstConfetti:h,showConfetti:v,confettiKey:g,lastUpdateTime:T,activeTab:b,setActiveTab:R,userPurchaseLimit:D,purchasesRemaining:F,handleAddPurchase:()=>{!t||t.purchases>=D||(n(),x(!0),w(k=>k+1),setTimeout(()=>x(!1),2500),t.purchases+1>=D?(lt({title:"Reward Unlocked! ",description:"You've earned a reward! Check your rewards page."}),setTimeout(()=>u("/rewards"),1500)):lt({title:"Purchase Added!",description:`${D-1-t.purchases} more purchases until your next reward!`}))},handleLogout:()=>{r(),lt({title:"Logged Out",description:"Thanks for visiting Vape Master!"}),u("/")},handleOfferSelection:async k=>{try{console.log("Selecting offer:",k)}catch(O){console.error("Error selecting offer:",O)}}}}var bf={linear:function(t,e,n,r){var s=n-e;return s*t/r+e},easeInQuad:function(t,e,n,r){var s=n-e;return s*(t/=r)*t+e},easeOutQuad:function(t,e,n,r){var s=n-e;return-s*(t/=r)*(t-2)+e},easeInOutQuad:function(t,e,n,r){var s=n-e;return(t/=r/2)<1?s/2*t*t+e:-s/2*(--t*(t-2)-1)+e},easeInCubic:function(t,e,n,r){var s=n-e;return s*(t/=r)*t*t+e},easeOutCubic:function(t,e,n,r){var s=n-e;return s*((t=t/r-1)*t*t+1)+e},easeInOutCubic:function(t,e,n,r){var s=n-e;return(t/=r/2)<1?s/2*t*t*t+e:s/2*((t-=2)*t*t+2)+e},easeInQuart:function(t,e,n,r){var s=n-e;return s*(t/=r)*t*t*t+e},easeOutQuart:function(t,e,n,r){var s=n-e;return-s*((t=t/r-1)*t*t*t-1)+e},easeInOutQuart:function(t,e,n,r){var s=n-e;return(t/=r/2)<1?s/2*t*t*t*t+e:-s/2*((t-=2)*t*t*t-2)+e},easeInQuint:function(t,e,n,r){var s=n-e;return s*(t/=r)*t*t*t*t+e},easeOutQuint:function(t,e,n,r){var s=n-e;return s*((t=t/r-1)*t*t*t*t+1)+e},easeInOutQuint:function(t,e,n,r){var s=n-e;return(t/=r/2)<1?s/2*t*t*t*t*t+e:s/2*((t-=2)*t*t*t*t+2)+e},easeInSine:function(t,e,n,r){var s=n-e;return-s*Math.cos(t/r*(Math.PI/2))+s+e},easeOutSine:function(t,e,n,r){var s=n-e;return s*Math.sin(t/r*(Math.PI/2))+e},easeInOutSine:function(t,e,n,r){var s=n-e;return-s/2*(Math.cos(Math.PI*t/r)-1)+e},easeInExpo:function(t,e,n,r){var s=n-e;return t==0?e:s*Math.pow(2,10*(t/r-1))+e},easeOutExpo:function(t,e,n,r){var s=n-e;return t==r?e+s:s*(-Math.pow(2,-10*t/r)+1)+e},easeInOutExpo:function(t,e,n,r){var s=n-e;return t===0?e:t===r?e+s:(t/=r/2)<1?s/2*Math.pow(2,10*(t-1))+e:s/2*(-Math.pow(2,-10*--t)+2)+e},easeInCirc:function(t,e,n,r){var s=n-e;return-s*(Math.sqrt(1-(t/=r)*t)-1)+e},easeOutCirc:function(t,e,n,r){var s=n-e;return s*Math.sqrt(1-(t=t/r-1)*t)+e},easeInOutCirc:function(t,e,n,r){var s=n-e;return(t/=r/2)<1?-s/2*(Math.sqrt(1-t*t)-1)+e:s/2*(Math.sqrt(1-(t-=2)*t)+1)+e},easeInElastic:function(t,e,n,r){var s=n-e,i,o,a;return a=1.70158,o=0,i=s,t===0?e:(t/=r)===1?e+s:(o||(o=r*.3),i<Math.abs(s)?(i=s,a=o/4):a=o/(2*Math.PI)*Math.asin(s/i),-(i*Math.pow(2,10*(t-=1))*Math.sin((t*r-a)*(2*Math.PI)/o))+e)},easeOutElastic:function(t,e,n,r){var s=n-e,i,o,a;return a=1.70158,o=0,i=s,t===0?e:(t/=r)===1?e+s:(o||(o=r*.3),i<Math.abs(s)?(i=s,a=o/4):a=o/(2*Math.PI)*Math.asin(s/i),i*Math.pow(2,-10*t)*Math.sin((t*r-a)*(2*Math.PI)/o)+s+e)},easeInOutElastic:function(t,e,n,r){var s=n-e,i,o,a;return a=1.70158,o=0,i=s,t===0?e:(t/=r/2)===2?e+s:(o||(o=r*(.3*1.5)),i<Math.abs(s)?(i=s,a=o/4):a=o/(2*Math.PI)*Math.asin(s/i),t<1?-.5*(i*Math.pow(2,10*(t-=1))*Math.sin((t*r-a)*(2*Math.PI)/o))+e:i*Math.pow(2,-10*(t-=1))*Math.sin((t*r-a)*(2*Math.PI)/o)*.5+s+e)},easeInBack:function(t,e,n,r,s){var i=n-e;return s===void 0&&(s=1.70158),i*(t/=r)*t*((s+1)*t-s)+e},easeOutBack:function(t,e,n,r,s){var i=n-e;return s===void 0&&(s=1.70158),i*((t=t/r-1)*t*((s+1)*t+s)+1)+e},easeInOutBack:function(t,e,n,r,s){var i=n-e;return s===void 0&&(s=1.70158),(t/=r/2)<1?i/2*(t*t*(((s*=1.525)+1)*t-s))+e:i/2*((t-=2)*t*(((s*=1.525)+1)*t+s)+2)+e},easeInBounce:function(t,e,n,r){var s=n-e,i;return i=bf.easeOutBounce(r-t,0,s,r),s-i+e},easeOutBounce:function(t,e,n,r){var s=n-e;return(t/=r)<1/2.75?s*(7.5625*t*t)+e:t<2/2.75?s*(7.5625*(t-=1.5/2.75)*t+.75)+e:t<2.5/2.75?s*(7.5625*(t-=2.25/2.75)*t+.9375)+e:s*(7.5625*(t-=2.625/2.75)*t+.984375)+e},easeInOutBounce:function(t,e,n,r){var s=n-e,i;return t<r/2?(i=bf.easeInBounce(t*2,0,s,r),i*.5+e):(i=bf.easeOutBounce(t*2-r,0,s,r),i*.5+s*.5+e)}},lq=bf;function cq(t){return t*Math.PI/180}function Kn(t,e){return t+Math.random()*(e-t)}function uq(t,e){return Math.floor(t+Math.random()*(e-t+1))}var mu;(function(t){t[t.Circle=0]="Circle",t[t.Square=1]="Square",t[t.Strip=2]="Strip"})(mu||(mu={}));var xi;(function(t){t[t.Positive=1]="Positive",t[t.Negative=-1]="Negative"})(xi||(xi={}));const dq=1e3/60;class hq{constructor(e,n,r,s){this.getOptions=n;const{colors:i,initialVelocityX:o,initialVelocityY:a}=this.getOptions();this.context=e,this.x=r,this.y=s,this.w=Kn(5,20),this.h=Kn(5,20),this.radius=Kn(5,10),this.vx=typeof o=="number"?Kn(-o,o):Kn(o.min,o.max),this.vy=typeof a=="number"?Kn(-a,0):Kn(a.min,a.max),this.shape=uq(0,2),this.angle=cq(Kn(0,360)),this.angularSpin=Kn(-.2,.2),this.color=i[Math.floor(Math.random()*i.length)],this.rotateY=Kn(0,1),this.rotationDirection=Kn(0,1)?xi.Positive:xi.Negative}update(e){const{gravity:n,wind:r,friction:s,opacity:i,drawShape:o}=this.getOptions(),a=e/dq;this.x+=this.vx*a,this.y+=this.vy*a,this.vy+=n*a,this.vx+=r*a,this.vx*=s**a,this.vy*=s**a,this.rotateY>=1&&this.rotationDirection===xi.Positive?this.rotationDirection=xi.Negative:this.rotateY<=-1&&this.rotationDirection===xi.Negative&&(this.rotationDirection=xi.Positive);const c=.1*this.rotationDirection*a;if(this.rotateY+=c,this.angle+=this.angularSpin,this.context.save(),this.context.translate(this.x,this.y),this.context.rotate(this.angle),this.context.scale(1,this.rotateY),this.context.rotate(this.angle),this.context.beginPath(),this.context.fillStyle=this.color,this.context.strokeStyle=this.color,this.context.globalAlpha=i,this.context.lineCap="round",this.context.lineWidth=2,o&&typeof o=="function")o.call(this,this.context);else switch(this.shape){case mu.Circle:{this.context.beginPath(),this.context.arc(0,0,this.radius,0,2*Math.PI),this.context.fill();break}case mu.Square:{this.context.fillRect(-this.w/2,-this.h/2,this.w,this.h);break}case mu.Strip:{this.context.fillRect(-this.w/6,-this.h/2,this.w/3,this.h);break}}this.context.closePath(),this.context.restore()}}class fq{constructor(e,n){this.x=0,this.y=0,this.w=0,this.h=0,this.lastNumberOfPieces=0,this.tweenProgress=0,this.tweenFrom=0,this.particles=[],this.particlesGenerated=0,this.removeParticleAt=s=>{this.particles.splice(s,1)},this.getParticle=()=>{const s=Kn(this.x,this.w+this.x),i=Kn(this.y,this.h+this.y);return new hq(this.context,this.getOptions,s,i)},this.animate=s=>{const{canvas:i,context:o,particlesGenerated:a,lastNumberOfPieces:c}=this,{run:u,recycle:h,numberOfPieces:f,debug:p,tweenFunction:v,tweenDuration:x}=this.getOptions();if(!u)return!1;const g=this.particles.length,w=h?g:a;if(w<f){c!==f&&(this.tweenProgress=0,this.tweenFrom=w,this.lastNumberOfPieces=f),this.tweenProgress=Math.min(x,Math.max(0,this.tweenProgress+s));const T=v(this.tweenProgress,this.tweenFrom,f,x),E=Math.round(T-w);for(let b=0;b<E;b++)this.particles.push(this.getParticle());this.particlesGenerated+=E}p&&(o.font="12px sans-serif",o.fillStyle="#333",o.textAlign="right",o.fillText(`Particles: ${g}`,i.width-10,i.height-20));for(let T=this.particles.length-1;T>=0;T--){const E=this.particles[T];E.update(s),(E.y>i.height||E.y<-100||E.x>i.width+100||E.x<-100)&&(h&&w<=f?this.particles[T]=this.getParticle():this.removeParticleAt(T))}return g>0||w<f},this.canvas=e;const r=this.canvas.getContext("2d");if(!r)throw new Error("Could not get canvas context");this.context=r,this.getOptions=n}}const Lw={width:typeof window<"u"?window.innerWidth:300,height:typeof window<"u"?window.innerHeight:200,numberOfPieces:200,friction:.99,wind:0,gravity:.1,initialVelocityX:4,initialVelocityY:10,colors:["#f44336","#e91e63","#9c27b0","#673ab7","#3f51b5","#2196f3","#03a9f4","#00bcd4","#009688","#4CAF50","#8BC34A","#CDDC39","#FFEB3B","#FFC107","#FF9800","#FF5722","#795548"],opacity:1,debug:!1,tweenFunction:lq.easeInOutQuad,tweenDuration:5e3,recycle:!0,run:!0};class pq{constructor(e,n){this.lastFrameTime=0,this.setOptionsWithDefaults=s=>{const i={confettiSource:{x:0,y:0,w:this.canvas.width,h:0}};this._options={...i,...Lw,...s},Object.assign(this,s.confettiSource)},this.update=(s=0)=>{const{options:{run:i,onConfettiComplete:o,frameRate:a},canvas:c,context:u}=this,h=Math.min(s-this.lastFrameTime,50);if(a&&h<1e3/a){this.rafId=requestAnimationFrame(this.update);return}this.lastFrameTime=s-(a?h%a:0),i&&(u.fillStyle="white",u.clearRect(0,0,c.width,c.height)),this.generator.animate(h)?this.rafId=requestAnimationFrame(this.update):(o&&typeof o=="function"&&this.generator.particlesGenerated>0&&o.call(this,this),this._options.run=!1)},this.reset=()=>{this.generator&&this.generator.particlesGenerated>0&&(this.generator.particlesGenerated=0,this.generator.particles=[],this.generator.lastNumberOfPieces=0)},this.stop=()=>{this.options={run:!1},this.rafId&&(cancelAnimationFrame(this.rafId),this.rafId=void 0)},this.canvas=e;const r=this.canvas.getContext("2d");if(!r)throw new Error("Could not get canvas context");this.context=r,this.generator=new fq(this.canvas,()=>this.options),this.options=n,this.update()}get options(){return this._options}set options(e){var s,i;const n=(s=this._options)==null?void 0:s.run,r=(i=this._options)==null?void 0:i.recycle;this.setOptionsWithDefaults(e),this.generator&&(Object.assign(this.generator,this.options.confettiSource),typeof e.recycle=="boolean"&&e.recycle&&r===!1&&(this.generator.lastNumberOfPieces=this.generator.particles.length)),typeof e.run=="boolean"&&e.run&&n===!1&&this.update()}}const mq=Y.createRef();class Vw extends Y.Component{constructor(e){super(e),this.canvas=Y.createRef(),this.canvas=e.canvasRef||mq}componentDidMount(){if(this.canvas.current){const e=Jg(this.props)[0];this.confetti=new pq(this.canvas.current,e)}}componentDidUpdate(){const e=Jg(this.props)[0];this.confetti&&(this.confetti.options=e)}componentWillUnmount(){this.confetti&&this.confetti.stop(),this.confetti=void 0}render(){const[e,n]=Jg(this.props),r={zIndex:2,position:"absolute",pointerEvents:"none",top:0,left:0,bottom:0,right:0,...n.style};return l.jsx("canvas",{width:e.width,height:e.height,ref:this.canvas,...n,style:r})}}Vw.defaultProps={...Lw};Vw.displayName="ReactConfetti";function Jg(t){const e={},n={},r={},s=[...Object.keys(Lw),"confettiSource","drawShape","onConfettiComplete","frameRate"],i=["canvasRef"];for(const o in t){const a=t[o];s.includes(o)?e[o]=a:i.includes(o)?i[o]=a:r[o]=a}return[e,r,n]}const MN=Y.forwardRef((t,e)=>l.jsx(Vw,{canvasRef:e,...t})),gq=({title:t,onBack:e,actions:n})=>l.jsx("div",{className:"bg-gray-900/80 backdrop-blur-sm border-b border-red-900/30 sticky top-0 z-10",children:l.jsxs("div",{className:"p-6 flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center",children:[e&&l.jsx("button",{onClick:e,className:"text-red-400 hover:text-red-300 transition-colors",children:l.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),l.jsx("h1",{className:"ml-4 text-2xl font-bold text-white",children:t})]}),l.jsx("div",{className:"flex gap-2",children:n})]})}),yq=({reward:t,isOpen:e,onClose:n})=>!e||!t?null:l.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:l.jsxs("div",{className:"bg-gray-900 border border-red-900/30 rounded-lg max-w-2xl w-full max-h-[80vh] overflow-hidden",children:[l.jsxs("div",{className:"p-6 border-b border-red-900/30",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("h3",{className:"text-xl font-bold text-white",children:"Reward Details"}),l.jsx("button",{onClick:n,className:"text-gray-400 hover:text-white transition-colors",children:l.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),l.jsxs("div",{className:"mt-2 text-sm text-gray-400",children:[l.jsxs("p",{children:["Reward ID: ",t.rewardId]}),t.claimedAt&&l.jsxs("p",{className:"text-green-600",children:["Claimed:"," ",t.claimedAt.toDate?new Date(t.claimedAt.toDate()).toLocaleString():""]})]})]}),l.jsx("div",{className:"p-6 overflow-y-auto max-h-[60vh]",children:t.scanHistory&&t.scanHistory.length>0?l.jsxs("div",{children:[l.jsxs("h4",{className:"text-lg font-semibold text-white mb-4",children:["Scan History (",t.scanHistory.length," scans)"]}),l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"min-w-full text-sm text-left text-gray-300",children:[l.jsx("thead",{children:l.jsxs("tr",{className:"border-b justify-between border-gray-700 md:table-row flex flex-col md:flex-row",children:[l.jsxs("th",{className:"px-4 py-3 font-semibold flex flex-col md:table-cell text-center md:text-left",children:[l.jsx("span",{className:"block md:hidden text-xs text-gray-400",children:"Scan #"}),l.jsx("span",{className:"hidden md:block",children:"Scan #"})]}),l.jsxs("th",{className:"px-4 py-3 font-semibold flex flex-col md:table-cell text-center md:text-left",children:[l.jsx("span",{className:"block md:hidden text-xs text-gray-400",children:"Scanned By"}),l.jsx("span",{className:"hidden md:block",children:"Scanned By"})]}),l.jsxs("th",{className:"px-4 py-3 font-semibold flex flex-col md:table-cell text-center md:text-left",children:[l.jsx("span",{className:"block md:hidden text-xs text-gray-400",children:"Date & Time"}),l.jsx("span",{className:"hidden md:block",children:"Date & Time"})]})]})}),l.jsx("tbody",{children:t.scanHistory.map((r,s)=>{var i,o;return l.jsxs("tr",{className:"border-b border-gray-800 hover:bg-gray-800/50 md:table-row flex flex-col md:flex-row justify-center text-center md:text-left",children:[l.jsxs("td",{className:"px-4 py-3 font-medium flex flex-col md:table-cell items-center md:items-start",children:[l.jsx("span",{className:"block text-xs text-gray-400 md:hidden",children:"Scan #"}),s+1]}),l.jsxs("td",{className:"px-4 py-3 flex flex-col md:table-cell items-center md:items-start",children:[l.jsx("span",{className:"block text-xs text-gray-400 md:hidden",children:"Scanned By"}),r.scannedBy]}),l.jsxs("td",{className:"px-4 py-3 flex flex-col md:table-cell items-center md:items-start",children:[l.jsx("span",{className:"block text-xs text-gray-400 md:hidden",children:"Date & Time"}),(i=r.timestamp)!=null&&i.toDate?new Date(r.timestamp.toDate()).toLocaleString():""]})]},((o=r.timestamp)==null?void 0:o.seconds)+r.scannedBy)})})]})})]}):l.jsx("div",{className:"text-center text-gray-400 py-8",children:l.jsx("p",{children:"No scan history available for this reward."})})}),l.jsx("div",{className:"p-6 border-t border-red-900/30",children:l.jsx("button",{onClick:n,className:"w-full bg-red-600 hover:bg-red-700 text-white font-semibold py-2 px-4 rounded-lg transition-colors",children:"Close"})})]})}),vq=({rewards:t,onRewardClick:e})=>!t||t.length===0?l.jsx("div",{className:"text-gray-400 text-sm",children:"No rewards claimed."}):l.jsxs("div",{className:"space-y-4 mt-2 mb-4",children:[l.jsx("h4",{className:"text-sm font-semibold text-white",children:"Claimed Rewards"}),t.slice().reverse().map((n,r)=>l.jsxs("div",{className:"border border-gray-700 rounded-lg p-3 cursor-pointer hover:bg-gray-800/50 transition-colors",onClick:()=>e(n),children:[l.jsxs("div",{className:"flex flex-wrap items-center justify-between mb-2",children:[l.jsxs("h5",{className:"text-sm font-medium text-white",children:["Reward #",t.length-r," - ",n.rewardId]}),l.jsxs("span",{className:"text-xs text-green-500 text-gray-400",children:["Claimed:"," ",n.claimedAt&&n.claimedAt.toDate?new Date(n.claimedAt.toDate()).toLocaleString():""]})]}),n.scanHistory&&n.scanHistory.length>0&&l.jsxs("div",{className:"mt-2",children:[l.jsxs("h6",{className:"text-xs font-medium text-gray-300 mb-1",children:["Scans for this reward: ",n.scanHistory.length," scans"]}),l.jsx("p",{className:"text-xs text-gray-400",children:"Click to view detailed scan history"})]})]},n.rewardId))]}),xq=({allUsers:t})=>{const[e,n]=y.useState(null),[r,s]=y.useState(!1);return l.jsxs("div",{className:"bg-gradient-to-br from-gray-900/90 via-black/80 to-red-950/90 border border-red-900/40 rounded-none p-6 min-h-[460px] flex flex-col justify-start -mt-0 shadow-2xl",children:[l.jsx("h3",{className:"text-2xl font-bold text-white mb-4",children:"Rewards History"}),l.jsx("div",{className:"space-y-2",children:t.filter(i=>i.role==="customer").map(i=>{var o,a;return l.jsxs("div",{className:"bg-gray-800/60 rounded-lg p-4",children:[l.jsxs("div",{className:"flex flex-wrap items-center justify-between mb-2",children:[l.jsxs("span",{className:"font-semibold text-white",children:[i.name," (",i.email,")"]}),l.jsxs("span",{className:"text-xs text-gray-400",children:["Total Scans: ",((a=(o=i.currentReward)==null?void 0:o.scanHistory)==null?void 0:a.length)||0]})]}),l.jsx(vq,{rewards:i.rewards,onRewardClick:c=>{n(c),s(!0)}})]},i.id)})}),l.jsx(yq,{reward:e,isOpen:r,onClose:()=>{s(!1),n(null)}})]})},wq=({users:t,loading:e})=>{const n=s=>{switch(s){case"super_admin":return l.jsx(sy,{className:"w-4 h-4 text-yellow-500"});case"admin":return l.jsx(eS,{className:"w-4 h-4 text-blue-500"});default:return l.jsx(na,{className:"w-4 h-4 text-gray-400"})}},r=s=>{switch(s){case"super_admin":return"text-yellow-400";case"admin":return"text-blue-400";default:return"text-gray-400"}};return e?l.jsxs("div",{className:"flex items-center justify-center py-8",children:[l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-red-500"}),l.jsx("span",{className:"ml-3 text-gray-400",children:"Loading users..."})]}):t.length===0?l.jsxs("div",{className:"text-center py-8",children:[l.jsx(na,{className:"w-12 h-12 text-gray-500 mx-auto mb-4"}),l.jsx("p",{className:"text-gray-400",children:"No users found"})]}):l.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:t.map(s=>{var a;const i=s.purchaseLimit||5,o=Math.min(100,s.purchases/i*100);return l.jsxs("div",{className:"bg-gray-800/60 backdrop-blur-sm border border-gray-700/50 rounded-lg p-4 hover:bg-gray-800/80 transition-all duration-200",children:[l.jsxs("div",{className:"flex items-center flex-wrap justify-between mb-3",children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsxs("div",{className:"flex items-center space-x-2",children:[n(s.role),l.jsx("span",{className:`text-sm font-medium ${r(s.role)}`,children:(s.role||"").replace("_"," ").toUpperCase()})]}),l.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"})]}),l.jsx("div",{className:"text-right",children:l.jsx("div",{className:"text-sm text-gray-400",children:s.lastScanAt?new Date(s.lastScanAt.toDate()).toLocaleDateString():"Never"})})]}),l.jsx("div",{className:"mb-3",children:l.jsxs("div",{className:"flex items-center flex-wrap justify-between mb-1",children:[l.jsx("span",{className:"font-semibold text-white",children:s.name}),l.jsx("span",{className:"text-sm text-gray-400",children:s.email})]})}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex items-center justify-between text-sm",children:[l.jsx("span",{className:"text-gray-400",children:"Progress:"}),l.jsxs("span",{className:"text-white font-medium",children:[s.purchases,"/",i]})]}),l.jsx("div",{className:"w-full bg-gray-700 rounded-full h-2",children:l.jsx("div",{className:`h-2 rounded-full transition-all duration-300 ${o>=100?"bg-green-500":"bg-red-500"}`,style:{width:`${o}%`}})}),l.jsxs("div",{className:"flex items-center flex-wrap justify-between text-xs text-gray-500",children:[l.jsxs("span",{children:[((a=s.rewards)==null?void 0:a.length)||0," rewards claimed"]}),l.jsx("span",{children:s.isRewardReady?" Ready!":`${i-s.purchases} to go`})]})]})]},s.id)})})},Eq=({activeTab:t,onTabChange:e,userRole:n})=>{const r=[{key:"progress",label:"Progress",icon:dd,description:"Track your stamps & rewards",color:"blue",activeColor:"from-blue-500 to-blue-600",inactiveColor:"from-blue-400/20 to-blue-500/20",borderColor:"border-blue-500/30",textColor:"text-blue-300",hoverColor:"hover:from-blue-400/30 hover:to-blue-500/30"},{key:"offers",label:"Offers",icon:sr,description:"Available loyalty offers",color:"green",activeColor:"from-green-500 to-green-600",inactiveColor:"from-green-400/20 to-green-500/20",borderColor:"border-green-500/30",textColor:"text-green-300",hoverColor:"hover:from-green-400/30 hover:to-green-500/30"},{key:"card",label:"Rewards",icon:Ll,description:"Your earned rewards",color:"purple",activeColor:"from-purple-500 to-purple-600",inactiveColor:"from-purple-400/20 to-purple-500/20",borderColor:"border-purple-500/30",textColor:"text-purple-300",hoverColor:"hover:from-purple-400/30 hover:to-purple-500/30"}];return l.jsx("div",{className:"bg-gradient-to-r from-gray-900/80 via-gray-800/80 to-gray-900/80 border border-gray-700/50 rounded-xl p-3 backdrop-blur-sm shadow-lg",children:l.jsx("div",{className:"flex space-x-2 h-24",children:r.map(s=>{const i=s.icon,o=t===s.key;return l.jsxs("button",{onClick:()=>e(s.key),className:`flex-1 flex flex-col items-center justify-center rounded-lg transition-all duration-300 ease-out group relative overflow-hidden min-h-[88px] ${o?`bg-gradient-to-b ${s.activeColor} border-2 ${s.borderColor} text-white shadow-lg shadow-${s.color}-500/25`:`bg-gradient-to-b ${s.inactiveColor} border-2 border-transparent text-gray-400 ${s.hoverColor} hover:border-${s.color}-500/30 hover:text-${s.color}-300`}`,children:[l.jsx("div",{className:`absolute inset-0 transition-all duration-300 ${o?`bg-gradient-to-b from-${s.color}-500/10 to-${s.color}-400/10`:"bg-transparent"}`}),o&&l.jsx("div",{className:`absolute bottom-0 left-0 right-0 h-1 bg-gradient-to-r from-${s.color}-400 to-${s.color}-500`}),l.jsx(i,{className:`w-6 h-6 mb-2 transition-all duration-300 ${o?"text-white scale-110 drop-shadow-sm relative z-10":`group-hover:scale-110 group-hover:text-${s.color}-300`}`}),l.jsx("span",{className:`text-sm font-bold transition-all duration-300 mb-1 ${o?"text-white font-extrabold drop-shadow-lg relative z-10":"text-gray-300 group-hover:text-white"}`,children:s.label}),l.jsx("span",{className:`text-xs text-center transition-all duration-300 leading-tight ${o?"text-white font-semibold drop-shadow-lg relative z-10":"text-gray-400 group-hover:text-gray-200"}`,children:s.description}),l.jsx("div",{className:`absolute inset-0 rounded-lg transition-all duration-300 ${o?`ring-2 ring-${s.color}-500/30`:`group-hover:ring-1 group-hover:ring-${s.color}-500/20`}`}),o&&l.jsx("div",{className:`absolute inset-0 rounded-lg bg-gradient-to-b from-${s.color}-500/5 to-transparent`})]},s.key)})})})},bq=({user:t,userPurchaseLimit:e,settings:n,purchasesRemaining:r,onViewReward:s,currentOffer:i})=>{var b,R,D;const[o,a]=y.useState({inProgress:!0,completed:!1}),[c,u]=y.useState(!1),h=t.purchases||0,f=((b=t.completedRewards)==null?void 0:b.filter(F=>{var I,S;return((I=F.scanHistory)==null?void 0:I.length)>=((S=F.offerSnapshot)==null?void 0:S.stampRequirement)}))||[],p=((R=t.completedRewards)==null?void 0:R.filter(F=>{var I,S;return((I=F.scanHistory)==null?void 0:I.length)<((S=F.offerSnapshot)==null?void 0:S.stampRequirement)}))||[],v=f.filter(F=>!F.claimedAt),x=((D=t.completedRewards)==null?void 0:D.reduce((F,I)=>{var S;return F+(((S=I.scanHistory)==null?void 0:S.length)||0)},0))||0,g=Math.max(h,x),w=3,T=c?p:p.slice(0,w);c||f.slice(0,w);const E=F=>{a(I=>({...I,[F]:!I[F]}))};return l.jsxs("div",{className:"bg-gradient-to-br from-gray-900/90 via-black/80 to-red-950/90 border border-red-900/40 rounded-xl p-6 shadow-2xl",children:[l.jsxs("div",{className:"text-center mb-6",children:[l.jsxs("div",{className:"flex items-center justify-center mb-3",children:[l.jsx(iy,{className:"w-8 h-8 text-yellow-400 mr-3"}),l.jsx("h3",{className:"text-2xl font-bold text-white",children:"Life Stamps"})]}),l.jsxs("div",{className:"mb-4",children:[l.jsx("div",{className:"text-5xl font-black text-white drop-shadow-[0_2px_8px_#000a] mb-2",children:g}),l.jsx("div",{className:"text-lg text-gray-300 font-medium",children:"Total Stamps Collected Since Joining"})]})]}),l.jsxs("div",{className:"grid grid-cols-3 gap-3 mb-4",children:[l.jsxs("div",{className:"bg-gray-800/30 rounded-lg p-3 text-center",children:[l.jsx("div",{className:"text-lg font-bold text-blue-400",children:f.length}),l.jsx("div",{className:"text-gray-300 text-xs",children:"Rewards Completed"})]}),l.jsxs("div",{className:"bg-gray-800/30 rounded-lg p-3 text-center",children:[l.jsx("div",{className:"text-lg font-bold text-green-400",children:p.length}),l.jsx("div",{className:"text-gray-300 text-xs",children:"Rewards in Progress"})]}),l.jsxs("div",{className:"bg-gray-800/30 rounded-lg p-3 text-center",children:[l.jsx("div",{className:"text-lg font-bold text-yellow-400",children:v.length}),l.jsx("div",{className:"text-gray-300 text-xs",children:"Ready to Redeem"})]})]}),p.length>0&&l.jsx("div",{className:"mb-4",children:l.jsxs("div",{className:"bg-blue-900/20 border border-blue-700/30 rounded-lg p-4",children:[l.jsxs("div",{className:"flex items-center justify-between mb-3 cursor-pointer hover:bg-blue-900/30 rounded-lg p-2 transition-colors duration-200",onClick:()=>E("inProgress"),children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx(dd,{className:"w-4 h-4 text-blue-400 mr-2"}),l.jsxs("span",{className:"text-blue-300 text-sm font-medium",children:["Current Active Rewards (",p.length,")"]})]}),o.inProgress?l.jsx(np,{className:"w-4 h-4 text-blue-400"}):l.jsx(ju,{className:"w-4 h-4 text-blue-400"})]}),o.inProgress&&l.jsxs("div",{className:"space-y-3",children:[T.map((F,I)=>{var L,j,W;const S=((L=F.scanHistory)==null?void 0:L.length)||0,P=((j=F.offerSnapshot)==null?void 0:j.stampRequirement)||0,k=P>0?Math.min(S/P*100,100):0,O=Math.max(0,P-S);return l.jsx("div",{className:"bg-blue-900/10 border border-blue-600/20 rounded-lg p-3",children:l.jsxs("div",{className:"text-center",children:[l.jsx("h4",{className:"text-white font-medium text-sm mb-2",children:((W=F.offerSnapshot)==null?void 0:W.offerName)||"Loyalty Reward"}),l.jsxs("div",{className:"flex justify-between items-center text-sm mb-2",children:[l.jsx("span",{className:"text-gray-400",children:"Progress:"}),l.jsxs("span",{className:"text-white font-medium",children:[S," / ",P," stamps"]})]}),l.jsx("div",{className:"w-full bg-gray-600 rounded-full h-2 mb-3",children:l.jsx("div",{className:"bg-blue-500 h-2 rounded-full transition-all duration-500",style:{width:`${k}%`}})}),l.jsxs("div",{className:"text-center",children:[l.jsx("p",{className:"text-gray-300 text-xs mb-2",children:F.rewardDescription}),l.jsx("div",{className:"text-blue-300 text-xs",children:O>0?`${O} more stamps needed`:" Reward ready to redeem!"})]})]})},F.rewardId)}),p.length>w&&l.jsx("div",{className:"text-center pt-2",children:l.jsx(Ve,{onClick:()=>u(!c),variant:"outline",size:"sm",className:"border-blue-600 text-blue-400 hover:bg-blue-600 hover:text-white transition-colors duration-200",children:c?"Show Less":`Show All ${p.length} Rewards`})})]})]})}),p.length===0&&l.jsx("div",{className:"mb-4",children:l.jsxs("div",{className:"bg-gray-800/30 border border-gray-700/30 rounded-lg p-4 text-center",children:[l.jsx("div",{className:"text-gray-400 text-sm mb-2",children:f.length>0?"All rewards completed! ":"No active rewards yet"}),l.jsx("div",{className:"text-gray-500 text-xs",children:f.length>0?"Check the Offers tab to start a new reward":"Visit the Offers tab to start collecting stamps"})]})}),l.jsx("div",{className:"text-center mb-4",children:l.jsxs("div",{className:"flex items-center justify-center text-gray-400 text-xs",children:[l.jsx(QD,{className:"w-3 h-3 mr-1"}),"Member since"," ",t.createdAt.toDate().toLocaleDateString("en-US",{weekday:"long",day:"numeric",month:"short",year:"numeric"})]})}),t.isRewardReady&&s&&l.jsx("div",{className:"text-center",children:l.jsxs(Ve,{onClick:s,className:"bg-gradient-to-r from-red-600 to-red-700 hover:from-red-700 hover:to-red-800 text-white font-medium px-6 py-2 rounded-lg shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-105",children:[l.jsx(WD,{className:"w-4 h-4 mr-2"}),"View Reward"]})})]})};var Cq=Object.defineProperty,Np=Object.getOwnPropertySymbols,jN=Object.prototype.hasOwnProperty,DN=Object.prototype.propertyIsEnumerable,IC=(t,e,n)=>e in t?Cq(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,$y=(t,e)=>{for(var n in e||(e={}))jN.call(e,n)&&IC(t,n,e[n]);if(Np)for(var n of Np(e))DN.call(e,n)&&IC(t,n,e[n]);return t},zy=(t,e)=>{var n={};for(var r in t)jN.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&Np)for(var r of Np(t))e.indexOf(r)<0&&DN.call(t,r)&&(n[r]=t[r]);return n};/**
 * @license QR Code generator library (TypeScript)
 * Copyright (c) Project Nayuki.
 * SPDX-License-Identifier: MIT
 */var ua;(t=>{const e=class Le{constructor(c,u,h,f){if(this.version=c,this.errorCorrectionLevel=u,this.modules=[],this.isFunction=[],c<Le.MIN_VERSION||c>Le.MAX_VERSION)throw new RangeError("Version value out of range");if(f<-1||f>7)throw new RangeError("Mask value out of range");this.size=c*4+17;let p=[];for(let x=0;x<this.size;x++)p.push(!1);for(let x=0;x<this.size;x++)this.modules.push(p.slice()),this.isFunction.push(p.slice());this.drawFunctionPatterns();const v=this.addEccAndInterleave(h);if(this.drawCodewords(v),f==-1){let x=1e9;for(let g=0;g<8;g++){this.applyMask(g),this.drawFormatBits(g);const w=this.getPenaltyScore();w<x&&(f=g,x=w),this.applyMask(g)}}s(0<=f&&f<=7),this.mask=f,this.applyMask(f),this.drawFormatBits(f),this.isFunction=[]}static encodeText(c,u){const h=t.QrSegment.makeSegments(c);return Le.encodeSegments(h,u)}static encodeBinary(c,u){const h=t.QrSegment.makeBytes(c);return Le.encodeSegments([h],u)}static encodeSegments(c,u,h=1,f=40,p=-1,v=!0){if(!(Le.MIN_VERSION<=h&&h<=f&&f<=Le.MAX_VERSION)||p<-1||p>7)throw new RangeError("Invalid value");let x,g;for(x=h;;x++){const b=Le.getNumDataCodewords(x,u)*8,R=o.getTotalBits(c,x);if(R<=b){g=R;break}if(x>=f)throw new RangeError("Data too long")}for(const b of[Le.Ecc.MEDIUM,Le.Ecc.QUARTILE,Le.Ecc.HIGH])v&&g<=Le.getNumDataCodewords(x,b)*8&&(u=b);let w=[];for(const b of c){n(b.mode.modeBits,4,w),n(b.numChars,b.mode.numCharCountBits(x),w);for(const R of b.getData())w.push(R)}s(w.length==g);const T=Le.getNumDataCodewords(x,u)*8;s(w.length<=T),n(0,Math.min(4,T-w.length),w),n(0,(8-w.length%8)%8,w),s(w.length%8==0);for(let b=236;w.length<T;b^=253)n(b,8,w);let E=[];for(;E.length*8<w.length;)E.push(0);return w.forEach((b,R)=>E[R>>>3]|=b<<7-(R&7)),new Le(x,u,E,p)}getModule(c,u){return 0<=c&&c<this.size&&0<=u&&u<this.size&&this.modules[u][c]}getModules(){return this.modules}drawFunctionPatterns(){for(let h=0;h<this.size;h++)this.setFunctionModule(6,h,h%2==0),this.setFunctionModule(h,6,h%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const c=this.getAlignmentPatternPositions(),u=c.length;for(let h=0;h<u;h++)for(let f=0;f<u;f++)h==0&&f==0||h==0&&f==u-1||h==u-1&&f==0||this.drawAlignmentPattern(c[h],c[f]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(c){const u=this.errorCorrectionLevel.formatBits<<3|c;let h=u;for(let p=0;p<10;p++)h=h<<1^(h>>>9)*1335;const f=(u<<10|h)^21522;s(f>>>15==0);for(let p=0;p<=5;p++)this.setFunctionModule(8,p,r(f,p));this.setFunctionModule(8,7,r(f,6)),this.setFunctionModule(8,8,r(f,7)),this.setFunctionModule(7,8,r(f,8));for(let p=9;p<15;p++)this.setFunctionModule(14-p,8,r(f,p));for(let p=0;p<8;p++)this.setFunctionModule(this.size-1-p,8,r(f,p));for(let p=8;p<15;p++)this.setFunctionModule(8,this.size-15+p,r(f,p));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let c=this.version;for(let h=0;h<12;h++)c=c<<1^(c>>>11)*7973;const u=this.version<<12|c;s(u>>>18==0);for(let h=0;h<18;h++){const f=r(u,h),p=this.size-11+h%3,v=Math.floor(h/3);this.setFunctionModule(p,v,f),this.setFunctionModule(v,p,f)}}drawFinderPattern(c,u){for(let h=-4;h<=4;h++)for(let f=-4;f<=4;f++){const p=Math.max(Math.abs(f),Math.abs(h)),v=c+f,x=u+h;0<=v&&v<this.size&&0<=x&&x<this.size&&this.setFunctionModule(v,x,p!=2&&p!=4)}}drawAlignmentPattern(c,u){for(let h=-2;h<=2;h++)for(let f=-2;f<=2;f++)this.setFunctionModule(c+f,u+h,Math.max(Math.abs(f),Math.abs(h))!=1)}setFunctionModule(c,u,h){this.modules[u][c]=h,this.isFunction[u][c]=!0}addEccAndInterleave(c){const u=this.version,h=this.errorCorrectionLevel;if(c.length!=Le.getNumDataCodewords(u,h))throw new RangeError("Invalid argument");const f=Le.NUM_ERROR_CORRECTION_BLOCKS[h.ordinal][u],p=Le.ECC_CODEWORDS_PER_BLOCK[h.ordinal][u],v=Math.floor(Le.getNumRawDataModules(u)/8),x=f-v%f,g=Math.floor(v/f);let w=[];const T=Le.reedSolomonComputeDivisor(p);for(let b=0,R=0;b<f;b++){let D=c.slice(R,R+g-p+(b<x?0:1));R+=D.length;const F=Le.reedSolomonComputeRemainder(D,T);b<x&&D.push(0),w.push(D.concat(F))}let E=[];for(let b=0;b<w[0].length;b++)w.forEach((R,D)=>{(b!=g-p||D>=x)&&E.push(R[b])});return s(E.length==v),E}drawCodewords(c){if(c.length!=Math.floor(Le.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let u=0;for(let h=this.size-1;h>=1;h-=2){h==6&&(h=5);for(let f=0;f<this.size;f++)for(let p=0;p<2;p++){const v=h-p,g=(h+1&2)==0?this.size-1-f:f;!this.isFunction[g][v]&&u<c.length*8&&(this.modules[g][v]=r(c[u>>>3],7-(u&7)),u++)}}s(u==c.length*8)}applyMask(c){if(c<0||c>7)throw new RangeError("Mask value out of range");for(let u=0;u<this.size;u++)for(let h=0;h<this.size;h++){let f;switch(c){case 0:f=(h+u)%2==0;break;case 1:f=u%2==0;break;case 2:f=h%3==0;break;case 3:f=(h+u)%3==0;break;case 4:f=(Math.floor(h/3)+Math.floor(u/2))%2==0;break;case 5:f=h*u%2+h*u%3==0;break;case 6:f=(h*u%2+h*u%3)%2==0;break;case 7:f=((h+u)%2+h*u%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[u][h]&&f&&(this.modules[u][h]=!this.modules[u][h])}}getPenaltyScore(){let c=0;for(let p=0;p<this.size;p++){let v=!1,x=0,g=[0,0,0,0,0,0,0];for(let w=0;w<this.size;w++)this.modules[p][w]==v?(x++,x==5?c+=Le.PENALTY_N1:x>5&&c++):(this.finderPenaltyAddHistory(x,g),v||(c+=this.finderPenaltyCountPatterns(g)*Le.PENALTY_N3),v=this.modules[p][w],x=1);c+=this.finderPenaltyTerminateAndCount(v,x,g)*Le.PENALTY_N3}for(let p=0;p<this.size;p++){let v=!1,x=0,g=[0,0,0,0,0,0,0];for(let w=0;w<this.size;w++)this.modules[w][p]==v?(x++,x==5?c+=Le.PENALTY_N1:x>5&&c++):(this.finderPenaltyAddHistory(x,g),v||(c+=this.finderPenaltyCountPatterns(g)*Le.PENALTY_N3),v=this.modules[w][p],x=1);c+=this.finderPenaltyTerminateAndCount(v,x,g)*Le.PENALTY_N3}for(let p=0;p<this.size-1;p++)for(let v=0;v<this.size-1;v++){const x=this.modules[p][v];x==this.modules[p][v+1]&&x==this.modules[p+1][v]&&x==this.modules[p+1][v+1]&&(c+=Le.PENALTY_N2)}let u=0;for(const p of this.modules)u=p.reduce((v,x)=>v+(x?1:0),u);const h=this.size*this.size,f=Math.ceil(Math.abs(u*20-h*10)/h)-1;return s(0<=f&&f<=9),c+=f*Le.PENALTY_N4,s(0<=c&&c<=2568888),c}getAlignmentPatternPositions(){if(this.version==1)return[];{const c=Math.floor(this.version/7)+2,u=this.version==32?26:Math.ceil((this.version*4+4)/(c*2-2))*2;let h=[6];for(let f=this.size-7;h.length<c;f-=u)h.splice(1,0,f);return h}}static getNumRawDataModules(c){if(c<Le.MIN_VERSION||c>Le.MAX_VERSION)throw new RangeError("Version number out of range");let u=(16*c+128)*c+64;if(c>=2){const h=Math.floor(c/7)+2;u-=(25*h-10)*h-55,c>=7&&(u-=36)}return s(208<=u&&u<=29648),u}static getNumDataCodewords(c,u){return Math.floor(Le.getNumRawDataModules(c)/8)-Le.ECC_CODEWORDS_PER_BLOCK[u.ordinal][c]*Le.NUM_ERROR_CORRECTION_BLOCKS[u.ordinal][c]}static reedSolomonComputeDivisor(c){if(c<1||c>255)throw new RangeError("Degree out of range");let u=[];for(let f=0;f<c-1;f++)u.push(0);u.push(1);let h=1;for(let f=0;f<c;f++){for(let p=0;p<u.length;p++)u[p]=Le.reedSolomonMultiply(u[p],h),p+1<u.length&&(u[p]^=u[p+1]);h=Le.reedSolomonMultiply(h,2)}return u}static reedSolomonComputeRemainder(c,u){let h=u.map(f=>0);for(const f of c){const p=f^h.shift();h.push(0),u.forEach((v,x)=>h[x]^=Le.reedSolomonMultiply(v,p))}return h}static reedSolomonMultiply(c,u){if(c>>>8||u>>>8)throw new RangeError("Byte out of range");let h=0;for(let f=7;f>=0;f--)h=h<<1^(h>>>7)*285,h^=(u>>>f&1)*c;return s(h>>>8==0),h}finderPenaltyCountPatterns(c){const u=c[1];s(u<=this.size*3);const h=u>0&&c[2]==u&&c[3]==u*3&&c[4]==u&&c[5]==u;return(h&&c[0]>=u*4&&c[6]>=u?1:0)+(h&&c[6]>=u*4&&c[0]>=u?1:0)}finderPenaltyTerminateAndCount(c,u,h){return c&&(this.finderPenaltyAddHistory(u,h),u=0),u+=this.size,this.finderPenaltyAddHistory(u,h),this.finderPenaltyCountPatterns(h)}finderPenaltyAddHistory(c,u){u[0]==0&&(c+=this.size),u.pop(),u.unshift(c)}};e.MIN_VERSION=1,e.MAX_VERSION=40,e.PENALTY_N1=3,e.PENALTY_N2=3,e.PENALTY_N3=40,e.PENALTY_N4=10,e.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],e.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],t.QrCode=e;function n(a,c,u){if(c<0||c>31||a>>>c)throw new RangeError("Value out of range");for(let h=c-1;h>=0;h--)u.push(a>>>h&1)}function r(a,c){return(a>>>c&1)!=0}function s(a){if(!a)throw new Error("Assertion error")}const i=class St{constructor(c,u,h){if(this.mode=c,this.numChars=u,this.bitData=h,u<0)throw new RangeError("Invalid argument");this.bitData=h.slice()}static makeBytes(c){let u=[];for(const h of c)n(h,8,u);return new St(St.Mode.BYTE,c.length,u)}static makeNumeric(c){if(!St.isNumeric(c))throw new RangeError("String contains non-numeric characters");let u=[];for(let h=0;h<c.length;){const f=Math.min(c.length-h,3);n(parseInt(c.substring(h,h+f),10),f*3+1,u),h+=f}return new St(St.Mode.NUMERIC,c.length,u)}static makeAlphanumeric(c){if(!St.isAlphanumeric(c))throw new RangeError("String contains unencodable characters in alphanumeric mode");let u=[],h;for(h=0;h+2<=c.length;h+=2){let f=St.ALPHANUMERIC_CHARSET.indexOf(c.charAt(h))*45;f+=St.ALPHANUMERIC_CHARSET.indexOf(c.charAt(h+1)),n(f,11,u)}return h<c.length&&n(St.ALPHANUMERIC_CHARSET.indexOf(c.charAt(h)),6,u),new St(St.Mode.ALPHANUMERIC,c.length,u)}static makeSegments(c){return c==""?[]:St.isNumeric(c)?[St.makeNumeric(c)]:St.isAlphanumeric(c)?[St.makeAlphanumeric(c)]:[St.makeBytes(St.toUtf8ByteArray(c))]}static makeEci(c){let u=[];if(c<0)throw new RangeError("ECI assignment value out of range");if(c<128)n(c,8,u);else if(c<16384)n(2,2,u),n(c,14,u);else if(c<1e6)n(6,3,u),n(c,21,u);else throw new RangeError("ECI assignment value out of range");return new St(St.Mode.ECI,0,u)}static isNumeric(c){return St.NUMERIC_REGEX.test(c)}static isAlphanumeric(c){return St.ALPHANUMERIC_REGEX.test(c)}getData(){return this.bitData.slice()}static getTotalBits(c,u){let h=0;for(const f of c){const p=f.mode.numCharCountBits(u);if(f.numChars>=1<<p)return 1/0;h+=4+p+f.bitData.length}return h}static toUtf8ByteArray(c){c=encodeURI(c);let u=[];for(let h=0;h<c.length;h++)c.charAt(h)!="%"?u.push(c.charCodeAt(h)):(u.push(parseInt(c.substring(h+1,h+3),16)),h+=2);return u}};i.NUMERIC_REGEX=/^[0-9]*$/,i.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,i.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:";let o=i;t.QrSegment=i})(ua||(ua={}));(t=>{(e=>{const n=class{constructor(s,i){this.ordinal=s,this.formatBits=i}};n.LOW=new n(0,1),n.MEDIUM=new n(1,0),n.QUARTILE=new n(2,3),n.HIGH=new n(3,2),e.Ecc=n})(t.QrCode||(t.QrCode={}))})(ua||(ua={}));(t=>{(e=>{const n=class{constructor(s,i){this.modeBits=s,this.numBitsCharCount=i}numCharCountBits(s){return this.numBitsCharCount[Math.floor((s+7)/17)]}};n.NUMERIC=new n(1,[10,12,14]),n.ALPHANUMERIC=new n(2,[9,11,13]),n.BYTE=new n(4,[8,16,16]),n.KANJI=new n(8,[8,10,12]),n.ECI=new n(7,[0,0,0]),e.Mode=n})(t.QrSegment||(t.QrSegment={}))})(ua||(ua={}));var ol=ua;/**
 * @license qrcode.react
 * Copyright (c) Paul O'Shannessy
 * SPDX-License-Identifier: ISC
 */var _q={L:ol.QrCode.Ecc.LOW,M:ol.QrCode.Ecc.MEDIUM,Q:ol.QrCode.Ecc.QUARTILE,H:ol.QrCode.Ecc.HIGH},ON=128,LN="L",VN="#FFFFFF",FN="#000000",BN=!1,UN=1,Tq=4,Aq=0,Sq=.1;function qN(t,e=0){const n=[];return t.forEach(function(r,s){let i=null;r.forEach(function(o,a){if(!o&&i!==null){n.push(`M${i+e} ${s+e}h${a-i}v1H${i+e}z`),i=null;return}if(a===r.length-1){if(!o)return;i===null?n.push(`M${a+e},${s+e} h1v1H${a+e}z`):n.push(`M${i+e},${s+e} h${a+1-i}v1H${i+e}z`);return}o&&i===null&&(i=a)})}),n.join("")}function GN(t,e){return t.slice().map((n,r)=>r<e.y||r>=e.y+e.h?n:n.map((s,i)=>i<e.x||i>=e.x+e.w?s:!1))}function Iq(t,e,n,r){if(r==null)return null;const s=t.length+n*2,i=Math.floor(e*Sq),o=s/e,a=(r.width||i)*o,c=(r.height||i)*o,u=r.x==null?t.length/2-a/2:r.x*o,h=r.y==null?t.length/2-c/2:r.y*o,f=r.opacity==null?1:r.opacity;let p=null;if(r.excavate){let x=Math.floor(u),g=Math.floor(h),w=Math.ceil(a+u-x),T=Math.ceil(c+h-g);p={x,y:g,w,h:T}}const v=r.crossOrigin;return{x:u,y:h,h:c,w:a,excavation:p,opacity:f,crossOrigin:v}}function Rq(t,e){return e!=null?Math.max(Math.floor(e),0):t?Tq:Aq}function $N({value:t,level:e,minVersion:n,includeMargin:r,marginSize:s,imageSettings:i,size:o,boostLevel:a}){let c=Y.useMemo(()=>{const x=(Array.isArray(t)?t:[t]).reduce((g,w)=>(g.push(...ol.QrSegment.makeSegments(w)),g),[]);return ol.QrCode.encodeSegments(x,_q[e],n,void 0,void 0,a)},[t,e,n,a]);const{cells:u,margin:h,numCells:f,calculatedImageSettings:p}=Y.useMemo(()=>{let v=c.getModules();const x=Rq(r,s),g=v.length+x*2,w=Iq(v,o,x,i);return{cells:v,margin:x,numCells:g,calculatedImageSettings:w}},[c,o,i,r,s]);return{qrcode:c,margin:h,cells:u,numCells:f,calculatedImageSettings:p}}var Nq=function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0}(),Pq=Y.forwardRef(function(e,n){const r=e,{value:s,size:i=ON,level:o=LN,bgColor:a=VN,fgColor:c=FN,includeMargin:u=BN,minVersion:h=UN,boostLevel:f,marginSize:p,imageSettings:v}=r,g=zy(r,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","marginSize","imageSettings"]),{style:w}=g,T=zy(g,["style"]),E=v==null?void 0:v.src,b=Y.useRef(null),R=Y.useRef(null),D=Y.useCallback(W=>{b.current=W,typeof n=="function"?n(W):n&&(n.current=W)},[n]),[F,I]=Y.useState(!1),{margin:S,cells:P,numCells:k,calculatedImageSettings:O}=$N({value:s,level:o,minVersion:h,boostLevel:f,includeMargin:u,marginSize:p,imageSettings:v,size:i});Y.useEffect(()=>{if(b.current!=null){const W=b.current,H=W.getContext("2d");if(!H)return;let J=P;const oe=R.current,q=O!=null&&oe!==null&&oe.complete&&oe.naturalHeight!==0&&oe.naturalWidth!==0;q&&O.excavation!=null&&(J=GN(P,O.excavation));const z=window.devicePixelRatio||1;W.height=W.width=i*z;const se=i/k*z;H.scale(se,se),H.fillStyle=a,H.fillRect(0,0,k,k),H.fillStyle=c,Nq?H.fill(new Path2D(qN(J,S))):P.forEach(function(ne,le){ne.forEach(function(ue,Se){ue&&H.fillRect(Se+S,le+S,1,1)})}),O&&(H.globalAlpha=O.opacity),q&&H.drawImage(oe,O.x+S,O.y+S,O.w,O.h)}}),Y.useEffect(()=>{I(!1)},[E]);const L=$y({height:i,width:i},w);let j=null;return E!=null&&(j=Y.createElement("img",{src:E,key:E,style:{display:"none"},onLoad:()=>{I(!0)},ref:R,crossOrigin:O==null?void 0:O.crossOrigin})),Y.createElement(Y.Fragment,null,Y.createElement("canvas",$y({style:L,height:i,width:i,ref:D,role:"img"},T)),j)});Pq.displayName="QRCodeCanvas";var zN=Y.forwardRef(function(e,n){const r=e,{value:s,size:i=ON,level:o=LN,bgColor:a=VN,fgColor:c=FN,includeMargin:u=BN,minVersion:h=UN,boostLevel:f,title:p,marginSize:v,imageSettings:x}=r,g=zy(r,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","title","marginSize","imageSettings"]),{margin:w,cells:T,numCells:E,calculatedImageSettings:b}=$N({value:s,level:o,minVersion:h,boostLevel:f,includeMargin:u,marginSize:v,imageSettings:x,size:i});let R=T,D=null;x!=null&&b!=null&&(b.excavation!=null&&(R=GN(T,b.excavation)),D=Y.createElement("image",{href:x.src,height:b.h,width:b.w,x:b.x+w,y:b.y+w,preserveAspectRatio:"none",opacity:b.opacity,crossOrigin:b.crossOrigin}));const F=qN(R,w);return Y.createElement("svg",$y({height:i,width:i,viewBox:`0 0 ${E} ${E}`,ref:n,role:"img"},g),!!p&&Y.createElement("title",null,p),Y.createElement("path",{fill:a,d:`M0,0 h${E}v${E}H0z`,shapeRendering:"crispEdges"}),Y.createElement("path",{fill:c,d:F,shapeRendering:"crispEdges"}),D)});zN.displayName="QRCodeSVG";const WN=({qrData:t,isOpen:e,onClose:n})=>{if(!e)return null;const r=JSON.stringify(t);return l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:l.jsxs("div",{className:"bg-gray-800 border border-gray-700 rounded-xl max-w-sm w-full",children:[l.jsxs("div",{className:"p-4 border-b border-gray-700 flex items-center",children:[l.jsx("h3",{className:"text-lg font-semibold text-white flex-1 text-center truncate",children:t.offerName}),l.jsx("button",{onClick:n,className:"text-gray-400 hover:text-white transition-colors ml-4",children:l.jsx(Vl,{className:"w-5 h-5"})})]}),l.jsx("div",{className:"p-6 flex justify-center",children:l.jsx("div",{className:"p-4 bg-white rounded-lg",children:l.jsx(zN,{value:r,size:200,level:"M",includeMargin:!0})})})]})})},kq=({user:t,offers:e})=>{var L,j;const[n,r]=y.useState(!1),[s,i]=y.useState(null),[o,a]=y.useState({inProgress:!0,completed:!0}),[c,u]=y.useState(!1),[h,f]=y.useState(!1),p=t.completedRewards||[],v=p.filter(W=>{var H,J;return((H=W.scanHistory)==null?void 0:H.length)<((J=W.offerSnapshot)==null?void 0:J.stampRequirement)}),x=p.filter(W=>{var H,J;return((H=W.scanHistory)==null?void 0:H.length)>=((J=W.offerSnapshot)==null?void 0:J.stampRequirement)}),g=x.filter(W=>!W.claimedAt),w=x.filter(W=>!!W.claimedAt),T=(W,H)=>{const J=W.createdAt.toDate().getTime();return H.createdAt.toDate().getTime()-J},E=[...v].sort(T),b=[...g].sort(T),R=[...w].sort(T),D=3,F=c?E:E.slice(0,D),I=c?b:b.slice(0,D),S=h?R:R.slice(0,D),P=W=>{i(W),r(!0)},k=()=>{r(!1),i(null)},O=W=>{a(H=>({...H,[W]:!H[W]}))};return l.jsxs("div",{className:"space-y-6",children:[v.length>0&&l.jsxs("div",{className:"bg-gradient-to-br from-blue-900/20 via-blue-800/10 to-blue-900/20 border border-blue-700/30 rounded-xl p-6 hover:bg-blue-900/30 transition-all duration-300",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4 cursor-pointer hover:bg-blue-900/30 rounded-lg p-2 transition-colors duration-200",onClick:()=>O("inProgress"),children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx(dd,{className:"w-5 h-5 text-blue-400 mr-2 animate-pulse"}),l.jsxs("h3",{className:"text-lg font-semibold text-blue-300",children:["Rewards in Progress (",v.length,")"]})]}),o.inProgress?l.jsx(np,{className:"w-5 h-5 text-blue-400"}):l.jsx(ju,{className:"w-5 h-5 text-blue-400"})]}),o.inProgress&&l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"space-y-4",children:F.map(W=>{var z,se,ne,le;const H=((z=W.scanHistory)==null?void 0:z.length)||0,J=((se=W.offerSnapshot)==null?void 0:se.stampRequirement)||0,oe=Math.min(H/J*100,100),q=Math.max(0,J-H);return l.jsxs("div",{className:"bg-blue-900/10 border border-blue-600/20 rounded-lg p-4 hover:bg-blue-900/20 hover:border-blue-500/30 transition-all duration-300 hover:scale-[1.02] hover:shadow-md group",children:[l.jsxs("div",{className:"flex items-start justify-between mb-3",children:[l.jsxs("div",{className:"flex-1",children:[l.jsx("h4",{className:"text-white font-medium text-sm mb-1 group-hover:text-blue-200 transition-colors duration-200",children:((ne=W.offerSnapshot)==null?void 0:ne.offerName)||"Loyalty Reward"}),l.jsx("p",{className:"text-gray-300 text-xs mb-2 group-hover:text-gray-200 transition-colors duration-200",children:((le=W.offerSnapshot)==null?void 0:le.description)||"Collect stamps to earn this reward"}),l.jsx("p",{className:"text-blue-300 text-xs font-medium",children:W.rewardDescription})]}),l.jsxs("div",{className:"text-right",children:[l.jsxs("div",{className:"text-sm text-white font-medium",children:[H," / ",J]}),l.jsx("div",{className:"text-xs text-gray-400",children:"stamps collected"})]})]}),l.jsx("div",{className:"w-full bg-gray-600 rounded-full h-2 mb-3 overflow-hidden",children:l.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-blue-400 h-2 rounded-full transition-all duration-1000 ease-out shadow-sm",style:{width:`${oe}%`}})}),l.jsxs("div",{className:"flex items-center justify-between text-xs",children:[l.jsx("span",{className:"text-gray-400",children:q>0?`${q} more stamps needed`:" Ready to redeem!"}),l.jsxs("span",{className:"text-blue-300 font-medium",children:["Started"," ",W.createdAt.toDate().toLocaleDateString()]})]})]},W.rewardId)})}),v.length>D&&l.jsx("div",{className:"text-center pt-4",children:l.jsx(Ve,{onClick:()=>u(!c),variant:"outline",size:"sm",className:"border-blue-600 text-blue-400 hover:bg-blue-600 hover:text-white transition-colors duration-200",children:c?"Show Less":`Show All ${v.length} In-Progress Rewards`})})]})]}),(g.length>0||w.length>0)&&l.jsxs("div",{className:"bg-gradient-to-br from-green-900/20 via-green-800/10 to-green-900/20 border border-green-700/30 rounded-xl p-6 hover:bg-green-900/30 transition-all duration-300",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4 cursor-pointer hover:bg-green-900/30 rounded-lg p-2 transition-colors duration-200",onClick:()=>O("completed"),children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx(iy,{className:"w-5 h-5 text-green-400 mr-2 animate-pulse"}),l.jsxs("h3",{className:"text-lg font-semibold text-green-300",children:["Completed Rewards (",g.length+w.length,")"]})]}),o.completed?l.jsx(np,{className:"w-5 h-5 text-green-400"}):l.jsx(ju,{className:"w-5 h-5 text-green-400"})]}),o.completed&&l.jsxs(l.Fragment,{children:[g.length>0&&l.jsxs("div",{className:"mb-6",children:[l.jsxs("h4",{className:"text-md font-medium text-green-200 mb-3 flex items-center",children:[l.jsx(sr,{className:"w-4 h-4 mr-2 text-green-400"}),"Ready to Redeem (",g.length,")"]}),l.jsx("div",{className:"space-y-4",children:I.map(W=>{var J,oe,q;const H=!!W.claimedAt;return l.jsxs("div",{className:`border rounded-lg p-4 transition-all duration-300 hover:scale-[1.02] hover:shadow-md group ${H?"bg-gray-800/30 border-gray-600/30":"bg-green-900/10 border-green-600/20 hover:bg-green-900/20 hover:border-green-500/30"}`,children:[l.jsxs("div",{className:"flex items-start justify-between mb-3",children:[l.jsxs("div",{className:"flex-1",children:[l.jsx("h4",{className:"text-white font-medium text-sm mb-1 group-hover:text-green-200 transition-colors duration-200",children:((J=W.offerSnapshot)==null?void 0:J.offerName)||"Loyalty Reward"}),l.jsx("p",{className:"text-gray-300 text-xs mb-2 group-hover:text-gray-200 transition-colors duration-200",children:((oe=W.offerSnapshot)==null?void 0:oe.description)||"Reward description"}),l.jsx("p",{className:"text-green-300 text-xs font-medium",children:W.rewardDescription})]}),l.jsx("div",{className:"text-right",children:l.jsx("div",{className:`text-xs px-2 py-1 rounded-full font-medium ${H?"bg-gray-700 text-gray-300":"bg-green-700 text-green-300 animate-pulse"}`,children:H?"REDEEMED":"AVAILABLE"})})]}),l.jsxs("div",{className:"flex items-center justify-between text-xs",children:[l.jsxs("span",{className:"text-gray-400",children:["Earned"," ",W.createdAt.toDate().toLocaleDateString()]}),H&&l.jsxs("span",{className:"text-gray-400",children:["Redeemed"," ",(q=W.claimedAt)==null?void 0:q.toDate().toLocaleDateString()]})]}),!H&&l.jsx("div",{className:"mt-3",children:l.jsxs(Ve,{onClick:()=>P(W),className:"w-full bg-gradient-to-r from-green-600 to-green-700 hover:from-green-700 hover:to-green-800 text-white font-medium py-2 transition-all duration-300 hover:scale-105 hover:shadow-lg hover:shadow-green-500/25",children:[l.jsx(sr,{className:"w-4 h-4 mr-2"}),"Redeem Reward"]})})]},W.rewardId)})})]}),w.length>0&&l.jsxs("div",{children:[l.jsxs("h4",{className:"text-md font-medium text-gray-300 mb-3 flex items-center",children:[l.jsx(iy,{className:"w-4 h-4 mr-2 text-gray-400"}),"Previously Redeemed (",w.length,")"]}),l.jsx("div",{className:"space-y-4",children:S.map(W=>{var H,J,oe;return l.jsxs("div",{className:"bg-gray-800/30 border border-gray-600/30 rounded-lg p-4 transition-all duration-300 hover:scale-[1.02] hover:shadow-md group",children:[l.jsxs("div",{className:"flex items-start justify-between mb-3",children:[l.jsxs("div",{className:"flex-1",children:[l.jsx("h4",{className:"text-white font-medium text-sm mb-1 group-hover:text-gray-200 transition-colors duration-200",children:((H=W.offerSnapshot)==null?void 0:H.offerName)||"Loyalty Reward"}),l.jsx("p",{className:"text-gray-300 text-xs mb-2 group-hover:text-gray-200 transition-colors duration-200",children:((J=W.offerSnapshot)==null?void 0:J.description)||"Reward description"}),l.jsx("p",{className:"text-gray-400 text-xs font-medium",children:W.rewardDescription})]}),l.jsx("div",{className:"text-right",children:l.jsx("div",{className:"text-xs px-2 py-1 rounded-full font-medium bg-gray-700 text-gray-300",children:"REDEEMED"})})]}),l.jsxs("div",{className:"flex items-center justify-between text-xs",children:[l.jsxs("span",{className:"text-gray-400",children:["Earned"," ",W.createdAt.toDate().toLocaleDateString()]}),l.jsxs("span",{className:"text-gray-400",children:["Redeemed"," ",(oe=W.claimedAt)==null?void 0:oe.toDate().toLocaleDateString()]})]})]},W.rewardId)})})]}),(g.length>D||w.length>D)&&l.jsx("div",{className:"text-center pt-4",children:l.jsx(Ve,{onClick:()=>f(!h),variant:"outline",size:"sm",className:"border-green-600 text-green-400 hover:bg-green-600 hover:text-white transition-colors duration-200",children:h?"Show Less":`Show All ${g.length+w.length} Completed Rewards`})})]})]}),p.length===0&&l.jsx("div",{className:"text-center py-12",children:l.jsxs("div",{className:"bg-gray-800/30 border border-gray-700/30 rounded-xl p-8 hover:bg-gray-800/40 transition-all duration-300",children:[l.jsx(sr,{className:"w-16 h-16 text-gray-500 mx-auto mb-4"}),l.jsx("h3",{className:"text-xl font-semibold text-gray-300 mb-2",children:"No Rewards Yet"}),l.jsx("p",{className:"text-gray-500 text-sm",children:"Start collecting stamps from the Offers tab to earn your first reward!"})]})}),n&&s&&l.jsx(WN,{qrData:{userId:t.id,userEmail:t.email,userName:t.name,offerId:((L=s.offerSnapshot)==null?void 0:L.offerId)||"",offerName:((j=s.offerSnapshot)==null?void 0:j.offerName)||"Reward Redemption",timestamp:new Date().toISOString(),rewardId:s.rewardId,action:"redeem_reward"},isOpen:n,onClose:k})]})},RC=[{key:"profile",label:"Edit Profile",route:"profile",colorClass:"border-cyan-500 text-cyan-400 hover:bg-cyan-500 hover:text-white",roles:["customer","admin","super_admin"],icon:Ll},{key:"scan",label:"Scan",route:"/scan",colorClass:"border-green-500 text-green-400 hover:bg-green-500 hover:text-white",roles:["admin","super_admin"],icon:nO},{key:"settings",label:"Settings",route:"/settings",colorClass:"border-blue-500 text-blue-400 hover:bg-blue-500 hover:text-white",roles:["super_admin"],icon:mx},{key:"users",label:"Users",route:"/users",colorClass:"border-purple-500 text-purple-400 hover:bg-purple-500 hover:text-white",roles:["super_admin"],icon:na},{key:"logout",label:"Logout",route:"logout",colorClass:"border-red-500 text-red-400 hover:bg-red-500 hover:text-white",roles:["customer","admin","super_admin"],icon:ZA}];var Mq=y.createContext(void 0);function km(t){const e=y.useContext(Mq);return t||e||"ltr"}var Xg=0;function QN(){y.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??NC()),document.body.insertAdjacentElement("beforeend",t[1]??NC()),Xg++,()=>{Xg===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Xg--}},[])}function NC(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var Zg="focusScope.autoFocusOnMount",e0="focusScope.autoFocusOnUnmount",PC={bubbles:!1,cancelable:!0},jq="FocusScope",Fw=y.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...o}=t,[a,c]=y.useState(null),u=bn(s),h=bn(i),f=y.useRef(null),p=it(e,g=>c(g)),v=y.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;y.useEffect(()=>{if(r){let g=function(b){if(v.paused||!a)return;const R=b.target;a.contains(R)?f.current=R:gi(f.current,{select:!0})},w=function(b){if(v.paused||!a)return;const R=b.relatedTarget;R!==null&&(a.contains(R)||gi(f.current,{select:!0}))},T=function(b){if(document.activeElement===document.body)for(const D of b)D.removedNodes.length>0&&gi(a)};document.addEventListener("focusin",g),document.addEventListener("focusout",w);const E=new MutationObserver(T);return a&&E.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",g),document.removeEventListener("focusout",w),E.disconnect()}}},[r,a,v.paused]),y.useEffect(()=>{if(a){MC.add(v);const g=document.activeElement;if(!a.contains(g)){const T=new CustomEvent(Zg,PC);a.addEventListener(Zg,u),a.dispatchEvent(T),T.defaultPrevented||(Dq(Bq(YN(a)),{select:!0}),document.activeElement===g&&gi(a))}return()=>{a.removeEventListener(Zg,u),setTimeout(()=>{const T=new CustomEvent(e0,PC);a.addEventListener(e0,h),a.dispatchEvent(T),T.defaultPrevented||gi(g??document.body,{select:!0}),a.removeEventListener(e0,h),MC.remove(v)},0)}}},[a,u,h,v]);const x=y.useCallback(g=>{if(!n&&!r||v.paused)return;const w=g.key==="Tab"&&!g.altKey&&!g.ctrlKey&&!g.metaKey,T=document.activeElement;if(w&&T){const E=g.currentTarget,[b,R]=Oq(E);b&&R?!g.shiftKey&&T===R?(g.preventDefault(),n&&gi(b,{select:!0})):g.shiftKey&&T===b&&(g.preventDefault(),n&&gi(R,{select:!0})):T===E&&g.preventDefault()}},[n,r,v.paused]);return l.jsx(Be.div,{tabIndex:-1,...o,ref:p,onKeyDown:x})});Fw.displayName=jq;function Dq(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(gi(r,{select:e}),document.activeElement!==n)return}function Oq(t){const e=YN(t),n=kC(e,t),r=kC(e.reverse(),t);return[n,r]}function YN(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function kC(t,e){for(const n of t)if(!Lq(n,{upTo:e}))return n}function Lq(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function Vq(t){return t instanceof HTMLInputElement&&"select"in t}function gi(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&Vq(t)&&e&&t.select()}}var MC=Fq();function Fq(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=jC(t,e),t.unshift(e)},remove(e){var n;t=jC(t,e),(n=t[0])==null||n.resume()}}}function jC(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function Bq(t){return t.filter(e=>e.tagName!=="A")}function Uq(t,e=[]){let n=[];function r(i,o){const a=y.createContext(o),c=n.length;n=[...n,o];function u(f){const{scope:p,children:v,...x}=f,g=(p==null?void 0:p[t][c])||a,w=y.useMemo(()=>x,Object.values(x));return l.jsx(g.Provider,{value:w,children:v})}function h(f,p){const v=(p==null?void 0:p[t][c])||a,x=y.useContext(v);if(x)return x;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return u.displayName=i+"Provider",[u,h]}const s=()=>{const i=n.map(o=>y.createContext(o));return function(a){const c=(a==null?void 0:a[t])||i;return y.useMemo(()=>({[`__scope${t}`]:{...a,[t]:c}}),[a,c])}};return s.scopeName=t,[r,qq(s,...e)]}function qq(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:c,scopeName:u})=>{const f=c(i)[`__scope${u}`];return{...a,...f}},{});return y.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var t0="rovingFocusGroup.onEntryFocus",Gq={bubbles:!1,cancelable:!0},Mm="RovingFocusGroup",[Wy,KN,$q]=ad(Mm),[zq,jm]=Uq(Mm,[$q]),[Wq,Qq]=zq(Mm),HN=y.forwardRef((t,e)=>l.jsx(Wy.Provider,{scope:t.__scopeRovingFocusGroup,children:l.jsx(Wy.Slot,{scope:t.__scopeRovingFocusGroup,children:l.jsx(Yq,{...t,ref:e})})}));HN.displayName=Mm;var Yq=y.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:h=!1,...f}=t,p=y.useRef(null),v=it(e,p),x=km(i),[g=null,w]=Mu({prop:o,defaultProp:a,onChange:c}),[T,E]=y.useState(!1),b=bn(u),R=KN(n),D=y.useRef(!1),[F,I]=y.useState(0);return y.useEffect(()=>{const S=p.current;if(S)return S.addEventListener(t0,b),()=>S.removeEventListener(t0,b)},[b]),l.jsx(Wq,{scope:n,orientation:r,dir:x,loop:s,currentTabStopId:g,onItemFocus:y.useCallback(S=>w(S),[w]),onItemShiftTab:y.useCallback(()=>E(!0),[]),onFocusableItemAdd:y.useCallback(()=>I(S=>S+1),[]),onFocusableItemRemove:y.useCallback(()=>I(S=>S-1),[]),children:l.jsx(Be.div,{tabIndex:T||F===0?-1:0,"data-orientation":r,...f,ref:v,style:{outline:"none",...t.style},onMouseDown:pe(t.onMouseDown,()=>{D.current=!0}),onFocus:pe(t.onFocus,S=>{const P=!D.current;if(S.target===S.currentTarget&&P&&!T){const k=new CustomEvent(t0,Gq);if(S.currentTarget.dispatchEvent(k),!k.defaultPrevented){const O=R().filter(J=>J.focusable),L=O.find(J=>J.active),j=O.find(J=>J.id===g),H=[L,j,...O].filter(Boolean).map(J=>J.ref.current);ZN(H,h)}}D.current=!1}),onBlur:pe(t.onBlur,()=>E(!1))})})}),JN="RovingFocusGroupItem",XN=y.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:i,...o}=t,a=Ko(),c=i||a,u=Qq(JN,n),h=u.currentTabStopId===c,f=KN(n),{onFocusableItemAdd:p,onFocusableItemRemove:v}=u;return y.useEffect(()=>{if(r)return p(),()=>v()},[r,p,v]),l.jsx(Wy.ItemSlot,{scope:n,id:c,focusable:r,active:s,children:l.jsx(Be.span,{tabIndex:h?0:-1,"data-orientation":u.orientation,...o,ref:e,onMouseDown:pe(t.onMouseDown,x=>{r?u.onItemFocus(c):x.preventDefault()}),onFocus:pe(t.onFocus,()=>u.onItemFocus(c)),onKeyDown:pe(t.onKeyDown,x=>{if(x.key==="Tab"&&x.shiftKey){u.onItemShiftTab();return}if(x.target!==x.currentTarget)return;const g=Jq(x,u.orientation,u.dir);if(g!==void 0){if(x.metaKey||x.ctrlKey||x.altKey||x.shiftKey)return;x.preventDefault();let T=f().filter(E=>E.focusable).map(E=>E.ref.current);if(g==="last")T.reverse();else if(g==="prev"||g==="next"){g==="prev"&&T.reverse();const E=T.indexOf(x.currentTarget);T=u.loop?Xq(T,E+1):T.slice(E+1)}setTimeout(()=>ZN(T))}})})})});XN.displayName=JN;var Kq={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Hq(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function Jq(t,e,n){const r=Hq(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return Kq[r]}function ZN(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function Xq(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var eP=HN,tP=XN,Zq=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Ba=new WeakMap,$h=new WeakMap,zh={},n0=0,nP=function(t){return t&&(t.host||nP(t.parentNode))},eG=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=nP(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},tG=function(t,e,n,r){var s=eG(e,Array.isArray(t)?t:[t]);zh[n]||(zh[n]=new WeakMap);var i=zh[n],o=[],a=new Set,c=new Set(s),u=function(f){!f||a.has(f)||(a.add(f),u(f.parentNode))};s.forEach(u);var h=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(p){if(a.has(p))h(p);else try{var v=p.getAttribute(r),x=v!==null&&v!=="false",g=(Ba.get(p)||0)+1,w=(i.get(p)||0)+1;Ba.set(p,g),i.set(p,w),o.push(p),g===1&&x&&$h.set(p,!0),w===1&&p.setAttribute(n,"true"),x||p.setAttribute(r,"true")}catch(T){console.error("aria-hidden: cannot operate on ",p,T)}})};return h(e),a.clear(),n0++,function(){o.forEach(function(f){var p=Ba.get(f)-1,v=i.get(f)-1;Ba.set(f,p),i.set(f,v),p||($h.has(f)||f.removeAttribute(r),$h.delete(f)),v||f.removeAttribute(n)}),n0--,n0||(Ba=new WeakMap,Ba=new WeakMap,$h=new WeakMap,zh={})}},rP=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),s=Zq(t);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live]"))),tG(r,s,n,"aria-hidden")):function(){return null}},Cf="right-scroll-bar-position",_f="width-before-scroll-bar",nG="with-scroll-bars-hidden",rG="--removed-body-scroll-bar-size";function r0(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function sG(t,e){var n=y.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=e,n.facade}var iG=typeof window<"u"?y.useLayoutEffect:y.useEffect,DC=new WeakMap;function oG(t,e){var n=sG(null,function(r){return t.forEach(function(s){return r0(s,r)})});return iG(function(){var r=DC.get(n);if(r){var s=new Set(r),i=new Set(t),o=n.current;s.forEach(function(a){i.has(a)||r0(a,null)}),i.forEach(function(a){s.has(a)||r0(a,o)})}DC.set(n,t)},[t]),n}function aG(t){return t}function lG(t,e){e===void 0&&(e=aG);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(i){var o=e(i,r);return n.push(o),function(){n=n.filter(function(a){return a!==o})}},assignSyncMedium:function(i){for(r=!0;n.length;){var o=n;n=[],o.forEach(i)}n={push:function(a){return i(a)},filter:function(){return n}}},assignMedium:function(i){r=!0;var o=[];if(n.length){var a=n;n=[],a.forEach(i),o=n}var c=function(){var h=o;o=[],h.forEach(i)},u=function(){return Promise.resolve().then(c)};u(),n={push:function(h){o.push(h),u()},filter:function(h){return o=o.filter(h),n}}}};return s}function cG(t){t===void 0&&(t={});var e=lG(null);return e.options=ss({async:!0,ssr:!1},t),e}var sP=function(t){var e=t.sideCar,n=bd(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return y.createElement(r,ss({},n))};sP.isSideCarExport=!0;function uG(t,e){return t.useMedium(e),sP}var iP=cG(),s0=function(){},Dm=y.forwardRef(function(t,e){var n=y.useRef(null),r=y.useState({onScrollCapture:s0,onWheelCapture:s0,onTouchMoveCapture:s0}),s=r[0],i=r[1],o=t.forwardProps,a=t.children,c=t.className,u=t.removeScrollBar,h=t.enabled,f=t.shards,p=t.sideCar,v=t.noIsolation,x=t.inert,g=t.allowPinchZoom,w=t.as,T=w===void 0?"div":w,E=t.gapMode,b=bd(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),R=p,D=oG([n,e]),F=ss(ss({},b),s);return y.createElement(y.Fragment,null,h&&y.createElement(R,{sideCar:iP,removeScrollBar:u,shards:f,noIsolation:v,inert:x,setCallbacks:i,allowPinchZoom:!!g,lockRef:n,gapMode:E}),o?y.cloneElement(y.Children.only(a),ss(ss({},F),{ref:D})):y.createElement(T,ss({},F,{className:c,ref:D}),a))});Dm.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Dm.classNames={fullWidth:_f,zeroRight:Cf};var dG=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function hG(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=dG();return e&&t.setAttribute("nonce",e),t}function fG(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function pG(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var mG=function(){var t=0,e=null;return{add:function(n){t==0&&(e=hG())&&(fG(e,n),pG(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},gG=function(){var t=mG();return function(e,n){y.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},oP=function(){var t=gG(),e=function(n){var r=n.styles,s=n.dynamic;return t(r,s),null};return e},yG={left:0,top:0,right:0,gap:0},i0=function(t){return parseInt(t||"",10)||0},vG=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],s=e[t==="padding"?"paddingRight":"marginRight"];return[i0(n),i0(r),i0(s)]},xG=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return yG;var e=vG(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},wG=oP(),xl="data-scroll-locked",EG=function(t,e,n,r){var s=t.left,i=t.top,o=t.right,a=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(nG,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(xl,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Cf,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(_f,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Cf," .").concat(Cf,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(_f," .").concat(_f,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(xl,`] {
    `).concat(rG,": ").concat(a,`px;
  }
`)},OC=function(){var t=parseInt(document.body.getAttribute(xl)||"0",10);return isFinite(t)?t:0},bG=function(){y.useEffect(function(){return document.body.setAttribute(xl,(OC()+1).toString()),function(){var t=OC()-1;t<=0?document.body.removeAttribute(xl):document.body.setAttribute(xl,t.toString())}},[])},CG=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,s=r===void 0?"margin":r;bG();var i=y.useMemo(function(){return xG(s)},[s]);return y.createElement(wG,{styles:EG(i,!e,s,n?"":"!important")})},Qy=!1;if(typeof window<"u")try{var Wh=Object.defineProperty({},"passive",{get:function(){return Qy=!0,!0}});window.addEventListener("test",Wh,Wh),window.removeEventListener("test",Wh,Wh)}catch{Qy=!1}var Ua=Qy?{passive:!1}:!1,_G=function(t){return t.tagName==="TEXTAREA"},aP=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!_G(t)&&n[e]==="visible")},TG=function(t){return aP(t,"overflowY")},AG=function(t){return aP(t,"overflowX")},LC=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=lP(t,r);if(s){var i=cP(t,r),o=i[1],a=i[2];if(o>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},SG=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},IG=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},lP=function(t,e){return t==="v"?TG(e):AG(e)},cP=function(t,e){return t==="v"?SG(e):IG(e)},RG=function(t,e){return t==="h"&&e==="rtl"?-1:1},NG=function(t,e,n,r,s){var i=RG(t,window.getComputedStyle(e).direction),o=i*r,a=n.target,c=e.contains(a),u=!1,h=o>0,f=0,p=0;do{var v=cP(t,a),x=v[0],g=v[1],w=v[2],T=g-w-i*x;(x||T)&&lP(t,a)&&(f+=T,p+=x),a instanceof ShadowRoot?a=a.host:a=a.parentNode}while(!c&&a!==document.body||c&&(e.contains(a)||e===a));return(h&&(Math.abs(f)<1||!s)||!h&&(Math.abs(p)<1||!s))&&(u=!0),u},Qh=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},VC=function(t){return[t.deltaX,t.deltaY]},FC=function(t){return t&&"current"in t?t.current:t},PG=function(t,e){return t[0]===e[0]&&t[1]===e[1]},kG=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},MG=0,qa=[];function jG(t){var e=y.useRef([]),n=y.useRef([0,0]),r=y.useRef(),s=y.useState(MG++)[0],i=y.useState(oP)[0],o=y.useRef(t);y.useEffect(function(){o.current=t},[t]),y.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var g=P5([t.lockRef.current],(t.shards||[]).map(FC),!0).filter(Boolean);return g.forEach(function(w){return w.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),g.forEach(function(w){return w.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var a=y.useCallback(function(g,w){if("touches"in g&&g.touches.length===2||g.type==="wheel"&&g.ctrlKey)return!o.current.allowPinchZoom;var T=Qh(g),E=n.current,b="deltaX"in g?g.deltaX:E[0]-T[0],R="deltaY"in g?g.deltaY:E[1]-T[1],D,F=g.target,I=Math.abs(b)>Math.abs(R)?"h":"v";if("touches"in g&&I==="h"&&F.type==="range")return!1;var S=LC(I,F);if(!S)return!0;if(S?D=I:(D=I==="v"?"h":"v",S=LC(I,F)),!S)return!1;if(!r.current&&"changedTouches"in g&&(b||R)&&(r.current=D),!D)return!0;var P=r.current||D;return NG(P,w,g,P==="h"?b:R,!0)},[]),c=y.useCallback(function(g){var w=g;if(!(!qa.length||qa[qa.length-1]!==i)){var T="deltaY"in w?VC(w):Qh(w),E=e.current.filter(function(D){return D.name===w.type&&(D.target===w.target||w.target===D.shadowParent)&&PG(D.delta,T)})[0];if(E&&E.should){w.cancelable&&w.preventDefault();return}if(!E){var b=(o.current.shards||[]).map(FC).filter(Boolean).filter(function(D){return D.contains(w.target)}),R=b.length>0?a(w,b[0]):!o.current.noIsolation;R&&w.cancelable&&w.preventDefault()}}},[]),u=y.useCallback(function(g,w,T,E){var b={name:g,delta:w,target:T,should:E,shadowParent:DG(T)};e.current.push(b),setTimeout(function(){e.current=e.current.filter(function(R){return R!==b})},1)},[]),h=y.useCallback(function(g){n.current=Qh(g),r.current=void 0},[]),f=y.useCallback(function(g){u(g.type,VC(g),g.target,a(g,t.lockRef.current))},[]),p=y.useCallback(function(g){u(g.type,Qh(g),g.target,a(g,t.lockRef.current))},[]);y.useEffect(function(){return qa.push(i),t.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:p}),document.addEventListener("wheel",c,Ua),document.addEventListener("touchmove",c,Ua),document.addEventListener("touchstart",h,Ua),function(){qa=qa.filter(function(g){return g!==i}),document.removeEventListener("wheel",c,Ua),document.removeEventListener("touchmove",c,Ua),document.removeEventListener("touchstart",h,Ua)}},[]);var v=t.removeScrollBar,x=t.inert;return y.createElement(y.Fragment,null,x?y.createElement(i,{styles:kG(s)}):null,v?y.createElement(CG,{gapMode:t.gapMode}):null)}function DG(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const OG=uG(iP,jG);var Bw=y.forwardRef(function(t,e){return y.createElement(Dm,ss({},t,{ref:e,sideCar:OG}))});Bw.classNames=Dm.classNames;var Yy=["Enter"," "],LG=["ArrowDown","PageUp","Home"],uP=["ArrowUp","PageDown","End"],VG=[...LG,...uP],FG={ltr:[...Yy,"ArrowRight"],rtl:[...Yy,"ArrowLeft"]},BG={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Id="Menu",[Xu,UG,qG]=ad(Id),[xa,GG]=ld(Id,[qG,uc,jm]),Om=uc(),dP=jm(),[$G,wa]=xa(Id),[zG,Rd]=xa(Id),hP=t=>{const{__scopeMenu:e,open:n=!1,children:r,dir:s,onOpenChange:i,modal:o=!0}=t,a=Om(e),[c,u]=y.useState(null),h=y.useRef(!1),f=bn(i),p=km(s);return y.useEffect(()=>{const v=()=>{h.current=!0,document.addEventListener("pointerdown",x,{capture:!0,once:!0}),document.addEventListener("pointermove",x,{capture:!0,once:!0})},x=()=>h.current=!1;return document.addEventListener("keydown",v,{capture:!0}),()=>{document.removeEventListener("keydown",v,{capture:!0}),document.removeEventListener("pointerdown",x,{capture:!0}),document.removeEventListener("pointermove",x,{capture:!0})}},[]),l.jsx(sN,{...a,children:l.jsx($G,{scope:e,open:n,onOpenChange:f,content:c,onContentChange:u,children:l.jsx(zG,{scope:e,onClose:y.useCallback(()=>f(!1),[f]),isUsingKeyboardRef:h,dir:p,modal:o,children:r})})})};hP.displayName=Id;var WG="MenuAnchor",Uw=y.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,s=Om(n);return l.jsx(Aw,{...s,...r,ref:e})});Uw.displayName=WG;var qw="MenuPortal",[QG,fP]=xa(qw,{forceMount:void 0}),pP=t=>{const{__scopeMenu:e,forceMount:n,children:r,container:s}=t,i=wa(qw,e);return l.jsx(QG,{scope:e,forceMount:n,children:l.jsx(ma,{present:n||i.open,children:l.jsx(Jp,{asChild:!0,container:s,children:r})})})};pP.displayName=qw;var Er="MenuContent",[YG,Gw]=xa(Er),mP=y.forwardRef((t,e)=>{const n=fP(Er,t.__scopeMenu),{forceMount:r=n.forceMount,...s}=t,i=wa(Er,t.__scopeMenu),o=Rd(Er,t.__scopeMenu);return l.jsx(Xu.Provider,{scope:t.__scopeMenu,children:l.jsx(ma,{present:r||i.open,children:l.jsx(Xu.Slot,{scope:t.__scopeMenu,children:o.modal?l.jsx(KG,{...s,ref:e}):l.jsx(HG,{...s,ref:e})})})})}),KG=y.forwardRef((t,e)=>{const n=wa(Er,t.__scopeMenu),r=y.useRef(null),s=it(e,r);return y.useEffect(()=>{const i=r.current;if(i)return rP(i)},[]),l.jsx($w,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:pe(t.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),HG=y.forwardRef((t,e)=>{const n=wa(Er,t.__scopeMenu);return l.jsx($w,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),$w=y.forwardRef((t,e)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:s,onOpenAutoFocus:i,onCloseAutoFocus:o,disableOutsidePointerEvents:a,onEntryFocus:c,onEscapeKeyDown:u,onPointerDownOutside:h,onFocusOutside:f,onInteractOutside:p,onDismiss:v,disableOutsideScroll:x,...g}=t,w=wa(Er,n),T=Rd(Er,n),E=Om(n),b=dP(n),R=UG(n),[D,F]=y.useState(null),I=y.useRef(null),S=it(e,I,w.onContentChange),P=y.useRef(0),k=y.useRef(""),O=y.useRef(0),L=y.useRef(null),j=y.useRef("right"),W=y.useRef(0),H=x?Bw:y.Fragment,J=x?{as:ta,allowPinchZoom:!0}:void 0,oe=z=>{var ie,ge;const se=k.current+z,ne=R().filter(xe=>!xe.disabled),le=document.activeElement,ue=(ie=ne.find(xe=>xe.ref.current===le))==null?void 0:ie.textValue,Se=ne.map(xe=>xe.textValue),ke=l$(Se,se,ue),we=(ge=ne.find(xe=>xe.textValue===ke))==null?void 0:ge.ref.current;(function xe(Ee){k.current=Ee,window.clearTimeout(P.current),Ee!==""&&(P.current=window.setTimeout(()=>xe(""),1e3))})(se),we&&setTimeout(()=>we.focus())};y.useEffect(()=>()=>window.clearTimeout(P.current),[]),QN();const q=y.useCallback(z=>{var ne,le;return j.current===((ne=L.current)==null?void 0:ne.side)&&u$(z,(le=L.current)==null?void 0:le.area)},[]);return l.jsx(YG,{scope:n,searchRef:k,onItemEnter:y.useCallback(z=>{q(z)&&z.preventDefault()},[q]),onItemLeave:y.useCallback(z=>{var se;q(z)||((se=I.current)==null||se.focus(),F(null))},[q]),onTriggerLeave:y.useCallback(z=>{q(z)&&z.preventDefault()},[q]),pointerGraceTimerRef:O,onPointerGraceIntentChange:y.useCallback(z=>{L.current=z},[]),children:l.jsx(H,{...J,children:l.jsx(Fw,{asChild:!0,trapped:s,onMountAutoFocus:pe(i,z=>{var se;z.preventDefault(),(se=I.current)==null||se.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:l.jsx(cd,{asChild:!0,disableOutsidePointerEvents:a,onEscapeKeyDown:u,onPointerDownOutside:h,onFocusOutside:f,onInteractOutside:p,onDismiss:v,children:l.jsx(eP,{asChild:!0,...b,dir:T.dir,orientation:"vertical",loop:r,currentTabStopId:D,onCurrentTabStopIdChange:F,onEntryFocus:pe(c,z=>{T.isUsingKeyboardRef.current||z.preventDefault()}),preventScrollOnEntryFocus:!0,children:l.jsx(Sw,{role:"menu","aria-orientation":"vertical","data-state":PP(w.open),"data-radix-menu-content":"",dir:T.dir,...E,...g,ref:S,style:{outline:"none",...g.style},onKeyDown:pe(g.onKeyDown,z=>{const ne=z.target.closest("[data-radix-menu-content]")===z.currentTarget,le=z.ctrlKey||z.altKey||z.metaKey,ue=z.key.length===1;ne&&(z.key==="Tab"&&z.preventDefault(),!le&&ue&&oe(z.key));const Se=I.current;if(z.target!==Se||!VG.includes(z.key))return;z.preventDefault();const we=R().filter(ie=>!ie.disabled).map(ie=>ie.ref.current);uP.includes(z.key)&&we.reverse(),o$(we)}),onBlur:pe(t.onBlur,z=>{z.currentTarget.contains(z.target)||(window.clearTimeout(P.current),k.current="")}),onPointerMove:pe(t.onPointerMove,Zu(z=>{const se=z.target,ne=W.current!==z.clientX;if(z.currentTarget.contains(se)&&ne){const le=z.clientX>W.current?"right":"left";j.current=le,W.current=z.clientX}}))})})})})})})});mP.displayName=Er;var JG="MenuGroup",zw=y.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return l.jsx(Be.div,{role:"group",...r,ref:e})});zw.displayName=JG;var XG="MenuLabel",gP=y.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return l.jsx(Be.div,{...r,ref:e})});gP.displayName=XG;var Pp="MenuItem",BC="menu.itemSelect",Lm=y.forwardRef((t,e)=>{const{disabled:n=!1,onSelect:r,...s}=t,i=y.useRef(null),o=Rd(Pp,t.__scopeMenu),a=Gw(Pp,t.__scopeMenu),c=it(e,i),u=y.useRef(!1),h=()=>{const f=i.current;if(!n&&f){const p=new CustomEvent(BC,{bubbles:!0,cancelable:!0});f.addEventListener(BC,v=>r==null?void 0:r(v),{once:!0}),lx(f,p),p.defaultPrevented?u.current=!1:o.onClose()}};return l.jsx(yP,{...s,ref:c,disabled:n,onClick:pe(t.onClick,h),onPointerDown:f=>{var p;(p=t.onPointerDown)==null||p.call(t,f),u.current=!0},onPointerUp:pe(t.onPointerUp,f=>{var p;u.current||(p=f.currentTarget)==null||p.click()}),onKeyDown:pe(t.onKeyDown,f=>{const p=a.searchRef.current!=="";n||p&&f.key===" "||Yy.includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})})});Lm.displayName=Pp;var yP=y.forwardRef((t,e)=>{const{__scopeMenu:n,disabled:r=!1,textValue:s,...i}=t,o=Gw(Pp,n),a=dP(n),c=y.useRef(null),u=it(e,c),[h,f]=y.useState(!1),[p,v]=y.useState("");return y.useEffect(()=>{const x=c.current;x&&v((x.textContent??"").trim())},[i.children]),l.jsx(Xu.ItemSlot,{scope:n,disabled:r,textValue:s??p,children:l.jsx(tP,{asChild:!0,...a,focusable:!r,children:l.jsx(Be.div,{role:"menuitem","data-highlighted":h?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...i,ref:u,onPointerMove:pe(t.onPointerMove,Zu(x=>{r?o.onItemLeave(x):(o.onItemEnter(x),x.defaultPrevented||x.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:pe(t.onPointerLeave,Zu(x=>o.onItemLeave(x))),onFocus:pe(t.onFocus,()=>f(!0)),onBlur:pe(t.onBlur,()=>f(!1))})})})}),ZG="MenuCheckboxItem",vP=y.forwardRef((t,e)=>{const{checked:n=!1,onCheckedChange:r,...s}=t;return l.jsx(CP,{scope:t.__scopeMenu,checked:n,children:l.jsx(Lm,{role:"menuitemcheckbox","aria-checked":kp(n)?"mixed":n,...s,ref:e,"data-state":Qw(n),onSelect:pe(s.onSelect,()=>r==null?void 0:r(kp(n)?!0:!n),{checkForDefaultPrevented:!1})})})});vP.displayName=ZG;var xP="MenuRadioGroup",[e$,t$]=xa(xP,{value:void 0,onValueChange:()=>{}}),wP=y.forwardRef((t,e)=>{const{value:n,onValueChange:r,...s}=t,i=bn(r);return l.jsx(e$,{scope:t.__scopeMenu,value:n,onValueChange:i,children:l.jsx(zw,{...s,ref:e})})});wP.displayName=xP;var EP="MenuRadioItem",bP=y.forwardRef((t,e)=>{const{value:n,...r}=t,s=t$(EP,t.__scopeMenu),i=n===s.value;return l.jsx(CP,{scope:t.__scopeMenu,checked:i,children:l.jsx(Lm,{role:"menuitemradio","aria-checked":i,...r,ref:e,"data-state":Qw(i),onSelect:pe(r.onSelect,()=>{var o;return(o=s.onValueChange)==null?void 0:o.call(s,n)},{checkForDefaultPrevented:!1})})})});bP.displayName=EP;var Ww="MenuItemIndicator",[CP,n$]=xa(Ww,{checked:!1}),_P=y.forwardRef((t,e)=>{const{__scopeMenu:n,forceMount:r,...s}=t,i=n$(Ww,n);return l.jsx(ma,{present:r||kp(i.checked)||i.checked===!0,children:l.jsx(Be.span,{...s,ref:e,"data-state":Qw(i.checked)})})});_P.displayName=Ww;var r$="MenuSeparator",TP=y.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return l.jsx(Be.div,{role:"separator","aria-orientation":"horizontal",...r,ref:e})});TP.displayName=r$;var s$="MenuArrow",AP=y.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,s=Om(n);return l.jsx(Iw,{...s,...r,ref:e})});AP.displayName=s$;var i$="MenuSub",[wQ,SP]=xa(i$),Yc="MenuSubTrigger",IP=y.forwardRef((t,e)=>{const n=wa(Yc,t.__scopeMenu),r=Rd(Yc,t.__scopeMenu),s=SP(Yc,t.__scopeMenu),i=Gw(Yc,t.__scopeMenu),o=y.useRef(null),{pointerGraceTimerRef:a,onPointerGraceIntentChange:c}=i,u={__scopeMenu:t.__scopeMenu},h=y.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return y.useEffect(()=>h,[h]),y.useEffect(()=>{const f=a.current;return()=>{window.clearTimeout(f),c(null)}},[a,c]),l.jsx(Uw,{asChild:!0,...u,children:l.jsx(yP,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":s.contentId,"data-state":PP(n.open),...t,ref:ax(e,s.onTriggerChange),onClick:f=>{var p;(p=t.onClick)==null||p.call(t,f),!(t.disabled||f.defaultPrevented)&&(f.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:pe(t.onPointerMove,Zu(f=>{i.onItemEnter(f),!f.defaultPrevented&&!t.disabled&&!n.open&&!o.current&&(i.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{n.onOpenChange(!0),h()},100))})),onPointerLeave:pe(t.onPointerLeave,Zu(f=>{var v,x;h();const p=(v=n.content)==null?void 0:v.getBoundingClientRect();if(p){const g=(x=n.content)==null?void 0:x.dataset.side,w=g==="right",T=w?-5:5,E=p[w?"left":"right"],b=p[w?"right":"left"];i.onPointerGraceIntentChange({area:[{x:f.clientX+T,y:f.clientY},{x:E,y:p.top},{x:b,y:p.top},{x:b,y:p.bottom},{x:E,y:p.bottom}],side:g}),window.clearTimeout(a.current),a.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(f),f.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:pe(t.onKeyDown,f=>{var v;const p=i.searchRef.current!=="";t.disabled||p&&f.key===" "||FG[r.dir].includes(f.key)&&(n.onOpenChange(!0),(v=n.content)==null||v.focus(),f.preventDefault())})})})});IP.displayName=Yc;var RP="MenuSubContent",NP=y.forwardRef((t,e)=>{const n=fP(Er,t.__scopeMenu),{forceMount:r=n.forceMount,...s}=t,i=wa(Er,t.__scopeMenu),o=Rd(Er,t.__scopeMenu),a=SP(RP,t.__scopeMenu),c=y.useRef(null),u=it(e,c);return l.jsx(Xu.Provider,{scope:t.__scopeMenu,children:l.jsx(ma,{present:r||i.open,children:l.jsx(Xu.Slot,{scope:t.__scopeMenu,children:l.jsx($w,{id:a.contentId,"aria-labelledby":a.triggerId,...s,ref:u,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:h=>{var f;o.isUsingKeyboardRef.current&&((f=c.current)==null||f.focus()),h.preventDefault()},onCloseAutoFocus:h=>h.preventDefault(),onFocusOutside:pe(t.onFocusOutside,h=>{h.target!==a.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:pe(t.onEscapeKeyDown,h=>{o.onClose(),h.preventDefault()}),onKeyDown:pe(t.onKeyDown,h=>{var v;const f=h.currentTarget.contains(h.target),p=BG[o.dir].includes(h.key);f&&p&&(i.onOpenChange(!1),(v=a.trigger)==null||v.focus(),h.preventDefault())})})})})})});NP.displayName=RP;function PP(t){return t?"open":"closed"}function kp(t){return t==="indeterminate"}function Qw(t){return kp(t)?"indeterminate":t?"checked":"unchecked"}function o$(t){const e=document.activeElement;for(const n of t)if(n===e||(n.focus(),document.activeElement!==e))return}function a$(t,e){return t.map((n,r)=>t[(e+r)%t.length])}function l$(t,e,n){const s=e.length>1&&Array.from(e).every(u=>u===e[0])?e[0]:e,i=n?t.indexOf(n):-1;let o=a$(t,Math.max(i,0));s.length===1&&(o=o.filter(u=>u!==n));const c=o.find(u=>u.toLowerCase().startsWith(s.toLowerCase()));return c!==n?c:void 0}function c$(t,e){const{x:n,y:r}=t;let s=!1;for(let i=0,o=e.length-1;i<e.length;o=i++){const a=e[i].x,c=e[i].y,u=e[o].x,h=e[o].y;c>r!=h>r&&n<(u-a)*(r-c)/(h-c)+a&&(s=!s)}return s}function u$(t,e){if(!e)return!1;const n={x:t.clientX,y:t.clientY};return c$(n,e)}function Zu(t){return e=>e.pointerType==="mouse"?t(e):void 0}var d$=hP,h$=Uw,f$=pP,p$=mP,m$=zw,g$=gP,y$=Lm,v$=vP,x$=wP,w$=bP,E$=_P,b$=TP,C$=AP,_$=IP,T$=NP,Vm="Menubar",[Ky,A$,S$]=ad(Vm),[kP,EQ]=ld(Vm,[S$,jm]),Ln=GG(),MP=jm(),[I$,Yw]=kP(Vm),jP=y.forwardRef((t,e)=>{const{__scopeMenubar:n,value:r,onValueChange:s,defaultValue:i,loop:o=!0,dir:a,...c}=t,u=km(a),h=MP(n),[f="",p]=Mu({prop:r,onChange:s,defaultProp:i}),[v,x]=y.useState(null);return l.jsx(I$,{scope:n,value:f,onMenuOpen:y.useCallback(g=>{p(g),x(g)},[p]),onMenuClose:y.useCallback(()=>p(""),[p]),onMenuToggle:y.useCallback(g=>{p(w=>w?"":g),x(g)},[p]),dir:u,loop:o,children:l.jsx(Ky.Provider,{scope:n,children:l.jsx(Ky.Slot,{scope:n,children:l.jsx(eP,{asChild:!0,...h,orientation:"horizontal",loop:o,dir:u,currentTabStopId:v,onCurrentTabStopIdChange:x,children:l.jsx(Be.div,{role:"menubar",...c,ref:e})})})})})});jP.displayName=Vm;var Kw="MenubarMenu",[R$,DP]=kP(Kw),OP=t=>{const{__scopeMenubar:e,value:n,...r}=t,s=Ko(),i=n||s||"LEGACY_REACT_AUTO_VALUE",o=Yw(Kw,e),a=Ln(e),c=y.useRef(null),u=y.useRef(!1),h=o.value===i;return y.useEffect(()=>{h||(u.current=!1)},[h]),l.jsx(R$,{scope:e,value:i,triggerId:Ko(),triggerRef:c,contentId:Ko(),wasKeyboardTriggerOpenRef:u,children:l.jsx(d$,{...a,open:h,onOpenChange:f=>{f||o.onMenuClose()},modal:!1,dir:o.dir,...r})})};OP.displayName=Kw;var Hy="MenubarTrigger",LP=y.forwardRef((t,e)=>{const{__scopeMenubar:n,disabled:r=!1,...s}=t,i=MP(n),o=Ln(n),a=Yw(Hy,n),c=DP(Hy,n),u=y.useRef(null),h=it(e,u,c.triggerRef),[f,p]=y.useState(!1),v=a.value===c.value;return l.jsx(Ky.ItemSlot,{scope:n,value:c.value,disabled:r,children:l.jsx(tP,{asChild:!0,...i,focusable:!r,tabStopId:c.value,children:l.jsx(h$,{asChild:!0,...o,children:l.jsx(Be.button,{type:"button",role:"menuitem",id:c.triggerId,"aria-haspopup":"menu","aria-expanded":v,"aria-controls":v?c.contentId:void 0,"data-highlighted":f?"":void 0,"data-state":v?"open":"closed","data-disabled":r?"":void 0,disabled:r,...s,ref:h,onPointerDown:pe(t.onPointerDown,x=>{!r&&x.button===0&&x.ctrlKey===!1&&(a.onMenuOpen(c.value),v||x.preventDefault())}),onPointerEnter:pe(t.onPointerEnter,()=>{var g;!!a.value&&!v&&(a.onMenuOpen(c.value),(g=u.current)==null||g.focus())}),onKeyDown:pe(t.onKeyDown,x=>{r||(["Enter"," "].includes(x.key)&&a.onMenuToggle(c.value),x.key==="ArrowDown"&&a.onMenuOpen(c.value),["Enter"," ","ArrowDown"].includes(x.key)&&(c.wasKeyboardTriggerOpenRef.current=!0,x.preventDefault()))}),onFocus:pe(t.onFocus,()=>p(!0)),onBlur:pe(t.onBlur,()=>p(!1))})})})})});LP.displayName=Hy;var N$="MenubarPortal",VP=t=>{const{__scopeMenubar:e,...n}=t,r=Ln(e);return l.jsx(f$,{...r,...n})};VP.displayName=N$;var Jy="MenubarContent",FP=y.forwardRef((t,e)=>{const{__scopeMenubar:n,align:r="start",...s}=t,i=Ln(n),o=Yw(Jy,n),a=DP(Jy,n),c=A$(n),u=y.useRef(!1);return l.jsx(p$,{id:a.contentId,"aria-labelledby":a.triggerId,"data-radix-menubar-content":"",...i,...s,ref:e,align:r,onCloseAutoFocus:pe(t.onCloseAutoFocus,h=>{var p;!!!o.value&&!u.current&&((p=a.triggerRef.current)==null||p.focus()),u.current=!1,h.preventDefault()}),onFocusOutside:pe(t.onFocusOutside,h=>{const f=h.target;c().some(v=>{var x;return(x=v.ref.current)==null?void 0:x.contains(f)})&&h.preventDefault()}),onInteractOutside:pe(t.onInteractOutside,()=>{u.current=!0}),onEntryFocus:h=>{a.wasKeyboardTriggerOpenRef.current||h.preventDefault()},onKeyDown:pe(t.onKeyDown,h=>{if(["ArrowRight","ArrowLeft"].includes(h.key)){const f=h.target,p=f.hasAttribute("data-radix-menubar-subtrigger"),v=f.closest("[data-radix-menubar-content]")!==h.currentTarget,g=(o.dir==="rtl"?"ArrowRight":"ArrowLeft")===h.key;if(!g&&p||v&&g)return;let E=c().filter(D=>!D.disabled).map(D=>D.value);g&&E.reverse();const b=E.indexOf(a.value);E=o.loop?z$(E,b+1):E.slice(b+1);const[R]=E;R&&o.onMenuOpen(R)}},{checkForDefaultPrevented:!1}),style:{...t.style,"--radix-menubar-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-menubar-content-available-width":"var(--radix-popper-available-width)","--radix-menubar-content-available-height":"var(--radix-popper-available-height)","--radix-menubar-trigger-width":"var(--radix-popper-anchor-width)","--radix-menubar-trigger-height":"var(--radix-popper-anchor-height)"}})});FP.displayName=Jy;var P$="MenubarGroup",k$=y.forwardRef((t,e)=>{const{__scopeMenubar:n,...r}=t,s=Ln(n);return l.jsx(m$,{...s,...r,ref:e})});k$.displayName=P$;var M$="MenubarLabel",BP=y.forwardRef((t,e)=>{const{__scopeMenubar:n,...r}=t,s=Ln(n);return l.jsx(g$,{...s,...r,ref:e})});BP.displayName=M$;var j$="MenubarItem",UP=y.forwardRef((t,e)=>{const{__scopeMenubar:n,...r}=t,s=Ln(n);return l.jsx(y$,{...s,...r,ref:e})});UP.displayName=j$;var D$="MenubarCheckboxItem",qP=y.forwardRef((t,e)=>{const{__scopeMenubar:n,...r}=t,s=Ln(n);return l.jsx(v$,{...s,...r,ref:e})});qP.displayName=D$;var O$="MenubarRadioGroup",L$=y.forwardRef((t,e)=>{const{__scopeMenubar:n,...r}=t,s=Ln(n);return l.jsx(x$,{...s,...r,ref:e})});L$.displayName=O$;var V$="MenubarRadioItem",GP=y.forwardRef((t,e)=>{const{__scopeMenubar:n,...r}=t,s=Ln(n);return l.jsx(w$,{...s,...r,ref:e})});GP.displayName=V$;var F$="MenubarItemIndicator",$P=y.forwardRef((t,e)=>{const{__scopeMenubar:n,...r}=t,s=Ln(n);return l.jsx(E$,{...s,...r,ref:e})});$P.displayName=F$;var B$="MenubarSeparator",zP=y.forwardRef((t,e)=>{const{__scopeMenubar:n,...r}=t,s=Ln(n);return l.jsx(b$,{...s,...r,ref:e})});zP.displayName=B$;var U$="MenubarArrow",q$=y.forwardRef((t,e)=>{const{__scopeMenubar:n,...r}=t,s=Ln(n);return l.jsx(C$,{...s,...r,ref:e})});q$.displayName=U$;var G$="MenubarSubTrigger",WP=y.forwardRef((t,e)=>{const{__scopeMenubar:n,...r}=t,s=Ln(n);return l.jsx(_$,{"data-radix-menubar-subtrigger":"",...s,...r,ref:e})});WP.displayName=G$;var $$="MenubarSubContent",QP=y.forwardRef((t,e)=>{const{__scopeMenubar:n,...r}=t,s=Ln(n);return l.jsx(T$,{...s,"data-radix-menubar-content":"",...r,ref:e,style:{...t.style,"--radix-menubar-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-menubar-content-available-width":"var(--radix-popper-available-width)","--radix-menubar-content-available-height":"var(--radix-popper-available-height)","--radix-menubar-trigger-width":"var(--radix-popper-anchor-width)","--radix-menubar-trigger-height":"var(--radix-popper-anchor-height)"}})});QP.displayName=$$;function z$(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var YP=jP,W$=OP,KP=LP,Q$=VP,HP=FP,JP=BP,XP=UP,ZP=qP,e2=GP,t2=$P,n2=zP,r2=WP,s2=QP;const Y$=W$,i2=y.forwardRef(({className:t,...e},n)=>l.jsx(YP,{ref:n,className:nt("flex h-10 items-center space-x-1 rounded-md border bg-background p-1",t),...e}));i2.displayName=YP.displayName;const o2=y.forwardRef(({className:t,...e},n)=>l.jsx(KP,{ref:n,className:nt("flex cursor-default select-none items-center rounded-sm px-3 py-1.5 text-sm font-medium outline-none focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground",t),...e}));o2.displayName=KP.displayName;const K$=y.forwardRef(({className:t,inset:e,children:n,...r},s)=>l.jsxs(r2,{ref:s,className:nt("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground",e&&"pl-8",t),...r,children:[n,l.jsx(YD,{className:"ml-auto h-4 w-4"})]}));K$.displayName=r2.displayName;const H$=y.forwardRef(({className:t,...e},n)=>l.jsx(s2,{ref:n,className:nt("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...e}));H$.displayName=s2.displayName;const a2=y.forwardRef(({className:t,align:e="start",alignOffset:n=-4,sideOffset:r=8,...s},i)=>l.jsx(Q$,{children:l.jsx(HP,{ref:i,align:e,alignOffset:n,sideOffset:r,className:nt("z-50 min-w-[12rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...s})}));a2.displayName=HP.displayName;const l2=y.forwardRef(({className:t,inset:e,...n},r)=>l.jsx(XP,{ref:r,className:nt("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e&&"pl-8",t),...n}));l2.displayName=XP.displayName;const J$=y.forwardRef(({className:t,children:e,checked:n,...r},s)=>l.jsxs(ZP,{ref:s,className:nt("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),checked:n,...r,children:[l.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:l.jsx(t2,{children:l.jsx(JA,{className:"h-4 w-4"})})}),e]}));J$.displayName=ZP.displayName;const X$=y.forwardRef(({className:t,children:e,...n},r)=>l.jsxs(e2,{ref:r,className:nt("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[l.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:l.jsx(t2,{children:l.jsx(KD,{className:"h-2 w-2 fill-current"})})}),e]}));X$.displayName=e2.displayName;const Z$=y.forwardRef(({className:t,inset:e,...n},r)=>l.jsx(JP,{ref:r,className:nt("px-2 py-1.5 text-sm font-semibold",e&&"pl-8",t),...n}));Z$.displayName=JP.displayName;const ez=y.forwardRef(({className:t,...e},n)=>l.jsx(n2,{ref:n,className:nt("-mx-1 my-1 h-px bg-muted",t),...e}));ez.displayName=n2.displayName;const tz=({user:t,handleLogout:e,navigate:n})=>{const[r,s]=y.useState(!1),[i,o]=y.useState({name:t.name,mobileNumber:t.mobileNumber||""});y.useEffect(()=>{r&&o({name:t.name,mobileNumber:t.mobileNumber||""})},[r,t.name,t.mobileNumber]);const a=()=>{s(!0)},c=()=>{console.log("Saving profile:",i),s(!1)},u=()=>{o({name:t.name,mobileNumber:t.mobileNumber||""}),s(!1)},h=f=>{if(f==="logout")e();else if(f==="profile")a();else{const p=RC.find(v=>v.key===f);p&&n(p.route)}};return l.jsxs(l.Fragment,{children:[l.jsx(i2,{children:l.jsxs(Y$,{children:[l.jsx(o2,{className:"bg-transparent text-black border border-white",children:"Menu"}),l.jsx(a2,{children:RC.filter(f=>f.roles.includes(t.role)).map(f=>{const p=f.icon;return l.jsxs(l2,{className:f.colorClass+" flex gap-2 items-center",onClick:()=>h(f.key),children:[l.jsx(p,{className:"w-4 h-4"}),f.label]},f.key)})})]})}),r&&l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 grid place-items-center p-4",children:l.jsxs("div",{className:"bg-gray-800 border border-gray-700 rounded-xl max-w-sm w-full",children:[l.jsx("div",{className:"p-6 border-b border-gray-700",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("h3",{className:"text-xl font-bold text-white",children:"Edit Profile"}),l.jsx("button",{onClick:u,className:"text-gray-400 hover:text-white transition-colors",children:l.jsx(Vl,{className:"w-6 h-6"})})]})}),l.jsxs("div",{className:"p-6 space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Name"}),l.jsx(wn,{value:i.name,onChange:f=>o({...i,name:f.target.value}),className:"w-full bg-gray-700/50 border-gray-600 text-white",placeholder:"Enter your name"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Email"}),l.jsxs("div",{className:"flex items-center space-x-2 p-3 bg-gray-700/30 border border-gray-600 rounded-md",children:[l.jsx(XD,{className:"w-4 h-4 text-gray-400"}),l.jsx("span",{className:"text-gray-300 text-sm",children:t.email})]}),l.jsx("p",{className:"text-gray-500 text-xs mt-1",children:"Email cannot be changed for security reasons"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Mobile Number"}),l.jsx(wn,{value:i.mobileNumber,onChange:f=>o({...i,mobileNumber:f.target.value}),className:"w-full bg-gray-700/50 border-gray-600 text-white",placeholder:"Enter mobile number",type:"tel"})]}),l.jsxs("div",{className:"flex space-x-3 pt-4",children:[l.jsx(Ve,{onClick:c,className:"flex-1 bg-gradient-to-r from-cyan-600 to-cyan-700 hover:from-cyan-700 hover:to-cyan-800",children:"Save Changes"}),l.jsx(Ve,{onClick:u,variant:"outline",className:"flex-1 border-gray-600 text-gray-300 hover:bg-gray-700",children:"Cancel"})]})]})]})})]})};function Mn({className:t,...e}){return l.jsx("div",{className:nt("animate-pulse rounded-md bg-muted",t),...e})}const nz=()=>l.jsxs("div",{className:"flex items-center justify-between px-4 py-4 mb-4",children:[l.jsx(Mn,{className:"h-8 w-32 rounded"}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx(Mn,{className:"h-8 w-20 rounded"}),l.jsx(Mn,{className:"h-8 w-20 rounded"}),l.jsx(Mn,{className:"h-8 w-20 rounded"})]})]}),rz=()=>l.jsxs("div",{className:"mb-6 bg-gray-900/80 backdrop-blur-sm border border-red-900/30 text-center relative overflow-hidden rounded-2xl",children:[l.jsxs("div",{className:"flex flex-col items-center p-6",children:[l.jsx(Mn,{className:"h-16 w-16 rounded-full mb-2"}),l.jsx(Mn,{className:"h-6 w-40 mb-2"}),l.jsx(Mn,{className:"h-4 w-56 mb-2"})]}),l.jsx("div",{className:"px-6 pb-4",children:l.jsx(Mn,{className:"h-4 w-32 mx-auto"})})]}),sz=()=>l.jsxs("div",{className:"flex gap-4 mb-6 justify-center",children:[l.jsx(Mn,{className:"h-8 w-24 rounded"}),l.jsx(Mn,{className:"h-8 w-24 rounded"}),l.jsx(Mn,{className:"h-8 w-24 rounded"})]}),iz=()=>l.jsxs("div",{className:"bg-gradient-to-br from-gray-900/90 via-black/80 to-red-950/90 border border-red-900/40 rounded-2xl p-6 min-h-[220px] shadow-2xl mb-6",children:[l.jsx(Mn,{className:"h-6 w-40 mb-4"}),l.jsx(Mn,{className:"h-4 w-56 mb-4"}),l.jsx(Mn,{className:"h-4 w-full rounded mb-2"}),l.jsx(Mn,{className:"h-8 w-32 mt-6 mx-auto"})]}),oz=({reward:t,onClose:e})=>{const n=Yr(),[r,s]=y.useState(!0),[i,o]=y.useState(!0);y.useEffect(()=>{const u=setTimeout(()=>s(!1),5e3),h=setTimeout(()=>o(!1),3e3);return()=>{clearTimeout(u),clearTimeout(h)}},[]);const a=u=>{switch(u){case"percentage":return"";case"fixed_amount":return"";case"free_item":return"";default:return""}},c=u=>{switch(u){case"percentage":return"from-purple-600 to-purple-700";case"fixed_amount":return"from-green-600 to-green-700";case"free_item":return"from-blue-600 to-blue-700";default:return"from-red-600 to-red-700"}};return l.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/80 backdrop-blur-sm",children:[r&&l.jsx(MN,{width:window.innerWidth,height:window.innerHeight,numberOfPieces:300,recycle:!1,colors:["#ef4444","#fff","#facc15","#ff9800","#a3e635","#8b5cf6"]}),i&&l.jsx("div",{className:"absolute inset-0 pointer-events-none",children:l.jsxs("div",{className:"absolute inset-0 flex items-center justify-center",children:[l.jsx("div",{className:"w-96 h-96 border-4 border-red-500/30 rounded-full animate-ping"}),l.jsx("div",{className:"absolute w-80 h-80 border-4 border-yellow-500/30 rounded-full animate-ping",style:{animationDelay:"0.5s"}}),l.jsx("div",{className:"absolute w-64 h-64 border-4 border-green-500/30 rounded-full animate-ping",style:{animationDelay:"1s"}})]})}),l.jsxs("div",{className:"relative z-10 bg-gradient-to-br from-gray-900/95 to-red-900/95 border border-red-800/50 rounded-3xl p-8 max-w-md mx-4 text-center shadow-2xl",children:[l.jsxs("div",{className:"mb-6",children:[l.jsx("div",{className:"text-6xl mb-4 animate-bounce",children:a(t.rewardType)}),l.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:" Congratulations! "}),l.jsx("p",{className:"text-gray-300 text-lg",children:"You've earned your reward!"})]}),l.jsxs("div",{className:"bg-gradient-to-r from-gray-800/50 to-red-800/50 border border-red-700/50 rounded-2xl p-6 mb-6",children:[l.jsx("div",{className:"text-4xl font-bold text-white mb-2",children:t.rewardDescription}),l.jsx("div",{className:"text-gray-300 mb-4",children:t.settingsSnapshot.descriptionMessage}),l.jsxs("div",{className:"space-y-2 text-sm",children:[l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-gray-400",children:"Type:"}),l.jsx("span",{className:"text-white capitalize",children:t.rewardType})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-gray-400",children:"Value:"}),l.jsx("span",{className:"text-white",children:t.rewardValue})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-gray-400",children:"Goal:"}),l.jsxs("span",{className:"text-white",children:[t.settingsSnapshot.purchaseLimit," purchases"]})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-gray-400",children:"Earned:"}),l.jsx("span",{className:"text-white",children:t.createdAt.toDate().toLocaleDateString()})]})]})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs(Ve,{onClick:()=>n("/rewards"),className:`w-full bg-gradient-to-r ${c(t.rewardType)} hover:opacity-90 text-white font-semibold py-3 text-lg`,children:[l.jsx(sr,{className:"w-5 h-5 mr-2"}),"View All Rewards"]}),l.jsx(Ve,{onClick:e,variant:"outline",className:"w-full border-gray-600 text-gray-300 hover:bg-gray-800 hover:text-white",children:"Continue Shopping"})]}),l.jsx("div",{className:"mt-6 flex items-center justify-center",children:l.jsxs("div",{className:"inline-flex items-center px-4 py-2 bg-gradient-to-r from-yellow-600 to-yellow-700 border border-yellow-500 rounded-full",children:[l.jsx(nS,{className:"w-4 h-4 mr-2 text-yellow-200"}),l.jsx("span",{className:"text-yellow-100 text-sm font-medium",children:"ACHIEVEMENT UNLOCKED"})]})})]})]})},az=({totalUsers:t,customers:e,activeUsers:n,totalRewards:r,totalOffers:s,activeOffers:i,recentUsers:o})=>l.jsxs("div",{className:"space-y-8",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[l.jsxs("div",{className:"bg-gradient-to-r from-blue-900/50 to-blue-800/50 border border-blue-700/50 rounded-xl p-6 text-center",children:[l.jsx("div",{className:"text-4xl font-bold text-blue-400 mb-2",children:t}),l.jsx("div",{className:"text-blue-300 text-lg",children:"Total Users"}),l.jsx("div",{className:"text-blue-400 text-sm mt-2",children:"All registered users"})]}),l.jsxs("div",{className:"bg-gradient-to-r from-green-900/50 to-green-800/50 border border-green-700/50 rounded-xl p-6 text-center",children:[l.jsx("div",{className:"text-4xl font-bold text-green-400 mb-2",children:e.length}),l.jsx("div",{className:"text-green-300 text-lg",children:"Customers"}),l.jsx("div",{className:"text-green-400 text-sm mt-2",children:"Loyalty program members"})]}),l.jsxs("div",{className:"bg-gradient-to-r from-purple-900/50 to-purple-800/50 border border-purple-700/50 rounded-xl p-6 text-center",children:[l.jsx("div",{className:"text-4xl font-bold text-purple-400 mb-2",children:n}),l.jsx("div",{className:"text-purple-300 text-lg",children:"Active Users"}),l.jsx("div",{className:"text-purple-400 text-sm mt-2",children:"Last 7 days"})]}),l.jsxs("div",{className:"bg-gradient-to-r from-yellow-900/50 to-yellow-800/50 border border-yellow-700/50 rounded-xl p-6 text-center",children:[l.jsx("div",{className:"text-4xl font-bold text-yellow-400 mb-2",children:r}),l.jsx("div",{className:"text-yellow-300 text-lg",children:"Total Rewards"}),l.jsx("div",{className:"text-yellow-400 text-sm mt-2",children:"Earned by customers"})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs("div",{className:"bg-gradient-to-r from-red-900/50 to-red-800/50 border border-red-700/50 rounded-xl p-6",children:[l.jsxs("h3",{className:"text-xl font-bold text-white mb-4 flex items-center",children:[l.jsx(sr,{className:"w-5 h-5 mr-2 text-red-400"}),"Offers Status"]}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"text-gray-300",children:"Total Offers:"}),l.jsx("span",{className:"text-white font-semibold",children:s})]}),l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"text-gray-300",children:"Active Offers:"}),l.jsx("span",{className:"text-green-400 font-semibold",children:i})]}),l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"text-gray-300",children:"Inactive Offers:"}),l.jsx("span",{className:"text-red-400 font-semibold",children:s-i})]})]})]}),l.jsxs("div",{className:"bg-gradient-to-r from-indigo-900/50 to-indigo-800/50 border border-indigo-700/50 rounded-xl p-6",children:[l.jsxs("h3",{className:"text-xl font-bold text-white mb-4 flex items-center",children:[l.jsx(KA,{className:"w-5 h-5 mr-2 text-indigo-400"}),"User Activity"]}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"text-gray-300",children:"Active Rate:"}),l.jsxs("span",{className:"text-white font-semibold",children:[e.length>0?Math.round(n/e.length*100):0,"%"]})]}),l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"text-gray-300",children:"Avg. Rewards:"}),l.jsx("span",{className:"text-white font-semibold",children:e.length>0?(r/e.length).toFixed(1):0})]}),l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"text-gray-300",children:"Engagement:"}),l.jsx("span",{className:"text-green-400 font-semibold",children:n>0?"High":"Low"})]})]})]})]}),l.jsxs("div",{className:"bg-gray-800/50 border border-gray-700 rounded-xl p-6",children:[l.jsxs("h3",{className:"text-xl font-bold text-white mb-4 flex items-center",children:[l.jsx(XA,{className:"w-5 h-5 mr-2 text-yellow-400"}),"Recent User Activity"]}),l.jsx("div",{className:"space-y-3",children:o.map(a=>l.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-700/30 rounded-lg",children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("div",{className:"w-8 h-8 bg-red-600 rounded-full flex items-center justify-center",children:l.jsx("span",{className:"text-white text-sm font-bold",children:a.name.charAt(0)})}),l.jsxs("div",{children:[l.jsx("div",{className:"text-white font-medium",children:a.name}),l.jsx("div",{className:"text-gray-400 text-sm",children:a.email})]})]}),l.jsxs("div",{className:"text-right",children:[l.jsxs("div",{className:"text-white font-medium",children:[a.purchases," purchases"]}),l.jsx("div",{className:"text-gray-400 text-sm",children:a.lastScanAt?a.lastScanAt.toDate().toLocaleDateString():"Never"})]})]},a.id))})]})]}),lz=({users:t,searchTerm:e,setSearchTerm:n,statusFilter:r,setStatusFilter:s,roleFilter:i,setRoleFilter:o})=>{var E;const[a,c]=y.useState(null),[u,h]=y.useState(!1),[f,p]=y.useState(!1),[v,x]=y.useState({name:"",email:"",feedback:""}),g=b=>{c(b),h(!0)},w=b=>{b.role==="customer"&&(x({name:b.name,email:b.email,feedback:b.feedback||""}),c(b),p(!0))},T=()=>{console.log("Saving user:",a==null?void 0:a.id,v),p(!1),c(null)};return l.jsxs("div",{className:"space-y-6",children:[l.jsx("div",{className:"bg-gray-800/50 border border-gray-700 rounded-xl p-6",children:l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Search Users"}),l.jsxs("div",{className:"relative",children:[l.jsx(rO,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),l.jsx(wn,{placeholder:"Search by name or email...",value:e,onChange:b=>n(b.target.value),className:"pl-10 bg-gray-700/50 border-gray-600 text-white"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Status Filter"}),l.jsxs("select",{value:r,onChange:b=>s(b.target.value),className:"w-full bg-gray-700/50 border border-gray-600 text-white rounded-md px-3 py-2",children:[l.jsx("option",{value:"all",children:"All Status"}),l.jsx("option",{value:"active",children:"Active (Last 7 days)"}),l.jsx("option",{value:"inactive",children:"Inactive"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Role Filter"}),l.jsxs("select",{value:i,onChange:b=>o(b.target.value),className:"w-full bg-gray-700/50 border border-gray-600 text-white rounded-md px-3 py-2",children:[l.jsx("option",{value:"all",children:"All Roles"}),l.jsx("option",{value:"customer",children:"Customers"}),l.jsx("option",{value:"admin",children:"Admins"}),l.jsx("option",{value:"super_admin",children:"Super Admins"})]})]})]})}),l.jsxs("div",{className:"bg-gray-800/50 border border-gray-700 rounded-xl overflow-hidden",children:[l.jsx("div",{className:"p-6 border-b border-gray-700",children:l.jsxs("h3",{className:"text-xl font-bold text-white",children:["Users (",t.length,")"]})}),l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"w-full",children:[l.jsx("thead",{className:"bg-gray-700/50",children:l.jsxs("tr",{children:[l.jsx("th",{className:"text-left p-4 text-gray-300 font-medium",children:"User"}),l.jsx("th",{className:"text-left p-4 text-gray-300 font-medium",children:"Role"}),l.jsx("th",{className:"text-left p-4 text-gray-300 font-medium",children:"Status"}),l.jsx("th",{className:"text-left p-4 text-gray-300 font-medium",children:"Purchases"}),l.jsx("th",{className:"text-left p-4 text-gray-300 font-medium",children:"Rewards"}),l.jsx("th",{className:"text-left p-4 text-gray-300 font-medium",children:"Last Activity"}),l.jsx("th",{className:"text-left p-4 text-gray-300 font-medium",children:"Actions"})]})}),l.jsx("tbody",{children:t.map(b=>{var R;return l.jsxs("tr",{className:"border-b border-gray-700/50 hover:bg-gray-700/30",children:[l.jsx("td",{className:"p-4",children:l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("div",{className:"w-10 h-10 bg-red-600 rounded-full flex items-center justify-center",children:l.jsx("span",{className:"text-white text-sm font-bold",children:b.name.charAt(0)})}),l.jsxs("div",{children:[l.jsx("div",{className:"text-white font-medium",children:b.name}),l.jsx("div",{className:"text-gray-400 text-sm",children:b.email})]})]})}),l.jsx("td",{className:"p-4",children:l.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${b.role==="super_admin"?"bg-purple-900/50 text-purple-300 border border-purple-700/50":b.role==="admin"?"bg-blue-900/50 text-blue-300 border border-blue-700/50":"bg-green-900/50 text-green-300 border border-green-700/50"}`,children:b.role.replace("_"," ").toUpperCase()})}),l.jsx("td",{className:"p-4",children:l.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${b.lastScanAt&&new Date().getTime()-b.lastScanAt.toDate().getTime()<7*24*60*60*1e3?"bg-green-900/50 text-green-300 border border-green-700/50":"bg-gray-900/50 text-gray-300 border border-gray-700/50"}`,children:b.lastScanAt&&new Date().getTime()-b.lastScanAt.toDate().getTime()<7*24*60*60*1e3?"Active":"Inactive"})}),l.jsx("td",{className:"p-4 text-white",children:b.purchases}),l.jsx("td",{className:"p-4 text-white",children:((R=b.completedRewards)==null?void 0:R.length)||0}),l.jsx("td",{className:"p-4 text-gray-300",children:b.lastScanAt?b.lastScanAt.toDate().toLocaleDateString():"Never"}),l.jsx("td",{className:"p-4",children:l.jsxs("div",{className:"flex space-x-2",children:[l.jsx(Ve,{size:"sm",variant:"outline",className:"border-gray-600 text-gray-300 hover:bg-gray-700",onClick:()=>g(b),children:l.jsx(fx,{className:"w-4 h-4"})}),l.jsx(Ve,{size:"sm",variant:"outline",className:"border-gray-600 text-gray-300 hover:bg-gray-700",onClick:()=>w(b),disabled:b.role!=="customer",title:b.role!=="customer"?"Only customers can be edited":"Edit customer",children:l.jsx(tS,{className:"w-4 h-4"})})]})})]},b.id)})})]})})]}),u&&a&&l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:l.jsxs("div",{className:"bg-gray-800 border border-gray-700 rounded-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[l.jsx("div",{className:"p-6 border-b border-gray-700",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("h3",{className:"text-xl font-bold text-white",children:"User Profile"}),l.jsx("button",{onClick:()=>h(!1),className:"text-gray-400 hover:text-white",children:l.jsx(Vl,{className:"w-6 h-6"})})]})}),l.jsxs("div",{className:"p-6 space-y-6",children:[l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsx("div",{className:"w-20 h-20 bg-red-600 rounded-full flex items-center justify-center",children:l.jsx("span",{className:"text-white text-2xl font-bold",children:a.name.charAt(0)})}),l.jsxs("div",{children:[l.jsx("h4",{className:"text-2xl font-bold text-white",children:a.name}),l.jsx("p",{className:"text-gray-400",children:a.email}),l.jsx("span",{className:`px-3 py-1 rounded-full text-sm ${a.role==="super_admin"?"bg-purple-900/50 text-purple-300 border border-purple-700/50":a.role==="admin"?"bg-blue-900/50 text-blue-300 border border-blue-700/50":"bg-green-900/50 text-green-300 border border-green-700/50"}`,children:a.role.replace("_"," ").toUpperCase()})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[l.jsxs("div",{className:"bg-gray-700/30 rounded-lg p-4 text-center",children:[l.jsx("div",{className:"text-2xl font-bold text-blue-400 mb-2",children:a.purchases}),l.jsx("div",{className:"text-gray-300 text-sm",children:"Total Scans"})]}),l.jsxs("div",{className:"bg-gray-700/30 rounded-lg p-4 text-center",children:[l.jsx("div",{className:"text-2xl font-bold text-green-400 mb-2",children:((E=a.completedRewards)==null?void 0:E.length)||0}),l.jsx("div",{className:"text-gray-300 text-sm",children:"Rewards Earned"})]}),l.jsxs("div",{className:"bg-gray-700/30 rounded-lg p-4 text-center",children:[l.jsx("div",{className:"text-2xl font-bold text-purple-400 mb-2",children:a.role==="customer"?a.currentOfferProgress||0:"N/A"}),l.jsx("div",{className:"text-gray-300 text-sm",children:a.role==="customer"?"Current Progress":"Admin Scans"})]})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("h5",{className:"text-lg font-semibold text-white flex items-center",children:[l.jsx(KA,{className:"w-5 h-5 mr-2 text-yellow-400"}),"Activity Details"]}),l.jsx("div",{className:"bg-gray-700/30 rounded-lg p-4",children:l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("div",{className:"text-gray-400 text-sm mb-1",children:"Member Since"}),l.jsx("div",{className:"text-white font-medium",children:a.createdAt.toDate().toLocaleDateString()})]}),l.jsxs("div",{children:[l.jsx("div",{className:"text-gray-400 text-sm mb-1",children:"Last Activity"}),l.jsx("div",{className:"text-white font-medium",children:a.lastScanAt?a.lastScanAt.toDate().toLocaleDateString():"Never"})]})]})}),a.feedback&&l.jsxs("div",{className:"bg-gray-700/30 rounded-lg p-4",children:[l.jsx("div",{className:"text-gray-400 text-sm mb-2",children:"Feedback"}),l.jsx("div",{className:"text-white",children:a.feedback})]}),a.role==="customer"&&l.jsxs("div",{className:"bg-gray-700/30 rounded-lg p-4",children:[l.jsx("div",{className:"text-gray-400 text-sm mb-2",children:"Current Offer Progress"}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"text-gray-300",children:"Current Offer:"}),l.jsx("span",{className:"text-white",children:a.currentOfferId||"Default Offer"})]}),l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"text-gray-300",children:"Progress:"}),l.jsxs("span",{className:"text-white",children:[a.currentOfferProgress||0," scans"]})]}),l.jsx("div",{className:"w-full bg-gray-600 rounded-full h-2 mt-2",children:l.jsx("div",{className:"bg-green-500 h-2 rounded-full transition-all duration-300",style:{width:`${Math.min((a.currentOfferProgress||0)*10,100)}%`}})})]})]}),a.role==="customer"&&a.completedRewards&&a.completedRewards.length>0&&l.jsxs("div",{className:"bg-gray-700/30 rounded-lg p-4",children:[l.jsx("div",{className:"text-gray-400 text-sm mb-2",children:"Recent Rewards"}),l.jsx("div",{className:"space-y-2",children:a.completedRewards.slice(0,3).map((b,R)=>l.jsxs("div",{className:"flex justify-between items-center text-sm",children:[l.jsx("span",{className:"text-white",children:b.rewardDescription}),l.jsx("span",{className:"text-gray-400",children:b.createdAt.toDate().toLocaleDateString()})]},R))})]}),a.role!=="customer"&&l.jsxs("div",{className:"bg-gray-700/30 rounded-lg p-4",children:[l.jsx("div",{className:"text-gray-400 text-sm mb-2",children:"Admin Information"}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"text-gray-300",children:"Role Level:"}),l.jsx("span",{className:"text-white",children:a.role==="super_admin"?"Super Administrator":"Administrator"})]}),l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"text-gray-300",children:"Permissions:"}),l.jsx("span",{className:"text-white",children:a.role==="super_admin"?"Full system access":"User and offer management"})]})]})]})]})]})]})}),f&&a&&l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:l.jsxs("div",{className:"bg-gray-800 border border-gray-700 rounded-xl max-w-md w-full",children:[l.jsx("div",{className:"p-6 border-b border-gray-700",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("h3",{className:"text-xl font-bold text-white",children:"Edit Customer"}),l.jsx("button",{onClick:()=>p(!1),className:"text-gray-400 hover:text-white",children:l.jsx(Vl,{className:"w-6 h-6"})})]})}),l.jsxs("div",{className:"p-6 space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Name"}),l.jsx(wn,{value:v.name,onChange:b=>x({...v,name:b.target.value}),className:"bg-gray-700/50 border-gray-600 text-white"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Email"}),l.jsx(wn,{value:v.email,onChange:b=>x({...v,email:b.target.value}),className:"bg-gray-700/50 border-gray-600 text-white"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Feedback"}),l.jsx("textarea",{value:v.feedback,onChange:b=>x({...v,feedback:b.target.value}),className:"w-full bg-gray-700/50 border border-gray-600 text-white rounded-md px-3 py-2 h-20 resize-none",placeholder:"Customer feedback..."})]}),l.jsxs("div",{className:"flex space-x-3 pt-4",children:[l.jsx(Ve,{onClick:T,className:"bg-gradient-to-r from-green-600 to-green-700 hover:from-green-700 hover:to-green-800",children:"Save Changes"}),l.jsx(Ve,{onClick:()=>p(!1),variant:"outline",className:"border-gray-600 text-gray-300 hover:bg-gray-700",children:"Cancel"})]})]})]})})]})},cz=({offers:t})=>l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("h3",{className:"text-xl font-bold text-white",children:"Manage Offers"}),l.jsxs(Ve,{className:"bg-gradient-to-r from-green-600 to-green-700 hover:from-green-700 hover:to-green-800",children:[l.jsx(eO,{className:"w-4 h-4 mr-2"}),"Create New Offer"]})]}),l.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:t.map(e=>l.jsxs("div",{className:`bg-gradient-to-br ${e.isActive?"from-green-900/40 to-green-800/40 border-green-700/50":"from-gray-800/40 to-gray-700/40 border-gray-600/50"} border rounded-xl p-4`,children:[l.jsxs("div",{className:"flex items-center justify-between mb-3",children:[l.jsx("h4",{className:"text-lg font-semibold text-white",children:e.name}),l.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${e.isActive?"bg-green-900/50 text-green-300 border border-green-700/50":"bg-gray-900/50 text-gray-300 border border-gray-600/50"}`,children:e.isActive?"ACTIVE":"INACTIVE"})]}),l.jsx("p",{className:"text-gray-300 text-sm mb-3",children:e.description}),l.jsxs("div",{className:"space-y-2 text-sm mb-4",children:[l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-gray-400",children:"Stamps:"}),l.jsx("span",{className:"text-white",children:e.stampRequirement})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-gray-400",children:"Reward:"}),l.jsx("span",{className:"text-white",children:e.rewardDescription})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-gray-400",children:"Type:"}),l.jsx("span",{className:"text-white capitalize",children:e.rewardType})]})]}),l.jsxs("div",{className:"flex space-x-2",children:[l.jsx(Ve,{size:"sm",variant:"outline",className:"border-gray-600 text-gray-300 hover:bg-gray-700",children:l.jsx(tS,{className:"w-4 h-4"})}),l.jsx(Ve,{size:"sm",variant:"outline",className:"border-gray-600 text-gray-300 hover:bg-gray-700",children:l.jsx(fx,{className:"w-4 h-4"})}),l.jsx(Ve,{size:"sm",variant:"outline",className:"border-red-600 text-red-300 hover:bg-red-700/20",children:l.jsx(sO,{className:"w-4 h-4"})})]})]},e.offerId))})]}),uz=({allUsers:t})=>{const e=t.flatMap(s=>(s.completedRewards||[]).map(i=>({...i,userName:s.name,userEmail:s.email,userId:s.id}))),n=e.filter(s=>!s.claimedAt),r=e.filter(s=>s.claimedAt);return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[l.jsxs("div",{className:"bg-gradient-to-r from-blue-900/50 to-blue-800/50 border border-blue-700/50 rounded-xl p-6 text-center",children:[l.jsx("div",{className:"text-3xl font-bold text-blue-400 mb-2",children:e.length}),l.jsx("div",{className:"text-blue-300 text-lg",children:"Total Rewards"})]}),l.jsxs("div",{className:"bg-gradient-to-r from-green-900/50 to-green-800/50 border border-green-700/50 rounded-xl p-6 text-center",children:[l.jsx("div",{className:"text-3xl font-bold text-green-400 mb-2",children:n.length}),l.jsx("div",{className:"text-green-300 text-lg",children:"Active Rewards"})]}),l.jsxs("div",{className:"bg-gradient-to-r from-yellow-900/50 to-yellow-800/50 border border-yellow-700/50 rounded-xl p-6 text-center",children:[l.jsx("div",{className:"text-3xl font-bold text-yellow-400 mb-2",children:r.length}),l.jsx("div",{className:"text-yellow-300 text-lg",children:"Claimed Rewards"})]})]}),l.jsxs("div",{className:"bg-gray-800/50 border border-gray-700 rounded-xl p-6",children:[l.jsxs("h3",{className:"text-xl font-bold text-white mb-4",children:["Active Rewards (",n.length,")"]}),l.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:n.map(s=>l.jsxs("div",{className:"bg-gradient-to-br from-green-900/40 to-green-800/40 border border-green-700/50 rounded-xl p-4",children:[l.jsxs("div",{className:"flex items-center justify-between mb-3",children:[l.jsx("div",{className:"text-lg font-semibold text-white",children:s.rewardDescription}),l.jsx("span",{className:"text-xs text-green-300 bg-green-900/50 px-2 py-1 rounded-full",children:"ACTIVE"})]}),l.jsxs("div",{className:"space-y-2 text-sm",children:[l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-gray-400",children:"User:"}),l.jsx("span",{className:"text-white",children:s.userName})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-gray-400",children:"Type:"}),l.jsx("span",{className:"text-white capitalize",children:s.rewardType})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-gray-400",children:"Value:"}),l.jsx("span",{className:"text-white",children:s.rewardValue})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-gray-400",children:"Earned:"}),l.jsx("span",{className:"text-white",children:s.createdAt.toDate().toLocaleDateString()})]})]})]},s.rewardId))})]}),r.length>0&&l.jsxs("div",{className:"bg-gray-800/50 border border-gray-700 rounded-xl p-6",children:[l.jsxs("h3",{className:"text-xl font-bold text-white mb-4",children:["Claimed Rewards (",r.length,")"]}),l.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:r.map(s=>{var i;return l.jsxs("div",{className:"bg-gradient-to-br from-yellow-900/40 to-yellow-800/40 border border-yellow-700/50 rounded-xl p-4",children:[l.jsxs("div",{className:"flex items-center justify-between mb-3",children:[l.jsx("div",{className:"text-lg font-semibold text-white",children:s.rewardDescription}),l.jsx("span",{className:"text-xs text-yellow-300 bg-yellow-900/50 px-2 py-1 rounded-full",children:"CLAIMED"})]}),l.jsxs("div",{className:"space-y-2 text-sm",children:[l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-gray-400",children:"User:"}),l.jsx("span",{className:"text-white",children:s.userName})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-gray-400",children:"Type:"}),l.jsx("span",{className:"text-white capitalize",children:s.rewardType})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-gray-400",children:"Value:"}),l.jsx("span",{className:"text-white",children:s.rewardValue})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-gray-400",children:"Earned:"}),l.jsx("span",{className:"text-white",children:s.createdAt.toDate().toLocaleDateString()})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-gray-400",children:"Redeemed:"}),l.jsx("span",{className:"text-yellow-300 font-medium",children:(i=s.claimedAt)==null?void 0:i.toDate().toLocaleDateString()})]})]})]},s.rewardId)})})]})]})},dz=({allUsers:t,offers:e})=>{const n=t.filter(i=>i.role==="customer"),r=n.reduce((i,o)=>{var a;return i+(((a=o.completedRewards)==null?void 0:a.length)||0)},0),s=n.filter(i=>i.lastScanAt&&new Date().getTime()-i.lastScanAt.toDate().getTime()<7*24*60*60*1e3).length;return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[l.jsxs("div",{className:"bg-gradient-to-r from-blue-900/50 to-blue-800/50 border border-blue-700/50 rounded-xl p-6 text-center",children:[l.jsx("div",{className:"text-3xl font-bold text-blue-400 mb-2",children:n.length}),l.jsx("div",{className:"text-blue-300 text-lg",children:"Total Customers"})]}),l.jsxs("div",{className:"bg-gradient-to-r from-green-900/50 to-green-800/50 border border-green-700/50 rounded-xl p-6 text-center",children:[l.jsx("div",{className:"text-3xl font-bold text-green-400 mb-2",children:r}),l.jsx("div",{className:"text-green-300 text-lg",children:"Total Rewards"})]}),l.jsxs("div",{className:"bg-gradient-to-r from-purple-900/50 to-purple-800/50 border border-purple-700/50 rounded-xl p-6 text-center",children:[l.jsx("div",{className:"text-3xl font-bold text-purple-400 mb-2",children:s}),l.jsx("div",{className:"text-purple-300 text-lg",children:"Active Users"})]}),l.jsxs("div",{className:"bg-gradient-to-r from-yellow-900/50 to-yellow-800/50 border border-yellow-700/50 rounded-xl p-6 text-center",children:[l.jsx("div",{className:"text-3xl font-bold text-yellow-400 mb-2",children:e.length}),l.jsx("div",{className:"text-yellow-300 text-lg",children:"Total Offers"})]})]}),l.jsxs("div",{className:"bg-gray-800/50 border border-gray-700 rounded-xl p-6",children:[l.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:"Performance Overview"}),l.jsx("div",{className:"h-64 bg-gray-700/30 rounded-lg flex items-center justify-center",children:l.jsxs("div",{className:"text-center text-gray-400",children:[l.jsx(gx,{className:"w-16 h-16 mx-auto mb-4 opacity-50"}),l.jsx("p",{children:"Performance charts coming soon"})]})})]})]})},hz=({user:t})=>l.jsx("div",{className:"space-y-6",children:l.jsxs("div",{className:"bg-gray-800/50 border border-gray-700 rounded-xl p-6",children:[l.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:"System Settings"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs("div",{children:[l.jsx("h4",{className:"text-lg font-semibold text-white mb-3",children:"General Settings"}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Default Offer"}),l.jsx("select",{className:"w-full bg-gray-700/50 border border-gray-600 text-white rounded-md px-3 py-2",children:l.jsx("option",{children:"Select default offer for new users"})})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Session Timeout"}),l.jsx(wn,{type:"number",placeholder:"24",className:"bg-gray-700/50 border-gray-600 text-white"})]})]})]}),l.jsxs("div",{children:[l.jsx("h4",{className:"text-lg font-semibold text-white mb-3",children:"Security Settings"}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("input",{type:"checkbox",id:"multiDevice",className:"rounded"}),l.jsx("label",{htmlFor:"multiDevice",className:"text-gray-300",children:"Allow multi-device login"})]}),l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("input",{type:"checkbox",id:"sessionValidation",className:"rounded"}),l.jsx("label",{htmlFor:"sessionValidation",className:"text-gray-300",children:"Enable session validation"})]})]})]})]}),l.jsx("div",{className:"mt-6 flex justify-end",children:l.jsx(Ve,{className:"bg-gradient-to-r from-red-600 to-red-700 hover:from-red-700 hover:to-red-800",children:"Save Settings"})})]})}),fz=({user:t,allUsers:e,offers:n,onLogout:r,onScan:s})=>{var P;const[i,o]=y.useState(()=>localStorage.getItem("adminActiveTab")||"overview"),[a,c]=y.useState(""),[u,h]=y.useState("all"),[f,p]=y.useState("all"),[v,x]=y.useState(!1),g=Yr(),w=e.filter(k=>{const O=k.name.toLowerCase().includes(a.toLowerCase())||k.email.toLowerCase().includes(a.toLowerCase()),L=u==="all"||u==="active"&&k.lastScanAt&&new Date().getTime()-k.lastScanAt.toDate().getTime()<7*24*60*60*1e3||u==="inactive"&&(!k.lastScanAt||new Date().getTime()-k.lastScanAt.toDate().getTime()>=7*24*60*60*1e3),j=f==="all"||k.role===f;return O&&L&&j}),T=e.length,E=e.filter(k=>k.role==="customer"),b=E.filter(k=>k.lastScanAt&&new Date().getTime()-k.lastScanAt.toDate().getTime()<7*24*60*60*1e3).length,R=E.reduce((k,O)=>{var L;return k+(((L=O.completedRewards)==null?void 0:L.length)||0)},0),D=n.length,F=n.filter(k=>k.isActive).length;y.useEffect(()=>{pt("admin_dashboard_view",{tab:i,user_id:t.id})},[i,t.id]);const I=[{id:"overview",label:"Overview",icon:HA,color:"text-blue-400"},{id:"users",label:"Users",icon:na,color:"text-green-400"},{id:"offers",label:"Offers",icon:sr,color:"text-purple-400"},{id:"rewards",label:"Rewards",icon:dd,color:"text-yellow-400"},{id:"analytics",label:"Analytics",icon:gx,color:"text-indigo-400"},{id:"settings",label:"Settings",icon:mx,color:"text-red-400"}],S=k=>{o(k),localStorage.setItem("adminActiveTab",k),x(!1)};return l.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-black via-gray-900 to-red-950",children:[v&&l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-40 lg:hidden",onClick:()=>x(!1)}),l.jsx("div",{className:`fixed inset-y-0 left-0 z-50 w-80 bg-gray-900/95 backdrop-blur-sm border-r border-red-800/50 transform transition-transform duration-300 ease-in-out lg:translate-x-0 ${v?"translate-x-0":"-translate-x-full"}`,children:l.jsxs("div",{className:"flex flex-col h-full",children:[l.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-red-800/30",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-xl font-bold text-white",children:"Admin Panel"}),l.jsx("p",{className:"text-red-300 text-sm",children:"Vape Master"})]}),l.jsx("button",{onClick:()=>x(!1),className:"lg:hidden text-gray-400 hover:text-white",children:l.jsx(Vl,{className:"w-6 h-6"})})]}),l.jsx("div",{className:"p-6 border-b border-red-800/30",children:l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("div",{className:"w-12 h-12 bg-red-600 rounded-full flex items-center justify-center",children:l.jsx("span",{className:"text-white text-lg font-bold",children:t.name.charAt(0)})}),l.jsxs("div",{children:[l.jsx("div",{className:"text-white font-medium",children:t.name}),l.jsx("div",{className:"text-gray-400 text-sm capitalize",children:t.role.replace("_"," ")})]})]})}),l.jsx("nav",{className:"flex-1 p-4 space-y-2",children:I.map(k=>{const O=k.icon;return l.jsxs("button",{onClick:()=>S(k.id),className:`w-full flex items-center space-x-3 px-4 py-3 rounded-lg transition-all duration-200 ${i===k.id?"bg-red-600 text-white shadow-lg":"text-gray-300 hover:text-white hover:bg-gray-800/50"}`,children:[l.jsx(O,{className:`w-5 h-5 ${i===k.id?"text-white":k.color}`}),l.jsx("span",{className:"font-medium",children:k.label})]},k.id)})}),l.jsxs("div",{className:"p-4 space-y-3 border-t border-red-800/30",children:[l.jsxs(Ve,{onClick:s,className:"w-full bg-gradient-to-r from-green-600 to-green-700 hover:from-green-700 hover:to-green-800",children:[l.jsx(tO,{className:"w-4 h-4 mr-2"}),"Scan QR"]}),l.jsxs(Ve,{onClick:()=>g("/dashboard"),variant:"outline",className:"w-full border-gray-600 text-gray-300 hover:bg-gray-800",children:[l.jsx(HD,{className:"w-4 h-4 mr-2"}),"Dashboard"]}),l.jsxs(Ve,{onClick:r,variant:"outline",className:"w-full border-red-600 text-red-300 hover:bg-red-700/20",children:[l.jsx(ZA,{className:"w-4 h-4 mr-2"}),"Logout"]})]})]})}),l.jsxs("div",{className:"lg:pl-80",children:[l.jsx("div",{className:"bg-gradient-to-r from-red-900/80 to-black/80 backdrop-blur-sm border-b border-red-800/50 sticky top-0 z-30",children:l.jsxs("div",{className:"flex items-center justify-between px-6 py-4",children:[l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsx("button",{onClick:()=>x(!0),className:"lg:hidden text-gray-400 hover:text-white",children:l.jsx(ZD,{className:"w-6 h-6"})}),l.jsxs("div",{children:[l.jsx("h2",{className:"text-xl font-bold text-white",children:(P=I.find(k=>k.id===i))==null?void 0:P.label}),l.jsxs("p",{className:"text-red-300 text-sm",children:[i==="overview"&&"System overview and key metrics",i==="users"&&"Manage users and permissions",i==="offers"&&"Create and manage loyalty offers",i==="rewards"&&"Track rewards and redemptions",i==="analytics"&&"Performance insights and reports",i==="settings"&&"System configuration and preferences"]})]})]}),l.jsxs("div",{className:"hidden md:flex items-center space-x-6 text-sm",children:[l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-white font-semibold",children:T}),l.jsx("div",{className:"text-gray-400",children:"Users"})]}),l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-white font-semibold",children:D}),l.jsx("div",{className:"text-gray-400",children:"Offers"})]}),l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-white font-semibold",children:R}),l.jsx("div",{className:"text-gray-400",children:"Rewards"})]})]})]})}),l.jsxs("div",{className:"p-6",children:[i==="overview"&&l.jsx(az,{totalUsers:T,customers:E,activeUsers:b,totalRewards:R,totalOffers:D,activeOffers:F,recentUsers:e.slice(0,5)}),i==="users"&&l.jsx(lz,{users:w,searchTerm:a,setSearchTerm:c,statusFilter:u,setStatusFilter:h,roleFilter:f,setRoleFilter:p}),i==="offers"&&l.jsx(cz,{offers:n}),i==="rewards"&&l.jsx(uz,{allUsers:e}),i==="analytics"&&l.jsx(dz,{allUsers:e,offers:n}),i==="settings"&&l.jsx(hz,{user:t})]})]})]})},pz=()=>{const{user:t,loading:e,settings:n,allUsers:r,allUsersLoading:s,offers:i,showConfetti:o,confettiKey:a,lastUpdateTime:c,activeTab:u,setActiveTab:h,userPurchaseLimit:f,purchasesRemaining:p,handleLogout:v,navigate:x,handleOfferSelection:g}=aq(),[w,T]=y.useState(!1),[E,b]=y.useState(null),[R,D]=y.useState(!1),[F,I]=y.useState(null);if(e)return l.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-black via-gray-900 to-red-950 relative overflow-hidden",children:[l.jsx(nz,{}),l.jsx("div",{className:"flex-1 px-6 pb-6",children:l.jsxs("div",{className:"max-w-md mx-auto",children:[l.jsx(rz,{}),l.jsx(sz,{}),l.jsx(iz,{})]})})]});if(!t)return null;const S=u==="progress",P=u==="offers",k=t.role==="customer";return t.role==="admin"||t.role==="super_admin"?l.jsx(fz,{user:t,allUsers:r,offers:i,onLogout:v,onScan:()=>x("/scan")}):l.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-black via-gray-900 to-red-950 relative overflow-hidden",children:[o&&l.jsx(MN,{width:window.innerWidth,height:window.innerHeight,numberOfPieces:200,recycle:!1},a),l.jsx(gq,{title:"Dashboard",onBack:()=>x("/"),actions:l.jsx(tz,{user:t,handleLogout:v,navigate:x})}),l.jsx("div",{className:"flex-1",children:l.jsxs("div",{className:"max-w-md mx-auto",children:[l.jsx(Eq,{activeTab:u,onTabChange:h,userRole:t.role}),P&&k&&l.jsxs("div",{className:"bg-gradient-to-br from-green-900/20 via-green-800/10 to-green-900/20 border border-green-700/30 rounded-xl p-6 shadow-2xl h-[720px] overflow-hidden",children:[l.jsxs("div",{className:"mb-6",children:[l.jsxs("h3",{className:"text-2xl font-bold text-green-300 mb-2 flex items-center",children:[l.jsx(sr,{className:"w-6 h-6 mr-2 text-green-400"}),"Available Offers"]}),l.jsx("p",{className:"text-green-200/80 text-sm",children:"Choose an offer and start collecting stamps to earn rewards"})]}),l.jsx("div",{className:"h-[580px] overflow-y-auto pr-2",children:i&&i.length>0?l.jsx("div",{className:"grid gap-4",children:i.filter(L=>L.isActive).map(L=>{var H,J;const j=(H=t.completedRewards)==null?void 0:H.find(oe=>{var q,z,se;return((q=oe.offerSnapshot)==null?void 0:q.offerId)===L.offerId&&((z=oe.scanHistory)==null?void 0:z.length)>=((se=oe.offerSnapshot)==null?void 0:se.stampRequirement)&&!oe.claimedAt}),W=(J=t.completedRewards)==null?void 0:J.find(oe=>{var q,z,se;return((q=oe.offerSnapshot)==null?void 0:q.offerId)===L.offerId&&((z=oe.scanHistory)==null?void 0:z.length)<((se=oe.offerSnapshot)==null?void 0:se.stampRequirement)&&!oe.claimedAt});return l.jsxs("div",{className:`bg-gradient-to-br ${W?"from-green-900/40 to-green-800/40 border-green-600/50 hover:from-green-900/50 hover:to-green-800/50":"from-gray-800/40 to-gray-700/40 border-gray-600/50 hover:from-gray-800/50 hover:to-gray-700/50"} border rounded-xl p-4 transition-all duration-300 hover:scale-[1.02] hover:shadow-lg`,children:[l.jsxs("div",{className:"flex items-center justify-between mb-3",children:[l.jsxs("div",{children:[l.jsx("h4",{className:"text-lg font-semibold text-white mb-1",children:L.name}),l.jsx("p",{className:"text-gray-300 text-sm",children:L.description})]}),l.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${W?"bg-green-600/80 text-white border border-green-500/50 shadow-lg":"bg-gray-600/80 text-gray-200 border border-gray-500/50"}`,children:W?"ACTIVE":"AVAILABLE"})]}),l.jsxs("div",{className:"space-y-3 mb-4",children:[l.jsxs("div",{className:"flex justify-between items-center text-sm",children:[l.jsx("span",{className:"text-gray-400",children:"Required Stamps:"}),l.jsx("span",{className:"text-white font-medium",children:L.stampRequirement})]}),l.jsxs("div",{className:"flex justify-between items-center text-sm",children:[l.jsx("span",{className:"text-gray-400",children:"Reward:"}),l.jsx("span",{className:"text-white font-medium",children:L.rewardDescription})]}),l.jsxs("div",{className:"flex justify-between items-center text-sm",children:[l.jsx("span",{className:"text-gray-400",children:"Type:"}),l.jsx("span",{className:"text-white font-medium capitalize",children:L.rewardType})]})]}),l.jsx("div",{className:"flex justify-center",children:W?l.jsx("button",{onClick:()=>{const oe={userId:t.id,userEmail:t.email,userName:t.name,offerId:L.offerId,offerName:L.name,timestamp:new Date().toISOString()};I(oe),D(!0)},className:"w-full bg-gradient-to-r from-green-600 to-green-700 hover:from-green-700 hover:to-green-800 text-white px-6 py-3 rounded-lg font-medium transition-all duration-300 hover:scale-105 hover:shadow-xl shadow-lg",children:"Continue Collecting"}):l.jsx("button",{onClick:()=>{const oe={userId:t.id,userEmail:t.email,userName:t.name,offerId:L.offerId,offerName:L.name,timestamp:new Date().toISOString()};I(oe),D(!0)},className:"w-full bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800 text-white px-6 py-3 rounded-lg font-medium transition-all duration-300 hover:scale-105 hover:shadow-xl shadow-lg",children:j?"Start New Reward":"Start Collecting"})})]},L.offerId)})}):l.jsxs("div",{className:"text-center py-12",children:[l.jsx(sr,{className:"w-16 h-16 text-gray-500 mx-auto mb-4"}),l.jsx("div",{className:"text-gray-300 text-lg font-medium mb-2",children:"No active offers available"}),l.jsx("div",{className:"text-gray-500 text-sm",children:"Check back later for new offers"})]})})]}),S&&l.jsx(l.Fragment,{children:k?l.jsx("div",{className:"h-[720px] overflow-hidden",children:l.jsx(bq,{user:t,userPurchaseLimit:f,settings:n,purchasesRemaining:p,onViewReward:()=>x("/scan"),currentOffer:i==null?void 0:i.find(L=>L.offerId===t.currentOfferId)})}):l.jsxs("div",{className:"bg-gradient-to-br from-blue-900/20 via-blue-800/10 to-blue-900/20 border border-blue-700/30 rounded-xl p-6 shadow-2xl h-[720px] overflow-hidden",children:[l.jsxs("div",{className:"mb-6",children:[l.jsxs("h3",{className:"text-2xl font-bold text-blue-300 mb-2 flex items-center",children:[l.jsx(dd,{className:"w-6 h-6 mr-2 text-blue-400"}),"User Progress Tracking"]}),l.jsx("p",{className:"text-blue-200/80 text-sm",children:"Real-time updates of all user loyalty progress"})]}),l.jsx("div",{className:"h-[580px] overflow-y-auto pr-2",children:l.jsx(wq,{users:r.filter(L=>L.role==="customer"),loading:s})})]})}),u==="card"&&(t.role==="super_admin"?l.jsxs("div",{className:"bg-gradient-to-br from-purple-900/20 via-purple-800/10 to-purple-900/20 border border-purple-700/30 rounded-xl p-6 shadow-2xl h-[720px] overflow-hidden",children:[l.jsxs("div",{className:"mb-6",children:[l.jsxs("h3",{className:"text-2xl font-bold text-purple-300 mb-2 flex items-center",children:[l.jsx(Ll,{className:"w-6 h-6 mr-2 text-purple-400"}),"Rewards History"]}),l.jsx("p",{className:"text-purple-200/80 text-sm",children:"Complete overview of all user rewards and redemptions"})]}),l.jsx("div",{className:"h-[580px] overflow-y-auto pr-2",children:l.jsx(xq,{allUsers:r})})]}):l.jsxs("div",{className:"bg-gradient-to-br from-purple-900/20 via-purple-800/10 to-purple-900/20 border border-purple-700/30 rounded-xl p-6 shadow-2xl h-[720px] overflow-hidden",children:[l.jsxs("div",{className:"mb-6",children:[l.jsxs("h3",{className:"text-2xl font-bold text-purple-300 mb-2 flex items-center",children:[l.jsx(Ll,{className:"w-6 h-6 mr-2 text-purple-400"}),"Your Rewards"]}),l.jsx("p",{className:"text-purple-200/80 text-sm",children:"Track your progress and manage your earned rewards"})]}),l.jsx("div",{className:"h-[580px] overflow-y-auto pr-2",children:l.jsx(kq,{user:t,offers:i})})]}))]})}),w&&E&&l.jsx(oz,{reward:E,onClose:()=>{T(!1),b(null)}}),R&&F&&l.jsx(WN,{qrData:F,isOpen:R,onClose:()=>{D(!1),I(null)}})]})},mz=()=>{var p,v,x,g;const{user:t,loading:e,redeemReward:n}=gs(),r=Yr(),[s,i]=y.useState(null);if(y.useEffect(()=>{pt("page_view",{page:"Rewards"})},[]),y.useEffect(()=>{!e&&!t&&r("/login")},[t,e,r]),e)return l.jsx("div",{className:"min-h-screen bg-gradient-to-br from-black via-gray-900 to-red-950 flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-red-500 mx-auto mb-4"}),l.jsx("p",{className:"text-white text-lg",children:"Loading..."})]})});if(!t)return null;const o=async w=>{i(w);try{await n(w),lt({title:"Reward Redeemed!",description:"Your reward has been successfully redeemed."}),pt("reward_redeemed",{reward_id:w,user_id:t.id}),window.location.reload()}catch{lt({title:"Error",description:"Failed to redeem reward. Please try again.",variant:"destructive"})}finally{i(null)}},a=w=>{switch(w){case"percentage":return"";case"fixed_amount":return"";case"free_item":return"";default:return""}},c=w=>{switch(w){case"percentage":return"from-purple-600 to-purple-700";case"fixed_amount":return"from-green-600 to-green-700";case"free_item":return"from-blue-600 to-blue-700";default:return"from-red-600 to-red-700"}},u=((p=t.completedRewards)==null?void 0:p.filter(w=>!w.claimedAt))||[],h=((v=t.completedRewards)==null?void 0:v.filter(w=>w.claimedAt))||[],f=t.currentReward;return l.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-black via-gray-900 to-red-950",children:[l.jsx("div",{className:"bg-gradient-to-r from-red-900/80 to-black/80 backdrop-blur-sm border-b border-red-800/50",children:l.jsx("div",{className:"max-w-4xl mx-auto px-6 py-4",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsxs(Ve,{variant:"ghost",size:"sm",onClick:()=>r("/dashboard"),className:"text-red-300 hover:text-white hover:bg-red-900/30",children:[l.jsx(Jl,{className:"w-5 h-5 mr-2"}),"Back"]}),l.jsxs("div",{children:[l.jsx("h1",{className:"text-2xl font-bold text-white",children:"My Rewards"}),l.jsx("p",{className:"text-red-300 text-sm",children:"Manage and redeem your earned rewards"})]})]}),l.jsxs("div",{className:"text-right",children:[l.jsx("div",{className:"text-white text-sm",children:"Total Rewards"}),l.jsx("div",{className:"text-2xl font-bold text-red-400",children:((x=t.completedRewards)==null?void 0:x.length)||0})]})]})})}),l.jsxs("div",{className:"max-w-4xl mx-auto px-6 py-8",children:[f&&l.jsx("div",{className:"mb-8",children:l.jsxs("div",{className:"bg-gradient-to-r from-gray-900/90 to-red-900/90 border border-red-800/50 rounded-xl p-6",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsxs("h2",{className:"text-xl font-bold text-white flex items-center",children:[l.jsx(XA,{className:"w-5 h-5 mr-2 text-yellow-400"}),"Current Progress"]}),l.jsxs("div",{className:"text-right",children:[l.jsx("div",{className:"text-2xl font-bold text-white",children:t.purchases}),l.jsxs("div",{className:"text-sm text-gray-400",children:["of ",f.settingsSnapshot.purchaseLimit," ","purchases"]})]})]}),l.jsx("div",{className:"w-full bg-gray-700 rounded-full h-3 mb-4",children:l.jsx("div",{className:"bg-gradient-to-r from-red-500 to-red-600 h-3 rounded-full transition-all duration-500",style:{width:`${t.purchases/f.settingsSnapshot.purchaseLimit*100}%`}})}),l.jsxs("div",{className:"text-center",children:[l.jsxs("div",{className:"text-lg font-semibold text-white mb-2",children:[a(f.rewardType)," ",f.rewardDescription]}),l.jsx("p",{className:"text-gray-300 text-sm",children:f.settingsSnapshot.descriptionMessage})]})]})}),l.jsxs("div",{className:"mb-8",children:[l.jsxs("h2",{className:"text-xl font-bold text-white mb-4 flex items-center",children:[l.jsx(sr,{className:"w-5 h-5 mr-2 text-green-400"}),"Available Rewards (",u.length,")"]}),u.length===0?l.jsxs("div",{className:"text-center py-12 bg-gradient-to-r from-gray-900/50 to-red-900/50 border border-gray-700/50 rounded-xl",children:[l.jsx("div",{className:"text-6xl mb-4",children:""}),l.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:"No Available Rewards"}),l.jsx("p",{className:"text-gray-400 mb-4",children:"Complete your purchase goal to earn your first reward!"}),l.jsx(Ve,{onClick:()=>r("/dashboard"),className:"bg-gradient-to-r from-red-600 to-red-700 hover:from-red-700 hover:to-red-800",children:"Go to Dashboard"})]}):l.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:u.map(w=>l.jsxs("div",{className:"bg-gradient-to-br from-gray-900/90 to-red-900/90 border border-red-800/50 rounded-xl p-6 hover:border-red-600/70 transition-all duration-300 hover:shadow-lg hover:shadow-red-500/20",children:[l.jsxs("div",{className:"text-center mb-4",children:[l.jsx("div",{className:"text-4xl mb-2",children:a(w.rewardType)}),l.jsx("div",{className:"text-xl font-bold text-white mb-1",children:w.rewardDescription}),l.jsxs("div",{className:"text-sm text-gray-400",children:["Earned on ",w.createdAt.toDate().toLocaleDateString()]})]}),l.jsxs("div",{className:"space-y-3 mb-6",children:[l.jsxs("div",{className:"flex justify-between text-sm",children:[l.jsx("span",{className:"text-gray-400",children:"Type:"}),l.jsx("span",{className:"text-white capitalize",children:w.rewardType})]}),l.jsxs("div",{className:"flex justify-between text-sm",children:[l.jsx("span",{className:"text-gray-400",children:"Value:"}),l.jsx("span",{className:"text-white",children:w.rewardValue})]}),l.jsxs("div",{className:"flex justify-between text-sm",children:[l.jsx("span",{className:"text-gray-400",children:"Goal:"}),l.jsxs("span",{className:"text-white",children:[w.settingsSnapshot.purchaseLimit," purchases"]})]})]}),l.jsxs(Ve,{onClick:()=>o(w.rewardId),disabled:s===w.rewardId,className:`w-full bg-gradient-to-r ${c(w.rewardType)} hover:opacity-90 transition-all duration-300`,children:[s===w.rewardId?l.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}):l.jsx(uf,{className:"w-4 h-4 mr-2"}),"Redeem Reward"]})]},w.rewardId))})]}),h.length>0&&l.jsxs("div",{className:"mb-8",children:[l.jsxs("h2",{className:"text-xl font-bold text-white mb-4 flex items-center",children:[l.jsx(uf,{className:"w-5 h-5 mr-2 text-green-400"}),"Claimed Rewards (",h.length,")"]}),l.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:h.map(w=>{var T;return l.jsxs("div",{className:"bg-gradient-to-br from-gray-800/90 to-gray-900/90 border border-gray-700/50 rounded-xl p-6 opacity-75",children:[l.jsxs("div",{className:"text-center mb-4",children:[l.jsx("div",{className:"text-4xl mb-2",children:a(w.rewardType)}),l.jsx("div",{className:"text-xl font-bold text-gray-300 mb-1",children:w.rewardDescription}),l.jsxs("div",{className:"text-sm text-gray-500",children:["Claimed on"," ",(T=w.claimedAt)==null?void 0:T.toDate().toLocaleDateString()]})]}),l.jsxs("div",{className:"space-y-3 mb-6",children:[l.jsxs("div",{className:"flex justify-between text-sm",children:[l.jsx("span",{className:"text-gray-500",children:"Type:"}),l.jsx("span",{className:"text-gray-300 capitalize",children:w.rewardType})]}),l.jsxs("div",{className:"flex justify-between text-sm",children:[l.jsx("span",{className:"text-gray-500",children:"Value:"}),l.jsx("span",{className:"text-gray-300",children:w.rewardValue})]}),l.jsxs("div",{className:"flex justify-between text-sm",children:[l.jsx("span",{className:"text-gray-500",children:"Goal:"}),l.jsxs("span",{className:"text-gray-300",children:[w.settingsSnapshot.purchaseLimit," purchases"]})]})]}),l.jsx("div",{className:"text-center",children:l.jsxs("div",{className:"inline-flex items-center px-3 py-1 bg-green-900/50 border border-green-600/50 rounded-full",children:[l.jsx(uf,{className:"w-4 h-4 mr-2 text-green-400"}),l.jsx("span",{className:"text-green-300 text-sm font-medium",children:"REDEEMED"})]})})]},w.rewardId)})})]}),l.jsxs("div",{className:"bg-gradient-to-r from-gray-900/90 to-red-900/90 border border-red-800/50 rounded-xl p-6",children:[l.jsxs("h3",{className:"text-lg font-semibold text-white mb-4 flex items-center",children:[l.jsx(nS,{className:"w-5 h-5 mr-2 text-yellow-400"}),"Reward Statistics"]}),l.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-2xl font-bold text-white",children:((g=t.completedRewards)==null?void 0:g.length)||0}),l.jsx("div",{className:"text-sm text-gray-400",children:"Total Earned"})]}),l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-2xl font-bold text-green-400",children:h.length}),l.jsx("div",{className:"text-sm text-gray-400",children:"Redeemed"})]}),l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-2xl font-bold text-yellow-400",children:u.length}),l.jsx("div",{className:"text-sm text-gray-400",children:"Available"})]}),l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-2xl font-bold text-red-400",children:t.purchases}),l.jsx("div",{className:"text-sm text-gray-400",children:"Current Progress"})]})]})]})]})]})},gz=()=>{const{user:t,loading:e,allUsers:n}=gs(),r=Yr(),[s,i]=y.useState([]),[o,a]=y.useState(!0);y.useState(!1),y.useState(!1);const[c,u]=y.useState("offers");return y.useEffect(()=>{pt("page_view",{page:"Settings"})},[]),y.useEffect(()=>{!e&&(!t||t.role!=="super_admin")&&r("/dashboard")},[t,e,r]),y.useEffect(()=>{t&&(async()=>{try{a(!0);const f=await pu();if(f.length===0){await AC(t);const p=await pu();i(p)}else i(f)}catch(f){console.error("Error loading offers:",f);try{await AC(t);const p=await pu();i(p)}catch(p){console.error("Error creating default offer:",p)}}finally{a(!1)}})()},[t]),e||o?l.jsx("div",{className:"min-h-screen bg-gradient-to-br from-black via-gray-900 to-red-950 flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-red-500 mx-auto mb-4"}),l.jsx("p",{className:"text-white text-lg",children:"Loading..."})]})}):!t||t.role!=="admin"&&t.role!=="super_admin"?null:l.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-black via-gray-900 to-red-950 relative overflow-hidden",children:[l.jsxs("div",{className:"absolute inset-0 opacity-10",children:[l.jsx("div",{className:"absolute top-20 right-10 w-40 h-40 bg-red-500 rounded-full blur-3xl animate-pulse"}),l.jsx("div",{className:"absolute bottom-32 left-10 w-32 h-32 bg-red-600 rounded-full blur-3xl animate-pulse delay-1000"})]}),l.jsxs("div",{className:"relative z-10 min-h-screen flex flex-col",children:[l.jsx("div",{className:"bg-gray-900/80 backdrop-blur-sm border-b border-red-900/30 sticky top-0 z-10",children:l.jsxs("div",{className:"p-6 flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx(Hs,{to:"/dashboard",className:"text-red-400 hover:text-red-300 transition-colors",children:l.jsx(Jl,{className:"w-6 h-6"})}),l.jsx("h1",{className:"ml-4 text-2xl font-bold text-white",children:"Settings"})]}),l.jsxs("div",{className:"flex items-center text-gray-400",children:[l.jsx(mx,{className:"w-6 h-6 mr-2"}),l.jsx("span",{className:"text-sm",children:"Admin Panel"})]})]})}),l.jsx("div",{className:"flex-1 px-6 py-8",children:l.jsxs("div",{className:"w-full max-w-6xl mx-auto",children:[l.jsxs("div",{className:"flex space-x-1 mb-8 bg-gray-800/50 rounded-lg p-1",children:[l.jsxs("button",{onClick:()=>u("offers"),className:`flex-1 flex items-center justify-center px-4 py-3 rounded-md font-medium transition-all duration-200 ${c==="offers"?"bg-red-600 text-white shadow-lg":"text-gray-300 hover:text-white hover:bg-gray-700/50"}`,children:[l.jsx(sr,{className:"w-4 h-4 mr-2"}),"Manage Offers"]}),l.jsxs("button",{onClick:()=>u("rewards"),className:`flex-1 flex items-center justify-center px-4 py-3 rounded-md font-medium transition-all duration-200 ${c==="rewards"?"bg-red-600 text-white shadow-lg":"text-gray-300 hover:text-white hover:bg-gray-700/50"}`,children:[l.jsx(sr,{className:"w-4 h-4 mr-2"}),"Rewards History"]}),l.jsxs("button",{onClick:()=>u("analytics"),className:`flex-1 flex items-center justify-center px-4 py-3 rounded-md font-medium transition-all duration-200 ${c==="analytics"?"bg-red-600 text-white shadow-lg":"text-gray-300 hover:text-white hover:bg-gray-700/50"}`,children:[l.jsx(HA,{className:"w-4 h-4 mr-2"}),"Analytics"]}),l.jsxs("button",{onClick:()=>u("users"),className:`flex-1 flex items-center justify-center px-4 py-3 rounded-md font-medium transition-all duration-200 ${c==="users"?"bg-red-600 text-white shadow-lg":"text-gray-300 hover:text-white hover:bg-gray-700/50"}`,children:[l.jsx(na,{className:"w-4 h-4 mr-2"}),"User Management"]})]}),c==="offers"&&l.jsx(yz,{offers:s,onOffersChange:i,user:t}),c==="rewards"&&l.jsx(vz,{allUsers:n}),c==="analytics"&&l.jsx(xz,{allUsers:n}),c==="users"&&l.jsx(wz,{allUsers:n})]})})]})]})},yz=({offers:t,onOffersChange:e,user:n})=>{const[r,s]=y.useState(!1),[i,o]=y.useState(!1),[a,c]=y.useState(""),[u,h]=y.useState(""),[f,p]=y.useState(5),[v,x]=y.useState("percentage"),[g,w]=y.useState("20"),[T,E]=y.useState("20% OFF"),b=async()=>{if(!a.trim()||!u.trim()||!g.trim()||!T.trim()){lt({title:"Missing Information",description:"Please fill in all fields",variant:"destructive"});return}s(!0);try{await J7(n,{name:a.trim(),description:u.trim(),stampRequirement:f,rewardType:v,rewardValue:g.trim(),rewardDescription:T.trim(),isActive:!0});const R=await pu();e(R),o(!1),c(""),h(""),p(5),x("percentage"),w("20"),E("20% OFF"),lt({title:"Offer Created",description:"New offer has been created successfully!"})}catch{lt({title:"Creation Failed",description:"Failed to create offer. Please try again.",variant:"destructive"})}finally{s(!1)}};return l.jsxs("div",{className:"bg-gray-900/80 backdrop-blur-sm border border-red-900/30 rounded-2xl p-8 shadow-2xl",children:[l.jsxs("div",{className:"text-center mb-8",children:[l.jsx("h2",{className:"text-3xl font-bold text-white mb-2",children:"Manage Offers"}),l.jsx("p",{className:"text-gray-400",children:"Create and manage loyalty program offers for customers"})]}),l.jsx("div",{className:"mb-8 text-center",children:l.jsxs(Ve,{onClick:()=>o(!0),className:"bg-gradient-to-r from-green-600 to-green-700 hover:from-green-700 hover:to-green-800 text-white font-semibold px-6 py-3 rounded-lg shadow-lg hover:shadow-xl transition-all duration-300",children:[l.jsx(sr,{className:"w-4 h-4 mr-2"}),"Create New Offer"]})}),i&&l.jsxs("div",{className:"bg-gray-800/50 border border-gray-700 rounded-xl p-6 mb-8",children:[l.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:"Create New Offer"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx(er,{htmlFor:"offerName",className:"text-white font-medium",children:"Offer Name"}),l.jsx(wn,{id:"offerName",value:a,onChange:R=>c(R.target.value),className:"bg-gray-700/50 border-gray-600 text-white mt-1",placeholder:"e.g., Welcome Offer, Summer Special"})]}),l.jsxs("div",{children:[l.jsx(er,{htmlFor:"offerDescription",className:"text-white font-medium",children:"Description"}),l.jsx(Ow,{id:"offerDescription",value:u,onChange:R=>h(R.target.value),className:"bg-gray-700/50 border-gray-600 text-white mt-1",placeholder:"Describe what customers need to do to earn this reward"})]}),l.jsxs("div",{children:[l.jsx(er,{htmlFor:"stampRequirement",className:"text-white font-medium",children:"Stamps Required"}),l.jsx(wn,{id:"stampRequirement",type:"number",min:"1",max:"50",value:f,onChange:R=>p(parseInt(R.target.value)||1),className:"bg-gray-700/50 border-gray-600 text-white mt-1"})]})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx(er,{htmlFor:"rewardType",className:"text-white font-medium",children:"Reward Type"}),l.jsxs("select",{id:"rewardType",value:v,onChange:R=>x(R.target.value),className:"w-full bg-gray-700/50 border border-gray-600 text-white rounded-md px-3 py-2 mt-1",children:[l.jsx("option",{value:"percentage",children:"Percentage Discount"}),l.jsx("option",{value:"fixed_amount",children:"Fixed Amount Off"}),l.jsx("option",{value:"free_item",children:"Free Item"})]})]}),l.jsxs("div",{children:[l.jsx(er,{htmlFor:"rewardValue",className:"text-white font-medium",children:"Reward Value"}),l.jsx(wn,{id:"rewardValue",value:g,onChange:R=>w(R.target.value),className:"bg-gray-700/50 border-gray-600 text-white mt-1",placeholder:v==="percentage"?"20":v==="fixed_amount"?"5.00":"Free Coffee"})]}),l.jsxs("div",{children:[l.jsx(er,{htmlFor:"rewardDescription",className:"text-white font-medium",children:"Reward Description"}),l.jsx(wn,{id:"rewardDescription",value:T,onChange:R=>E(R.target.value),className:"bg-gray-700/50 border-gray-600 text-white mt-1",placeholder:v==="percentage"?"20% OFF":v==="fixed_amount"?"$5.00 OFF":"Free Coffee"})]})]})]}),l.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[l.jsx(Ve,{variant:"outline",onClick:()=>o(!1),className:"border-gray-600 text-gray-300 hover:bg-gray-700",children:"Cancel"}),l.jsx(Ve,{onClick:b,disabled:r,className:"bg-gradient-to-r from-green-600 to-green-700 hover:from-green-700 hover:to-green-800",children:r?l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Creating..."]}):"Create Offer"})]})]}),l.jsxs("div",{className:"space-y-6",children:[l.jsx("h3",{className:"text-xl font-bold text-white",children:"Current Offers"}),t.length===0?l.jsxs("div",{className:"text-center py-12 bg-gray-800/30 rounded-xl",children:[l.jsx("div",{className:"text-6xl mb-4",children:""}),l.jsx("h4",{className:"text-xl font-semibold text-white mb-2",children:"No Offers Yet"}),l.jsx("p",{className:"text-gray-400",children:"Create your first offer to get started!"})]}):l.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:t.map(R=>l.jsxs("div",{className:`bg-gradient-to-br ${R.isActive?"from-green-900/40 to-green-800/40 border-green-700/50":"from-gray-800/40 to-gray-700/40 border-gray-600/50"} border rounded-xl p-4`,children:[l.jsxs("div",{className:"flex items-center justify-between mb-3",children:[l.jsx("h4",{className:"text-lg font-semibold text-white",children:R.name}),l.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${R.isActive?"bg-green-900/50 text-green-300 border border-green-700/50":"bg-gray-900/50 text-gray-300 border border-gray-600/50"}`,children:R.isActive?"ACTIVE":"INACTIVE"})]}),l.jsx("p",{className:"text-gray-300 text-sm mb-3",children:R.description}),l.jsxs("div",{className:"space-y-2 text-sm",children:[l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-gray-400",children:"Stamps:"}),l.jsx("span",{className:"text-white",children:R.stampRequirement})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-gray-400",children:"Reward:"}),l.jsx("span",{className:"text-white",children:R.rewardDescription})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-gray-400",children:"Type:"}),l.jsx("span",{className:"text-white capitalize",children:R.rewardType})]})]})]},R.offerId))})]})]})},vz=({allUsers:t})=>{const e=o=>{var c,u;if((c=o.offerSnapshot)!=null&&c.stampRequirement)return o.offerSnapshot.stampRequirement;const a=o;return(u=a.settingsSnapshot)!=null&&u.purchaseLimit?a.settingsSnapshot.purchaseLimit:"Unknown"},n=t.flatMap(o=>(o.completedRewards||[]).map(a=>({...a,userName:o.name,userEmail:o.email,userId:o.id}))),r=n.filter(o=>!o.claimedAt),s=n.filter(o=>o.claimedAt),i=n.filter(o=>o.expiresAt?new Date>o.expiresAt.toDate():!1);return l.jsxs("div",{className:"bg-gray-900/80 backdrop-blur-sm border border-red-900/30 rounded-2xl p-8 shadow-2xl",children:[l.jsxs("div",{className:"text-center mb-8",children:[l.jsx("h2",{className:"text-3xl font-bold text-white mb-2",children:"Rewards History & Status"}),l.jsx("p",{className:"text-gray-400",children:"Monitor all rewards across the system"})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-8",children:[l.jsxs("div",{className:"bg-gradient-to-r from-blue-900/50 to-blue-800/50 border border-blue-700/50 rounded-xl p-4 text-center",children:[l.jsx("div",{className:"text-2xl font-bold text-blue-400",children:n.length}),l.jsx("div",{className:"text-blue-300 text-sm",children:"Total Rewards"})]}),l.jsxs("div",{className:"bg-gradient-to-r from-green-900/50 to-green-800/50 border border-green-700/50 rounded-xl p-4 text-center",children:[l.jsx("div",{className:"text-2xl font-bold text-green-400",children:r.length}),l.jsx("div",{className:"text-green-300 text-sm",children:"Active Rewards"})]}),l.jsxs("div",{className:"bg-gradient-to-r from-yellow-900/50 to-yellow-800/50 border border-yellow-700/50 rounded-xl p-4 text-center",children:[l.jsx("div",{className:"text-2xl font-bold text-yellow-400",children:s.length}),l.jsx("div",{className:"text-yellow-300 text-sm",children:"Claimed Rewards"})]}),l.jsxs("div",{className:"bg-gradient-to-r from-red-900/50 to-red-800/50 border border-red-700/50 rounded-xl p-4 text-center",children:[l.jsx("div",{className:"text-2xl font-bold text-red-400",children:i.length}),l.jsx("div",{className:"text-red-300 text-sm",children:"Expired Rewards"})]})]}),l.jsxs("div",{className:"mb-8",children:[l.jsxs("h3",{className:"text-xl font-bold text-white mb-4 flex items-center",children:[l.jsx(fx,{className:"w-5 h-5 mr-2 text-green-400"}),"Active Rewards (",r.length,")"]}),r.length===0?l.jsxs("div",{className:"text-center py-8 bg-gray-800/30 rounded-xl",children:[l.jsx("div",{className:"text-4xl mb-2",children:""}),l.jsx("p",{className:"text-gray-400",children:"No active rewards at the moment"})]}):l.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:r.map(o=>l.jsxs("div",{className:"bg-gradient-to-br from-green-900/40 to-green-800/40 border border-green-700/50 rounded-xl p-4",children:[l.jsxs("div",{className:"flex items-center justify-between mb-3",children:[l.jsx("div",{className:"text-lg font-semibold text-white",children:o.rewardDescription}),l.jsx("div",{className:"text-xs text-green-300 bg-green-900/50 px-2 py-1 rounded-full",children:"ACTIVE"})]}),l.jsxs("div",{className:"space-y-2 text-sm",children:[l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-gray-400",children:"User:"}),l.jsx("span",{className:"text-white",children:o.userName})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-gray-400",children:"Type:"}),l.jsx("span",{className:"text-white capitalize",children:o.rewardType})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-gray-400",children:"Value:"}),l.jsx("span",{className:"text-white",children:o.rewardValue})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-gray-400",children:"Goal:"}),l.jsxs("span",{className:"text-white",children:[e(o)," purchases"]})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-gray-400",children:"Earned:"}),l.jsx("span",{className:"text-white",children:o.createdAt.toDate().toLocaleDateString()})]})]})]},o.rewardId))})]}),s.length>0&&l.jsxs("div",{className:"mb-8",children:[l.jsxs("h3",{className:"text-xl font-bold text-white mb-4 flex items-center",children:[l.jsx(uf,{className:"w-5 h-5 mr-2 text-yellow-400"}),"Claimed Rewards (",s.length,")"]}),l.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:s.slice(0,6).map(o=>{var a;return l.jsxs("div",{className:"bg-gradient-to-br from-yellow-900/40 to-yellow-800/40 border border-yellow-700/50 rounded-xl p-4 opacity-75",children:[l.jsxs("div",{className:"flex items-center justify-between mb-3",children:[l.jsx("div",{className:"text-lg font-semibold text-white",children:o.rewardDescription}),l.jsx("div",{className:"text-xs text-yellow-300 bg-yellow-900/50 px-2 py-1 rounded-full",children:"CLAIMED"})]}),l.jsxs("div",{className:"space-y-2 text-sm",children:[l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-gray-400",children:"User:"}),l.jsx("span",{className:"text-white",children:o.userName})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-gray-400",children:"Claimed:"}),l.jsx("span",{className:"text-white",children:(a=o.claimedAt)==null?void 0:a.toDate().toLocaleDateString()})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-gray-400",children:"Type:"}),l.jsx("span",{className:"text-white capitalize",children:o.rewardType})]})]})]},o.rewardId)})}),s.length>6&&l.jsx("div",{className:"text-center mt-4",children:l.jsxs("p",{className:"text-gray-400 text-sm",children:["Showing 6 of ",s.length," claimed rewards"]})})]})]})},xz=({allUsers:t})=>{const e=t.filter(s=>s.role==="customer"),n=e.reduce((s,i)=>{var o;return s+(((o=i.completedRewards)==null?void 0:o.length)||0)},0),r=e.filter(s=>s.lastScanAt&&new Date().getTime()-s.lastScanAt.toDate().getTime()<7*24*60*60*1e3).length;return l.jsxs("div",{className:"bg-gray-900/80 backdrop-blur-sm border border-red-900/30 rounded-2xl p-8 shadow-2xl",children:[l.jsxs("div",{className:"text-center mb-8",children:[l.jsx("h2",{className:"text-3xl font-bold text-white mb-2",children:"System Analytics"}),l.jsx("p",{className:"text-gray-400",children:"Overview of loyalty program performance"})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[l.jsxs("div",{className:"bg-gradient-to-r from-blue-900/50 to-blue-800/50 border border-blue-700/50 rounded-xl p-6 text-center",children:[l.jsx("div",{className:"text-4xl font-bold text-blue-400 mb-2",children:e.length}),l.jsx("div",{className:"text-blue-300 text-lg",children:"Total Customers"}),l.jsx("div",{className:"text-blue-400 text-sm mt-2",children:"Active loyalty members"})]}),l.jsxs("div",{className:"bg-gradient-to-r from-green-900/50 to-green-800/50 border border-green-700/50 rounded-xl p-6 text-center",children:[l.jsx("div",{className:"text-4xl font-bold text-green-400 mb-2",children:n}),l.jsx("div",{className:"text-green-300 text-lg",children:"Total Rewards"}),l.jsx("div",{className:"text-green-400 text-sm mt-2",children:"Earned by customers"})]}),l.jsxs("div",{className:"bg-gradient-to-r from-purple-900/50 to-purple-800/50 border border-purple-700/50 rounded-xl p-6 text-center",children:[l.jsx("div",{className:"text-4xl font-bold text-purple-400 mb-2",children:r}),l.jsx("div",{className:"text-purple-300 text-lg",children:"Active Users"}),l.jsx("div",{className:"text-purple-400 text-sm mt-2",children:"Last 7 days"})]})]}),l.jsxs("div",{className:"bg-gray-800/50 border border-gray-700 rounded-xl p-6",children:[l.jsxs("h3",{className:"text-xl font-bold text-white mb-4 flex items-center",children:[l.jsx(gx,{className:"w-5 h-5 mr-2 text-green-400"}),"Recent Activity"]}),l.jsx("div",{className:"space-y-3",children:e.slice(0,5).map(s=>l.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-700/30 rounded-lg",children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("div",{className:"w-8 h-8 bg-red-600 rounded-full flex items-center justify-center",children:l.jsx("span",{className:"text-white text-sm font-bold",children:s.name.charAt(0)})}),l.jsxs("div",{children:[l.jsx("div",{className:"text-white font-medium",children:s.name}),l.jsx("div",{className:"text-gray-400 text-sm",children:s.email})]})]}),l.jsxs("div",{className:"text-right",children:[l.jsxs("div",{className:"text-white font-medium",children:[s.purchases," purchases"]}),l.jsx("div",{className:"text-gray-400 text-sm",children:s.lastScanAt?s.lastScanAt.toDate().toLocaleDateString():"Never"})]})]},s.id))})]})]})},wz=({allUsers:t})=>{const e=t.filter(r=>r.role==="customer"),n=t.filter(r=>r.role==="admin"||r.role==="super_admin");return l.jsxs("div",{className:"bg-gray-900/80 backdrop-blur-sm border border-red-900/30 rounded-2xl p-8 shadow-2xl",children:[l.jsxs("div",{className:"text-center mb-8",children:[l.jsx("h2",{className:"text-3xl font-bold text-white mb-2",children:"User Management"}),l.jsx("p",{className:"text-gray-400",children:"Overview of all system users"})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[l.jsxs("div",{className:"bg-gradient-to-r from-blue-900/50 to-blue-800/50 border border-blue-700/50 rounded-xl p-6 text-center",children:[l.jsx("div",{className:"text-4xl font-bold text-blue-400 mb-2",children:t.length}),l.jsx("div",{className:"text-blue-300 text-lg",children:"Total Users"})]}),l.jsxs("div",{className:"bg-gradient-to-r from-green-900/50 to-green-800/50 border border-green-700/50 rounded-xl p-6 text-center",children:[l.jsx("div",{className:"text-4xl font-bold text-green-400 mb-2",children:e.length}),l.jsx("div",{className:"text-green-300 text-lg",children:"Customers"})]}),l.jsxs("div",{className:"bg-gradient-to-r from-purple-900/50 to-purple-800/50 border border-purple-700/50 rounded-xl p-6 text-center",children:[l.jsx("div",{className:"text-4xl font-bold text-purple-400 mb-2",children:n.length}),l.jsx("div",{className:"text-purple-300 text-lg",children:"Administrators"})]})]}),l.jsxs("div",{className:"bg-gray-800/50 border border-gray-700 rounded-xl p-6",children:[l.jsxs("h3",{className:"text-xl font-bold text-white mb-4 flex items-center",children:[l.jsx(na,{className:"w-5 h-5 mr-2 text-blue-400"}),"Customer Overview"]}),l.jsxs("div",{className:"overflow-x-auto",children:[l.jsxs("table",{className:"w-full text-sm",children:[l.jsx("thead",{children:l.jsxs("tr",{className:"border-b border-gray-700",children:[l.jsx("th",{className:"text-left p-3 text-gray-300",children:"Name"}),l.jsx("th",{className:"text-left p-3 text-gray-300",children:"Email"}),l.jsx("th",{className:"text-left p-3 text-gray-300",children:"Purchases"}),l.jsx("th",{className:"text-left p-3 text-gray-300",children:"Rewards"}),l.jsx("th",{className:"text-left p-3 text-gray-300",children:"Last Scan"}),l.jsx("th",{className:"text-left p-3 text-gray-300",children:"Status"})]})}),l.jsx("tbody",{children:e.slice(0,10).map(r=>{var s;return l.jsxs("tr",{className:"border-b border-gray-700/50 hover:bg-gray-700/30",children:[l.jsx("td",{className:"p-3 text-white",children:r.name}),l.jsx("td",{className:"p-3 text-gray-300",children:r.email}),l.jsx("td",{className:"p-3 text-white",children:r.purchases}),l.jsx("td",{className:"p-3 text-white",children:((s=r.completedRewards)==null?void 0:s.length)||0}),l.jsx("td",{className:"p-3 text-gray-300",children:r.lastScanAt?r.lastScanAt.toDate().toLocaleDateString():"Never"}),l.jsx("td",{className:"p-3",children:l.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${r.lastScanAt&&new Date().getTime()-r.lastScanAt.toDate().getTime()<7*24*60*60*1e3?"bg-green-900/50 text-green-300 border border-green-700/50":"bg-gray-900/50 text-gray-300 border border-gray-700/50"}`,children:r.lastScanAt&&new Date().getTime()-r.lastScanAt.toDate().getTime()<7*24*60*60*1e3?"Active":"Inactive"})})]},r.id)})})]}),e.length>10&&l.jsx("div",{className:"text-center mt-4",children:l.jsxs("p",{className:"text-gray-400 text-sm",children:["Showing 10 of ",e.length," customers"]})})]})]})]})};function UC(t,[e,n]){return Math.min(n,Math.max(e,t))}function Ez(t){const e=y.useRef({value:t,previous:t});return y.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var bz=[" ","Enter","ArrowUp","ArrowDown"],Cz=[" ","Enter"],Nd="Select",[Fm,Bm,_z]=ad(Nd),[fc,bQ]=ld(Nd,[_z,uc]),Um=uc(),[Tz,wo]=fc(Nd),[Az,Sz]=fc(Nd),c2=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:s,onOpenChange:i,value:o,defaultValue:a,onValueChange:c,dir:u,name:h,autoComplete:f,disabled:p,required:v,form:x}=t,g=Um(e),[w,T]=y.useState(null),[E,b]=y.useState(null),[R,D]=y.useState(!1),F=km(u),[I=!1,S]=Mu({prop:r,defaultProp:s,onChange:i}),[P,k]=Mu({prop:o,defaultProp:a,onChange:c}),O=y.useRef(null),L=w?x||!!w.closest("form"):!0,[j,W]=y.useState(new Set),H=Array.from(j).map(J=>J.props.value).join(";");return l.jsx(sN,{...g,children:l.jsxs(Tz,{required:v,scope:e,trigger:w,onTriggerChange:T,valueNode:E,onValueNodeChange:b,valueNodeHasChildren:R,onValueNodeHasChildrenChange:D,contentId:Ko(),value:P,onValueChange:k,open:I,onOpenChange:S,dir:F,triggerPointerDownPosRef:O,disabled:p,children:[l.jsx(Fm.Provider,{scope:e,children:l.jsx(Az,{scope:t.__scopeSelect,onNativeOptionAdd:y.useCallback(J=>{W(oe=>new Set(oe).add(J))},[]),onNativeOptionRemove:y.useCallback(J=>{W(oe=>{const q=new Set(oe);return q.delete(J),q})},[]),children:n})}),L?l.jsxs(j2,{"aria-hidden":!0,required:v,tabIndex:-1,name:h,autoComplete:f,value:P,onChange:J=>k(J.target.value),disabled:p,form:x,children:[P===void 0?l.jsx("option",{value:""}):null,Array.from(j)]},H):null]})})};c2.displayName=Nd;var u2="SelectTrigger",d2=y.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...s}=t,i=Um(n),o=wo(u2,n),a=o.disabled||r,c=it(e,o.onTriggerChange),u=Bm(n),h=y.useRef("touch"),[f,p,v]=D2(g=>{const w=u().filter(b=>!b.disabled),T=w.find(b=>b.value===o.value),E=O2(w,g,T);E!==void 0&&o.onValueChange(E.value)}),x=g=>{a||(o.onOpenChange(!0),v()),g&&(o.triggerPointerDownPosRef.current={x:Math.round(g.pageX),y:Math.round(g.pageY)})};return l.jsx(Aw,{asChild:!0,...i,children:l.jsx(Be.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:a,"data-disabled":a?"":void 0,"data-placeholder":M2(o.value)?"":void 0,...s,ref:c,onClick:pe(s.onClick,g=>{g.currentTarget.focus(),h.current!=="mouse"&&x(g)}),onPointerDown:pe(s.onPointerDown,g=>{h.current=g.pointerType;const w=g.target;w.hasPointerCapture(g.pointerId)&&w.releasePointerCapture(g.pointerId),g.button===0&&g.ctrlKey===!1&&g.pointerType==="mouse"&&(x(g),g.preventDefault())}),onKeyDown:pe(s.onKeyDown,g=>{const w=f.current!=="";!(g.ctrlKey||g.altKey||g.metaKey)&&g.key.length===1&&p(g.key),!(w&&g.key===" ")&&bz.includes(g.key)&&(x(),g.preventDefault())})})})});d2.displayName=u2;var h2="SelectValue",f2=y.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,children:i,placeholder:o="",...a}=t,c=wo(h2,n),{onValueNodeHasChildrenChange:u}=c,h=i!==void 0,f=it(e,c.onValueNodeChange);return Cn(()=>{u(h)},[u,h]),l.jsx(Be.span,{...a,ref:f,style:{pointerEvents:"none"},children:M2(c.value)?l.jsx(l.Fragment,{children:o}):i})});f2.displayName=h2;var Iz="SelectIcon",p2=y.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...s}=t;return l.jsx(Be.span,{"aria-hidden":!0,...s,ref:e,children:r||""})});p2.displayName=Iz;var Rz="SelectPortal",m2=t=>l.jsx(Jp,{asChild:!0,...t});m2.displayName=Rz;var da="SelectContent",g2=y.forwardRef((t,e)=>{const n=wo(da,t.__scopeSelect),[r,s]=y.useState();if(Cn(()=>{s(new DocumentFragment)},[]),!n.open){const i=r;return i?pa.createPortal(l.jsx(y2,{scope:t.__scopeSelect,children:l.jsx(Fm.Slot,{scope:t.__scopeSelect,children:l.jsx("div",{children:t.children})})}),i):null}return l.jsx(v2,{...t,ref:e})});g2.displayName=da;var Mr=10,[y2,Eo]=fc(da),Nz="SelectContentImpl",v2=y.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:i,onPointerDownOutside:o,side:a,sideOffset:c,align:u,alignOffset:h,arrowPadding:f,collisionBoundary:p,collisionPadding:v,sticky:x,hideWhenDetached:g,avoidCollisions:w,...T}=t,E=wo(da,n),[b,R]=y.useState(null),[D,F]=y.useState(null),I=it(e,ie=>R(ie)),[S,P]=y.useState(null),[k,O]=y.useState(null),L=Bm(n),[j,W]=y.useState(!1),H=y.useRef(!1);y.useEffect(()=>{if(b)return rP(b)},[b]),QN();const J=y.useCallback(ie=>{const[ge,...xe]=L().map(Ce=>Ce.ref.current),[Ee]=xe.slice(-1),Te=document.activeElement;for(const Ce of ie)if(Ce===Te||(Ce==null||Ce.scrollIntoView({block:"nearest"}),Ce===ge&&D&&(D.scrollTop=0),Ce===Ee&&D&&(D.scrollTop=D.scrollHeight),Ce==null||Ce.focus(),document.activeElement!==Te))return},[L,D]),oe=y.useCallback(()=>J([S,b]),[J,S,b]);y.useEffect(()=>{j&&oe()},[j,oe]);const{onOpenChange:q,triggerPointerDownPosRef:z}=E;y.useEffect(()=>{if(b){let ie={x:0,y:0};const ge=Ee=>{var Te,Ce;ie={x:Math.abs(Math.round(Ee.pageX)-(((Te=z.current)==null?void 0:Te.x)??0)),y:Math.abs(Math.round(Ee.pageY)-(((Ce=z.current)==null?void 0:Ce.y)??0))}},xe=Ee=>{ie.x<=10&&ie.y<=10?Ee.preventDefault():b.contains(Ee.target)||q(!1),document.removeEventListener("pointermove",ge),z.current=null};return z.current!==null&&(document.addEventListener("pointermove",ge),document.addEventListener("pointerup",xe,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",ge),document.removeEventListener("pointerup",xe,{capture:!0})}}},[b,q,z]),y.useEffect(()=>{const ie=()=>q(!1);return window.addEventListener("blur",ie),window.addEventListener("resize",ie),()=>{window.removeEventListener("blur",ie),window.removeEventListener("resize",ie)}},[q]);const[se,ne]=D2(ie=>{const ge=L().filter(Te=>!Te.disabled),xe=ge.find(Te=>Te.ref.current===document.activeElement),Ee=O2(ge,ie,xe);Ee&&setTimeout(()=>Ee.ref.current.focus())}),le=y.useCallback((ie,ge,xe)=>{const Ee=!H.current&&!xe;(E.value!==void 0&&E.value===ge||Ee)&&(P(ie),Ee&&(H.current=!0))},[E.value]),ue=y.useCallback(()=>b==null?void 0:b.focus(),[b]),Se=y.useCallback((ie,ge,xe)=>{const Ee=!H.current&&!xe;(E.value!==void 0&&E.value===ge||Ee)&&O(ie)},[E.value]),ke=r==="popper"?Xy:x2,we=ke===Xy?{side:a,sideOffset:c,align:u,alignOffset:h,arrowPadding:f,collisionBoundary:p,collisionPadding:v,sticky:x,hideWhenDetached:g,avoidCollisions:w}:{};return l.jsx(y2,{scope:n,content:b,viewport:D,onViewportChange:F,itemRefCallback:le,selectedItem:S,onItemLeave:ue,itemTextRefCallback:Se,focusSelectedItem:oe,selectedItemText:k,position:r,isPositioned:j,searchRef:se,children:l.jsx(Bw,{as:ta,allowPinchZoom:!0,children:l.jsx(Fw,{asChild:!0,trapped:E.open,onMountAutoFocus:ie=>{ie.preventDefault()},onUnmountAutoFocus:pe(s,ie=>{var ge;(ge=E.trigger)==null||ge.focus({preventScroll:!0}),ie.preventDefault()}),children:l.jsx(cd,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:ie=>ie.preventDefault(),onDismiss:()=>E.onOpenChange(!1),children:l.jsx(ke,{role:"listbox",id:E.contentId,"data-state":E.open?"open":"closed",dir:E.dir,onContextMenu:ie=>ie.preventDefault(),...T,...we,onPlaced:()=>W(!0),ref:I,style:{display:"flex",flexDirection:"column",outline:"none",...T.style},onKeyDown:pe(T.onKeyDown,ie=>{const ge=ie.ctrlKey||ie.altKey||ie.metaKey;if(ie.key==="Tab"&&ie.preventDefault(),!ge&&ie.key.length===1&&ne(ie.key),["ArrowUp","ArrowDown","Home","End"].includes(ie.key)){let Ee=L().filter(Te=>!Te.disabled).map(Te=>Te.ref.current);if(["ArrowUp","End"].includes(ie.key)&&(Ee=Ee.slice().reverse()),["ArrowUp","ArrowDown"].includes(ie.key)){const Te=ie.target,Ce=Ee.indexOf(Te);Ee=Ee.slice(Ce+1)}setTimeout(()=>J(Ee)),ie.preventDefault()}})})})})})})});v2.displayName=Nz;var Pz="SelectItemAlignedPosition",x2=y.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...s}=t,i=wo(da,n),o=Eo(da,n),[a,c]=y.useState(null),[u,h]=y.useState(null),f=it(e,I=>h(I)),p=Bm(n),v=y.useRef(!1),x=y.useRef(!0),{viewport:g,selectedItem:w,selectedItemText:T,focusSelectedItem:E}=o,b=y.useCallback(()=>{if(i.trigger&&i.valueNode&&a&&u&&g&&w&&T){const I=i.trigger.getBoundingClientRect(),S=u.getBoundingClientRect(),P=i.valueNode.getBoundingClientRect(),k=T.getBoundingClientRect();if(i.dir!=="rtl"){const Te=k.left-S.left,Ce=P.left-Te,he=I.left-Ce,ve=I.width+he,gt=Math.max(ve,S.width),at=window.innerWidth-Mr,Dt=UC(Ce,[Mr,Math.max(Mr,at-gt)]);a.style.minWidth=ve+"px",a.style.left=Dt+"px"}else{const Te=S.right-k.right,Ce=window.innerWidth-P.right-Te,he=window.innerWidth-I.right-Ce,ve=I.width+he,gt=Math.max(ve,S.width),at=window.innerWidth-Mr,Dt=UC(Ce,[Mr,Math.max(Mr,at-gt)]);a.style.minWidth=ve+"px",a.style.right=Dt+"px"}const O=p(),L=window.innerHeight-Mr*2,j=g.scrollHeight,W=window.getComputedStyle(u),H=parseInt(W.borderTopWidth,10),J=parseInt(W.paddingTop,10),oe=parseInt(W.borderBottomWidth,10),q=parseInt(W.paddingBottom,10),z=H+J+j+q+oe,se=Math.min(w.offsetHeight*5,z),ne=window.getComputedStyle(g),le=parseInt(ne.paddingTop,10),ue=parseInt(ne.paddingBottom,10),Se=I.top+I.height/2-Mr,ke=L-Se,we=w.offsetHeight/2,ie=w.offsetTop+we,ge=H+J+ie,xe=z-ge;if(ge<=Se){const Te=O.length>0&&w===O[O.length-1].ref.current;a.style.bottom="0px";const Ce=u.clientHeight-g.offsetTop-g.offsetHeight,he=Math.max(ke,we+(Te?ue:0)+Ce+oe),ve=ge+he;a.style.height=ve+"px"}else{const Te=O.length>0&&w===O[0].ref.current;a.style.top="0px";const he=Math.max(Se,H+g.offsetTop+(Te?le:0)+we)+xe;a.style.height=he+"px",g.scrollTop=ge-Se+g.offsetTop}a.style.margin=`${Mr}px 0`,a.style.minHeight=se+"px",a.style.maxHeight=L+"px",r==null||r(),requestAnimationFrame(()=>v.current=!0)}},[p,i.trigger,i.valueNode,a,u,g,w,T,i.dir,r]);Cn(()=>b(),[b]);const[R,D]=y.useState();Cn(()=>{u&&D(window.getComputedStyle(u).zIndex)},[u]);const F=y.useCallback(I=>{I&&x.current===!0&&(b(),E==null||E(),x.current=!1)},[b,E]);return l.jsx(Mz,{scope:n,contentWrapper:a,shouldExpandOnScrollRef:v,onScrollButtonChange:F,children:l.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:R},children:l.jsx(Be.div,{...s,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});x2.displayName=Pz;var kz="SelectPopperPosition",Xy=y.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:s=Mr,...i}=t,o=Um(n);return l.jsx(Sw,{...o,...i,ref:e,align:r,collisionPadding:s,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Xy.displayName=kz;var[Mz,Hw]=fc(da,{}),Zy="SelectViewport",w2=y.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...s}=t,i=Eo(Zy,n),o=Hw(Zy,n),a=it(e,i.onViewportChange),c=y.useRef(0);return l.jsxs(l.Fragment,{children:[l.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),l.jsx(Fm.Slot,{scope:n,children:l.jsx(Be.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:a,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:pe(s.onScroll,u=>{const h=u.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:p}=o;if(p!=null&&p.current&&f){const v=Math.abs(c.current-h.scrollTop);if(v>0){const x=window.innerHeight-Mr*2,g=parseFloat(f.style.minHeight),w=parseFloat(f.style.height),T=Math.max(g,w);if(T<x){const E=T+v,b=Math.min(x,E),R=E-b;f.style.height=b+"px",f.style.bottom==="0px"&&(h.scrollTop=R>0?R:0,f.style.justifyContent="flex-end")}}}c.current=h.scrollTop})})})]})});w2.displayName=Zy;var E2="SelectGroup",[jz,Dz]=fc(E2),Oz=y.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=Ko();return l.jsx(jz,{scope:n,id:s,children:l.jsx(Be.div,{role:"group","aria-labelledby":s,...r,ref:e})})});Oz.displayName=E2;var b2="SelectLabel",C2=y.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=Dz(b2,n);return l.jsx(Be.div,{id:s.id,...r,ref:e})});C2.displayName=b2;var Mp="SelectItem",[Lz,_2]=fc(Mp),T2=y.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:s=!1,textValue:i,...o}=t,a=wo(Mp,n),c=Eo(Mp,n),u=a.value===r,[h,f]=y.useState(i??""),[p,v]=y.useState(!1),x=it(e,E=>{var b;return(b=c.itemRefCallback)==null?void 0:b.call(c,E,r,s)}),g=Ko(),w=y.useRef("touch"),T=()=>{s||(a.onValueChange(r),a.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return l.jsx(Lz,{scope:n,value:r,disabled:s,textId:g,isSelected:u,onItemTextChange:y.useCallback(E=>{f(b=>b||((E==null?void 0:E.textContent)??"").trim())},[]),children:l.jsx(Fm.ItemSlot,{scope:n,value:r,disabled:s,textValue:h,children:l.jsx(Be.div,{role:"option","aria-labelledby":g,"data-highlighted":p?"":void 0,"aria-selected":u&&p,"data-state":u?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...o,ref:x,onFocus:pe(o.onFocus,()=>v(!0)),onBlur:pe(o.onBlur,()=>v(!1)),onClick:pe(o.onClick,()=>{w.current!=="mouse"&&T()}),onPointerUp:pe(o.onPointerUp,()=>{w.current==="mouse"&&T()}),onPointerDown:pe(o.onPointerDown,E=>{w.current=E.pointerType}),onPointerMove:pe(o.onPointerMove,E=>{var b;w.current=E.pointerType,s?(b=c.onItemLeave)==null||b.call(c):w.current==="mouse"&&E.currentTarget.focus({preventScroll:!0})}),onPointerLeave:pe(o.onPointerLeave,E=>{var b;E.currentTarget===document.activeElement&&((b=c.onItemLeave)==null||b.call(c))}),onKeyDown:pe(o.onKeyDown,E=>{var R;((R=c.searchRef)==null?void 0:R.current)!==""&&E.key===" "||(Cz.includes(E.key)&&T(),E.key===" "&&E.preventDefault())})})})})});T2.displayName=Mp;var Kc="SelectItemText",A2=y.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,...i}=t,o=wo(Kc,n),a=Eo(Kc,n),c=_2(Kc,n),u=Sz(Kc,n),[h,f]=y.useState(null),p=it(e,T=>f(T),c.onItemTextChange,T=>{var E;return(E=a.itemTextRefCallback)==null?void 0:E.call(a,T,c.value,c.disabled)}),v=h==null?void 0:h.textContent,x=y.useMemo(()=>l.jsx("option",{value:c.value,disabled:c.disabled,children:v},c.value),[c.disabled,c.value,v]),{onNativeOptionAdd:g,onNativeOptionRemove:w}=u;return Cn(()=>(g(x),()=>w(x)),[g,w,x]),l.jsxs(l.Fragment,{children:[l.jsx(Be.span,{id:c.textId,...i,ref:p}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?pa.createPortal(i.children,o.valueNode):null]})});A2.displayName=Kc;var S2="SelectItemIndicator",I2=y.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return _2(S2,n).isSelected?l.jsx(Be.span,{"aria-hidden":!0,...r,ref:e}):null});I2.displayName=S2;var ev="SelectScrollUpButton",R2=y.forwardRef((t,e)=>{const n=Eo(ev,t.__scopeSelect),r=Hw(ev,t.__scopeSelect),[s,i]=y.useState(!1),o=it(e,r.onScrollButtonChange);return Cn(()=>{if(n.viewport&&n.isPositioned){let a=function(){const u=c.scrollTop>0;i(u)};const c=n.viewport;return a(),c.addEventListener("scroll",a),()=>c.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),s?l.jsx(P2,{...t,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:c}=n;a&&c&&(a.scrollTop=a.scrollTop-c.offsetHeight)}}):null});R2.displayName=ev;var tv="SelectScrollDownButton",N2=y.forwardRef((t,e)=>{const n=Eo(tv,t.__scopeSelect),r=Hw(tv,t.__scopeSelect),[s,i]=y.useState(!1),o=it(e,r.onScrollButtonChange);return Cn(()=>{if(n.viewport&&n.isPositioned){let a=function(){const u=c.scrollHeight-c.clientHeight,h=Math.ceil(c.scrollTop)<u;i(h)};const c=n.viewport;return a(),c.addEventListener("scroll",a),()=>c.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),s?l.jsx(P2,{...t,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:c}=n;a&&c&&(a.scrollTop=a.scrollTop+c.offsetHeight)}}):null});N2.displayName=tv;var P2=y.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...s}=t,i=Eo("SelectScrollButton",n),o=y.useRef(null),a=Bm(n),c=y.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return y.useEffect(()=>()=>c(),[c]),Cn(()=>{var h;const u=a().find(f=>f.ref.current===document.activeElement);(h=u==null?void 0:u.ref.current)==null||h.scrollIntoView({block:"nearest"})},[a]),l.jsx(Be.div,{"aria-hidden":!0,...s,ref:e,style:{flexShrink:0,...s.style},onPointerDown:pe(s.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(r,50))}),onPointerMove:pe(s.onPointerMove,()=>{var u;(u=i.onItemLeave)==null||u.call(i),o.current===null&&(o.current=window.setInterval(r,50))}),onPointerLeave:pe(s.onPointerLeave,()=>{c()})})}),Vz="SelectSeparator",k2=y.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return l.jsx(Be.div,{"aria-hidden":!0,...r,ref:e})});k2.displayName=Vz;var nv="SelectArrow",Fz=y.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=Um(n),i=wo(nv,n),o=Eo(nv,n);return i.open&&o.position==="popper"?l.jsx(Iw,{...s,...r,ref:e}):null});Fz.displayName=nv;function M2(t){return t===""||t===void 0}var j2=y.forwardRef((t,e)=>{const{value:n,...r}=t,s=y.useRef(null),i=it(e,s),o=Ez(n);return y.useEffect(()=>{const a=s.current,c=window.HTMLSelectElement.prototype,h=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==n&&h){const f=new Event("change",{bubbles:!0});h.call(a,n),a.dispatchEvent(f)}},[o,n]),l.jsx(ud,{asChild:!0,children:l.jsx("select",{...r,ref:i,defaultValue:n})})});j2.displayName="BubbleSelect";function D2(t){const e=bn(t),n=y.useRef(""),r=y.useRef(0),s=y.useCallback(o=>{const a=n.current+o;e(a),function c(u){n.current=u,window.clearTimeout(r.current),u!==""&&(r.current=window.setTimeout(()=>c(""),1e3))}(a)},[e]),i=y.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return y.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,s,i]}function O2(t,e,n){const s=e.length>1&&Array.from(e).every(u=>u===e[0])?e[0]:e,i=n?t.indexOf(n):-1;let o=Bz(t,Math.max(i,0));s.length===1&&(o=o.filter(u=>u!==n));const c=o.find(u=>u.textValue.toLowerCase().startsWith(s.toLowerCase()));return c!==n?c:void 0}function Bz(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var Uz=c2,L2=d2,qz=f2,Gz=p2,$z=m2,V2=g2,zz=w2,F2=C2,B2=T2,Wz=A2,Qz=I2,U2=R2,q2=N2,G2=k2;const Yz=Uz,Kz=qz,$2=y.forwardRef(({className:t,children:e,...n},r)=>l.jsxs(L2,{ref:r,className:nt("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[e,l.jsx(Gz,{asChild:!0,children:l.jsx(ju,{className:"h-4 w-4 opacity-50"})})]}));$2.displayName=L2.displayName;const z2=y.forwardRef(({className:t,...e},n)=>l.jsx(U2,{ref:n,className:nt("flex cursor-default items-center justify-center py-1",t),...e,children:l.jsx(np,{className:"h-4 w-4"})}));z2.displayName=U2.displayName;const W2=y.forwardRef(({className:t,...e},n)=>l.jsx(q2,{ref:n,className:nt("flex cursor-default items-center justify-center py-1",t),...e,children:l.jsx(ju,{className:"h-4 w-4"})}));W2.displayName=q2.displayName;const Q2=y.forwardRef(({className:t,children:e,position:n="popper",...r},s)=>l.jsx($z,{children:l.jsxs(V2,{ref:s,className:nt("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[l.jsx(z2,{}),l.jsx(zz,{className:nt("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),l.jsx(W2,{})]})}));Q2.displayName=V2.displayName;const Hz=y.forwardRef(({className:t,...e},n)=>l.jsx(F2,{ref:n,className:nt("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));Hz.displayName=F2.displayName;const Tf=y.forwardRef(({className:t,children:e,...n},r)=>l.jsxs(B2,{ref:r,className:nt("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[l.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:l.jsx(Qz,{children:l.jsx(JA,{className:"h-4 w-4"})})}),l.jsx(Wz,{children:e})]}));Tf.displayName=B2.displayName;const Jz=y.forwardRef(({className:t,...e},n)=>l.jsx(G2,{ref:n,className:nt("-mx-1 my-1 h-px bg-muted",t),...e}));Jz.displayName=G2.displayName;const Xz=()=>{const{user:t,loading:e,updateUserRole:n}=gs(),r=Yr(),[s,i]=y.useState([]),[o,a]=y.useState(!0),[c,u]=y.useState(null),[h,f]=y.useState(null),[p,v]=y.useState(null);if(y.useEffect(()=>{!e&&(!t||t.role!=="super_admin")&&r("/dashboard")},[t,e,r]),y.useEffect(()=>{const E=async()=>{if(!(!t||t.role!=="super_admin"))try{const b=xd(Pt,"users"),R=rw(b,HI("createdAt","desc")),D=await aw(R),F=[];D.forEach(I=>{const S=I.data();F.push({id:I.id,name:S.name,email:S.email,role:S.role||"customer",purchases:S.purchases||0,createdAt:S.createdAt})}),i(F)}catch(b){console.error("Error loading users:",b),lt({title:"Error",description:"Failed to load users",variant:"destructive"})}finally{a(!1)}};(t==null?void 0:t.role)==="super_admin"&&E()},[t]),e)return l.jsx("div",{className:"min-h-screen bg-gradient-to-br from-black via-gray-900 to-red-950 flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-red-500 mx-auto mb-4"}),l.jsx("p",{className:"text-white text-lg",children:"Loading..."})]})});if(!t||t.role!=="super_admin")return null;const x=async(E,b)=>{if(E===t.id){lt({title:"Cannot Update Own Role",description:"You cannot change your own role",variant:"destructive"});return}u(E);try{await n(E,b),lt({title:"Role Updated",description:"User role has been updated successfully!"}),i(R=>R.map(D=>D.id===E?{...D,role:b}:D))}catch(R){console.error("Error updating role:",R),lt({title:"Update Failed",description:"Failed to update user role. Please try again.",variant:"destructive"})}finally{u(null)}},g=async E=>{f(E);try{await N5(on(Pt,"users",E)),i(b=>b.filter(R=>R.id!==E)),lt({title:"User Deleted",description:"The user has been deleted successfully."})}catch(b){console.error("Error deleting user:",b),lt({title:"Delete Failed",description:"Failed to delete user. Please try again.",variant:"destructive"})}finally{f(null),v(null)}},w=E=>{switch(E){case"super_admin":return l.jsx(sy,{className:"w-4 h-4 text-yellow-500"});case"admin":return l.jsx(eS,{className:"w-4 h-4 text-blue-500"});case"customer":return l.jsx(Ll,{className:"w-4 h-4 text-gray-500"});default:return l.jsx(Ll,{className:"w-4 h-4 text-gray-500"})}},T=E=>{switch(E){case"super_admin":return"text-yellow-500 bg-yellow-500/10 border-yellow-500/20";case"admin":return"text-blue-500 bg-blue-500/10 border-blue-500/20";case"customer":return"text-gray-500 bg-gray-500/10 border-gray-500/20";default:return"text-gray-500 bg-gray-500/10 border-gray-500/20"}};return l.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-black via-gray-900 to-red-950 relative overflow-hidden",children:[l.jsxs("div",{className:"absolute inset-0 opacity-10",children:[l.jsx("div",{className:"absolute top-20 right-10 w-40 h-40 bg-red-500 rounded-full blur-3xl animate-pulse"}),l.jsx("div",{className:"absolute bottom-32 left-10 w-32 h-32 bg-red-600 rounded-full blur-3xl animate-pulse delay-1000"})]}),l.jsxs("div",{className:"relative z-10 min-h-screen flex flex-col",children:[l.jsx("div",{className:"bg-gray-900/80 backdrop-blur-sm border-b border-red-900/30 sticky top-0 z-10",children:l.jsxs("div",{className:"p-6 flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx(Hs,{to:"/dashboard",className:"text-red-400 hover:text-red-300 transition-colors",children:l.jsx(Jl,{className:"w-6 h-6"})}),l.jsx("h1",{className:"ml-4 text-2xl font-bold text-white",children:"User Management"})]}),l.jsxs("div",{className:"flex items-center text-gray-400",children:[l.jsx(sy,{className:"w-6 h-6 mr-2 text-yellow-500"}),l.jsx("span",{className:"text-sm",children:"Super Admin Panel"})]})]})}),l.jsx("div",{className:"flex-1 px-6 py-8",children:l.jsx("div",{className:"max-w-4xl mx-auto",children:l.jsxs("div",{className:"bg-gray-900/80 backdrop-blur-sm border border-red-900/30 rounded-2xl p-8 shadow-2xl",children:[l.jsxs("div",{className:"text-center mb-8",children:[l.jsx("h2",{className:"text-3xl font-bold text-white mb-2",children:"Manage Users"}),l.jsx("p",{className:"text-gray-400",children:"Update user roles and permissions"})]}),o?l.jsxs("div",{className:"text-center py-8",children:[l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-red-500 mx-auto mb-4"}),l.jsx("p",{className:"text-white",children:"Loading users..."})]}):l.jsx("div",{className:"space-y-4",children:s.map(E=>l.jsxs("div",{className:"bg-gray-800/50 border border-gray-700 rounded-lg p-4 flex items-center justify-between",children:[l.jsx("div",{className:"flex items-center space-x-4",children:l.jsxs("div",{className:"flex items-center space-x-3",children:[w(E.role),l.jsxs("div",{children:[l.jsx("h3",{className:"text-white font-semibold",children:E.name}),l.jsx("p",{className:"text-gray-400 text-sm",children:E.email}),l.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[l.jsx("span",{className:`text-xs px-2 py-1 rounded-full border ${T(E.role)}`,children:E.role.replace("_"," ").toUpperCase()}),l.jsxs("span",{className:"text-gray-500 text-xs",children:[E.purchases," purchases"]})]})]})]})}),l.jsxs("div",{className:"flex items-center space-x-3",children:[E.id!==t.id&&l.jsx(l.Fragment,{children:l.jsxs(Yz,{value:E.role,onValueChange:b=>x(E.id,b),disabled:c===E.id,children:[l.jsx($2,{className:"w-32 bg-gray-700 border-gray-600 text-white",children:l.jsx(Kz,{})}),l.jsxs(Q2,{className:"bg-gray-800 border-gray-700",children:[l.jsx(Tf,{value:"customer",children:"Customer"}),l.jsx(Tf,{value:"admin",children:"Admin"}),l.jsx(Tf,{value:"super_admin",children:"Super Admin"})]})]})}),E.id===t.id&&l.jsx("span",{className:"text-gray-500 text-sm",children:"Current User"})]})]},E.id))}),s.length===0&&!o&&l.jsxs("div",{className:"text-center py-8",children:[l.jsx(na,{className:"w-12 h-12 text-gray-500 mx-auto mb-4"}),l.jsx("p",{className:"text-gray-400",children:"No users found"})]})]})})})]}),p&&l.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60",children:l.jsxs("div",{className:"bg-gray-900 rounded-lg p-8 border border-red-700 shadow-xl w-full max-w-sm",children:[l.jsx("h2",{className:"text-lg font-bold text-white mb-4",children:"Confirm Delete"}),l.jsxs("p",{className:"text-gray-300 mb-6",children:["Are you sure you want to delete"," ",l.jsx("span",{className:"font-semibold text-red-400",children:p.name}),"? This action cannot be undone."]}),l.jsxs("div",{className:"flex justify-end space-x-3",children:[l.jsx(Ve,{variant:"ghost",onClick:()=>v(null),className:"text-gray-300 hover:text-white",children:"Cancel"}),l.jsx(Ve,{variant:"destructive",onClick:()=>g(p.id),disabled:h===p.id,children:h===p.id?"Deleting...":"Delete"})]})]})})]})},Zz=()=>{const t=Zs();return y.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",t.pathname)},[t.pathname]),l.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:l.jsxs("div",{className:"text-center",children:[l.jsx("h1",{className:"text-4xl font-bold mb-4",children:"404"}),l.jsx("p",{className:"text-xl text-gray-600 mb-4",children:"Oops! Page not found"}),l.jsx("a",{href:"/",className:"text-blue-500 hover:text-blue-700 underline",children:"Return to Home"})]})})};let Y2=!0,K2=!0;function Hc(t,e,n){const r=t.match(e);return r&&r.length>=n&&parseFloat(r[n],10)}function Ea(t,e,n){if(!t.RTCPeerConnection)return;const r=t.RTCPeerConnection.prototype,s=r.addEventListener;r.addEventListener=function(o,a){if(o!==e)return s.apply(this,arguments);const c=u=>{const h=n(u);h&&(a.handleEvent?a.handleEvent(h):a(h))};return this._eventMap=this._eventMap||{},this._eventMap[e]||(this._eventMap[e]=new Map),this._eventMap[e].set(a,c),s.apply(this,[o,c])};const i=r.removeEventListener;r.removeEventListener=function(o,a){if(o!==e||!this._eventMap||!this._eventMap[e])return i.apply(this,arguments);if(!this._eventMap[e].has(a))return i.apply(this,arguments);const c=this._eventMap[e].get(a);return this._eventMap[e].delete(a),this._eventMap[e].size===0&&delete this._eventMap[e],Object.keys(this._eventMap).length===0&&delete this._eventMap,i.apply(this,[o,c])},Object.defineProperty(r,"on"+e,{get(){return this["_on"+e]},set(o){this["_on"+e]&&(this.removeEventListener(e,this["_on"+e]),delete this["_on"+e]),o&&this.addEventListener(e,this["_on"+e]=o)},enumerable:!0,configurable:!0})}function eW(t){return typeof t!="boolean"?new Error("Argument type: "+typeof t+". Please use a boolean."):(Y2=t,t?"adapter.js logging disabled":"adapter.js logging enabled")}function tW(t){return typeof t!="boolean"?new Error("Argument type: "+typeof t+". Please use a boolean."):(K2=!t,"adapter.js deprecation warnings "+(t?"disabled":"enabled"))}function H2(){if(typeof window=="object"){if(Y2)return;typeof console<"u"&&typeof console.log=="function"&&console.log.apply(console,arguments)}}function Jw(t,e){K2&&console.warn(t+" is deprecated, please use "+e+" instead.")}function nW(t){const e={browser:null,version:null};if(typeof t>"u"||!t.navigator||!t.navigator.userAgent)return e.browser="Not a browser.",e;const{navigator:n}=t;if(n.userAgentData&&n.userAgentData.brands){const r=n.userAgentData.brands.find(s=>s.brand==="Chromium");if(r)return{browser:"chrome",version:parseInt(r.version,10)}}if(n.mozGetUserMedia)e.browser="firefox",e.version=parseInt(Hc(n.userAgent,/Firefox\/(\d+)\./,1));else if(n.webkitGetUserMedia||t.isSecureContext===!1&&t.webkitRTCPeerConnection)e.browser="chrome",e.version=parseInt(Hc(n.userAgent,/Chrom(e|ium)\/(\d+)\./,2));else if(t.RTCPeerConnection&&n.userAgent.match(/AppleWebKit\/(\d+)\./))e.browser="safari",e.version=parseInt(Hc(n.userAgent,/AppleWebKit\/(\d+)\./,1)),e.supportsUnifiedPlan=t.RTCRtpTransceiver&&"currentDirection"in t.RTCRtpTransceiver.prototype,e._safariVersion=Hc(n.userAgent,/Version\/(\d+(\.?\d+))/,1);else return e.browser="Not a supported browser.",e;return e}function qC(t){return Object.prototype.toString.call(t)==="[object Object]"}function J2(t){return qC(t)?Object.keys(t).reduce(function(e,n){const r=qC(t[n]),s=r?J2(t[n]):t[n],i=r&&!Object.keys(s).length;return s===void 0||i?e:Object.assign(e,{[n]:s})},{}):t}function rv(t,e,n){!e||n.has(e.id)||(n.set(e.id,e),Object.keys(e).forEach(r=>{r.endsWith("Id")?rv(t,t.get(e[r]),n):r.endsWith("Ids")&&e[r].forEach(s=>{rv(t,t.get(s),n)})}))}function GC(t,e,n){const r=n?"outbound-rtp":"inbound-rtp",s=new Map;if(e===null)return s;const i=[];return t.forEach(o=>{o.type==="track"&&o.trackIdentifier===e.id&&i.push(o)}),i.forEach(o=>{t.forEach(a=>{a.type===r&&a.trackId===o.id&&rv(t,a,s)})}),s}const $C=H2;function X2(t,e){const n=t&&t.navigator;if(!n.mediaDevices)return;const r=function(a){if(typeof a!="object"||a.mandatory||a.optional)return a;const c={};return Object.keys(a).forEach(u=>{if(u==="require"||u==="advanced"||u==="mediaSource")return;const h=typeof a[u]=="object"?a[u]:{ideal:a[u]};h.exact!==void 0&&typeof h.exact=="number"&&(h.min=h.max=h.exact);const f=function(p,v){return p?p+v.charAt(0).toUpperCase()+v.slice(1):v==="deviceId"?"sourceId":v};if(h.ideal!==void 0){c.optional=c.optional||[];let p={};typeof h.ideal=="number"?(p[f("min",u)]=h.ideal,c.optional.push(p),p={},p[f("max",u)]=h.ideal,c.optional.push(p)):(p[f("",u)]=h.ideal,c.optional.push(p))}h.exact!==void 0&&typeof h.exact!="number"?(c.mandatory=c.mandatory||{},c.mandatory[f("",u)]=h.exact):["min","max"].forEach(p=>{h[p]!==void 0&&(c.mandatory=c.mandatory||{},c.mandatory[f(p,u)]=h[p])})}),a.advanced&&(c.optional=(c.optional||[]).concat(a.advanced)),c},s=function(a,c){if(e.version>=61)return c(a);if(a=JSON.parse(JSON.stringify(a)),a&&typeof a.audio=="object"){const u=function(h,f,p){f in h&&!(p in h)&&(h[p]=h[f],delete h[f])};a=JSON.parse(JSON.stringify(a)),u(a.audio,"autoGainControl","googAutoGainControl"),u(a.audio,"noiseSuppression","googNoiseSuppression"),a.audio=r(a.audio)}if(a&&typeof a.video=="object"){let u=a.video.facingMode;u=u&&(typeof u=="object"?u:{ideal:u});const h=e.version<66;if(u&&(u.exact==="user"||u.exact==="environment"||u.ideal==="user"||u.ideal==="environment")&&!(n.mediaDevices.getSupportedConstraints&&n.mediaDevices.getSupportedConstraints().facingMode&&!h)){delete a.video.facingMode;let f;if(u.exact==="environment"||u.ideal==="environment"?f=["back","rear"]:(u.exact==="user"||u.ideal==="user")&&(f=["front"]),f)return n.mediaDevices.enumerateDevices().then(p=>{p=p.filter(x=>x.kind==="videoinput");let v=p.find(x=>f.some(g=>x.label.toLowerCase().includes(g)));return!v&&p.length&&f.includes("back")&&(v=p[p.length-1]),v&&(a.video.deviceId=u.exact?{exact:v.deviceId}:{ideal:v.deviceId}),a.video=r(a.video),$C("chrome: "+JSON.stringify(a)),c(a)})}a.video=r(a.video)}return $C("chrome: "+JSON.stringify(a)),c(a)},i=function(a){return e.version>=64?a:{name:{PermissionDeniedError:"NotAllowedError",PermissionDismissedError:"NotAllowedError",InvalidStateError:"NotAllowedError",DevicesNotFoundError:"NotFoundError",ConstraintNotSatisfiedError:"OverconstrainedError",TrackStartError:"NotReadableError",MediaDeviceFailedDueToShutdown:"NotAllowedError",MediaDeviceKillSwitchOn:"NotAllowedError",TabCaptureError:"AbortError",ScreenCaptureError:"AbortError",DeviceCaptureError:"AbortError"}[a.name]||a.name,message:a.message,constraint:a.constraint||a.constraintName,toString(){return this.name+(this.message&&": ")+this.message}}},o=function(a,c,u){s(a,h=>{n.webkitGetUserMedia(h,c,f=>{u&&u(i(f))})})};if(n.getUserMedia=o.bind(n),n.mediaDevices.getUserMedia){const a=n.mediaDevices.getUserMedia.bind(n.mediaDevices);n.mediaDevices.getUserMedia=function(c){return s(c,u=>a(u).then(h=>{if(u.audio&&!h.getAudioTracks().length||u.video&&!h.getVideoTracks().length)throw h.getTracks().forEach(f=>{f.stop()}),new DOMException("","NotFoundError");return h},h=>Promise.reject(i(h))))}}}function Z2(t){t.MediaStream=t.MediaStream||t.webkitMediaStream}function ek(t){if(typeof t=="object"&&t.RTCPeerConnection&&!("ontrack"in t.RTCPeerConnection.prototype)){Object.defineProperty(t.RTCPeerConnection.prototype,"ontrack",{get(){return this._ontrack},set(n){this._ontrack&&this.removeEventListener("track",this._ontrack),this.addEventListener("track",this._ontrack=n)},enumerable:!0,configurable:!0});const e=t.RTCPeerConnection.prototype.setRemoteDescription;t.RTCPeerConnection.prototype.setRemoteDescription=function(){return this._ontrackpoly||(this._ontrackpoly=r=>{r.stream.addEventListener("addtrack",s=>{let i;t.RTCPeerConnection.prototype.getReceivers?i=this.getReceivers().find(a=>a.track&&a.track.id===s.track.id):i={track:s.track};const o=new Event("track");o.track=s.track,o.receiver=i,o.transceiver={receiver:i},o.streams=[r.stream],this.dispatchEvent(o)}),r.stream.getTracks().forEach(s=>{let i;t.RTCPeerConnection.prototype.getReceivers?i=this.getReceivers().find(a=>a.track&&a.track.id===s.id):i={track:s};const o=new Event("track");o.track=s,o.receiver=i,o.transceiver={receiver:i},o.streams=[r.stream],this.dispatchEvent(o)})},this.addEventListener("addstream",this._ontrackpoly)),e.apply(this,arguments)}}else Ea(t,"track",e=>(e.transceiver||Object.defineProperty(e,"transceiver",{value:{receiver:e.receiver}}),e))}function tk(t){if(typeof t=="object"&&t.RTCPeerConnection&&!("getSenders"in t.RTCPeerConnection.prototype)&&"createDTMFSender"in t.RTCPeerConnection.prototype){const e=function(s,i){return{track:i,get dtmf(){return this._dtmf===void 0&&(i.kind==="audio"?this._dtmf=s.createDTMFSender(i):this._dtmf=null),this._dtmf},_pc:s}};if(!t.RTCPeerConnection.prototype.getSenders){t.RTCPeerConnection.prototype.getSenders=function(){return this._senders=this._senders||[],this._senders.slice()};const s=t.RTCPeerConnection.prototype.addTrack;t.RTCPeerConnection.prototype.addTrack=function(a,c){let u=s.apply(this,arguments);return u||(u=e(this,a),this._senders.push(u)),u};const i=t.RTCPeerConnection.prototype.removeTrack;t.RTCPeerConnection.prototype.removeTrack=function(a){i.apply(this,arguments);const c=this._senders.indexOf(a);c!==-1&&this._senders.splice(c,1)}}const n=t.RTCPeerConnection.prototype.addStream;t.RTCPeerConnection.prototype.addStream=function(i){this._senders=this._senders||[],n.apply(this,[i]),i.getTracks().forEach(o=>{this._senders.push(e(this,o))})};const r=t.RTCPeerConnection.prototype.removeStream;t.RTCPeerConnection.prototype.removeStream=function(i){this._senders=this._senders||[],r.apply(this,[i]),i.getTracks().forEach(o=>{const a=this._senders.find(c=>c.track===o);a&&this._senders.splice(this._senders.indexOf(a),1)})}}else if(typeof t=="object"&&t.RTCPeerConnection&&"getSenders"in t.RTCPeerConnection.prototype&&"createDTMFSender"in t.RTCPeerConnection.prototype&&t.RTCRtpSender&&!("dtmf"in t.RTCRtpSender.prototype)){const e=t.RTCPeerConnection.prototype.getSenders;t.RTCPeerConnection.prototype.getSenders=function(){const r=e.apply(this,[]);return r.forEach(s=>s._pc=this),r},Object.defineProperty(t.RTCRtpSender.prototype,"dtmf",{get(){return this._dtmf===void 0&&(this.track.kind==="audio"?this._dtmf=this._pc.createDTMFSender(this.track):this._dtmf=null),this._dtmf}})}}function nk(t){if(!(typeof t=="object"&&t.RTCPeerConnection&&t.RTCRtpSender&&t.RTCRtpReceiver))return;if(!("getStats"in t.RTCRtpSender.prototype)){const n=t.RTCPeerConnection.prototype.getSenders;n&&(t.RTCPeerConnection.prototype.getSenders=function(){const i=n.apply(this,[]);return i.forEach(o=>o._pc=this),i});const r=t.RTCPeerConnection.prototype.addTrack;r&&(t.RTCPeerConnection.prototype.addTrack=function(){const i=r.apply(this,arguments);return i._pc=this,i}),t.RTCRtpSender.prototype.getStats=function(){const i=this;return this._pc.getStats().then(o=>GC(o,i.track,!0))}}if(!("getStats"in t.RTCRtpReceiver.prototype)){const n=t.RTCPeerConnection.prototype.getReceivers;n&&(t.RTCPeerConnection.prototype.getReceivers=function(){const s=n.apply(this,[]);return s.forEach(i=>i._pc=this),s}),Ea(t,"track",r=>(r.receiver._pc=r.srcElement,r)),t.RTCRtpReceiver.prototype.getStats=function(){const s=this;return this._pc.getStats().then(i=>GC(i,s.track,!1))}}if(!("getStats"in t.RTCRtpSender.prototype&&"getStats"in t.RTCRtpReceiver.prototype))return;const e=t.RTCPeerConnection.prototype.getStats;t.RTCPeerConnection.prototype.getStats=function(){if(arguments.length>0&&arguments[0]instanceof t.MediaStreamTrack){const r=arguments[0];let s,i,o;return this.getSenders().forEach(a=>{a.track===r&&(s?o=!0:s=a)}),this.getReceivers().forEach(a=>(a.track===r&&(i?o=!0:i=a),a.track===r)),o||s&&i?Promise.reject(new DOMException("There are more than one sender or receiver for the track.","InvalidAccessError")):s?s.getStats():i?i.getStats():Promise.reject(new DOMException("There is no sender or receiver for the track.","InvalidAccessError"))}return e.apply(this,arguments)}}function rk(t){t.RTCPeerConnection.prototype.getLocalStreams=function(){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},Object.keys(this._shimmedLocalStreams).map(o=>this._shimmedLocalStreams[o][0])};const e=t.RTCPeerConnection.prototype.addTrack;t.RTCPeerConnection.prototype.addTrack=function(o,a){if(!a)return e.apply(this,arguments);this._shimmedLocalStreams=this._shimmedLocalStreams||{};const c=e.apply(this,arguments);return this._shimmedLocalStreams[a.id]?this._shimmedLocalStreams[a.id].indexOf(c)===-1&&this._shimmedLocalStreams[a.id].push(c):this._shimmedLocalStreams[a.id]=[a,c],c};const n=t.RTCPeerConnection.prototype.addStream;t.RTCPeerConnection.prototype.addStream=function(o){this._shimmedLocalStreams=this._shimmedLocalStreams||{},o.getTracks().forEach(u=>{if(this.getSenders().find(f=>f.track===u))throw new DOMException("Track already exists.","InvalidAccessError")});const a=this.getSenders();n.apply(this,arguments);const c=this.getSenders().filter(u=>a.indexOf(u)===-1);this._shimmedLocalStreams[o.id]=[o].concat(c)};const r=t.RTCPeerConnection.prototype.removeStream;t.RTCPeerConnection.prototype.removeStream=function(o){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},delete this._shimmedLocalStreams[o.id],r.apply(this,arguments)};const s=t.RTCPeerConnection.prototype.removeTrack;t.RTCPeerConnection.prototype.removeTrack=function(o){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},o&&Object.keys(this._shimmedLocalStreams).forEach(a=>{const c=this._shimmedLocalStreams[a].indexOf(o);c!==-1&&this._shimmedLocalStreams[a].splice(c,1),this._shimmedLocalStreams[a].length===1&&delete this._shimmedLocalStreams[a]}),s.apply(this,arguments)}}function sk(t,e){if(!t.RTCPeerConnection)return;if(t.RTCPeerConnection.prototype.addTrack&&e.version>=65)return rk(t);const n=t.RTCPeerConnection.prototype.getLocalStreams;t.RTCPeerConnection.prototype.getLocalStreams=function(){const h=n.apply(this);return this._reverseStreams=this._reverseStreams||{},h.map(f=>this._reverseStreams[f.id])};const r=t.RTCPeerConnection.prototype.addStream;t.RTCPeerConnection.prototype.addStream=function(h){if(this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},h.getTracks().forEach(f=>{if(this.getSenders().find(v=>v.track===f))throw new DOMException("Track already exists.","InvalidAccessError")}),!this._reverseStreams[h.id]){const f=new t.MediaStream(h.getTracks());this._streams[h.id]=f,this._reverseStreams[f.id]=h,h=f}r.apply(this,[h])};const s=t.RTCPeerConnection.prototype.removeStream;t.RTCPeerConnection.prototype.removeStream=function(h){this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},s.apply(this,[this._streams[h.id]||h]),delete this._reverseStreams[this._streams[h.id]?this._streams[h.id].id:h.id],delete this._streams[h.id]},t.RTCPeerConnection.prototype.addTrack=function(h,f){if(this.signalingState==="closed")throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");const p=[].slice.call(arguments,1);if(p.length!==1||!p[0].getTracks().find(g=>g===h))throw new DOMException("The adapter.js addTrack polyfill only supports a single  stream which is associated with the specified track.","NotSupportedError");if(this.getSenders().find(g=>g.track===h))throw new DOMException("Track already exists.","InvalidAccessError");this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{};const x=this._streams[f.id];if(x)x.addTrack(h),Promise.resolve().then(()=>{this.dispatchEvent(new Event("negotiationneeded"))});else{const g=new t.MediaStream([h]);this._streams[f.id]=g,this._reverseStreams[g.id]=f,this.addStream(g)}return this.getSenders().find(g=>g.track===h)};function i(u,h){let f=h.sdp;return Object.keys(u._reverseStreams||[]).forEach(p=>{const v=u._reverseStreams[p],x=u._streams[v.id];f=f.replace(new RegExp(x.id,"g"),v.id)}),new RTCSessionDescription({type:h.type,sdp:f})}function o(u,h){let f=h.sdp;return Object.keys(u._reverseStreams||[]).forEach(p=>{const v=u._reverseStreams[p],x=u._streams[v.id];f=f.replace(new RegExp(v.id,"g"),x.id)}),new RTCSessionDescription({type:h.type,sdp:f})}["createOffer","createAnswer"].forEach(function(u){const h=t.RTCPeerConnection.prototype[u],f={[u](){const p=arguments;return arguments.length&&typeof arguments[0]=="function"?h.apply(this,[x=>{const g=i(this,x);p[0].apply(null,[g])},x=>{p[1]&&p[1].apply(null,x)},arguments[2]]):h.apply(this,arguments).then(x=>i(this,x))}};t.RTCPeerConnection.prototype[u]=f[u]});const a=t.RTCPeerConnection.prototype.setLocalDescription;t.RTCPeerConnection.prototype.setLocalDescription=function(){return!arguments.length||!arguments[0].type?a.apply(this,arguments):(arguments[0]=o(this,arguments[0]),a.apply(this,arguments))};const c=Object.getOwnPropertyDescriptor(t.RTCPeerConnection.prototype,"localDescription");Object.defineProperty(t.RTCPeerConnection.prototype,"localDescription",{get(){const u=c.get.apply(this);return u.type===""?u:i(this,u)}}),t.RTCPeerConnection.prototype.removeTrack=function(h){if(this.signalingState==="closed")throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");if(!h._pc)throw new DOMException("Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.","TypeError");if(!(h._pc===this))throw new DOMException("Sender was not created by this connection.","InvalidAccessError");this._streams=this._streams||{};let p;Object.keys(this._streams).forEach(v=>{this._streams[v].getTracks().find(g=>h.track===g)&&(p=this._streams[v])}),p&&(p.getTracks().length===1?this.removeStream(this._reverseStreams[p.id]):p.removeTrack(h.track),this.dispatchEvent(new Event("negotiationneeded")))}}function sv(t,e){!t.RTCPeerConnection&&t.webkitRTCPeerConnection&&(t.RTCPeerConnection=t.webkitRTCPeerConnection),t.RTCPeerConnection&&e.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(n){const r=t.RTCPeerConnection.prototype[n],s={[n](){return arguments[0]=new(n==="addIceCandidate"?t.RTCIceCandidate:t.RTCSessionDescription)(arguments[0]),r.apply(this,arguments)}};t.RTCPeerConnection.prototype[n]=s[n]})}function ik(t,e){Ea(t,"negotiationneeded",n=>{const r=n.target;if(!((e.version<72||r.getConfiguration&&r.getConfiguration().sdpSemantics==="plan-b")&&r.signalingState!=="stable"))return n})}const zC=Object.freeze(Object.defineProperty({__proto__:null,fixNegotiationNeeded:ik,shimAddTrackRemoveTrack:sk,shimAddTrackRemoveTrackWithNative:rk,shimGetSendersWithDtmf:tk,shimGetUserMedia:X2,shimMediaStream:Z2,shimOnTrack:ek,shimPeerConnection:sv,shimSenderReceiverGetStats:nk},Symbol.toStringTag,{value:"Module"}));function ok(t,e){const n=t&&t.navigator,r=t&&t.MediaStreamTrack;if(n.getUserMedia=function(s,i,o){Jw("navigator.getUserMedia","navigator.mediaDevices.getUserMedia"),n.mediaDevices.getUserMedia(s).then(i,o)},!(e.version>55&&"autoGainControl"in n.mediaDevices.getSupportedConstraints())){const s=function(o,a,c){a in o&&!(c in o)&&(o[c]=o[a],delete o[a])},i=n.mediaDevices.getUserMedia.bind(n.mediaDevices);if(n.mediaDevices.getUserMedia=function(o){return typeof o=="object"&&typeof o.audio=="object"&&(o=JSON.parse(JSON.stringify(o)),s(o.audio,"autoGainControl","mozAutoGainControl"),s(o.audio,"noiseSuppression","mozNoiseSuppression")),i(o)},r&&r.prototype.getSettings){const o=r.prototype.getSettings;r.prototype.getSettings=function(){const a=o.apply(this,arguments);return s(a,"mozAutoGainControl","autoGainControl"),s(a,"mozNoiseSuppression","noiseSuppression"),a}}if(r&&r.prototype.applyConstraints){const o=r.prototype.applyConstraints;r.prototype.applyConstraints=function(a){return this.kind==="audio"&&typeof a=="object"&&(a=JSON.parse(JSON.stringify(a)),s(a,"autoGainControl","mozAutoGainControl"),s(a,"noiseSuppression","mozNoiseSuppression")),o.apply(this,[a])}}}}function rW(t,e){t.navigator.mediaDevices&&"getDisplayMedia"in t.navigator.mediaDevices||t.navigator.mediaDevices&&(t.navigator.mediaDevices.getDisplayMedia=function(r){if(!(r&&r.video)){const s=new DOMException("getDisplayMedia without video constraints is undefined");return s.name="NotFoundError",s.code=8,Promise.reject(s)}return r.video===!0?r.video={mediaSource:e}:r.video.mediaSource=e,t.navigator.mediaDevices.getUserMedia(r)})}function ak(t){typeof t=="object"&&t.RTCTrackEvent&&"receiver"in t.RTCTrackEvent.prototype&&!("transceiver"in t.RTCTrackEvent.prototype)&&Object.defineProperty(t.RTCTrackEvent.prototype,"transceiver",{get(){return{receiver:this.receiver}}})}function iv(t,e){if(typeof t!="object"||!(t.RTCPeerConnection||t.mozRTCPeerConnection))return;!t.RTCPeerConnection&&t.mozRTCPeerConnection&&(t.RTCPeerConnection=t.mozRTCPeerConnection),e.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(s){const i=t.RTCPeerConnection.prototype[s],o={[s](){return arguments[0]=new(s==="addIceCandidate"?t.RTCIceCandidate:t.RTCSessionDescription)(arguments[0]),i.apply(this,arguments)}};t.RTCPeerConnection.prototype[s]=o[s]});const n={inboundrtp:"inbound-rtp",outboundrtp:"outbound-rtp",candidatepair:"candidate-pair",localcandidate:"local-candidate",remotecandidate:"remote-candidate"},r=t.RTCPeerConnection.prototype.getStats;t.RTCPeerConnection.prototype.getStats=function(){const[i,o,a]=arguments;return r.apply(this,[i||null]).then(c=>{if(e.version<53&&!o)try{c.forEach(u=>{u.type=n[u.type]||u.type})}catch(u){if(u.name!=="TypeError")throw u;c.forEach((h,f)=>{c.set(f,Object.assign({},h,{type:n[h.type]||h.type}))})}return c}).then(o,a)}}function lk(t){if(!(typeof t=="object"&&t.RTCPeerConnection&&t.RTCRtpSender)||t.RTCRtpSender&&"getStats"in t.RTCRtpSender.prototype)return;const e=t.RTCPeerConnection.prototype.getSenders;e&&(t.RTCPeerConnection.prototype.getSenders=function(){const s=e.apply(this,[]);return s.forEach(i=>i._pc=this),s});const n=t.RTCPeerConnection.prototype.addTrack;n&&(t.RTCPeerConnection.prototype.addTrack=function(){const s=n.apply(this,arguments);return s._pc=this,s}),t.RTCRtpSender.prototype.getStats=function(){return this.track?this._pc.getStats(this.track):Promise.resolve(new Map)}}function ck(t){if(!(typeof t=="object"&&t.RTCPeerConnection&&t.RTCRtpSender)||t.RTCRtpSender&&"getStats"in t.RTCRtpReceiver.prototype)return;const e=t.RTCPeerConnection.prototype.getReceivers;e&&(t.RTCPeerConnection.prototype.getReceivers=function(){const r=e.apply(this,[]);return r.forEach(s=>s._pc=this),r}),Ea(t,"track",n=>(n.receiver._pc=n.srcElement,n)),t.RTCRtpReceiver.prototype.getStats=function(){return this._pc.getStats(this.track)}}function uk(t){!t.RTCPeerConnection||"removeStream"in t.RTCPeerConnection.prototype||(t.RTCPeerConnection.prototype.removeStream=function(n){Jw("removeStream","removeTrack"),this.getSenders().forEach(r=>{r.track&&n.getTracks().includes(r.track)&&this.removeTrack(r)})})}function dk(t){t.DataChannel&&!t.RTCDataChannel&&(t.RTCDataChannel=t.DataChannel)}function hk(t){if(!(typeof t=="object"&&t.RTCPeerConnection))return;const e=t.RTCPeerConnection.prototype.addTransceiver;e&&(t.RTCPeerConnection.prototype.addTransceiver=function(){this.setParametersPromises=[];let r=arguments[1]&&arguments[1].sendEncodings;r===void 0&&(r=[]),r=[...r];const s=r.length>0;s&&r.forEach(o=>{if("rid"in o&&!/^[a-z0-9]{0,16}$/i.test(o.rid))throw new TypeError("Invalid RID value provided.");if("scaleResolutionDownBy"in o&&!(parseFloat(o.scaleResolutionDownBy)>=1))throw new RangeError("scale_resolution_down_by must be >= 1.0");if("maxFramerate"in o&&!(parseFloat(o.maxFramerate)>=0))throw new RangeError("max_framerate must be >= 0.0")});const i=e.apply(this,arguments);if(s){const{sender:o}=i,a=o.getParameters();(!("encodings"in a)||a.encodings.length===1&&Object.keys(a.encodings[0]).length===0)&&(a.encodings=r,o.sendEncodings=r,this.setParametersPromises.push(o.setParameters(a).then(()=>{delete o.sendEncodings}).catch(()=>{delete o.sendEncodings})))}return i})}function fk(t){if(!(typeof t=="object"&&t.RTCRtpSender))return;const e=t.RTCRtpSender.prototype.getParameters;e&&(t.RTCRtpSender.prototype.getParameters=function(){const r=e.apply(this,arguments);return"encodings"in r||(r.encodings=[].concat(this.sendEncodings||[{}])),r})}function pk(t){if(!(typeof t=="object"&&t.RTCPeerConnection))return;const e=t.RTCPeerConnection.prototype.createOffer;t.RTCPeerConnection.prototype.createOffer=function(){return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then(()=>e.apply(this,arguments)).finally(()=>{this.setParametersPromises=[]}):e.apply(this,arguments)}}function mk(t){if(!(typeof t=="object"&&t.RTCPeerConnection))return;const e=t.RTCPeerConnection.prototype.createAnswer;t.RTCPeerConnection.prototype.createAnswer=function(){return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then(()=>e.apply(this,arguments)).finally(()=>{this.setParametersPromises=[]}):e.apply(this,arguments)}}const WC=Object.freeze(Object.defineProperty({__proto__:null,shimAddTransceiver:hk,shimCreateAnswer:mk,shimCreateOffer:pk,shimGetDisplayMedia:rW,shimGetParameters:fk,shimGetUserMedia:ok,shimOnTrack:ak,shimPeerConnection:iv,shimRTCDataChannel:dk,shimReceiverGetStats:ck,shimRemoveStream:uk,shimSenderGetStats:lk},Symbol.toStringTag,{value:"Module"}));function gk(t){if(!(typeof t!="object"||!t.RTCPeerConnection)){if("getLocalStreams"in t.RTCPeerConnection.prototype||(t.RTCPeerConnection.prototype.getLocalStreams=function(){return this._localStreams||(this._localStreams=[]),this._localStreams}),!("addStream"in t.RTCPeerConnection.prototype)){const e=t.RTCPeerConnection.prototype.addTrack;t.RTCPeerConnection.prototype.addStream=function(r){this._localStreams||(this._localStreams=[]),this._localStreams.includes(r)||this._localStreams.push(r),r.getAudioTracks().forEach(s=>e.call(this,s,r)),r.getVideoTracks().forEach(s=>e.call(this,s,r))},t.RTCPeerConnection.prototype.addTrack=function(r,...s){return s&&s.forEach(i=>{this._localStreams?this._localStreams.includes(i)||this._localStreams.push(i):this._localStreams=[i]}),e.apply(this,arguments)}}"removeStream"in t.RTCPeerConnection.prototype||(t.RTCPeerConnection.prototype.removeStream=function(n){this._localStreams||(this._localStreams=[]);const r=this._localStreams.indexOf(n);if(r===-1)return;this._localStreams.splice(r,1);const s=n.getTracks();this.getSenders().forEach(i=>{s.includes(i.track)&&this.removeTrack(i)})})}}function yk(t){if(!(typeof t!="object"||!t.RTCPeerConnection)&&("getRemoteStreams"in t.RTCPeerConnection.prototype||(t.RTCPeerConnection.prototype.getRemoteStreams=function(){return this._remoteStreams?this._remoteStreams:[]}),!("onaddstream"in t.RTCPeerConnection.prototype))){Object.defineProperty(t.RTCPeerConnection.prototype,"onaddstream",{get(){return this._onaddstream},set(n){this._onaddstream&&(this.removeEventListener("addstream",this._onaddstream),this.removeEventListener("track",this._onaddstreampoly)),this.addEventListener("addstream",this._onaddstream=n),this.addEventListener("track",this._onaddstreampoly=r=>{r.streams.forEach(s=>{if(this._remoteStreams||(this._remoteStreams=[]),this._remoteStreams.includes(s))return;this._remoteStreams.push(s);const i=new Event("addstream");i.stream=s,this.dispatchEvent(i)})})}});const e=t.RTCPeerConnection.prototype.setRemoteDescription;t.RTCPeerConnection.prototype.setRemoteDescription=function(){const r=this;return this._onaddstreampoly||this.addEventListener("track",this._onaddstreampoly=function(s){s.streams.forEach(i=>{if(r._remoteStreams||(r._remoteStreams=[]),r._remoteStreams.indexOf(i)>=0)return;r._remoteStreams.push(i);const o=new Event("addstream");o.stream=i,r.dispatchEvent(o)})}),e.apply(r,arguments)}}}function vk(t){if(typeof t!="object"||!t.RTCPeerConnection)return;const e=t.RTCPeerConnection.prototype,n=e.createOffer,r=e.createAnswer,s=e.setLocalDescription,i=e.setRemoteDescription,o=e.addIceCandidate;e.createOffer=function(u,h){const f=arguments.length>=2?arguments[2]:arguments[0],p=n.apply(this,[f]);return h?(p.then(u,h),Promise.resolve()):p},e.createAnswer=function(u,h){const f=arguments.length>=2?arguments[2]:arguments[0],p=r.apply(this,[f]);return h?(p.then(u,h),Promise.resolve()):p};let a=function(c,u,h){const f=s.apply(this,[c]);return h?(f.then(u,h),Promise.resolve()):f};e.setLocalDescription=a,a=function(c,u,h){const f=i.apply(this,[c]);return h?(f.then(u,h),Promise.resolve()):f},e.setRemoteDescription=a,a=function(c,u,h){const f=o.apply(this,[c]);return h?(f.then(u,h),Promise.resolve()):f},e.addIceCandidate=a}function xk(t){const e=t&&t.navigator;if(e.mediaDevices&&e.mediaDevices.getUserMedia){const n=e.mediaDevices,r=n.getUserMedia.bind(n);e.mediaDevices.getUserMedia=s=>r(wk(s))}!e.getUserMedia&&e.mediaDevices&&e.mediaDevices.getUserMedia&&(e.getUserMedia=(function(r,s,i){e.mediaDevices.getUserMedia(r).then(s,i)}).bind(e))}function wk(t){return t&&t.video!==void 0?Object.assign({},t,{video:J2(t.video)}):t}function Ek(t){if(!t.RTCPeerConnection)return;const e=t.RTCPeerConnection;t.RTCPeerConnection=function(r,s){if(r&&r.iceServers){const i=[];for(let o=0;o<r.iceServers.length;o++){let a=r.iceServers[o];a.urls===void 0&&a.url?(Jw("RTCIceServer.url","RTCIceServer.urls"),a=JSON.parse(JSON.stringify(a)),a.urls=a.url,delete a.url,i.push(a)):i.push(r.iceServers[o])}r.iceServers=i}return new e(r,s)},t.RTCPeerConnection.prototype=e.prototype,"generateCertificate"in e&&Object.defineProperty(t.RTCPeerConnection,"generateCertificate",{get(){return e.generateCertificate}})}function bk(t){typeof t=="object"&&t.RTCTrackEvent&&"receiver"in t.RTCTrackEvent.prototype&&!("transceiver"in t.RTCTrackEvent.prototype)&&Object.defineProperty(t.RTCTrackEvent.prototype,"transceiver",{get(){return{receiver:this.receiver}}})}function Ck(t){const e=t.RTCPeerConnection.prototype.createOffer;t.RTCPeerConnection.prototype.createOffer=function(r){if(r){typeof r.offerToReceiveAudio<"u"&&(r.offerToReceiveAudio=!!r.offerToReceiveAudio);const s=this.getTransceivers().find(o=>o.receiver.track.kind==="audio");r.offerToReceiveAudio===!1&&s?s.direction==="sendrecv"?s.setDirection?s.setDirection("sendonly"):s.direction="sendonly":s.direction==="recvonly"&&(s.setDirection?s.setDirection("inactive"):s.direction="inactive"):r.offerToReceiveAudio===!0&&!s&&this.addTransceiver("audio",{direction:"recvonly"}),typeof r.offerToReceiveVideo<"u"&&(r.offerToReceiveVideo=!!r.offerToReceiveVideo);const i=this.getTransceivers().find(o=>o.receiver.track.kind==="video");r.offerToReceiveVideo===!1&&i?i.direction==="sendrecv"?i.setDirection?i.setDirection("sendonly"):i.direction="sendonly":i.direction==="recvonly"&&(i.setDirection?i.setDirection("inactive"):i.direction="inactive"):r.offerToReceiveVideo===!0&&!i&&this.addTransceiver("video",{direction:"recvonly"})}return e.apply(this,arguments)}}function _k(t){typeof t!="object"||t.AudioContext||(t.AudioContext=t.webkitAudioContext)}const QC=Object.freeze(Object.defineProperty({__proto__:null,shimAudioContext:_k,shimCallbacksAPI:vk,shimConstraints:wk,shimCreateOfferLegacy:Ck,shimGetUserMedia:xk,shimLocalStreamsAPI:gk,shimRTCIceServerUrls:Ek,shimRemoteStreamsAPI:yk,shimTrackEventTransceiver:bk},Symbol.toStringTag,{value:"Module"}));var Tk={exports:{}};(function(t){const e={};e.generateIdentifier=function(){return Math.random().toString(36).substring(2,12)},e.localCName=e.generateIdentifier(),e.splitLines=function(n){return n.trim().split(`
`).map(r=>r.trim())},e.splitSections=function(n){return n.split(`
m=`).map((s,i)=>(i>0?"m="+s:s).trim()+`\r
`)},e.getDescription=function(n){const r=e.splitSections(n);return r&&r[0]},e.getMediaSections=function(n){const r=e.splitSections(n);return r.shift(),r},e.matchPrefix=function(n,r){return e.splitLines(n).filter(s=>s.indexOf(r)===0)},e.parseCandidate=function(n){let r;n.indexOf("a=candidate:")===0?r=n.substring(12).split(" "):r=n.substring(10).split(" ");const s={foundation:r[0],component:{1:"rtp",2:"rtcp"}[r[1]]||r[1],protocol:r[2].toLowerCase(),priority:parseInt(r[3],10),ip:r[4],address:r[4],port:parseInt(r[5],10),type:r[7]};for(let i=8;i<r.length;i+=2)switch(r[i]){case"raddr":s.relatedAddress=r[i+1];break;case"rport":s.relatedPort=parseInt(r[i+1],10);break;case"tcptype":s.tcpType=r[i+1];break;case"ufrag":s.ufrag=r[i+1],s.usernameFragment=r[i+1];break;default:s[r[i]]===void 0&&(s[r[i]]=r[i+1]);break}return s},e.writeCandidate=function(n){const r=[];r.push(n.foundation);const s=n.component;s==="rtp"?r.push(1):s==="rtcp"?r.push(2):r.push(s),r.push(n.protocol.toUpperCase()),r.push(n.priority),r.push(n.address||n.ip),r.push(n.port);const i=n.type;return r.push("typ"),r.push(i),i!=="host"&&n.relatedAddress&&n.relatedPort&&(r.push("raddr"),r.push(n.relatedAddress),r.push("rport"),r.push(n.relatedPort)),n.tcpType&&n.protocol.toLowerCase()==="tcp"&&(r.push("tcptype"),r.push(n.tcpType)),(n.usernameFragment||n.ufrag)&&(r.push("ufrag"),r.push(n.usernameFragment||n.ufrag)),"candidate:"+r.join(" ")},e.parseIceOptions=function(n){return n.substring(14).split(" ")},e.parseRtpMap=function(n){let r=n.substring(9).split(" ");const s={payloadType:parseInt(r.shift(),10)};return r=r[0].split("/"),s.name=r[0],s.clockRate=parseInt(r[1],10),s.channels=r.length===3?parseInt(r[2],10):1,s.numChannels=s.channels,s},e.writeRtpMap=function(n){let r=n.payloadType;n.preferredPayloadType!==void 0&&(r=n.preferredPayloadType);const s=n.channels||n.numChannels||1;return"a=rtpmap:"+r+" "+n.name+"/"+n.clockRate+(s!==1?"/"+s:"")+`\r
`},e.parseExtmap=function(n){const r=n.substring(9).split(" ");return{id:parseInt(r[0],10),direction:r[0].indexOf("/")>0?r[0].split("/")[1]:"sendrecv",uri:r[1],attributes:r.slice(2).join(" ")}},e.writeExtmap=function(n){return"a=extmap:"+(n.id||n.preferredId)+(n.direction&&n.direction!=="sendrecv"?"/"+n.direction:"")+" "+n.uri+(n.attributes?" "+n.attributes:"")+`\r
`},e.parseFmtp=function(n){const r={};let s;const i=n.substring(n.indexOf(" ")+1).split(";");for(let o=0;o<i.length;o++)s=i[o].trim().split("="),r[s[0].trim()]=s[1];return r},e.writeFmtp=function(n){let r="",s=n.payloadType;if(n.preferredPayloadType!==void 0&&(s=n.preferredPayloadType),n.parameters&&Object.keys(n.parameters).length){const i=[];Object.keys(n.parameters).forEach(o=>{n.parameters[o]!==void 0?i.push(o+"="+n.parameters[o]):i.push(o)}),r+="a=fmtp:"+s+" "+i.join(";")+`\r
`}return r},e.parseRtcpFb=function(n){const r=n.substring(n.indexOf(" ")+1).split(" ");return{type:r.shift(),parameter:r.join(" ")}},e.writeRtcpFb=function(n){let r="",s=n.payloadType;return n.preferredPayloadType!==void 0&&(s=n.preferredPayloadType),n.rtcpFeedback&&n.rtcpFeedback.length&&n.rtcpFeedback.forEach(i=>{r+="a=rtcp-fb:"+s+" "+i.type+(i.parameter&&i.parameter.length?" "+i.parameter:"")+`\r
`}),r},e.parseSsrcMedia=function(n){const r=n.indexOf(" "),s={ssrc:parseInt(n.substring(7,r),10)},i=n.indexOf(":",r);return i>-1?(s.attribute=n.substring(r+1,i),s.value=n.substring(i+1)):s.attribute=n.substring(r+1),s},e.parseSsrcGroup=function(n){const r=n.substring(13).split(" ");return{semantics:r.shift(),ssrcs:r.map(s=>parseInt(s,10))}},e.getMid=function(n){const r=e.matchPrefix(n,"a=mid:")[0];if(r)return r.substring(6)},e.parseFingerprint=function(n){const r=n.substring(14).split(" ");return{algorithm:r[0].toLowerCase(),value:r[1].toUpperCase()}},e.getDtlsParameters=function(n,r){return{role:"auto",fingerprints:e.matchPrefix(n+r,"a=fingerprint:").map(e.parseFingerprint)}},e.writeDtlsParameters=function(n,r){let s="a=setup:"+r+`\r
`;return n.fingerprints.forEach(i=>{s+="a=fingerprint:"+i.algorithm+" "+i.value+`\r
`}),s},e.parseCryptoLine=function(n){const r=n.substring(9).split(" ");return{tag:parseInt(r[0],10),cryptoSuite:r[1],keyParams:r[2],sessionParams:r.slice(3)}},e.writeCryptoLine=function(n){return"a=crypto:"+n.tag+" "+n.cryptoSuite+" "+(typeof n.keyParams=="object"?e.writeCryptoKeyParams(n.keyParams):n.keyParams)+(n.sessionParams?" "+n.sessionParams.join(" "):"")+`\r
`},e.parseCryptoKeyParams=function(n){if(n.indexOf("inline:")!==0)return null;const r=n.substring(7).split("|");return{keyMethod:"inline",keySalt:r[0],lifeTime:r[1],mkiValue:r[2]?r[2].split(":")[0]:void 0,mkiLength:r[2]?r[2].split(":")[1]:void 0}},e.writeCryptoKeyParams=function(n){return n.keyMethod+":"+n.keySalt+(n.lifeTime?"|"+n.lifeTime:"")+(n.mkiValue&&n.mkiLength?"|"+n.mkiValue+":"+n.mkiLength:"")},e.getCryptoParameters=function(n,r){return e.matchPrefix(n+r,"a=crypto:").map(e.parseCryptoLine)},e.getIceParameters=function(n,r){const s=e.matchPrefix(n+r,"a=ice-ufrag:")[0],i=e.matchPrefix(n+r,"a=ice-pwd:")[0];return s&&i?{usernameFragment:s.substring(12),password:i.substring(10)}:null},e.writeIceParameters=function(n){let r="a=ice-ufrag:"+n.usernameFragment+`\r
a=ice-pwd:`+n.password+`\r
`;return n.iceLite&&(r+=`a=ice-lite\r
`),r},e.parseRtpParameters=function(n){const r={codecs:[],headerExtensions:[],fecMechanisms:[],rtcp:[]},i=e.splitLines(n)[0].split(" ");r.profile=i[2];for(let a=3;a<i.length;a++){const c=i[a],u=e.matchPrefix(n,"a=rtpmap:"+c+" ")[0];if(u){const h=e.parseRtpMap(u),f=e.matchPrefix(n,"a=fmtp:"+c+" ");switch(h.parameters=f.length?e.parseFmtp(f[0]):{},h.rtcpFeedback=e.matchPrefix(n,"a=rtcp-fb:"+c+" ").map(e.parseRtcpFb),r.codecs.push(h),h.name.toUpperCase()){case"RED":case"ULPFEC":r.fecMechanisms.push(h.name.toUpperCase());break}}}e.matchPrefix(n,"a=extmap:").forEach(a=>{r.headerExtensions.push(e.parseExtmap(a))});const o=e.matchPrefix(n,"a=rtcp-fb:* ").map(e.parseRtcpFb);return r.codecs.forEach(a=>{o.forEach(c=>{a.rtcpFeedback.find(h=>h.type===c.type&&h.parameter===c.parameter)||a.rtcpFeedback.push(c)})}),r},e.writeRtpDescription=function(n,r){let s="";s+="m="+n+" ",s+=r.codecs.length>0?"9":"0",s+=" "+(r.profile||"UDP/TLS/RTP/SAVPF")+" ",s+=r.codecs.map(o=>o.preferredPayloadType!==void 0?o.preferredPayloadType:o.payloadType).join(" ")+`\r
`,s+=`c=IN IP4 0.0.0.0\r
`,s+=`a=rtcp:9 IN IP4 0.0.0.0\r
`,r.codecs.forEach(o=>{s+=e.writeRtpMap(o),s+=e.writeFmtp(o),s+=e.writeRtcpFb(o)});let i=0;return r.codecs.forEach(o=>{o.maxptime>i&&(i=o.maxptime)}),i>0&&(s+="a=maxptime:"+i+`\r
`),r.headerExtensions&&r.headerExtensions.forEach(o=>{s+=e.writeExtmap(o)}),s},e.parseRtpEncodingParameters=function(n){const r=[],s=e.parseRtpParameters(n),i=s.fecMechanisms.indexOf("RED")!==-1,o=s.fecMechanisms.indexOf("ULPFEC")!==-1,a=e.matchPrefix(n,"a=ssrc:").map(p=>e.parseSsrcMedia(p)).filter(p=>p.attribute==="cname"),c=a.length>0&&a[0].ssrc;let u;const h=e.matchPrefix(n,"a=ssrc-group:FID").map(p=>p.substring(17).split(" ").map(x=>parseInt(x,10)));h.length>0&&h[0].length>1&&h[0][0]===c&&(u=h[0][1]),s.codecs.forEach(p=>{if(p.name.toUpperCase()==="RTX"&&p.parameters.apt){let v={ssrc:c,codecPayloadType:parseInt(p.parameters.apt,10)};c&&u&&(v.rtx={ssrc:u}),r.push(v),i&&(v=JSON.parse(JSON.stringify(v)),v.fec={ssrc:c,mechanism:o?"red+ulpfec":"red"},r.push(v))}}),r.length===0&&c&&r.push({ssrc:c});let f=e.matchPrefix(n,"b=");return f.length&&(f[0].indexOf("b=TIAS:")===0?f=parseInt(f[0].substring(7),10):f[0].indexOf("b=AS:")===0?f=parseInt(f[0].substring(5),10)*1e3*.95-50*40*8:f=void 0,r.forEach(p=>{p.maxBitrate=f})),r},e.parseRtcpParameters=function(n){const r={},s=e.matchPrefix(n,"a=ssrc:").map(a=>e.parseSsrcMedia(a)).filter(a=>a.attribute==="cname")[0];s&&(r.cname=s.value,r.ssrc=s.ssrc);const i=e.matchPrefix(n,"a=rtcp-rsize");r.reducedSize=i.length>0,r.compound=i.length===0;const o=e.matchPrefix(n,"a=rtcp-mux");return r.mux=o.length>0,r},e.writeRtcpParameters=function(n){let r="";return n.reducedSize&&(r+=`a=rtcp-rsize\r
`),n.mux&&(r+=`a=rtcp-mux\r
`),n.ssrc!==void 0&&n.cname&&(r+="a=ssrc:"+n.ssrc+" cname:"+n.cname+`\r
`),r},e.parseMsid=function(n){let r;const s=e.matchPrefix(n,"a=msid:");if(s.length===1)return r=s[0].substring(7).split(" "),{stream:r[0],track:r[1]};const i=e.matchPrefix(n,"a=ssrc:").map(o=>e.parseSsrcMedia(o)).filter(o=>o.attribute==="msid");if(i.length>0)return r=i[0].value.split(" "),{stream:r[0],track:r[1]}},e.parseSctpDescription=function(n){const r=e.parseMLine(n),s=e.matchPrefix(n,"a=max-message-size:");let i;s.length>0&&(i=parseInt(s[0].substring(19),10)),isNaN(i)&&(i=65536);const o=e.matchPrefix(n,"a=sctp-port:");if(o.length>0)return{port:parseInt(o[0].substring(12),10),protocol:r.fmt,maxMessageSize:i};const a=e.matchPrefix(n,"a=sctpmap:");if(a.length>0){const c=a[0].substring(10).split(" ");return{port:parseInt(c[0],10),protocol:c[1],maxMessageSize:i}}},e.writeSctpDescription=function(n,r){let s=[];return n.protocol!=="DTLS/SCTP"?s=["m="+n.kind+" 9 "+n.protocol+" "+r.protocol+`\r
`,`c=IN IP4 0.0.0.0\r
`,"a=sctp-port:"+r.port+`\r
`]:s=["m="+n.kind+" 9 "+n.protocol+" "+r.port+`\r
`,`c=IN IP4 0.0.0.0\r
`,"a=sctpmap:"+r.port+" "+r.protocol+` 65535\r
`],r.maxMessageSize!==void 0&&s.push("a=max-message-size:"+r.maxMessageSize+`\r
`),s.join("")},e.generateSessionId=function(){return Math.random().toString().substr(2,22)},e.writeSessionBoilerplate=function(n,r,s){let i;const o=r!==void 0?r:2;return n?i=n:i=e.generateSessionId(),`v=0\r
o=`+(s||"thisisadapterortc")+" "+i+" "+o+` IN IP4 127.0.0.1\r
s=-\r
t=0 0\r
`},e.getDirection=function(n,r){const s=e.splitLines(n);for(let i=0;i<s.length;i++)switch(s[i]){case"a=sendrecv":case"a=sendonly":case"a=recvonly":case"a=inactive":return s[i].substring(2)}return r?e.getDirection(r):"sendrecv"},e.getKind=function(n){return e.splitLines(n)[0].split(" ")[0].substring(2)},e.isRejected=function(n){return n.split(" ",2)[1]==="0"},e.parseMLine=function(n){const s=e.splitLines(n)[0].substring(2).split(" ");return{kind:s[0],port:parseInt(s[1],10),protocol:s[2],fmt:s.slice(3).join(" ")}},e.parseOLine=function(n){const s=e.matchPrefix(n,"o=")[0].substring(2).split(" ");return{username:s[0],sessionId:s[1],sessionVersion:parseInt(s[2],10),netType:s[3],addressType:s[4],address:s[5]}},e.isValidSDP=function(n){if(typeof n!="string"||n.length===0)return!1;const r=e.splitLines(n);for(let s=0;s<r.length;s++)if(r[s].length<2||r[s].charAt(1)!=="=")return!1;return!0},t.exports=e})(Tk);var Ak=Tk.exports;const wl=hv(Ak),sW=a_({__proto__:null,default:wl},[Ak]);function Af(t){if(!t.RTCIceCandidate||t.RTCIceCandidate&&"foundation"in t.RTCIceCandidate.prototype)return;const e=t.RTCIceCandidate;t.RTCIceCandidate=function(r){if(typeof r=="object"&&r.candidate&&r.candidate.indexOf("a=")===0&&(r=JSON.parse(JSON.stringify(r)),r.candidate=r.candidate.substring(2)),r.candidate&&r.candidate.length){const s=new e(r),i=wl.parseCandidate(r.candidate);for(const o in i)o in s||Object.defineProperty(s,o,{value:i[o]});return s.toJSON=function(){return{candidate:s.candidate,sdpMid:s.sdpMid,sdpMLineIndex:s.sdpMLineIndex,usernameFragment:s.usernameFragment}},s}return new e(r)},t.RTCIceCandidate.prototype=e.prototype,Ea(t,"icecandidate",n=>(n.candidate&&Object.defineProperty(n,"candidate",{value:new t.RTCIceCandidate(n.candidate),writable:"false"}),n))}function ov(t){!t.RTCIceCandidate||t.RTCIceCandidate&&"relayProtocol"in t.RTCIceCandidate.prototype||Ea(t,"icecandidate",e=>{if(e.candidate){const n=wl.parseCandidate(e.candidate.candidate);n.type==="relay"&&(e.candidate.relayProtocol={0:"tls",1:"tcp",2:"udp"}[n.priority>>24])}return e})}function Sf(t,e){if(!t.RTCPeerConnection)return;"sctp"in t.RTCPeerConnection.prototype||Object.defineProperty(t.RTCPeerConnection.prototype,"sctp",{get(){return typeof this._sctp>"u"?null:this._sctp}});const n=function(a){if(!a||!a.sdp)return!1;const c=wl.splitSections(a.sdp);return c.shift(),c.some(u=>{const h=wl.parseMLine(u);return h&&h.kind==="application"&&h.protocol.indexOf("SCTP")!==-1})},r=function(a){const c=a.sdp.match(/mozilla...THIS_IS_SDPARTA-(\d+)/);if(c===null||c.length<2)return-1;const u=parseInt(c[1],10);return u!==u?-1:u},s=function(a){let c=65536;return e.browser==="firefox"&&(e.version<57?a===-1?c=16384:c=2147483637:e.version<60?c=e.version===57?65535:65536:c=2147483637),c},i=function(a,c){let u=65536;e.browser==="firefox"&&e.version===57&&(u=65535);const h=wl.matchPrefix(a.sdp,"a=max-message-size:");return h.length>0?u=parseInt(h[0].substring(19),10):e.browser==="firefox"&&c!==-1&&(u=2147483637),u},o=t.RTCPeerConnection.prototype.setRemoteDescription;t.RTCPeerConnection.prototype.setRemoteDescription=function(){if(this._sctp=null,e.browser==="chrome"&&e.version>=76){const{sdpSemantics:c}=this.getConfiguration();c==="plan-b"&&Object.defineProperty(this,"sctp",{get(){return typeof this._sctp>"u"?null:this._sctp},enumerable:!0,configurable:!0})}if(n(arguments[0])){const c=r(arguments[0]),u=s(c),h=i(arguments[0],c);let f;u===0&&h===0?f=Number.POSITIVE_INFINITY:u===0||h===0?f=Math.max(u,h):f=Math.min(u,h);const p={};Object.defineProperty(p,"maxMessageSize",{get(){return f}}),this._sctp=p}return o.apply(this,arguments)}}function If(t){if(!(t.RTCPeerConnection&&"createDataChannel"in t.RTCPeerConnection.prototype))return;function e(r,s){const i=r.send;r.send=function(){const a=arguments[0],c=a.length||a.size||a.byteLength;if(r.readyState==="open"&&s.sctp&&c>s.sctp.maxMessageSize)throw new TypeError("Message too large (can send a maximum of "+s.sctp.maxMessageSize+" bytes)");return i.apply(r,arguments)}}const n=t.RTCPeerConnection.prototype.createDataChannel;t.RTCPeerConnection.prototype.createDataChannel=function(){const s=n.apply(this,arguments);return e(s,this),s},Ea(t,"datachannel",r=>(e(r.channel,r.target),r))}function av(t){if(!t.RTCPeerConnection||"connectionState"in t.RTCPeerConnection.prototype)return;const e=t.RTCPeerConnection.prototype;Object.defineProperty(e,"connectionState",{get(){return{completed:"connected",checking:"connecting"}[this.iceConnectionState]||this.iceConnectionState},enumerable:!0,configurable:!0}),Object.defineProperty(e,"onconnectionstatechange",{get(){return this._onconnectionstatechange||null},set(n){this._onconnectionstatechange&&(this.removeEventListener("connectionstatechange",this._onconnectionstatechange),delete this._onconnectionstatechange),n&&this.addEventListener("connectionstatechange",this._onconnectionstatechange=n)},enumerable:!0,configurable:!0}),["setLocalDescription","setRemoteDescription"].forEach(n=>{const r=e[n];e[n]=function(){return this._connectionstatechangepoly||(this._connectionstatechangepoly=s=>{const i=s.target;if(i._lastConnectionState!==i.connectionState){i._lastConnectionState=i.connectionState;const o=new Event("connectionstatechange",s);i.dispatchEvent(o)}return s},this.addEventListener("iceconnectionstatechange",this._connectionstatechangepoly)),r.apply(this,arguments)}})}function lv(t,e){if(!t.RTCPeerConnection||e.browser==="chrome"&&e.version>=71||e.browser==="safari"&&e._safariVersion>=13.1)return;const n=t.RTCPeerConnection.prototype.setRemoteDescription;t.RTCPeerConnection.prototype.setRemoteDescription=function(s){if(s&&s.sdp&&s.sdp.indexOf(`
a=extmap-allow-mixed`)!==-1){const i=s.sdp.split(`
`).filter(o=>o.trim()!=="a=extmap-allow-mixed").join(`
`);t.RTCSessionDescription&&s instanceof t.RTCSessionDescription?arguments[0]=new t.RTCSessionDescription({type:s.type,sdp:i}):s.sdp=i}return n.apply(this,arguments)}}function Rf(t,e){if(!(t.RTCPeerConnection&&t.RTCPeerConnection.prototype))return;const n=t.RTCPeerConnection.prototype.addIceCandidate;!n||n.length===0||(t.RTCPeerConnection.prototype.addIceCandidate=function(){return arguments[0]?(e.browser==="chrome"&&e.version<78||e.browser==="firefox"&&e.version<68||e.browser==="safari")&&arguments[0]&&arguments[0].candidate===""?Promise.resolve():n.apply(this,arguments):(arguments[1]&&arguments[1].apply(null),Promise.resolve())})}function Nf(t,e){if(!(t.RTCPeerConnection&&t.RTCPeerConnection.prototype))return;const n=t.RTCPeerConnection.prototype.setLocalDescription;!n||n.length===0||(t.RTCPeerConnection.prototype.setLocalDescription=function(){let s=arguments[0]||{};if(typeof s!="object"||s.type&&s.sdp)return n.apply(this,arguments);if(s={type:s.type,sdp:s.sdp},!s.type)switch(this.signalingState){case"stable":case"have-local-offer":case"have-remote-pranswer":s.type="offer";break;default:s.type="answer";break}return s.sdp||s.type!=="offer"&&s.type!=="answer"?n.apply(this,[s]):(s.type==="offer"?this.createOffer:this.createAnswer).apply(this).then(o=>n.apply(this,[o]))})}const iW=Object.freeze(Object.defineProperty({__proto__:null,removeExtmapAllowMixed:lv,shimAddIceCandidateNullOrEmpty:Rf,shimConnectionState:av,shimMaxMessageSize:Sf,shimParameterlessSetLocalDescription:Nf,shimRTCIceCandidate:Af,shimRTCIceCandidateRelayProtocol:ov,shimSendThrowTypeError:If},Symbol.toStringTag,{value:"Module"}));function oW({window:t}={},e={shimChrome:!0,shimFirefox:!0,shimSafari:!0}){const n=H2,r=nW(t),s={browserDetails:r,commonShim:iW,extractVersion:Hc,disableLog:eW,disableWarnings:tW,sdp:sW};switch(r.browser){case"chrome":if(!zC||!sv||!e.shimChrome)return n("Chrome shim is not included in this adapter release."),s;if(r.version===null)return n("Chrome shim can not determine version, not shimming."),s;n("adapter.js shimming chrome."),s.browserShim=zC,Rf(t,r),Nf(t),X2(t,r),Z2(t),sv(t,r),ek(t),sk(t,r),tk(t),nk(t),ik(t,r),Af(t),ov(t),av(t),Sf(t,r),If(t),lv(t,r);break;case"firefox":if(!WC||!iv||!e.shimFirefox)return n("Firefox shim is not included in this adapter release."),s;n("adapter.js shimming firefox."),s.browserShim=WC,Rf(t,r),Nf(t),ok(t,r),iv(t,r),ak(t),uk(t),lk(t),ck(t),dk(t),hk(t),fk(t),pk(t),mk(t),Af(t),av(t),Sf(t,r),If(t);break;case"safari":if(!QC||!e.shimSafari)return n("Safari shim is not included in this adapter release."),s;n("adapter.js shimming safari."),s.browserShim=QC,Rf(t,r),Nf(t),Ek(t),Ck(t),vk(t),gk(t),yk(t),bk(t),xk(t),_k(t),Af(t),ov(t),Sf(t,r),If(t),lv(t,r);break;default:n("Unsupported browser!");break}return s}oW({window:typeof window>"u"?void 0:window});var Sk=t=>{throw TypeError(t)},Ik=(t,e,n)=>e.has(t)||Sk("Cannot "+n),aW=(t,e,n)=>(Ik(t,e,"read from private field"),n?n.call(t):e.get(t)),lW=(t,e,n)=>e.has(t)?Sk("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),cW=(t,e,n,r)=>(Ik(t,e,"write to private field"),e.set(t,n),n);const qm=[["Aztec","M"],["Codabar","L"],["Code39","L"],["Code93","L"],["Code128","L"],["DataBar","L"],["DataBarExpanded","L"],["DataMatrix","M"],["EAN-8","L"],["EAN-13","L"],["ITF","L"],["MaxiCode","M"],["PDF417","M"],["QRCode","M"],["UPC-A","L"],["UPC-E","L"],["MicroQRCode","M"],["rMQRCode","M"],["DXFilmEdge","L"],["DataBarLimited","L"]],Gm=qm.map(([t])=>t),uW=Gm.filter((t,e)=>qm[e][1]==="L"),dW=Gm.filter((t,e)=>qm[e][1]==="M");function cv(t){switch(t){case"Linear-Codes":return uW.reduce((e,n)=>e|cv(n),0);case"Matrix-Codes":return dW.reduce((e,n)=>e|cv(n),0);case"Any":return(1<<qm.length)-1;case"None":return 0;default:return 1<<Gm.indexOf(t)}}function hW(t){if(t===0)return"None";const e=31-Math.clz32(t);return Gm[e]}function fW(t){return t.reduce((e,n)=>e|cv(n),0)}const pW=["LocalAverage","GlobalHistogram","FixedThreshold","BoolCast"];function mW(t){return pW.indexOf(t)}const YC=["Unknown","ASCII","ISO8859_1","ISO8859_2","ISO8859_3","ISO8859_4","ISO8859_5","ISO8859_6","ISO8859_7","ISO8859_8","ISO8859_9","ISO8859_10","ISO8859_11","ISO8859_13","ISO8859_14","ISO8859_15","ISO8859_16","Cp437","Cp1250","Cp1251","Cp1252","Cp1256","Shift_JIS","Big5","GB2312","GB18030","EUC_JP","EUC_KR","UTF16BE","UTF16BE","UTF8","UTF16LE","UTF32BE","UTF32LE","BINARY"];function gW(t){return t==="UnicodeBig"?YC.indexOf("UTF16BE"):YC.indexOf(t)}const yW=["Text","Binary","Mixed","GS1","ISO15434","UnknownECI"];function vW(t){return yW[t]}const xW=["Ignore","Read","Require"];function wW(t){return xW.indexOf(t)}const EW=["Plain","ECI","HRI","Hex","Escaped"];function bW(t){return EW.indexOf(t)}const jp={formats:[],tryHarder:!0,tryRotate:!0,tryInvert:!0,tryDownscale:!0,tryDenoise:!1,binarizer:"LocalAverage",isPure:!1,downscaleFactor:3,downscaleThreshold:500,minLineCount:2,maxNumberOfSymbols:255,tryCode39ExtendedMode:!0,returnErrors:!1,eanAddOnSymbol:"Ignore",textMode:"HRI",characterSet:"Unknown"};function KC(t){return{...t,formats:fW(t.formats),binarizer:mW(t.binarizer),eanAddOnSymbol:wW(t.eanAddOnSymbol),textMode:bW(t.textMode),characterSet:gW(t.characterSet)}}function CW(t){return{...t,format:hW(t.format),contentType:vW(t.contentType),eccLevel:t.ecLevel}}const _W={locateFile:(t,e)=>{const n=t.match(/_(.+?)\.wasm$/);return n?`https://fastly.jsdelivr.net/npm/zxing-wasm@2.1.2/dist/${n[1]}/${t}`:e+t}},o0=new WeakMap;function TW(t,e){return Object.is(t,e)||Object.keys(t).length===Object.keys(e).length&&Object.keys(t).every(n=>Object.prototype.hasOwnProperty.call(e,n)&&t[n]===e[n])}function Rk(t,{overrides:e,equalityFn:n=TW,fireImmediately:r=!1}={}){var s;const[i,o]=(s=o0.get(t))!=null?s:[_W],a=e??i;let c;if(r){if(o&&(c=n(i,a)))return o;const u=t({...a});return o0.set(t,[a,u]),u}(c??n(i,a))||o0.set(t,[a])}async function AW(t,e,n=jp){const r={...jp,...n},s=await Rk(t,{fireImmediately:!0});let i,o;if("width"in e&&"height"in e&&"data"in e){const{data:c,data:{byteLength:u},width:h,height:f}=e;o=s._malloc(u),s.HEAPU8.set(c,o),i=s.readBarcodesFromPixmap(o,h,f,KC(r))}else{let c,u;if("buffer"in e)[c,u]=[e.byteLength,e];else if("byteLength"in e)[c,u]=[e.byteLength,new Uint8Array(e)];else if("size"in e)[c,u]=[e.size,new Uint8Array(await e.arrayBuffer())];else throw new TypeError("Invalid input type");o=s._malloc(c),s.HEAPU8.set(u,o),i=s.readBarcodesFromImage(o,c,KC(r))}s._free(o);const a=[];for(let c=0;c<i.size();++c)a.push(CW(i.get(c)));return a}({...jp,formats:[...jp.formats]});var Nk=async function(t={}){var e,n=t,r,s,i=new Promise((_,C)=>{r=_,s=C}),o=typeof window=="object",a=typeof Bun<"u",c=typeof WorkerGlobalScope<"u";typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string"&&process.type!="renderer";var u="./this.program",h="";function f(_){return n.locateFile?n.locateFile(_,h):h+_}var p,v;(o||c||a)&&(c?h=self.location.href:typeof document<"u"&&document.currentScript&&(h=document.currentScript.src),h.startsWith("blob:")?h="":h=h.slice(0,h.replace(/[?#].*/,"").lastIndexOf("/")+1),c&&(v=_=>{var C=new XMLHttpRequest;return C.open("GET",_,!1),C.responseType="arraybuffer",C.send(null),new Uint8Array(C.response)}),p=async _=>{var C=await fetch(_,{credentials:"same-origin"});if(C.ok)return C.arrayBuffer();throw new Error(C.status+" : "+C.url)});var x=console.log.bind(console),g=console.error.bind(console),w,T,E=!1,b,R,D,F,I,S,P,k;function O(){var _=T.buffer;b=new Int8Array(_),D=new Int16Array(_),n.HEAPU8=R=new Uint8Array(_),F=new Uint16Array(_),I=new Int32Array(_),S=new Uint32Array(_),P=new Float32Array(_),k=new Float64Array(_)}function L(){if(n.preRun)for(typeof n.preRun=="function"&&(n.preRun=[n.preRun]);n.preRun.length;)Ce(n.preRun.shift());ge(Te)}function j(){m.ya()}function W(){if(n.postRun)for(typeof n.postRun=="function"&&(n.postRun=[n.postRun]);n.postRun.length;)Ee(n.postRun.shift());ge(xe)}var H=0,J=null;function oe(_){var C;H++,(C=n.monitorRunDependencies)===null||C===void 0||C.call(n,H)}function q(_){var C;if(H--,(C=n.monitorRunDependencies)===null||C===void 0||C.call(n,H),H==0&&J){var N=J;J=null,N()}}function z(_){var C;(C=n.onAbort)===null||C===void 0||C.call(n,_),_="Aborted("+_+")",g(_),E=!0,_+=". Build with -sASSERTIONS for more info.";var N=new WebAssembly.RuntimeError(_);throw s(N),N}var se;function ne(){return f("zxing_reader.wasm")}function le(_){if(_==se&&w)return new Uint8Array(w);if(v)return v(_);throw"both async and sync fetching of the wasm failed"}async function ue(_){if(!w)try{var C=await p(_);return new Uint8Array(C)}catch{}return le(_)}async function Se(_,C){try{var N=await ue(_),V=await WebAssembly.instantiate(N,C);return V}catch(B){g(`failed to asynchronously prepare wasm: ${B}`),z(B)}}async function ke(_,C,N){if(!_&&typeof WebAssembly.instantiateStreaming=="function")try{var V=fetch(C,{credentials:"same-origin"}),B=await WebAssembly.instantiateStreaming(V,N);return B}catch(U){g(`wasm streaming compile failed: ${U}`),g("falling back to ArrayBuffer instantiation")}return Se(C,N)}function we(){return{a:d}}async function ie(){function _(U,Q){return m=U.exports,T=m.xa,O(),Sa=m.Ba,q(),m}oe();function C(U){return _(U.instance)}var N=we();if(n.instantiateWasm)return new Promise((U,Q)=>{n.instantiateWasm(N,($,re)=>{U(_($))})});se!=null||(se=ne());try{var V=await ke(w,se,N),B=C(V);return B}catch(U){return s(U),Promise.reject(U)}}var ge=_=>{for(;_.length>0;)_.shift()(n)},xe=[],Ee=_=>xe.push(_),Te=[],Ce=_=>Te.push(_),he=_=>qt(_),ve=()=>Qe(),gt=[],at=0,Dt=_=>{var C=new cn(_);return C.get_caught()||(C.set_caught(!0),at--),C.set_rethrown(!1),gt.push(C),Kt(_),K(_)},Ze=0,yt=()=>{X(0,0);var _=gt.pop();Yt(_.excPtr),Ze=0};class cn{constructor(C){this.excPtr=C,this.ptr=C-24}set_type(C){S[this.ptr+4>>2]=C}get_type(){return S[this.ptr+4>>2]}set_destructor(C){S[this.ptr+8>>2]=C}get_destructor(){return S[this.ptr+8>>2]}set_caught(C){C=C?1:0,b[this.ptr+12]=C}get_caught(){return b[this.ptr+12]!=0}set_rethrown(C){C=C?1:0,b[this.ptr+13]=C}get_rethrown(){return b[this.ptr+13]!=0}init(C,N){this.set_adjusted_ptr(0),this.set_type(C),this.set_destructor(N)}set_adjusted_ptr(C){S[this.ptr+16>>2]=C}get_adjusted_ptr(){return S[this.ptr+16>>2]}}var _r=_=>rt(_),ys=_=>{var C=Ze;if(!C)return _r(0),0;var N=new cn(C);N.set_adjusted_ptr(C);var V=N.get_type();if(!V)return _r(0),C;for(var B of _){if(B===0||B===V)break;var U=N.ptr+16;if(ci(B,V,U))return _r(B),C}return _r(V),C},ur=()=>ys([]),vs=_=>ys([_]),bo=(_,C)=>ys([_,C]),At=()=>{var _=gt.pop();_||z("no exception to throw");var C=_.excPtr;throw _.get_rethrown()||(gt.push(_),_.set_rethrown(!0),_.set_caught(!1),at++),Ze=C,Ze},vt=(_,C,N)=>{var V=new cn(_);throw V.init(C,N),Ze=_,at++,Ze},xs=()=>at,Tr=_=>{throw Ze||(Ze=_),Ze},Co=()=>z(""),ei={},dr=_=>{for(;_.length;){var C=_.pop(),N=_.pop();N(C)}};function Ar(_){return this.fromWireType(S[_>>2])}var Sr={},Tn={},An={},pc=n.InternalError=class extends Error{constructor(_){super(_),this.name="InternalError"}},Ae=_=>{throw new pc(_)},Ue=(_,C,N)=>{_.forEach($=>An[$]=C);function V($){var re=N($);re.length!==_.length&&Ae("Mismatched type converter count");for(var ce=0;ce<_.length;++ce)dn(_[ce],re[ce])}var B=new Array(C.length),U=[],Q=0;C.forEach(($,re)=>{Tn.hasOwnProperty($)?B[re]=Tn[$]:(U.push($),Sr.hasOwnProperty($)||(Sr[$]=[]),Sr[$].push(()=>{B[re]=Tn[$],++Q,Q===U.length&&V(B)}))}),U.length===0&&V(B)},Je=_=>{var C=ei[_];delete ei[_];var N=C.rawConstructor,V=C.rawDestructor,B=C.fields,U=B.map(Q=>Q.getterReturnType).concat(B.map(Q=>Q.setterArgumentType));Ue([_],U,Q=>{var $={};return B.forEach((re,ce)=>{var de=re.fieldName,_e=Q[ce],Ke=Q[ce].optional,Xe=re.getter,wt=re.getterContext,Gt=Q[ce+B.length],Ot=re.setter,Ht=re.setterContext;$[de]={read:Is=>_e.fromWireType(Xe(wt,Is)),write:(Is,Vn)=>{var fr=[];Ot(Ht,Is,Gt.toWireType(fr,Vn)),dr(fr)},optional:Ke}}),[{name:C.name,fromWireType:re=>{var ce={};for(var de in $)ce[de]=$[de].read(re);return V(re),ce},toWireType:(re,ce)=>{for(var de in $)if(!(de in ce)&&!$[de].optional)throw new TypeError(`Missing field: "${de}"`);var _e=N();for(de in $)$[de].write(_e,ce[de]);return re!==null&&re.push(V,_e),_e},argPackAdvance:hr,readValueFromPointer:Ar,destructorFunction:V}]})},Qt=(_,C,N,V,B)=>{},un=()=>{for(var _=new Array(256),C=0;C<256;++C)_[C]=String.fromCharCode(C);Ir=_},Ir,dt=_=>{for(var C="",N=_;R[N];)C+=Ir[R[N++]];return C},ti=n.BindingError=class extends Error{constructor(_){super(_),this.name="BindingError"}},We=_=>{throw new ti(_)};function Pd(_,C){let N=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};var V=C.name;if(_||We(`type "${V}" must have a positive integer typeid pointer`),Tn.hasOwnProperty(_)){if(N.ignoreDuplicateRegistrations)return;We(`Cannot register type '${V}' twice`)}if(Tn[_]=C,delete An[_],Sr.hasOwnProperty(_)){var B=Sr[_];delete Sr[_],B.forEach(U=>U())}}function dn(_,C){let N=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Pd(_,C,N)}var hr=8,en=(_,C,N,V)=>{C=dt(C),dn(_,{name:C,fromWireType:function(B){return!!B},toWireType:function(B,U){return U?N:V},argPackAdvance:hr,readValueFromPointer:function(B){return this.fromWireType(R[B])},destructorFunction:null})},kd=_=>({count:_.count,deleteScheduled:_.deleteScheduled,preservePointerOnDelete:_.preservePointerOnDelete,ptr:_.ptr,ptrType:_.ptrType,smartPtr:_.smartPtr,smartPtrType:_.smartPtrType}),ws=_=>{function C(N){return N.$$.ptrType.registeredClass.name}We(C(_)+" instance already deleted")},Es=!1,Md=_=>{},$m=_=>{_.smartPtr?_.smartPtrType.rawDestructor(_.smartPtr):_.ptrType.registeredClass.rawDestructor(_.ptr)},bs=_=>{_.count.value-=1;var C=_.count.value===0;C&&$m(_)},_o=_=>typeof FinalizationRegistry>"u"?(_o=C=>C,_):(Es=new FinalizationRegistry(C=>{bs(C.$$)}),_o=C=>{var N=C.$$,V=!!N.smartPtr;if(V){var B={$$:N};Es.register(C,B,C)}return C},Md=C=>Es.unregister(C),_o(_)),zm=()=>{let _=Cs.prototype;Object.assign(_,{isAliasOf(N){if(!(this instanceof Cs)||!(N instanceof Cs))return!1;var V=this.$$.ptrType.registeredClass,B=this.$$.ptr;N.$$=N.$$;for(var U=N.$$.ptrType.registeredClass,Q=N.$$.ptr;V.baseClass;)B=V.upcast(B),V=V.baseClass;for(;U.baseClass;)Q=U.upcast(Q),U=U.baseClass;return V===U&&B===Q},clone(){if(this.$$.ptr||ws(this),this.$$.preservePointerOnDelete)return this.$$.count.value+=1,this;var N=_o(Object.create(Object.getPrototypeOf(this),{$$:{value:kd(this.$$)}}));return N.$$.count.value+=1,N.$$.deleteScheduled=!1,N},delete(){this.$$.ptr||ws(this),this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete&&We("Object already scheduled for deletion"),Md(this),bs(this.$$),this.$$.preservePointerOnDelete||(this.$$.smartPtr=void 0,this.$$.ptr=void 0)},isDeleted(){return!this.$$.ptr},deleteLater(){return this.$$.ptr||ws(this),this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete&&We("Object already scheduled for deletion"),this.$$.deleteScheduled=!0,this}});const C=Symbol.dispose;C&&(_[C]=_.delete)};function Cs(){}var ba=(_,C)=>Object.defineProperty(C,"name",{value:_}),Ca={},To=(_,C,N)=>{if(_[C].overloadTable===void 0){var V=_[C];_[C]=function(){for(var B=arguments.length,U=new Array(B),Q=0;Q<B;Q++)U[Q]=arguments[Q];return _[C].overloadTable.hasOwnProperty(U.length)||We(`Function '${N}' called with an invalid number of arguments (${U.length}) - expects one of (${_[C].overloadTable})!`),_[C].overloadTable[U.length].apply(this,U)},_[C].overloadTable=[],_[C].overloadTable[V.argCount]=V}},Rr=(_,C,N)=>{n.hasOwnProperty(_)?((N===void 0||n[_].overloadTable!==void 0&&n[_].overloadTable[N]!==void 0)&&We(`Cannot register public name '${_}' twice`),To(n,_,_),n[_].overloadTable.hasOwnProperty(N)&&We(`Cannot register multiple overloads of a function with the same number of arguments (${N})!`),n[_].overloadTable[N]=C):(n[_]=C,n[_].argCount=N)},jd=48,Dd=57,mc=_=>{_=_.replace(/[^a-zA-Z0-9_]/g,"$");var C=_.charCodeAt(0);return C>=jd&&C<=Dd?`_${_}`:_};function gc(_,C,N,V,B,U,Q,$){this.name=_,this.constructor=C,this.instancePrototype=N,this.rawDestructor=V,this.baseClass=B,this.getActualType=U,this.upcast=Q,this.downcast=$,this.pureVirtualFunctions=[]}var _a=(_,C,N)=>{for(;C!==N;)C.upcast||We(`Expected null or instance of ${N.name}, got an instance of ${C.name}`),_=C.upcast(_),C=C.baseClass;return _};function Od(_,C){if(C===null)return this.isReference&&We(`null is not a valid ${this.name}`),0;C.$$||We(`Cannot pass "${embindRepr(C)}" as a ${this.name}`),C.$$.ptr||We(`Cannot pass deleted object as a pointer of type ${this.name}`);var N=C.$$.ptrType.registeredClass,V=_a(C.$$.ptr,N,this.registeredClass);return V}function Wm(_,C){var N;if(C===null)return this.isReference&&We(`null is not a valid ${this.name}`),this.isSmartPointer?(N=this.rawConstructor(),_!==null&&_.push(this.rawDestructor,N),N):0;(!C||!C.$$)&&We(`Cannot pass "${embindRepr(C)}" as a ${this.name}`),C.$$.ptr||We(`Cannot pass deleted object as a pointer of type ${this.name}`),!this.isConst&&C.$$.ptrType.isConst&&We(`Cannot convert argument of type ${C.$$.smartPtrType?C.$$.smartPtrType.name:C.$$.ptrType.name} to parameter type ${this.name}`);var V=C.$$.ptrType.registeredClass;if(N=_a(C.$$.ptr,V,this.registeredClass),this.isSmartPointer)switch(C.$$.smartPtr===void 0&&We("Passing raw pointer to smart pointer is illegal"),this.sharingPolicy){case 0:C.$$.smartPtrType===this?N=C.$$.smartPtr:We(`Cannot convert argument of type ${C.$$.smartPtrType?C.$$.smartPtrType.name:C.$$.ptrType.name} to parameter type ${this.name}`);break;case 1:N=C.$$.smartPtr;break;case 2:if(C.$$.smartPtrType===this)N=C.$$.smartPtr;else{var B=C.clone();N=this.rawShare(N,Nr.toHandle(()=>B.delete())),_!==null&&_.push(this.rawDestructor,N)}break;default:We("Unsupporting sharing policy")}return N}function Ta(_,C){if(C===null)return this.isReference&&We(`null is not a valid ${this.name}`),0;C.$$||We(`Cannot pass "${embindRepr(C)}" as a ${this.name}`),C.$$.ptr||We(`Cannot pass deleted object as a pointer of type ${this.name}`),C.$$.ptrType.isConst&&We(`Cannot convert argument of type ${C.$$.ptrType.name} to parameter type ${this.name}`);var N=C.$$.ptrType.registeredClass,V=_a(C.$$.ptr,N,this.registeredClass);return V}var yc=(_,C,N)=>{if(C===N)return _;if(N.baseClass===void 0)return null;var V=yc(_,C,N.baseClass);return V===null?null:N.downcast(V)},vc={},Ao=(_,C)=>{for(C===void 0&&We("ptr should not be undefined");_.baseClass;)C=_.upcast(C),_=_.baseClass;return C},_s=(_,C)=>(C=Ao(_,C),vc[C]),ni=(_,C)=>{(!C.ptrType||!C.ptr)&&Ae("makeClassHandle requires ptr and ptrType");var N=!!C.smartPtrType,V=!!C.smartPtr;return N!==V&&Ae("Both smartPtrType and smartPtr must be specified"),C.count={value:1},_o(Object.create(_,{$$:{value:C,writable:!0}}))};function Qm(_){var C=this.getPointee(_);if(!C)return this.destructor(_),null;var N=_s(this.registeredClass,C);if(N!==void 0){if(N.$$.count.value===0)return N.$$.ptr=C,N.$$.smartPtr=_,N.clone();var V=N.clone();return this.destructor(_),V}function B(){return this.isSmartPointer?ni(this.registeredClass.instancePrototype,{ptrType:this.pointeeType,ptr:C,smartPtrType:this,smartPtr:_}):ni(this.registeredClass.instancePrototype,{ptrType:this,ptr:_})}var U=this.registeredClass.getActualType(C),Q=Ca[U];if(!Q)return B.call(this);var $;this.isConst?$=Q.constPointerType:$=Q.pointerType;var re=yc(C,this.registeredClass,$.registeredClass);return re===null?B.call(this):this.isSmartPointer?ni($.registeredClass.instancePrototype,{ptrType:$,ptr:re,smartPtrType:this,smartPtr:_}):ni($.registeredClass.instancePrototype,{ptrType:$,ptr:re})}var Ld=()=>{Object.assign(So.prototype,{getPointee(_){return this.rawGetPointee&&(_=this.rawGetPointee(_)),_},destructor(_){var C;(C=this.rawDestructor)===null||C===void 0||C.call(this,_)},argPackAdvance:hr,readValueFromPointer:Ar,fromWireType:Qm})};function So(_,C,N,V,B,U,Q,$,re,ce,de){this.name=_,this.registeredClass=C,this.isReference=N,this.isConst=V,this.isSmartPointer=B,this.pointeeType=U,this.sharingPolicy=Q,this.rawGetPointee=$,this.rawConstructor=re,this.rawShare=ce,this.rawDestructor=de,!B&&C.baseClass===void 0?V?(this.toWireType=Od,this.destructorFunction=null):(this.toWireType=Ta,this.destructorFunction=null):this.toWireType=Wm}var xc=(_,C,N)=>{n.hasOwnProperty(_)||Ae("Replacing nonexistent public symbol"),n[_].overloadTable!==void 0&&N!==void 0?n[_].overloadTable[N]=C:(n[_]=C,n[_].argCount=N)},Aa=[],Sa,Oe=_=>{var C=Aa[_];return C||(Aa[_]=C=Sa.get(_)),C},Vd=function(_,C){let N=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];if(_.includes("j"))return dynCallLegacy(_,C,N);var V=Oe(C),B=V(...N);return B},Ym=function(_,C){let N=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;return function(){for(var V=arguments.length,B=new Array(V),U=0;U<V;U++)B[U]=arguments[U];return Vd(_,C,B,N)}},Wn=function(_,C){_=dt(_);function N(){if(_.includes("j"))return Ym(_,C);var B=Oe(C);return B}var V=N();return typeof V!="function"&&We(`unknown function pointer with signature ${_}: ${C}`),V};class Fd extends Error{}var wc=_=>{var C=A(_),N=dt(C);return M(C),N},Ia=(_,C)=>{var N=[],V={};function B(U){if(!V[U]&&!Tn[U]){if(An[U]){An[U].forEach(B);return}N.push(U),V[U]=!0}}throw C.forEach(B),new Fd(`${_}: `+N.map(wc).join([", "]))},Ts=(_,C,N,V,B,U,Q,$,re,ce,de,_e,Ke)=>{de=dt(de),U=Wn(B,U),$&&($=Wn(Q,$)),ce&&(ce=Wn(re,ce)),Ke=Wn(_e,Ke);var Xe=mc(de);Rr(Xe,function(){Ia(`Cannot construct ${de} due to unbound types`,[V])}),Ue([_,C,N],V?[V]:[],wt=>{wt=wt[0];var Gt,Ot;V?(Gt=wt.registeredClass,Ot=Gt.instancePrototype):Ot=Cs.prototype;var Ht=ba(de,function(){if(Object.getPrototypeOf(this)!==Is)throw new ti(`Use 'new' to construct ${de}`);if(Vn.constructor_body===void 0)throw new ti(`${de} has no accessible constructor`);for(var eE=arguments.length,fh=new Array(eE),ph=0;ph<eE;ph++)fh[ph]=arguments[ph];var tE=Vn.constructor_body[fh.length];if(tE===void 0)throw new ti(`Tried to invoke ctor of ${de} with invalid number of parameters (${fh.length}) - expected (${Object.keys(Vn.constructor_body).toString()}) parameters instead!`);return tE.apply(this,fh)}),Is=Object.create(Ot,{constructor:{value:Ht}});Ht.prototype=Is;var Vn=new gc(de,Ht,Is,Ke,Gt,U,$,ce);if(Vn.baseClass){var fr,hh;(hh=(fr=Vn.baseClass).__derivedClasses)!==null&&hh!==void 0||(fr.__derivedClasses=[]),Vn.baseClass.__derivedClasses.push(Vn)}var _M=new So(de,Vn,!0,!1,!1),Xw=new So(de+"*",Vn,!1,!1,!1),Zw=new So(de+" const*",Vn,!1,!0,!1);return Ca[_]={pointerType:Xw,constPointerType:Zw},xc(Xe,Ht),[_M,Xw,Zw]})},Qn=(_,C)=>{for(var N=[],V=0;V<_;V++)N.push(S[C+V*4>>2]);return N};function Ra(_){for(var C=1;C<_.length;++C)if(_[C]!==null&&_[C].destructorFunction===void 0)return!0;return!1}function ri(_,C,N,V,B,U){var Q=C.length;Q<2&&We("argTypes array size mismatch! Must at least get return value and 'this' types!");var $=C[1]!==null&&N!==null,re=Ra(C),ce=C[0].name!=="void",de=Q-2,_e=new Array(de),Ke=[],Xe=[],wt=function(){Xe.length=0;var Gt;Ke.length=$?2:1,Ke[0]=B,$&&(Gt=C[1].toWireType(Xe,this),Ke[1]=Gt);for(var Ot=0;Ot<de;++Ot)_e[Ot]=C[Ot+2].toWireType(Xe,Ot<0||arguments.length<=Ot?void 0:arguments[Ot]),Ke.push(_e[Ot]);var Ht=V(...Ke);function Is(Vn){if(re)dr(Xe);else for(var fr=$?1:2;fr<C.length;fr++){var hh=fr===1?Gt:_e[fr-2];C[fr].destructorFunction!==null&&C[fr].destructorFunction(hh)}if(ce)return C[0].fromWireType(Vn)}return Is(Ht)};return ba(_,wt)}var Bd=(_,C,N,V,B,U)=>{var Q=Qn(C,N);B=Wn(V,B),Ue([],[_],$=>{$=$[0];var re=`constructor ${$.name}`;if($.registeredClass.constructor_body===void 0&&($.registeredClass.constructor_body=[]),$.registeredClass.constructor_body[C-1]!==void 0)throw new ti(`Cannot register multiple constructors with identical number of parameters (${C-1}) for class '${$.name}'! Overload resolution is currently only performed using the parameter count, not actual type info!`);return $.registeredClass.constructor_body[C-1]=()=>{Ia(`Cannot construct ${$.name} due to unbound types`,Q)},Ue([],Q,ce=>(ce.splice(1,0,null),$.registeredClass.constructor_body[C-1]=ri(re,ce,null,B,U),[])),[]})},ot=_=>{_=_.trim();const C=_.indexOf("(");return C===-1?_:_.slice(0,C)},Na=(_,C,N,V,B,U,Q,$,re,ce)=>{var de=Qn(N,V);C=dt(C),C=ot(C),U=Wn(B,U),Ue([],[_],_e=>{_e=_e[0];var Ke=`${_e.name}.${C}`;C.startsWith("@@")&&(C=Symbol[C.substring(2)]),$&&_e.registeredClass.pureVirtualFunctions.push(C);function Xe(){Ia(`Cannot call ${Ke} due to unbound types`,de)}var wt=_e.registeredClass.instancePrototype,Gt=wt[C];return Gt===void 0||Gt.overloadTable===void 0&&Gt.className!==_e.name&&Gt.argCount===N-2?(Xe.argCount=N-2,Xe.className=_e.name,wt[C]=Xe):(To(wt,C,Ke),wt[C].overloadTable[N-2]=Xe),Ue([],de,Ot=>{var Ht=ri(Ke,Ot,_e,U,Q);return wt[C].overloadTable===void 0?(Ht.argCount=N-2,wt[C]=Ht):wt[C].overloadTable[N-2]=Ht,[]}),[]})},As=[],Sn=[],Ec=_=>{_>9&&--Sn[_+1]===0&&(Sn[_]=void 0,As.push(_))},Ud=()=>Sn.length/2-5-As.length,Km=()=>{Sn.push(0,1,void 0,1,null,1,!0,1,!1,1),n.count_emval_handles=Ud},Nr={toValue:_=>(_||We(`Cannot use deleted val. handle = ${_}`),Sn[_]),toHandle:_=>{switch(_){case void 0:return 2;case null:return 4;case!0:return 6;case!1:return 8;default:{const C=As.pop()||Sn.length;return Sn[C]=_,Sn[C+1]=1,C}}}},qd={name:"emscripten::val",fromWireType:_=>{var C=Nr.toValue(_);return Ec(_),C},toWireType:(_,C)=>Nr.toHandle(C),argPackAdvance:hr,readValueFromPointer:Ar,destructorFunction:null},Hm=_=>dn(_,qd),Io=(_,C)=>{switch(C){case 4:return function(N){return this.fromWireType(P[N>>2])};case 8:return function(N){return this.fromWireType(k[N>>3])};default:throw new TypeError(`invalid float width (${C}): ${_}`)}},Kr=(_,C,N)=>{C=dt(C),dn(_,{name:C,fromWireType:V=>V,toWireType:(V,B)=>B,argPackAdvance:hr,readValueFromPointer:Io(C,N),destructorFunction:null})},Gd=(_,C,N,V,B,U,Q,$)=>{var re=Qn(C,N);_=dt(_),_=ot(_),B=Wn(V,B),Rr(_,function(){Ia(`Cannot call ${_} due to unbound types`,re)},C-1),Ue([],re,ce=>{var de=[ce[0],null].concat(ce.slice(1));return xc(_,ri(_,de,null,B,U),C-1),[]})},$d=(_,C,N)=>{switch(C){case 1:return N?V=>b[V]:V=>R[V];case 2:return N?V=>D[V>>1]:V=>F[V>>1];case 4:return N?V=>I[V>>2]:V=>S[V>>2];default:throw new TypeError(`invalid integer width (${C}): ${_}`)}},zd=(_,C,N,V,B)=>{C=dt(C);var U=de=>de;if(V===0){var Q=32-8*N;U=de=>de<<Q>>>Q}var $=C.includes("unsigned"),re=(de,_e)=>{},ce;$?ce=function(de,_e){return re(_e,this.name),_e>>>0}:ce=function(de,_e){return re(_e,this.name),_e},dn(_,{name:C,fromWireType:U,toWireType:ce,argPackAdvance:hr,readValueFromPointer:$d(C,N,V!==0),destructorFunction:null})},si=(_,C,N)=>{var V=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array],B=V[C];function U(Q){var $=S[Q>>2],re=S[Q+4>>2];return new B(b.buffer,re,$)}N=dt(N),dn(_,{name:N,fromWireType:U,argPackAdvance:hr,readValueFromPointer:U},{ignoreDuplicateRegistrations:!0})},Jm=Object.assign({optional:!0},qd),Xm=(_,C)=>{dn(_,Jm)},Zm=(_,C,N,V)=>{if(!(V>0))return 0;for(var B=N,U=N+V-1,Q=0;Q<_.length;++Q){var $=_.charCodeAt(Q);if($>=55296&&$<=57343){var re=_.charCodeAt(++Q);$=65536+(($&1023)<<10)|re&1023}if($<=127){if(N>=U)break;C[N++]=$}else if($<=2047){if(N+1>=U)break;C[N++]=192|$>>6,C[N++]=128|$&63}else if($<=65535){if(N+2>=U)break;C[N++]=224|$>>12,C[N++]=128|$>>6&63,C[N++]=128|$&63}else{if(N+3>=U)break;C[N++]=240|$>>18,C[N++]=128|$>>12&63,C[N++]=128|$>>6&63,C[N++]=128|$&63}}return C[N]=0,N-B},In=(_,C,N)=>Zm(_,R,C,N),Wd=_=>{for(var C=0,N=0;N<_.length;++N){var V=_.charCodeAt(N);V<=127?C++:V<=2047?C+=2:V>=55296&&V<=57343?(C+=4,++N):C+=3}return C},Qd=typeof TextDecoder<"u"?new TextDecoder:void 0,Ro=function(_){let C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,N=arguments.length>2&&arguments[2]!==void 0?arguments[2]:NaN;for(var V=C+N,B=C;_[B]&&!(B>=V);)++B;if(B-C>16&&_.buffer&&Qd)return Qd.decode(_.subarray(C,B));for(var U="";C<B;){var Q=_[C++];if(!(Q&128)){U+=String.fromCharCode(Q);continue}var $=_[C++]&63;if((Q&224)==192){U+=String.fromCharCode((Q&31)<<6|$);continue}var re=_[C++]&63;if((Q&240)==224?Q=(Q&15)<<12|$<<6|re:Q=(Q&7)<<18|$<<12|re<<6|_[C++]&63,Q<65536)U+=String.fromCharCode(Q);else{var ce=Q-65536;U+=String.fromCharCode(55296|ce>>10,56320|ce&1023)}}return U},Pa=(_,C)=>_?Ro(R,_,C):"",Yd=(_,C)=>{C=dt(C),dn(_,{name:C,fromWireType(N){for(var V=S[N>>2],B=N+4,U,$,Q=B,$=0;$<=V;++$){var re=B+$;if($==V||R[re]==0){var ce=re-Q,de=Pa(Q,ce);U===void 0?U=de:(U+="\0",U+=de),Q=re+1}}return M(N),U},toWireType(N,V){V instanceof ArrayBuffer&&(V=new Uint8Array(V));var B,U=typeof V=="string";U||ArrayBuffer.isView(V)&&V.BYTES_PER_ELEMENT==1||We("Cannot pass non-string to std::string"),U?B=Wd(V):B=V.length;var Q=G(4+B+1),$=Q+4;return S[Q>>2]=B,U?In(V,$,B+1):R.set(V,$),N!==null&&N.push(M,Q),Q},argPackAdvance:hr,readValueFromPointer:Ar,destructorFunction(N){M(N)}})},ii=typeof TextDecoder<"u"?new TextDecoder("utf-16le"):void 0,No=(_,C)=>{for(var N=_,V=N>>1,B=V+C/2;!(V>=B)&&F[V];)++V;if(N=V<<1,N-_>32&&ii)return ii.decode(R.subarray(_,N));for(var U="",Q=0;!(Q>=C/2);++Q){var $=D[_+Q*2>>1];if($==0)break;U+=String.fromCharCode($)}return U},Kd=(_,C,N)=>{if(N!=null||(N=2147483647),N<2)return 0;N-=2;for(var V=C,B=N<_.length*2?N/2:_.length,U=0;U<B;++U){var Q=_.charCodeAt(U);D[C>>1]=Q,C+=2}return D[C>>1]=0,C-V},bc=_=>_.length*2,xt=(_,C)=>{for(var N=0,V="";!(N>=C/4);){var B=I[_+N*4>>2];if(B==0)break;if(++N,B>=65536){var U=B-65536;V+=String.fromCharCode(55296|U>>10,56320|U&1023)}else V+=String.fromCharCode(B)}return V},eg=(_,C,N)=>{if(N!=null||(N=2147483647),N<4)return 0;for(var V=C,B=V+N-4,U=0;U<_.length;++U){var Q=_.charCodeAt(U);if(Q>=55296&&Q<=57343){var $=_.charCodeAt(++U);Q=65536+((Q&1023)<<10)|$&1023}if(I[C>>2]=Q,C+=4,C+4>B)break}return I[C>>2]=0,C-V},tg=_=>{for(var C=0,N=0;N<_.length;++N){var V=_.charCodeAt(N);V>=55296&&V<=57343&&++N,C+=4}return C},Hd=(_,C,N)=>{N=dt(N);var V,B,U,Q;C===2?(V=No,B=Kd,Q=bc,U=$=>F[$>>1]):C===4&&(V=xt,B=eg,Q=tg,U=$=>S[$>>2]),dn(_,{name:N,fromWireType:$=>{for(var re=S[$>>2],ce,de=$+4,_e=0;_e<=re;++_e){var Ke=$+4+_e*C;if(_e==re||U(Ke)==0){var Xe=Ke-de,wt=V(de,Xe);ce===void 0?ce=wt:(ce+="\0",ce+=wt),de=Ke+C}}return M($),ce},toWireType:($,re)=>{typeof re!="string"&&We(`Cannot pass non-string to C++ string type ${N}`);var ce=Q(re),de=G(4+ce+C);return S[de>>2]=ce/C,B(re,de+4,ce+C),$!==null&&$.push(M,de),de},argPackAdvance:hr,readValueFromPointer:Ar,destructorFunction($){M($)}})},Jd=(_,C,N,V,B,U)=>{ei[_]={name:dt(C),rawConstructor:Wn(N,V),rawDestructor:Wn(B,U),fields:[]}},Xd=(_,C,N,V,B,U,Q,$,re,ce)=>{ei[_].fields.push({fieldName:dt(C),getterReturnType:N,getter:Wn(V,B),getterContext:U,setterArgumentType:Q,setter:Wn($,re),setterContext:ce})},ka=(_,C)=>{C=dt(C),dn(_,{isVoid:!0,name:C,argPackAdvance:0,fromWireType:()=>{},toWireType:(N,V)=>{}})},Ma=[],Pr=(_,C,N,V)=>(_=Ma[_],C=Nr.toValue(C),_(null,C,N,V)),Zd={},ng=_=>{var C=Zd[_];return C===void 0?dt(_):C},oi=()=>{if(typeof globalThis=="object")return globalThis;function _(C){C.$$$embind_global$$$=C;var N=typeof $$$embind_global$$$=="object"&&C.$$$embind_global$$$==C;return N||delete C.$$$embind_global$$$,N}if(typeof $$$embind_global$$$=="object"||(typeof global=="object"&&_(global)?$$$embind_global$$$=global:typeof self=="object"&&_(self)&&($$$embind_global$$$=self),typeof $$$embind_global$$$=="object"))return $$$embind_global$$$;throw Error("unable to get global object.")},eh=_=>_===0?Nr.toHandle(oi()):(_=ng(_),Nr.toHandle(oi()[_])),Cc=_=>{var C=Ma.length;return Ma.push(_),C},Po=(_,C)=>{var N=Tn[_];return N===void 0&&We(`${C} has unknown type ${wc(_)}`),N},th=(_,C)=>{for(var N=new Array(_),V=0;V<_;++V)N[V]=Po(S[C+V*4>>2],`parameter ${V}`);return N},ja=(_,C,N)=>{var V=[],B=_.toWireType(V,N);return V.length&&(S[C>>2]=Nr.toHandle(V)),B},rg=Reflect.construct,nh=(_,C,N)=>{var V=th(_,C),B=V.shift();_--;var U=new Array(_),Q=(re,ce,de,_e)=>{for(var Ke=0,Xe=0;Xe<_;++Xe)U[Xe]=V[Xe].readValueFromPointer(_e+Ke),Ke+=V[Xe].argPackAdvance;var wt=N===1?rg(ce,U):ce.apply(re,U);return ja(B,de,wt)},$=`methodCaller<(${V.map(re=>re.name).join(", ")}) => ${B.name}>`;return Cc(ba($,Q))},ko=_=>{_>9&&(Sn[_+1]+=1)},rh=_=>{var C=Nr.toValue(_);dr(C),Ec(_)},sh=(_,C)=>{_=Po(_,"_emval_take_value");var N=_.readValueFromPointer(C);return Nr.toHandle(N)},_c=(_,C,N,V)=>{var B=new Date().getFullYear(),U=new Date(B,0,1),Q=new Date(B,6,1),$=U.getTimezoneOffset(),re=Q.getTimezoneOffset(),ce=Math.max($,re);S[_>>2]=ce*60,I[C>>2]=+($!=re);var de=Xe=>{var wt=Xe>=0?"-":"+",Gt=Math.abs(Xe),Ot=String(Math.floor(Gt/60)).padStart(2,"0"),Ht=String(Gt%60).padStart(2,"0");return`UTC${wt}${Ot}${Ht}`},_e=de($),Ke=de(re);re<$?(In(_e,N,17),In(Ke,V,17)):(In(_e,V,17),In(Ke,N,17))},Tc=()=>2147483648,ih=(_,C)=>Math.ceil(_/C)*C,Da=_=>{var C=T.buffer,N=(_-C.byteLength+65535)/65536|0;try{return T.grow(N),O(),1}catch{}},oh=_=>{var C=R.length;_>>>=0;var N=Tc();if(_>N)return!1;for(var V=1;V<=4;V*=2){var B=C*(1+.2/V);B=Math.min(B,_+100663296);var U=Math.min(N,ih(Math.max(_,B),65536)),Q=Da(U);if(Q)return!0}return!1},Oa={},Ss=()=>u||"./this.program",ai=()=>{if(!ai.strings){var _=(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",C={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:_,_:Ss()};for(var N in Oa)Oa[N]===void 0?delete C[N]:C[N]=Oa[N];var V=[];for(var N in C)V.push(`${N}=${C[N]}`);ai.strings=V}return ai.strings},ah=(_,C)=>{var N=0,V=0;for(var B of ai()){var U=C+N;S[_+V>>2]=U,N+=In(B,U,1/0)+1,V+=4}return 0},lh=(_,C)=>{var N=ai();S[_>>2]=N.length;var V=0;for(var B of N)V+=Wd(B)+1;return S[C>>2]=V,0},ch=_=>52;function La(_,C,N,V,B){return 70}var Rn=[null,[],[]],uh=(_,C)=>{var N=Rn[_];C===0||C===10?((_===1?x:g)(Ro(N)),N.length=0):N.push(C)},dh=(_,C,N,V)=>{for(var B=0,U=0;U<N;U++){var Q=S[C>>2],$=S[C+4>>2];C+=8;for(var re=0;re<$;re++)uh(_,R[Q+re]);B+=$}return S[V>>2]=B,0},li=_=>_;un(),zm(),Ld(),Km(),n.noExitRuntime&&n.noExitRuntime,n.print&&(x=n.print),n.printErr&&(g=n.printErr),n.wasmBinary&&(w=n.wasmBinary),n.arguments&&n.arguments,n.thisProgram&&(u=n.thisProgram);var d={s:Dt,w:yt,a:ur,j:vs,m:bo,N:At,p:vt,da:xs,d:Tr,_:Co,sa:Je,Z:Qt,na:en,qa:Ts,pa:Bd,F:Na,la:Hm,R:Kr,S:Gd,y:zd,t:si,ra:Xm,ma:Yd,O:Hd,K:Jd,ta:Xd,oa:ka,V:Pr,ua:Ec,wa:eh,$:nh,T:ko,va:rh,ka:sh,aa:_c,ea:oh,ba:ah,ca:lh,fa:ch,X:La,Q:dh,I:cM,C:dM,U:Qk,P:vM,q:iM,b:Gk,D:lM,ia:fM,c:zk,ha:pM,h:Wk,i:Xk,r:eM,M:aM,v:nM,E:sM,J:oM,A:hM,H:xM,W:bM,k:Kk,f:Yk,e:$k,g:Ac,L:yM,l:Jk,ja:uM,o:tM,x:Zk,u:rM,ga:gM,B:mM,n:Hk,G:wM,Y:EM,z:li},m=await ie();m.ya;var A=m.za,M=n._free=m.Aa,G=n._malloc=m.Ca,K=m.Da,X=m.Ea,rt=m.Fa,qt=m.Ga,Qe=m.Ha,Yt=m.Ia,Kt=m.Ja,ci=m.Ka;n.dynCall_viijii=m.La;var Yn=n.dynCall_vij=m.Ma;n.dynCall_jiji=m.Na;var Va=n.dynCall_jiiii=m.Oa;n.dynCall_iiiiij=m.Pa,n.dynCall_iiiiijj=m.Qa,n.dynCall_iiiiiijj=m.Ra;function Ac(_,C,N,V){var B=ve();try{Oe(_)(C,N,V)}catch(U){if(he(B),U!==U+0)throw U;X(1,0)}}function Gk(_,C){var N=ve();try{return Oe(_)(C)}catch(V){if(he(N),V!==V+0)throw V;X(1,0)}}function $k(_,C,N){var V=ve();try{Oe(_)(C,N)}catch(B){if(he(V),B!==B+0)throw B;X(1,0)}}function zk(_,C,N){var V=ve();try{return Oe(_)(C,N)}catch(B){if(he(V),B!==B+0)throw B;X(1,0)}}function Wk(_,C,N,V){var B=ve();try{return Oe(_)(C,N,V)}catch(U){if(he(B),U!==U+0)throw U;X(1,0)}}function Qk(_,C,N,V,B){var U=ve();try{return Oe(_)(C,N,V,B)}catch(Q){if(he(U),Q!==Q+0)throw Q;X(1,0)}}function Yk(_,C){var N=ve();try{Oe(_)(C)}catch(V){if(he(N),V!==V+0)throw V;X(1,0)}}function Kk(_){var C=ve();try{Oe(_)()}catch(N){if(he(C),N!==N+0)throw N;X(1,0)}}function Hk(_,C,N,V,B,U,Q,$,re,ce,de){var _e=ve();try{Oe(_)(C,N,V,B,U,Q,$,re,ce,de)}catch(Ke){if(he(_e),Ke!==Ke+0)throw Ke;X(1,0)}}function Jk(_,C,N,V,B){var U=ve();try{Oe(_)(C,N,V,B)}catch(Q){if(he(U),Q!==Q+0)throw Q;X(1,0)}}function Xk(_,C,N,V,B){var U=ve();try{return Oe(_)(C,N,V,B)}catch(Q){if(he(U),Q!==Q+0)throw Q;X(1,0)}}function Zk(_,C,N,V,B,U,Q){var $=ve();try{Oe(_)(C,N,V,B,U,Q)}catch(re){if(he($),re!==re+0)throw re;X(1,0)}}function eM(_,C,N,V,B,U){var Q=ve();try{return Oe(_)(C,N,V,B,U)}catch($){if(he(Q),$!==$+0)throw $;X(1,0)}}function tM(_,C,N,V,B,U){var Q=ve();try{Oe(_)(C,N,V,B,U)}catch($){if(he(Q),$!==$+0)throw $;X(1,0)}}function nM(_,C,N,V,B,U,Q){var $=ve();try{return Oe(_)(C,N,V,B,U,Q)}catch(re){if(he($),re!==re+0)throw re;X(1,0)}}function rM(_,C,N,V,B,U,Q,$){var re=ve();try{Oe(_)(C,N,V,B,U,Q,$)}catch(ce){if(he(re),ce!==ce+0)throw ce;X(1,0)}}function sM(_,C,N,V,B,U,Q,$){var re=ve();try{return Oe(_)(C,N,V,B,U,Q,$)}catch(ce){if(he(re),ce!==ce+0)throw ce;X(1,0)}}function iM(_){var C=ve();try{return Oe(_)()}catch(N){if(he(C),N!==N+0)throw N;X(1,0)}}function oM(_,C,N,V,B,U,Q,$,re){var ce=ve();try{return Oe(_)(C,N,V,B,U,Q,$,re)}catch(de){if(he(ce),de!==de+0)throw de;X(1,0)}}function aM(_,C,N,V,B,U,Q){var $=ve();try{return Oe(_)(C,N,V,B,U,Q)}catch(re){if(he($),re!==re+0)throw re;X(1,0)}}function lM(_,C,N,V){var B=ve();try{return Oe(_)(C,N,V)}catch(U){if(he(B),U!==U+0)throw U;X(1,0)}}function cM(_,C,N,V){var B=ve();try{return Oe(_)(C,N,V)}catch(U){if(he(B),U!==U+0)throw U;X(1,0)}}function uM(_,C,N,V,B,U,Q,$){var re=ve();try{Oe(_)(C,N,V,B,U,Q,$)}catch(ce){if(he(re),ce!==ce+0)throw ce;X(1,0)}}function dM(_,C,N,V,B,U){var Q=ve();try{return Oe(_)(C,N,V,B,U)}catch($){if(he(Q),$!==$+0)throw $;X(1,0)}}function hM(_,C,N,V,B,U,Q,$,re,ce){var de=ve();try{return Oe(_)(C,N,V,B,U,Q,$,re,ce)}catch(_e){if(he(de),_e!==_e+0)throw _e;X(1,0)}}function fM(_,C,N){var V=ve();try{return Oe(_)(C,N)}catch(B){if(he(V),B!==B+0)throw B;X(1,0)}}function pM(_,C,N,V,B){var U=ve();try{return Oe(_)(C,N,V,B)}catch(Q){if(he(U),Q!==Q+0)throw Q;X(1,0)}}function mM(_,C,N,V,B,U,Q,$,re,ce){var de=ve();try{Oe(_)(C,N,V,B,U,Q,$,re,ce)}catch(_e){if(he(de),_e!==_e+0)throw _e;X(1,0)}}function gM(_,C,N,V,B,U,Q,$,re){var ce=ve();try{Oe(_)(C,N,V,B,U,Q,$,re)}catch(de){if(he(ce),de!==de+0)throw de;X(1,0)}}function yM(_,C,N,V,B,U,Q){var $=ve();try{Oe(_)(C,N,V,B,U,Q)}catch(re){if(he($),re!==re+0)throw re;X(1,0)}}function vM(_,C,N,V){var B=ve();try{return Oe(_)(C,N,V)}catch(U){if(he(B),U!==U+0)throw U;X(1,0)}}function xM(_,C,N,V,B,U,Q,$,re,ce,de,_e){var Ke=ve();try{return Oe(_)(C,N,V,B,U,Q,$,re,ce,de,_e)}catch(Xe){if(he(Ke),Xe!==Xe+0)throw Xe;X(1,0)}}function wM(_,C,N,V,B,U,Q,$,re,ce,de,_e,Ke,Xe,wt,Gt){var Ot=ve();try{Oe(_)(C,N,V,B,U,Q,$,re,ce,de,_e,Ke,Xe,wt,Gt)}catch(Ht){if(he(Ot),Ht!==Ht+0)throw Ht;X(1,0)}}function EM(_,C,N,V){var B=ve();try{Yn(_,C,N,V)}catch(U){if(he(B),U!==U+0)throw U;X(1,0)}}function bM(_,C,N,V,B){var U=ve();try{return Va(_,C,N,V,B)}catch(Q){if(he(U),Q!==Q+0)throw Q;X(1,0)}}function sg(){if(H>0){J=sg;return}if(L(),H>0){J=sg;return}function _(){var C;n.calledRun=!0,!E&&(j(),r(n),(C=n.onRuntimeInitialized)===null||C===void 0||C.call(n),W())}n.setStatus?(n.setStatus("Running..."),setTimeout(()=>{setTimeout(()=>n.setStatus(""),1),_()},1)):_()}function CM(){if(n.preInit)for(typeof n.preInit=="function"&&(n.preInit=[n.preInit]);n.preInit.length>0;)n.preInit.shift()()}return CM(),sg(),e=i,e};function SW(t){return Rk(Nk,t)}async function IW(t,e){return AW(Nk,t,e)}const Pk=[["aztec","Aztec"],["code_128","Code128"],["code_39","Code39"],["code_93","Code93"],["codabar","Codabar"],["databar","DataBar"],["databar_expanded","DataBarExpanded"],["databar_limited","DataBarLimited"],["data_matrix","DataMatrix"],["dx_film_edge","DXFilmEdge"],["ean_13","EAN-13"],["ean_8","EAN-8"],["itf","ITF"],["maxi_code","MaxiCode"],["micro_qr_code","MicroQRCode"],["pdf417","PDF417"],["qr_code","QRCode"],["rm_qr_code","rMQRCode"],["upc_a","UPC-A"],["upc_e","UPC-E"],["linear_codes","Linear-Codes"],["matrix_codes","Matrix-Codes"],["any","Any"]],RW=[...Pk,["unknown"]].map(t=>t[0]),uv=new Map(Pk);function NW(t){for(const[e,n]of uv)if(t===n)return e;return"unknown"}function PW(t){if(kk(t))return{width:t.naturalWidth,height:t.naturalHeight};if(Mk(t))return{width:t.width.baseVal.value,height:t.height.baseVal.value};if(jk(t))return{width:t.videoWidth,height:t.videoHeight};if(Ok(t))return{width:t.width,height:t.height};if(Vk(t))return{width:t.displayWidth,height:t.displayHeight};if(Dk(t))return{width:t.width,height:t.height};if(Lk(t))return{width:t.width,height:t.height};throw new TypeError("The provided value is not of type '(Blob or HTMLCanvasElement or HTMLImageElement or HTMLVideoElement or ImageBitmap or ImageData or OffscreenCanvas or SVGImageElement or VideoFrame)'.")}function kk(t){var e,n;try{return t instanceof((n=(e=t==null?void 0:t.ownerDocument)==null?void 0:e.defaultView)==null?void 0:n.HTMLImageElement)}catch{return!1}}function Mk(t){var e,n;try{return t instanceof((n=(e=t==null?void 0:t.ownerDocument)==null?void 0:e.defaultView)==null?void 0:n.SVGImageElement)}catch{return!1}}function jk(t){var e,n;try{return t instanceof((n=(e=t==null?void 0:t.ownerDocument)==null?void 0:e.defaultView)==null?void 0:n.HTMLVideoElement)}catch{return!1}}function Dk(t){var e,n;try{return t instanceof((n=(e=t==null?void 0:t.ownerDocument)==null?void 0:e.defaultView)==null?void 0:n.HTMLCanvasElement)}catch{return!1}}function Ok(t){try{return t instanceof ImageBitmap||Object.prototype.toString.call(t)==="[object ImageBitmap]"}catch{return!1}}function Lk(t){try{return t instanceof OffscreenCanvas||Object.prototype.toString.call(t)==="[object OffscreenCanvas]"}catch{return!1}}function Vk(t){try{return t instanceof VideoFrame||Object.prototype.toString.call(t)==="[object VideoFrame]"}catch{return!1}}function kW(t){try{return t instanceof Blob||Object.prototype.toString.call(t)==="[object Blob]"}catch{return!1}}function MW(t){try{return t instanceof ImageData||Object.prototype.toString.call(t)==="[object ImageData]"}catch{return!1}}function jW(t,e){try{const n=new OffscreenCanvas(t,e);if(n.getContext("2d")instanceof OffscreenCanvasRenderingContext2D)return n;throw void 0}catch{const n=document.createElement("canvas");return n.width=t,n.height=e,n}}async function Fk(t){if(kk(t)&&!await VW(t))throw new DOMException("Failed to load or decode HTMLImageElement.","InvalidStateError");if(Mk(t)&&!await FW(t))throw new DOMException("Failed to load or decode SVGImageElement.","InvalidStateError");if(Vk(t)&&BW(t))throw new DOMException("VideoFrame is closed.","InvalidStateError");if(jk(t)&&(t.readyState===0||t.readyState===1))throw new DOMException("Invalid element or state.","InvalidStateError");if(Ok(t)&&qW(t))throw new DOMException("The image source is detached.","InvalidStateError");const{width:e,height:n}=PW(t);if(e===0||n===0)return null;const r=jW(e,n).getContext("2d");r.drawImage(t,0,0);try{return r.getImageData(0,0,e,n)}catch{throw new DOMException("Source would taint origin.","SecurityError")}}async function DW(t){let e;try{e=await createImageBitmap(t)}catch{try{if(globalThis.Image){e=new Image;let n="";try{n=URL.createObjectURL(t),e.src=n,await e.decode()}finally{URL.revokeObjectURL(n)}}else return t}catch{throw new DOMException("Failed to load or decode Blob.","InvalidStateError")}}return await Fk(e)}function OW(t){const{width:e,height:n}=t;if(e===0||n===0)return null;const r=t.getContext("2d");try{return r.getImageData(0,0,e,n)}catch{throw new DOMException("Source would taint origin.","SecurityError")}}async function LW(t){if(kW(t))return await DW(t);if(MW(t)){if(UW(t))throw new DOMException("The image data has been detached.","InvalidStateError");return t}return Dk(t)||Lk(t)?OW(t):await Fk(t)}async function VW(t){try{return await t.decode(),!0}catch{return!1}}async function FW(t){var e;try{return await((e=t.decode)==null?void 0:e.call(t)),!0}catch{return!1}}function BW(t){return t.format===null}function UW(t){return t.data.buffer.byteLength===0}function qW(t){return t.width===0&&t.height===0}function HC(t,e){return GW(t)?new DOMException(`${e}: ${t.message}`,t.name):$W(t)?new t.constructor(`${e}: ${t.message}`):new Error(`${e}: ${t}`)}function GW(t){return t instanceof DOMException||Object.prototype.toString.call(t)==="[object DOMException]"}function $W(t){return t instanceof Error||Object.prototype.toString.call(t)==="[object Error]"}var Pf;class dv{constructor(e={}){lW(this,Pf);var n;try{const r=(n=e==null?void 0:e.formats)==null?void 0:n.filter(s=>s!=="unknown");if((r==null?void 0:r.length)===0)throw new TypeError("Hint option provided, but is empty.");for(const s of r??[])if(!uv.has(s))throw new TypeError(`Failed to read the 'formats' property from 'BarcodeDetectorOptions': The provided value '${s}' is not a valid enum value of type BarcodeFormat.`);cW(this,Pf,r??[]),SW({fireImmediately:!0}).catch(()=>{})}catch(r){throw HC(r,"Failed to construct 'BarcodeDetector'")}}static async getSupportedFormats(){return RW.filter(e=>e!=="unknown")}async detect(e){try{const n=await LW(e);if(n===null)return[];let r;const s={tryCode39ExtendedMode:!1,textMode:"Plain",formats:aW(this,Pf).map(i=>uv.get(i))};try{r=await IW(n,s)}catch(i){throw console.error(i),new DOMException("Barcode detection service unavailable.","NotSupportedError")}return r.map(i=>{const{topLeft:{x:o,y:a},topRight:{x:c,y:u},bottomLeft:{x:h,y:f},bottomRight:{x:p,y:v}}=i.position,x=Math.min(o,c,h,p),g=Math.min(a,u,f,v),w=Math.max(o,c,h,p),T=Math.max(a,u,f,v);return{boundingBox:new DOMRectReadOnly(x,g,w-x,T-g),rawValue:i.text,format:NW(i.format),cornerPoints:[{x:o,y:a},{x:c,y:u},{x:p,y:v},{x:h,y:f}]}})}catch(n){throw HC(n,"Failed to execute 'detect' on 'BarcodeDetector'")}}}Pf=new WeakMap;globalThis.BarcodeDetector!=null||(globalThis.BarcodeDetector=dv);function zW(t){const{onClick:e,disabled:n,className:r}=t,s={cursor:n?"default":"pointer",stroke:n?"grey":"yellow",strokeLineJoin:"round",strokeLineCap:"round",strokeWidth:1.5,...t.style};return Y.createElement("svg",{onClick:n?void 0:e,className:r,style:s,width:"28px",height:"28px",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Y.createElement("path",{d:"M3 3L6.00007 6.00007M21 21L19.8455 19.8221M9.74194 4.06811C9.83646 4.04279 9.93334 4.02428 10.0319 4.01299C10.1453 4 10.2683 4 10.5141 4H13.5327C13.7786 4 13.9015 4 14.015 4.01299C14.6068 4.08078 15.1375 4.40882 15.4628 4.90782C15.5252 5.00345 15.5802 5.11345 15.6901 5.33333C15.7451 5.44329 15.7726 5.49827 15.8037 5.54609C15.9664 5.79559 16.2318 5.95961 16.5277 5.9935C16.5844 6 16.6459 6 16.7688 6H17.8234C18.9435 6 19.5036 6 19.9314 6.21799C20.3077 6.40973 20.6137 6.71569 20.8055 7.09202C21.0234 7.51984 21.0234 8.0799 21.0234 9.2V15.3496M19.8455 19.8221C19.4278 20 18.8702 20 17.8234 20H6.22344C5.10333 20 4.54328 20 4.11546 19.782C3.73913 19.5903 3.43317 19.2843 3.24142 18.908C3.02344 18.4802 3.02344 17.9201 3.02344 16.8V9.2C3.02344 8.0799 3.02344 7.51984 3.24142 7.09202C3.43317 6.71569 3.73913 6.40973 4.11546 6.21799C4.51385 6.015 5.0269 6.00103 6.00007 6.00007M19.8455 19.8221L14.5619 14.5619M14.5619 14.5619C14.0349 15.4243 13.0847 16 12 16C10.3431 16 9 14.6569 9 13C9 11.9153 9.57566 10.9651 10.4381 10.4381M14.5619 14.5619L10.4381 10.4381M10.4381 10.4381L6.00007 6.00007"}))}function WW(t){const{onClick:e,disabled:n,className:r}=t,s={cursor:n?"default":"pointer",stroke:n?"grey":"yellow",strokeLineJoin:"round",strokeLineCap:"round",strokeWidth:1.5,...t.style};return Y.createElement("svg",{onClick:n?void 0:e,className:r,style:s,width:"28px",height:"28px",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Y.createElement("path",{d:"M12 16C13.6569 16 15 14.6569 15 13C15 11.3431 13.6569 10 12 10C10.3431 10 9 11.3431 9 13C9 14.6569 10.3431 16 12 16Z"}),Y.createElement("path",{d:"M3 16.8V9.2C3 8.0799 3 7.51984 3.21799 7.09202C3.40973 6.71569 3.71569 6.40973 4.09202 6.21799C4.51984 6 5.0799 6 6.2 6H7.25464C7.37758 6 7.43905 6 7.49576 5.9935C7.79166 5.95961 8.05705 5.79559 8.21969 5.54609C8.25086 5.49827 8.27836 5.44328 8.33333 5.33333C8.44329 5.11342 8.49827 5.00346 8.56062 4.90782C8.8859 4.40882 9.41668 4.08078 10.0085 4.01299C10.1219 4 10.2448 4 10.4907 4H13.5093C13.7552 4 13.8781 4 13.9915 4.01299C14.5833 4.08078 15.1141 4.40882 15.4394 4.90782C15.5017 5.00345 15.5567 5.11345 15.6667 5.33333C15.7216 5.44329 15.7491 5.49827 15.7803 5.54609C15.943 5.79559 16.2083 5.95961 16.5042 5.9935C16.561 6 16.6224 6 16.7454 6H17.8C18.9201 6 19.4802 6 19.908 6.21799C20.2843 6.40973 20.5903 6.71569 20.782 7.09202C21 7.51984 21 8.0799 21 9.2V16.8C21 17.9201 21 18.4802 20.782 18.908C20.5903 19.2843 20.2843 19.5903 19.908 19.782C19.4802 20 18.9201 20 17.8 20H6.2C5.0799 20 4.51984 20 4.09202 19.782C3.71569 19.5903 3.40973 19.2843 3.21799 18.908C3 18.4802 3 17.9201 3 16.8Z"}))}function QW(t){const{scanning:e,startScanning:n,stopScanning:r}=t,[s,i]=y.useState(!1);function o(){i(!0),e?r():n(),setTimeout(()=>i(!1),1e3)}return Y.createElement("div",{style:{bottom:85,right:8,position:"absolute",zIndex:2,cursor:s?"default":"pointer"}},e?Y.createElement(zW,{disabled:s,onClick:o}):Y.createElement(WW,{disabled:s,onClick:o}))}function YW(t){const{onClick:e,className:n,style:r}=t;return Y.createElement("svg",{onClick:e,width:"30px",height:"30px",viewBox:"0 0 24 24",className:n,style:r,xmlns:"http://www.w3.org/2000/svg"},Y.createElement("path",{strokeWidth:.2,stroke:"yellow",fill:"yellow",d:"M13.225 9l5.025-7h-7.972l-3.3 11h5.359l-2.452 8.648.75.364L20.374 9zm.438 3H8.322l2.7-9H16.3l-5.025 7h7.101l-6.7 8.953z"}))}function KW(t){const{onClick:e,className:n,style:r}=t;return Y.createElement("svg",{onClick:e,width:"30px",height:"30px",viewBox:"0 0 24 24",className:n,style:r,xmlns:"http://www.w3.org/2000/svg"},Y.createElement("path",{strokeWidth:.2,stroke:"yellow",fill:"yellow",d:"M14.516 15.158l.714.714-4.595 6.14-.75-.364L12.337 13H6.978L8.22 8.861l.803.803L8.322 12h3.036l1.793 1.792-1.475 5.16zm5.984 4.05L4.793 3.5l.707-.707 3.492 3.492L10.278 2h7.972l-5.025 7h7.149l-3.71 4.957 4.543 4.543zM12.707 10l3.243 3.243L18.376 10zM9.795 7.088l2.079 2.079L16.3 3h-5.278z"}))}function HW(t){const{status:e,scanning:n,torchToggle:r}=t;function s(i){r(i)}return n&&r?Y.createElement("div",{style:{bottom:35,right:8,position:"absolute",zIndex:2,cursor:"pointer"}},e?Y.createElement(KW,{onClick:()=>s(!1)}):Y.createElement(YW,{onClick:()=>s(!0)})):null}function JW(t){const{onClick:e,className:n,disabled:r=!1}=t,s={cursor:r?"default":"pointer",stroke:r?"grey":"yellow",fill:r?"grey":"yellow",...t.style};return Y.createElement("svg",{onClick:r?void 0:e,width:"30px",height:"30px",viewBox:"0 0 24 24",className:n,style:s,xmlns:"http://www.w3.org/2000/svg"},Y.createElement("path",{strokeWidth:.3,d:"M16.279,17.039c-1.396,1.209 -3.216,1.941 -5.206,1.941c-4.393,0 -7.96,-3.567 -7.96,-7.96c-0,-4.393 3.567,-7.96 7.96,-7.96c4.393,0 7.96,3.567 7.96,7.96c-0,2.044 -0.772,3.909 -2.04,5.319l0.165,0.165c1.194,1.194 2.388,2.388 3.583,3.582c0.455,0.456 -0.252,1.163 -0.707,0.708l-3.755,-3.755Zm1.754,-6.019c-0,-3.841 -3.119,-6.96 -6.96,-6.96c-3.842,0 -6.96,3.119 -6.96,6.96c-0,3.841 3.118,6.96 6.96,6.96c3.841,0 6.96,-3.119 6.96,-6.96Zm-7.46,0.5l-1.5,0c-0.645,0 -0.643,-1 -0,-1l1.5,0l-0,-1.5c-0,-0.645 1,-0.643 1,0l-0,1.5l1.5,0c0.645,0 0.643,1 -0,1l-1.5,0l-0,1.5c-0,0.645 -1,0.643 -1,0l-0,-1.5Z"}))}function XW(t){const{onClick:e,className:n,disabled:r=!1}=t,s={cursor:r?"default":"pointer",stroke:r?"grey":"yellow",fill:r?"grey":"yellow",...t.style};return Y.createElement("svg",{onClick:r?void 0:e,width:"30px",height:"30px",viewBox:"0 0 24 24",className:n,style:s,xmlns:"http://www.w3.org/2000/svg"},Y.createElement("path",{strokeWidth:.3,d:"M16.279,17.039c-1.396,1.209 -3.216,1.941 -5.206,1.941c-4.393,0 -7.96,-3.567 -7.96,-7.96c-0,-4.393 3.567,-7.96 7.96,-7.96c4.393,0 7.96,3.567 7.96,7.96c-0,2.044 -0.772,3.909 -2.04,5.319l0.165,0.165c1.194,1.194 2.388,2.388 3.583,3.582c0.455,0.456 -0.252,1.163 -0.707,0.708l-3.755,-3.755Zm1.754,-6.019c-0,-3.841 -3.119,-6.96 -6.96,-6.96c-3.842,0 -6.96,3.119 -6.96,6.96c-0,3.841 3.118,6.96 6.96,6.96c3.841,0 6.96,-3.119 6.96,-6.96Zm-4.96,-0.5c0.645,0 0.643,1 -0,1l-4,0c-0.645,0 -0.643,-1 -0,-1l4,0Z"}))}function ZW(t){const{scanning:e,capabilities:n,onZoom:r,value:s}=t;if(!e||!r)return null;const i=(n.max-n.min)/3;return Y.createElement(y.Fragment,null,Y.createElement("div",{style:{bottom:130,right:8,position:"absolute",zIndex:2,cursor:"pointer"}},Y.createElement(XW,{disabled:s<=n.min,onClick:function(){r(Math.max(s-i,n.min))}})),Y.createElement("div",{style:{bottom:180,right:8,position:"absolute",zIndex:2,cursor:"pointer"}},Y.createElement(JW,{disabled:s>=n.max,onClick:function(){r(Math.min(s+i,n.max))}})))}const pi={fullContainer:{width:"100%",height:"100%",position:"relative",display:"flex",alignItems:"center",justifyContent:"center",overflow:"hidden"},innerContainer:{width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",position:"relative"},overlay:{position:"absolute",top:0,right:0,bottom:0,left:0,pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},borderBox:{position:"relative",width:"70%",aspectRatio:"1 / 1",border:"2px dashed rgba(239, 68, 68, 0.4)",borderRadius:"0.5rem"},cornerTopLeft:{position:"absolute",width:"15%",height:"15%",border:"4px solid #ef4444",top:0,left:0,borderBottomColor:"transparent",borderRightColor:"transparent",borderTopLeftRadius:"0.5rem"},cornerTopRight:{position:"absolute",width:"15%",height:"15%",border:"4px solid #ef4444",top:0,right:0,borderBottomColor:"transparent",borderLeftColor:"transparent",borderTopRightRadius:"0.5rem"},cornerBottomLeft:{position:"absolute",width:"15%",height:"15%",border:"4px solid #ef4444",bottom:0,left:0,borderTopColor:"transparent",borderRightColor:"transparent",borderBottomLeftRadius:"0.5rem"},cornerBottomRight:{position:"absolute",width:"15%",height:"15%",border:"4px solid #ef4444",bottom:0,right:0,borderTopColor:"transparent",borderLeftColor:"transparent",borderBottomRightRadius:"0.5rem"}};function eQ(t){const{scanning:e,capabilities:n,onOff:r,torch:s,zoom:i,startScanning:o,stopScanning:a}=t;return Y.createElement("div",{style:pi.fullContainer},Y.createElement("div",{style:pi.innerContainer},Y.createElement("div",{style:pi.overlay},Y.createElement("div",{style:pi.borderBox},Y.createElement("div",{style:pi.cornerTopLeft}),Y.createElement("div",{style:pi.cornerTopRight}),Y.createElement("div",{style:pi.cornerBottomLeft}),Y.createElement("div",{style:pi.cornerBottomRight}))),r&&Y.createElement(QW,{scanning:e,startScanning:o,stopScanning:a}),s&&n.torch&&Y.createElement(HW,{scanning:e,status:s.status,torchToggle:s.toggle}),i&&n.zoom&&Y.createElement(ZW,{scanning:e,capabilities:n.zoom,value:i.value,onZoom:i.onChange})))}const tQ="data:audio/mp3;base64,//PkZAAhghE0AKToAJra/n0FQygAAAGIkYJgmCYXBMAAGCTJz3zhCEM//z//1hz//8MMMMN08ssV6e5DDWIQreAgCvFKy8bXgIKMkUDDBgzJwIBtkRMQAocxIFdxghQGKDoEziAzQxOBOdH92i/iGi+zDCAEIX46a73HrSybZw1x3JZjXp7dSNy/P68rjcbt7p7fakMP5LVMyzCaj1pjvejYYAIDgDGzECjEAk1Jl3559HIon8hzlfPVTCvGJZzfcKSxXfyMWM88//9VKSxXdtnb9vomOuuRyiWVYbf+X8zp6fKGHIdycuWMMMMMMKSnp+6wsYc/9f/7z7rPPWHN556p6fP8MMMP///PPP/7+GHK9PT6p7f/unldP2np7YeHjweiYA4GLNAgAiI7u57n5//oc5/yfk6znOcPhwOBwggHCMpA4HA4KEyHOc5znO+hPIc5//+fqJh8XQPh90JU5xQinOf//87/zvP+ggAYuhCKHxdA+Hxd0EA4KKHA4ciB3kOXfXB/gmf8p/B96lAMKAgAADU+BujARHgwdisgHMfAUHAiceBg4ASBgZBiBIBH4ZaHOJsLhf8R+HYEciIgYSwj/+Bi7EqBh+AcBn5P6Bh4TuBmrAMBiZH7gaLEWgew//PkZFMlyek60MpYAShzqqZhm6gCUWeEUWAewEWYGN4X4GDEPwGE8S4GDoOIGAYKgIQOkz//gGARAUB+CwGxTwMAACAEgyAwdAlAxKhzAxXiZ///AxcEwAwJjDAziCAAwQgdAwRgdAsJQDAmAcGzYDwAhZIAKAcIQB4GT9TQMJ9/4Gi1Fv/AcAYUqKBAwGgNAwVBAAwGhwAwdBlAxFg1AwlgzAwNBuAkJQDBgEEDEqGECgChFgBgL//CIswYYH//+HKCpk4K0C9AaKKCAOBeMcR4X9C44BwABCgGAsGYCgTwHAcAwXAiAwSAQV///CJP9lwMBQAwAAAWGo5lVLCcaeneVhJAVGai3//ioaUEf//gaTAYGCj8BnEwfrIqDcsIQb/vmhU/8fAs0G8YGGwKST8Igj4GCATipksVzY8p//90FWJwh45AkX//4fCF9wMEgkL3uQc+gbGJ8t4MBAMBP/hEXf9FRuWBcAfIFjYzQdoLCBwh7IWVlxaX/w8oMCP/+EQT5poGB1Ir90DhiV6af/jFYBpT2BgoQyyt2M0ToBdEaZyzt8nTo3xdNDCTSd//o6F06CjooxRr4jVF/0bOKD6OMUNDRxiMUVFR0FFQPhGXRjDpr4MAEA4wIQUhYOIw//PkZE4nrg08sOx4ACQ0CopD2aAAlwTTBxQeMcwd8w8gZTAgABXwGABOkzpI0wAQAExnWfP4x8ZjKunWdZ1o1Qe6lFGKCNULORQCELAAPnRUf/GIx/0FHGfo3SdZ0qP2cukXKLlRtBKFgAQwCkwJgFRYBEEATmDsLSY2QiQYCEnEra+UZo6F1aKMRr6GhoaP/+j//ov+i+hjLqBgMkYoqChoo1GqCjoY06TpRqjjLOYzRRmMuizmgdKhdF8kjTAAAPMCwGswzglgwAJfzqxmioKH/////////////+ijLOAwFmN0f/////////Q///8ZjP/9DGYyFwIDBeB3MA4AlBWidKM5spykAUAQOCakK+udGqN8VDYjTRuN//0bVX//6Kio4xQFv//nf//kKOoAEIB6SY6hcxenp85///4/DEPf/84Xvl4vF4dwtxfEJgCYQHMSgKCROp4+fn////L4tQf0unz89OecLxeL0ul09y6enzp4dIhKAQFA5hKfLu1nU7/Wr71rRKJUBQSUVt////l08GUPVWgAAYAeNKsxbQNAAhQx3/oKGMM6dZ1Yy6sajMbfKio7lNcv0sScZ47lNcw32ekVFMP9fp/f+mklI6at6u/dBMQuW6y+C5BcgwAA//PkZEomGg1HYGe0riWsCqbEwiY0BJFJMxrCcxGgQ2VK8xxCF1wsABgQBBgQBAYAFCkYCgALkK4fJ00E5ctJN1Uxy5au3XoGcM4dSN0EYZwzhW0WCh1PZwzhnFFQxtnbO2d0Kt6CdXbruggkTEX5Rs4TEQUVsdVXaCcuWXIBQUGmwmgoAGcJiM4dSioHQdBnEY+hjcbov//jcb/43G43G/jCRibfxugdBnDqULO2duvQumztncbo4xGKKNxugooxGIxQULoOgFgUMTA/jbrxiMDmETL+eLhcPThzOeeOZfL5fIcBYuXD/OHv8t//LJFxjxQYHHKDGFkZMtlmKM0RgQfbVtxFIHbQBDRuzRguEI1c9XZ/rWmrZfVU3Oc/9utNNygRQkCoHlAYstNN6DJ1IINpoINppv+WG/+g2mmnUmmmpBAoJIJhnwB5xkymn606Df/t000xhU03UXC5Ol8uFyXy+Xy/l8v5w4cLk4XAvwAYUvl/QL5fTdlKZkEEEEGumaKaX00zIOemf6CH///ywI3LKpiQ2Ef4xYWMSDyI0XwzikpL0ajVHZ3j9DGIjeuXcNfjn96/S/TUz/X/vX////5K/r+v7Jn+LlAoGZOIQIwMKBQM/yppKYURmhGZkR2b//PkZE0mHg1HEG8wyiD7mlwAyDU8nJHi5htakZmZGNiRcpkJhBmUmZYQcM1VDEEBggNDV/ASEZRYKFZIhkXKLlKmk7IVTKmZNJ5KhiqVUqpX+k7+qlVKyV/ZIqZDFDWTJlFyi5TJpKhiXKBQyZzIS5JhBoayV/AQWVpGWkcYTV5O/rIVSv8/0nkr+v6/vyR/X9f1/ZN8kf5/n99/n+f5/lTKmf9/mRP8yFUqpWSv4yJUqpX9kj/MmZNJ5K/z/P9J5P/v6yFUz/CEoywgUMqZkz/FssECIsVq0aPRrRRatFFFykQZJ2Ukl///5KjmksOaA7ALROJLDnEsLbq3GTMVrwb/0dGzmM0DlfBlHQOmrdR0MYi92TX6b/cmDHLclyUVYO/4O8sFTKFTKFf8yhUyhUyhXzKlDKlCsr/+ZUoVlSsr/+ZQqZUoZUoceMfcoZUoZUoVlfOPGcmDHKcpynKg9yXJcr3JclyXJclyYO+DXJclyfgxFZVb3KcqD/g2MxzsY72L9LubPR0dCyf5K5NNd+Tv9GXRdV0XJclyfcl/n+k8kf6SX/iVynvXf///4Mg/1OkxguYzmM5jMcLHMxwwGhgNCwXMLAcwMXTLi1MD7w7tmTdBvMmE0xQFzCwHMDAd//PkZGMpigkmAGOUvCfTgcgAuC+ITswMFzC4oMLhYMByn0xvU+p9Tr0xUxf/0xv///1PBYDhgNTFTFTGTGTGTGTGTGTGTGC4GTFMDAcLAdMVMVMULAcMBpgYDhcDGFwsYXFBikLGFwMGA4MBxgcDKfTEMUoAx2BisD+mKp5Tv1OkxkxkxkxkxkxkxkxlO0xVPJi/6nv////U7CwHTFTFTGTGTGTGU+p71PpjJipihYDpipi/6n1Ov//C4GC4GTGTGTGTFU8WBSZdLhWB//yKlotyLZFiLf8tyyRUipFSKkVGRBZQMiWC3yx//wxUGKsSvDFQGHUAL3QMsHDFIYpCYy2Bmagy6BjLgy6Bh3od58DCLAizBgRb+EQiyEQiwGBFuDAi3/////20QqSBJf/qcumv/////wMZdGXAYMu1gYy6MuBEZdBgy4BjLgy6BjLgy6BjLgy6BjLQy6DBlz2cJDLgRGXAMZdGXAYMuhMZcCIy6sJGaoGMuppwNRl3WBjLgy63wiEWAwIt/+EQi0IhFsDCLAi0GBFkGBFgMJCqaqYAgAYIhBBvwf7kwcqRq7V3IctacvlN6NxqgooxRRuNRiijEZjMGRuMvz9FGozQ+1X2qe1T1S//+VhaWAtKwtML//PkZEIkbgcaAHc1xCJrjeAAtfuUAtLAWf///mWePH95ZFgsyssvM88+jzO6K+z7OM48sH+WDiweZx5YOK+zxWLGJWsa6xadAv02fTZLSpsFpvLSga0tMgWgUgWmwgUmyWl8tMgWWmLSoFJsoFlpSwsmyBg4HhEdgwHAYPBwGDgeBg8HwMHg4DB4PBgOAwcOwMHLwDn5lAwcDgiDgYDwMHA/4MB3//+EQeDAdwiDwYLPhEWQYLODBYERZBgt8Ii34GLBaB5pfAZ0FvEAQ/UfwxULlx+IXx+8f5CELH8fxKhAIDFoHBEDRc3////gwHgaRXgMHYMB2EU/gwZ/gYbw3gY3QbgYNgbgYiAbgwN3/+EQbBEG4MBuDAbAwG4RBtAwbg2////+B9B6F//////////hEdD//////////8DRahEQGCInMNg3LBElgNjDciCwG/lgNiwGxWG///mG4bf/+WA3Kw3KyIMNw2Kw3MNg3MNg3MNiIMiQ2OK0xMiA3KyJLAEZgRARmBEDEYFwBBgEgEeomowol5YAJKwCDAIAJ8sAE+gGBgCJYAQUZ/13LubMu5dyiYOAhKwEFGf9AOoz/g4CFAIol/lgAjysAgsAElYBP////lgJksBM//lgRUxF//PkZGApggsIAHt2wiNLoggAqCz8RFSwIqYioipkjEjHCCSN/+WJg5iYOYmPK5krmTmZk5mZ8sTJYmf8yJiNiIisi/ywRmRkZkZGZGRmRERkREZERGRERkREZERGxEf///hETIMEyBiZEyBiZEzwiJgDEwU4DV2gQGFOBgmP8GAiAwRAiBgIgYCIGAi/4MBHAwRgjAwRgjwMEQIgMcgY8DBGCMDBGCMDEyJn///+BiYQIBlObj4eYLIwsjAOBGFkYBoEQ84eULIw88LIA88PKHnw8sPKFkeHlANAiAaFUDAiMYPIHmDzBZBhZB///8GBOA1sH/Awni7AwnhPCITwYE/CKzBgt8Ig8GA4Ig6EQdww4Yb+F1sIgtwYCwGAsAwWAsBgLAYCwDBYCwDBaHUDF+VEDKgC2BgtBaDAWgYLQW////gYLAWQMFgLAMFoLcGAt////4RMABmBSj4NgwMOGHBsHhdcLrwbB4XXC6+F14YcLrww4Ng8MOGHBsHww4Ng8AUC4AoMQMC4fgw3wutV4QIsAgFYIBWCCVgHeVgHeWABCwAIVgH+YBwB5aRAstKgV6Ba1oMg9avtUVN/qdLWciD/cqD3Jg6DFPuTB/////lYAn//mC8C+YLwL5gvgvGC//PkZFEpLgMKYXt2xB5LogAArbdc+C8VgvlYL/mC8C+YLwL5YBfMNgNkwXixDWoHPMc4VUxVA2TBeDZPYXzXl815fK14sLxYXvK1//NeXzXl815fMtdDLSw3UsMtLCstMtLDLSwsFhWWlgt//8sFhW6f/////+WF7zXl8sL5ry+Vrxry+WF/wMLwX4MC+EQv/AwvBfAxsjYAyqpKA0lpLAwvBfBgXv///4RA2DANAYGgNgYGgNgYGwN+EQvf/BgXwYF//8DC+F4Dd6NgGBf4AgFwbB0MMF1wuuDYMBsGwusDYOBsHA2Dvg2DQuuDYOhdcMMF14YYDGYDEGwfhhgbB0MN///4RBaEQWgZByoYRWYMFvwiDsGwaF1gbB34GDwdC64XW/w1aKxDVgatir4YcLrQbBwNg7////////////+ESfgZPyff/////////4MFmBvvMAERZ8CC5adNj02E2S0qbCBSBZaYtN///oFlpU2QMXIFAYuQK9AtAo7IxLTpsIFJs/5aZRxQawaxGfIg9CsrI+PUqkWdOHp7ODsOl6cOHZ4dsulfLI9/8BAAgMBACsBLACVgBjoAWAE5OTM6WDAR0zodMdHCsJLASWAjzCQgsBJhASWAjysI8wkJMICU//PkZFkeqgcaYDd1th6DogAAqCuIxQwtDA5MdMULgyY6YqnXqdep5TpMdMVRNRL/UT9AN6jCiSjKAZRNRhAMomgFQDfCIJwYCQiCAiCMGAkGAgDBJUA3eVAMEgj////8SrDFIYqh5g8kPMHkDzB5OFkYeYPJ+HlDzB5+AYVQDibCyIPLLEZIsjIliWS0WywWyyWuWCyWJaLZbLJYDHgLAItFvy3///4eYPKBlQTh5QYEODBb//hhoNg7/C62DYPFUKwKsVgNWBq8VkVcVkVUVYrH//hGff/8Iz8GT7//////wiX4ML3gwvgwvf4ML3gZeqoHVGyBl4vgZfL2F1oNg4Lrg2DcLrg2DQw0Lrhh8Lr4YcMNBsGhdcGBcMOGGAFGAGMQsF1guuGG4XXV/4uQXOLmF1kL/8lCXkuSk4O8/FzHzuP0hIucf/CIFAMCgFPgYFAKAwCgGBQCgGHYO4GBVM4GgQI4RCMEQKQOtQjUI1CNcI14MqDKwDIAGQDzh5wsjDyw8uHmDzYeUPN+DEYRRhFEIowYgDQgIhWDApgwKAwKQYFAYFQMKkYDOxHAzsRgMKBUGBX/h5v+Hm4ecPNh5A8wBwjhZHhZAHlDzBZAFkAeQPKHnCyILIAsih5QsgDz//PkZLQgIgsMAFp1xCGLogAAA2rkB5w8oeYLIQ8kPMHkCyGHnAMKoGmAgFkUPMHmDYAtfHPHNkr/JYl8c8lCWHPHMkqSo5onMAkBDnfJX//8IgDBgBhEdAaxSQMHUGAEIgAV4risCcipBOMVRVBO////hEvAxsAwvf////8MPDDww4XWC64XXDDww4YcMPC6wYb/wYGgiGwMplMDYhTCIaCIaBga/////8GA+EQdgYPB4MB4GDwdhEH8Ig8Ig8GA6EQcEQf8DBxlBjoAweDuFwgCQXiL//iLiKCKCL4XCiKRFwEgoRT4iqpMQU1FMy4xMDCqqqqqqqr////xuDd8fv/DVwrArEIg6EQdhEHAYPBwMB+ERYBi0WAwWAZ0FoGLYOB+JfgZ0FoGdBaDBYbn+WHm9xW7/Nzzc83PLDzc8reWlA7S0oHamx//6BflpU2C0qbBaf/8yk/ysn+VkMhTKQrKVk8yE8rIVkKyYsAn/5WC+YICmCApWCGTkxtKMcVWlgFMEBTBAX////0C0C0C/////////LTFpvTZLTlpv/0Ci0xaYtOgWmymyWkAxcWmTZTYTY8tMmygUWmLTIFpsFpv9NnywLmLCx2RgWmQKTZ98UjnzZ1/++D4M6/////3//PkZOgjIg8IAFcbxCaTogAAoCuIzfJ8vfJ8Wcs5fBnD5//++L5f////////6nCKv//+o0o0FUYwqDNGCwgUMKC0VVGkVv//4Yf8LrxVCriqDVoasDVuKsNWw1bisBqwVkVkVX//gy/4YYMMGGhhgwwNg4LrhdcLrAYWGAA0zBsH4Ng3C6/////4MAoGBQIDAKBgUCAwCgYEAsDAoEAwKBAYBYMAoGBQIBgUCYGBQIBgUCwiBAYBYMAoRAgRAoGBBMBooCAYFAkIgTEUxFv/EWxFxFhFoi0LhQuFiLCL/EWqTEFNRTMuMTAwqqqq//////8TWJriV/hERAwRgYiEYGIhGBmIRgYiEYMEQMEcDMSiA1GYwMR+UDMTkA7KIgMRGIGGM0SIrRGjRlhEV4jxov8rR/5YRFhEdQSViCsR5iRJWIKxPlgQYgSViSsR5WJMQJLC78IiKERF4REeERGEREERHwMRGOBmIRhERhERAwRAYiEQGIhGBmIRAajkgG5TEEREDBHwYIwYI4REXCIV/4MCmDArgwKAYUO/gYVCkGBUGBTgYUCsGBUIhUDCoUCIVBgVBgVBgUhEKQMKhUDCoUBgVAwoFAYFcGBQDI6oA5+qQiFAMjBUGBXCyEPIFkOH//PkZPMj6gr6AFdVwifkBdwAoC2Ilh5/8PPh5Qsih5IeUA0TAZrE8PP////wMRiIIqID8piAxEIwMxCMDEQjCIj//BiIDRo8Iogii/4MKwYVhEoESkDEiIGJEgYlfBgmDBIMEAYgSBiBIREAwSERH/8I7wPfuCO4I7v/8GBvAw3Bv/////gwN34RBuBg2BuBg2BuBg2BuEQbhEG+EQbAwG4MBtwiDaDAbhEGwMBuDAbAwG4GDYG8DBsDcDBuNwDRWDcIg2AwbA34RBv///CINvCINgMRIN/////wiG4DDeG+TEFNRTMuMTAwqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqq/zB4OLAP8rBxWDisHlYOKxb5WLTFgsMWiw18LDOnjPxZoxadDOgsLAtLAbKymVhsrDZWG/LAb8w2GywGysNlgNFgNGFwuBQuWnTZLToFFpisLJsFp0Cy0voFAQLFZkMCAQwIBCsC/5WBCwBCwBCwBCsCeVgUwIBCwBDEwEMCAQrAhgUClgCFgTlgCGJgJ5gQTGJwKWAKYFApgQTGBQL5kY0HMjQYnAhWJvKwIWAIVgQrApYAhWBPBgECIEBgE/8IgXhECQiBAMCkcDEwEwMCAQGAQIhoIhsGBsIhvgwN//PkZN4irgr2AAOVqiUThegAnCtMgwNwiG/8IhuDA1hENhENgYbKYHb2IBhoNhENAwN////8IhsDKZS////8IhuBhspgc0KQRDWEQ3///CNf4GAIMDAwgAwAAwhAwAwYAIgwiHBgAMAYGAAGHv///CIBqBqESDEIgRYGoGHBiDEIgGoGgMAYgxgwgxCIETwYFYMCoMCuDApBgU8DCoU//gY3G//wYFOBhUKBEKQYFfBgV8IhSEQoBkYK8IhT/wMKhXBgUCIU4RCoRCvgYVCsDCp3A1SqAYFAiFP////gY3G1TEFNRTMuMTAwVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVgwCAwCBEC///////8IgUIgWEQIBgUCAwTQMCAQDAoEhECAYFIwGaRMBotWAasdwH/KqBmhFgaKI4GRgKVpjCBTCBPMJHNMFMIFKwnlgJ5hUxhUwGWlpAMuMuWLTFpvQKQLQKLTIFJsoFIFFZb/8woQwoT///MIF8rC+WAphAphAppgpYClgsmwBC6bHoFFpUCi0wGXFguWCwFLgUsgX6BZaVNj0Ci03//+EQKEQKEQLCIFAxMBcDAgFAwIBQYBODAKBgUCAYEAuDAKBgUCAYFAgRAngwCgwCwiBIRAmE//PkZN4iogj2AFdVxiUrhewAhOkwQIBgQ0gbOI4GRhOBiYCgYEAv////CIFAyMBQYBf///CIF8IgUDAgFBgEAwIRwMCCcDEwFAwIBf///CIEQGMDGEXCKBpCIDCEQDCAsYInDFQMMAuYSoTQMVfBlf//+DKfBgAiGDAQMIMIgCIQYADAEGAgwP////8ItgNu2/8DAAAiABgHhECBgQGEQARA8GAeEQIMABECEQIMAwYBBgCDAARA4GAAgYACDAARAwiAgwDhED4RABEBCIGBgDoH2dgZwCBgAP//BhX/+DCiTEFNRTMuMTAwqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqF1ww////////hdeGGDDBhwjeF102E2fTYAowMLjE0zTDfyyMYjEDJTwMLSwFi0/gQLoFIFpsegWmyBQsWlQL9ApNgtIWn8tMgX6BaBX+WmQL9Nn02f9NktIgUgWmwWl9Avy06bCBSbJaUtImyWkQKLTIFgYWoFFpAKFwMLzZgwAwvLTIFlpU2fQLQK///4Yf4YaF1sLrg2DAuuDYNDDQw4NgwLrhh4XXC64Ng3C60MNwbB4XWC64YcMODYPCJYDlMQBlwRLg2DOF1v/////PkZM0eKgz0AE+UuCnLFfAAk3Fsg2DAYX/ww//4YaGGDDhdbDDACFwMuXA2DADlygusDYOBsGhhv//wNU/CKQusF1oXX+F1wuuGGC6wXWDDBdbC6wXXhHv//4AHIFgC0BZAA4Ba4FkADwFsC3AtQAOcC0BYAtgAcAA9+BYAsgW4FvgWOABwC1oq+it4RT0VVG0VFGkVywo1/RWU4U59TlFb1GvRX////QK9Nj/9AtNn02fTY9NhNlAr/QK//TYTZLSJsIFemx///oF/5aZNj02U2C0yBaBfoFAS6bKBfoFVTEFNRTMuMTAwVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVQiA8GAO/4RAf//////wYA4GAO+EQHAwB4GDoB4GA4HQRB0BhlDIBpEAcBgPDIBgPAeDAHIFAYuLTpspsJsFpi0haRApAtAstIYKClgF/ysF/ysE/ysF//LAJ6plTlYC1ZUypmqtWVK1VqyplSFgBaqqcwAAVIqcrEBAAKmMBERCQhwD5iICIQEyABMAABBVGXF4gIA4DLAAWAEQgLVSsBaq1ZUv+YKClgELAJ////5YBP//LAL5WC+Vgn+WAX/LT+gW//PkZMIhLgrsAFt1yiD7FiB6A9qwmwViybCbCbCBSBabCBSBabPpsegWmwWn9ApApApNgCGBmEwWlLSpsf////hEHgYOB3////4GDkiBxMHhEdgYOB4GDwcBg4HW23gooFYHd/+BnAz8O8Vv//FaBm4rBWh38es2zbAtD1m2PVBqBrBqBrAF7AF3/5el84MkuHTgyy+dL0dRnEajMIyOn8RsZ5HGG/kbIpHIkYUiD0y2WctlZaWSwrKx6FZbxnL54ul04eLhw9Ol84dl86cOHT3Ipb5Z8qKpVx6/j0EkLctVTEFNRTMuMTAwgWQLQAHgLf/////4Fn+EQESEcIgInCIRW9TkrCzH0YIjjWtI+YeCD0woLCBQwsKRWUaRVCBZFZRtRtFRTlTlThRtAr0C0C//02E2fTZQK/0Ck2f9TlFRTlTlFT/9TlFVFRFb/9ThThynIQbWkAREue5S11rKdlkDEVABh61ExYPU+tOD4MQgcn4iwigivxFRFoXDcRQLhoiwioXCeAkFBcNiL8RURQBIKEVEWiLBcKIqIpEXC4QReIoIpCIKAQMxFAFAsIuIr/4YYLr//ww4XWBgwC64XX/hhgw3hhwuv8MNhhguvhdcAUYgaYTAAoWDDg2DQbBg//PkZPYe6gzuADd1uDKsBhBAe89cYYdGjtDT2hDmlD2leaOv9oX0OX/0NNLplNf8ewakNWGrTfTRpphNJtfaeh7T1/tStdtTpqN532lpX/1/kmQ5eaf2hoaV9paGleJAvd0rer2pWu1ar2vk56vVrV5Hj1Nop+/lfv5Zpkem5kX/2vtata2rq783nbvtbW6VjW6a2rq13+rO6VysV58K7tbp0ru6Vrtqa1a67tr6sau1ulYrnfa2v927Vrt21NSuN5X927/D4diAQANh4gEIfxB+IQG/D/4gDw/iGIRD+HRATEFNRTMuMTAwqqqqqqqqqqqqqqqqqiIEK/ititFX///8VcVuK38VsVhXBOQTpq/qm8QCAcBmIxgdfFZCHECpxFBFAuFEUC4cLhsRTEVEUDVoDQD+KrFYirFX+KwKoVgVUVUVeKwGrhWRWBViqFYDV4rMViKyGroauBg/A0YThVgNAEVQqw1fisis4quKxxWYrAatxWIqoqg1dFYxVxWIrAavAaAArIrAqoqhWYrIqvxWMVYrARCADhcKoVYavDVgqhV4qorIrHFWKuKxFViscVUVYasAaAfFY/4YcMNhdfwuuGGC64YfDDA2DwusANygbBwAxhAECwNg8MOF1hD4//PkZOkc4g7yBjd1sDNkDhgqYwtcYoUyiQ0NCkxQ0NCQkSIbGKIyRGEo5mUaNEhGKEHMmaGhI0UokORvMmZmZSZSiMZQkRnKKZkzRoSNCQpQ0NEZoaNFJkhh3KOUJEhIcoSJCQkIzlDlEjMDMyMpQ0JCQzNCRGaNCRISEZoZihoaIwlEHKNGiMzFEjRmSIwlHMyZmcyiGyMxRyhIkIxRSZokSEYGBkiRojAPESNGjQxvKHMmMoSKTJCQkIwlFKLDYWGhoZhYWAAUGBsAwsMDYUAcK4XDPhQVwwLAH/DfgHC6TEFNRaqqBgjwYI//wYI/8GCL///+DBFhERgwRcIiPAzGYgMRKIDcskBgjAxEIwYI4GiRwNEjhFH4MRwYjA0aOEUf8Io/BiLgxGEUYRRQij/BiKDEYMR+DBGBiMRQiIgYIwiIwYIgiIgMRGIDUSjhEReEREBiIRAwR/wYI/8IiP4MEcGCIIiOERH8GCIIiMIiIIiODBHBgjBgjwiIoREcIiOEREDBFCKiAxHJcIiMGCMGCLwYI8IiPhERgwRAwRAYjEUIiIGCP/AxGIgiIsGCL//4REYMEXhERBERhExhExAzyAZiEWDBGERGeKsVsVRVFcVwTnFcVxVgnYqipFUV//PkZPkcfgzeAFaVxDgUBgAgatvIYrgnYqgnQJyK4riqK4rwTsVor4rQAjABAgnQritFSKoqQTsE5C1haxfF7F4XQtULSFqC1i4LwWkXIWkXRdF+LwqAnME4iqCdwToVuK+HAERWAkAlgJB0OB3Doc8OYc8VCsVgIB3DuHAERUAkAkHMOBwOAIisO4dwEAEAEg6AkAl4CeHA4AkKhXioBIOiv8OB3F+LgWkXxeF8XouxcF0XBeF8XBdF8XhdAdouC8AEsXYWsXOKsVBU/FaKmK/FTxXFbFUVPiv/8VfxXitVTEFNRTMuMTAwVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVAXX/8MN/wwwYf//DDBh4Yf/+DYODDfCIFAwKBQiaANFgUDAgFAwIBcADwFuBY/At8C1wLfgAdAtwLGBawLcC3AsgWeBYwLX4XW8LrBhgiFgMlhYLrhh4XWhdb8MOGGhdcMP4YaF1gw8LrwuvhhoYYLrYXWDDBdcGwfC60MN/ww8GwZ4XXC64GZQsF1wbBnDD4XXg2DcLrBdaDYPhhgusF1uGGC64YfhhoNg0LrQwwYcMNC62F1/g2DYXW4XXC6+GH8DTIW4YeB/wR/wjwR+DP/y06bJaRAtAtAtAs//PkZNwY2grqBFW1xDhTRegABLBstL6BRaVAstN5aYtN/psIFf5aQtIgWgUWk8tImyWkQL9Avy0qbKbKbJaf02f/0CkCy05adAsC3K7+mx5aVAv0C/TZ8tOmymwB2pspsFpPLSlpy0qbCBSBXlpk2E2E2C0paUtP6Bfpslp0CkCy0ibJaZAosWQLLTJsemwgUmz6BZaYtOgUWmLTpsJsoFJslpPLT+mwmz//6Bfpsf6BSBSbCBXoFeWk9NhNhAr0Cy0/+WnTZ8tJ/oFf6bP+myWn//8tMmz/lpf//////8sPTEFNRTMuMTAwVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVBgJwiCYMBP//gwE//////wiCAMEgkIggIqIDKpUCIIgwE8IzA4j+EYhGAZMIyDJA5gGRhGcIyDIhEQiIGAgwIRDwiAGAAwYMHBghGAZMGRCMhGYRgGRA5gIyDIwZPBk/wZIRmEY/gyOBxIMgIzCMgcTgwRBgjwYJBgngwTwYJhEQBiBGERMIrwOouAxAgGCQYIhERhEQDBGDBAREgwTCIgGCQYJgwSDBHwiI4MEAwSBiRHCIkGCYGJEQiI/Bgn4REYREeBiBIH6XhERhETwogoy04mpZibFmJuWYmx8n//PkZN4ZrgrkAFZUyDcjofgAA9qc0HafZ8HwNrjaG3xtjaDtJwTo+D55Ow7fxNRNSyLPlqJsAr/lmA/FmWYm5acTQVgTkVQTnBOQTgVxVBOBVFWK4J3FUE7gBABOwToVQTsVhUFcVRXBOhUBORWiuKkVYrCqK+KoqgnQrAnEV+K8E7FQE5xWBOQToVQTsVRW8V4qRUFYVgTsVhXioKgrCqKwqAnYqCtBOhUioK+CcisK8VRUFSKnirFQVBVFcE6FcVoJwKoqCrFXFUE7gnAqiuCcQTsE7xU8VP8VYrgnYrCuTEFNRTMuMTAwqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqn3/l/J/8vHL5f/BhwCETgGpIDOATgEIOFoDcHzgEIDgC+pG7eve1S/6tat7rXupDXSStWoIpGS4TSMQNIySMwpIyAaRkkZ8GJGdBtbwYkZ63tCKRkoIpGWDEjLCKRmEkjOvsEUjJOsIpGa6bOrgxIzsEkjIGJGYUkZVKCKRmqoDkgEjMJJGSYMSMAikZJ3qhp0dq9ru3X1I36FujPbXuxwKbr//waABfg0AC6DUDUDXBqBoAmQawJiGrhqDUGoN//PkZL8USgKcAAblrroTgfQAbhtQAag1QawaYNIAuQa12Lv9si7F2NnXa2Vsi7i/DZl2tlL9l+vL8tlUTUTUTUYQDIBlGUAyifqJKJqJ+p5Mf/U7TETEU7CxkxVO1PKdqeU8u4vq2ddnrsbM2Zs/tl9s67V2NlbIu5sgaA1Q14ExAmAaA0BrDVDXhpgTPDQGuBMA0gTKGgCYgTHDQGrDUGgNcNQaw1hoAmcNIaRIAtALVEgC1gteI8FpBaBIAtcRwkAWgFpBaILVBaIkAWgRwjhIiPEeDXwa/4NUGr+DRwaKBgX/8IhP//wiF8GBMGBP/wYEhEKEQmEQuDAoGFTAwLgwLhG/4MvCM8GSDJCNwZQOXg2DwbB8MPDDhhuGGBsHhh8Lrf4MCQYFCIUGJgiE8GBQMIFhELDDhdaGHhdYGwaGGDDhhuDYMBsHg2D8MMGHBsH8GwYDYMhEKEQgMCeDAsIhAiFBgQIhAYFhEKDAkGBMIhYGEC4GFCBELgYUKDAuEQsGBQMKEwiEBgUGBcIhQYFwYFAwgWDAoRC8GBAYE4RCgwKEQvhEJgYUIBhQkIhAiECIUGBIMC4RCgwJCIUGBAiFgaYLwiEA5cGXCNhGBGwZAw4Ng0MPBkqNqcoqorlh//PkZP8cygrkAFI0wjo7lfAAjhq4SnPor//psoFemygWmwWm/0C0Ci05adApNn/TZQLU5RU9FRFVFdTn1OFG1Gywv/UbUa9Ff0VoFgCwBbAtQLUCzAtgAchHAN8ImAbgBvwDd4RwjQDeAN8I0ImEQEQAbwRgiQjBHhHAN0A3vgG6Ab/CIhEgG5AN6EQESAbmEYI4RABvYRoRABuYRgDehEQiAiIRABvcA3QiQDfwjwDfCICPCJCJCJ4RwiYRwjBEwDehEYRgDfCNCOEQEQEcI+BagAd4FrAscCxAswLfwLAFgC1wLNVMQU1FMy4xMDBVVVVVVVVVBlBkwO3wZAZMIz//////+DJwO0IwI0DsA7cGUI34Rn4RgMuEZgywZQjAZP/hGAcmDKEYDIB28GQGQGXhGgcgRoMgRoHYBywZAZYMmBygyQYFCIUDChQYE4MCgaYJ/gwKEQsGBAiEBgXAwgQLrhdcGwcGHBsGA2Dgw4YYGwZC6/hdYMMF14YcLrYYcMPDDhdYGweF1oYb4MCwYEwYEgwJBgTCIQGBIRC/BgQDCBcIhAMKFhEKDAsGBQYFAwgTgwKDAoMCQiEgwIBhAnCIUGBQiFwiEBicIhAiFhEIgIoBooGieDPA+4GeDPCP//PkZOobXgrkAEY0jjazieQgBKKIBGgyBGhGhGgyAdoMmEaDIB2gyhGwZYMsI0GSDIEaDKB2QOWEaDKB2hGgygcoHYBygdkDtgygcngyAyhG4MgMgRgRmDJCNBkA7QjAZIRoRoMuByhGgyAyAyhGwZYHKByAcgMgRoHIEbCNCNA7fCNA7AZAO0GSEYEaDLA7cDthGgyAyAyQjAOwGUIyDKEYEaEYEYEaEbA5AZQZAZAZIMgRkGXBlBkCMgyAyQZYMngcmEb8GUGQIyDIBywZAZOEZhGBGwO2EbwjcI3hGYMqTEFNRTMuMTAwqqqqqqqqqqqqqqqqqqqqquDqz8GMDQIvBj///+DGDEGAMAifBj8IuEThFCIEQGPCLwiQYBFCKESDCETBhhGAZGEZ4MjgcSEY4GoRQigxCIEQGPCKBiBrgxwiBEwMIRAY4MQNMIkImDEGIRYMIRYRAYhFBjwYwNQYgwBgBh4GAMQiwYgxA0gahFBgBjgYBFhFhFCKEWBgEWEUGEIgMQYQMYRAMQigxhFBh4GkIgRIRYRAY4RIMQYgYhFA18IoMQYQihFhEgwhFCIDEGIRQieBiEUIoRQYhEwYDAFwGrBog0waAaQawacGsGiDQp9MZMVT3piJjJjK//PkZOYZBgjoaUJQ0DprofQgbhq0dep71PqeU69TpMdMVT6n1OlPKdJjpiKdFZkxlPKdJiJj+mKp/0xFPBoAmYaw0BpwJhDSBMQ1BqAmIEzDSGgNXDRDRhp+GsNMNAEyAmYagJkBMA1BpDXAmECZhoDXhqAmYawJjgTICZBrDSGsNAExDVDQGqGgNHDWBMIaQ0BrAmcCYgTHAmIEzDWGgNYaOBMw0BqDSBMYaA04aA1hqwJhw0ATKGqBM8NYEz4aQJkGoNMNIag1+GsCY+BMQJlDVw0cCYfDXw1ho4aQ0gTCTEFNRTMuMTAwqqoD37wjuhHf/////hGf////hHf/gycEZwRn4MnYMncIzsGTwOdOA507A507hGeEZ8GTuDJ4Rn4HPn4Mn4RnhGcDJwM3YM3gzdBm6DNwR3QjvA927Bm//Bm7Bm/Bm8GbgZvBm4GboR3gzeEd+DN8GbvBm6EZ+Bzp4Mn4HOnBGfA588IzsDnTgZPCM8Iz+EZ/CM4DnTgOdPBk8Iz4RJwGTidBi7AycTgiT4RJ8GE6ESdhEngZPJwGTieDCcESfwYToMJ3AycTwiTsDJ5OhEnwibwYb+ETdwibwibvCJuwYb/4RN/Btf/jYGyNv8bHLUtSzE0/LQBW//PkZPQcHgjQAFKVrjfDmgAge1eMLITcshNy1LX8si0LUTQtCyLQTUteWQmvLItSz4mgmnTJops0umEymDSPsnR9HwfB8k7Pvn0fAvwtcLXF/F+L4vQtQWuFoC0BaReF7AeBfwtcXBdF4XheFwXAtAui9C1haRdi6LwvirgnUE6FcVBVisKgrCvioK+KoqiqAhh3AQFXhwVYrFYCWHMOioVAI4dFWHPDgCAdDgdDmHcBIBEO+HRWAiKsBMO4dFQCAdATw6HBWHBWAgHBUHMOf/gICsOCoV4qw7+KxWHA6KhVTEFNRTMuMTAwVVVVVVVVVVVVVVVVVVVVC11Fz1+NP+/Xkqpr9OfuhQ6lZNWf+XsZc/si+KNoOj/Ntai9j7IISgZAklTqQhjToNTeQoreRdaSDODWvYAVFaWWkQmVuZPP8bRUzq896vc+XS6mm5gnnW7JLnV4z9N5XnW4k86x+uyHyxnWkmdborzraff2SvOtvljOtjd/5XRW8MivOsry/K3gUzrFPS1eFTOttTsul1+lLGdbV3c53h51mdbK7xPOr1SpnWlM63kedZnV4XPK86onnW7myrnWTmRTOqascoabXd/L+yuzS95dv1efjhl92ntYyTuIb6wuWRZFmWRa//PkZOcb/gqMACDf1LTLofggA9qc/gKRZiblqWYm3E24moSQnR9BJj6JwfBaFqWZZFoWvLUshNPxNuWn6bTZHgozRTSaNAY5oGjFQVgTkE6FUVorioK8VBXBO8VRUioAhxVioK4qAnIrYrCqKsVRVBORXBORVFcVcVwTgVBUBORUisK4rCoKwrxXFYE4FYVATjFcVhX4rcVBVFQV4rxVFSKwqCpFcV+K8VhXFYV4qivFUE4FaCdivBORUBOfBOgToE6FUVYqisKgqCtxWFbFQVxXisKgqRU4qioKuKwqCvxVBkH/4Mgf4Rg4RgfgxZBizhFYEVuDFvhFbBi3CKyEVsGLf/4MgAxaDFoGsWYMWgaxYBrFngxaDFnCKwIrAYswNas+DFgRWYGtWYMWBFZgxbgaxbgxZCKwGLIRWgxZCK2EVmDFmDFgMW4GtW8IrAYtBi3Bi0GLAYsCK0IrQit4MWeEVgRW+DFsI9cDW9AYtgxZhFaBrVgMWgxaDFvCKwIrIGtWhFaBrFuEVvBi3hFZA1i0IrYMWYMWAxaEVkGLAisCKzBizCK0DWrIRg+EYIRgQjABkHwODABkDhGDwODBgyAEYIRoRvww4YcKILYKILfhRg5htjY4OQbQ2hNAH8su//PkZP8cRgjWAFAUYjwDofQAi9pcJry1E1LUsuWvE2E0LQTcB+E2LMTctQFEEcWnFYVwTkAI4rRWFYE6BOhWwToBBAQgnIrisETANwIiAb/COEQEbgG+EcA38A3wjhGCMEeEaEeKoJwK4J2KoARBVBOIJ1FWKoJ0CcCuCdRWFcV4rioK4rAnYJ2K0V8VYr8E4xWFUVBVFQE6FXBORWFSKorxVFcVwToE5wTvBOoqwToVIJziuKwJxAQgnUVBUgnAqQCaCdxWirFaKwrRWFcE7FfFeK4rgnIrAnYrCoKoqgnAqCrip4qgnCr/////8Iu8BjvP4Ry5/8Izggc4Zw4RnD/hGcP8GThBk4eDJwgycIMnDwjOD4MnBA3eu9hF3kGO8gx3vBjvAN3jvMGO8CLvAY72DHeAbvXe+DHehF3kGO8gbvHeBF3oG713gG713vgx3oMd5BjvAi7wGO9A3eu8BjvMDd470Iu9wN3jvQY7wGO9wN3jvIRd4Bu9d6Bu9d6DHeAbvHewi7yEXecGO9BjvQN3rvIG7zykGO9A3eO9CLvYMd6EXegx3gG7x3kDd470Dd472DHewY7yDHeAKomwmhZFkAof8tCy4m5aCbcTUswFYsy0/LQTX9NBqBgJgYaY//PkZPcaTdCuAFgWlkI0DfQAe9r8Jxz6CShr8++JsArgjxNBNC0LQsyyLMsgRxallyyLIsi0LUTUtS0AVwFPia8si0LMTXiacsxNizLMTYTcsi1LMsy0E2LUsuJqJvxNyy/E1LMteWgm4mpZlkJuWRZFmWnLQTfgncVATkVcVQTsVIqQToVxWFeK4rwTmATCsCcAnQJyKoriqKwrxWiqKoqwToVRWBORWBOBVFSKgq4qAnAqAnArRVgnIJ3FYVQAgCriqK4qYqivBOsVoJwKgJ3FYVBWFfBOIqCoCcivipxUFSCd4qRV4rCvFaCc/BOhW8VxWFUVhX4r1eX/+DHgaYMOEX/CJgwwYQY8GODH/wYf4RAiQiAxCKBj4GAMYRQiwYcGEGMIoMfhECIBgEXAwCJhEA1BjhF+BhCIDEGARYGoRAYgxCLwYeESEUGMDEIoGAMAiAwBiBrCJ8GMGGEWEUGIRYMAYAxCKBiBgBqDDA1wiBEBiDAIsGIMANANMIoMAYhEBh4GMGMGARfAxBj8GAMANYRAYBFAwCIBhgYhEwNQMYGIRAMAiwNYRQi4RQYwYgahEBiBqBgESEUIqa6Z6bTBpGkmUwmkwaZpJlNCkifmkaaaBymgm0wmRPxSDTTa//PkZOYYTgboZUAQIkCEFgAAe898YTZpJtMJhNilphNdMJhMGgmemDSNJNmkaX6aNJN9MJhMc0E2mzSNJMpg0umU2mDS5oJlNJtNJnpg0DSTBoml0wmzTE8TRpGgm00mkzzRNNMJg0jQTSb/NFNdNGl02KTzRTfTPTSbTKZNLphNJpNmgmUymkwaaaTKZ/TSYTBoJr/ifptMpr9MJlNptMpg0kymumEwmf+mEwmOmkymTT5ppv80eaHTCYTHTSaNBNJtN80/0yaBoJo0k2aPTPNA0OaSaTJoplMJv9MgBAB4MBUGwbwVwUBkFAYDAU4NBoMBqhAELk//h/y1/vz6/6zMnEglwqnIsVSHBzAMMIqXiLgxS8ucoLCKl7VwipeupwYpeAxS8Z22hSl4U+qE1L2goKUva1GUJqXqwkpeAxS81IQpS8smBqXql6E1LyEVLxdEJqXoSUvAmpeJhFS8rpH3CKl6EVLxPWFKXgDUvVL1LCal4kuDFL2EVLxFlPClLyEVL2FKXhdwYpeswGpeqXkGKXqLAxS8wYpeqWk8KUvATUvQYpehJS9Bil6yoUpegipeZT2x1vN5NR2X3KrRuXjFmaS0AUCyE1BHflmWZacTYsvy05ZgAIs+WQCqJoWZ//PkZOwZ+gaYBgbm6EQMAfQAe9r8ZCbiaFkWv5ZibialoArlryyDtCSnyfR8hrE7PpNmiaIxDTGKafTJalqJoJoWQm4mnLUtSzE1LUsxNyy4mpZlqJpy14mgD8WpagKvLIEcJuWnLItBNhNhNxNgH8tSyLMTflmA/iaCaFqJqWf4mxZFmCdCvFWKwqivgnQJzFfwToAIwqgnOKgqCoK4J2KwqisKwJwKwqCqKgJwK4rYqirgnIJ2K8VhVwTmKorYrioK4JwKwrRWFQE5FUE6BOwTgV4qYqiuCdAnYqAnMVBVFUVATkVBVirioKoqCviuK8VwTjxWFfivFUVxXBOcVuKvFaKoqiuCdeEW3Bjb/gxvhFvCLYGN8GNwi3CLf8DbtuEW//CM7+DG+EW+DG8DbNgi3CLfA2zYItwY3gbZuDG8GT/Bk+DJ+DJ/hGdCM+EZwMnQZP8GT8GToRngc6dBk4IzwZOBk8GTvhGdBk+DG8Dbt8DbtgY2CLbBjYGNwi2A2zYDbN4RbhFtA2zcDbNwNu3CLaEW4RbeEW2DG8DbNwY3BjYDbNgY3A2zYItwi3CLbgbdvA27YGN/CLaDG4RbgxsDG4Rb8ItsI7oR3cGb00m0wmTT6aTZoJgUpMc0kwaa//PkZNcYqeLUAAAUHjw8DgQAe88cYTXTXNBpXiQdfLVpLJoaCSJs0TQNAbRpJpDWleaGlDmlfQ9fQ7tBZoa0IeOw3Ccq44TcHgrufDVzQNA0Om0wmDTNE0EymkymumU2mU0aSY6ZE8NFMmiaaYNDptMGn+aJpdNptNps0OmU0J50wNtMGmmEz/zQTJpppNplMJlM9M8FAYCoKAAApgqDIMACwAQbBsAMGQAQaCkGg0GgyCkGeCgNABwAAUgrwA+CoAQNAeHCAOAeAyIQHBwgDg4QYDAGgMEEOEAeA0Q4DxAHh0PEMGYMBsFQYDPgoDMGQV4NBqryAZfhGfwjMDl4Rv/wjcGT/4R/CPBH//hH4H3gzv4M7A+/gzoR4GdBnAf+DPBnwj4M7BnwivA1QIpCKcIpgaqDFgaqBogMWBqgGqgxQinA0XBi8IqEUCKBFcD7/CPwj0I+DPA/8GfBnQZ8I+EeCPwZ4R6EfhGcI0GSDIDJCNCMBkgdsIwGQDkBk4HIEZgy4RoHZwZQjcDtCMgcoRgRoRgHKDJBl4RgHIDKDIEYEaEZgyYMoRsIwGQGQIwGUGUI3A5AZMI2EaDLBlwjQZQjAjAZQoqIqqN+pypx/qNIqoqqNKNKcqchwGrCAPqN//PkZOsaCgjiBUZRnkhEBfAgw9tw+iu1RUqp2qNUNalOVG1GkV/U58sLU48sLLCiwFU4hAYA+qQQgasVhVIYQNWKwmAKpvasNoHIDm4OQHIDlGwNgbH4D+JuWQm4mhZFoJsWgm4I4TcbA2xtA5ODnGyNoHJ+NgHKDl/LMBXLUtS04mvLQteAqCaCbFoWQmha8bQ2Acg2ht8bI2RsjaGyNrjYGwNvjbByja/GxFYE4ipBOIrwTiK4J2KuK8BAK4rAnAJwKkE4FYE7FUVgEIqgIRVBO4qRXFQVBVBOMVwCcE5itBOoqAnQqCpBOIrxVBOoJ0KwJxgnQrCuKsVBXioCcCqCdAnYJyKsVYqipBOgjwiAj/8InhH4RMIkIioAC4RiJCMRP////CNk//Blkv4M6F8I9C/8GWT/8I2SwjZOEbJQZZIGWShGyYMsnwj0P///CPQ/hGyQRsn8I2SCNkgOyVkoMsnhGyQMslCNkoMsl4MsnhGyXCNk4MsmEbJ/wZZP8I2SA7JWTgyyQMiKDIieEYiAcRIihGIkIxFwZEUIxEA4iREgcRYihGIoHESIkDiJEUIxFwjEQIxEwZEWDIihGIoRiKEYiHcYJRIr9kzDmO5cIaApXE/NA0TTTKZGym/0//PkZMQWjdCsAwAWCsQ8Cfwoe89cyaXTKZACgKxsmybQFQCyPQPUbRtA9x6QAoegHKmRtClpk0RSkwaCYE/GyaaZ6ZFJTaaTCbTabTBomgmk2mxS0x0waSaTI2gcgOcT0T5MiedM9M9NCfCeGgNhMJlNJoT1MdNJhMjaNPptNGkmhtpnmgmv+KQmRSE0aaY6ZTKZTRoJg0U0aBopg0emU1/xPzTTaa5o80DRTZoJs0TRNEUhMikJs0P0x0wmkwmUymkwaKb5pppNJg0OaInhpGgmeaSbTBp9N/ptNJo0DTNAbOCkGAwGABgA4NgwAAAMAPBgAQKAyDAZgoCkFINAABWAEDAUBTAABgMBTgqACDcGAAQYDAUqLUlVt///+Bj4MIRcGH/hE//hEwY/wi8GPBj8GH8IgRcIv4RYMQi+DAIsIsIn8GHCLCJCJ/BhBgBpgwwifhFhEhF/gwCIDAGIMIMAMQYBFhFBgDH4GAMQiQNAYAwwYBECIAMIAMAAiHBgAMIAiAIg4MABgABhADAhEAGAARCBhCEQhEIMABh6EQAwIMABgCEQwMAQYD4MDCIcGACIQiHwYGDAhEOEQ4MAENB8hJD7PsnXJ0fZ98+D6LItQR3PgnZHmgPYYRopk0xj//PkZMkU/gLsKkITrkL0CfzIetvgJtNdNGkmkwCPLITf8s+WpaFmApAjgFUsyz49jSTCaGMmkyaRZlkJsWpaiagKBZlmWomh8c+CdcnROj4Pk+Akh9E6DsJ0fJ8c+OTs+idk4J2Tg+j7Pr8nB9nwfAa59k7598+D74Sk+eEkFQdDmKsOhwBEVYCeAiAmAiHcBEV4CYCIWmCHF6FqC0haRcF4XYvxfF2LwvC+FqC0xcC0C/FwLSFoF0XBfi7C0xei8LwvcLQLoWoXheC0BaIWoXBdiNiMY6cZ8RkZxnjqOojAz4zx0HUdBGozjoMw6iMjpxdi+L4uC5F/xd/haIui/bZ/+DGBp4RYMQYgw8Ivgw/CJ4RfBh/hECKBgEUGODH8InhFwY4GoMcIgRIMcInCIBrBhCIESESBp+DEGARfhEA1gxBjBj4RAYQYgxgYwiYRcIgMAiAwBjCJgYAawYYRQMQMAYhFgagYhEA0AxA1A1CJBhBgEXwMQNAihFhFAxwYAwgaYMPCJA1hEBiBrwYQiwYwiBFwYhFgxgawihFCLA0gYAwCKESBoBpCJ4MIRcGOEVB9ALR8BJj7/PonB9HyEoJwfZ9E4Dt5OeTnlqJtxNAH7nwfHPonJ8E759E6PoJI//PkZOAWKgjoZUAQYka0Ffgge9VcfZOCdE7J0To+Cc8JWTo+D7J0EqPoO0+T5PsJSfJ9n0TkJUfJOeTknPPo+z6J2Ts+ycE759/k7Pg+z5J2TonBOeTkJUTg+T5DtJ0Tvk5Pjk5DXPg+idH2HYfR9E6PgnR9k5JyfZ9cnR9cNYJSfROidE6Ps+Cdn0fB8E6DtPs+CdHwfH5OAlR8nyfB98+SdE4J0ff5OidH2TknfPkJMfYSg+Cd8+D6PsnP/JwTk++fYSQO0+D5J0fZ8HwTjn2AWDgdAL8ApALQCkO8GACwMgyAVBiAVhzwY4BeDIMgFMOh0ArDgc4BeAV4cgFsOhz/wP225HGw7wCsO4M8AqHP/+DEGQ7/8OgzgFoM4Bf4MhwO4BT4cDmHcGfDnw78GcVhUFTFXFeKoqYJ3isKuKkVgTsVoqCsKwrCoKsVQTqKorYWoXhfxeF/xdi58XOL4WmLnFYVQToE4FXiuK0VwTnFQVRVFcVhU4JzFfDgdhzBnDuHfALgyDAMQZBgGQCgBUAoDAMh3BkAsDMGcGAYgxBn+HAC0ArwCwMAS5adAry0yBSBfoFBVaKqKwVUVrRXUa9FUOEqVUjV3ySPLkvkzlNlNn02E2S06pvVKWACECpW//PkZN8VDgj+zymq5krb1ewAxJvkqe1XysDVFSqlVIo2o0ispyFVoqKNIrKcqNKcKcFhSjaKiKyKhYWiv6nCnCKijajSnPorKNKcKcqcIrqNoqKNqcKNoqKNKNqNKcIqKN//orf6BSbKbKBSBXlp0CvQKTYTZ/0C/LTxFxFoigioigCLC4cRYRWItEXC4cRcI0IoFwwXCiKwjQXC8LhRFcRcRQRSFwoikRcLhxFRFguHiKRF8E7FYVhVBOgCYVRUACKKgqgE0E6ACJFYVoJ0CcgnQrAnMVwTgE6ioKoRwDdhHhG4RARgDcCMEaEYIiAbwRIRuESEcIwRwiYRwjQjBEgWoFuBa4FngWkIQQigwhEwigx/CL/4RfCKEQGP/wYiEUwYHwYGDAwYAGA4RCEQBEGB0rCNcGU4RrBlcIsGGDCESBiEWDCBhCIEWBiDAGHCKEUGEGEGMIgMAiwigxCIDADQGIRfCIEQDXgYYRfBgBoESEXwY/CJCKEQIsGIRODEGIRQYgw8IgRYMMGAGGDEDGDAIoMcDQIkGMGGBrgwCKDAIsIkDUDWDGDDA1hE4RQMQYgwBhhFBhBh4MAMYRMIoRAiAxBjhF4mhZFpxNBNy0LQTUTXhKglR9FqWpaAP5Zi//PkZNYXkgTkGEJwlkXcDfQAe9r8bCa/k5JwTriacsizBHE6CSH1w7efHLPgjuJqWnLITYTX8tRNAH/ialqJuJuWZaFkCO4m5aE7J2TonB8E559nyEnJyfB8FmJrxNxNhNS1E3LT8sxNC0E0LTlqJuWQm3E15ZiaFqWRZiaCagP5aCblkKoqCsCdioKoqwToE6FcVwAhRWBOIrCpFbgnEVRVFUVIJ2K4rAnIqioKgrcV4riuK0E4FcVQTsVxUBOoJ3FUE7itFYE7FYVRXFUVwTkVoqAnYJxBO4rReF4XYWsLWLoui4LwuC9AdsLQL0LQA9C8Lgvi6LguBahfFwXAtIvQQ4vCqKwrxX/8E5xXit4JwKzBnwj+DF+F1guvBiQYkDRIR8I/gz8Gd4R/wYsGLBi8I8DPBneDPBnwZ/8I8DP8I8B/0Gd+DPA+8I/+Ef+DOgzvwj4R/hHoM+Ee4M4D74M+Ef/A/7gfcDPBn4R7BnfCPgz4M7Bngf8DPwjwR6B/3CPwj0Gfgz+EfBnhH8GfwioRQGIBqgRUDVAYoGiBFcIoBqoMWEUA1UDRYRUIqEUA1WBooGiAaqBogRUGJwigM8I/gz+DOCPwj/Bnwj3BnBHgZ4M4I+DOhHhNCz5aiaCb//PkZM0YugrgAAASBEUEBfQAe9rclmWompZ8shNyzLMsy1LMBUAfhNxNicBJCcE5J0JpyyLMTcBVLXloCO5aCagKACiAqflqWYmvE3E3BHlmArFnxNRNC1LUBS5aFoWhZFmWR8k5CTnxz4PonZ8E5Pg+j4LUshNQH4TYtSzLMshNBNhNSyAViyE0FQE4FYVoJ0CcRUgnYqisKoJxFWAhiuKgrCtFUE7FQE5iqKgqRVFWKorwTsVxVFYE7FTFTBOxVgnAqRXBOPisK4BOK0VoriuK0E5BOxUivFcE5FYE5FQVBXFQE6FQVBVFYVxWioCcCoLovi4LoWiL0LSL+LouBaIvBahdi6LoWgEMFoC1hacXxdC14uipiqKn8VPFbiqKsVb//Bm/+EXgx4RdhFb///hE1/8GLP//CKwIrQjoGa/wPewZqEdYM1wZqDNAetgzWEd8GagzYM2DN4M1wjoI7Bm+DNhHcD3rA9awZuEdwZvCOwjsGaA964M1A978I7hHQR0DNge98I6hHYR1wZrBmwPWgPWwZsI7wjqB63COvgzQR3BmwZsGaget8D3rCOgZoGa4R1gzYM0EdwZsI6CO+DN4R1wZsD3oGaBmwjqEdAzXCO/4R0DNAzYR0WgI8TQT//PkZL4XFgTcAE6Tekf8EfQAe9t8YTXiagKwCsJuWXLMTUtC1LMTT8TYTUJP+fAdomomoD8JuWoCgWoI7iaFkJqJqfZ8hrk4CSE5Pk+Cdk5PgnBOT7JwTg+uWZaiaCbcsgFAsy0LPlmJsWYmom5ZFmWpaibiaAjy15ZFkWQm5Zll+JsJqJvy1E0CThJz65OQlJ8H2TknZOT759k6J3z4PgTQTcsy0LITflmWfLUsiyLITYTcTT8syzLQsi0LMEcWZa8tSyE1LTibibFqWYI/8shNCyE1LQsy1LUTUBTLLloWXLUsiyLUtBN+JqJvy1E05Z8TcsxNeWn/LTnxydHwfZ9n1ydk4PsnHJyfR9E4JwTgnB8k4588nB9cnR8c+D7PjxV4q4r8VsVgTgE4/itFShX/xV4rirxVFWKoq4qfxX8E6xVxUBOYrCtwTvwTj/xV8E5/irBOsVuKwqRXFTFQVorCrFf/xWioKwrCtioCcxUFUVAToE4FUVxWFQVhUBO4rgnUVIJyKkVgToE4ipFUVoq4qisKsE64qCoCdxUFUVxXFUE78VxWFQV4qiuKgqiuK4CCK2KoqirBOATsE4FWK4qxVFUVhVFYE4gnIriuCcQTiK4rCoCdCtirBORUiqK2//PkZLAWsgzuADQNNkZj/fjIe9r8K/FXFUVwSE5aiaAKgmhaFpxNQkp8n3z5PsJOGsffLQsyyE1LItS1E1Af+CPLMTUTfibFmJoWQmxanzydHwTsnASknBaCalqWom5ZcsxNyc8nASsnHDt59BrhJgkpOicBKg7D7JyfZ8E5Pk+Cd8EeWXE0LQsiyLQtSyLIsi0LUTYsy0E3LITQshNiyLUsiy4I78shNy0LMVcE6ipgnArRVgncE4wTsVIrCqCcCtBOYrwTgE7iuKwqCoKwrcE7BOQTqKgqiqFpBEC1gPYD3F0X4WoLTF0Xxei6FqC0BaAtQWgXxdwtWFqC0haBW/FQVRUBOBUFcE6ioCcAnEVRX4rYrxWFUVBViuLsXgtAuC6FoBDBaYvi7F8XxexdF8XhcFyI//gx//CJBhgxhEwY/+EXwYgx8ImDH8GPhE8GPhEwigwhFwNQNQNfhE+DGDAGHCIBrhEhEBh4RQMAY/gYBFBhhEAxCIDCEUDEDHBiEUIoRQY+DCBp4McGEIgGgMcGIGMGIGIGgRQYgxCKBiBjBgDGESDADWBgEUDEIuDADWBpBiEUDEDDgYgwBgDEDQDUGIGgRAYQYAxCKBhCKEThEBgBiEUGIRQMQiQiwNAY//PkZKwWNgjoZUAQREakFfQAe9t8YMfwi4GBaFoJsWpaFlyyBHctCzE25ZiaFoAocsy1E24Sk+idk6LMTYTYTQsyyLUtCyLQTUswFYJMGuTg+CdHwErPotAFAsuJtxNCz4m4mvBHiafloWZZ8YppBqzTNI0jTNBMpg0jTTZZFqWfE3Af/xNf+WomhZ8suWZZCb8tC1LQtS14m/LQtBNhNOfR8hKCc8nHJ2EqCUE5CSHxydk6Pg+D7Ps+Sdk6LUTQTcTcTctSz4mwmha8TXlmJvyy5ZiaFl+WpZFoWZa8TQshNCz4mhalmJsWfLQsuWRactBNRNC1E1LLlly0E2PgJWfR8h2H2fJOSdnx+fXPs+T5PgNbnzz6Po+T7JwTk+z4PonROglJ84qCvxXxUirFX4q4qeCd1f8InCI/4R/CP//4RMI/CMEYI4RAR8I8IjCJ4REI/gG8ESEfCOERCP4R/+EaERCPCNCNCI4BvQjYRMHINobIOfjZBzDZG3xtja42gcw2PwcvG2Nng5+NgbY2wcn42htDYGwNrjYGwNsbX42vxscbI2gc3Bzg5Qcg2uNvjaGwNgbI2+Dl4OUbI2Qc42RsjbBy//g5eAboR4RwjQDeCP+EcI8IwBuwjwjBEBEA//PkZKoZMgrqADXt9EV8FfQAe9scG+EThEBGCMESESEbhEQjwjwjwjBHCIwiQDcCNCI/hHE0/LQBSLITf/lqWoSvk7LT8BWLMtRNAk58E7Po+CyLQTcsyyLUsi0Afi1LUTUTUtBNS05aFkWpZHzwkoSgnB9HwfQSsTYsizLQtRNRNgFf/8NcJWEmAWCdn0To+T4CUHyGtxNiyLT/lmJqJqJqWgmpZFqJsWgmwmwmwmv5ZiaibiactBNv/yyLTiaFkWZagKgCmJqWQmgmom3E0LTibAKfE0LLiuKgrYqipBO4JzFUE5BORXBOhVioKwqRWBOYJyKkE6BOIrYqCqCcxVxVFUV8E4FSCdcVgAgCuKkLTBDC6CHi+LwuRfha4uC+FpF8XQtAWgB2wtAWoXBchaBfwtQWnFSCdxVxXFUVhUFYV4rgnOK3wTiKir//1eDCsf//7/+wOYd///ei/f6lmiqGXpyOlCSRm+yP3UtDhFIzqBhwCFHAGFHABYGcAnAAMOAAYcAAw4BYKOAIROANgicAQYcABE4AAzgE4B+1wmcAwYcAK+sDOADgFLCJwAlWBnABwABnABwDWraETgEDOADgDBiRkgoJpGaP+64RSMoRSMGBiRkkwMSMlq7AxIy4//PkZJUYEgieBFw3fkL8FgAied8AROAAicA8DOATgAGHAAROAFwM4BOAGBhwADDgAGHANQUcAgicAYROAfgw4AIkbPNNNpo0TSNBNJgUs0l7lomEwmRSOaRp80zQFK4nvTInnTEGgwGwAwYmOmkyaInppJpMJg0k1+KUaaaTCb42U0mBsGiaSaNNNpo0OaKZNE0jTTSY5oGmaZpJrphM9MGkmDQTCZBzpg0OKR+mBtdMJobfTSbTfG2KSaBpGgaZomiaBomn02mOmkwmjSNPpjmmaKZNA0zSNFNCeClJkT40DTTCY5oJk0kyaJpdMppMdMdN80TR6ZTXTfNJNmimumem+aKZTKaTaaTRops0kwaZppk0+aSa6ZTKYTfTfTPTHTKa5omgmEyaJo9NmkaRp/pnmmaf6aNNMplMplMdMpv8TxMJlNplNJn9MdM1OM6hWa/EjiRiRiO/xIcSP+GgCZQ1+GvDRDV//4aP///4I8EwTwTBLwS/4AHgnBHBHgiwR4JgAgS4IwAYPA8ADg+AAAAFwfB4L4WADC2AGAGFwsFwuD2FgAcAPC+F/B8L4X/B7B4L4WwuD+AGDwXACAAC2D2AEFgfCwAAAAXB8LhcLeDwXCwPYPA+ACACD+AH4XwA//PkZJMVIgb2ejVLxkBMEgTIe898vwv4X/ACB/C4WwtgBg/gA4PA9gBeFhLRTXTRomkmP0yJ6J+mPy0NA0OvibNDQmfzTNNMjaFKNATxMiemiaRoGkmE2mkwmTRTHNBMGiaCZTSZTZomh0PaV9fX2hoX14kzSmOaCY5pJr80U0aPTfNFMps0jSNJMmiaSaTKb6aTKYNLphMpg0eaJoGkJ8aBoppMppMJg00xzTTabNFNJpNJpNpnpg0DT6bTRoppoJMWrSh/690NQ5paV5D2le/LND2hoQxDF/rzR1/r/aWhfaWleQxfXmheaevNDS0tLQ0ryGoch/X15D+vLy+0oc0ry/19DUOXuvIc0oav9oXkNX1/r3X18QCGHQGQHB8PiAPAaHgPDsBgcH+Hqv//+DJ0GNuEW4MbQY2wZO4Rn///4R34R3Qjv//8Gbv//8GbgZuwZvCO4GbsD37+Ed3A586DJ4Rn8DnToRn8GTsGT8GToRn4HOngyf4HOnBGeDJ0IzgjOCM8DnTwjOgydwOdP4RnYMncDbtwY2A27cItgNs3CLeDGwMbwY3CLaEWwRbQi3A27eDG0GN4G2bBFvA2zcItgY3A27YGN4G2bAxtA58/gc6eDJwHOnAyfCM7A588//PkZLMYngTSAFAUhEYcDfggw9V8DnzwOdOBk8IzuEZ4MnAyfgychsy7F3oE13Nl9sy7myrsL6qqOU5anCqkHqNDI3KVUTEU8GNU7U6gxyHKchyVV/Xa2Zspfds3rubK2VsjZmztk9djZi/TZV2NnXYu0vsm0yaBoDZNEbA2k0aKZNjmwbH/Nvm2bRtGyBVArD1G0bQPUevg9h6/+PRzZNkCrzZNgesegesermyPQPXzbHpNvm0PQPUPSbJs82TaHqAtj082h6DaNn8eo2DbHrHpNjj1m1zYHqNo2jYNnmwbPNgek2ja5sj0D1m0bJs80xtJlMdMCeps0U0meaaa6b5p/mmmU3zRTfNFN/pgHPzQNPmkaaaTXTKbTRoJk0zS6b/NBNdNJlNGj02aH6Z4IgAEEYJ4I+CMEQJcEUEXBOpHDX/w1Q0Q1Q1cNWGvw0Q0/hp/AmIaA0cCYhow0w1/w0hoDRhpw1w1BrgTLDXw1BrhrDQGgNQEzAmOGuGiGgNfgTHDQGoCZw1w0BrDWBMIEzDVDTDUGgNfAFwGjBrg1A1YNcGsAXAaQaABcBqg1g1QagaINYaoEyw1Bow1YaA1hoDSBMw1gTICYQJkGrDQGoNGGmGsNcNQawJkGuBM4aIa//PkZKAYngTsATQNQkKMFgDifh7AYagJkGsCZ+GkNWGiGsNAaYaOGgCYgTENQaw0Yaw1Q1Q0/hqw1BkAfmkaCb6ZTCY6bNBNLwmqGA5fzSTCb/lgwXOmMmMmTQ5pmkmUwmkymfzRTaZFJ6aNM002NrppMpg0kwKQmE2m0yKUaKaE95o9MJj9N9NJk0UymOaSaE/TabNNNmmmk2mU2aHTKZTCaNDjaTJoGimkyNvpk0TRTHTf6bTRopg001+mU0aXNBMjYNA0k2mjR5pfps0U100mUz0ym02mDRTHTaaTRpplMc0kz0ySA000mDSTKbNI002mzQTHTaYTf//NA0zQTBodNJk0UyKSaaZNJMprmkaP5oGmKUmEymUyaCbTHNBMJlN80DRNBMmkm/00mUwaZpprplNpvmiaJo80+aSa//TaY/6ZaH//wY4ReEX4RIMfwiAxBh/BhCJ/+ESDDwYcIn+EQIoMAiQYAw8IsGIGGETBj4MP4MQiAxhEAwAxAxBjBiEUIgMIMcDCDAGIMcGMDEGGBgEUDTwNfAx4MAiwiQYgwBgEUIgMIRAiQYhFwYAwBhA1CKDEIoGoGgMQi4MeDADGEQIkIgGMDCDAIoMAiQiAYwYYMQNQigwCJBiDEGAR//PkZJwV+gzoZUAQRkZsCfQAe9tcQYgx8GEGIMQiwMAY4MANAMcIoMSyE1E1/LMTUtCz5OD5PkJJz5Pk+uA/FqWRaib8TUTUTQtC05alqWYm4momgI8TYsxNCzE3LUtQFEsgFM+z6J0fB8nz+TsNcnB9BK+Tk+g7CdhJT6LTiaFqWYI7lqWoCvy05ZlnxNy0/LUshNBNvwR4moCj+Wv5ZlkJqWpalkCOE1E1LQsiyLITUBULLlqWZZlmJsWhZcsi1/4CiWpalkJqJuWvLXlkJsJpyy4mwm5ZlmJuWXLUTQteWgmgmwCsJoWfE3LMsiyLP8TTlkJuAolqJryzE1LTibCbloJuWhZFoWYmxZ8TcXIvxeC0i+FrF0B2i4L8LSL4uBaIDyCHF8XRfF6FqgiwtIuYWoXIrYqAncVvxVip8VIqCvUxPqtFbFf/4q/8V/8V/iririr8VATjxXipxWgnYq+KwqfFTFQVoq+KsVBW8VhUisKuK0VRXivFYE4FTBOhVFcVRV4riuCdCuCdCtwTiCcCqCcgnYqxWFcVIJwKsVxWisK8VxVgnArYqRWFeK0V4qgnQrgnYrfBOoqAnAq4J0CciqKviuK3BOoJyKsE4FUVoqisK2KwrAnArgBAFSK4//PkZJ0VagjyJgGtbkOkFfwAbh4AqRViuK4J0KgrCrFUVxVjOEeDQgjlcT4T40xtjaNI0uaI2QciGNJIl4kJZtCGIaSckIm6GL3TQ2zRTY2UwmjSNE0fxS02aY2BsJs0/+mzSE8TQpHTKZTaaG0aQpApZp/mmm+aHTfTCZGwNgUk0E0aRp/ilJlNJgT5MmkJ9zQNA0TQTH6ZG2mk0mk0mk3zQTKY/G3zQTHTabTBpGgmU0aKaTJpJpNJtMphNjYTfNE0emkymE2mEyaCbNBNfmkaJpdNJnpg0k0mDTTCbTaZTBp80k2aCbTfNE00yaCb6bTZoplMmmaKZTKaTJpmiaHTXNJNdMDbTab6Y6Z6ZNNMJhMJhN9NJrmim02m0ymU300aPTSa6Y//5pJpNdN/9NppxWxU4Jx/xWxU/xU4qcV/ipiuKwqxWFbioK/8VIqivFTwTkVgTkVor4JxFXxX8VcVxUFQE4FaCcwTvBOIqwToVuKwqCtFUVYqxXxWFeK0E7FQVYrwTnwTsV4rCqCcfFaCcRVFQE5gnAr4JyK4r4Jz4J0Koqip4rCvisKoJ3xWBOME7iuKgriuKgrAnAqgnArxXiqCcgnYJzFQVQTmAEIVYrwToAIYrwTiKkVQTkE5//PkZK4XGgzsADQNAkIcCfwAe898FXFTFYVxXxUFQVkzzS5oilg5TTTY2kyaJpJtNGgJ8aKaTQ2k2aCaNI0eaSYNJM/tKHEiQxfJG09MmgaSYTRppg0TRNNMJlMptMCfppNprmiaA2jQNLmmaRppk0jRFLNP9NJhMGmaQpZpJhNCkGkmE0J+mxSk0m0x02mjRTKbTCZ42EwaQpJpptNprmgaRpmim00J4mzSNM0kymkyKWmE0muaKYGwNjmgafTPNE0U0mUwJ7+mem01+J8mhSk2mjRTSb6aTCbNBM9MpjpjppMpk0E2mE2mE2mjSTfTaZ6YNFMcT1MpnprptNmim0wmE100aSaTRo9MGjzTTHTaaTfTSaNLpoFMAAFYNBQGwAvwAYM4NgqqkjaAN3d3d3etERNK5CZ/3Ctf8AaiAc/u7vaIn/+8XPv//+GDKv8W1/+AC8K4Yw+94xe940jgceOBwOcRaxGwH4EuNIjBfxazB8HhkwVjIAII/vDkjG/wAcJPeF5e98hNgSYLWMFvhZ73pX06aoehpmh01hMJtM9K3TKY9E10x+memvlIpZM9MUTCbShbUrtM+n5ophNZuXK+0wmemumMCemkmvc0Uwm/lJJlLe5oJZI0SyW6R0mE//PkZLcXlgrzECFvrEmMEfgAfh7k2aORpbTYUo9SBNsekGYNVKgqg6hrUXK4Q42DOwPWbILEzBSumEgkWJPU8S72G5wUuGDwguEKa1Q0UykS3Bn7FJNgg5qoEgpsGabBtGabZt7NrKCNgLYes1idmabBtm2bZsBRm0PQbF9mwPSPUBbMwzB6QojYM42ePTzbMwzR6TaNs1eBVNv81yDUJ2QYhJtD0m0PVe+x6T2M8HsbFwsh6B6D7HpugT2uZhO6HqZhmE7ISZhhkFNcghtmybBnnsD1Ho49ZtG2bZs5PVBc2EEepCaEHNjj1EJHq5smabZtmwbNEEPR+bJse9z2PY2T1SN0rdNJq6yXI06COvNJj9MGmkkGmUj7pI0TToNGlEsNEnCW10ymi5FtNFKpvps0kz0uW3aaTF00mTSzdNJu0KFYz1KjaGAhyoQCFGM//zFARgIUZ/oZpdCttay6M5drW1joSj6Ekk1b7J7R7aoQNlPrWBKLTTzOsGT5yYxLrtHTy2iUxEkES0HIBVD066VjGj31odPkkSjJtbWs6OIjKmlXHR9K5MTv5pdZolE10kk2lly74TFx5KTXeTGLrS6ExiucvJSSDUdXZm3NLn1rtYBCUEoRj77WOhCPc+g5//PkZJ8XPgzoAABMTrz8BfQyY9ONGxJULutaa1TE5LHxWEo+XecmMa3p0kqBCR6qOFaFUGpNJIIjqVi0ylBqJIkiSJIkmJj605EkSRJPetWAyVacmodBUVhGfrAZPF0AUrgRLNiqDU4VHo8h6HRObJJNdqlRBMFT0qdNE0WZhmay2tCuOY6oieWieianCnVSbzjd7SGhrLi6eUSeLcZTWqdML5PM50uOGJms9VqtYU6hrgrm4V0frUzTvYsiegR2FOkqUxSKdVCpmRCSkIAUZ4VPhqEKgFDU2VhUiIhUaIg0RAkTBYEjYBUbBMuCJgLAkCUBUinABgBE3/9EQqFRM0s0qzktk9ZFqqFC6RULE11JVDkd8Y1vVFOx9oUIpZ8Vnq5klkxBTUUzLjEwMKqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqq";var Jc=t=>t instanceof Date,Bk=t=>t==null;const Uk=t=>typeof t=="object";var JC=t=>!Bk(t)&&!Array.isArray(t)&&Uk(t)&&!Jc(t),XC=t=>Bk(t)||!Uk(t);function qk(t,e){if(XC(t)||XC(e))return t===e;if(Jc(t)&&Jc(e))return t.getTime()===e.getTime();const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(const s of n){const i=t[s];if(!r.includes(s))return!1;if(s!=="ref"){const o=e[s];if(Jc(i)&&Jc(o)||JC(i)&&JC(o)||Array.isArray(i)&&Array.isArray(o)?!qk(i,o):i!==o)return!1}}return!0}const nQ={facingMode:"environment",width:{min:640,ideal:720,max:1920},height:{min:640,ideal:720,max:1080}},rQ={finder:!0,torch:!0,tracker:void 0,onOff:!1,zoom:!1},sQ={width:"100%",height:"100%",position:"relative",display:"flex",alignItems:"center",justifyContent:"center",overflow:"hidden",aspectRatio:"1/1"},iQ={width:"100%",height:"100%",objectFit:"cover",overflow:"hidden"};function Yh(t){if(t===null)throw new Error("Canvas should always be defined when component is mounted.");const e=t.getContext("2d");if(e===null)throw new Error("Canvas 2D context should be non-null");e.clearRect(0,0,t.width,t.height)}function oQ(t){var e;const{onScan:n,constraints:r,formats:s=["qr_code"],paused:i=!1,components:o,children:a,styles:c,classNames:u,allowMultiple:h,scanDelay:f,onError:p,sound:v}=t,x=y.useRef(null),g=y.useRef(null),w=y.useRef(null),T=y.useMemo(()=>({...nQ,...r}),[r]),E=y.useMemo(()=>({...rQ,...o}),[o]),[b,R]=y.useState(!1),[D,F]=y.useState(!0),[I,S]=y.useState(T),P=function(){const H=y.useRef(Promise.resolve({type:"stop",data:{}})),J=y.useRef(null),oe=y.useRef(null),[q,z]=y.useState({}),[se,ne]=y.useState({}),le=y.useCallback(async(ie,ge)=>{var xe,Ee,Te;if(!window.isSecureContext)throw new Error("camera access is only permitted in secure context. Use HTTPS or localhost rather than HTTP.");if(((xe=navigator==null?void 0:navigator.mediaDevices)===null||xe===void 0?void 0:xe.getUserMedia)===void 0)throw new Error("this browser has no Stream API support");const Ce=await navigator.mediaDevices.getUserMedia({audio:!1,video:ge});ie.srcObject!==void 0?ie.srcObject=Ce:ie.mozSrcObject!==void 0?ie.mozSrcObject=Ce:window.URL.createObjectURL?ie.src=window.URL.createObjectURL(Ce):window.webkitURL?ie.src=window.webkitURL.createObjectURL(Ce):ie.src=Ce.id,await Promise.race([ie.play(),new Promise(ve=>setTimeout(ve,3e3)).then(()=>{throw new Error("Loading camera stream timed out after 3 seconds.")})]),await new Promise(ve=>setTimeout(ve,500));const[he]=Ce.getVideoTracks();return ne(he.getSettings()),z((Te=(Ee=he==null?void 0:he.getCapabilities)===null||Ee===void 0?void 0:Ee.call(he))!==null&&Te!==void 0?Te:{}),J.current=Ce,oe.current=he,{type:"start",data:{videoEl:ie,stream:Ce,constraints:ge}}},[]),ue=y.useCallback(async(ie,ge)=>{ie.src="",ie.srcObject=null,ie.load();for(const xe of ge.getTracks())ge.removeTrack(xe),xe.stop();return J.current=null,oe.current=null,ne({}),{type:"stop",data:{}}},[]),Se=y.useCallback(async(ie,{constraints:ge,restart:xe=!1})=>{if(H.current=H.current.then(Ee=>{if(Ee.type==="start"){const{data:{videoEl:Te,stream:Ce,constraints:he}}=Ee;return xe||ie!==Te||ge!==he?ue(Te,Ce).then(()=>le(ie,ge)):Ee}return le(ie,ge)}),(await H.current).type==="stop")throw new Error("Something went wrong with the camera task queue (start task).")},[le,ue]),ke=y.useCallback(async()=>{if(H.current=H.current.then(ie=>{if(ie.type==="stop")return ie;const{data:{videoEl:ge,stream:xe}}=ie;return ue(ge,xe)}),(await H.current).type==="start")throw new Error("Something went wrong with the camera task queue (stop task).")},[ue]),we=y.useCallback(async ie=>{const ge=oe.current;if(!ge)throw new Error("No active video track found.");{ie.advanced&&ie.advanced[0].zoom&&ge.getCapabilities().torch&&await ge.applyConstraints({advanced:[{torch:!1}]}),await ge.applyConstraints(ie);const xe=ge.getCapabilities(),Ee=ge.getSettings();z(xe),ne(Ee)}},[]);return y.useEffect(()=>()=>{(async()=>await ke())()},[ke]),{capabilities:q,settings:se,startCamera:Se,stopCamera:ke,updateConstraints:we}}(),{startScanning:k,stopScanning:O}=function(H){const{videoElementRef:J,onScan:oe,onFound:q,retryDelay:z=100,scanDelay:se=0,formats:ne=[],allowMultiple:le=!1,sound:ue=!0}=H,Se=y.useRef(new dv({formats:ne})),ke=y.useRef(null),we=y.useRef(null);y.useEffect(()=>{Se.current=new dv({formats:ne})},[ne]),y.useEffect(()=>{typeof window<"u"&&ue&&(ke.current=new Audio(typeof ue=="string"?ue:tQ))},[ue]);const ie=y.useCallback(ge=>async xe=>{if(J.current!==null&&J.current.readyState>1){const{lastScan:Ee,contentBefore:Te,lastScanHadContent:Ce}=ge;if(xe-Ee<z)we.current=window.requestAnimationFrame(ie(ge));else{const he=await Se.current.detect(J.current),ve=he.some(Ze=>!Te.includes(Ze.rawValue)),gt=he.length>0;let at=ge.lastOnScan;(ve||le&&gt&&xe-at>=se)&&(ue&&ke.current&&ke.current.paused&&ke.current.play().catch(Ze=>console.error("Error playing the sound",Ze)),at=xe,oe(he)),gt&&q(he),!gt&&Ce&&q(he);const Dt={lastScan:xe,lastOnScan:at,lastScanHadContent:gt,contentBefore:ve?he.map(Ze=>Ze.rawValue):Te};we.current=window.requestAnimationFrame(ie(Dt))}}},[J.current,oe,q,z]);return{startScanning:y.useCallback(()=>{const ge=performance.now(),xe={lastScan:ge,lastOnScan:ge,contentBefore:[],lastScanHadContent:!1};we.current=window.requestAnimationFrame(ie(xe))},[ie]),stopScanning:y.useCallback(()=>{we.current!==null&&(window.cancelAnimationFrame(we.current),we.current=null)},[])}}({videoElementRef:x,onScan:n,onFound:H=>function(J,oe,q,z){const se=q;if(se==null)throw new Error("onFound handler should only be called when component is mounted. Thus tracking canvas is always defined.");const ne=oe;if(ne==null)throw new Error("onFound handler should only be called when component is mounted. Thus video element is always defined.");if(J.length===0||z===void 0)Yh(se);else{const le=ne.offsetWidth,ue=ne.offsetHeight,Se=ne.videoWidth,ke=ne.videoHeight,we=Math.max(le/Se,ue/ke),ie=Se*we,ge=ke*we,xe=ie/Se,Ee=ge/ke,Te=(le-ie)/2,Ce=(ue-ge)/2,he=({x:Dt,y:Ze})=>({x:Math.floor(Dt*xe),y:Math.floor(Ze*Ee)}),ve=({x:Dt,y:Ze})=>({x:Math.floor(Dt+Te),y:Math.floor(Ze+Ce)}),gt=J.map(Dt=>{const{boundingBox:Ze,cornerPoints:yt}=Dt,{x:cn,y:_r}=ve(he({x:Ze.x,y:Ze.y})),{x:ys,y:ur}=he({x:Ze.width,y:Ze.height});return{...Dt,cornerPoints:yt.map(vs=>ve(he(vs))),boundingBox:DOMRectReadOnly.fromRect({x:cn,y:_r,width:ys,height:ur})}});se.width=ne.offsetWidth,se.height=ne.offsetHeight;const at=se.getContext("2d");if(at===null)throw new Error("onFound handler should only be called when component is mounted. Thus tracking canvas 2D context is always defined.");z(gt,at)}}(H,x.current,w.current,E.tracker),formats:s,retryDelay:E.tracker===void 0?500:10,scanDelay:f,allowMultiple:h,sound:v});y.useEffect(()=>(R(!0),()=>{R(!1)}),[]),y.useEffect(()=>{b&&(O(),k())},[o==null?void 0:o.tracker]),y.useEffect(()=>{if(!qk(T,I)){const H=T;r!=null&&r.deviceId&&delete H.facingMode,S(H)}},[r]);const L=y.useMemo(()=>({constraints:I,shouldStream:b&&!i}),[I,b,i]),j=async()=>{const H=x.current;if(H==null)throw new Error("Video should be defined when component is mounted.");const J=g.current;if(J==null)throw new Error("Canvas should be defined when component is mounted.");const oe=J.getContext("2d");if(oe==null)throw new Error("Canvas should be defined when component is mounted.");if(L.shouldStream){await P.stopCamera(),F(!1);try{await P.startCamera(H,L),H?F(!0):await P.stopCamera()}catch(q){p==null||p(q),console.error("error",q)}}else J.width=H.videoWidth,J.height=H.videoHeight,oe.drawImage(H,0,0,H.videoWidth,H.videoHeight),await P.stopCamera(),F(!1)};y.useEffect(()=>{(async()=>await j())()},[L]);const W=y.useMemo(()=>L.shouldStream&&D,[L.shouldStream,D]);return y.useEffect(()=>{if(W){if(g.current===void 0)throw new Error("shouldScan effect should only be triggered when component is mounted. Thus pause frame canvas is defined");if(Yh(g.current),w.current===void 0)throw new Error("shouldScan effect should only be triggered when component is mounted. Thus tracking canvas is defined");if(Yh(w.current),x.current==null)throw new Error("shouldScan effect should only be triggered when component is mounted. Thus video element is defined");k()}},[W]),Y.createElement("div",{style:{...sQ,...c==null?void 0:c.container},className:u==null?void 0:u.container},Y.createElement("video",{ref:x,style:{...iQ,...c==null?void 0:c.video,visibility:i?"hidden":"visible"},className:u==null?void 0:u.video,autoPlay:!0,muted:!0,playsInline:!0}),Y.createElement("canvas",{ref:g,style:{display:i?"block":"none",position:"absolute",width:"100%",height:"100%"}}),Y.createElement("canvas",{ref:w,style:{position:"absolute",width:"100%",height:"100%"}}),Y.createElement("div",{style:{position:"absolute",width:"100%",height:"100%"}},E.finder&&Y.createElement(eQ,{scanning:D,capabilities:P.capabilities,onOff:E.onOff,zoom:E.zoom&&P.settings.zoom?{value:P.settings.zoom,onChange:async H=>{const J={...I,advanced:[{zoom:H}]};await P.updateConstraints(J)}}:void 0,torch:E.torch?{status:(e=P.settings.torch)!==null&&e!==void 0&&e,toggle:async H=>{const J={...I,advanced:[{torch:H}]};await P.updateConstraints(J)}}:void 0,startScanning:async()=>await j(),stopScanning:async()=>{await P.stopCamera(),Yh(w.current),F(!1)}}),a))}const aQ=()=>{var p,v;const[t,e]=y.useState(null),[n,r]=y.useState(null),[s,i]=y.useState(!1),o=Yr(),a=Zs(),{addPurchase:c}=gs();y.useEffect(()=>{pt("page_view",{page:"Scan"})},[]);const u=async x=>{if(!s){i(!0),e(null),r(null);try{if(!Array.isArray(x)||!x[0]||typeof x[0].rawValue!="string")throw new Error("Invalid QR scan result format");const g=x[0].rawValue;pt("scan_qr_attempt",{rawValue:g});let w;try{w=JSON.parse(g)}catch{const F=g.split(":");if(F.length<3||F[0]!=="LOYALTY")throw pt("scan_qr_invalid",{rawValue:g}),new Error("Invalid QR code format");w={userEmail:F[1],userId:F[2],offerId:"default_offer"}}if(!w.userEmail||!w.userId)throw new Error("Invalid QR code data - missing user information");const T=on(Pt,"users",w.userId),E=await aw(rw(xd(Pt,"users"),Nb("email","==",w.userEmail),Nb("id","==",w.userId)));if(E.empty)throw pt("scan_qr_no_user",{email:w.userEmail,uid:w.userId}),new Error("No user found for this QR code");const R=E.docs[0].data();pt("scan_qr_success",{scanned_user:w.userEmail,scanned_uid:w.userId,offer_id:w.offerId}),w.action==="redeem_reward"&&w.rewardId?await K7(null,w.userEmail,w.userId,w.rewardId):await c(w.userEmail,w.userId,w.offerId),r(w.userEmail),e(!0);const D=await zl(T);if(D.exists()){const F=D.data(),I=F.purchases||0;let S="";if(w.action==="redeem_reward")S=`Reward redeemed for ${w.userName}! `,pt("reward_redeemed",{scanned_user:w.userEmail,reward_id:w.rewardId});else if(S=`Stamp added for ${w.offerName||"loyalty program"}!`,S+=` Total purchases: ${I}`,w.offerId&&w.offerId!=="default_offer"){const P=F.currentOfferProgress||0,k=5,O=Math.max(0,k-P);P>=k?(S+=" - Offer completed! ",pt("offer_completed",{scanned_user:w.userEmail,offer_id:w.offerId})):S+=` - ${O} more stamps needed for reward`}else{const P=F.purchaseLimit||5;if(I>=P)S+=" - Reward ready! ",pt("reward_ready",{scanned_user:w.userEmail,scanned_uid:w.userId});else{const k=P-I;S+=` - ${k} more to earn reward`}}lt({title:"Success",description:S})}setTimeout(()=>{o("/dashboard")},1500)}catch(g){console.error("Error processing QR scan:",g);let w="Failed to process loyalty point";g instanceof Error&&(w=g.message),e(!1),lt({title:"Error",description:w,variant:"destructive"}),pt("scan_qr_error",{error:g.message})}finally{i(!1)}}},h=x=>{console.error("Scanner error:",x),e(!1),lt({title:"Scanner Error",description:"Camera error - please check permissions",variant:"destructive"}),pt("scan_qr_scanner_error",{error:String(x)})},f=()=>{e(null),r(null),i(!1)};return l.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-black via-gray-900 to-red-950 relative overflow-hidden",children:[l.jsxs("div",{className:"absolute inset-0 opacity-10",children:[l.jsx("div",{className:"absolute top-20 right-10 w-40 h-40 bg-red-500 rounded-full blur-3xl animate-pulse"}),l.jsx("div",{className:"absolute bottom-32 left-10 w-32 h-32 bg-red-600 rounded-full blur-3xl animate-pulse delay-1000"})]}),l.jsxs("div",{className:"relative z-10 min-h-screen flex flex-col",children:[l.jsx("div",{className:"bg-gray-900/80 backdrop-blur-sm border-b border-red-900/30 sticky top-0 z-10",children:l.jsx("div",{className:"p-6 flex items-center justify-between",children:l.jsxs("div",{className:"flex items-center",children:[l.jsx(Hs,{to:"/dashboard",className:"text-red-400 hover:text-red-300 transition-colors",children:l.jsx(Jl,{className:"w-6 h-6"})}),l.jsx("h1",{className:"ml-4 text-2xl font-bold text-white",children:"Scan Loyalty QR"})]})})}),l.jsx("div",{className:"flex-1 flex flex-col items-center justify-center px-6",children:l.jsxs("div",{className:"w-full max-w-md bg-gray-900/80 backdrop-blur-sm border border-red-900/30 rounded-2xl p-8 shadow-2xl flex flex-col items-center",children:[l.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"Scan a User's QR Code"}),!t&&l.jsxs("div",{className:"relative w-full flex flex-col items-center",children:[l.jsx("div",{style:{width:300,height:300,margin:"20px auto"},children:l.jsx(oQ,{onScan:u,onError:h})}),s&&l.jsx("div",{className:"absolute top-2 left-2 bg-blue-500 text-white text-xs px-2 py-1 rounded-full",children:"Processing..."})]}),t===!0&&l.jsxs("div",{className:"mt-6 p-6 bg-gradient-to-r from-green-900/50 to-emerald-900/50 border border-green-700 rounded-xl text-center shadow-2xl animate-pulse",children:[l.jsx("div",{className:"text-6xl mb-4",children:""}),l.jsx("div",{className:"text-2xl font-bold text-green-400 mb-2",children:"Stamp Added Successfully!"}),l.jsxs("div",{className:"text-lg text-green-300 mb-3",children:[n&&l.jsxs("div",{className:"mb-3",children:[l.jsx("span",{className:"text-green-400 font-semibold",children:n}),l.jsxs("span",{className:"text-green-300",children:[" ","has earned a stamp!"]})]}),((v=(p=a.state)==null?void 0:p.qrData)==null?void 0:v.offerName)&&l.jsxs("div",{className:"text-sm text-green-400 bg-green-900/30 px-3 py-1 rounded-full inline-block mb-2",children:["Offer: ",a.state.qrData.offerName]})]}),l.jsx("div",{className:"mt-4 text-xs text-green-500",children:"Redirecting to dashboard..."})]}),t===!1&&l.jsxs("div",{className:"mt-6 p-6 bg-gradient-to-r from-red-900/50 to-red-800/50 border border-red-700 rounded-xl text-center shadow-2xl",children:[l.jsx("div",{className:"text-6xl mb-4",children:""}),l.jsx("div",{className:"text-2xl font-bold text-red-400 mb-2",children:"Scan Failed"}),l.jsx("div",{className:"text-lg text-red-300 mb-3",children:"There was an error processing the QR code"}),l.jsx("div",{className:"text-sm text-red-400 bg-red-900/30 px-3 py-1 rounded-full inline-block",children:"Please try scanning again"})]}),!t&&l.jsx("div",{className:"mt-6 flex gap-3",children:l.jsx(Ve,{onClick:f,disabled:!t,variant:"outline",className:"border-red-500 text-red-400 hover:bg-red-500/20",children:"Reset Scanner"})})]})})]})]})},lQ=new E9,cQ=()=>l.jsx(C9,{client:lQ,children:l.jsx(XU,{children:l.jsxs(X7,{children:[l.jsx(HB,{}),l.jsx(T8,{}),l.jsx(v7,{children:l.jsxs(d7,{children:[l.jsx(Jr,{path:"/",element:l.jsx(nq,{})}),l.jsx(Jr,{path:"/register",element:l.jsx(SC,{children:l.jsx(iq,{})})}),l.jsx(Jr,{path:"/login",element:l.jsx(SC,{children:l.jsx(oq,{})})}),l.jsx(Jr,{path:"/dashboard",element:l.jsx(Lc,{children:l.jsx(pz,{})})}),l.jsx(Jr,{path:"/rewards",element:l.jsx(Lc,{children:l.jsx(mz,{})})}),l.jsx(Jr,{path:"/settings",element:l.jsx(Lc,{children:l.jsx(gz,{})})}),l.jsx(Jr,{path:"/scan",element:l.jsx(Lc,{children:l.jsx(aQ,{})})}),l.jsx(Jr,{path:"/users",element:l.jsx(Lc,{requiredRole:"admin",children:l.jsx(Xz,{})})}),l.jsx(Jr,{path:"*",element:l.jsx(Zz,{})})]})})]})})});bA(document.getElementById("root")).render(l.jsx(cQ,{}));
