var w1=t=>{throw TypeError(t)};var dg=(t,e,n)=>e.has(t)||w1("Cannot "+n);var X=(t,e,n)=>(dg(t,e,"read from private field"),n?n.call(t):e.get(t)),Xe=(t,e,n)=>e.has(t)?w1("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),De=(t,e,n,r)=>(dg(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),un=(t,e,n)=>(dg(t,e,"access private method"),n);var mh=(t,e,n,r)=>({set _(s){De(t,e,s,n)},get _(){return X(t,e,r)}});function AT(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function b0(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var bT={exports:{}},Lp={},IT={exports:{}},je={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rd=Symbol.for("react.element"),aD=Symbol.for("react.portal"),lD=Symbol.for("react.fragment"),cD=Symbol.for("react.strict_mode"),uD=Symbol.for("react.profiler"),dD=Symbol.for("react.provider"),hD=Symbol.for("react.context"),fD=Symbol.for("react.forward_ref"),pD=Symbol.for("react.suspense"),mD=Symbol.for("react.memo"),gD=Symbol.for("react.lazy"),E1=Symbol.iterator;function yD(t){return t===null||typeof t!="object"?null:(t=E1&&t[E1]||t["@@iterator"],typeof t=="function"?t:null)}var ST={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},RT=Object.assign,PT={};function Yl(t,e,n){this.props=t,this.context=e,this.refs=PT,this.updater=n||ST}Yl.prototype.isReactComponent={};Yl.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Yl.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function NT(){}NT.prototype=Yl.prototype;function I0(t,e,n){this.props=t,this.context=e,this.refs=PT,this.updater=n||ST}var S0=I0.prototype=new NT;S0.constructor=I0;RT(S0,Yl.prototype);S0.isPureReactComponent=!0;var C1=Array.isArray,kT=Object.prototype.hasOwnProperty,R0={current:null},MT={key:!0,ref:!0,__self:!0,__source:!0};function DT(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)kT.call(e,r)&&!MT.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];s.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:rd,type:t,key:i,ref:o,props:s,_owner:R0.current}}function vD(t,e){return{$$typeof:rd,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function P0(t){return typeof t=="object"&&t!==null&&t.$$typeof===rd}function wD(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var x1=/\/+/g;function hg(t,e){return typeof t=="object"&&t!==null&&t.key!=null?wD(""+t.key):e.toString(36)}function Jh(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case rd:case aD:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+hg(o,0):r,C1(s)?(n="",t!=null&&(n=t.replace(x1,"$&/")+"/"),Jh(s,e,n,"",function(c){return c})):s!=null&&(P0(s)&&(s=vD(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(x1,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",C1(t))for(var a=0;a<t.length;a++){i=t[a];var l=r+hg(i,a);o+=Jh(i,e,n,l,s)}else if(l=yD(t),typeof l=="function")for(t=l.call(t),a=0;!(i=t.next()).done;)i=i.value,l=r+hg(i,a++),o+=Jh(i,e,n,l,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function gh(t,e,n){if(t==null)return t;var r=[],s=0;return Jh(t,r,"","",function(i){return e.call(n,i,s++)}),r}function ED(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Pn={current:null},Xh={transition:null},CD={ReactCurrentDispatcher:Pn,ReactCurrentBatchConfig:Xh,ReactCurrentOwner:R0};function OT(){throw Error("act(...) is not supported in production builds of React.")}je.Children={map:gh,forEach:function(t,e,n){gh(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return gh(t,function(){e++}),e},toArray:function(t){return gh(t,function(e){return e})||[]},only:function(t){if(!P0(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};je.Component=Yl;je.Fragment=lD;je.Profiler=uD;je.PureComponent=I0;je.StrictMode=cD;je.Suspense=pD;je.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=CD;je.act=OT;je.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=RT({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=R0.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)kT.call(e,l)&&!MT.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:rd,type:t.type,key:s,ref:i,props:r,_owner:o}};je.createContext=function(t){return t={$$typeof:hD,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:dD,_context:t},t.Consumer=t};je.createElement=DT;je.createFactory=function(t){var e=DT.bind(null,t);return e.type=t,e};je.createRef=function(){return{current:null}};je.forwardRef=function(t){return{$$typeof:fD,render:t}};je.isValidElement=P0;je.lazy=function(t){return{$$typeof:gD,_payload:{_status:-1,_result:t},_init:ED}};je.memo=function(t,e){return{$$typeof:mD,type:t,compare:e===void 0?null:e}};je.startTransition=function(t){var e=Xh.transition;Xh.transition={};try{t()}finally{Xh.transition=e}};je.unstable_act=OT;je.useCallback=function(t,e){return Pn.current.useCallback(t,e)};je.useContext=function(t){return Pn.current.useContext(t)};je.useDebugValue=function(){};je.useDeferredValue=function(t){return Pn.current.useDeferredValue(t)};je.useEffect=function(t,e){return Pn.current.useEffect(t,e)};je.useId=function(){return Pn.current.useId()};je.useImperativeHandle=function(t,e,n){return Pn.current.useImperativeHandle(t,e,n)};je.useInsertionEffect=function(t,e){return Pn.current.useInsertionEffect(t,e)};je.useLayoutEffect=function(t,e){return Pn.current.useLayoutEffect(t,e)};je.useMemo=function(t,e){return Pn.current.useMemo(t,e)};je.useReducer=function(t,e,n){return Pn.current.useReducer(t,e,n)};je.useRef=function(t){return Pn.current.useRef(t)};je.useState=function(t){return Pn.current.useState(t)};je.useSyncExternalStore=function(t,e,n){return Pn.current.useSyncExternalStore(t,e,n)};je.useTransition=function(){return Pn.current.useTransition()};je.version="18.3.1";IT.exports=je;var g=IT.exports;const Y=b0(g),LT=AT({__proto__:null,default:Y},[g]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xD=g,_D=Symbol.for("react.element"),TD=Symbol.for("react.fragment"),AD=Object.prototype.hasOwnProperty,bD=xD.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,ID={key:!0,ref:!0,__self:!0,__source:!0};function VT(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)AD.call(e,r)&&!ID.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:_D,type:t,key:i,ref:o,props:s,_owner:bD.current}}Lp.Fragment=TD;Lp.jsx=VT;Lp.jsxs=VT;bT.exports=Lp;var p=bT.exports,FT={exports:{}},rr={},jT={exports:{}},BT={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(q,W){var ie=q.length;q.push(W);e:for(;0<ie;){var ee=ie-1>>>1,ae=q[ee];if(0<s(ae,W))q[ee]=W,q[ie]=ae,ie=ee;else break e}}function n(q){return q.length===0?null:q[0]}function r(q){if(q.length===0)return null;var W=q[0],ie=q.pop();if(ie!==W){q[0]=ie;e:for(var ee=0,ae=q.length,ce=ae>>>1;ee<ce;){var Re=2*(ee+1)-1,ke=q[Re],Ee=Re+1,te=q[Ee];if(0>s(ke,ie))Ee<ae&&0>s(te,ke)?(q[ee]=te,q[Ee]=ie,ee=Ee):(q[ee]=ke,q[Re]=ie,ee=Re);else if(Ee<ae&&0>s(te,ie))q[ee]=te,q[Ee]=ie,ee=Ee;else break e}}return W}function s(q,W){var ie=q.sortIndex-W.sortIndex;return ie!==0?ie:q.id-W.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],d=1,f=null,h=3,v=!1,E=!1,y=!1,b=typeof setTimeout=="function"?setTimeout:null,C=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(q){for(var W=n(c);W!==null;){if(W.callback===null)r(c);else if(W.startTime<=q)r(c),W.sortIndex=W.expirationTime,e(l,W);else break;W=n(c)}}function R(q){if(y=!1,_(q),!E)if(n(l)!==null)E=!0,ne(O);else{var W=n(c);W!==null&&pe(R,W.startTime-q)}}function O(q,W){E=!1,y&&(y=!1,C(I),I=-1),v=!0;var ie=h;try{for(_(W),f=n(l);f!==null&&(!(f.expirationTime>W)||q&&!V());){var ee=f.callback;if(typeof ee=="function"){f.callback=null,h=f.priorityLevel;var ae=ee(f.expirationTime<=W);W=t.unstable_now(),typeof ae=="function"?f.callback=ae:f===n(l)&&r(l),_(W)}else r(l);f=n(l)}if(f!==null)var ce=!0;else{var Re=n(c);Re!==null&&pe(R,Re.startTime-W),ce=!1}return ce}finally{f=null,h=ie,v=!1}}var j=!1,S=null,I=-1,k=5,M=-1;function V(){return!(t.unstable_now()-M<k)}function F(){if(S!==null){var q=t.unstable_now();M=q;var W=!0;try{W=S(!0,q)}finally{W?D():(j=!1,S=null)}}else j=!1}var D;if(typeof w=="function")D=function(){w(F)};else if(typeof MessageChannel<"u"){var re=new MessageChannel,se=re.port2;re.port1.onmessage=F,D=function(){se.postMessage(null)}}else D=function(){b(F,0)};function ne(q){S=q,j||(j=!0,D())}function pe(q,W){I=b(function(){q(t.unstable_now())},W)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(q){q.callback=null},t.unstable_continueExecution=function(){E||v||(E=!0,ne(O))},t.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<q?Math.floor(1e3/q):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(q){switch(h){case 1:case 2:case 3:var W=3;break;default:W=h}var ie=h;h=W;try{return q()}finally{h=ie}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(q,W){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var ie=h;h=q;try{return W()}finally{h=ie}},t.unstable_scheduleCallback=function(q,W,ie){var ee=t.unstable_now();switch(typeof ie=="object"&&ie!==null?(ie=ie.delay,ie=typeof ie=="number"&&0<ie?ee+ie:ee):ie=ee,q){case 1:var ae=-1;break;case 2:ae=250;break;case 5:ae=1073741823;break;case 4:ae=1e4;break;default:ae=5e3}return ae=ie+ae,q={id:d++,callback:W,priorityLevel:q,startTime:ie,expirationTime:ae,sortIndex:-1},ie>ee?(q.sortIndex=ie,e(c,q),n(l)===null&&q===n(c)&&(y?(C(I),I=-1):y=!0,pe(R,ie-ee))):(q.sortIndex=ae,e(l,q),E||v||(E=!0,ne(O))),q},t.unstable_shouldYield=V,t.unstable_wrapCallback=function(q){var W=h;return function(){var ie=h;h=W;try{return q.apply(this,arguments)}finally{h=ie}}}})(BT);jT.exports=BT;var SD=jT.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var RD=g,nr=SD;function oe(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var UT=new Set,gu={};function da(t,e){Rl(t,e),Rl(t+"Capture",e)}function Rl(t,e){for(gu[t]=e,t=0;t<e.length;t++)UT.add(e[t])}var Vs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),vy=Object.prototype.hasOwnProperty,PD=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,_1={},T1={};function ND(t){return vy.call(T1,t)?!0:vy.call(_1,t)?!1:PD.test(t)?T1[t]=!0:(_1[t]=!0,!1)}function kD(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function MD(t,e,n,r){if(e===null||typeof e>"u"||kD(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Nn(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var nn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){nn[t]=new Nn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];nn[e]=new Nn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){nn[t]=new Nn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){nn[t]=new Nn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){nn[t]=new Nn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){nn[t]=new Nn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){nn[t]=new Nn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){nn[t]=new Nn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){nn[t]=new Nn(t,5,!1,t.toLowerCase(),null,!1,!1)});var N0=/[\-:]([a-z])/g;function k0(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(N0,k0);nn[e]=new Nn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(N0,k0);nn[e]=new Nn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(N0,k0);nn[e]=new Nn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){nn[t]=new Nn(t,1,!1,t.toLowerCase(),null,!1,!1)});nn.xlinkHref=new Nn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){nn[t]=new Nn(t,1,!1,t.toLowerCase(),null,!0,!0)});function M0(t,e,n,r){var s=nn.hasOwnProperty(e)?nn[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(MD(e,n,s,r)&&(n=null),r||s===null?ND(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Ys=RD.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,yh=Symbol.for("react.element"),Ka=Symbol.for("react.portal"),Ya=Symbol.for("react.fragment"),D0=Symbol.for("react.strict_mode"),wy=Symbol.for("react.profiler"),qT=Symbol.for("react.provider"),GT=Symbol.for("react.context"),O0=Symbol.for("react.forward_ref"),Ey=Symbol.for("react.suspense"),Cy=Symbol.for("react.suspense_list"),L0=Symbol.for("react.memo"),pi=Symbol.for("react.lazy"),$T=Symbol.for("react.offscreen"),A1=Symbol.iterator;function Ic(t){return t===null||typeof t!="object"?null:(t=A1&&t[A1]||t["@@iterator"],typeof t=="function"?t:null)}var Ct=Object.assign,fg;function Fc(t){if(fg===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);fg=e&&e[1]||""}return`
`+fg+t}var pg=!1;function mg(t,e){if(!t||pg)return"";pg=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{pg=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Fc(t):""}function DD(t){switch(t.tag){case 5:return Fc(t.type);case 16:return Fc("Lazy");case 13:return Fc("Suspense");case 19:return Fc("SuspenseList");case 0:case 2:case 15:return t=mg(t.type,!1),t;case 11:return t=mg(t.type.render,!1),t;case 1:return t=mg(t.type,!0),t;default:return""}}function xy(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Ya:return"Fragment";case Ka:return"Portal";case wy:return"Profiler";case D0:return"StrictMode";case Ey:return"Suspense";case Cy:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case GT:return(t.displayName||"Context")+".Consumer";case qT:return(t._context.displayName||"Context")+".Provider";case O0:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case L0:return e=t.displayName||null,e!==null?e:xy(t.type)||"Memo";case pi:e=t._payload,t=t._init;try{return xy(t(e))}catch{}}return null}function OD(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return xy(e);case 8:return e===D0?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Ki(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function zT(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function LD(t){var e=zT(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function vh(t){t._valueTracker||(t._valueTracker=LD(t))}function WT(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=zT(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Mf(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function _y(t,e){var n=e.checked;return Ct({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function b1(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Ki(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function KT(t,e){e=e.checked,e!=null&&M0(t,"checked",e,!1)}function Ty(t,e){KT(t,e);var n=Ki(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Ay(t,e.type,n):e.hasOwnProperty("defaultValue")&&Ay(t,e.type,Ki(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function I1(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Ay(t,e,n){(e!=="number"||Mf(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var jc=Array.isArray;function ol(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Ki(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function by(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(oe(91));return Ct({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function S1(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(oe(92));if(jc(n)){if(1<n.length)throw Error(oe(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Ki(n)}}function YT(t,e){var n=Ki(e.value),r=Ki(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function R1(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function QT(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Iy(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?QT(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var wh,HT=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(wh=wh||document.createElement("div"),wh.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=wh.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function yu(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Xc={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},VD=["Webkit","ms","Moz","O"];Object.keys(Xc).forEach(function(t){VD.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Xc[e]=Xc[t]})});function JT(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Xc.hasOwnProperty(t)&&Xc[t]?(""+e).trim():e+"px"}function XT(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=JT(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var FD=Ct({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Sy(t,e){if(e){if(FD[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(oe(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(oe(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(oe(61))}if(e.style!=null&&typeof e.style!="object")throw Error(oe(62))}}function Ry(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Py=null;function V0(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ny=null,al=null,ll=null;function P1(t){if(t=od(t)){if(typeof Ny!="function")throw Error(oe(280));var e=t.stateNode;e&&(e=Up(e),Ny(t.stateNode,t.type,e))}}function ZT(t){al?ll?ll.push(t):ll=[t]:al=t}function eA(){if(al){var t=al,e=ll;if(ll=al=null,P1(t),e)for(t=0;t<e.length;t++)P1(e[t])}}function tA(t,e){return t(e)}function nA(){}var gg=!1;function rA(t,e,n){if(gg)return t(e,n);gg=!0;try{return tA(t,e,n)}finally{gg=!1,(al!==null||ll!==null)&&(nA(),eA())}}function vu(t,e){var n=t.stateNode;if(n===null)return null;var r=Up(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(oe(231,e,typeof n));return n}var ky=!1;if(Vs)try{var Sc={};Object.defineProperty(Sc,"passive",{get:function(){ky=!0}}),window.addEventListener("test",Sc,Sc),window.removeEventListener("test",Sc,Sc)}catch{ky=!1}function jD(t,e,n,r,s,i,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(d){this.onError(d)}}var Zc=!1,Df=null,Of=!1,My=null,BD={onError:function(t){Zc=!0,Df=t}};function UD(t,e,n,r,s,i,o,a,l){Zc=!1,Df=null,jD.apply(BD,arguments)}function qD(t,e,n,r,s,i,o,a,l){if(UD.apply(this,arguments),Zc){if(Zc){var c=Df;Zc=!1,Df=null}else throw Error(oe(198));Of||(Of=!0,My=c)}}function ha(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function sA(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function N1(t){if(ha(t)!==t)throw Error(oe(188))}function GD(t){var e=t.alternate;if(!e){if(e=ha(t),e===null)throw Error(oe(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return N1(s),t;if(i===r)return N1(s),e;i=i.sibling}throw Error(oe(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(oe(189))}}if(n.alternate!==r)throw Error(oe(190))}if(n.tag!==3)throw Error(oe(188));return n.stateNode.current===n?t:e}function iA(t){return t=GD(t),t!==null?oA(t):null}function oA(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=oA(t);if(e!==null)return e;t=t.sibling}return null}var aA=nr.unstable_scheduleCallback,k1=nr.unstable_cancelCallback,$D=nr.unstable_shouldYield,zD=nr.unstable_requestPaint,St=nr.unstable_now,WD=nr.unstable_getCurrentPriorityLevel,F0=nr.unstable_ImmediatePriority,lA=nr.unstable_UserBlockingPriority,Lf=nr.unstable_NormalPriority,KD=nr.unstable_LowPriority,cA=nr.unstable_IdlePriority,Vp=null,es=null;function YD(t){if(es&&typeof es.onCommitFiberRoot=="function")try{es.onCommitFiberRoot(Vp,t,void 0,(t.current.flags&128)===128)}catch{}}var Lr=Math.clz32?Math.clz32:JD,QD=Math.log,HD=Math.LN2;function JD(t){return t>>>=0,t===0?32:31-(QD(t)/HD|0)|0}var Eh=64,Ch=4194304;function Bc(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Vf(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=Bc(a):(i&=o,i!==0&&(r=Bc(i)))}else o=n&~s,o!==0?r=Bc(o):i!==0&&(r=Bc(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Lr(e),s=1<<n,r|=t[n],e&=~s;return r}function XD(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ZD(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-Lr(i),a=1<<o,l=s[o];l===-1?(!(a&n)||a&r)&&(s[o]=XD(a,e)):l<=e&&(t.expiredLanes|=a),i&=~a}}function Dy(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function uA(){var t=Eh;return Eh<<=1,!(Eh&4194240)&&(Eh=64),t}function yg(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function sd(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Lr(e),t[e]=n}function e4(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-Lr(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function j0(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Lr(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var tt=0;function dA(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var hA,B0,fA,pA,mA,Oy=!1,xh=[],Mi=null,Di=null,Oi=null,wu=new Map,Eu=new Map,yi=[],t4="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function M1(t,e){switch(t){case"focusin":case"focusout":Mi=null;break;case"dragenter":case"dragleave":Di=null;break;case"mouseover":case"mouseout":Oi=null;break;case"pointerover":case"pointerout":wu.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Eu.delete(e.pointerId)}}function Rc(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=od(e),e!==null&&B0(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function n4(t,e,n,r,s){switch(e){case"focusin":return Mi=Rc(Mi,t,e,n,r,s),!0;case"dragenter":return Di=Rc(Di,t,e,n,r,s),!0;case"mouseover":return Oi=Rc(Oi,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return wu.set(i,Rc(wu.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Eu.set(i,Rc(Eu.get(i)||null,t,e,n,r,s)),!0}return!1}function gA(t){var e=Oo(t.target);if(e!==null){var n=ha(e);if(n!==null){if(e=n.tag,e===13){if(e=sA(n),e!==null){t.blockedOn=e,mA(t.priority,function(){fA(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Zh(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Ly(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Py=r,n.target.dispatchEvent(r),Py=null}else return e=od(n),e!==null&&B0(e),t.blockedOn=n,!1;e.shift()}return!0}function D1(t,e,n){Zh(t)&&n.delete(e)}function r4(){Oy=!1,Mi!==null&&Zh(Mi)&&(Mi=null),Di!==null&&Zh(Di)&&(Di=null),Oi!==null&&Zh(Oi)&&(Oi=null),wu.forEach(D1),Eu.forEach(D1)}function Pc(t,e){t.blockedOn===e&&(t.blockedOn=null,Oy||(Oy=!0,nr.unstable_scheduleCallback(nr.unstable_NormalPriority,r4)))}function Cu(t){function e(s){return Pc(s,t)}if(0<xh.length){Pc(xh[0],t);for(var n=1;n<xh.length;n++){var r=xh[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Mi!==null&&Pc(Mi,t),Di!==null&&Pc(Di,t),Oi!==null&&Pc(Oi,t),wu.forEach(e),Eu.forEach(e),n=0;n<yi.length;n++)r=yi[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<yi.length&&(n=yi[0],n.blockedOn===null);)gA(n),n.blockedOn===null&&yi.shift()}var cl=Ys.ReactCurrentBatchConfig,Ff=!0;function s4(t,e,n,r){var s=tt,i=cl.transition;cl.transition=null;try{tt=1,U0(t,e,n,r)}finally{tt=s,cl.transition=i}}function i4(t,e,n,r){var s=tt,i=cl.transition;cl.transition=null;try{tt=4,U0(t,e,n,r)}finally{tt=s,cl.transition=i}}function U0(t,e,n,r){if(Ff){var s=Ly(t,e,n,r);if(s===null)Ig(t,e,r,jf,n),M1(t,r);else if(n4(s,t,e,n,r))r.stopPropagation();else if(M1(t,r),e&4&&-1<t4.indexOf(t)){for(;s!==null;){var i=od(s);if(i!==null&&hA(i),i=Ly(t,e,n,r),i===null&&Ig(t,e,r,jf,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else Ig(t,e,r,null,n)}}var jf=null;function Ly(t,e,n,r){if(jf=null,t=V0(r),t=Oo(t),t!==null)if(e=ha(t),e===null)t=null;else if(n=e.tag,n===13){if(t=sA(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return jf=t,null}function yA(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(WD()){case F0:return 1;case lA:return 4;case Lf:case KD:return 16;case cA:return 536870912;default:return 16}default:return 16}}var Si=null,q0=null,ef=null;function vA(){if(ef)return ef;var t,e=q0,n=e.length,r,s="value"in Si?Si.value:Si.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return ef=s.slice(t,1<r?1-r:void 0)}function tf(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function _h(){return!0}function O1(){return!1}function sr(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?_h:O1,this.isPropagationStopped=O1,this}return Ct(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=_h)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=_h)},persist:function(){},isPersistent:_h}),e}var Ql={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},G0=sr(Ql),id=Ct({},Ql,{view:0,detail:0}),o4=sr(id),vg,wg,Nc,Fp=Ct({},id,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:$0,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Nc&&(Nc&&t.type==="mousemove"?(vg=t.screenX-Nc.screenX,wg=t.screenY-Nc.screenY):wg=vg=0,Nc=t),vg)},movementY:function(t){return"movementY"in t?t.movementY:wg}}),L1=sr(Fp),a4=Ct({},Fp,{dataTransfer:0}),l4=sr(a4),c4=Ct({},id,{relatedTarget:0}),Eg=sr(c4),u4=Ct({},Ql,{animationName:0,elapsedTime:0,pseudoElement:0}),d4=sr(u4),h4=Ct({},Ql,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),f4=sr(h4),p4=Ct({},Ql,{data:0}),V1=sr(p4),m4={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},g4={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},y4={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function v4(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=y4[t])?!!e[t]:!1}function $0(){return v4}var w4=Ct({},id,{key:function(t){if(t.key){var e=m4[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=tf(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?g4[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:$0,charCode:function(t){return t.type==="keypress"?tf(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?tf(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),E4=sr(w4),C4=Ct({},Fp,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),F1=sr(C4),x4=Ct({},id,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:$0}),_4=sr(x4),T4=Ct({},Ql,{propertyName:0,elapsedTime:0,pseudoElement:0}),A4=sr(T4),b4=Ct({},Fp,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),I4=sr(b4),S4=[9,13,27,32],z0=Vs&&"CompositionEvent"in window,eu=null;Vs&&"documentMode"in document&&(eu=document.documentMode);var R4=Vs&&"TextEvent"in window&&!eu,wA=Vs&&(!z0||eu&&8<eu&&11>=eu),j1=" ",B1=!1;function EA(t,e){switch(t){case"keyup":return S4.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function CA(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Qa=!1;function P4(t,e){switch(t){case"compositionend":return CA(e);case"keypress":return e.which!==32?null:(B1=!0,j1);case"textInput":return t=e.data,t===j1&&B1?null:t;default:return null}}function N4(t,e){if(Qa)return t==="compositionend"||!z0&&EA(t,e)?(t=vA(),ef=q0=Si=null,Qa=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return wA&&e.locale!=="ko"?null:e.data;default:return null}}var k4={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function U1(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!k4[t.type]:e==="textarea"}function xA(t,e,n,r){ZT(r),e=Bf(e,"onChange"),0<e.length&&(n=new G0("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var tu=null,xu=null;function M4(t){MA(t,0)}function jp(t){var e=Xa(t);if(WT(e))return t}function D4(t,e){if(t==="change")return e}var _A=!1;if(Vs){var Cg;if(Vs){var xg="oninput"in document;if(!xg){var q1=document.createElement("div");q1.setAttribute("oninput","return;"),xg=typeof q1.oninput=="function"}Cg=xg}else Cg=!1;_A=Cg&&(!document.documentMode||9<document.documentMode)}function G1(){tu&&(tu.detachEvent("onpropertychange",TA),xu=tu=null)}function TA(t){if(t.propertyName==="value"&&jp(xu)){var e=[];xA(e,xu,t,V0(t)),rA(M4,e)}}function O4(t,e,n){t==="focusin"?(G1(),tu=e,xu=n,tu.attachEvent("onpropertychange",TA)):t==="focusout"&&G1()}function L4(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return jp(xu)}function V4(t,e){if(t==="click")return jp(e)}function F4(t,e){if(t==="input"||t==="change")return jp(e)}function j4(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var jr=typeof Object.is=="function"?Object.is:j4;function _u(t,e){if(jr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!vy.call(e,s)||!jr(t[s],e[s]))return!1}return!0}function $1(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function z1(t,e){var n=$1(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=$1(n)}}function AA(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?AA(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function bA(){for(var t=window,e=Mf();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Mf(t.document)}return e}function W0(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function B4(t){var e=bA(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&AA(n.ownerDocument.documentElement,n)){if(r!==null&&W0(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=z1(n,i);var o=z1(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var U4=Vs&&"documentMode"in document&&11>=document.documentMode,Ha=null,Vy=null,nu=null,Fy=!1;function W1(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Fy||Ha==null||Ha!==Mf(r)||(r=Ha,"selectionStart"in r&&W0(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),nu&&_u(nu,r)||(nu=r,r=Bf(Vy,"onSelect"),0<r.length&&(e=new G0("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Ha)))}function Th(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Ja={animationend:Th("Animation","AnimationEnd"),animationiteration:Th("Animation","AnimationIteration"),animationstart:Th("Animation","AnimationStart"),transitionend:Th("Transition","TransitionEnd")},_g={},IA={};Vs&&(IA=document.createElement("div").style,"AnimationEvent"in window||(delete Ja.animationend.animation,delete Ja.animationiteration.animation,delete Ja.animationstart.animation),"TransitionEvent"in window||delete Ja.transitionend.transition);function Bp(t){if(_g[t])return _g[t];if(!Ja[t])return t;var e=Ja[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in IA)return _g[t]=e[n];return t}var SA=Bp("animationend"),RA=Bp("animationiteration"),PA=Bp("animationstart"),NA=Bp("transitionend"),kA=new Map,K1="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ao(t,e){kA.set(t,e),da(e,[t])}for(var Tg=0;Tg<K1.length;Tg++){var Ag=K1[Tg],q4=Ag.toLowerCase(),G4=Ag[0].toUpperCase()+Ag.slice(1);ao(q4,"on"+G4)}ao(SA,"onAnimationEnd");ao(RA,"onAnimationIteration");ao(PA,"onAnimationStart");ao("dblclick","onDoubleClick");ao("focusin","onFocus");ao("focusout","onBlur");ao(NA,"onTransitionEnd");Rl("onMouseEnter",["mouseout","mouseover"]);Rl("onMouseLeave",["mouseout","mouseover"]);Rl("onPointerEnter",["pointerout","pointerover"]);Rl("onPointerLeave",["pointerout","pointerover"]);da("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));da("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));da("onBeforeInput",["compositionend","keypress","textInput","paste"]);da("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));da("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));da("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Uc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),$4=new Set("cancel close invalid load scroll toggle".split(" ").concat(Uc));function Y1(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,qD(r,e,void 0,t),t.currentTarget=null}function MA(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;Y1(s,a,c),i=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;Y1(s,a,c),i=l}}}if(Of)throw t=My,Of=!1,My=null,t}function ut(t,e){var n=e[Gy];n===void 0&&(n=e[Gy]=new Set);var r=t+"__bubble";n.has(r)||(DA(e,t,2,!1),n.add(r))}function bg(t,e,n){var r=0;e&&(r|=4),DA(n,t,r,e)}var Ah="_reactListening"+Math.random().toString(36).slice(2);function Tu(t){if(!t[Ah]){t[Ah]=!0,UT.forEach(function(n){n!=="selectionchange"&&($4.has(n)||bg(n,!1,t),bg(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Ah]||(e[Ah]=!0,bg("selectionchange",!1,e))}}function DA(t,e,n,r){switch(yA(e)){case 1:var s=s4;break;case 4:s=i4;break;default:s=U0}n=s.bind(null,e,n,t),s=void 0,!ky||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function Ig(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=Oo(a),o===null)return;if(l=o.tag,l===5||l===6){r=i=o;continue e}a=a.parentNode}}r=r.return}rA(function(){var c=i,d=V0(n),f=[];e:{var h=kA.get(t);if(h!==void 0){var v=G0,E=t;switch(t){case"keypress":if(tf(n)===0)break e;case"keydown":case"keyup":v=E4;break;case"focusin":E="focus",v=Eg;break;case"focusout":E="blur",v=Eg;break;case"beforeblur":case"afterblur":v=Eg;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=L1;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=l4;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=_4;break;case SA:case RA:case PA:v=d4;break;case NA:v=A4;break;case"scroll":v=o4;break;case"wheel":v=I4;break;case"copy":case"cut":case"paste":v=f4;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=F1}var y=(e&4)!==0,b=!y&&t==="scroll",C=y?h!==null?h+"Capture":null:h;y=[];for(var w=c,_;w!==null;){_=w;var R=_.stateNode;if(_.tag===5&&R!==null&&(_=R,C!==null&&(R=vu(w,C),R!=null&&y.push(Au(w,R,_)))),b)break;w=w.return}0<y.length&&(h=new v(h,E,null,n,d),f.push({event:h,listeners:y}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",v=t==="mouseout"||t==="pointerout",h&&n!==Py&&(E=n.relatedTarget||n.fromElement)&&(Oo(E)||E[Fs]))break e;if((v||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,v?(E=n.relatedTarget||n.toElement,v=c,E=E?Oo(E):null,E!==null&&(b=ha(E),E!==b||E.tag!==5&&E.tag!==6)&&(E=null)):(v=null,E=c),v!==E)){if(y=L1,R="onMouseLeave",C="onMouseEnter",w="mouse",(t==="pointerout"||t==="pointerover")&&(y=F1,R="onPointerLeave",C="onPointerEnter",w="pointer"),b=v==null?h:Xa(v),_=E==null?h:Xa(E),h=new y(R,w+"leave",v,n,d),h.target=b,h.relatedTarget=_,R=null,Oo(d)===c&&(y=new y(C,w+"enter",E,n,d),y.target=_,y.relatedTarget=b,R=y),b=R,v&&E)t:{for(y=v,C=E,w=0,_=y;_;_=ja(_))w++;for(_=0,R=C;R;R=ja(R))_++;for(;0<w-_;)y=ja(y),w--;for(;0<_-w;)C=ja(C),_--;for(;w--;){if(y===C||C!==null&&y===C.alternate)break t;y=ja(y),C=ja(C)}y=null}else y=null;v!==null&&Q1(f,h,v,y,!1),E!==null&&b!==null&&Q1(f,b,E,y,!0)}}e:{if(h=c?Xa(c):window,v=h.nodeName&&h.nodeName.toLowerCase(),v==="select"||v==="input"&&h.type==="file")var O=D4;else if(U1(h))if(_A)O=F4;else{O=L4;var j=O4}else(v=h.nodeName)&&v.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(O=V4);if(O&&(O=O(t,c))){xA(f,O,n,d);break e}j&&j(t,h,c),t==="focusout"&&(j=h._wrapperState)&&j.controlled&&h.type==="number"&&Ay(h,"number",h.value)}switch(j=c?Xa(c):window,t){case"focusin":(U1(j)||j.contentEditable==="true")&&(Ha=j,Vy=c,nu=null);break;case"focusout":nu=Vy=Ha=null;break;case"mousedown":Fy=!0;break;case"contextmenu":case"mouseup":case"dragend":Fy=!1,W1(f,n,d);break;case"selectionchange":if(U4)break;case"keydown":case"keyup":W1(f,n,d)}var S;if(z0)e:{switch(t){case"compositionstart":var I="onCompositionStart";break e;case"compositionend":I="onCompositionEnd";break e;case"compositionupdate":I="onCompositionUpdate";break e}I=void 0}else Qa?EA(t,n)&&(I="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(I="onCompositionStart");I&&(wA&&n.locale!=="ko"&&(Qa||I!=="onCompositionStart"?I==="onCompositionEnd"&&Qa&&(S=vA()):(Si=d,q0="value"in Si?Si.value:Si.textContent,Qa=!0)),j=Bf(c,I),0<j.length&&(I=new V1(I,t,null,n,d),f.push({event:I,listeners:j}),S?I.data=S:(S=CA(n),S!==null&&(I.data=S)))),(S=R4?P4(t,n):N4(t,n))&&(c=Bf(c,"onBeforeInput"),0<c.length&&(d=new V1("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:c}),d.data=S))}MA(f,e)})}function Au(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Bf(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=vu(t,n),i!=null&&r.unshift(Au(t,i,s)),i=vu(t,e),i!=null&&r.push(Au(t,i,s))),t=t.return}return r}function ja(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Q1(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,s?(l=vu(n,i),l!=null&&o.unshift(Au(n,l,a))):s||(l=vu(n,i),l!=null&&o.push(Au(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var z4=/\r\n?/g,W4=/\u0000|\uFFFD/g;function H1(t){return(typeof t=="string"?t:""+t).replace(z4,`
`).replace(W4,"")}function bh(t,e,n){if(e=H1(e),H1(t)!==e&&n)throw Error(oe(425))}function Uf(){}var jy=null,By=null;function Uy(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var qy=typeof setTimeout=="function"?setTimeout:void 0,K4=typeof clearTimeout=="function"?clearTimeout:void 0,J1=typeof Promise=="function"?Promise:void 0,Y4=typeof queueMicrotask=="function"?queueMicrotask:typeof J1<"u"?function(t){return J1.resolve(null).then(t).catch(Q4)}:qy;function Q4(t){setTimeout(function(){throw t})}function Sg(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),Cu(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Cu(e)}function Li(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function X1(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Hl=Math.random().toString(36).slice(2),Xr="__reactFiber$"+Hl,bu="__reactProps$"+Hl,Fs="__reactContainer$"+Hl,Gy="__reactEvents$"+Hl,H4="__reactListeners$"+Hl,J4="__reactHandles$"+Hl;function Oo(t){var e=t[Xr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Fs]||n[Xr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=X1(t);t!==null;){if(n=t[Xr])return n;t=X1(t)}return e}t=n,n=t.parentNode}return null}function od(t){return t=t[Xr]||t[Fs],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Xa(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(oe(33))}function Up(t){return t[bu]||null}var $y=[],Za=-1;function lo(t){return{current:t}}function dt(t){0>Za||(t.current=$y[Za],$y[Za]=null,Za--)}function at(t,e){Za++,$y[Za]=t.current,t.current=e}var Yi={},vn=lo(Yi),Fn=lo(!1),Ho=Yi;function Pl(t,e){var n=t.type.contextTypes;if(!n)return Yi;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function jn(t){return t=t.childContextTypes,t!=null}function qf(){dt(Fn),dt(vn)}function Z1(t,e,n){if(vn.current!==Yi)throw Error(oe(168));at(vn,e),at(Fn,n)}function OA(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(oe(108,OD(t)||"Unknown",s));return Ct({},n,r)}function Gf(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Yi,Ho=vn.current,at(vn,t),at(Fn,Fn.current),!0}function eC(t,e,n){var r=t.stateNode;if(!r)throw Error(oe(169));n?(t=OA(t,e,Ho),r.__reactInternalMemoizedMergedChildContext=t,dt(Fn),dt(vn),at(vn,t)):dt(Fn),at(Fn,n)}var Ss=null,qp=!1,Rg=!1;function LA(t){Ss===null?Ss=[t]:Ss.push(t)}function X4(t){qp=!0,LA(t)}function co(){if(!Rg&&Ss!==null){Rg=!0;var t=0,e=tt;try{var n=Ss;for(tt=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Ss=null,qp=!1}catch(s){throw Ss!==null&&(Ss=Ss.slice(t+1)),aA(F0,co),s}finally{tt=e,Rg=!1}}return null}var el=[],tl=0,$f=null,zf=0,dr=[],hr=0,Jo=null,Rs=1,Ps="";function ko(t,e){el[tl++]=zf,el[tl++]=$f,$f=t,zf=e}function VA(t,e,n){dr[hr++]=Rs,dr[hr++]=Ps,dr[hr++]=Jo,Jo=t;var r=Rs;t=Ps;var s=32-Lr(r)-1;r&=~(1<<s),n+=1;var i=32-Lr(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,Rs=1<<32-Lr(e)+s|n<<s|r,Ps=i+t}else Rs=1<<i|n<<s|r,Ps=t}function K0(t){t.return!==null&&(ko(t,1),VA(t,1,0))}function Y0(t){for(;t===$f;)$f=el[--tl],el[tl]=null,zf=el[--tl],el[tl]=null;for(;t===Jo;)Jo=dr[--hr],dr[hr]=null,Ps=dr[--hr],dr[hr]=null,Rs=dr[--hr],dr[hr]=null}var Zn=null,Jn=null,vt=!1,Dr=null;function FA(t,e){var n=mr(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function tC(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Zn=t,Jn=Li(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Zn=t,Jn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Jo!==null?{id:Rs,overflow:Ps}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=mr(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Zn=t,Jn=null,!0):!1;default:return!1}}function zy(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Wy(t){if(vt){var e=Jn;if(e){var n=e;if(!tC(t,e)){if(zy(t))throw Error(oe(418));e=Li(n.nextSibling);var r=Zn;e&&tC(t,e)?FA(r,n):(t.flags=t.flags&-4097|2,vt=!1,Zn=t)}}else{if(zy(t))throw Error(oe(418));t.flags=t.flags&-4097|2,vt=!1,Zn=t}}}function nC(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Zn=t}function Ih(t){if(t!==Zn)return!1;if(!vt)return nC(t),vt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Uy(t.type,t.memoizedProps)),e&&(e=Jn)){if(zy(t))throw jA(),Error(oe(418));for(;e;)FA(t,e),e=Li(e.nextSibling)}if(nC(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(oe(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Jn=Li(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Jn=null}}else Jn=Zn?Li(t.stateNode.nextSibling):null;return!0}function jA(){for(var t=Jn;t;)t=Li(t.nextSibling)}function Nl(){Jn=Zn=null,vt=!1}function Q0(t){Dr===null?Dr=[t]:Dr.push(t)}var Z4=Ys.ReactCurrentBatchConfig;function kc(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(oe(309));var r=n.stateNode}if(!r)throw Error(oe(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(oe(284));if(!n._owner)throw Error(oe(290,t))}return t}function Sh(t,e){throw t=Object.prototype.toString.call(e),Error(oe(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function rC(t){var e=t._init;return e(t._payload)}function BA(t){function e(C,w){if(t){var _=C.deletions;_===null?(C.deletions=[w],C.flags|=16):_.push(w)}}function n(C,w){if(!t)return null;for(;w!==null;)e(C,w),w=w.sibling;return null}function r(C,w){for(C=new Map;w!==null;)w.key!==null?C.set(w.key,w):C.set(w.index,w),w=w.sibling;return C}function s(C,w){return C=Bi(C,w),C.index=0,C.sibling=null,C}function i(C,w,_){return C.index=_,t?(_=C.alternate,_!==null?(_=_.index,_<w?(C.flags|=2,w):_):(C.flags|=2,w)):(C.flags|=1048576,w)}function o(C){return t&&C.alternate===null&&(C.flags|=2),C}function a(C,w,_,R){return w===null||w.tag!==6?(w=Lg(_,C.mode,R),w.return=C,w):(w=s(w,_),w.return=C,w)}function l(C,w,_,R){var O=_.type;return O===Ya?d(C,w,_.props.children,R,_.key):w!==null&&(w.elementType===O||typeof O=="object"&&O!==null&&O.$$typeof===pi&&rC(O)===w.type)?(R=s(w,_.props),R.ref=kc(C,w,_),R.return=C,R):(R=cf(_.type,_.key,_.props,null,C.mode,R),R.ref=kc(C,w,_),R.return=C,R)}function c(C,w,_,R){return w===null||w.tag!==4||w.stateNode.containerInfo!==_.containerInfo||w.stateNode.implementation!==_.implementation?(w=Vg(_,C.mode,R),w.return=C,w):(w=s(w,_.children||[]),w.return=C,w)}function d(C,w,_,R,O){return w===null||w.tag!==7?(w=$o(_,C.mode,R,O),w.return=C,w):(w=s(w,_),w.return=C,w)}function f(C,w,_){if(typeof w=="string"&&w!==""||typeof w=="number")return w=Lg(""+w,C.mode,_),w.return=C,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case yh:return _=cf(w.type,w.key,w.props,null,C.mode,_),_.ref=kc(C,null,w),_.return=C,_;case Ka:return w=Vg(w,C.mode,_),w.return=C,w;case pi:var R=w._init;return f(C,R(w._payload),_)}if(jc(w)||Ic(w))return w=$o(w,C.mode,_,null),w.return=C,w;Sh(C,w)}return null}function h(C,w,_,R){var O=w!==null?w.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return O!==null?null:a(C,w,""+_,R);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case yh:return _.key===O?l(C,w,_,R):null;case Ka:return _.key===O?c(C,w,_,R):null;case pi:return O=_._init,h(C,w,O(_._payload),R)}if(jc(_)||Ic(_))return O!==null?null:d(C,w,_,R,null);Sh(C,_)}return null}function v(C,w,_,R,O){if(typeof R=="string"&&R!==""||typeof R=="number")return C=C.get(_)||null,a(w,C,""+R,O);if(typeof R=="object"&&R!==null){switch(R.$$typeof){case yh:return C=C.get(R.key===null?_:R.key)||null,l(w,C,R,O);case Ka:return C=C.get(R.key===null?_:R.key)||null,c(w,C,R,O);case pi:var j=R._init;return v(C,w,_,j(R._payload),O)}if(jc(R)||Ic(R))return C=C.get(_)||null,d(w,C,R,O,null);Sh(w,R)}return null}function E(C,w,_,R){for(var O=null,j=null,S=w,I=w=0,k=null;S!==null&&I<_.length;I++){S.index>I?(k=S,S=null):k=S.sibling;var M=h(C,S,_[I],R);if(M===null){S===null&&(S=k);break}t&&S&&M.alternate===null&&e(C,S),w=i(M,w,I),j===null?O=M:j.sibling=M,j=M,S=k}if(I===_.length)return n(C,S),vt&&ko(C,I),O;if(S===null){for(;I<_.length;I++)S=f(C,_[I],R),S!==null&&(w=i(S,w,I),j===null?O=S:j.sibling=S,j=S);return vt&&ko(C,I),O}for(S=r(C,S);I<_.length;I++)k=v(S,C,I,_[I],R),k!==null&&(t&&k.alternate!==null&&S.delete(k.key===null?I:k.key),w=i(k,w,I),j===null?O=k:j.sibling=k,j=k);return t&&S.forEach(function(V){return e(C,V)}),vt&&ko(C,I),O}function y(C,w,_,R){var O=Ic(_);if(typeof O!="function")throw Error(oe(150));if(_=O.call(_),_==null)throw Error(oe(151));for(var j=O=null,S=w,I=w=0,k=null,M=_.next();S!==null&&!M.done;I++,M=_.next()){S.index>I?(k=S,S=null):k=S.sibling;var V=h(C,S,M.value,R);if(V===null){S===null&&(S=k);break}t&&S&&V.alternate===null&&e(C,S),w=i(V,w,I),j===null?O=V:j.sibling=V,j=V,S=k}if(M.done)return n(C,S),vt&&ko(C,I),O;if(S===null){for(;!M.done;I++,M=_.next())M=f(C,M.value,R),M!==null&&(w=i(M,w,I),j===null?O=M:j.sibling=M,j=M);return vt&&ko(C,I),O}for(S=r(C,S);!M.done;I++,M=_.next())M=v(S,C,I,M.value,R),M!==null&&(t&&M.alternate!==null&&S.delete(M.key===null?I:M.key),w=i(M,w,I),j===null?O=M:j.sibling=M,j=M);return t&&S.forEach(function(F){return e(C,F)}),vt&&ko(C,I),O}function b(C,w,_,R){if(typeof _=="object"&&_!==null&&_.type===Ya&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case yh:e:{for(var O=_.key,j=w;j!==null;){if(j.key===O){if(O=_.type,O===Ya){if(j.tag===7){n(C,j.sibling),w=s(j,_.props.children),w.return=C,C=w;break e}}else if(j.elementType===O||typeof O=="object"&&O!==null&&O.$$typeof===pi&&rC(O)===j.type){n(C,j.sibling),w=s(j,_.props),w.ref=kc(C,j,_),w.return=C,C=w;break e}n(C,j);break}else e(C,j);j=j.sibling}_.type===Ya?(w=$o(_.props.children,C.mode,R,_.key),w.return=C,C=w):(R=cf(_.type,_.key,_.props,null,C.mode,R),R.ref=kc(C,w,_),R.return=C,C=R)}return o(C);case Ka:e:{for(j=_.key;w!==null;){if(w.key===j)if(w.tag===4&&w.stateNode.containerInfo===_.containerInfo&&w.stateNode.implementation===_.implementation){n(C,w.sibling),w=s(w,_.children||[]),w.return=C,C=w;break e}else{n(C,w);break}else e(C,w);w=w.sibling}w=Vg(_,C.mode,R),w.return=C,C=w}return o(C);case pi:return j=_._init,b(C,w,j(_._payload),R)}if(jc(_))return E(C,w,_,R);if(Ic(_))return y(C,w,_,R);Sh(C,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,w!==null&&w.tag===6?(n(C,w.sibling),w=s(w,_),w.return=C,C=w):(n(C,w),w=Lg(_,C.mode,R),w.return=C,C=w),o(C)):n(C,w)}return b}var kl=BA(!0),UA=BA(!1),Wf=lo(null),Kf=null,nl=null,H0=null;function J0(){H0=nl=Kf=null}function X0(t){var e=Wf.current;dt(Wf),t._currentValue=e}function Ky(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function ul(t,e){Kf=t,H0=nl=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Vn=!0),t.firstContext=null)}function vr(t){var e=t._currentValue;if(H0!==t)if(t={context:t,memoizedValue:e,next:null},nl===null){if(Kf===null)throw Error(oe(308));nl=t,Kf.dependencies={lanes:0,firstContext:t}}else nl=nl.next=t;return e}var Lo=null;function Z0(t){Lo===null?Lo=[t]:Lo.push(t)}function qA(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,Z0(e)):(n.next=s.next,s.next=n),e.interleaved=n,js(t,r)}function js(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var mi=!1;function ew(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function GA(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Ds(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Vi(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Ye&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,js(t,n)}return s=r.interleaved,s===null?(e.next=e,Z0(r)):(e.next=s.next,s.next=e),r.interleaved=e,js(t,n)}function nf(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,j0(t,n)}}function sC(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Yf(t,e,n,r){var s=t.updateQueue;mi=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?i=c:o.next=c,o=l;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=c:a.next=c,d.lastBaseUpdate=l))}if(i!==null){var f=s.baseState;o=0,d=c=l=null,a=i;do{var h=a.lane,v=a.eventTime;if((r&h)===h){d!==null&&(d=d.next={eventTime:v,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var E=t,y=a;switch(h=e,v=n,y.tag){case 1:if(E=y.payload,typeof E=="function"){f=E.call(v,f,h);break e}f=E;break e;case 3:E.flags=E.flags&-65537|128;case 0:if(E=y.payload,h=typeof E=="function"?E.call(v,f,h):E,h==null)break e;f=Ct({},f,h);break e;case 2:mi=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,h=s.effects,h===null?s.effects=[a]:h.push(a))}else v={eventTime:v,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(c=d=v,l=f):d=d.next=v,o|=h;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;h=a,a=h.next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}while(!0);if(d===null&&(l=f),s.baseState=l,s.firstBaseUpdate=c,s.lastBaseUpdate=d,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);Zo|=o,t.lanes=o,t.memoizedState=f}}function iC(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(oe(191,s));s.call(r)}}}var ad={},ts=lo(ad),Iu=lo(ad),Su=lo(ad);function Vo(t){if(t===ad)throw Error(oe(174));return t}function tw(t,e){switch(at(Su,e),at(Iu,t),at(ts,ad),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Iy(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Iy(e,t)}dt(ts),at(ts,e)}function Ml(){dt(ts),dt(Iu),dt(Su)}function $A(t){Vo(Su.current);var e=Vo(ts.current),n=Iy(e,t.type);e!==n&&(at(Iu,t),at(ts,n))}function nw(t){Iu.current===t&&(dt(ts),dt(Iu))}var wt=lo(0);function Qf(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Pg=[];function rw(){for(var t=0;t<Pg.length;t++)Pg[t]._workInProgressVersionPrimary=null;Pg.length=0}var rf=Ys.ReactCurrentDispatcher,Ng=Ys.ReactCurrentBatchConfig,Xo=0,Et=null,jt=null,Kt=null,Hf=!1,ru=!1,Ru=0,eO=0;function dn(){throw Error(oe(321))}function sw(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!jr(t[n],e[n]))return!1;return!0}function iw(t,e,n,r,s,i){if(Xo=i,Et=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,rf.current=t===null||t.memoizedState===null?sO:iO,t=n(r,s),ru){i=0;do{if(ru=!1,Ru=0,25<=i)throw Error(oe(301));i+=1,Kt=jt=null,e.updateQueue=null,rf.current=oO,t=n(r,s)}while(ru)}if(rf.current=Jf,e=jt!==null&&jt.next!==null,Xo=0,Kt=jt=Et=null,Hf=!1,e)throw Error(oe(300));return t}function ow(){var t=Ru!==0;return Ru=0,t}function Kr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Kt===null?Et.memoizedState=Kt=t:Kt=Kt.next=t,Kt}function wr(){if(jt===null){var t=Et.alternate;t=t!==null?t.memoizedState:null}else t=jt.next;var e=Kt===null?Et.memoizedState:Kt.next;if(e!==null)Kt=e,jt=t;else{if(t===null)throw Error(oe(310));jt=t,t={memoizedState:jt.memoizedState,baseState:jt.baseState,baseQueue:jt.baseQueue,queue:jt.queue,next:null},Kt===null?Et.memoizedState=Kt=t:Kt=Kt.next=t}return Kt}function Pu(t,e){return typeof e=="function"?e(t):e}function kg(t){var e=wr(),n=e.queue;if(n===null)throw Error(oe(311));n.lastRenderedReducer=t;var r=jt,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,l=null,c=i;do{var d=c.lane;if((Xo&d)===d)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var f={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=f,o=r):l=l.next=f,Et.lanes|=d,Zo|=d}c=c.next}while(c!==null&&c!==i);l===null?o=r:l.next=a,jr(r,e.memoizedState)||(Vn=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,Et.lanes|=i,Zo|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Mg(t){var e=wr(),n=e.queue;if(n===null)throw Error(oe(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);jr(i,e.memoizedState)||(Vn=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function zA(){}function WA(t,e){var n=Et,r=wr(),s=e(),i=!jr(r.memoizedState,s);if(i&&(r.memoizedState=s,Vn=!0),r=r.queue,aw(QA.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||Kt!==null&&Kt.memoizedState.tag&1){if(n.flags|=2048,Nu(9,YA.bind(null,n,r,s,e),void 0,null),Yt===null)throw Error(oe(349));Xo&30||KA(n,e,s)}return s}function KA(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Et.updateQueue,e===null?(e={lastEffect:null,stores:null},Et.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function YA(t,e,n,r){e.value=n,e.getSnapshot=r,HA(e)&&JA(t)}function QA(t,e,n){return n(function(){HA(e)&&JA(t)})}function HA(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!jr(t,n)}catch{return!0}}function JA(t){var e=js(t,1);e!==null&&Vr(e,t,1,-1)}function oC(t){var e=Kr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Pu,lastRenderedState:t},e.queue=t,t=t.dispatch=rO.bind(null,Et,t),[e.memoizedState,t]}function Nu(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Et.updateQueue,e===null?(e={lastEffect:null,stores:null},Et.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function XA(){return wr().memoizedState}function sf(t,e,n,r){var s=Kr();Et.flags|=t,s.memoizedState=Nu(1|e,n,void 0,r===void 0?null:r)}function Gp(t,e,n,r){var s=wr();r=r===void 0?null:r;var i=void 0;if(jt!==null){var o=jt.memoizedState;if(i=o.destroy,r!==null&&sw(r,o.deps)){s.memoizedState=Nu(e,n,i,r);return}}Et.flags|=t,s.memoizedState=Nu(1|e,n,i,r)}function aC(t,e){return sf(8390656,8,t,e)}function aw(t,e){return Gp(2048,8,t,e)}function ZA(t,e){return Gp(4,2,t,e)}function eb(t,e){return Gp(4,4,t,e)}function tb(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function nb(t,e,n){return n=n!=null?n.concat([t]):null,Gp(4,4,tb.bind(null,e,t),n)}function lw(){}function rb(t,e){var n=wr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&sw(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function sb(t,e){var n=wr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&sw(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function ib(t,e,n){return Xo&21?(jr(n,e)||(n=uA(),Et.lanes|=n,Zo|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Vn=!0),t.memoizedState=n)}function tO(t,e){var n=tt;tt=n!==0&&4>n?n:4,t(!0);var r=Ng.transition;Ng.transition={};try{t(!1),e()}finally{tt=n,Ng.transition=r}}function ob(){return wr().memoizedState}function nO(t,e,n){var r=ji(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},ab(t))lb(e,n);else if(n=qA(t,e,n,r),n!==null){var s=Rn();Vr(n,t,r,s),cb(n,e,r)}}function rO(t,e,n){var r=ji(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(ab(t))lb(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,jr(a,o)){var l=e.interleaved;l===null?(s.next=s,Z0(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}n=qA(t,e,s,r),n!==null&&(s=Rn(),Vr(n,t,r,s),cb(n,e,r))}}function ab(t){var e=t.alternate;return t===Et||e!==null&&e===Et}function lb(t,e){ru=Hf=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function cb(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,j0(t,n)}}var Jf={readContext:vr,useCallback:dn,useContext:dn,useEffect:dn,useImperativeHandle:dn,useInsertionEffect:dn,useLayoutEffect:dn,useMemo:dn,useReducer:dn,useRef:dn,useState:dn,useDebugValue:dn,useDeferredValue:dn,useTransition:dn,useMutableSource:dn,useSyncExternalStore:dn,useId:dn,unstable_isNewReconciler:!1},sO={readContext:vr,useCallback:function(t,e){return Kr().memoizedState=[t,e===void 0?null:e],t},useContext:vr,useEffect:aC,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,sf(4194308,4,tb.bind(null,e,t),n)},useLayoutEffect:function(t,e){return sf(4194308,4,t,e)},useInsertionEffect:function(t,e){return sf(4,2,t,e)},useMemo:function(t,e){var n=Kr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Kr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=nO.bind(null,Et,t),[r.memoizedState,t]},useRef:function(t){var e=Kr();return t={current:t},e.memoizedState=t},useState:oC,useDebugValue:lw,useDeferredValue:function(t){return Kr().memoizedState=t},useTransition:function(){var t=oC(!1),e=t[0];return t=tO.bind(null,t[1]),Kr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Et,s=Kr();if(vt){if(n===void 0)throw Error(oe(407));n=n()}else{if(n=e(),Yt===null)throw Error(oe(349));Xo&30||KA(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,aC(QA.bind(null,r,i,t),[t]),r.flags|=2048,Nu(9,YA.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=Kr(),e=Yt.identifierPrefix;if(vt){var n=Ps,r=Rs;n=(r&~(1<<32-Lr(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Ru++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=eO++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},iO={readContext:vr,useCallback:rb,useContext:vr,useEffect:aw,useImperativeHandle:nb,useInsertionEffect:ZA,useLayoutEffect:eb,useMemo:sb,useReducer:kg,useRef:XA,useState:function(){return kg(Pu)},useDebugValue:lw,useDeferredValue:function(t){var e=wr();return ib(e,jt.memoizedState,t)},useTransition:function(){var t=kg(Pu)[0],e=wr().memoizedState;return[t,e]},useMutableSource:zA,useSyncExternalStore:WA,useId:ob,unstable_isNewReconciler:!1},oO={readContext:vr,useCallback:rb,useContext:vr,useEffect:aw,useImperativeHandle:nb,useInsertionEffect:ZA,useLayoutEffect:eb,useMemo:sb,useReducer:Mg,useRef:XA,useState:function(){return Mg(Pu)},useDebugValue:lw,useDeferredValue:function(t){var e=wr();return jt===null?e.memoizedState=t:ib(e,jt.memoizedState,t)},useTransition:function(){var t=Mg(Pu)[0],e=wr().memoizedState;return[t,e]},useMutableSource:zA,useSyncExternalStore:WA,useId:ob,unstable_isNewReconciler:!1};function Pr(t,e){if(t&&t.defaultProps){e=Ct({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Yy(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Ct({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var $p={isMounted:function(t){return(t=t._reactInternals)?ha(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Rn(),s=ji(t),i=Ds(r,s);i.payload=e,n!=null&&(i.callback=n),e=Vi(t,i,s),e!==null&&(Vr(e,t,s,r),nf(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Rn(),s=ji(t),i=Ds(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=Vi(t,i,s),e!==null&&(Vr(e,t,s,r),nf(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Rn(),r=ji(t),s=Ds(n,r);s.tag=2,e!=null&&(s.callback=e),e=Vi(t,s,r),e!==null&&(Vr(e,t,r,n),nf(e,t,r))}};function lC(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!_u(n,r)||!_u(s,i):!0}function ub(t,e,n){var r=!1,s=Yi,i=e.contextType;return typeof i=="object"&&i!==null?i=vr(i):(s=jn(e)?Ho:vn.current,r=e.contextTypes,i=(r=r!=null)?Pl(t,s):Yi),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=$p,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function cC(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&$p.enqueueReplaceState(e,e.state,null)}function Qy(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},ew(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=vr(i):(i=jn(e)?Ho:vn.current,s.context=Pl(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Yy(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&$p.enqueueReplaceState(s,s.state,null),Yf(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function Dl(t,e){try{var n="",r=e;do n+=DD(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function Dg(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Hy(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var aO=typeof WeakMap=="function"?WeakMap:Map;function db(t,e,n){n=Ds(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Zf||(Zf=!0,ov=r),Hy(t,e)},n}function hb(t,e,n){n=Ds(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){Hy(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Hy(t,e),typeof r!="function"&&(Fi===null?Fi=new Set([this]):Fi.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function uC(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new aO;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=CO.bind(null,t,e,n),e.then(t,t))}function dC(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function hC(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Ds(-1,1),e.tag=2,Vi(n,e,1))),n.lanes|=1),t)}var lO=Ys.ReactCurrentOwner,Vn=!1;function bn(t,e,n,r){e.child=t===null?UA(e,null,n,r):kl(e,t.child,n,r)}function fC(t,e,n,r,s){n=n.render;var i=e.ref;return ul(e,s),r=iw(t,e,n,r,i,s),n=ow(),t!==null&&!Vn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Bs(t,e,s)):(vt&&n&&K0(e),e.flags|=1,bn(t,e,r,s),e.child)}function pC(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!gw(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,fb(t,e,i,r,s)):(t=cf(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:_u,n(o,r)&&t.ref===e.ref)return Bs(t,e,s)}return e.flags|=1,t=Bi(i,r),t.ref=e.ref,t.return=e,e.child=t}function fb(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(_u(i,r)&&t.ref===e.ref)if(Vn=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(Vn=!0);else return e.lanes=t.lanes,Bs(t,e,s)}return Jy(t,e,n,r,s)}function pb(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},at(sl,Qn),Qn|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,at(sl,Qn),Qn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,at(sl,Qn),Qn|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,at(sl,Qn),Qn|=r;return bn(t,e,s,n),e.child}function mb(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Jy(t,e,n,r,s){var i=jn(n)?Ho:vn.current;return i=Pl(e,i),ul(e,s),n=iw(t,e,n,r,i,s),r=ow(),t!==null&&!Vn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Bs(t,e,s)):(vt&&r&&K0(e),e.flags|=1,bn(t,e,n,s),e.child)}function mC(t,e,n,r,s){if(jn(n)){var i=!0;Gf(e)}else i=!1;if(ul(e,s),e.stateNode===null)of(t,e),ub(e,n,r),Qy(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=vr(c):(c=jn(n)?Ho:vn.current,c=Pl(e,c));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&cC(e,o,r,c),mi=!1;var h=e.memoizedState;o.state=h,Yf(e,r,o,s),l=e.memoizedState,a!==r||h!==l||Fn.current||mi?(typeof d=="function"&&(Yy(e,n,d,r),l=e.memoizedState),(a=mi||lC(e,n,a,r,h,l,c))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,GA(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:Pr(e.type,a),o.props=c,f=e.pendingProps,h=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=vr(l):(l=jn(n)?Ho:vn.current,l=Pl(e,l));var v=n.getDerivedStateFromProps;(d=typeof v=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||h!==l)&&cC(e,o,r,l),mi=!1,h=e.memoizedState,o.state=h,Yf(e,r,o,s);var E=e.memoizedState;a!==f||h!==E||Fn.current||mi?(typeof v=="function"&&(Yy(e,n,v,r),E=e.memoizedState),(c=mi||lC(e,n,c,r,h,E,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,E,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,E,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=E),o.props=r,o.state=E,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return Xy(t,e,n,r,i,s)}function Xy(t,e,n,r,s,i){mb(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&eC(e,n,!1),Bs(t,e,i);r=e.stateNode,lO.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=kl(e,t.child,null,i),e.child=kl(e,null,a,i)):bn(t,e,a,i),e.memoizedState=r.state,s&&eC(e,n,!0),e.child}function gb(t){var e=t.stateNode;e.pendingContext?Z1(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Z1(t,e.context,!1),tw(t,e.containerInfo)}function gC(t,e,n,r,s){return Nl(),Q0(s),e.flags|=256,bn(t,e,n,r),e.child}var Zy={dehydrated:null,treeContext:null,retryLane:0};function ev(t){return{baseLanes:t,cachePool:null,transitions:null}}function yb(t,e,n){var r=e.pendingProps,s=wt.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),at(wt,s&1),t===null)return Wy(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Kp(o,r,0,null),t=$o(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=ev(n),e.memoizedState=Zy,t):cw(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return cO(t,e,o,r,a,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,a=s.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Bi(s,l),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=Bi(a,i):(i=$o(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?ev(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=Zy,r}return i=t.child,t=i.sibling,r=Bi(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function cw(t,e){return e=Kp({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Rh(t,e,n,r){return r!==null&&Q0(r),kl(e,t.child,null,n),t=cw(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function cO(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=Dg(Error(oe(422))),Rh(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=Kp({mode:"visible",children:r.children},s,0,null),i=$o(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&kl(e,t.child,null,o),e.child.memoizedState=ev(o),e.memoizedState=Zy,i);if(!(e.mode&1))return Rh(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(oe(419)),r=Dg(i,r,void 0),Rh(t,e,o,r)}if(a=(o&t.childLanes)!==0,Vn||a){if(r=Yt,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,js(t,s),Vr(r,t,s,-1))}return mw(),r=Dg(Error(oe(421))),Rh(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=xO.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,Jn=Li(s.nextSibling),Zn=e,vt=!0,Dr=null,t!==null&&(dr[hr++]=Rs,dr[hr++]=Ps,dr[hr++]=Jo,Rs=t.id,Ps=t.overflow,Jo=e),e=cw(e,r.children),e.flags|=4096,e)}function yC(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Ky(t.return,e,n)}function Og(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function vb(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(bn(t,e,r.children,n),r=wt.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&yC(t,n,e);else if(t.tag===19)yC(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(at(wt,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&Qf(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),Og(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&Qf(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}Og(e,!0,n,null,i);break;case"together":Og(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function of(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Bs(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Zo|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(oe(153));if(e.child!==null){for(t=e.child,n=Bi(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Bi(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function uO(t,e,n){switch(e.tag){case 3:gb(e),Nl();break;case 5:$A(e);break;case 1:jn(e.type)&&Gf(e);break;case 4:tw(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;at(Wf,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(at(wt,wt.current&1),e.flags|=128,null):n&e.child.childLanes?yb(t,e,n):(at(wt,wt.current&1),t=Bs(t,e,n),t!==null?t.sibling:null);at(wt,wt.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return vb(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),at(wt,wt.current),r)break;return null;case 22:case 23:return e.lanes=0,pb(t,e,n)}return Bs(t,e,n)}var wb,tv,Eb,Cb;wb=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};tv=function(){};Eb=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,Vo(ts.current);var i=null;switch(n){case"input":s=_y(t,s),r=_y(t,r),i=[];break;case"select":s=Ct({},s,{value:void 0}),r=Ct({},r,{value:void 0}),i=[];break;case"textarea":s=by(t,s),r=by(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Uf)}Sy(n,r);var o;n=null;for(c in s)if(!r.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var a=s[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(gu.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in r){var l=r[c];if(a=s!=null?s[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(i||(i=[]),i.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(gu.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&ut("scroll",t),i||a===l||(i=[])):(i=i||[]).push(c,l))}n&&(i=i||[]).push("style",n);var c=i;(e.updateQueue=c)&&(e.flags|=4)}};Cb=function(t,e,n,r){n!==r&&(e.flags|=4)};function Mc(t,e){if(!vt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function hn(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function dO(t,e,n){var r=e.pendingProps;switch(Y0(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return hn(e),null;case 1:return jn(e.type)&&qf(),hn(e),null;case 3:return r=e.stateNode,Ml(),dt(Fn),dt(vn),rw(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Ih(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Dr!==null&&(cv(Dr),Dr=null))),tv(t,e),hn(e),null;case 5:nw(e);var s=Vo(Su.current);if(n=e.type,t!==null&&e.stateNode!=null)Eb(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(oe(166));return hn(e),null}if(t=Vo(ts.current),Ih(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[Xr]=e,r[bu]=i,t=(e.mode&1)!==0,n){case"dialog":ut("cancel",r),ut("close",r);break;case"iframe":case"object":case"embed":ut("load",r);break;case"video":case"audio":for(s=0;s<Uc.length;s++)ut(Uc[s],r);break;case"source":ut("error",r);break;case"img":case"image":case"link":ut("error",r),ut("load",r);break;case"details":ut("toggle",r);break;case"input":b1(r,i),ut("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},ut("invalid",r);break;case"textarea":S1(r,i),ut("invalid",r)}Sy(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&bh(r.textContent,a,t),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&bh(r.textContent,a,t),s=["children",""+a]):gu.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&ut("scroll",r)}switch(n){case"input":vh(r),I1(r,i,!0);break;case"textarea":vh(r),R1(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Uf)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=QT(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Xr]=e,t[bu]=r,wb(t,e,!1,!1),e.stateNode=t;e:{switch(o=Ry(n,r),n){case"dialog":ut("cancel",t),ut("close",t),s=r;break;case"iframe":case"object":case"embed":ut("load",t),s=r;break;case"video":case"audio":for(s=0;s<Uc.length;s++)ut(Uc[s],t);s=r;break;case"source":ut("error",t),s=r;break;case"img":case"image":case"link":ut("error",t),ut("load",t),s=r;break;case"details":ut("toggle",t),s=r;break;case"input":b1(t,r),s=_y(t,r),ut("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=Ct({},r,{value:void 0}),ut("invalid",t);break;case"textarea":S1(t,r),s=by(t,r),ut("invalid",t);break;default:s=r}Sy(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?XT(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&HT(t,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&yu(t,l):typeof l=="number"&&yu(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(gu.hasOwnProperty(i)?l!=null&&i==="onScroll"&&ut("scroll",t):l!=null&&M0(t,i,l,o))}switch(n){case"input":vh(t),I1(t,r,!1);break;case"textarea":vh(t),R1(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Ki(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?ol(t,!!r.multiple,i,!1):r.defaultValue!=null&&ol(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Uf)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return hn(e),null;case 6:if(t&&e.stateNode!=null)Cb(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(oe(166));if(n=Vo(Su.current),Vo(ts.current),Ih(e)){if(r=e.stateNode,n=e.memoizedProps,r[Xr]=e,(i=r.nodeValue!==n)&&(t=Zn,t!==null))switch(t.tag){case 3:bh(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&bh(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Xr]=e,e.stateNode=r}return hn(e),null;case 13:if(dt(wt),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(vt&&Jn!==null&&e.mode&1&&!(e.flags&128))jA(),Nl(),e.flags|=98560,i=!1;else if(i=Ih(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(oe(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(oe(317));i[Xr]=e}else Nl(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;hn(e),i=!1}else Dr!==null&&(cv(Dr),Dr=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||wt.current&1?Bt===0&&(Bt=3):mw())),e.updateQueue!==null&&(e.flags|=4),hn(e),null);case 4:return Ml(),tv(t,e),t===null&&Tu(e.stateNode.containerInfo),hn(e),null;case 10:return X0(e.type._context),hn(e),null;case 17:return jn(e.type)&&qf(),hn(e),null;case 19:if(dt(wt),i=e.memoizedState,i===null)return hn(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)Mc(i,!1);else{if(Bt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Qf(t),o!==null){for(e.flags|=128,Mc(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return at(wt,wt.current&1|2),e.child}t=t.sibling}i.tail!==null&&St()>Ol&&(e.flags|=128,r=!0,Mc(i,!1),e.lanes=4194304)}else{if(!r)if(t=Qf(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Mc(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!vt)return hn(e),null}else 2*St()-i.renderingStartTime>Ol&&n!==1073741824&&(e.flags|=128,r=!0,Mc(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=St(),e.sibling=null,n=wt.current,at(wt,r?n&1|2:n&1),e):(hn(e),null);case 22:case 23:return pw(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Qn&1073741824&&(hn(e),e.subtreeFlags&6&&(e.flags|=8192)):hn(e),null;case 24:return null;case 25:return null}throw Error(oe(156,e.tag))}function hO(t,e){switch(Y0(e),e.tag){case 1:return jn(e.type)&&qf(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Ml(),dt(Fn),dt(vn),rw(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return nw(e),null;case 13:if(dt(wt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(oe(340));Nl()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return dt(wt),null;case 4:return Ml(),null;case 10:return X0(e.type._context),null;case 22:case 23:return pw(),null;case 24:return null;default:return null}}var Ph=!1,gn=!1,fO=typeof WeakSet=="function"?WeakSet:Set,ye=null;function rl(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){At(t,e,r)}else n.current=null}function nv(t,e,n){try{n()}catch(r){At(t,e,r)}}var vC=!1;function pO(t,e){if(jy=Ff,t=bA(),W0(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,d=0,f=t,h=null;t:for(;;){for(var v;f!==n||s!==0&&f.nodeType!==3||(a=o+s),f!==i||r!==0&&f.nodeType!==3||(l=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(v=f.firstChild)!==null;)h=f,f=v;for(;;){if(f===t)break t;if(h===n&&++c===s&&(a=o),h===i&&++d===r&&(l=o),(v=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=v}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(By={focusedElem:t,selectionRange:n},Ff=!1,ye=e;ye!==null;)if(e=ye,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ye=t;else for(;ye!==null;){e=ye;try{var E=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(E!==null){var y=E.memoizedProps,b=E.memoizedState,C=e.stateNode,w=C.getSnapshotBeforeUpdate(e.elementType===e.type?y:Pr(e.type,y),b);C.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var _=e.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(oe(163))}}catch(R){At(e,e.return,R)}if(t=e.sibling,t!==null){t.return=e.return,ye=t;break}ye=e.return}return E=vC,vC=!1,E}function su(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&nv(e,n,i)}s=s.next}while(s!==r)}}function zp(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function rv(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function xb(t){var e=t.alternate;e!==null&&(t.alternate=null,xb(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Xr],delete e[bu],delete e[Gy],delete e[H4],delete e[J4])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function _b(t){return t.tag===5||t.tag===3||t.tag===4}function wC(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||_b(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function sv(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Uf));else if(r!==4&&(t=t.child,t!==null))for(sv(t,e,n),t=t.sibling;t!==null;)sv(t,e,n),t=t.sibling}function iv(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(iv(t,e,n),t=t.sibling;t!==null;)iv(t,e,n),t=t.sibling}var Xt=null,Mr=!1;function ai(t,e,n){for(n=n.child;n!==null;)Tb(t,e,n),n=n.sibling}function Tb(t,e,n){if(es&&typeof es.onCommitFiberUnmount=="function")try{es.onCommitFiberUnmount(Vp,n)}catch{}switch(n.tag){case 5:gn||rl(n,e);case 6:var r=Xt,s=Mr;Xt=null,ai(t,e,n),Xt=r,Mr=s,Xt!==null&&(Mr?(t=Xt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Xt.removeChild(n.stateNode));break;case 18:Xt!==null&&(Mr?(t=Xt,n=n.stateNode,t.nodeType===8?Sg(t.parentNode,n):t.nodeType===1&&Sg(t,n),Cu(t)):Sg(Xt,n.stateNode));break;case 4:r=Xt,s=Mr,Xt=n.stateNode.containerInfo,Mr=!0,ai(t,e,n),Xt=r,Mr=s;break;case 0:case 11:case 14:case 15:if(!gn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&nv(n,e,o),s=s.next}while(s!==r)}ai(t,e,n);break;case 1:if(!gn&&(rl(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){At(n,e,a)}ai(t,e,n);break;case 21:ai(t,e,n);break;case 22:n.mode&1?(gn=(r=gn)||n.memoizedState!==null,ai(t,e,n),gn=r):ai(t,e,n);break;default:ai(t,e,n)}}function EC(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new fO),e.forEach(function(r){var s=_O.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Sr(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Xt=a.stateNode,Mr=!1;break e;case 3:Xt=a.stateNode.containerInfo,Mr=!0;break e;case 4:Xt=a.stateNode.containerInfo,Mr=!0;break e}a=a.return}if(Xt===null)throw Error(oe(160));Tb(i,o,s),Xt=null,Mr=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(c){At(s,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Ab(e,t),e=e.sibling}function Ab(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Sr(e,t),zr(t),r&4){try{su(3,t,t.return),zp(3,t)}catch(y){At(t,t.return,y)}try{su(5,t,t.return)}catch(y){At(t,t.return,y)}}break;case 1:Sr(e,t),zr(t),r&512&&n!==null&&rl(n,n.return);break;case 5:if(Sr(e,t),zr(t),r&512&&n!==null&&rl(n,n.return),t.flags&32){var s=t.stateNode;try{yu(s,"")}catch(y){At(t,t.return,y)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&KT(s,i),Ry(a,o);var c=Ry(a,i);for(o=0;o<l.length;o+=2){var d=l[o],f=l[o+1];d==="style"?XT(s,f):d==="dangerouslySetInnerHTML"?HT(s,f):d==="children"?yu(s,f):M0(s,d,f,c)}switch(a){case"input":Ty(s,i);break;case"textarea":YT(s,i);break;case"select":var h=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var v=i.value;v!=null?ol(s,!!i.multiple,v,!1):h!==!!i.multiple&&(i.defaultValue!=null?ol(s,!!i.multiple,i.defaultValue,!0):ol(s,!!i.multiple,i.multiple?[]:"",!1))}s[bu]=i}catch(y){At(t,t.return,y)}}break;case 6:if(Sr(e,t),zr(t),r&4){if(t.stateNode===null)throw Error(oe(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(y){At(t,t.return,y)}}break;case 3:if(Sr(e,t),zr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Cu(e.containerInfo)}catch(y){At(t,t.return,y)}break;case 4:Sr(e,t),zr(t);break;case 13:Sr(e,t),zr(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(hw=St())),r&4&&EC(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(gn=(c=gn)||d,Sr(e,t),gn=c):Sr(e,t),zr(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!d&&t.mode&1)for(ye=t,d=t.child;d!==null;){for(f=ye=d;ye!==null;){switch(h=ye,v=h.child,h.tag){case 0:case 11:case 14:case 15:su(4,h,h.return);break;case 1:rl(h,h.return);var E=h.stateNode;if(typeof E.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,E.props=e.memoizedProps,E.state=e.memoizedState,E.componentWillUnmount()}catch(y){At(r,n,y)}}break;case 5:rl(h,h.return);break;case 22:if(h.memoizedState!==null){xC(f);continue}}v!==null?(v.return=h,ye=v):xC(f)}d=d.sibling}e:for(d=null,f=t;;){if(f.tag===5){if(d===null){d=f;try{s=f.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=f.stateNode,l=f.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=JT("display",o))}catch(y){At(t,t.return,y)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(y){At(t,t.return,y)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Sr(e,t),zr(t),r&4&&EC(t);break;case 21:break;default:Sr(e,t),zr(t)}}function zr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(_b(n)){var r=n;break e}n=n.return}throw Error(oe(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(yu(s,""),r.flags&=-33);var i=wC(t);iv(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=wC(t);sv(t,a,o);break;default:throw Error(oe(161))}}catch(l){At(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function mO(t,e,n){ye=t,bb(t)}function bb(t,e,n){for(var r=(t.mode&1)!==0;ye!==null;){var s=ye,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||Ph;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||gn;a=Ph;var c=gn;if(Ph=o,(gn=l)&&!c)for(ye=s;ye!==null;)o=ye,l=o.child,o.tag===22&&o.memoizedState!==null?_C(s):l!==null?(l.return=o,ye=l):_C(s);for(;i!==null;)ye=i,bb(i),i=i.sibling;ye=s,Ph=a,gn=c}CC(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,ye=i):CC(t)}}function CC(t){for(;ye!==null;){var e=ye;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:gn||zp(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!gn)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:Pr(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&iC(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}iC(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&Cu(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(oe(163))}gn||e.flags&512&&rv(e)}catch(h){At(e,e.return,h)}}if(e===t){ye=null;break}if(n=e.sibling,n!==null){n.return=e.return,ye=n;break}ye=e.return}}function xC(t){for(;ye!==null;){var e=ye;if(e===t){ye=null;break}var n=e.sibling;if(n!==null){n.return=e.return,ye=n;break}ye=e.return}}function _C(t){for(;ye!==null;){var e=ye;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{zp(4,e)}catch(l){At(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(l){At(e,s,l)}}var i=e.return;try{rv(e)}catch(l){At(e,i,l)}break;case 5:var o=e.return;try{rv(e)}catch(l){At(e,o,l)}}}catch(l){At(e,e.return,l)}if(e===t){ye=null;break}var a=e.sibling;if(a!==null){a.return=e.return,ye=a;break}ye=e.return}}var gO=Math.ceil,Xf=Ys.ReactCurrentDispatcher,uw=Ys.ReactCurrentOwner,gr=Ys.ReactCurrentBatchConfig,Ye=0,Yt=null,Mt=null,tn=0,Qn=0,sl=lo(0),Bt=0,ku=null,Zo=0,Wp=0,dw=0,iu=null,On=null,hw=0,Ol=1/0,Is=null,Zf=!1,ov=null,Fi=null,Nh=!1,Ri=null,ep=0,ou=0,av=null,af=-1,lf=0;function Rn(){return Ye&6?St():af!==-1?af:af=St()}function ji(t){return t.mode&1?Ye&2&&tn!==0?tn&-tn:Z4.transition!==null?(lf===0&&(lf=uA()),lf):(t=tt,t!==0||(t=window.event,t=t===void 0?16:yA(t.type)),t):1}function Vr(t,e,n,r){if(50<ou)throw ou=0,av=null,Error(oe(185));sd(t,n,r),(!(Ye&2)||t!==Yt)&&(t===Yt&&(!(Ye&2)&&(Wp|=n),Bt===4&&vi(t,tn)),Bn(t,r),n===1&&Ye===0&&!(e.mode&1)&&(Ol=St()+500,qp&&co()))}function Bn(t,e){var n=t.callbackNode;ZD(t,e);var r=Vf(t,t===Yt?tn:0);if(r===0)n!==null&&k1(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&k1(n),e===1)t.tag===0?X4(TC.bind(null,t)):LA(TC.bind(null,t)),Y4(function(){!(Ye&6)&&co()}),n=null;else{switch(dA(r)){case 1:n=F0;break;case 4:n=lA;break;case 16:n=Lf;break;case 536870912:n=cA;break;default:n=Lf}n=Db(n,Ib.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function Ib(t,e){if(af=-1,lf=0,Ye&6)throw Error(oe(327));var n=t.callbackNode;if(dl()&&t.callbackNode!==n)return null;var r=Vf(t,t===Yt?tn:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=tp(t,r);else{e=r;var s=Ye;Ye|=2;var i=Rb();(Yt!==t||tn!==e)&&(Is=null,Ol=St()+500,Go(t,e));do try{wO();break}catch(a){Sb(t,a)}while(!0);J0(),Xf.current=i,Ye=s,Mt!==null?e=0:(Yt=null,tn=0,e=Bt)}if(e!==0){if(e===2&&(s=Dy(t),s!==0&&(r=s,e=lv(t,s))),e===1)throw n=ku,Go(t,0),vi(t,r),Bn(t,St()),n;if(e===6)vi(t,r);else{if(s=t.current.alternate,!(r&30)&&!yO(s)&&(e=tp(t,r),e===2&&(i=Dy(t),i!==0&&(r=i,e=lv(t,i))),e===1))throw n=ku,Go(t,0),vi(t,r),Bn(t,St()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(oe(345));case 2:Mo(t,On,Is);break;case 3:if(vi(t,r),(r&130023424)===r&&(e=hw+500-St(),10<e)){if(Vf(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){Rn(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=qy(Mo.bind(null,t,On,Is),e);break}Mo(t,On,Is);break;case 4:if(vi(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-Lr(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=St()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*gO(r/1960))-r,10<r){t.timeoutHandle=qy(Mo.bind(null,t,On,Is),r);break}Mo(t,On,Is);break;case 5:Mo(t,On,Is);break;default:throw Error(oe(329))}}}return Bn(t,St()),t.callbackNode===n?Ib.bind(null,t):null}function lv(t,e){var n=iu;return t.current.memoizedState.isDehydrated&&(Go(t,e).flags|=256),t=tp(t,e),t!==2&&(e=On,On=n,e!==null&&cv(e)),t}function cv(t){On===null?On=t:On.push.apply(On,t)}function yO(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!jr(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function vi(t,e){for(e&=~dw,e&=~Wp,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Lr(e),r=1<<n;t[n]=-1,e&=~r}}function TC(t){if(Ye&6)throw Error(oe(327));dl();var e=Vf(t,0);if(!(e&1))return Bn(t,St()),null;var n=tp(t,e);if(t.tag!==0&&n===2){var r=Dy(t);r!==0&&(e=r,n=lv(t,r))}if(n===1)throw n=ku,Go(t,0),vi(t,e),Bn(t,St()),n;if(n===6)throw Error(oe(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Mo(t,On,Is),Bn(t,St()),null}function fw(t,e){var n=Ye;Ye|=1;try{return t(e)}finally{Ye=n,Ye===0&&(Ol=St()+500,qp&&co())}}function ea(t){Ri!==null&&Ri.tag===0&&!(Ye&6)&&dl();var e=Ye;Ye|=1;var n=gr.transition,r=tt;try{if(gr.transition=null,tt=1,t)return t()}finally{tt=r,gr.transition=n,Ye=e,!(Ye&6)&&co()}}function pw(){Qn=sl.current,dt(sl)}function Go(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,K4(n)),Mt!==null)for(n=Mt.return;n!==null;){var r=n;switch(Y0(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&qf();break;case 3:Ml(),dt(Fn),dt(vn),rw();break;case 5:nw(r);break;case 4:Ml();break;case 13:dt(wt);break;case 19:dt(wt);break;case 10:X0(r.type._context);break;case 22:case 23:pw()}n=n.return}if(Yt=t,Mt=t=Bi(t.current,null),tn=Qn=e,Bt=0,ku=null,dw=Wp=Zo=0,On=iu=null,Lo!==null){for(e=0;e<Lo.length;e++)if(n=Lo[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}Lo=null}return t}function Sb(t,e){do{var n=Mt;try{if(J0(),rf.current=Jf,Hf){for(var r=Et.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Hf=!1}if(Xo=0,Kt=jt=Et=null,ru=!1,Ru=0,uw.current=null,n===null||n.return===null){Bt=1,ku=e,Mt=null;break}e:{var i=t,o=n.return,a=n,l=e;if(e=tn,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,d=a,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var v=dC(o);if(v!==null){v.flags&=-257,hC(v,o,a,i,e),v.mode&1&&uC(i,c,e),e=v,l=c;var E=e.updateQueue;if(E===null){var y=new Set;y.add(l),e.updateQueue=y}else E.add(l);break e}else{if(!(e&1)){uC(i,c,e),mw();break e}l=Error(oe(426))}}else if(vt&&a.mode&1){var b=dC(o);if(b!==null){!(b.flags&65536)&&(b.flags|=256),hC(b,o,a,i,e),Q0(Dl(l,a));break e}}i=l=Dl(l,a),Bt!==4&&(Bt=2),iu===null?iu=[i]:iu.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var C=db(i,l,e);sC(i,C);break e;case 1:a=l;var w=i.type,_=i.stateNode;if(!(i.flags&128)&&(typeof w.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(Fi===null||!Fi.has(_)))){i.flags|=65536,e&=-e,i.lanes|=e;var R=hb(i,a,e);sC(i,R);break e}}i=i.return}while(i!==null)}Nb(n)}catch(O){e=O,Mt===n&&n!==null&&(Mt=n=n.return);continue}break}while(!0)}function Rb(){var t=Xf.current;return Xf.current=Jf,t===null?Jf:t}function mw(){(Bt===0||Bt===3||Bt===2)&&(Bt=4),Yt===null||!(Zo&268435455)&&!(Wp&268435455)||vi(Yt,tn)}function tp(t,e){var n=Ye;Ye|=2;var r=Rb();(Yt!==t||tn!==e)&&(Is=null,Go(t,e));do try{vO();break}catch(s){Sb(t,s)}while(!0);if(J0(),Ye=n,Xf.current=r,Mt!==null)throw Error(oe(261));return Yt=null,tn=0,Bt}function vO(){for(;Mt!==null;)Pb(Mt)}function wO(){for(;Mt!==null&&!$D();)Pb(Mt)}function Pb(t){var e=Mb(t.alternate,t,Qn);t.memoizedProps=t.pendingProps,e===null?Nb(t):Mt=e,uw.current=null}function Nb(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=hO(n,e),n!==null){n.flags&=32767,Mt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Bt=6,Mt=null;return}}else if(n=dO(n,e,Qn),n!==null){Mt=n;return}if(e=e.sibling,e!==null){Mt=e;return}Mt=e=t}while(e!==null);Bt===0&&(Bt=5)}function Mo(t,e,n){var r=tt,s=gr.transition;try{gr.transition=null,tt=1,EO(t,e,n,r)}finally{gr.transition=s,tt=r}return null}function EO(t,e,n,r){do dl();while(Ri!==null);if(Ye&6)throw Error(oe(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(oe(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(e4(t,i),t===Yt&&(Mt=Yt=null,tn=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Nh||(Nh=!0,Db(Lf,function(){return dl(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=gr.transition,gr.transition=null;var o=tt;tt=1;var a=Ye;Ye|=4,uw.current=null,pO(t,n),Ab(n,t),B4(By),Ff=!!jy,By=jy=null,t.current=n,mO(n),zD(),Ye=a,tt=o,gr.transition=i}else t.current=n;if(Nh&&(Nh=!1,Ri=t,ep=s),i=t.pendingLanes,i===0&&(Fi=null),YD(n.stateNode),Bn(t,St()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Zf)throw Zf=!1,t=ov,ov=null,t;return ep&1&&t.tag!==0&&dl(),i=t.pendingLanes,i&1?t===av?ou++:(ou=0,av=t):ou=0,co(),null}function dl(){if(Ri!==null){var t=dA(ep),e=gr.transition,n=tt;try{if(gr.transition=null,tt=16>t?16:t,Ri===null)var r=!1;else{if(t=Ri,Ri=null,ep=0,Ye&6)throw Error(oe(331));var s=Ye;for(Ye|=4,ye=t.current;ye!==null;){var i=ye,o=i.child;if(ye.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(ye=c;ye!==null;){var d=ye;switch(d.tag){case 0:case 11:case 15:su(8,d,i)}var f=d.child;if(f!==null)f.return=d,ye=f;else for(;ye!==null;){d=ye;var h=d.sibling,v=d.return;if(xb(d),d===c){ye=null;break}if(h!==null){h.return=v,ye=h;break}ye=v}}}var E=i.alternate;if(E!==null){var y=E.child;if(y!==null){E.child=null;do{var b=y.sibling;y.sibling=null,y=b}while(y!==null)}}ye=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,ye=o;else e:for(;ye!==null;){if(i=ye,i.flags&2048)switch(i.tag){case 0:case 11:case 15:su(9,i,i.return)}var C=i.sibling;if(C!==null){C.return=i.return,ye=C;break e}ye=i.return}}var w=t.current;for(ye=w;ye!==null;){o=ye;var _=o.child;if(o.subtreeFlags&2064&&_!==null)_.return=o,ye=_;else e:for(o=w;ye!==null;){if(a=ye,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:zp(9,a)}}catch(O){At(a,a.return,O)}if(a===o){ye=null;break e}var R=a.sibling;if(R!==null){R.return=a.return,ye=R;break e}ye=a.return}}if(Ye=s,co(),es&&typeof es.onPostCommitFiberRoot=="function")try{es.onPostCommitFiberRoot(Vp,t)}catch{}r=!0}return r}finally{tt=n,gr.transition=e}}return!1}function AC(t,e,n){e=Dl(n,e),e=db(t,e,1),t=Vi(t,e,1),e=Rn(),t!==null&&(sd(t,1,e),Bn(t,e))}function At(t,e,n){if(t.tag===3)AC(t,t,n);else for(;e!==null;){if(e.tag===3){AC(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Fi===null||!Fi.has(r))){t=Dl(n,t),t=hb(e,t,1),e=Vi(e,t,1),t=Rn(),e!==null&&(sd(e,1,t),Bn(e,t));break}}e=e.return}}function CO(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Rn(),t.pingedLanes|=t.suspendedLanes&n,Yt===t&&(tn&n)===n&&(Bt===4||Bt===3&&(tn&130023424)===tn&&500>St()-hw?Go(t,0):dw|=n),Bn(t,e)}function kb(t,e){e===0&&(t.mode&1?(e=Ch,Ch<<=1,!(Ch&130023424)&&(Ch=4194304)):e=1);var n=Rn();t=js(t,e),t!==null&&(sd(t,e,n),Bn(t,n))}function xO(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),kb(t,n)}function _O(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(oe(314))}r!==null&&r.delete(e),kb(t,n)}var Mb;Mb=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Fn.current)Vn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Vn=!1,uO(t,e,n);Vn=!!(t.flags&131072)}else Vn=!1,vt&&e.flags&1048576&&VA(e,zf,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;of(t,e),t=e.pendingProps;var s=Pl(e,vn.current);ul(e,n),s=iw(null,e,r,t,s,n);var i=ow();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,jn(r)?(i=!0,Gf(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,ew(e),s.updater=$p,e.stateNode=s,s._reactInternals=e,Qy(e,r,t,n),e=Xy(null,e,r,!0,i,n)):(e.tag=0,vt&&i&&K0(e),bn(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(of(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=AO(r),t=Pr(r,t),s){case 0:e=Jy(null,e,r,t,n);break e;case 1:e=mC(null,e,r,t,n);break e;case 11:e=fC(null,e,r,t,n);break e;case 14:e=pC(null,e,r,Pr(r.type,t),n);break e}throw Error(oe(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Pr(r,s),Jy(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Pr(r,s),mC(t,e,r,s,n);case 3:e:{if(gb(e),t===null)throw Error(oe(387));r=e.pendingProps,i=e.memoizedState,s=i.element,GA(t,e),Yf(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=Dl(Error(oe(423)),e),e=gC(t,e,r,n,s);break e}else if(r!==s){s=Dl(Error(oe(424)),e),e=gC(t,e,r,n,s);break e}else for(Jn=Li(e.stateNode.containerInfo.firstChild),Zn=e,vt=!0,Dr=null,n=UA(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Nl(),r===s){e=Bs(t,e,n);break e}bn(t,e,r,n)}e=e.child}return e;case 5:return $A(e),t===null&&Wy(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,Uy(r,s)?o=null:i!==null&&Uy(r,i)&&(e.flags|=32),mb(t,e),bn(t,e,o,n),e.child;case 6:return t===null&&Wy(e),null;case 13:return yb(t,e,n);case 4:return tw(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=kl(e,null,r,n):bn(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Pr(r,s),fC(t,e,r,s,n);case 7:return bn(t,e,e.pendingProps,n),e.child;case 8:return bn(t,e,e.pendingProps.children,n),e.child;case 12:return bn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,at(Wf,r._currentValue),r._currentValue=o,i!==null)if(jr(i.value,o)){if(i.children===s.children&&!Fn.current){e=Bs(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=Ds(-1,n&-n),l.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?l.next=l:(l.next=d.next,d.next=l),c.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),Ky(i.return,n,e),a.lanes|=n;break}l=l.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(oe(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Ky(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}bn(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,ul(e,n),s=vr(s),r=r(s),e.flags|=1,bn(t,e,r,n),e.child;case 14:return r=e.type,s=Pr(r,e.pendingProps),s=Pr(r.type,s),pC(t,e,r,s,n);case 15:return fb(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Pr(r,s),of(t,e),e.tag=1,jn(r)?(t=!0,Gf(e)):t=!1,ul(e,n),ub(e,r,s),Qy(e,r,s,n),Xy(null,e,r,!0,t,n);case 19:return vb(t,e,n);case 22:return pb(t,e,n)}throw Error(oe(156,e.tag))};function Db(t,e){return aA(t,e)}function TO(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function mr(t,e,n,r){return new TO(t,e,n,r)}function gw(t){return t=t.prototype,!(!t||!t.isReactComponent)}function AO(t){if(typeof t=="function")return gw(t)?1:0;if(t!=null){if(t=t.$$typeof,t===O0)return 11;if(t===L0)return 14}return 2}function Bi(t,e){var n=t.alternate;return n===null?(n=mr(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function cf(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")gw(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Ya:return $o(n.children,s,i,e);case D0:o=8,s|=8;break;case wy:return t=mr(12,n,e,s|2),t.elementType=wy,t.lanes=i,t;case Ey:return t=mr(13,n,e,s),t.elementType=Ey,t.lanes=i,t;case Cy:return t=mr(19,n,e,s),t.elementType=Cy,t.lanes=i,t;case $T:return Kp(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case qT:o=10;break e;case GT:o=9;break e;case O0:o=11;break e;case L0:o=14;break e;case pi:o=16,r=null;break e}throw Error(oe(130,t==null?t:typeof t,""))}return e=mr(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function $o(t,e,n,r){return t=mr(7,t,r,e),t.lanes=n,t}function Kp(t,e,n,r){return t=mr(22,t,r,e),t.elementType=$T,t.lanes=n,t.stateNode={isHidden:!1},t}function Lg(t,e,n){return t=mr(6,t,null,e),t.lanes=n,t}function Vg(t,e,n){return e=mr(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function bO(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=yg(0),this.expirationTimes=yg(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=yg(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function yw(t,e,n,r,s,i,o,a,l){return t=new bO(t,e,n,a,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=mr(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},ew(i),t}function IO(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ka,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function Ob(t){if(!t)return Yi;t=t._reactInternals;e:{if(ha(t)!==t||t.tag!==1)throw Error(oe(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(jn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(oe(171))}if(t.tag===1){var n=t.type;if(jn(n))return OA(t,n,e)}return e}function Lb(t,e,n,r,s,i,o,a,l){return t=yw(n,r,!0,t,s,i,o,a,l),t.context=Ob(null),n=t.current,r=Rn(),s=ji(n),i=Ds(r,s),i.callback=e??null,Vi(n,i,s),t.current.lanes=s,sd(t,s,r),Bn(t,r),t}function Yp(t,e,n,r){var s=e.current,i=Rn(),o=ji(s);return n=Ob(n),e.context===null?e.context=n:e.pendingContext=n,e=Ds(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Vi(s,e,o),t!==null&&(Vr(t,s,o,i),nf(t,s,o)),o}function np(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function bC(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function vw(t,e){bC(t,e),(t=t.alternate)&&bC(t,e)}function SO(){return null}var Vb=typeof reportError=="function"?reportError:function(t){console.error(t)};function ww(t){this._internalRoot=t}Qp.prototype.render=ww.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(oe(409));Yp(t,e,null,null)};Qp.prototype.unmount=ww.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;ea(function(){Yp(null,t,null,null)}),e[Fs]=null}};function Qp(t){this._internalRoot=t}Qp.prototype.unstable_scheduleHydration=function(t){if(t){var e=pA();t={blockedOn:null,target:t,priority:e};for(var n=0;n<yi.length&&e!==0&&e<yi[n].priority;n++);yi.splice(n,0,t),n===0&&gA(t)}};function Ew(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Hp(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function IC(){}function RO(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var c=np(o);i.call(c)}}var o=Lb(e,r,t,0,null,!1,!1,"",IC);return t._reactRootContainer=o,t[Fs]=o.current,Tu(t.nodeType===8?t.parentNode:t),ea(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var c=np(l);a.call(c)}}var l=yw(t,0,!1,null,null,!1,!1,"",IC);return t._reactRootContainer=l,t[Fs]=l.current,Tu(t.nodeType===8?t.parentNode:t),ea(function(){Yp(e,l,n,r)}),l}function Jp(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=np(o);a.call(l)}}Yp(e,o,t,s)}else o=RO(n,e,t,s,r);return np(o)}hA=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Bc(e.pendingLanes);n!==0&&(j0(e,n|1),Bn(e,St()),!(Ye&6)&&(Ol=St()+500,co()))}break;case 13:ea(function(){var r=js(t,1);if(r!==null){var s=Rn();Vr(r,t,1,s)}}),vw(t,1)}};B0=function(t){if(t.tag===13){var e=js(t,134217728);if(e!==null){var n=Rn();Vr(e,t,134217728,n)}vw(t,134217728)}};fA=function(t){if(t.tag===13){var e=ji(t),n=js(t,e);if(n!==null){var r=Rn();Vr(n,t,e,r)}vw(t,e)}};pA=function(){return tt};mA=function(t,e){var n=tt;try{return tt=t,e()}finally{tt=n}};Ny=function(t,e,n){switch(e){case"input":if(Ty(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=Up(r);if(!s)throw Error(oe(90));WT(r),Ty(r,s)}}}break;case"textarea":YT(t,n);break;case"select":e=n.value,e!=null&&ol(t,!!n.multiple,e,!1)}};tA=fw;nA=ea;var PO={usingClientEntryPoint:!1,Events:[od,Xa,Up,ZT,eA,fw]},Dc={findFiberByHostInstance:Oo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},NO={bundleType:Dc.bundleType,version:Dc.version,rendererPackageName:Dc.rendererPackageName,rendererConfig:Dc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ys.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=iA(t),t===null?null:t.stateNode},findFiberByHostInstance:Dc.findFiberByHostInstance||SO,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var kh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!kh.isDisabled&&kh.supportsFiber)try{Vp=kh.inject(NO),es=kh}catch{}}rr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=PO;rr.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ew(e))throw Error(oe(200));return IO(t,e,null,n)};rr.createRoot=function(t,e){if(!Ew(t))throw Error(oe(299));var n=!1,r="",s=Vb;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=yw(t,1,!1,null,null,n,!1,r,s),t[Fs]=e.current,Tu(t.nodeType===8?t.parentNode:t),new ww(e)};rr.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(oe(188)):(t=Object.keys(t).join(","),Error(oe(268,t)));return t=iA(e),t=t===null?null:t.stateNode,t};rr.flushSync=function(t){return ea(t)};rr.hydrate=function(t,e,n){if(!Hp(e))throw Error(oe(200));return Jp(null,t,e,!0,n)};rr.hydrateRoot=function(t,e,n){if(!Ew(t))throw Error(oe(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=Vb;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=Lb(e,null,t,1,n??null,s,!1,i,o),t[Fs]=e.current,Tu(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new Qp(e)};rr.render=function(t,e,n){if(!Hp(e))throw Error(oe(200));return Jp(null,t,e,!1,n)};rr.unmountComponentAtNode=function(t){if(!Hp(t))throw Error(oe(40));return t._reactRootContainer?(ea(function(){Jp(null,null,t,!1,function(){t._reactRootContainer=null,t[Fs]=null})}),!0):!1};rr.unstable_batchedUpdates=fw;rr.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Hp(n))throw Error(oe(200));if(t==null||t._reactInternals===void 0)throw Error(oe(38));return Jp(t,e,n,!1,r)};rr.version="18.3.1-next-f1338f8080-20240426";function Fb(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Fb)}catch(t){console.error(t)}}Fb(),FT.exports=rr;var fa=FT.exports;const jb=b0(fa);var Bb,SC=fa;Bb=SC.createRoot,SC.hydrateRoot;const kO=1,MO=1e6;let Fg=0;function DO(){return Fg=(Fg+1)%Number.MAX_SAFE_INTEGER,Fg.toString()}const jg=new Map,RC=t=>{if(jg.has(t))return;const e=setTimeout(()=>{jg.delete(t),au({type:"REMOVE_TOAST",toastId:t})},MO);jg.set(t,e)},OO=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,kO)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?RC(n):t.toasts.forEach(r=>{RC(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},uf=[];let df={toasts:[]};function au(t){df=OO(df,t),uf.forEach(e=>{e(df)})}function it({...t}){const e=DO(),n=s=>au({type:"UPDATE_TOAST",toast:{...s,id:e}}),r=()=>au({type:"DISMISS_TOAST",toastId:e});return au({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:s=>{s||r()}}}),{id:e,dismiss:r,update:n}}function LO(){const[t,e]=g.useState(df);return g.useEffect(()=>(uf.push(e),()=>{const n=uf.indexOf(e);n>-1&&uf.splice(n,1)}),[t]),{...t,toast:it,dismiss:n=>au({type:"DISMISS_TOAST",toastId:n})}}function fe(t,e,{checkForDefaultPrevented:n=!0}={}){return function(s){if(t==null||t(s),n===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function VO(t,e){typeof t=="function"?t(e):t!=null&&(t.current=e)}function Cw(...t){return e=>t.forEach(n=>VO(n,e))}function nt(...t){return g.useCallback(Cw(...t),t)}function FO(t,e=[]){let n=[];function r(i,o){const a=g.createContext(o),l=n.length;n=[...n,o];function c(f){const{scope:h,children:v,...E}=f,y=(h==null?void 0:h[t][l])||a,b=g.useMemo(()=>E,Object.values(E));return p.jsx(y.Provider,{value:b,children:v})}function d(f,h){const v=(h==null?void 0:h[t][l])||a,E=g.useContext(v);if(E)return E;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return c.displayName=i+"Provider",[c,d]}const s=()=>{const i=n.map(o=>g.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return g.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,jO(s,...e)]}function jO(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const f=l(i)[`__scope${c}`];return{...a,...f}},{});return g.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var ta=g.forwardRef((t,e)=>{const{children:n,...r}=t,s=g.Children.toArray(n),i=s.find(BO);if(i){const o=i.props.children,a=s.map(l=>l===i?g.Children.count(o)>1?g.Children.only(null):g.isValidElement(o)?o.props.children:null:l);return p.jsx(uv,{...r,ref:e,children:g.isValidElement(o)?g.cloneElement(o,void 0,a):null})}return p.jsx(uv,{...r,ref:e,children:n})});ta.displayName="Slot";var uv=g.forwardRef((t,e)=>{const{children:n,...r}=t;if(g.isValidElement(n)){const s=qO(n);return g.cloneElement(n,{...UO(r,n.props),ref:e?Cw(e,s):s})}return g.Children.count(n)>1?g.Children.only(null):null});uv.displayName="SlotClone";var Ub=({children:t})=>p.jsx(p.Fragment,{children:t});function BO(t){return g.isValidElement(t)&&t.type===Ub}function UO(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...a)=>{i(...a),s(...a)}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function qO(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function ld(t){const e=t+"CollectionProvider",[n,r]=FO(e),[s,i]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=v=>{const{scope:E,children:y}=v,b=Y.useRef(null),C=Y.useRef(new Map).current;return p.jsx(s,{scope:E,itemMap:C,collectionRef:b,children:y})};o.displayName=e;const a=t+"CollectionSlot",l=Y.forwardRef((v,E)=>{const{scope:y,children:b}=v,C=i(a,y),w=nt(E,C.collectionRef);return p.jsx(ta,{ref:w,children:b})});l.displayName=a;const c=t+"CollectionItemSlot",d="data-radix-collection-item",f=Y.forwardRef((v,E)=>{const{scope:y,children:b,...C}=v,w=Y.useRef(null),_=nt(E,w),R=i(c,y);return Y.useEffect(()=>(R.itemMap.set(w,{ref:w,...C}),()=>void R.itemMap.delete(w))),p.jsx(ta,{[d]:"",ref:_,children:b})});f.displayName=c;function h(v){const E=i(t+"CollectionConsumer",v);return Y.useCallback(()=>{const b=E.collectionRef.current;if(!b)return[];const C=Array.from(b.querySelectorAll(`[${d}]`));return Array.from(E.itemMap.values()).sort((R,O)=>C.indexOf(R.ref.current)-C.indexOf(O.ref.current))},[E.collectionRef,E.itemMap])}return[{Provider:o,Slot:l,ItemSlot:f},h,r]}function Jl(t,e=[]){let n=[];function r(i,o){const a=g.createContext(o),l=n.length;n=[...n,o];const c=f=>{var C;const{scope:h,children:v,...E}=f,y=((C=h==null?void 0:h[t])==null?void 0:C[l])||a,b=g.useMemo(()=>E,Object.values(E));return p.jsx(y.Provider,{value:b,children:v})};c.displayName=i+"Provider";function d(f,h){var y;const v=((y=h==null?void 0:h[t])==null?void 0:y[l])||a,E=g.useContext(v);if(E)return E;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[c,d]}const s=()=>{const i=n.map(o=>g.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return g.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,GO(s,...e)]}function GO(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const f=l(i)[`__scope${c}`];return{...a,...f}},{});return g.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var $O=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Oe=$O.reduce((t,e)=>{const n=g.forwardRef((r,s)=>{const{asChild:i,...o}=r,a=i?ta:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),p.jsx(a,{...o,ref:s})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function xw(t,e){t&&fa.flushSync(()=>t.dispatchEvent(e))}function rn(t){const e=g.useRef(t);return g.useEffect(()=>{e.current=t}),g.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function zO(t,e=globalThis==null?void 0:globalThis.document){const n=rn(t);g.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var WO="DismissableLayer",dv="dismissableLayer.update",KO="dismissableLayer.pointerDownOutside",YO="dismissableLayer.focusOutside",PC,qb=g.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),cd=g.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:a,...l}=t,c=g.useContext(qb),[d,f]=g.useState(null),h=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,v]=g.useState({}),E=nt(e,S=>f(S)),y=Array.from(c.layers),[b]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),C=y.indexOf(b),w=d?y.indexOf(d):-1,_=c.layersWithOutsidePointerEventsDisabled.size>0,R=w>=C,O=HO(S=>{const I=S.target,k=[...c.branches].some(M=>M.contains(I));!R||k||(s==null||s(S),o==null||o(S),S.defaultPrevented||a==null||a())},h),j=JO(S=>{const I=S.target;[...c.branches].some(M=>M.contains(I))||(i==null||i(S),o==null||o(S),S.defaultPrevented||a==null||a())},h);return zO(S=>{w===c.layers.size-1&&(r==null||r(S),!S.defaultPrevented&&a&&(S.preventDefault(),a()))},h),g.useEffect(()=>{if(d)return n&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(PC=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(d)),c.layers.add(d),NC(),()=>{n&&c.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=PC)}},[d,h,n,c]),g.useEffect(()=>()=>{d&&(c.layers.delete(d),c.layersWithOutsidePointerEventsDisabled.delete(d),NC())},[d,c]),g.useEffect(()=>{const S=()=>v({});return document.addEventListener(dv,S),()=>document.removeEventListener(dv,S)},[]),p.jsx(Oe.div,{...l,ref:E,style:{pointerEvents:_?R?"auto":"none":void 0,...t.style},onFocusCapture:fe(t.onFocusCapture,j.onFocusCapture),onBlurCapture:fe(t.onBlurCapture,j.onBlurCapture),onPointerDownCapture:fe(t.onPointerDownCapture,O.onPointerDownCapture)})});cd.displayName=WO;var QO="DismissableLayerBranch",Gb=g.forwardRef((t,e)=>{const n=g.useContext(qb),r=g.useRef(null),s=nt(e,r);return g.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),p.jsx(Oe.div,{...t,ref:s})});Gb.displayName=QO;function HO(t,e=globalThis==null?void 0:globalThis.document){const n=rn(t),r=g.useRef(!1),s=g.useRef(()=>{});return g.useEffect(()=>{const i=a=>{if(a.target&&!r.current){let l=function(){$b(KO,n,c,{discrete:!0})};const c={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=l,e.addEventListener("click",s.current,{once:!0})):l()}else e.removeEventListener("click",s.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function JO(t,e=globalThis==null?void 0:globalThis.document){const n=rn(t),r=g.useRef(!1);return g.useEffect(()=>{const s=i=>{i.target&&!r.current&&$b(YO,n,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function NC(){const t=new CustomEvent(dv);document.dispatchEvent(t)}function $b(t,e,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?xw(s,i):s.dispatchEvent(i)}var XO=cd,ZO=Gb,Qt=globalThis!=null&&globalThis.document?g.useLayoutEffect:()=>{},eL="Portal",Xp=g.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[s,i]=g.useState(!1);Qt(()=>i(!0),[]);const o=n||s&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?jb.createPortal(p.jsx(Oe.div,{...r,ref:e}),o):null});Xp.displayName=eL;function tL(t,e){return g.useReducer((n,r)=>e[n][r]??n,t)}var pa=t=>{const{present:e,children:n}=t,r=nL(e),s=typeof n=="function"?n({present:r.isPresent}):g.Children.only(n),i=nt(r.ref,rL(s));return typeof n=="function"||r.isPresent?g.cloneElement(s,{ref:i}):null};pa.displayName="Presence";function nL(t){const[e,n]=g.useState(),r=g.useRef({}),s=g.useRef(t),i=g.useRef("none"),o=t?"mounted":"unmounted",[a,l]=tL(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return g.useEffect(()=>{const c=Mh(r.current);i.current=a==="mounted"?c:"none"},[a]),Qt(()=>{const c=r.current,d=s.current;if(d!==t){const h=i.current,v=Mh(c);t?l("MOUNT"):v==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(d&&h!==v?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,l]),Qt(()=>{if(e){let c;const d=e.ownerDocument.defaultView??window,f=v=>{const y=Mh(r.current).includes(v.animationName);if(v.target===e&&y&&(l("ANIMATION_END"),!s.current)){const b=e.style.animationFillMode;e.style.animationFillMode="forwards",c=d.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=b)})}},h=v=>{v.target===e&&(i.current=Mh(r.current))};return e.addEventListener("animationstart",h),e.addEventListener("animationcancel",f),e.addEventListener("animationend",f),()=>{d.clearTimeout(c),e.removeEventListener("animationstart",h),e.removeEventListener("animationcancel",f),e.removeEventListener("animationend",f)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:g.useCallback(c=>{c&&(r.current=getComputedStyle(c)),n(c)},[])}}function Mh(t){return(t==null?void 0:t.animationName)||"none"}function rL(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function Mu({prop:t,defaultProp:e,onChange:n=()=>{}}){const[r,s]=sL({defaultProp:e,onChange:n}),i=t!==void 0,o=i?t:r,a=rn(n),l=g.useCallback(c=>{if(i){const f=typeof c=="function"?c(t):c;f!==t&&a(f)}else s(c)},[i,t,s,a]);return[o,l]}function sL({defaultProp:t,onChange:e}){const n=g.useState(t),[r]=n,s=g.useRef(r),i=rn(e);return g.useEffect(()=>{s.current!==r&&(i(r),s.current=r)},[r,s,i]),n}var iL="VisuallyHidden",ud=g.forwardRef((t,e)=>p.jsx(Oe.span,{...t,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}));ud.displayName=iL;var oL=ud,_w="ToastProvider",[Tw,aL,lL]=ld("Toast"),[zb,uY]=Jl("Toast",[lL]),[cL,Zp]=zb(_w),Wb=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:s="right",swipeThreshold:i=50,children:o}=t,[a,l]=g.useState(null),[c,d]=g.useState(0),f=g.useRef(!1),h=g.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${_w}\`. Expected non-empty \`string\`.`),p.jsx(Tw.Provider,{scope:e,children:p.jsx(cL,{scope:e,label:n,duration:r,swipeDirection:s,swipeThreshold:i,toastCount:c,viewport:a,onViewportChange:l,onToastAdd:g.useCallback(()=>d(v=>v+1),[]),onToastRemove:g.useCallback(()=>d(v=>v-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:h,children:o})})};Wb.displayName=_w;var Kb="ToastViewport",uL=["F8"],hv="toast.viewportPause",fv="toast.viewportResume",Yb=g.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=uL,label:s="Notifications ({hotkey})",...i}=t,o=Zp(Kb,n),a=aL(n),l=g.useRef(null),c=g.useRef(null),d=g.useRef(null),f=g.useRef(null),h=nt(e,f,o.onViewportChange),v=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),E=o.toastCount>0;g.useEffect(()=>{const b=C=>{var _;r.length!==0&&r.every(R=>C[R]||C.code===R)&&((_=f.current)==null||_.focus())};return document.addEventListener("keydown",b),()=>document.removeEventListener("keydown",b)},[r]),g.useEffect(()=>{const b=l.current,C=f.current;if(E&&b&&C){const w=()=>{if(!o.isClosePausedRef.current){const j=new CustomEvent(hv);C.dispatchEvent(j),o.isClosePausedRef.current=!0}},_=()=>{if(o.isClosePausedRef.current){const j=new CustomEvent(fv);C.dispatchEvent(j),o.isClosePausedRef.current=!1}},R=j=>{!b.contains(j.relatedTarget)&&_()},O=()=>{b.contains(document.activeElement)||_()};return b.addEventListener("focusin",w),b.addEventListener("focusout",R),b.addEventListener("pointermove",w),b.addEventListener("pointerleave",O),window.addEventListener("blur",w),window.addEventListener("focus",_),()=>{b.removeEventListener("focusin",w),b.removeEventListener("focusout",R),b.removeEventListener("pointermove",w),b.removeEventListener("pointerleave",O),window.removeEventListener("blur",w),window.removeEventListener("focus",_)}}},[E,o.isClosePausedRef]);const y=g.useCallback(({tabbingDirection:b})=>{const w=a().map(_=>{const R=_.ref.current,O=[R,..._L(R)];return b==="forwards"?O:O.reverse()});return(b==="forwards"?w.reverse():w).flat()},[a]);return g.useEffect(()=>{const b=f.current;if(b){const C=w=>{var O,j,S;const _=w.altKey||w.ctrlKey||w.metaKey;if(w.key==="Tab"&&!_){const I=document.activeElement,k=w.shiftKey;if(w.target===b&&k){(O=c.current)==null||O.focus();return}const F=y({tabbingDirection:k?"backwards":"forwards"}),D=F.findIndex(re=>re===I);Bg(F.slice(D+1))?w.preventDefault():k?(j=c.current)==null||j.focus():(S=d.current)==null||S.focus()}};return b.addEventListener("keydown",C),()=>b.removeEventListener("keydown",C)}},[a,y]),p.jsxs(ZO,{ref:l,role:"region","aria-label":s.replace("{hotkey}",v),tabIndex:-1,style:{pointerEvents:E?void 0:"none"},children:[E&&p.jsx(pv,{ref:c,onFocusFromOutsideViewport:()=>{const b=y({tabbingDirection:"forwards"});Bg(b)}}),p.jsx(Tw.Slot,{scope:n,children:p.jsx(Oe.ol,{tabIndex:-1,...i,ref:h})}),E&&p.jsx(pv,{ref:d,onFocusFromOutsideViewport:()=>{const b=y({tabbingDirection:"backwards"});Bg(b)}})]})});Yb.displayName=Kb;var Qb="ToastFocusProxy",pv=g.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...s}=t,i=Zp(Qb,n);return p.jsx(ud,{"aria-hidden":!0,tabIndex:0,...s,ref:e,style:{position:"fixed"},onFocus:o=>{var c;const a=o.relatedTarget;!((c=i.viewport)!=null&&c.contains(a))&&r()}})});pv.displayName=Qb;var em="Toast",dL="toast.swipeStart",hL="toast.swipeMove",fL="toast.swipeCancel",pL="toast.swipeEnd",Hb=g.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:s,onOpenChange:i,...o}=t,[a=!0,l]=Mu({prop:r,defaultProp:s,onChange:i});return p.jsx(pa,{present:n||a,children:p.jsx(yL,{open:a,...o,ref:e,onClose:()=>l(!1),onPause:rn(t.onPause),onResume:rn(t.onResume),onSwipeStart:fe(t.onSwipeStart,c=>{c.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:fe(t.onSwipeMove,c=>{const{x:d,y:f}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","move"),c.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:fe(t.onSwipeCancel,c=>{c.currentTarget.setAttribute("data-swipe","cancel"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:fe(t.onSwipeEnd,c=>{const{x:d,y:f}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","end"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),l(!1)})})})});Hb.displayName=em;var[mL,gL]=zb(em,{onClose(){}}),yL=g.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:s,open:i,onClose:o,onEscapeKeyDown:a,onPause:l,onResume:c,onSwipeStart:d,onSwipeMove:f,onSwipeCancel:h,onSwipeEnd:v,...E}=t,y=Zp(em,n),[b,C]=g.useState(null),w=nt(e,re=>C(re)),_=g.useRef(null),R=g.useRef(null),O=s||y.duration,j=g.useRef(0),S=g.useRef(O),I=g.useRef(0),{onToastAdd:k,onToastRemove:M}=y,V=rn(()=>{var se;(b==null?void 0:b.contains(document.activeElement))&&((se=y.viewport)==null||se.focus()),o()}),F=g.useCallback(re=>{!re||re===1/0||(window.clearTimeout(I.current),j.current=new Date().getTime(),I.current=window.setTimeout(V,re))},[V]);g.useEffect(()=>{const re=y.viewport;if(re){const se=()=>{F(S.current),c==null||c()},ne=()=>{const pe=new Date().getTime()-j.current;S.current=S.current-pe,window.clearTimeout(I.current),l==null||l()};return re.addEventListener(hv,ne),re.addEventListener(fv,se),()=>{re.removeEventListener(hv,ne),re.removeEventListener(fv,se)}}},[y.viewport,O,l,c,F]),g.useEffect(()=>{i&&!y.isClosePausedRef.current&&F(O)},[i,O,y.isClosePausedRef,F]),g.useEffect(()=>(k(),()=>M()),[k,M]);const D=g.useMemo(()=>b?rI(b):null,[b]);return y.viewport?p.jsxs(p.Fragment,{children:[D&&p.jsx(vL,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:D}),p.jsx(mL,{scope:n,onClose:V,children:fa.createPortal(p.jsx(Tw.ItemSlot,{scope:n,children:p.jsx(XO,{asChild:!0,onEscapeKeyDown:fe(a,()=>{y.isFocusedToastEscapeKeyDownRef.current||V(),y.isFocusedToastEscapeKeyDownRef.current=!1}),children:p.jsx(Oe.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":y.swipeDirection,...E,ref:w,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:fe(t.onKeyDown,re=>{re.key==="Escape"&&(a==null||a(re.nativeEvent),re.nativeEvent.defaultPrevented||(y.isFocusedToastEscapeKeyDownRef.current=!0,V()))}),onPointerDown:fe(t.onPointerDown,re=>{re.button===0&&(_.current={x:re.clientX,y:re.clientY})}),onPointerMove:fe(t.onPointerMove,re=>{if(!_.current)return;const se=re.clientX-_.current.x,ne=re.clientY-_.current.y,pe=!!R.current,q=["left","right"].includes(y.swipeDirection),W=["left","up"].includes(y.swipeDirection)?Math.min:Math.max,ie=q?W(0,se):0,ee=q?0:W(0,ne),ae=re.pointerType==="touch"?10:2,ce={x:ie,y:ee},Re={originalEvent:re,delta:ce};pe?(R.current=ce,Dh(hL,f,Re,{discrete:!1})):kC(ce,y.swipeDirection,ae)?(R.current=ce,Dh(dL,d,Re,{discrete:!1}),re.target.setPointerCapture(re.pointerId)):(Math.abs(se)>ae||Math.abs(ne)>ae)&&(_.current=null)}),onPointerUp:fe(t.onPointerUp,re=>{const se=R.current,ne=re.target;if(ne.hasPointerCapture(re.pointerId)&&ne.releasePointerCapture(re.pointerId),R.current=null,_.current=null,se){const pe=re.currentTarget,q={originalEvent:re,delta:se};kC(se,y.swipeDirection,y.swipeThreshold)?Dh(pL,v,q,{discrete:!0}):Dh(fL,h,q,{discrete:!0}),pe.addEventListener("click",W=>W.preventDefault(),{once:!0})}})})})}),y.viewport)})]}):null}),vL=t=>{const{__scopeToast:e,children:n,...r}=t,s=Zp(em,e),[i,o]=g.useState(!1),[a,l]=g.useState(!1);return CL(()=>o(!0)),g.useEffect(()=>{const c=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(c)},[]),a?null:p.jsx(Xp,{asChild:!0,children:p.jsx(ud,{...r,children:i&&p.jsxs(p.Fragment,{children:[s.label," ",n]})})})},wL="ToastTitle",Jb=g.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return p.jsx(Oe.div,{...r,ref:e})});Jb.displayName=wL;var EL="ToastDescription",Xb=g.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return p.jsx(Oe.div,{...r,ref:e})});Xb.displayName=EL;var Zb="ToastAction",eI=g.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?p.jsx(nI,{altText:n,asChild:!0,children:p.jsx(Aw,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${Zb}\`. Expected non-empty \`string\`.`),null)});eI.displayName=Zb;var tI="ToastClose",Aw=g.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,s=gL(tI,n);return p.jsx(nI,{asChild:!0,children:p.jsx(Oe.button,{type:"button",...r,ref:e,onClick:fe(t.onClick,s.onClose)})})});Aw.displayName=tI;var nI=g.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...s}=t;return p.jsx(Oe.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...s,ref:e})});function rI(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),xL(r)){const s=r.ariaHidden||r.hidden||r.style.display==="none",i=r.dataset.radixToastAnnounceExclude==="";if(!s)if(i){const o=r.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...rI(r))}}),e}function Dh(t,e,n,{discrete:r}){const s=n.originalEvent.currentTarget,i=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?xw(s,i):s.dispatchEvent(i)}var kC=(t,e,n=0)=>{const r=Math.abs(t.x),s=Math.abs(t.y),i=r>s;return e==="left"||e==="right"?i&&r>n:!i&&s>n};function CL(t=()=>{}){const e=rn(t);Qt(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function xL(t){return t.nodeType===t.ELEMENT_NODE}function _L(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function Bg(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var TL=Wb,sI=Yb,iI=Hb,oI=Jb,aI=Xb,lI=eI,cI=Aw;function uI(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=uI(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function dI(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=uI(t))&&(r&&(r+=" "),r+=e);return r}const MC=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,DC=dI,bw=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return DC(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:i}=e,o=Object.keys(s).map(c=>{const d=n==null?void 0:n[c],f=i==null?void 0:i[c];if(d===null)return null;const h=MC(d)||MC(f);return s[c][h]}),a=n&&Object.entries(n).reduce((c,d)=>{let[f,h]=d;return h===void 0||(c[f]=h),c},{}),l=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((c,d)=>{let{class:f,className:h,...v}=d;return Object.entries(v).every(E=>{let[y,b]=E;return Array.isArray(b)?b.includes({...i,...a}[y]):{...i,...a}[y]===b})?[...c,f,h]:c},[]);return DC(t,o,l,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AL=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),hI=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var bL={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IL=g.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:o,...a},l)=>g.createElement("svg",{ref:l,...bL,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:hI("lucide",s),...a},[...o.map(([c,d])=>g.createElement(c,d)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ht=(t,e)=>{const n=g.forwardRef(({className:r,...s},i)=>g.createElement(IL,{ref:i,iconNode:e,className:hI(`lucide-${AL(t)}`,r),...s}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dd=Ht("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fI=Ht("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pI=Ht("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SL=Ht("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RL=Ht("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PL=Ht("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mv=Ht("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NL=Ht("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kL=Ht("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iw=Ht("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ML=Ht("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DL=Ht("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OL=Ht("ScanLine",[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}],["path",{d:"M7 12h10",key:"b7w52i"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mI=Ht("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gI=Ht("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gv=Ht("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rp=Ht("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yI=Ht("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Sw="-",LL=t=>{const e=FL(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const a=o.split(Sw);return a[0]===""&&a.length!==1&&a.shift(),vI(a,e)||VL(o)},getConflictingClassGroupIds:(o,a)=>{const l=n[o]||[];return a&&r[o]?[...l,...r[o]]:l}}},vI=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),s=r?vI(t.slice(1),r):void 0;if(s)return s;if(e.validators.length===0)return;const i=t.join(Sw);return(o=e.validators.find(({validator:a})=>a(i)))==null?void 0:o.classGroupId},OC=/^\[(.+)\]$/,VL=t=>{if(OC.test(t)){const e=OC.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},FL=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return BL(Object.entries(t.classGroups),n).forEach(([i,o])=>{yv(o,r,i,e)}),r},yv=(t,e,n,r)=>{t.forEach(s=>{if(typeof s=="string"){const i=s===""?e:LC(e,s);i.classGroupId=n;return}if(typeof s=="function"){if(jL(s)){yv(s(r),e,n,r);return}e.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([i,o])=>{yv(o,LC(e,i),n,r)})})},LC=(t,e)=>{let n=t;return e.split(Sw).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},jL=t=>t.isThemeGetter,BL=(t,e)=>e?t.map(([n,r])=>{const s=r.map(i=>typeof i=="string"?e+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,a])=>[e+o,a])):i);return[n,s]}):t,UL=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const s=(i,o)=>{n.set(i,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(i){let o=n.get(i);if(o!==void 0)return o;if((o=r.get(i))!==void 0)return s(i,o),o},set(i,o){n.has(i)?n.set(i,o):s(i,o)}}},wI="!",qL=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,s=e[0],i=e.length,o=a=>{const l=[];let c=0,d=0,f;for(let b=0;b<a.length;b++){let C=a[b];if(c===0){if(C===s&&(r||a.slice(b,b+i)===e)){l.push(a.slice(d,b)),d=b+i;continue}if(C==="/"){f=b;continue}}C==="["?c++:C==="]"&&c--}const h=l.length===0?a:a.substring(d),v=h.startsWith(wI),E=v?h.substring(1):h,y=f&&f>d?f-d:void 0;return{modifiers:l,hasImportantModifier:v,baseClassName:E,maybePostfixModifierPosition:y}};return n?a=>n({className:a,parseClassName:o}):o},GL=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},$L=t=>({cache:UL(t.cacheSize),parseClassName:qL(t),...LL(t)}),zL=/\s+/,WL=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=e,i=[],o=t.trim().split(zL);let a="";for(let l=o.length-1;l>=0;l-=1){const c=o[l],{modifiers:d,hasImportantModifier:f,baseClassName:h,maybePostfixModifierPosition:v}=n(c);let E=!!v,y=r(E?h.substring(0,v):h);if(!y){if(!E){a=c+(a.length>0?" "+a:a);continue}if(y=r(h),!y){a=c+(a.length>0?" "+a:a);continue}E=!1}const b=GL(d).join(":"),C=f?b+wI:b,w=C+y;if(i.includes(w))continue;i.push(w);const _=s(y,E);for(let R=0;R<_.length;++R){const O=_[R];i.push(C+O)}a=c+(a.length>0?" "+a:a)}return a};function KL(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=EI(e))&&(r&&(r+=" "),r+=n);return r}const EI=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=EI(t[r]))&&(n&&(n+=" "),n+=e);return n};function YL(t,...e){let n,r,s,i=o;function o(l){const c=e.reduce((d,f)=>f(d),t());return n=$L(c),r=n.cache.get,s=n.cache.set,i=a,a(l)}function a(l){const c=r(l);if(c)return c;const d=WL(l,n);return s(l,d),d}return function(){return i(KL.apply(null,arguments))}}const ct=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},CI=/^\[(?:([a-z-]+):)?(.+)\]$/i,QL=/^\d+\/\d+$/,HL=new Set(["px","full","screen"]),JL=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,XL=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,ZL=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,eV=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,tV=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,As=t=>hl(t)||HL.has(t)||QL.test(t),li=t=>Xl(t,"length",cV),hl=t=>!!t&&!Number.isNaN(Number(t)),Ug=t=>Xl(t,"number",hl),Oc=t=>!!t&&Number.isInteger(Number(t)),nV=t=>t.endsWith("%")&&hl(t.slice(0,-1)),Me=t=>CI.test(t),ci=t=>JL.test(t),rV=new Set(["length","size","percentage"]),sV=t=>Xl(t,rV,xI),iV=t=>Xl(t,"position",xI),oV=new Set(["image","url"]),aV=t=>Xl(t,oV,dV),lV=t=>Xl(t,"",uV),Lc=()=>!0,Xl=(t,e,n)=>{const r=CI.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},cV=t=>XL.test(t)&&!ZL.test(t),xI=()=>!1,uV=t=>eV.test(t),dV=t=>tV.test(t),hV=()=>{const t=ct("colors"),e=ct("spacing"),n=ct("blur"),r=ct("brightness"),s=ct("borderColor"),i=ct("borderRadius"),o=ct("borderSpacing"),a=ct("borderWidth"),l=ct("contrast"),c=ct("grayscale"),d=ct("hueRotate"),f=ct("invert"),h=ct("gap"),v=ct("gradientColorStops"),E=ct("gradientColorStopPositions"),y=ct("inset"),b=ct("margin"),C=ct("opacity"),w=ct("padding"),_=ct("saturate"),R=ct("scale"),O=ct("sepia"),j=ct("skew"),S=ct("space"),I=ct("translate"),k=()=>["auto","contain","none"],M=()=>["auto","hidden","clip","visible","scroll"],V=()=>["auto",Me,e],F=()=>[Me,e],D=()=>["",As,li],re=()=>["auto",hl,Me],se=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],ne=()=>["solid","dashed","dotted","double","none"],pe=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],q=()=>["start","end","center","between","around","evenly","stretch"],W=()=>["","0",Me],ie=()=>["auto","avoid","all","avoid-page","page","left","right","column"],ee=()=>[hl,Me];return{cacheSize:500,separator:":",theme:{colors:[Lc],spacing:[As,li],blur:["none","",ci,Me],brightness:ee(),borderColor:[t],borderRadius:["none","","full",ci,Me],borderSpacing:F(),borderWidth:D(),contrast:ee(),grayscale:W(),hueRotate:ee(),invert:W(),gap:F(),gradientColorStops:[t],gradientColorStopPositions:[nV,li],inset:V(),margin:V(),opacity:ee(),padding:F(),saturate:ee(),scale:ee(),sepia:W(),skew:ee(),space:F(),translate:F()},classGroups:{aspect:[{aspect:["auto","square","video",Me]}],container:["container"],columns:[{columns:[ci]}],"break-after":[{"break-after":ie()}],"break-before":[{"break-before":ie()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...se(),Me]}],overflow:[{overflow:M()}],"overflow-x":[{"overflow-x":M()}],"overflow-y":[{"overflow-y":M()}],overscroll:[{overscroll:k()}],"overscroll-x":[{"overscroll-x":k()}],"overscroll-y":[{"overscroll-y":k()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[y]}],"inset-x":[{"inset-x":[y]}],"inset-y":[{"inset-y":[y]}],start:[{start:[y]}],end:[{end:[y]}],top:[{top:[y]}],right:[{right:[y]}],bottom:[{bottom:[y]}],left:[{left:[y]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Oc,Me]}],basis:[{basis:V()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Me]}],grow:[{grow:W()}],shrink:[{shrink:W()}],order:[{order:["first","last","none",Oc,Me]}],"grid-cols":[{"grid-cols":[Lc]}],"col-start-end":[{col:["auto",{span:["full",Oc,Me]},Me]}],"col-start":[{"col-start":re()}],"col-end":[{"col-end":re()}],"grid-rows":[{"grid-rows":[Lc]}],"row-start-end":[{row:["auto",{span:[Oc,Me]},Me]}],"row-start":[{"row-start":re()}],"row-end":[{"row-end":re()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Me]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Me]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...q()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...q(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...q(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[w]}],px:[{px:[w]}],py:[{py:[w]}],ps:[{ps:[w]}],pe:[{pe:[w]}],pt:[{pt:[w]}],pr:[{pr:[w]}],pb:[{pb:[w]}],pl:[{pl:[w]}],m:[{m:[b]}],mx:[{mx:[b]}],my:[{my:[b]}],ms:[{ms:[b]}],me:[{me:[b]}],mt:[{mt:[b]}],mr:[{mr:[b]}],mb:[{mb:[b]}],ml:[{ml:[b]}],"space-x":[{"space-x":[S]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[S]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Me,e]}],"min-w":[{"min-w":[Me,e,"min","max","fit"]}],"max-w":[{"max-w":[Me,e,"none","full","min","max","fit","prose",{screen:[ci]},ci]}],h:[{h:[Me,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Me,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Me,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Me,e,"auto","min","max","fit"]}],"font-size":[{text:["base",ci,li]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Ug]}],"font-family":[{font:[Lc]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Me]}],"line-clamp":[{"line-clamp":["none",hl,Ug]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",As,Me]}],"list-image":[{"list-image":["none",Me]}],"list-style-type":[{list:["none","disc","decimal",Me]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[C]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[C]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ne(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",As,li]}],"underline-offset":[{"underline-offset":["auto",As,Me]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:F()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Me]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Me]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[C]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...se(),iV]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",sV]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},aV]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[E]}],"gradient-via-pos":[{via:[E]}],"gradient-to-pos":[{to:[E]}],"gradient-from":[{from:[v]}],"gradient-via":[{via:[v]}],"gradient-to":[{to:[v]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[C]}],"border-style":[{border:[...ne(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[C]}],"divide-style":[{divide:ne()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...ne()]}],"outline-offset":[{"outline-offset":[As,Me]}],"outline-w":[{outline:[As,li]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:D()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[C]}],"ring-offset-w":[{"ring-offset":[As,li]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",ci,lV]}],"shadow-color":[{shadow:[Lc]}],opacity:[{opacity:[C]}],"mix-blend":[{"mix-blend":[...pe(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":pe()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",ci,Me]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[_]}],sepia:[{sepia:[O]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[C]}],"backdrop-saturate":[{"backdrop-saturate":[_]}],"backdrop-sepia":[{"backdrop-sepia":[O]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Me]}],duration:[{duration:ee()}],ease:[{ease:["linear","in","out","in-out",Me]}],delay:[{delay:ee()}],animate:[{animate:["none","spin","ping","pulse","bounce",Me]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[R]}],"scale-x":[{"scale-x":[R]}],"scale-y":[{"scale-y":[R]}],rotate:[{rotate:[Oc,Me]}],"translate-x":[{"translate-x":[I]}],"translate-y":[{"translate-y":[I]}],"skew-x":[{"skew-x":[j]}],"skew-y":[{"skew-y":[j]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Me]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Me]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":F()}],"scroll-mx":[{"scroll-mx":F()}],"scroll-my":[{"scroll-my":F()}],"scroll-ms":[{"scroll-ms":F()}],"scroll-me":[{"scroll-me":F()}],"scroll-mt":[{"scroll-mt":F()}],"scroll-mr":[{"scroll-mr":F()}],"scroll-mb":[{"scroll-mb":F()}],"scroll-ml":[{"scroll-ml":F()}],"scroll-p":[{"scroll-p":F()}],"scroll-px":[{"scroll-px":F()}],"scroll-py":[{"scroll-py":F()}],"scroll-ps":[{"scroll-ps":F()}],"scroll-pe":[{"scroll-pe":F()}],"scroll-pt":[{"scroll-pt":F()}],"scroll-pr":[{"scroll-pr":F()}],"scroll-pb":[{"scroll-pb":F()}],"scroll-pl":[{"scroll-pl":F()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Me]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[As,li,Ug]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},fV=YL(hV),pV=()=>{};var VC={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _I=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},mV=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],a=t[n++],l=((s&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},TI={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,a=o?t[s+1]:0,l=s+2<t.length,c=l?t[s+2]:0,d=i>>2,f=(i&3)<<4|a>>4;let h=(a&15)<<2|c>>6,v=c&63;l||(v=64,o||(h=64)),r.push(n[d],n[f],n[h],n[v])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(_I(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):mV(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],a=s<t.length?n[t.charAt(s)]:0;++s;const c=s<t.length?n[t.charAt(s)]:64;++s;const f=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||a==null||c==null||f==null)throw new gV;const h=i<<2|a>>4;if(r.push(h),c!==64){const v=a<<4&240|c>>2;if(r.push(v),f!==64){const E=c<<6&192|f;r.push(E)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class gV extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const yV=function(t){const e=_I(t);return TI.encodeByteArray(e,!0)},sp=function(t){return yV(t).replace(/\./g,"")},AI=function(t){try{return TI.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vV(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wV=()=>vV().__FIREBASE_DEFAULTS__,EV=()=>{if(typeof process>"u"||typeof VC>"u")return;const t=VC.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},CV=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&AI(t[1]);return e&&JSON.parse(e)},tm=()=>{try{return pV()||wV()||EV()||CV()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},bI=t=>{var e,n;return(n=(e=tm())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},xV=t=>{const e=bI(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},II=()=>{var t;return(t=tm())===null||t===void 0?void 0:t.config},SI=t=>{var e;return(e=tm())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _V{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zl(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function RI(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TV(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t);return[sp(JSON.stringify(n)),sp(JSON.stringify(o)),""].join(".")}const lu={};function AV(){const t={prod:[],emulator:[]};for(const e of Object.keys(lu))lu[e]?t.emulator.push(e):t.prod.push(e);return t}function bV(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let FC=!1;function PI(t,e){if(typeof window>"u"||typeof document>"u"||!Zl(window.location.host)||lu[t]===e||lu[t]||FC)return;lu[t]=e;function n(h){return`__firebase__banner__${h}`}const r="__firebase__banner",i=AV().prod.length>0;function o(){const h=document.getElementById(r);h&&h.remove()}function a(h){h.style.display="flex",h.style.background="#7faaf0",h.style.position="fixed",h.style.bottom="5px",h.style.left="5px",h.style.padding=".5em",h.style.borderRadius="5px",h.style.alignItems="center"}function l(h,v){h.setAttribute("width","24"),h.setAttribute("id",v),h.setAttribute("height","24"),h.setAttribute("viewBox","0 0 24 24"),h.setAttribute("fill","none"),h.style.marginLeft="-6px"}function c(){const h=document.createElement("span");return h.style.cursor="pointer",h.style.marginLeft="16px",h.style.fontSize="24px",h.innerHTML=" &times;",h.onclick=()=>{FC=!0,o()},h}function d(h,v){h.setAttribute("id",v),h.innerText="Learn more",h.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",h.setAttribute("target","__blank"),h.style.paddingLeft="5px",h.style.textDecoration="underline"}function f(){const h=bV(r),v=n("text"),E=document.getElementById(v)||document.createElement("span"),y=n("learnmore"),b=document.getElementById(y)||document.createElement("a"),C=n("preprendIcon"),w=document.getElementById(C)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(h.created){const _=h.element;a(_),d(b,y);const R=c();l(w,C),_.append(w,E,b,R),document.body.appendChild(_)}i?(E.innerText="Preview backend disconnected.",w.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(w.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,E.innerText="Preview backend running in this workspace."),E.setAttribute("id",v)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",f):f()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function IV(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(wn())}function SV(){var t;const e=(t=tm())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function RV(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function PV(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function NV(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function kV(){const t=wn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function MV(){return!SV()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function DV(){try{return typeof indexedDB=="object"}catch{return!1}}function OV(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)===null||i===void 0?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LV="FirebaseError";class Qs extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=LV,Object.setPrototypeOf(this,Qs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,hd.prototype.create)}}class hd{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?VV(i,r):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new Qs(s,a,r)}}function VV(t,e){return t.replace(FV,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const FV=/\{\$([^}]+)}/g;function jV(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function na(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(jC(i)&&jC(o)){if(!na(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function jC(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fd(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function qc(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,i]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(i)}}),e}function Gc(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function BV(t,e){const n=new UV(t,e);return n.subscribe.bind(n)}class UV{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");qV(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=qg),s.error===void 0&&(s.error=qg),s.complete===void 0&&(s.complete=qg);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function qV(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function qg(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lt(t){return t&&t._delegate?t._delegate:t}class ra{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Do="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let GV=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new _V;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(zV(e))try{this.getOrInitializeService({instanceIdentifier:Do})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=Do){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Do){return this.instances.has(e)}getOptions(e=Do){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);r===a&&o.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),i=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;i.add(e),this.onInitCallbacks.set(s,i);const o=this.instances.get(s);return o&&e(o,s),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:$V(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Do){return this.component?this.component.multipleInstances?e:Do:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function $V(t){return t===Do?void 0:t}function zV(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WV{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new GV(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ue;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ue||(Ue={}));const KV={debug:Ue.DEBUG,verbose:Ue.VERBOSE,info:Ue.INFO,warn:Ue.WARN,error:Ue.ERROR,silent:Ue.SILENT},YV=Ue.INFO,QV={[Ue.DEBUG]:"log",[Ue.VERBOSE]:"log",[Ue.INFO]:"info",[Ue.WARN]:"warn",[Ue.ERROR]:"error"},HV=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=QV[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Rw{constructor(e){this.name=e,this._logLevel=YV,this._logHandler=HV,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ue))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?KV[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ue.DEBUG,...e),this._logHandler(this,Ue.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ue.VERBOSE,...e),this._logHandler(this,Ue.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ue.INFO,...e),this._logHandler(this,Ue.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ue.WARN,...e),this._logHandler(this,Ue.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ue.ERROR,...e),this._logHandler(this,Ue.ERROR,...e)}}const JV=(t,e)=>e.some(n=>t instanceof n);let BC,UC;function XV(){return BC||(BC=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function ZV(){return UC||(UC=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const NI=new WeakMap,vv=new WeakMap,kI=new WeakMap,Gg=new WeakMap,Pw=new WeakMap;function eF(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(Ui(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&NI.set(n,t)}).catch(()=>{}),Pw.set(e,t),e}function tF(t){if(vv.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});vv.set(t,e)}let wv={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return vv.get(t);if(e==="objectStoreNames")return t.objectStoreNames||kI.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ui(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function nF(t){wv=t(wv)}function rF(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call($g(this),e,...n);return kI.set(r,e.sort?e.sort():[e]),Ui(r)}:ZV().includes(t)?function(...e){return t.apply($g(this),e),Ui(NI.get(this))}:function(...e){return Ui(t.apply($g(this),e))}}function sF(t){return typeof t=="function"?rF(t):(t instanceof IDBTransaction&&tF(t),JV(t,XV())?new Proxy(t,wv):t)}function Ui(t){if(t instanceof IDBRequest)return eF(t);if(Gg.has(t))return Gg.get(t);const e=sF(t);return e!==t&&(Gg.set(t,e),Pw.set(e,t)),e}const $g=t=>Pw.get(t);function iF(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),a=Ui(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Ui(o.result),l.oldVersion,l.newVersion,Ui(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{i&&l.addEventListener("close",()=>i()),s&&l.addEventListener("versionchange",c=>s(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const oF=["get","getKey","getAll","getAllKeys","count"],aF=["put","add","delete","clear"],zg=new Map;function qC(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(zg.get(e))return zg.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=aF.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||oF.includes(n)))return;const i=async function(o,...a){const l=this.transaction(o,s?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),s&&l.done]))[0]};return zg.set(e,i),i}nF(t=>({...t,get:(e,n,r)=>qC(e,n)||t.get(e,n,r),has:(e,n)=>!!qC(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lF{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(cF(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function cF(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Ev="@firebase/app",GC="0.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Us=new Rw("@firebase/app"),uF="@firebase/app-compat",dF="@firebase/analytics-compat",hF="@firebase/analytics",fF="@firebase/app-check-compat",pF="@firebase/app-check",mF="@firebase/auth",gF="@firebase/auth-compat",yF="@firebase/database",vF="@firebase/data-connect",wF="@firebase/database-compat",EF="@firebase/functions",CF="@firebase/functions-compat",xF="@firebase/installations",_F="@firebase/installations-compat",TF="@firebase/messaging",AF="@firebase/messaging-compat",bF="@firebase/performance",IF="@firebase/performance-compat",SF="@firebase/remote-config",RF="@firebase/remote-config-compat",PF="@firebase/storage",NF="@firebase/storage-compat",kF="@firebase/firestore",MF="@firebase/ai",DF="@firebase/firestore-compat",OF="firebase",LF="11.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cv="[DEFAULT]",VF={[Ev]:"fire-core",[uF]:"fire-core-compat",[hF]:"fire-analytics",[dF]:"fire-analytics-compat",[pF]:"fire-app-check",[fF]:"fire-app-check-compat",[mF]:"fire-auth",[gF]:"fire-auth-compat",[yF]:"fire-rtdb",[vF]:"fire-data-connect",[wF]:"fire-rtdb-compat",[EF]:"fire-fn",[CF]:"fire-fn-compat",[xF]:"fire-iid",[_F]:"fire-iid-compat",[TF]:"fire-fcm",[AF]:"fire-fcm-compat",[bF]:"fire-perf",[IF]:"fire-perf-compat",[SF]:"fire-rc",[RF]:"fire-rc-compat",[PF]:"fire-gcs",[NF]:"fire-gcs-compat",[kF]:"fire-fst",[DF]:"fire-fst-compat",[MF]:"fire-vertex","fire-js":"fire-js",[OF]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Du=new Map,FF=new Map,xv=new Map;function $C(t,e){try{t.container.addComponent(e)}catch(n){Us.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Ll(t){const e=t.name;if(xv.has(e))return Us.debug(`There were multiple attempts to register component ${e}.`),!1;xv.set(e,t);for(const n of Du.values())$C(n,t);for(const n of FF.values())$C(n,t);return!0}function Nw(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function fr(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jF={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},qi=new hd("app","Firebase",jF);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BF{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ra("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw qi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ec=LF;function MI(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Cv,automaticDataCollectionEnabled:!0},e),s=r.name;if(typeof s!="string"||!s)throw qi.create("bad-app-name",{appName:String(s)});if(n||(n=II()),!n)throw qi.create("no-options");const i=Du.get(s);if(i){if(na(n,i.options)&&na(r,i.config))return i;throw qi.create("duplicate-app",{appName:s})}const o=new WV(s);for(const l of xv.values())o.addComponent(l);const a=new BF(n,r,o);return Du.set(s,a),a}function kw(t=Cv){const e=Du.get(t);if(!e&&t===Cv&&II())return MI();if(!e)throw qi.create("no-app",{appName:t});return e}function UF(){return Array.from(Du.values())}function Gi(t,e,n){var r;let s=(r=VF[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const i=s.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const a=[`Unable to register library "${s}" with version "${e}":`];i&&a.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Us.warn(a.join(" "));return}Ll(new ra(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qF="firebase-heartbeat-database",GF=1,Ou="firebase-heartbeat-store";let Wg=null;function DI(){return Wg||(Wg=iF(qF,GF,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Ou)}catch(n){console.warn(n)}}}}).catch(t=>{throw qi.create("idb-open",{originalErrorMessage:t.message})})),Wg}async function $F(t){try{const n=(await DI()).transaction(Ou),r=await n.objectStore(Ou).get(OI(t));return await n.done,r}catch(e){if(e instanceof Qs)Us.warn(e.message);else{const n=qi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Us.warn(n.message)}}}async function zC(t,e){try{const r=(await DI()).transaction(Ou,"readwrite");await r.objectStore(Ou).put(e,OI(t)),await r.done}catch(n){if(n instanceof Qs)Us.warn(n.message);else{const r=qi.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Us.warn(r.message)}}}function OI(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zF=1024,WF=30;class KF{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new QF(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=WC();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats.length>WF){const o=HF(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Us.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=WC(),{heartbeatsToSend:r,unsentEntries:s}=YF(this._heartbeatsCache.heartbeats),i=sp(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return Us.warn(n),""}}}function WC(){return new Date().toISOString().substring(0,10)}function YF(t,e=zF){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),KC(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),KC(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class QF{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return DV()?OV().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await $F(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return zC(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return zC(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function KC(t){return sp(JSON.stringify({version:2,heartbeats:t})).length}function HF(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JF(t){Ll(new ra("platform-logger",e=>new lF(e),"PRIVATE")),Ll(new ra("heartbeat",e=>new KF(e),"PRIVATE")),Gi(Ev,GC,t),Gi(Ev,GC,"esm2017"),Gi("fire-js","")}JF("");var XF="firebase",ZF="11.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Gi(XF,ZF,"app");var YC=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var $i,LI;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(S,I){function k(){}k.prototype=I.prototype,S.D=I.prototype,S.prototype=new k,S.prototype.constructor=S,S.C=function(M,V,F){for(var D=Array(arguments.length-2),re=2;re<arguments.length;re++)D[re-2]=arguments[re];return I.prototype[V].apply(M,D)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(S,I,k){k||(k=0);var M=Array(16);if(typeof I=="string")for(var V=0;16>V;++V)M[V]=I.charCodeAt(k++)|I.charCodeAt(k++)<<8|I.charCodeAt(k++)<<16|I.charCodeAt(k++)<<24;else for(V=0;16>V;++V)M[V]=I[k++]|I[k++]<<8|I[k++]<<16|I[k++]<<24;I=S.g[0],k=S.g[1],V=S.g[2];var F=S.g[3],D=I+(F^k&(V^F))+M[0]+3614090360&4294967295;I=k+(D<<7&4294967295|D>>>25),D=F+(V^I&(k^V))+M[1]+3905402710&4294967295,F=I+(D<<12&4294967295|D>>>20),D=V+(k^F&(I^k))+M[2]+606105819&4294967295,V=F+(D<<17&4294967295|D>>>15),D=k+(I^V&(F^I))+M[3]+3250441966&4294967295,k=V+(D<<22&4294967295|D>>>10),D=I+(F^k&(V^F))+M[4]+4118548399&4294967295,I=k+(D<<7&4294967295|D>>>25),D=F+(V^I&(k^V))+M[5]+1200080426&4294967295,F=I+(D<<12&4294967295|D>>>20),D=V+(k^F&(I^k))+M[6]+2821735955&4294967295,V=F+(D<<17&4294967295|D>>>15),D=k+(I^V&(F^I))+M[7]+4249261313&4294967295,k=V+(D<<22&4294967295|D>>>10),D=I+(F^k&(V^F))+M[8]+1770035416&4294967295,I=k+(D<<7&4294967295|D>>>25),D=F+(V^I&(k^V))+M[9]+2336552879&4294967295,F=I+(D<<12&4294967295|D>>>20),D=V+(k^F&(I^k))+M[10]+4294925233&4294967295,V=F+(D<<17&4294967295|D>>>15),D=k+(I^V&(F^I))+M[11]+2304563134&4294967295,k=V+(D<<22&4294967295|D>>>10),D=I+(F^k&(V^F))+M[12]+1804603682&4294967295,I=k+(D<<7&4294967295|D>>>25),D=F+(V^I&(k^V))+M[13]+4254626195&4294967295,F=I+(D<<12&4294967295|D>>>20),D=V+(k^F&(I^k))+M[14]+2792965006&4294967295,V=F+(D<<17&4294967295|D>>>15),D=k+(I^V&(F^I))+M[15]+1236535329&4294967295,k=V+(D<<22&4294967295|D>>>10),D=I+(V^F&(k^V))+M[1]+4129170786&4294967295,I=k+(D<<5&4294967295|D>>>27),D=F+(k^V&(I^k))+M[6]+3225465664&4294967295,F=I+(D<<9&4294967295|D>>>23),D=V+(I^k&(F^I))+M[11]+643717713&4294967295,V=F+(D<<14&4294967295|D>>>18),D=k+(F^I&(V^F))+M[0]+3921069994&4294967295,k=V+(D<<20&4294967295|D>>>12),D=I+(V^F&(k^V))+M[5]+3593408605&4294967295,I=k+(D<<5&4294967295|D>>>27),D=F+(k^V&(I^k))+M[10]+38016083&4294967295,F=I+(D<<9&4294967295|D>>>23),D=V+(I^k&(F^I))+M[15]+3634488961&4294967295,V=F+(D<<14&4294967295|D>>>18),D=k+(F^I&(V^F))+M[4]+3889429448&4294967295,k=V+(D<<20&4294967295|D>>>12),D=I+(V^F&(k^V))+M[9]+568446438&4294967295,I=k+(D<<5&4294967295|D>>>27),D=F+(k^V&(I^k))+M[14]+3275163606&4294967295,F=I+(D<<9&4294967295|D>>>23),D=V+(I^k&(F^I))+M[3]+4107603335&4294967295,V=F+(D<<14&4294967295|D>>>18),D=k+(F^I&(V^F))+M[8]+1163531501&4294967295,k=V+(D<<20&4294967295|D>>>12),D=I+(V^F&(k^V))+M[13]+2850285829&4294967295,I=k+(D<<5&4294967295|D>>>27),D=F+(k^V&(I^k))+M[2]+4243563512&4294967295,F=I+(D<<9&4294967295|D>>>23),D=V+(I^k&(F^I))+M[7]+1735328473&4294967295,V=F+(D<<14&4294967295|D>>>18),D=k+(F^I&(V^F))+M[12]+2368359562&4294967295,k=V+(D<<20&4294967295|D>>>12),D=I+(k^V^F)+M[5]+4294588738&4294967295,I=k+(D<<4&4294967295|D>>>28),D=F+(I^k^V)+M[8]+2272392833&4294967295,F=I+(D<<11&4294967295|D>>>21),D=V+(F^I^k)+M[11]+1839030562&4294967295,V=F+(D<<16&4294967295|D>>>16),D=k+(V^F^I)+M[14]+4259657740&4294967295,k=V+(D<<23&4294967295|D>>>9),D=I+(k^V^F)+M[1]+2763975236&4294967295,I=k+(D<<4&4294967295|D>>>28),D=F+(I^k^V)+M[4]+1272893353&4294967295,F=I+(D<<11&4294967295|D>>>21),D=V+(F^I^k)+M[7]+4139469664&4294967295,V=F+(D<<16&4294967295|D>>>16),D=k+(V^F^I)+M[10]+3200236656&4294967295,k=V+(D<<23&4294967295|D>>>9),D=I+(k^V^F)+M[13]+681279174&4294967295,I=k+(D<<4&4294967295|D>>>28),D=F+(I^k^V)+M[0]+3936430074&4294967295,F=I+(D<<11&4294967295|D>>>21),D=V+(F^I^k)+M[3]+3572445317&4294967295,V=F+(D<<16&4294967295|D>>>16),D=k+(V^F^I)+M[6]+76029189&4294967295,k=V+(D<<23&4294967295|D>>>9),D=I+(k^V^F)+M[9]+3654602809&4294967295,I=k+(D<<4&4294967295|D>>>28),D=F+(I^k^V)+M[12]+3873151461&4294967295,F=I+(D<<11&4294967295|D>>>21),D=V+(F^I^k)+M[15]+530742520&4294967295,V=F+(D<<16&4294967295|D>>>16),D=k+(V^F^I)+M[2]+3299628645&4294967295,k=V+(D<<23&4294967295|D>>>9),D=I+(V^(k|~F))+M[0]+4096336452&4294967295,I=k+(D<<6&4294967295|D>>>26),D=F+(k^(I|~V))+M[7]+1126891415&4294967295,F=I+(D<<10&4294967295|D>>>22),D=V+(I^(F|~k))+M[14]+2878612391&4294967295,V=F+(D<<15&4294967295|D>>>17),D=k+(F^(V|~I))+M[5]+4237533241&4294967295,k=V+(D<<21&4294967295|D>>>11),D=I+(V^(k|~F))+M[12]+1700485571&4294967295,I=k+(D<<6&4294967295|D>>>26),D=F+(k^(I|~V))+M[3]+2399980690&4294967295,F=I+(D<<10&4294967295|D>>>22),D=V+(I^(F|~k))+M[10]+4293915773&4294967295,V=F+(D<<15&4294967295|D>>>17),D=k+(F^(V|~I))+M[1]+2240044497&4294967295,k=V+(D<<21&4294967295|D>>>11),D=I+(V^(k|~F))+M[8]+1873313359&4294967295,I=k+(D<<6&4294967295|D>>>26),D=F+(k^(I|~V))+M[15]+4264355552&4294967295,F=I+(D<<10&4294967295|D>>>22),D=V+(I^(F|~k))+M[6]+2734768916&4294967295,V=F+(D<<15&4294967295|D>>>17),D=k+(F^(V|~I))+M[13]+1309151649&4294967295,k=V+(D<<21&4294967295|D>>>11),D=I+(V^(k|~F))+M[4]+4149444226&4294967295,I=k+(D<<6&4294967295|D>>>26),D=F+(k^(I|~V))+M[11]+3174756917&4294967295,F=I+(D<<10&4294967295|D>>>22),D=V+(I^(F|~k))+M[2]+718787259&4294967295,V=F+(D<<15&4294967295|D>>>17),D=k+(F^(V|~I))+M[9]+3951481745&4294967295,S.g[0]=S.g[0]+I&4294967295,S.g[1]=S.g[1]+(V+(D<<21&4294967295|D>>>11))&4294967295,S.g[2]=S.g[2]+V&4294967295,S.g[3]=S.g[3]+F&4294967295}r.prototype.u=function(S,I){I===void 0&&(I=S.length);for(var k=I-this.blockSize,M=this.B,V=this.h,F=0;F<I;){if(V==0)for(;F<=k;)s(this,S,F),F+=this.blockSize;if(typeof S=="string"){for(;F<I;)if(M[V++]=S.charCodeAt(F++),V==this.blockSize){s(this,M),V=0;break}}else for(;F<I;)if(M[V++]=S[F++],V==this.blockSize){s(this,M),V=0;break}}this.h=V,this.o+=I},r.prototype.v=function(){var S=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);S[0]=128;for(var I=1;I<S.length-8;++I)S[I]=0;var k=8*this.o;for(I=S.length-8;I<S.length;++I)S[I]=k&255,k/=256;for(this.u(S),S=Array(16),I=k=0;4>I;++I)for(var M=0;32>M;M+=8)S[k++]=this.g[I]>>>M&255;return S};function i(S,I){var k=a;return Object.prototype.hasOwnProperty.call(k,S)?k[S]:k[S]=I(S)}function o(S,I){this.h=I;for(var k=[],M=!0,V=S.length-1;0<=V;V--){var F=S[V]|0;M&&F==I||(k[V]=F,M=!1)}this.g=k}var a={};function l(S){return-128<=S&&128>S?i(S,function(I){return new o([I|0],0>I?-1:0)}):new o([S|0],0>S?-1:0)}function c(S){if(isNaN(S)||!isFinite(S))return f;if(0>S)return b(c(-S));for(var I=[],k=1,M=0;S>=k;M++)I[M]=S/k|0,k*=4294967296;return new o(I,0)}function d(S,I){if(S.length==0)throw Error("number format error: empty string");if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(S.charAt(0)=="-")return b(d(S.substring(1),I));if(0<=S.indexOf("-"))throw Error('number format error: interior "-" character');for(var k=c(Math.pow(I,8)),M=f,V=0;V<S.length;V+=8){var F=Math.min(8,S.length-V),D=parseInt(S.substring(V,V+F),I);8>F?(F=c(Math.pow(I,F)),M=M.j(F).add(c(D))):(M=M.j(k),M=M.add(c(D)))}return M}var f=l(0),h=l(1),v=l(16777216);t=o.prototype,t.m=function(){if(y(this))return-b(this).m();for(var S=0,I=1,k=0;k<this.g.length;k++){var M=this.i(k);S+=(0<=M?M:4294967296+M)*I,I*=4294967296}return S},t.toString=function(S){if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(E(this))return"0";if(y(this))return"-"+b(this).toString(S);for(var I=c(Math.pow(S,6)),k=this,M="";;){var V=R(k,I).g;k=C(k,V.j(I));var F=((0<k.g.length?k.g[0]:k.h)>>>0).toString(S);if(k=V,E(k))return F+M;for(;6>F.length;)F="0"+F;M=F+M}},t.i=function(S){return 0>S?0:S<this.g.length?this.g[S]:this.h};function E(S){if(S.h!=0)return!1;for(var I=0;I<S.g.length;I++)if(S.g[I]!=0)return!1;return!0}function y(S){return S.h==-1}t.l=function(S){return S=C(this,S),y(S)?-1:E(S)?0:1};function b(S){for(var I=S.g.length,k=[],M=0;M<I;M++)k[M]=~S.g[M];return new o(k,~S.h).add(h)}t.abs=function(){return y(this)?b(this):this},t.add=function(S){for(var I=Math.max(this.g.length,S.g.length),k=[],M=0,V=0;V<=I;V++){var F=M+(this.i(V)&65535)+(S.i(V)&65535),D=(F>>>16)+(this.i(V)>>>16)+(S.i(V)>>>16);M=D>>>16,F&=65535,D&=65535,k[V]=D<<16|F}return new o(k,k[k.length-1]&-2147483648?-1:0)};function C(S,I){return S.add(b(I))}t.j=function(S){if(E(this)||E(S))return f;if(y(this))return y(S)?b(this).j(b(S)):b(b(this).j(S));if(y(S))return b(this.j(b(S)));if(0>this.l(v)&&0>S.l(v))return c(this.m()*S.m());for(var I=this.g.length+S.g.length,k=[],M=0;M<2*I;M++)k[M]=0;for(M=0;M<this.g.length;M++)for(var V=0;V<S.g.length;V++){var F=this.i(M)>>>16,D=this.i(M)&65535,re=S.i(V)>>>16,se=S.i(V)&65535;k[2*M+2*V]+=D*se,w(k,2*M+2*V),k[2*M+2*V+1]+=F*se,w(k,2*M+2*V+1),k[2*M+2*V+1]+=D*re,w(k,2*M+2*V+1),k[2*M+2*V+2]+=F*re,w(k,2*M+2*V+2)}for(M=0;M<I;M++)k[M]=k[2*M+1]<<16|k[2*M];for(M=I;M<2*I;M++)k[M]=0;return new o(k,0)};function w(S,I){for(;(S[I]&65535)!=S[I];)S[I+1]+=S[I]>>>16,S[I]&=65535,I++}function _(S,I){this.g=S,this.h=I}function R(S,I){if(E(I))throw Error("division by zero");if(E(S))return new _(f,f);if(y(S))return I=R(b(S),I),new _(b(I.g),b(I.h));if(y(I))return I=R(S,b(I)),new _(b(I.g),I.h);if(30<S.g.length){if(y(S)||y(I))throw Error("slowDivide_ only works with positive integers.");for(var k=h,M=I;0>=M.l(S);)k=O(k),M=O(M);var V=j(k,1),F=j(M,1);for(M=j(M,2),k=j(k,2);!E(M);){var D=F.add(M);0>=D.l(S)&&(V=V.add(k),F=D),M=j(M,1),k=j(k,1)}return I=C(S,V.j(I)),new _(V,I)}for(V=f;0<=S.l(I);){for(k=Math.max(1,Math.floor(S.m()/I.m())),M=Math.ceil(Math.log(k)/Math.LN2),M=48>=M?1:Math.pow(2,M-48),F=c(k),D=F.j(I);y(D)||0<D.l(S);)k-=M,F=c(k),D=F.j(I);E(F)&&(F=h),V=V.add(F),S=C(S,D)}return new _(V,S)}t.A=function(S){return R(this,S).h},t.and=function(S){for(var I=Math.max(this.g.length,S.g.length),k=[],M=0;M<I;M++)k[M]=this.i(M)&S.i(M);return new o(k,this.h&S.h)},t.or=function(S){for(var I=Math.max(this.g.length,S.g.length),k=[],M=0;M<I;M++)k[M]=this.i(M)|S.i(M);return new o(k,this.h|S.h)},t.xor=function(S){for(var I=Math.max(this.g.length,S.g.length),k=[],M=0;M<I;M++)k[M]=this.i(M)^S.i(M);return new o(k,this.h^S.h)};function O(S){for(var I=S.g.length+1,k=[],M=0;M<I;M++)k[M]=S.i(M)<<1|S.i(M-1)>>>31;return new o(k,S.h)}function j(S,I){var k=I>>5;I%=32;for(var M=S.g.length-k,V=[],F=0;F<M;F++)V[F]=0<I?S.i(F+k)>>>I|S.i(F+k+1)<<32-I:S.i(F+k);return new o(V,S.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,LI=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=d,$i=o}).apply(typeof YC<"u"?YC:typeof self<"u"?self:typeof window<"u"?window:{});var Oh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var VI,$c,FI,hf,_v,jI,BI,UI;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,m,A){return u==Array.prototype||u==Object.prototype||(u[m]=A.value),u};function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Oh=="object"&&Oh];for(var m=0;m<u.length;++m){var A=u[m];if(A&&A.Math==Math)return A}throw Error("Cannot find global object")}var r=n(this);function s(u,m){if(m)e:{var A=r;u=u.split(".");for(var N=0;N<u.length-1;N++){var G=u[N];if(!(G in A))break e;A=A[G]}u=u[u.length-1],N=A[u],m=m(N),m!=N&&m!=null&&e(A,u,{configurable:!0,writable:!0,value:m})}}function i(u,m){u instanceof String&&(u+="");var A=0,N=!1,G={next:function(){if(!N&&A<u.length){var K=A++;return{value:m(K,u[K]),done:!1}}return N=!0,{done:!0,value:void 0}}};return G[Symbol.iterator]=function(){return G},G}s("Array.prototype.values",function(u){return u||function(){return i(this,function(m,A){return A})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function l(u){var m=typeof u;return m=m!="object"?m:u?Array.isArray(u)?"array":m:"null",m=="array"||m=="object"&&typeof u.length=="number"}function c(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function d(u,m,A){return u.call.apply(u.bind,arguments)}function f(u,m,A){if(!u)throw Error();if(2<arguments.length){var N=Array.prototype.slice.call(arguments,2);return function(){var G=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(G,N),u.apply(m,G)}}return function(){return u.apply(m,arguments)}}function h(u,m,A){return h=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:f,h.apply(null,arguments)}function v(u,m){var A=Array.prototype.slice.call(arguments,1);return function(){var N=A.slice();return N.push.apply(N,arguments),u.apply(this,N)}}function E(u,m){function A(){}A.prototype=m.prototype,u.aa=m.prototype,u.prototype=new A,u.prototype.constructor=u,u.Qb=function(N,G,K){for(var Q=Array(arguments.length-2),et=2;et<arguments.length;et++)Q[et-2]=arguments[et];return m.prototype[G].apply(N,Q)}}function y(u){const m=u.length;if(0<m){const A=Array(m);for(let N=0;N<m;N++)A[N]=u[N];return A}return[]}function b(u,m){for(let A=1;A<arguments.length;A++){const N=arguments[A];if(l(N)){const G=u.length||0,K=N.length||0;u.length=G+K;for(let Q=0;Q<K;Q++)u[G+Q]=N[Q]}else u.push(N)}}class C{constructor(m,A){this.i=m,this.j=A,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function w(u){return/^[\s\xa0]*$/.test(u)}function _(){var u=a.navigator;return u&&(u=u.userAgent)?u:""}function R(u){return R[" "](u),u}R[" "]=function(){};var O=_().indexOf("Gecko")!=-1&&!(_().toLowerCase().indexOf("webkit")!=-1&&_().indexOf("Edge")==-1)&&!(_().indexOf("Trident")!=-1||_().indexOf("MSIE")!=-1)&&_().indexOf("Edge")==-1;function j(u,m,A){for(const N in u)m.call(A,u[N],N,u)}function S(u,m){for(const A in u)m.call(void 0,u[A],A,u)}function I(u){const m={};for(const A in u)m[A]=u[A];return m}const k="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function M(u,m){let A,N;for(let G=1;G<arguments.length;G++){N=arguments[G];for(A in N)u[A]=N[A];for(let K=0;K<k.length;K++)A=k[K],Object.prototype.hasOwnProperty.call(N,A)&&(u[A]=N[A])}}function V(u){var m=1;u=u.split(":");const A=[];for(;0<m&&u.length;)A.push(u.shift()),m--;return u.length&&A.push(u.join(":")),A}function F(u){a.setTimeout(()=>{throw u},0)}function D(){var u=W;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class re{constructor(){this.h=this.g=null}add(m,A){const N=se.get();N.set(m,A),this.h?this.h.next=N:this.g=N,this.h=N}}var se=new C(()=>new ne,u=>u.reset());class ne{constructor(){this.next=this.g=this.h=null}set(m,A){this.h=m,this.g=A,this.next=null}reset(){this.next=this.g=this.h=null}}let pe,q=!1,W=new re,ie=()=>{const u=a.Promise.resolve(void 0);pe=()=>{u.then(ee)}};var ee=()=>{for(var u;u=D();){try{u.h.call(u.g)}catch(A){F(A)}var m=se;m.j(u),100>m.h&&(m.h++,u.next=m.g,m.g=u)}q=!1};function ae(){this.s=this.s,this.C=this.C}ae.prototype.s=!1,ae.prototype.ma=function(){this.s||(this.s=!0,this.N())},ae.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ce(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}ce.prototype.h=function(){this.defaultPrevented=!0};var Re=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const A=()=>{};a.addEventListener("test",A,m),a.removeEventListener("test",A,m)}catch{}return u}();function ke(u,m){if(ce.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var A=this.type=u.type,N=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget){if(O){e:{try{R(m.nodeName);var G=!0;break e}catch{}G=!1}G||(m=null)}}else A=="mouseover"?m=u.fromElement:A=="mouseout"&&(m=u.toElement);this.relatedTarget=m,N?(this.clientX=N.clientX!==void 0?N.clientX:N.pageX,this.clientY=N.clientY!==void 0?N.clientY:N.pageY,this.screenX=N.screenX||0,this.screenY=N.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:Ee[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&ke.aa.h.call(this)}}E(ke,ce);var Ee={2:"touch",3:"pen",4:"mouse"};ke.prototype.h=function(){ke.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var te="closure_listenable_"+(1e6*Math.random()|0),ge=0;function we(u,m,A,N,G){this.listener=u,this.proxy=null,this.src=m,this.type=A,this.capture=!!N,this.ha=G,this.key=++ge,this.da=this.fa=!1}function Ce(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Ae(u){this.src=u,this.g={},this.h=0}Ae.prototype.add=function(u,m,A,N,G){var K=u.toString();u=this.g[K],u||(u=this.g[K]=[],this.h++);var Q=de(u,m,N,G);return-1<Q?(m=u[Q],A||(m.fa=!1)):(m=new we(m,this.src,K,!!N,G),m.fa=A,u.push(m)),m};function _e(u,m){var A=m.type;if(A in u.g){var N=u.g[A],G=Array.prototype.indexOf.call(N,m,void 0),K;(K=0<=G)&&Array.prototype.splice.call(N,G,1),K&&(Ce(m),u.g[A].length==0&&(delete u.g[A],u.h--))}}function de(u,m,A,N){for(var G=0;G<u.length;++G){var K=u[G];if(!K.da&&K.listener==m&&K.capture==!!A&&K.ha==N)return G}return-1}var ve="closure_lm_"+(1e6*Math.random()|0),ht={};function st(u,m,A,N,G){if(Array.isArray(m)){for(var K=0;K<m.length;K++)st(u,m[K],A,N,G);return null}return A=Co(A),u&&u[te]?u.K(m,A,c(N)?!!N.capture:!!N,G):Pt(u,m,A,!1,N,G)}function Pt(u,m,A,N,G,K){if(!m)throw Error("Invalid event type");var Q=c(G)?!!G.capture:!!G,et=or(u);if(et||(u[ve]=et=new Ae(u)),A=et.add(m,A,N,Q,K),A.proxy)return A;if(N=Je(),A.proxy=N,N.src=u,N.listener=A,u.addEventListener)Re||(G=Q),G===void 0&&(G=!1),u.addEventListener(m.toString(),N,G);else if(u.attachEvent)u.attachEvent(Er(m.toString()),N);else if(u.addListener&&u.removeListener)u.addListener(N);else throw Error("addEventListener and attachEvent are unavailable.");return A}function Je(){function u(A){return m.call(u.src,u.listener,A)}const m=fs;return u}function ft(u,m,A,N,G){if(Array.isArray(m))for(var K=0;K<m.length;K++)ft(u,m[K],A,N,G);else N=c(N)?!!N.capture:!!N,A=Co(A),u&&u[te]?(u=u.i,m=String(m).toString(),m in u.g&&(K=u.g[m],A=de(K,A,N,G),-1<A&&(Ce(K[A]),Array.prototype.splice.call(K,A,1),K.length==0&&(delete u.g[m],u.h--)))):u&&(u=or(u))&&(m=u.g[m.toString()],u=-1,m&&(u=de(m,A,N,G)),(A=-1<u?m[u]:null)&&an(A))}function an(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[te])_e(m.i,u);else{var A=u.type,N=u.proxy;m.removeEventListener?m.removeEventListener(A,N,u.capture):m.detachEvent?m.detachEvent(Er(A),N):m.addListener&&m.removeListener&&m.removeListener(N),(A=or(m))?(_e(A,u),A.h==0&&(A.src=null,m[ve]=null)):Ce(u)}}}function Er(u){return u in ht?ht[u]:ht[u]="on"+u}function fs(u,m){if(u.da)u=!0;else{m=new ke(m,this);var A=u.listener,N=u.ha||u.src;u.fa&&an(u),u=A.call(N,m)}return u}function or(u){return u=u[ve],u instanceof Ae?u:null}var ps="__closure_events_fn_"+(1e9*Math.random()>>>0);function Co(u){return typeof u=="function"?u:(u[ps]||(u[ps]=function(m){return u.handleEvent(m)}),u[ps])}function _t(){ae.call(this),this.i=new Ae(this),this.M=this,this.F=null}E(_t,ae),_t.prototype[te]=!0,_t.prototype.removeEventListener=function(u,m,A,N){ft(this,u,m,A,N)};function pt(u,m){var A,N=u.F;if(N)for(A=[];N;N=N.F)A.push(N);if(u=u.M,N=m.type||m,typeof m=="string")m=new ce(m,u);else if(m instanceof ce)m.target=m.target||u;else{var G=m;m=new ce(N,u),M(m,G)}if(G=!0,A)for(var K=A.length-1;0<=K;K--){var Q=m.g=A[K];G=ms(Q,N,!0,m)&&G}if(Q=m.g=u,G=ms(Q,N,!0,m)&&G,G=ms(Q,N,!1,m)&&G,A)for(K=0;K<A.length;K++)Q=m.g=A[K],G=ms(Q,N,!1,m)&&G}_t.prototype.N=function(){if(_t.aa.N.call(this),this.i){var u=this.i,m;for(m in u.g){for(var A=u.g[m],N=0;N<A.length;N++)Ce(A[N]);delete u.g[m],u.h--}}this.F=null},_t.prototype.K=function(u,m,A,N){return this.i.add(String(u),m,!1,A,N)},_t.prototype.L=function(u,m,A,N){return this.i.add(String(u),m,!0,A,N)};function ms(u,m,A,N){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();for(var G=!0,K=0;K<m.length;++K){var Q=m[K];if(Q&&!Q.da&&Q.capture==A){var et=Q.listener,Vt=Q.ha||Q.src;Q.fa&&_e(u.i,Q),G=et.call(Vt,N)!==!1&&G}}return G&&!N.defaultPrevented}function Cr(u,m,A){if(typeof u=="function")A&&(u=h(u,A));else if(u&&typeof u.handleEvent=="function")u=h(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:a.setTimeout(u,m||0)}function xo(u){u.g=Cr(()=>{u.g=null,u.i&&(u.i=!1,xo(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class Js extends ae{constructor(m,A){super(),this.m=m,this.l=A,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:xo(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ar(u){ae.call(this),this.h=u,this.g={}}E(ar,ae);var xr=[];function _r(u){j(u.g,function(m,A){this.g.hasOwnProperty(A)&&an(m)},u),u.g={}}ar.prototype.N=function(){ar.aa.N.call(this),_r(this)},ar.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var En=a.JSON.stringify,Cn=a.JSON.parse,pc=class{stringify(u){return a.JSON.stringify(u,void 0)}parse(u){return a.JSON.parse(u,void 0)}};function be(){}be.prototype.h=null;function Be(u){return u.h||(u.h=u.i())}function Qe(){}var qt={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ln(){ce.call(this,"d")}E(ln,ce);function Tr(){ce.call(this,"c")}E(Tr,ce);var lt={},Xs=null;function Ge(){return Xs=Xs||new _t}lt.La="serverreachability";function Nd(u){ce.call(this,lt.La,u)}E(Nd,ce);function cn(u){const m=Ge();pt(m,new Nd(m))}lt.STAT_EVENT="statevent";function lr(u,m){ce.call(this,lt.STAT_EVENT,u),this.stat=m}E(lr,ce);function Jt(u){const m=Ge();pt(m,new lr(m,u))}lt.Ma="timingevent";function kd(u,m){ce.call(this,lt.Ma,u),this.size=m}E(kd,ce);function gs(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){u()},m)}function ys(){this.g=!0}ys.prototype.xa=function(){this.g=!1};function Md(u,m,A,N,G,K){u.info(function(){if(u.g)if(K)for(var Q="",et=K.split("&"),Vt=0;Vt<et.length;Vt++){var $e=et[Vt].split("=");if(1<$e.length){var Gt=$e[0];$e=$e[1];var $t=Gt.split("_");Q=2<=$t.length&&$t[1]=="type"?Q+(Gt+"="+$e+"&"):Q+(Gt+"=redacted&")}}else Q=null;else Q=K;return"XMLHTTP REQ ("+N+") [attempt "+G+"]: "+m+`
`+A+`
`+Q})}function Hm(u,m,A,N,G,K,Q){u.info(function(){return"XMLHTTP RESP ("+N+") [ attempt "+G+"]: "+m+`
`+A+`
`+K+" "+Q})}function vs(u,m,A,N){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Jm(u,A)+(N?" "+N:"")})}function _o(u,m){u.info(function(){return"TIMEOUT: "+m})}ys.prototype.info=function(){};function Jm(u,m){if(!u.g)return m;if(!m)return null;try{var A=JSON.parse(m);if(A){for(u=0;u<A.length;u++)if(Array.isArray(A[u])){var N=A[u];if(!(2>N.length)){var G=N[1];if(Array.isArray(G)&&!(1>G.length)){var K=G[0];if(K!="noop"&&K!="stop"&&K!="close")for(var Q=1;Q<G.length;Q++)G[Q]=""}}}}return En(A)}catch{return m}}var ws={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},xa={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},_a;function To(){}E(To,be),To.prototype.g=function(){return new XMLHttpRequest},To.prototype.i=function(){return{}},_a=new To;function Ar(u,m,A,N){this.j=u,this.i=m,this.l=A,this.R=N||1,this.U=new ar(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Dd}function Dd(){this.i=null,this.g="",this.h=!1}var Od={},mc={};function gc(u,m,A){u.L=1,u.v=Pa($n(m)),u.m=A,u.P=!0,Ta(u,null)}function Ta(u,m){u.F=Date.now(),Aa(u),u.A=$n(u.v);var A=u.A,N=u.R;Array.isArray(N)||(N=[String(N)]),zd(A.i,"t",N),u.C=0,A=u.j.J,u.h=new Dd,u.g=lh(u.j,A?m:null,!u.m),0<u.O&&(u.M=new Js(h(u.Y,u,u.g),u.O)),m=u.U,A=u.g,N=u.ca;var G="readystatechange";Array.isArray(G)||(G&&(xr[0]=G.toString()),G=xr);for(var K=0;K<G.length;K++){var Q=st(A,G[K],N||m.handleEvent,!1,m.h||m);if(!Q)break;m.g[Q.key]=Q}m=u.H?I(u.H):{},u.m?(u.u||(u.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,m)):(u.u="GET",u.g.ea(u.A,u.u,null,m)),cn(),Md(u.i,u.u,u.A,u.l,u.R,u.m)}Ar.prototype.ca=function(u){u=u.target;const m=this.M;m&&Ir(u)==3?m.j():this.Y(u)},Ar.prototype.Y=function(u){try{if(u==this.g)e:{const $t=Ir(this.g);var m=this.g.Ba();const oi=this.g.Z();if(!(3>$t)&&($t!=3||this.g&&(this.h.h||this.g.oa()||Zd(this.g)))){this.J||$t!=4||m==7||(m==8||0>=oi?cn(3):cn(2)),vc(this);var A=this.g.Z();this.X=A;t:if(Ld(this)){var N=Zd(this.g);u="";var G=N.length,K=Ir(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Es(this),Ao(this);var Q="";break t}this.h.i=new a.TextDecoder}for(m=0;m<G;m++)this.h.h=!0,u+=this.h.i.decode(N[m],{stream:!(K&&m==G-1)});N.length=0,this.h.g+=u,this.C=0,Q=this.h.g}else Q=this.g.oa();if(this.o=A==200,Hm(this.i,this.u,this.A,this.l,this.R,$t,A),this.o){if(this.T&&!this.K){t:{if(this.g){var et,Vt=this.g;if((et=Vt.g?Vt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!w(et)){var $e=et;break t}}$e=null}if(A=$e)vs(this.i,this.l,A,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Zs(this,A);else{this.o=!1,this.s=3,Jt(12),Es(this),Ao(this);break e}}if(this.P){A=!0;let zn;for(;!this.J&&this.C<Q.length;)if(zn=Xm(this,Q),zn==mc){$t==4&&(this.s=4,Jt(14),A=!1),vs(this.i,this.l,null,"[Incomplete Response]");break}else if(zn==Od){this.s=4,Jt(15),vs(this.i,this.l,Q,"[Invalid Chunk]"),A=!1;break}else vs(this.i,this.l,zn,null),Zs(this,zn);if(Ld(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),$t!=4||Q.length!=0||this.h.h||(this.s=1,Jt(16),A=!1),this.o=this.o&&A,!A)vs(this.i,this.l,Q,"[Invalid Chunked Response]"),Es(this),Ao(this);else if(0<Q.length&&!this.W){this.W=!0;var Gt=this.j;Gt.g==this&&Gt.ba&&!Gt.M&&(Gt.j.info("Great, no buffering proxy detected. Bytes received: "+Q.length),Ac(Gt),Gt.M=!0,Jt(11))}}else vs(this.i,this.l,Q,null),Zs(this,Q);$t==4&&Es(this),this.o&&!this.J&&($t==4?oh(this.j,this):(this.o=!1,Aa(this)))}else lg(this.g),A==400&&0<Q.indexOf("Unknown SID")?(this.s=3,Jt(12)):(this.s=0,Jt(13)),Es(this),Ao(this)}}}catch{}finally{}};function Ld(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function Xm(u,m){var A=u.C,N=m.indexOf(`
`,A);return N==-1?mc:(A=Number(m.substring(A,N)),isNaN(A)?Od:(N+=1,N+A>m.length?mc:(m=m.slice(N,N+A),u.C=N+A,m)))}Ar.prototype.cancel=function(){this.J=!0,Es(this)};function Aa(u){u.S=Date.now()+u.I,yc(u,u.I)}function yc(u,m){if(u.B!=null)throw Error("WatchDog timer not null");u.B=gs(h(u.ba,u),m)}function vc(u){u.B&&(a.clearTimeout(u.B),u.B=null)}Ar.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(_o(this.i,this.A),this.L!=2&&(cn(),Jt(17)),Es(this),this.s=2,Ao(this)):yc(this,this.S-u)};function Ao(u){u.j.G==0||u.J||oh(u.j,u)}function Es(u){vc(u);var m=u.M;m&&typeof m.ma=="function"&&m.ma(),u.M=null,_r(u.U),u.g&&(m=u.g,u.g=null,m.abort(),m.ma())}function Zs(u,m){try{var A=u.j;if(A.G!=0&&(A.g==u||ba(A.h,u))){if(!u.K&&ba(A.h,u)&&A.G==3){try{var N=A.Da.g.parse(m)}catch{N=null}if(Array.isArray(N)&&N.length==3){var G=N;if(G[0]==0){e:if(!A.u){if(A.g)if(A.g.F+3e3<u.F)Oa(A),Po(A);else break e;Tc(A),Jt(18)}}else A.za=G[1],0<A.za-A.T&&37500>G[2]&&A.F&&A.v==0&&!A.C&&(A.C=gs(h(A.Za,A),6e3));if(1>=wc(A.h)&&A.ca){try{A.ca()}catch{}A.ca=void 0}}else _s(A,11)}else if((u.K||A.g==u)&&Oa(A),!w(m))for(G=A.Da.g.parse(m),m=0;m<G.length;m++){let $e=G[m];if(A.T=$e[0],$e=$e[1],A.G==2)if($e[0]=="c"){A.K=$e[1],A.ia=$e[2];const Gt=$e[3];Gt!=null&&(A.la=Gt,A.j.info("VER="+A.la));const $t=$e[4];$t!=null&&(A.Aa=$t,A.j.info("SVER="+A.Aa));const oi=$e[5];oi!=null&&typeof oi=="number"&&0<oi&&(N=1.5*oi,A.L=N,A.j.info("backChannelRequestTimeoutMs_="+N)),N=A;const zn=u.g;if(zn){const Fa=zn.g?zn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Fa){var K=N.h;K.g||Fa.indexOf("spdy")==-1&&Fa.indexOf("quic")==-1&&Fa.indexOf("h2")==-1||(K.j=K.l,K.g=new Set,K.h&&(Ia(K,K.h),K.h=null))}if(N.D){const bc=zn.g?zn.g.getResponseHeader("X-HTTP-Session-Id"):null;bc&&(N.ya=bc,rt(N.I,N.D,bc))}}A.G=3,A.l&&A.l.ua(),A.ba&&(A.R=Date.now()-u.F,A.j.info("Handshake RTT: "+A.R+"ms")),N=A;var Q=u;if(N.qa=ah(N,N.J?N.ia:null,N.W),Q.K){Fe(N.h,Q);var et=Q,Vt=N.L;Vt&&(et.I=Vt),et.B&&(vc(et),Aa(et)),N.g=Q}else sh(N);0<A.i.length&&Da(A)}else $e[0]!="stop"&&$e[0]!="close"||_s(A,7);else A.G==3&&($e[0]=="stop"||$e[0]=="close"?$e[0]=="stop"?_s(A,7):_c(A):$e[0]!="noop"&&A.l&&A.l.ta($e),A.v=0)}}cn(4)}catch{}}var Zm=class{constructor(u,m){this.g=u,this.map=m}};function Vd(u){this.l=u||10,a.PerformanceNavigationTiming?(u=a.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function bo(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function wc(u){return u.h?1:u.g?u.g.size:0}function ba(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Ia(u,m){u.g?u.g.add(m):u.h=m}function Fe(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}Vd.prototype.cancel=function(){if(this.i=Fd(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Fd(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const A of u.g.values())m=m.concat(A.D);return m}return y(u.i)}function eg(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(l(u)){for(var m=[],A=u.length,N=0;N<A;N++)m.push(u[N]);return m}m=[],A=0;for(N in u)m[A++]=u[N];return m}function Gn(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(l(u)||typeof u=="string"){var m=[];u=u.length;for(var A=0;A<u;A++)m.push(A);return m}m=[],A=0;for(const N in u)m[A++]=N;return m}}}function jd(u,m){if(u.forEach&&typeof u.forEach=="function")u.forEach(m,void 0);else if(l(u)||typeof u=="string")Array.prototype.forEach.call(u,m,void 0);else for(var A=Gn(u),N=eg(u),G=N.length,K=0;K<G;K++)m.call(void 0,N[K],A&&A[K],u)}var Ec=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Sa(u,m){if(u){u=u.split("&");for(var A=0;A<u.length;A++){var N=u[A].indexOf("="),G=null;if(0<=N){var K=u[A].substring(0,N);G=u[A].substring(N+1)}else K=u[A];m(K,G?decodeURIComponent(G.replace(/\+/g," ")):"")}}}function Cs(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof Cs){this.h=u.h,Ra(this,u.j),this.o=u.o,this.g=u.g,ei(this,u.s),this.l=u.l;var m=u.i,A=new Io;A.i=m.i,m.g&&(A.g=new Map(m.g),A.h=m.h),Bd(this,A),this.m=u.m}else u&&(m=String(u).match(Ec))?(this.h=!1,Ra(this,m[1]||"",!0),this.o=xs(m[2]||""),this.g=xs(m[3]||"",!0),ei(this,m[4]),this.l=xs(m[5]||"",!0),Bd(this,m[6]||"",!0),this.m=xs(m[7]||"")):(this.h=!1,this.i=new Io(null,this.h))}Cs.prototype.toString=function(){var u=[],m=this.j;m&&u.push(xn(m,Ud,!0),":");var A=this.g;return(A||m=="file")&&(u.push("//"),(m=this.o)&&u.push(xn(m,Ud,!0),"@"),u.push(encodeURIComponent(String(A)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),A=this.s,A!=null&&u.push(":",String(A))),(A=this.l)&&(this.g&&A.charAt(0)!="/"&&u.push("/"),u.push(xn(A,A.charAt(0)=="/"?br:tg,!0))),(A=this.i.toString())&&u.push("?",A),(A=this.m)&&u.push("#",xn(A,ng)),u.join("")};function $n(u){return new Cs(u)}function Ra(u,m,A){u.j=A?xs(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function ei(u,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);u.s=m}else u.s=null}function Bd(u,m,A){m instanceof Io?(u.i=m,rg(u.i,u.h)):(A||(m=xn(m,qd)),u.i=new Io(m,u.h))}function rt(u,m,A){u.i.set(m,A)}function Pa(u){return rt(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function xs(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function xn(u,m,A){return typeof u=="string"?(u=encodeURI(u).replace(m,Cc),A&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function Cc(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Ud=/[#\/\?@]/g,tg=/[#\?:]/g,br=/[#\?]/g,qd=/[#\?@]/g,ng=/#/g;function Io(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function $r(u){u.g||(u.g=new Map,u.h=0,u.i&&Sa(u.i,function(m,A){u.add(decodeURIComponent(m.replace(/\+/g," ")),A)}))}t=Io.prototype,t.add=function(u,m){$r(this),this.i=null,u=ti(this,u);var A=this.g.get(u);return A||this.g.set(u,A=[]),A.push(m),this.h+=1,this};function Gd(u,m){$r(u),m=ti(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function $d(u,m){return $r(u),m=ti(u,m),u.g.has(m)}t.forEach=function(u,m){$r(this),this.g.forEach(function(A,N){A.forEach(function(G){u.call(m,G,N,this)},this)},this)},t.na=function(){$r(this);const u=Array.from(this.g.values()),m=Array.from(this.g.keys()),A=[];for(let N=0;N<m.length;N++){const G=u[N];for(let K=0;K<G.length;K++)A.push(m[N])}return A},t.V=function(u){$r(this);let m=[];if(typeof u=="string")$d(this,u)&&(m=m.concat(this.g.get(ti(this,u))));else{u=Array.from(this.g.values());for(let A=0;A<u.length;A++)m=m.concat(u[A])}return m},t.set=function(u,m){return $r(this),this.i=null,u=ti(this,u),$d(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},t.get=function(u,m){return u?(u=this.V(u),0<u.length?String(u[0]):m):m};function zd(u,m,A){Gd(u,m),0<A.length&&(u.i=null,u.g.set(ti(u,m),y(A)),u.h+=A.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(var A=0;A<m.length;A++){var N=m[A];const K=encodeURIComponent(String(N)),Q=this.V(N);for(N=0;N<Q.length;N++){var G=K;Q[N]!==""&&(G+="="+encodeURIComponent(String(Q[N]))),u.push(G)}}return this.i=u.join("&")};function ti(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function rg(u,m){m&&!u.j&&($r(u),u.i=null,u.g.forEach(function(A,N){var G=N.toLowerCase();N!=G&&(Gd(this,N),zd(this,G,A))},u)),u.j=m}function sg(u,m){const A=new ys;if(a.Image){const N=new Image;N.onload=v(_n,A,"TestLoadImage: loaded",!0,m,N),N.onerror=v(_n,A,"TestLoadImage: error",!1,m,N),N.onabort=v(_n,A,"TestLoadImage: abort",!1,m,N),N.ontimeout=v(_n,A,"TestLoadImage: timeout",!1,m,N),a.setTimeout(function(){N.ontimeout&&N.ontimeout()},1e4),N.src=u}else m(!1)}function ig(u,m){const A=new ys,N=new AbortController,G=setTimeout(()=>{N.abort(),_n(A,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:N.signal}).then(K=>{clearTimeout(G),K.ok?_n(A,"TestPingServer: ok",!0,m):_n(A,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(G),_n(A,"TestPingServer: error",!1,m)})}function _n(u,m,A,N,G){try{G&&(G.onload=null,G.onerror=null,G.onabort=null,G.ontimeout=null),N(A)}catch{}}function Wd(){this.g=new pc}function Kd(u,m,A){const N=A||"";try{jd(u,function(G,K){let Q=G;c(G)&&(Q=En(G)),m.push(N+K+"="+encodeURIComponent(Q))})}catch(G){throw m.push(N+"type="+encodeURIComponent("_badmap")),G}}function So(u){this.l=u.Ub||null,this.j=u.eb||!1}E(So,be),So.prototype.g=function(){return new Na(this.l,this.j)},So.prototype.i=function(u){return function(){return u}}({});function Na(u,m){_t.call(this),this.D=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}E(Na,_t),t=Na.prototype,t.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=m,this.readyState=1,Ro(this)},t.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(m.body=u),(this.D||a).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ni(this)),this.readyState=0},t.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Ro(this)),this.g&&(this.readyState=3,Ro(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Yd(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function Yd(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}t.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?ni(this):Ro(this),this.readyState==3&&Yd(this)}},t.Ra=function(u){this.g&&(this.response=this.responseText=u,ni(this))},t.Qa=function(u){this.g&&(this.response=u,ni(this))},t.ga=function(){this.g&&ni(this)};function ni(u){u.readyState=4,u.l=null,u.j=null,u.v=null,Ro(u)}t.setRequestHeader=function(u,m){this.u.append(u,m)},t.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var A=m.next();!A.done;)A=A.value,u.push(A[0]+": "+A[1]),A=m.next();return u.join(`\r
`)};function Ro(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Na.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Qd(u){let m="";return j(u,function(A,N){m+=N,m+=":",m+=A,m+=`\r
`}),m}function xc(u,m,A){e:{for(N in A){var N=!1;break e}N=!0}N||(A=Qd(A),typeof u=="string"?A!=null&&encodeURIComponent(String(A)):rt(u,m,A))}function mt(u){_t.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}E(mt,_t);var og=/^https?$/i,ag=["POST","PUT"];t=mt.prototype,t.Ha=function(u){this.J=u},t.ea=function(u,m,A,N){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():_a.g(),this.v=this.o?Be(this.o):Be(_a),this.g.onreadystatechange=h(this.Ea,this);try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(K){Hd(this,K);return}if(u=A||"",A=new Map(this.headers),N)if(Object.getPrototypeOf(N)===Object.prototype)for(var G in N)A.set(G,N[G]);else if(typeof N.keys=="function"&&typeof N.get=="function")for(const K of N.keys())A.set(K,N.get(K));else throw Error("Unknown input type for opt_headers: "+String(N));N=Array.from(A.keys()).find(K=>K.toLowerCase()=="content-type"),G=a.FormData&&u instanceof a.FormData,!(0<=Array.prototype.indexOf.call(ag,m,void 0))||N||G||A.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[K,Q]of A)this.g.setRequestHeader(K,Q);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ma(this),this.u=!0,this.g.send(u),this.u=!1}catch(K){Hd(this,K)}};function Hd(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.m=5,Jd(u),ka(u)}function Jd(u){u.A||(u.A=!0,pt(u,"complete"),pt(u,"error"))}t.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,pt(this,"complete"),pt(this,"abort"),ka(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ka(this,!0)),mt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Xd(this):this.bb())},t.bb=function(){Xd(this)};function Xd(u){if(u.h&&typeof o<"u"&&(!u.v[1]||Ir(u)!=4||u.Z()!=2)){if(u.u&&Ir(u)==4)Cr(u.Ea,0,u);else if(pt(u,"readystatechange"),Ir(u)==4){u.h=!1;try{const Q=u.Z();e:switch(Q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var A;if(!(A=m)){var N;if(N=Q===0){var G=String(u.D).match(Ec)[1]||null;!G&&a.self&&a.self.location&&(G=a.self.location.protocol.slice(0,-1)),N=!og.test(G?G.toLowerCase():"")}A=N}if(A)pt(u,"complete"),pt(u,"success");else{u.m=6;try{var K=2<Ir(u)?u.g.statusText:""}catch{K=""}u.l=K+" ["+u.Z()+"]",Jd(u)}}finally{ka(u)}}}}function ka(u,m){if(u.g){Ma(u);const A=u.g,N=u.v[0]?()=>{}:null;u.g=null,u.v=null,m||pt(u,"ready");try{A.onreadystatechange=N}catch{}}}function Ma(u){u.I&&(a.clearTimeout(u.I),u.I=null)}t.isActive=function(){return!!this.g};function Ir(u){return u.g?u.g.readyState:0}t.Z=function(){try{return 2<Ir(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Cn(m)}};function Zd(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function lg(u){const m={};u=(u.g&&2<=Ir(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let N=0;N<u.length;N++){if(w(u[N]))continue;var A=V(u[N]);const G=A[0];if(A=A[1],typeof A!="string")continue;A=A.trim();const K=m[G]||[];m[G]=K,K.push(A)}S(m,function(N){return N.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ri(u,m,A){return A&&A.internalChannelParams&&A.internalChannelParams[u]||m}function eh(u){this.Aa=0,this.i=[],this.j=new ys,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ri("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ri("baseRetryDelayMs",5e3,u),this.cb=ri("retryDelaySeedMs",1e4,u),this.Wa=ri("forwardChannelMaxRetries",2,u),this.wa=ri("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new Vd(u&&u.concurrentRequestLimit),this.Da=new Wd,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=eh.prototype,t.la=8,t.G=1,t.connect=function(u,m,A,N){Jt(0),this.W=u,this.H=m||{},A&&N!==void 0&&(this.H.OSID=A,this.H.OAID=N),this.F=this.X,this.I=ah(this,null,this.W),Da(this)};function _c(u){if(th(u),u.G==3){var m=u.U++,A=$n(u.I);if(rt(A,"SID",u.K),rt(A,"RID",m),rt(A,"TYPE","terminate"),No(u,A),m=new Ar(u,u.j,m),m.L=2,m.v=Pa($n(A)),A=!1,a.navigator&&a.navigator.sendBeacon)try{A=a.navigator.sendBeacon(m.v.toString(),"")}catch{}!A&&a.Image&&(new Image().src=m.v,A=!0),A||(m.g=lh(m.j,null),m.g.ea(m.v)),m.F=Date.now(),Aa(m)}si(u)}function Po(u){u.g&&(Ac(u),u.g.cancel(),u.g=null)}function th(u){Po(u),u.u&&(a.clearTimeout(u.u),u.u=null),Oa(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&a.clearTimeout(u.s),u.s=null)}function Da(u){if(!bo(u.h)&&!u.s){u.s=!0;var m=u.Ga;pe||ie(),q||(pe(),q=!0),W.add(m,u),u.B=0}}function cg(u,m){return wc(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=m.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=gs(h(u.Ga,u,m),La(u,u.B)),u.B++,!0)}t.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const G=new Ar(this,this.j,u);let K=this.o;if(this.S&&(K?(K=I(K),M(K,this.S)):K=this.S),this.m!==null||this.O||(G.H=K,K=null),this.P)e:{for(var m=0,A=0;A<this.i.length;A++){t:{var N=this.i[A];if("__data__"in N.map&&(N=N.map.__data__,typeof N=="string")){N=N.length;break t}N=void 0}if(N===void 0)break;if(m+=N,4096<m){m=A;break e}if(m===4096||A===this.i.length-1){m=A+1;break e}}m=1e3}else m=1e3;m=rh(this,G,m),A=$n(this.I),rt(A,"RID",u),rt(A,"CVER",22),this.D&&rt(A,"X-HTTP-Session-Id",this.D),No(this,A),K&&(this.O?m="headers="+encodeURIComponent(String(Qd(K)))+"&"+m:this.m&&xc(A,this.m,K)),Ia(this.h,G),this.Ua&&rt(A,"TYPE","init"),this.P?(rt(A,"$req",m),rt(A,"SID","null"),G.T=!0,gc(G,A,null)):gc(G,A,m),this.G=2}}else this.G==3&&(u?nh(this,u):this.i.length==0||bo(this.h)||nh(this))};function nh(u,m){var A;m?A=m.l:A=u.U++;const N=$n(u.I);rt(N,"SID",u.K),rt(N,"RID",A),rt(N,"AID",u.T),No(u,N),u.m&&u.o&&xc(N,u.m,u.o),A=new Ar(u,u.j,A,u.B+1),u.m===null&&(A.H=u.o),m&&(u.i=m.D.concat(u.i)),m=rh(u,A,1e3),A.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),Ia(u.h,A),gc(A,N,m)}function No(u,m){u.H&&j(u.H,function(A,N){rt(m,N,A)}),u.l&&jd({},function(A,N){rt(m,N,A)})}function rh(u,m,A){A=Math.min(u.i.length,A);var N=u.l?h(u.l.Na,u.l,u):null;e:{var G=u.i;let K=-1;for(;;){const Q=["count="+A];K==-1?0<A?(K=G[0].g,Q.push("ofs="+K)):K=0:Q.push("ofs="+K);let et=!0;for(let Vt=0;Vt<A;Vt++){let $e=G[Vt].g;const Gt=G[Vt].map;if($e-=K,0>$e)K=Math.max(0,G[Vt].g-100),et=!1;else try{Kd(Gt,Q,"req"+$e+"_")}catch{N&&N(Gt)}}if(et){N=Q.join("&");break e}}}return u=u.i.splice(0,A),m.D=u,N}function sh(u){if(!u.g&&!u.u){u.Y=1;var m=u.Fa;pe||ie(),q||(pe(),q=!0),W.add(m,u),u.v=0}}function Tc(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=gs(h(u.Fa,u),La(u,u.v)),u.v++,!0)}t.Fa=function(){if(this.u=null,ih(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=gs(h(this.ab,this),u)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Jt(10),Po(this),ih(this))};function Ac(u){u.A!=null&&(a.clearTimeout(u.A),u.A=null)}function ih(u){u.g=new Ar(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var m=$n(u.qa);rt(m,"RID","rpc"),rt(m,"SID",u.K),rt(m,"AID",u.T),rt(m,"CI",u.F?"0":"1"),!u.F&&u.ja&&rt(m,"TO",u.ja),rt(m,"TYPE","xmlhttp"),No(u,m),u.m&&u.o&&xc(m,u.m,u.o),u.L&&(u.g.I=u.L);var A=u.g;u=u.ia,A.L=1,A.v=Pa($n(m)),A.m=null,A.P=!0,Ta(A,u)}t.Za=function(){this.C!=null&&(this.C=null,Po(this),Tc(this),Jt(19))};function Oa(u){u.C!=null&&(a.clearTimeout(u.C),u.C=null)}function oh(u,m){var A=null;if(u.g==m){Oa(u),Ac(u),u.g=null;var N=2}else if(ba(u.h,m))A=m.D,Fe(u.h,m),N=1;else return;if(u.G!=0){if(m.o)if(N==1){A=m.m?m.m.length:0,m=Date.now()-m.F;var G=u.B;N=Ge(),pt(N,new kd(N,A)),Da(u)}else sh(u);else if(G=m.s,G==3||G==0&&0<m.X||!(N==1&&cg(u,m)||N==2&&Tc(u)))switch(A&&0<A.length&&(m=u.h,m.i=m.i.concat(A)),G){case 1:_s(u,5);break;case 4:_s(u,10);break;case 3:_s(u,6);break;default:_s(u,2)}}}function La(u,m){let A=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(A*=2),A*m}function _s(u,m){if(u.j.info("Error code "+m),m==2){var A=h(u.fb,u),N=u.Xa;const G=!N;N=new Cs(N||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Ra(N,"https"),Pa(N),G?sg(N.toString(),A):ig(N.toString(),A)}else Jt(2);u.G=0,u.l&&u.l.sa(m),si(u),th(u)}t.fb=function(u){u?(this.j.info("Successfully pinged google.com"),Jt(2)):(this.j.info("Failed to ping google.com"),Jt(1))};function si(u){if(u.G=0,u.ka=[],u.l){const m=Fd(u.h);(m.length!=0||u.i.length!=0)&&(b(u.ka,m),b(u.ka,u.i),u.h.i.length=0,y(u.i),u.i.length=0),u.l.ra()}}function ah(u,m,A){var N=A instanceof Cs?$n(A):new Cs(A);if(N.g!="")m&&(N.g=m+"."+N.g),ei(N,N.s);else{var G=a.location;N=G.protocol,m=m?m+"."+G.hostname:G.hostname,G=+G.port;var K=new Cs(null);N&&Ra(K,N),m&&(K.g=m),G&&ei(K,G),A&&(K.l=A),N=K}return A=u.D,m=u.ya,A&&m&&rt(N,A,m),rt(N,"VER",u.la),No(u,N),N}function lh(u,m,A){if(m&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Ca&&!u.pa?new mt(new So({eb:A})):new mt(u.pa),m.Ha(u.J),m}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function ch(){}t=ch.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Va(){}Va.prototype.g=function(u,m){return new Tn(u,m)};function Tn(u,m){_t.call(this),this.g=new eh(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(u?u["X-WebChannel-Client-Profile"]=m.va:u={"X-WebChannel-Client-Profile":m.va}),this.g.S=u,(u=m&&m.Sb)&&!w(u)&&(this.g.m=u),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!w(m)&&(this.g.D=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new ii(this)}E(Tn,_t),Tn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Tn.prototype.close=function(){_c(this.g)},Tn.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var A={};A.__data__=u,u=A}else this.u&&(A={},A.__data__=En(u),u=A);m.i.push(new Zm(m.Ya++,u)),m.G==3&&Da(m)},Tn.prototype.N=function(){this.g.l=null,delete this.j,_c(this.g),delete this.g,Tn.aa.N.call(this)};function uh(u){ln.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){e:{for(const A in m){u=A;break e}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}E(uh,ln);function dh(){Tr.call(this),this.status=1}E(dh,Tr);function ii(u){this.g=u}E(ii,ch),ii.prototype.ua=function(){pt(this.g,"a")},ii.prototype.ta=function(u){pt(this.g,new uh(u))},ii.prototype.sa=function(u){pt(this.g,new dh)},ii.prototype.ra=function(){pt(this.g,"b")},Va.prototype.createWebChannel=Va.prototype.g,Tn.prototype.send=Tn.prototype.o,Tn.prototype.open=Tn.prototype.m,Tn.prototype.close=Tn.prototype.close,UI=function(){return new Va},BI=function(){return Ge()},jI=lt,_v={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ws.NO_ERROR=0,ws.TIMEOUT=8,ws.HTTP_ERROR=6,hf=ws,xa.COMPLETE="complete",FI=xa,Qe.EventType=qt,qt.OPEN="a",qt.CLOSE="b",qt.ERROR="c",qt.MESSAGE="d",_t.prototype.listen=_t.prototype.K,$c=Qe,mt.prototype.listenOnce=mt.prototype.L,mt.prototype.getLastError=mt.prototype.Ka,mt.prototype.getLastErrorCode=mt.prototype.Ba,mt.prototype.getStatus=mt.prototype.Z,mt.prototype.getResponseJson=mt.prototype.Oa,mt.prototype.getResponseText=mt.prototype.oa,mt.prototype.send=mt.prototype.ea,mt.prototype.setWithCredentials=mt.prototype.Ha,VI=mt}).apply(typeof Oh<"u"?Oh:typeof self<"u"?self:typeof window<"u"?window:{});const QC="@firebase/firestore",HC="4.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}mn.UNAUTHENTICATED=new mn(null),mn.GOOGLE_CREDENTIALS=new mn("google-credentials-uid"),mn.FIRST_PARTY=new mn("first-party-uid"),mn.MOCK_USER=new mn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let tc="11.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sa=new Rw("@firebase/firestore");function Ga(){return sa.logLevel}function me(t,...e){if(sa.logLevel<=Ue.DEBUG){const n=e.map(Mw);sa.debug(`Firestore (${tc}): ${t}`,...n)}}function qs(t,...e){if(sa.logLevel<=Ue.ERROR){const n=e.map(Mw);sa.error(`Firestore (${tc}): ${t}`,...n)}}function Qi(t,...e){if(sa.logLevel<=Ue.WARN){const n=e.map(Mw);sa.warn(`Firestore (${tc}): ${t}`,...n)}}function Mw(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Se(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,qI(t,r,n)}function qI(t,e,n){let r=`FIRESTORE (${tc}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw qs(r),new Error(r)}function Ze(t,e,n,r){let s="Unexpected state";typeof n=="string"?s=n:r=n,t||qI(e,s,r)}function Ne(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class he extends Qs{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Os{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GI{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class ej{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(mn.UNAUTHENTICATED))}shutdown(){}}class tj{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class nj{constructor(e){this.t=e,this.currentUser=mn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ze(this.o===void 0,42304);let r=this.i;const s=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let i=new Os;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Os,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const l=i;e.enqueueRetryable(async()=>{await l.promise,await s(this.currentUser)})},a=l=>{me("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(me("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Os)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(me("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ze(typeof r.accessToken=="string",31837,{l:r}),new GI(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ze(e===null||typeof e=="string",2055,{h:e}),new mn(e)}}class rj{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=mn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class sj{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new rj(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(mn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class JC{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class ij{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,fr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Ze(this.o===void 0,3512);const r=i=>{i.error!=null&&me("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.m;return this.m=i.token,me("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{me("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.V.getImmediate({optional:!0});i?s(i):me("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new JC(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ze(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new JC(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oj(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $I(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dw{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=oj(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%62))}return r}}function Le(t,e){return t<e?-1:t>e?1:0}function Tv(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=t.codePointAt(n),s=e.codePointAt(n);if(r!==s){if(r<128&&s<128)return Le(r,s);{const i=$I(),o=aj(i.encode(XC(t,n)),i.encode(XC(e,n)));return o!==0?o:Le(r,s)}}n+=r>65535?2:1}return Le(t.length,e.length)}function XC(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function aj(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return Le(t[n],e[n]);return Le(t.length,e.length)}function Vl(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZC="__name__";class Yr{constructor(e,n,r){n===void 0?n=0:n>e.length&&Se(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Se(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Yr.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Yr?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=Yr.compareSegments(e.get(s),n.get(s));if(i!==0)return i}return Le(e.length,n.length)}static compareSegments(e,n){const r=Yr.isNumericId(e),s=Yr.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?Yr.extractNumericId(e).compare(Yr.extractNumericId(n)):Tv(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return $i.fromString(e.substring(4,e.length-2))}}class ot extends Yr{construct(e,n,r){return new ot(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new he(H.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new ot(n)}static emptyPath(){return new ot([])}}const lj=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class en extends Yr{construct(e,n,r){return new en(e,n,r)}static isValidIdentifier(e){return lj.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),en.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===ZC}static keyField(){return new en([ZC])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new he(H.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<e.length;){const a=e[s];if(a==="\\"){if(s+1===e.length)throw new he(H.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[s+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new he(H.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,s+=2}else a==="`"?(o=!o,s++):a!=="."||o?(r+=a,s++):(i(),s++)}if(i(),o)throw new he(H.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new en(n)}static emptyPath(){return new en([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xe{constructor(e){this.path=e}static fromPath(e){return new xe(ot.fromString(e))}static fromName(e){return new xe(ot.fromString(e).popFirst(5))}static empty(){return new xe(ot.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ot.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ot.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new xe(new ot(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zI(t,e,n){if(!n)throw new he(H.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function cj(t,e,n,r){if(e===!0&&r===!0)throw new he(H.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function ex(t){if(!xe.isDocumentKey(t))throw new he(H.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function tx(t){if(xe.isDocumentKey(t))throw new he(H.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function WI(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function nm(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Se(12329,{type:typeof t})}function er(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new he(H.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=nm(t);throw new he(H.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ot(t,e){const n={typeString:t};return e&&(n.value=e),n}function pd(t,e){if(!WI(t))throw new he(H.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const s=e[r].typeString,i="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const o=t[r];if(s&&typeof o!==s){n=`JSON field '${r}' must be a ${s}.`;break}if(i!==void 0&&o!==i.value){n=`Expected '${r}' field to equal '${i.value}'`;break}}if(n)throw new he(H.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nx=-62135596800,rx=1e6;class Ke{static now(){return Ke.fromMillis(Date.now())}static fromDate(e){return Ke.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*rx);return new Ke(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new he(H.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new he(H.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<nx)throw new he(H.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new he(H.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/rx}_compareTo(e){return this.seconds===e.seconds?Le(this.nanoseconds,e.nanoseconds):Le(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Ke._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(pd(e,Ke._jsonSchema))return new Ke(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-nx;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Ke._jsonSchemaVersion="firestore/timestamp/1.0",Ke._jsonSchema={type:Ot("string",Ke._jsonSchemaVersion),seconds:Ot("number"),nanoseconds:Ot("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pe{static fromTimestamp(e){return new Pe(e)}static min(){return new Pe(new Ke(0,0))}static max(){return new Pe(new Ke(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lu=-1;function uj(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=Pe.fromTimestamp(r===1e9?new Ke(n+1,0):new Ke(n,r));return new Hi(s,xe.empty(),e)}function dj(t){return new Hi(t.readTime,t.key,Lu)}class Hi{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Hi(Pe.min(),xe.empty(),Lu)}static max(){return new Hi(Pe.max(),xe.empty(),Lu)}}function hj(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=xe.comparator(t.documentKey,e.documentKey),n!==0?n:Le(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fj="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class pj{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nc(t){if(t.code!==H.FAILED_PRECONDITION||t.message!==fj)throw t;me("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Se(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new J((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof J?n:J.resolve(n)}catch(n){return J.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):J.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):J.reject(n)}static resolve(e){return new J((n,r)=>{n(e)})}static reject(e){return new J((n,r)=>{r(e)})}static waitFor(e){return new J((n,r)=>{let s=0,i=0,o=!1;e.forEach(a=>{++s,a.next(()=>{++i,o&&i===s&&n()},l=>r(l))}),o=!0,i===s&&n()})}static or(e){let n=J.resolve(!1);for(const r of e)n=n.next(s=>s?J.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new J((r,s)=>{const i=e.length,o=new Array(i);let a=0;for(let l=0;l<i;l++){const c=l;n(e[c]).next(d=>{o[c]=d,++a,a===i&&r(o)},d=>s(d))}})}static doWhile(e,n){return new J((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}function mj(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function rc(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rm{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this._e(r),this.ae=r=>n.writeSequenceNumber(r))}_e(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ae&&this.ae(e),e}}rm.ue=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ow=-1;function sm(t){return t==null}function ip(t){return t===0&&1/t==-1/0}function gj(t){return typeof t=="number"&&Number.isInteger(t)&&!ip(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KI="";function yj(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=sx(e)),e=vj(t.get(n),e);return sx(e)}function vj(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const i=t.charAt(s);switch(i){case"\0":n+="";break;case KI:n+="";break;default:n+=i}}return n}function sx(t){return t+KI+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ix(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function uo(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function YI(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xt{constructor(e,n){this.comparator=e,this.root=n||Zt.EMPTY}insert(e,n){return new xt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Zt.BLACK,null,null))}remove(e){return new xt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Zt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Lh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Lh(this.root,e,this.comparator,!1)}getReverseIterator(){return new Lh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Lh(this.root,e,this.comparator,!0)}}class Lh{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Zt{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??Zt.RED,this.left=s??Zt.EMPTY,this.right=i??Zt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new Zt(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Zt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return Zt.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Zt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Zt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Se(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Se(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Se(27949);return e+(this.isRed()?0:1)}}Zt.EMPTY=null,Zt.RED=!0,Zt.BLACK=!1;Zt.EMPTY=new class{constructor(){this.size=0}get key(){throw Se(57766)}get value(){throw Se(16141)}get color(){throw Se(16727)}get left(){throw Se(29726)}get right(){throw Se(36894)}copy(e,n,r,s,i){return this}insert(e,n,r){return new Zt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ut{constructor(e){this.comparator=e,this.data=new xt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new ox(this.data.getIterator())}getIteratorFrom(e){return new ox(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Ut)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Ut(this.comparator);return n.data=e,n}}class ox{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xn{constructor(e){this.fields=e,e.sort(en.comparator)}static empty(){return new Xn([])}unionWith(e){let n=new Ut(en.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Xn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Vl(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QI extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new QI("Invalid base64 string: "+i):i}}(e);return new sn(n)}static fromUint8Array(e){const n=function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i}(e);return new sn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Le(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}sn.EMPTY_BYTE_STRING=new sn("");const wj=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ji(t){if(Ze(!!t,39018),typeof t=="string"){let e=0;const n=wj.exec(t);if(Ze(!!n,46558,{timestamp:t}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:It(t.seconds),nanos:It(t.nanos)}}function It(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Xi(t){return typeof t=="string"?sn.fromBase64String(t):sn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HI="server_timestamp",JI="__type__",XI="__previous_value__",ZI="__local_write_time__";function Lw(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[JI])===null||n===void 0?void 0:n.stringValue)===HI}function im(t){const e=t.mapValue.fields[XI];return Lw(e)?im(e):e}function Vu(t){const e=Ji(t.mapValue.fields[ZI].timestampValue);return new Ke(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ej{constructor(e,n,r,s,i,o,a,l,c,d){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c,this.isUsingEmulator=d}}const op="(default)";class Fu{constructor(e,n){this.projectId=e,this.database=n||op}static empty(){return new Fu("","")}get isDefaultDatabase(){return this.database===op}isEqual(e){return e instanceof Fu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eS="__type__",tS="__max__",Vh={mapValue:{fields:{__type__:{stringValue:tS}}}},nS="__vector__",ap="value";function Zi(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Lw(t)?4:xj(t)?9007199254740991:Cj(t)?10:11:Se(28295,{value:t})}function ls(t,e){if(t===e)return!0;const n=Zi(t);if(n!==Zi(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Vu(t).isEqual(Vu(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=Ji(s.timestampValue),a=Ji(i.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return Xi(s.bytesValue).isEqual(Xi(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return It(s.geoPointValue.latitude)===It(i.geoPointValue.latitude)&&It(s.geoPointValue.longitude)===It(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return It(s.integerValue)===It(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=It(s.doubleValue),a=It(i.doubleValue);return o===a?ip(o)===ip(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Vl(t.arrayValue.values||[],e.arrayValue.values||[],ls);case 10:case 11:return function(s,i){const o=s.mapValue.fields||{},a=i.mapValue.fields||{};if(ix(o)!==ix(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!ls(o[l],a[l])))return!1;return!0}(t,e);default:return Se(52216,{left:t})}}function ju(t,e){return(t.values||[]).find(n=>ls(n,e))!==void 0}function Fl(t,e){if(t===e)return 0;const n=Zi(t),r=Zi(e);if(n!==r)return Le(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Le(t.booleanValue,e.booleanValue);case 2:return function(i,o){const a=It(i.integerValue||i.doubleValue),l=It(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return ax(t.timestampValue,e.timestampValue);case 4:return ax(Vu(t),Vu(e));case 5:return Tv(t.stringValue,e.stringValue);case 6:return function(i,o){const a=Xi(i),l=Xi(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const a=i.split("/"),l=o.split("/");for(let c=0;c<a.length&&c<l.length;c++){const d=Le(a[c],l[c]);if(d!==0)return d}return Le(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const a=Le(It(i.latitude),It(o.latitude));return a!==0?a:Le(It(i.longitude),It(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return lx(t.arrayValue,e.arrayValue);case 10:return function(i,o){var a,l,c,d;const f=i.fields||{},h=o.fields||{},v=(a=f[ap])===null||a===void 0?void 0:a.arrayValue,E=(l=h[ap])===null||l===void 0?void 0:l.arrayValue,y=Le(((c=v==null?void 0:v.values)===null||c===void 0?void 0:c.length)||0,((d=E==null?void 0:E.values)===null||d===void 0?void 0:d.length)||0);return y!==0?y:lx(v,E)}(t.mapValue,e.mapValue);case 11:return function(i,o){if(i===Vh.mapValue&&o===Vh.mapValue)return 0;if(i===Vh.mapValue)return 1;if(o===Vh.mapValue)return-1;const a=i.fields||{},l=Object.keys(a),c=o.fields||{},d=Object.keys(c);l.sort(),d.sort();for(let f=0;f<l.length&&f<d.length;++f){const h=Tv(l[f],d[f]);if(h!==0)return h;const v=Fl(a[l[f]],c[d[f]]);if(v!==0)return v}return Le(l.length,d.length)}(t.mapValue,e.mapValue);default:throw Se(23264,{le:n})}}function ax(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Le(t,e);const n=Ji(t),r=Ji(e),s=Le(n.seconds,r.seconds);return s!==0?s:Le(n.nanos,r.nanos)}function lx(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const i=Fl(n[s],r[s]);if(i)return i}return Le(n.length,r.length)}function jl(t){return Av(t)}function Av(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Ji(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Xi(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return xe.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=Av(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const o of r)i?i=!1:s+=",",s+=`${o}:${Av(n.fields[o])}`;return s+"}"}(t.mapValue):Se(61005,{value:t})}function ff(t){switch(Zi(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=im(t);return e?16+ff(e):16;case 5:return 2*t.stringValue.length;case 6:return Xi(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((s,i)=>s+ff(i),0)}(t.arrayValue);case 10:case 11:return function(r){let s=0;return uo(r.fields,(i,o)=>{s+=i.length+ff(o)}),s}(t.mapValue);default:throw Se(13486,{value:t})}}function cx(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function bv(t){return!!t&&"integerValue"in t}function Vw(t){return!!t&&"arrayValue"in t}function ux(t){return!!t&&"nullValue"in t}function dx(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function pf(t){return!!t&&"mapValue"in t}function Cj(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[eS])===null||n===void 0?void 0:n.stringValue)===nS}function cu(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return uo(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=cu(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=cu(t.arrayValue.values[n]);return e}return Object.assign({},t)}function xj(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===tS}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ln{constructor(e){this.value=e}static empty(){return new Ln({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!pf(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=cu(n)}setAll(e){let n=en.emptyPath(),r={},s=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,s),r={},s=[],n=a.popLast()}o?r[a.lastSegment()]=cu(o):s.push(a.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());pf(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ls(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];pf(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){uo(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new Ln(cu(this.value))}}function rS(t){const e=[];return uo(t.fields,(n,r)=>{const s=new en([n]);if(pf(r)){const i=rS(r.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)}),new Xn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yn{constructor(e,n,r,s,i,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(e){return new yn(e,0,Pe.min(),Pe.min(),Pe.min(),Ln.empty(),0)}static newFoundDocument(e,n,r,s){return new yn(e,1,n,Pe.min(),r,s,0)}static newNoDocument(e,n){return new yn(e,2,n,Pe.min(),Pe.min(),Ln.empty(),0)}static newUnknownDocument(e,n){return new yn(e,3,n,Pe.min(),Pe.min(),Ln.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Pe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ln.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ln.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Pe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof yn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new yn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lp{constructor(e,n){this.position=e,this.inclusive=n}}function hx(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?r=xe.comparator(xe.fromName(o.referenceValue),n.key):r=Fl(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function fx(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!ls(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bu{constructor(e,n="asc"){this.field=e,this.dir=n}}function _j(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sS{}class Dt extends sS{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new Aj(e,n,r):n==="array-contains"?new Sj(e,r):n==="in"?new Rj(e,r):n==="not-in"?new Pj(e,r):n==="array-contains-any"?new Nj(e,r):new Dt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new bj(e,r):new Ij(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Fl(n,this.value)):n!==null&&Zi(this.value)===Zi(n)&&this.matchesComparison(Fl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Se(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Br extends sS{constructor(e,n){super(),this.filters=e,this.op=n,this.he=null}static create(e,n){return new Br(e,n)}matches(e){return iS(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}}function iS(t){return t.op==="and"}function oS(t){return Tj(t)&&iS(t)}function Tj(t){for(const e of t.filters)if(e instanceof Br)return!1;return!0}function Iv(t){if(t instanceof Dt)return t.field.canonicalString()+t.op.toString()+jl(t.value);if(oS(t))return t.filters.map(e=>Iv(e)).join(",");{const e=t.filters.map(n=>Iv(n)).join(",");return`${t.op}(${e})`}}function aS(t,e){return t instanceof Dt?function(r,s){return s instanceof Dt&&r.op===s.op&&r.field.isEqual(s.field)&&ls(r.value,s.value)}(t,e):t instanceof Br?function(r,s){return s instanceof Br&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,o,a)=>i&&aS(o,s.filters[a]),!0):!1}(t,e):void Se(19439)}function lS(t){return t instanceof Dt?function(n){return`${n.field.canonicalString()} ${n.op} ${jl(n.value)}`}(t):t instanceof Br?function(n){return n.op.toString()+" {"+n.getFilters().map(lS).join(" ,")+"}"}(t):"Filter"}class Aj extends Dt{constructor(e,n,r){super(e,n,r),this.key=xe.fromName(r.referenceValue)}matches(e){const n=xe.comparator(e.key,this.key);return this.matchesComparison(n)}}class bj extends Dt{constructor(e,n){super(e,"in",n),this.keys=cS("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class Ij extends Dt{constructor(e,n){super(e,"not-in",n),this.keys=cS("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function cS(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>xe.fromName(r.referenceValue))}class Sj extends Dt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Vw(n)&&ju(n.arrayValue,this.value)}}class Rj extends Dt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&ju(this.value.arrayValue,n)}}class Pj extends Dt{constructor(e,n){super(e,"not-in",n)}matches(e){if(ju(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!ju(this.value.arrayValue,n)}}class Nj extends Dt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Vw(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>ju(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kj{constructor(e,n=null,r=[],s=[],i=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=a,this.Pe=null}}function px(t,e=null,n=[],r=[],s=null,i=null,o=null){return new kj(t,e,n,r,s,i,o)}function Fw(t){const e=Ne(t);if(e.Pe===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Iv(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),sm(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>jl(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>jl(r)).join(",")),e.Pe=n}return e.Pe}function jw(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!_j(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!aS(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!fx(t.startAt,e.startAt)&&fx(t.endAt,e.endAt)}function Sv(t){return xe.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sc{constructor(e,n=null,r=[],s=[],i=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=l,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function Mj(t,e,n,r,s,i,o,a){return new sc(t,e,n,r,s,i,o,a)}function om(t){return new sc(t)}function mx(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function uS(t){return t.collectionGroup!==null}function uu(t){const e=Ne(t);if(e.Te===null){e.Te=[];const n=new Set;for(const i of e.explicitOrderBy)e.Te.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new Ut(en.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.Te.push(new Bu(i,r))}),n.has(en.keyField().canonicalString())||e.Te.push(new Bu(en.keyField(),r))}return e.Te}function ns(t){const e=Ne(t);return e.Ie||(e.Ie=Dj(e,uu(t))),e.Ie}function Dj(t,e){if(t.limitType==="F")return px(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new Bu(s.field,i)});const n=t.endAt?new lp(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new lp(t.startAt.position,t.startAt.inclusive):null;return px(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Rv(t,e){const n=t.filters.concat([e]);return new sc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Pv(t,e,n){return new sc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function am(t,e){return jw(ns(t),ns(e))&&t.limitType===e.limitType}function dS(t){return`${Fw(ns(t))}|lt:${t.limitType}`}function $a(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>lS(s)).join(", ")}]`),sm(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>jl(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>jl(s)).join(",")),`Target(${r})`}(ns(t))}; limitType=${t.limitType})`}function lm(t,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):xe.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,s){for(const i of uu(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(o,a,l){const c=hx(o,a,l);return o.inclusive?c<=0:c<0}(r.startAt,uu(r),s)||r.endAt&&!function(o,a,l){const c=hx(o,a,l);return o.inclusive?c>=0:c>0}(r.endAt,uu(r),s))}(t,e)}function Oj(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function hS(t){return(e,n)=>{let r=!1;for(const s of uu(t)){const i=Lj(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function Lj(t,e,n){const r=t.field.isKeyField()?xe.comparator(e.key,n.key):function(i,o,a){const l=o.data.field(i),c=a.data.field(i);return l!==null&&c!==null?Fl(l,c):Se(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Se(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ma{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){uo(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return YI(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vj=new xt(xe.comparator);function Gs(){return Vj}const fS=new xt(xe.comparator);function zc(...t){let e=fS;for(const n of t)e=e.insert(n.key,n);return e}function pS(t){let e=fS;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Fo(){return du()}function mS(){return du()}function du(){return new ma(t=>t.toString(),(t,e)=>t.isEqual(e))}const Fj=new xt(xe.comparator),jj=new Ut(xe.comparator);function qe(...t){let e=jj;for(const n of t)e=e.add(n);return e}const Bj=new Ut(Le);function Uj(){return Bj}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bw(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ip(e)?"-0":e}}function gS(t){return{integerValue:""+t}}function yS(t,e){return gj(e)?gS(e):Bw(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cm{constructor(){this._=void 0}}function qj(t,e,n){return t instanceof cp?function(s,i){const o={fields:{[JI]:{stringValue:HI},[ZI]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&Lw(i)&&(i=im(i)),i&&(o.fields[XI]=i),{mapValue:o}}(n,e):t instanceof Uu?wS(t,e):t instanceof qu?ES(t,e):function(s,i){const o=vS(s,i),a=gx(o)+gx(s.Ee);return bv(o)&&bv(s.Ee)?gS(a):Bw(s.serializer,a)}(t,e)}function Gj(t,e,n){return t instanceof Uu?wS(t,e):t instanceof qu?ES(t,e):n}function vS(t,e){return t instanceof Gu?function(r){return bv(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class cp extends cm{}class Uu extends cm{constructor(e){super(),this.elements=e}}function wS(t,e){const n=CS(e);for(const r of t.elements)n.some(s=>ls(s,r))||n.push(r);return{arrayValue:{values:n}}}class qu extends cm{constructor(e){super(),this.elements=e}}function ES(t,e){let n=CS(e);for(const r of t.elements)n=n.filter(s=>!ls(s,r));return{arrayValue:{values:n}}}class Gu extends cm{constructor(e,n){super(),this.serializer=e,this.Ee=n}}function gx(t){return It(t.integerValue||t.doubleValue)}function CS(t){return Vw(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $j{constructor(e,n){this.field=e,this.transform=n}}function zj(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof Uu&&s instanceof Uu||r instanceof qu&&s instanceof qu?Vl(r.elements,s.elements,ls):r instanceof Gu&&s instanceof Gu?ls(r.Ee,s.Ee):r instanceof cp&&s instanceof cp}(t.transform,e.transform)}class Wj{constructor(e,n){this.version=e,this.transformResults=n}}class Fr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Fr}static exists(e){return new Fr(void 0,e)}static updateTime(e){return new Fr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function mf(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}let um=class{};function xS(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Uw(t.key,Fr.none()):new md(t.key,t.data,Fr.none());{const n=t.data,r=Ln.empty();let s=new Ut(en.comparator);for(let i of e.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new ho(t.key,r,new Xn(s.toArray()),Fr.none())}}function Kj(t,e,n){t instanceof md?function(s,i,o){const a=s.value.clone(),l=vx(s.fieldTransforms,i,o.transformResults);a.setAll(l),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof ho?function(s,i,o){if(!mf(s.precondition,i))return void i.convertToUnknownDocument(o.version);const a=vx(s.fieldTransforms,i,o.transformResults),l=i.data;l.setAll(_S(s)),l.setAll(a),i.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function hu(t,e,n,r){return t instanceof md?function(i,o,a,l){if(!mf(i.precondition,o))return a;const c=i.value.clone(),d=wx(i.fieldTransforms,l,o);return c.setAll(d),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof ho?function(i,o,a,l){if(!mf(i.precondition,o))return a;const c=wx(i.fieldTransforms,l,o),d=o.data;return d.setAll(_S(i)),d.setAll(c),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),a===null?null:a.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(i,o,a){return mf(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function Yj(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=vS(r.transform,s||null);i!=null&&(n===null&&(n=Ln.empty()),n.set(r.field,i))}return n||null}function yx(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&Vl(r,s,(i,o)=>zj(i,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class md extends um{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class ho extends um{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function _S(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function vx(t,e,n){const r=new Map;Ze(t.length===n.length,32656,{Ae:n.length,Re:t.length});for(let s=0;s<n.length;s++){const i=t[s],o=i.transform,a=e.data.field(i.field);r.set(i.field,Gj(o,a,n[s]))}return r}function wx(t,e,n){const r=new Map;for(const s of t){const i=s.transform,o=n.data.field(s.field);r.set(s.field,qj(i,o,e))}return r}class Uw extends um{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Qj extends um{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hj{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&Kj(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=hu(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=hu(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=mS();return this.mutations.forEach(s=>{const i=e.get(s.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=n.has(s.key)?null:a;const l=xS(o,a);l!==null&&r.set(s.key,l),o.isValidDocument()||o.convertToNoDocument(Pe.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),qe())}isEqual(e){return this.batchId===e.batchId&&Vl(this.mutations,e.mutations,(n,r)=>yx(n,r))&&Vl(this.baseMutations,e.baseMutations,(n,r)=>yx(n,r))}}class qw{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){Ze(e.mutations.length===r.length,58842,{Ve:e.mutations.length,me:r.length});let s=function(){return Fj}();const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new qw(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jj{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xj{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var kt,ze;function Zj(t){switch(t){case H.OK:return Se(64938);case H.CANCELLED:case H.UNKNOWN:case H.DEADLINE_EXCEEDED:case H.RESOURCE_EXHAUSTED:case H.INTERNAL:case H.UNAVAILABLE:case H.UNAUTHENTICATED:return!1;case H.INVALID_ARGUMENT:case H.NOT_FOUND:case H.ALREADY_EXISTS:case H.PERMISSION_DENIED:case H.FAILED_PRECONDITION:case H.ABORTED:case H.OUT_OF_RANGE:case H.UNIMPLEMENTED:case H.DATA_LOSS:return!0;default:return Se(15467,{code:t})}}function TS(t){if(t===void 0)return qs("GRPC error has no .code"),H.UNKNOWN;switch(t){case kt.OK:return H.OK;case kt.CANCELLED:return H.CANCELLED;case kt.UNKNOWN:return H.UNKNOWN;case kt.DEADLINE_EXCEEDED:return H.DEADLINE_EXCEEDED;case kt.RESOURCE_EXHAUSTED:return H.RESOURCE_EXHAUSTED;case kt.INTERNAL:return H.INTERNAL;case kt.UNAVAILABLE:return H.UNAVAILABLE;case kt.UNAUTHENTICATED:return H.UNAUTHENTICATED;case kt.INVALID_ARGUMENT:return H.INVALID_ARGUMENT;case kt.NOT_FOUND:return H.NOT_FOUND;case kt.ALREADY_EXISTS:return H.ALREADY_EXISTS;case kt.PERMISSION_DENIED:return H.PERMISSION_DENIED;case kt.FAILED_PRECONDITION:return H.FAILED_PRECONDITION;case kt.ABORTED:return H.ABORTED;case kt.OUT_OF_RANGE:return H.OUT_OF_RANGE;case kt.UNIMPLEMENTED:return H.UNIMPLEMENTED;case kt.DATA_LOSS:return H.DATA_LOSS;default:return Se(39323,{code:t})}}(ze=kt||(kt={}))[ze.OK=0]="OK",ze[ze.CANCELLED=1]="CANCELLED",ze[ze.UNKNOWN=2]="UNKNOWN",ze[ze.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ze[ze.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ze[ze.NOT_FOUND=5]="NOT_FOUND",ze[ze.ALREADY_EXISTS=6]="ALREADY_EXISTS",ze[ze.PERMISSION_DENIED=7]="PERMISSION_DENIED",ze[ze.UNAUTHENTICATED=16]="UNAUTHENTICATED",ze[ze.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ze[ze.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ze[ze.ABORTED=10]="ABORTED",ze[ze.OUT_OF_RANGE=11]="OUT_OF_RANGE",ze[ze.UNIMPLEMENTED=12]="UNIMPLEMENTED",ze[ze.INTERNAL=13]="INTERNAL",ze[ze.UNAVAILABLE=14]="UNAVAILABLE",ze[ze.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eB=new $i([4294967295,4294967295],0);function Ex(t){const e=$I().encode(t),n=new LI;return n.update(e),new Uint8Array(n.digest())}function Cx(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new $i([n,r],0),new $i([s,i],0)]}class Gw{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Wc(`Invalid padding: ${n}`);if(r<0)throw new Wc(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Wc(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Wc(`Invalid padding when bitmap length is 0: ${n}`);this.fe=8*e.length-n,this.ge=$i.fromNumber(this.fe)}pe(e,n,r){let s=e.add(n.multiply($i.fromNumber(r)));return s.compare(eB)===1&&(s=new $i([s.getBits(0),s.getBits(1)],0)),s.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;const n=Ex(e),[r,s]=Cx(n);for(let i=0;i<this.hashCount;i++){const o=this.pe(r,s,i);if(!this.ye(o))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new Gw(i,s,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.fe===0)return;const n=Ex(e),[r,s]=Cx(n);for(let i=0;i<this.hashCount;i++){const o=this.pe(r,s,i);this.we(o)}}we(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Wc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dm{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,gd.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new dm(Pe.min(),s,new xt(Le),Gs(),qe())}}class gd{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new gd(r,n,qe(),qe(),qe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gf{constructor(e,n,r,s){this.Se=e,this.removedTargetIds=n,this.key=r,this.be=s}}class AS{constructor(e,n){this.targetId=e,this.De=n}}class bS{constructor(e,n,r=sn.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class xx{constructor(){this.ve=0,this.Ce=_x(),this.Fe=sn.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=qe(),n=qe(),r=qe();return this.Ce.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:Se(38017,{changeType:i})}}),new gd(this.Fe,this.Me,e,n,r)}ke(){this.xe=!1,this.Ce=_x()}qe(e,n){this.xe=!0,this.Ce=this.Ce.insert(e,n)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,Ze(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}}class tB{constructor(e){this.We=e,this.Ge=new Map,this.ze=Gs(),this.je=Fh(),this.Je=Fh(),this.He=new xt(Le)}Ye(e){for(const n of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(n,e.be):this.Xe(n,e.key,e.be);for(const n of e.removedTargetIds)this.Xe(n,e.key,e.be)}et(e){this.forEachTarget(e,n=>{const r=this.tt(n);switch(e.state){case 0:this.nt(n)&&r.Be(e.resumeToken);break;case 1:r.Ue(),r.Oe||r.ke(),r.Be(e.resumeToken);break;case 2:r.Ue(),r.Oe||this.removeTarget(n);break;case 3:this.nt(n)&&(r.Ke(),r.Be(e.resumeToken));break;case 4:this.nt(n)&&(this.rt(n),r.Be(e.resumeToken));break;default:Se(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Ge.forEach((r,s)=>{this.nt(s)&&n(s)})}it(e){const n=e.targetId,r=e.De.count,s=this.st(n);if(s){const i=s.target;if(Sv(i))if(r===0){const o=new xe(i.path);this.Xe(n,o,yn.newNoDocument(o,Pe.min()))}else Ze(r===1,20013,{expectedCount:r});else{const o=this.ot(n);if(o!==r){const a=this._t(e),l=a?this.ut(a,e,o):1;if(l!==0){this.rt(n);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(n,c)}}}}}_t(e){const n=e.De.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let o,a;try{o=Xi(r).toUint8Array()}catch(l){if(l instanceof QI)return Qi("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new Gw(o,s,i)}catch(l){return Qi(l instanceof Wc?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.fe===0?null:a}ut(e,n,r){return n.De.count===r-this.ht(e,n.targetId)?0:2}ht(e,n){const r=this.We.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const o=this.We.lt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(a)||(this.Xe(n,i,null),s++)}),s}Pt(e){const n=new Map;this.Ge.forEach((i,o)=>{const a=this.st(o);if(a){if(i.current&&Sv(a.target)){const l=new xe(a.target.path);this.Tt(l).has(o)||this.It(o,l)||this.Xe(o,l,yn.newNoDocument(l,e))}i.Ne&&(n.set(o,i.Le()),i.ke())}});let r=qe();this.Je.forEach((i,o)=>{let a=!0;o.forEachWhile(l=>{const c=this.st(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(i))}),this.ze.forEach((i,o)=>o.setReadTime(e));const s=new dm(e,n,this.He,this.ze,r);return this.ze=Gs(),this.je=Fh(),this.Je=Fh(),this.He=new xt(Le),s}Ze(e,n){if(!this.nt(e))return;const r=this.It(e,n.key)?2:0;this.tt(e).qe(n.key,r),this.ze=this.ze.insert(n.key,n),this.je=this.je.insert(n.key,this.Tt(n.key).add(e)),this.Je=this.Je.insert(n.key,this.dt(n.key).add(e))}Xe(e,n,r){if(!this.nt(e))return;const s=this.tt(e);this.It(e,n)?s.qe(n,1):s.Qe(n),this.Je=this.Je.insert(n,this.dt(n).delete(e)),this.Je=this.Je.insert(n,this.dt(n).add(e)),r&&(this.ze=this.ze.insert(n,r))}removeTarget(e){this.Ge.delete(e)}ot(e){const n=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let n=this.Ge.get(e);return n||(n=new xx,this.Ge.set(e,n)),n}dt(e){let n=this.Je.get(e);return n||(n=new Ut(Le),this.Je=this.Je.insert(e,n)),n}Tt(e){let n=this.je.get(e);return n||(n=new Ut(Le),this.je=this.je.insert(e,n)),n}nt(e){const n=this.st(e)!==null;return n||me("WatchChangeAggregator","Detected inactive target",e),n}st(e){const n=this.Ge.get(e);return n&&n.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new xx),this.We.getRemoteKeysForTarget(e).forEach(n=>{this.Xe(e,n,null)})}It(e,n){return this.We.getRemoteKeysForTarget(e).has(n)}}function Fh(){return new xt(xe.comparator)}function _x(){return new xt(xe.comparator)}const nB={asc:"ASCENDING",desc:"DESCENDING"},rB={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},sB={and:"AND",or:"OR"};class iB{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Nv(t,e){return t.useProto3Json||sm(e)?e:{value:e}}function up(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function IS(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function oB(t,e){return up(t,e.toTimestamp())}function rs(t){return Ze(!!t,49232),Pe.fromTimestamp(function(n){const r=Ji(n);return new Ke(r.seconds,r.nanos)}(t))}function $w(t,e){return kv(t,e).canonicalString()}function kv(t,e){const n=function(s){return new ot(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function SS(t){const e=ot.fromString(t);return Ze(MS(e),10190,{key:e.toString()}),e}function Mv(t,e){return $w(t.databaseId,e.path)}function Kg(t,e){const n=SS(e);if(n.get(1)!==t.databaseId.projectId)throw new he(H.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new he(H.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new xe(PS(n))}function RS(t,e){return $w(t.databaseId,e)}function aB(t){const e=SS(t);return e.length===4?ot.emptyPath():PS(e)}function Dv(t){return new ot(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function PS(t){return Ze(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function Tx(t,e,n){return{name:Mv(t,e),fields:n.value.mapValue.fields}}function lB(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:Se(39313,{state:c})}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(c,d){return c.useProto3Json?(Ze(d===void 0||typeof d=="string",58123),sn.fromBase64String(d||"")):(Ze(d===void 0||d instanceof Buffer||d instanceof Uint8Array,16193),sn.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){const d=c.code===void 0?H.UNKNOWN:TS(c.code);return new he(d,c.message||"")}(o);n=new bS(r,s,i,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=Kg(t,r.document.name),i=rs(r.document.updateTime),o=r.document.createTime?rs(r.document.createTime):Pe.min(),a=new Ln({mapValue:{fields:r.document.fields}}),l=yn.newFoundDocument(s,i,o,a),c=r.targetIds||[],d=r.removedTargetIds||[];n=new gf(c,d,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=Kg(t,r.document),i=r.readTime?rs(r.readTime):Pe.min(),o=yn.newNoDocument(s,i),a=r.removedTargetIds||[];n=new gf([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=Kg(t,r.document),i=r.removedTargetIds||[];n=new gf([],i,s,null)}else{if(!("filter"in e))return Se(11601,{At:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new Xj(s,i),a=r.targetId;n=new AS(a,o)}}return n}function cB(t,e){let n;if(e instanceof md)n={update:Tx(t,e.key,e.value)};else if(e instanceof Uw)n={delete:Mv(t,e.key)};else if(e instanceof ho)n={update:Tx(t,e.key,e.data),updateMask:vB(e.fieldMask)};else{if(!(e instanceof Qj))return Se(16599,{Rt:e.type});n={verify:Mv(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const a=o.transform;if(a instanceof cp)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Uu)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof qu)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Gu)return{fieldPath:o.field.canonicalString(),increment:a.Ee};throw Se(20930,{transform:o.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:oB(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:Se(27497)}(t,e.precondition)),n}function uB(t,e){return t&&t.length>0?(Ze(e!==void 0,14353),t.map(n=>function(s,i){let o=s.updateTime?rs(s.updateTime):rs(i);return o.isEqual(Pe.min())&&(o=rs(i)),new Wj(o,s.transformResults||[])}(n,e))):[]}function dB(t,e){return{documents:[RS(t,e.path)]}}function hB(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=RS(t,s);const i=function(c){if(c.length!==0)return kS(Br.create(c,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const o=function(c){if(c.length!==0)return c.map(d=>function(h){return{field:za(h.field),direction:mB(h.dir)}}(d))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=Nv(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{Vt:n,parent:s}}function fB(t){let e=aB(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){Ze(r===1,65062);const d=n.from[0];d.allDescendants?s=d.collectionId:e=e.child(d.collectionId)}let i=[];n.where&&(i=function(f){const h=NS(f);return h instanceof Br&&oS(h)?h.getFilters():[h]}(n.where));let o=[];n.orderBy&&(o=function(f){return f.map(h=>function(E){return new Bu(Wa(E.field),function(b){switch(b){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(E.direction))}(h))}(n.orderBy));let a=null;n.limit&&(a=function(f){let h;return h=typeof f=="object"?f.value:f,sm(h)?null:h}(n.limit));let l=null;n.startAt&&(l=function(f){const h=!!f.before,v=f.values||[];return new lp(v,h)}(n.startAt));let c=null;return n.endAt&&(c=function(f){const h=!f.before,v=f.values||[];return new lp(v,h)}(n.endAt)),Mj(e,s,o,i,a,"F",l,c)}function pB(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Se(28987,{purpose:s})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function NS(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Wa(n.unaryFilter.field);return Dt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=Wa(n.unaryFilter.field);return Dt.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Wa(n.unaryFilter.field);return Dt.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Wa(n.unaryFilter.field);return Dt.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Se(61313);default:return Se(60726)}}(t):t.fieldFilter!==void 0?function(n){return Dt.create(Wa(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Se(58110);default:return Se(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Br.create(n.compositeFilter.filters.map(r=>NS(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Se(1026)}}(n.compositeFilter.op))}(t):Se(30097,{filter:t})}function mB(t){return nB[t]}function gB(t){return rB[t]}function yB(t){return sB[t]}function za(t){return{fieldPath:t.canonicalString()}}function Wa(t){return en.fromServerFormat(t.fieldPath)}function kS(t){return t instanceof Dt?function(n){if(n.op==="=="){if(dx(n.value))return{unaryFilter:{field:za(n.field),op:"IS_NAN"}};if(ux(n.value))return{unaryFilter:{field:za(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(dx(n.value))return{unaryFilter:{field:za(n.field),op:"IS_NOT_NAN"}};if(ux(n.value))return{unaryFilter:{field:za(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:za(n.field),op:gB(n.op),value:n.value}}}(t):t instanceof Br?function(n){const r=n.getFilters().map(s=>kS(s));return r.length===1?r[0]:{compositeFilter:{op:yB(n.op),filters:r}}}(t):Se(54877,{filter:t})}function vB(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function MS(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pi{constructor(e,n,r,s,i=Pe.min(),o=Pe.min(),a=sn.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new Pi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Pi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Pi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Pi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wB{constructor(e){this.gt=e}}function EB(t){const e=fB({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Pv(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CB{constructor(){this.Dn=new xB}addToCollectionParentIndex(e,n){return this.Dn.add(n),J.resolve()}getCollectionParents(e,n){return J.resolve(this.Dn.getEntries(n))}addFieldIndex(e,n){return J.resolve()}deleteFieldIndex(e,n){return J.resolve()}deleteAllFieldIndexes(e){return J.resolve()}createTargetIndexes(e,n){return J.resolve()}getDocumentsMatchingTarget(e,n){return J.resolve(null)}getIndexType(e,n){return J.resolve(0)}getFieldIndexes(e,n){return J.resolve([])}getNextCollectionGroupToUpdate(e){return J.resolve(null)}getMinOffset(e,n){return J.resolve(Hi.min())}getMinOffsetFromCollectionGroup(e,n){return J.resolve(Hi.min())}updateCollectionGroup(e,n,r){return J.resolve()}updateIndexEntries(e,n){return J.resolve()}}class xB{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new Ut(ot.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new Ut(ot.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ax={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},DS=41943040;class Dn{static withCacheSize(e){return new Dn(e,Dn.DEFAULT_COLLECTION_PERCENTILE,Dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Dn.DEFAULT_COLLECTION_PERCENTILE=10,Dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Dn.DEFAULT=new Dn(DS,Dn.DEFAULT_COLLECTION_PERCENTILE,Dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Dn.DISABLED=new Dn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bl{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new Bl(0)}static ur(){return new Bl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bx="LruGarbageCollector",_B=1048576;function Ix([t,e],[n,r]){const s=Le(t,n);return s===0?Le(e,r):s}class TB{constructor(e){this.Tr=e,this.buffer=new Ut(Ix),this.Ir=0}dr(){return++this.Ir}Er(e){const n=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();Ix(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class AB{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){me(bx,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){rc(n)?me(bx,"Ignoring IndexedDB error during garbage collection: ",n):await nc(n)}await this.Rr(3e5)})}}class bB{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.mr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return J.resolve(rm.ue);const r=new TB(n);return this.Vr.forEachTarget(e,s=>r.Er(s.sequenceNumber)).next(()=>this.Vr.gr(e,s=>r.Er(s))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.Vr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(me("LruGarbageCollector","Garbage collection skipped; disabled"),J.resolve(Ax)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(me("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Ax):this.pr(e,n))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,n){let r,s,i,o,a,l,c;const d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(me("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),s=this.params.maximumSequenceNumbersToCollect):s=f,o=Date.now(),this.nthSequenceNumber(e,s))).next(f=>(r=f,a=Date.now(),this.removeTargets(e,r,n))).next(f=>(i=f,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(f=>(c=Date.now(),Ga()<=Ue.DEBUG&&me("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-d}ms
	Determined least recently used ${s} in `+(a-o)+`ms
	Removed ${i} targets in `+(l-a)+`ms
	Removed ${f} documents in `+(c-l)+`ms
Total Duration: ${c-d}ms`),J.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:i,documentsRemoved:f})))}}function IB(t,e){return new bB(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SB{constructor(){this.changes=new ma(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,yn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?J.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RB{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PB{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&hu(r.mutation,s,Xn.empty(),Ke.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,qe()).next(()=>r))}getLocalViewOfDocuments(e,n,r=qe()){const s=Fo();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let o=zc();return i.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Fo();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,qe()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,s){let i=Gs();const o=du(),a=function(){return du()}();return n.forEach((l,c)=>{const d=r.get(c.key);s.has(c.key)&&(d===void 0||d.mutation instanceof ho)?i=i.insert(c.key,c):d!==void 0?(o.set(c.key,d.mutation.getFieldMask()),hu(d.mutation,c,d.mutation.getFieldMask(),Ke.now())):o.set(c.key,Xn.empty())}),this.recalculateAndSaveOverlays(e,i).next(l=>(l.forEach((c,d)=>o.set(c,d)),n.forEach((c,d)=>{var f;return a.set(c,new RB(d,(f=o.get(c))!==null&&f!==void 0?f:null))}),a))}recalculateAndSaveOverlays(e,n){const r=du();let s=new xt((o,a)=>o-a),i=qe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let d=r.get(l)||Xn.empty();d=a.applyToLocalView(c,d),r.set(l,d);const f=(s.get(a.batchId)||qe()).add(l);s=s.insert(a.batchId,f)})}).next(()=>{const o=[],a=s.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,d=l.value,f=mS();d.forEach(h=>{if(!i.has(h)){const v=xS(n.get(h),r.get(h));v!==null&&f.set(h,v),i=i.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,f))}return J.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(o){return xe.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):uS(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):J.resolve(Fo());let a=Lu,l=i;return o.next(c=>J.forEach(c,(d,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),i.get(d)?J.resolve():this.remoteDocumentCache.getEntry(e,d).next(h=>{l=l.insert(d,h)}))).next(()=>this.populateOverlays(e,c,i)).next(()=>this.computeViews(e,l,c,qe())).next(d=>({batchId:a,changes:pS(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new xe(n)).next(r=>{let s=zc();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let o=zc();return this.indexManager.getCollectionParents(e,i).next(a=>J.forEach(a,l=>{const c=function(f,h){return new sc(h,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,l.child(i));return this.getDocumentsMatchingCollectionQuery(e,c,r,s).next(d=>{d.forEach((f,h)=>{o=o.insert(f,h)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s))).next(o=>{i.forEach((l,c)=>{const d=c.getKey();o.get(d)===null&&(o=o.insert(d,yn.newInvalidDocument(d)))});let a=zc();return o.forEach((l,c)=>{const d=i.get(l);d!==void 0&&hu(d.mutation,c,Xn.empty(),Ke.now()),lm(n,c)&&(a=a.insert(l,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NB{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,n){return J.resolve(this.Br.get(n))}saveBundleMetadata(e,n){return this.Br.set(n.id,function(s){return{id:s.id,version:s.version,createTime:rs(s.createTime)}}(n)),J.resolve()}getNamedQuery(e,n){return J.resolve(this.Lr.get(n))}saveNamedQuery(e,n){return this.Lr.set(n.name,function(s){return{name:s.name,query:EB(s.bundledQuery),readTime:rs(s.readTime)}}(n)),J.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kB{constructor(){this.overlays=new xt(xe.comparator),this.kr=new Map}getOverlay(e,n){return J.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Fo();return J.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.wt(e,n,i)}),J.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.kr.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.kr.delete(r)),J.resolve()}getOverlaysForCollection(e,n,r){const s=Fo(),i=n.length+1,o=new xe(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===i&&l.largestBatchId>r&&s.set(l.getKey(),l)}return J.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new xt((c,d)=>c-d);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let d=i.get(c.largestBatchId);d===null&&(d=Fo(),i=i.insert(c.largestBatchId,d)),d.set(c.getKey(),c)}}const a=Fo(),l=i.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,d)=>a.set(c,d)),!(a.size()>=s)););return J.resolve(a)}wt(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.kr.get(s.largestBatchId).delete(r.key);this.kr.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new Jj(n,r));let i=this.kr.get(n);i===void 0&&(i=qe(),this.kr.set(n,i)),this.kr.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MB{constructor(){this.sessionToken=sn.EMPTY_BYTE_STRING}getSessionToken(e){return J.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,J.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zw{constructor(){this.qr=new Ut(Wt.Qr),this.$r=new Ut(Wt.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,n){const r=new Wt(e,n);this.qr=this.qr.add(r),this.$r=this.$r.add(r)}Kr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Wr(new Wt(e,n))}Gr(e,n){e.forEach(r=>this.removeReference(r,n))}zr(e){const n=new xe(new ot([])),r=new Wt(n,e),s=new Wt(n,e+1),i=[];return this.$r.forEachInRange([r,s],o=>{this.Wr(o),i.push(o.key)}),i}jr(){this.qr.forEach(e=>this.Wr(e))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){const n=new xe(new ot([])),r=new Wt(n,e),s=new Wt(n,e+1);let i=qe();return this.$r.forEachInRange([r,s],o=>{i=i.add(o.key)}),i}containsKey(e){const n=new Wt(e,0),r=this.qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Wt{constructor(e,n){this.key=e,this.Hr=n}static Qr(e,n){return xe.comparator(e.key,n.key)||Le(e.Hr,n.Hr)}static Ur(e,n){return Le(e.Hr,n.Hr)||xe.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DB{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.er=1,this.Yr=new Ut(Wt.Qr)}checkEmpty(e){return J.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new Hj(i,n,r,s);this.mutationQueue.push(o);for(const a of s)this.Yr=this.Yr.add(new Wt(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return J.resolve(o)}lookupMutationBatch(e,n){return J.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.Xr(r),i=s<0?0:s;return J.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return J.resolve(this.mutationQueue.length===0?Ow:this.er-1)}getAllMutationBatches(e){return J.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Wt(n,0),s=new Wt(n,Number.POSITIVE_INFINITY),i=[];return this.Yr.forEachInRange([r,s],o=>{const a=this.Zr(o.Hr);i.push(a)}),J.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Ut(Le);return n.forEach(s=>{const i=new Wt(s,0),o=new Wt(s,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([i,o],a=>{r=r.add(a.Hr)})}),J.resolve(this.ei(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;xe.isDocumentKey(i)||(i=i.child(""));const o=new Wt(new xe(i),0);let a=new Ut(Le);return this.Yr.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===s&&(a=a.add(l.Hr)),!0)},o),J.resolve(this.ei(a))}ei(e){const n=[];return e.forEach(r=>{const s=this.Zr(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){Ze(this.ti(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Yr;return J.forEach(n.mutations,s=>{const i=new Wt(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Yr=r})}rr(e){}containsKey(e,n){const r=new Wt(n,0),s=this.Yr.firstAfterOrEqual(r);return J.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,J.resolve()}ti(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OB{constructor(e){this.ni=e,this.docs=function(){return new xt(xe.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.ni(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return J.resolve(r?r.document.mutableCopy():yn.newInvalidDocument(n))}getEntries(e,n){let r=Gs();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():yn.newInvalidDocument(s))}),J.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=Gs();const o=n.path,a=new xe(o.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:d}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||hj(dj(d),r)<=0||(s.has(d.key)||lm(n,d))&&(i=i.insert(d.key,d.mutableCopy()))}return J.resolve(i)}getAllFromCollectionGroup(e,n,r,s){Se(9500)}ri(e,n){return J.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new LB(this)}getSize(e){return J.resolve(this.size)}}class LB extends SB{constructor(e){super(),this.Or=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.Or.addEntry(e,s)):this.Or.removeEntry(r)}),J.waitFor(n)}getFromCache(e,n){return this.Or.getEntry(e,n)}getAllFromCache(e,n){return this.Or.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VB{constructor(e){this.persistence=e,this.ii=new ma(n=>Fw(n),jw),this.lastRemoteSnapshotVersion=Pe.min(),this.highestTargetId=0,this.si=0,this.oi=new zw,this.targetCount=0,this._i=Bl.ar()}forEachTarget(e,n){return this.ii.forEach((r,s)=>n(s)),J.resolve()}getLastRemoteSnapshotVersion(e){return J.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return J.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),J.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.si&&(this.si=n),J.resolve()}hr(e){this.ii.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this._i=new Bl(n),this.highestTargetId=n),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,n){return this.hr(n),this.targetCount+=1,J.resolve()}updateTargetData(e,n){return this.hr(n),J.resolve()}removeTargetData(e,n){return this.ii.delete(n.target),this.oi.zr(n.targetId),this.targetCount-=1,J.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.ii.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.ii.delete(o),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),s++)}),J.waitFor(i).next(()=>s)}getTargetCount(e){return J.resolve(this.targetCount)}getTargetData(e,n){const r=this.ii.get(n)||null;return J.resolve(r)}addMatchingKeys(e,n,r){return this.oi.Kr(n,r),J.resolve()}removeMatchingKeys(e,n,r){this.oi.Gr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(o=>{i.push(s.markPotentiallyOrphaned(e,o))}),J.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this.oi.zr(n),J.resolve()}getMatchingKeysForTargetId(e,n){const r=this.oi.Jr(n);return J.resolve(r)}containsKey(e,n){return J.resolve(this.oi.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OS{constructor(e,n){this.ai={},this.overlays={},this.ui=new rm(0),this.ci=!1,this.ci=!0,this.li=new MB,this.referenceDelegate=e(this),this.hi=new VB(this),this.indexManager=new CB,this.remoteDocumentCache=function(s){return new OB(s)}(r=>this.referenceDelegate.Pi(r)),this.serializer=new wB(n),this.Ti=new NB(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new kB,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ai[e.toKey()];return r||(r=new DB(n,this.referenceDelegate),this.ai[e.toKey()]=r),r}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,n,r){me("MemoryPersistence","Starting transaction:",e);const s=new FB(this.ui.next());return this.referenceDelegate.Ii(),r(s).next(i=>this.referenceDelegate.di(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Ei(e,n){return J.or(Object.values(this.ai).map(r=>()=>r.containsKey(e,n)))}}class FB extends pj{constructor(e){super(),this.currentSequenceNumber=e}}class Ww{constructor(e){this.persistence=e,this.Ai=new zw,this.Ri=null}static Vi(e){return new Ww(e)}get mi(){if(this.Ri)return this.Ri;throw Se(60996)}addReference(e,n,r){return this.Ai.addReference(r,n),this.mi.delete(r.toString()),J.resolve()}removeReference(e,n,r){return this.Ai.removeReference(r,n),this.mi.add(r.toString()),J.resolve()}markPotentiallyOrphaned(e,n){return this.mi.add(n.toString()),J.resolve()}removeTarget(e,n){this.Ai.zr(n.targetId).forEach(s=>this.mi.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.mi.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}Ii(){this.Ri=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return J.forEach(this.mi,r=>{const s=xe.fromPath(r);return this.fi(e,s).next(i=>{i||n.removeEntry(s,Pe.min())})}).next(()=>(this.Ri=null,n.apply(e)))}updateLimboDocument(e,n){return this.fi(e,n).next(r=>{r?this.mi.delete(n.toString()):this.mi.add(n.toString())})}Pi(e){return 0}fi(e,n){return J.or([()=>J.resolve(this.Ai.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class dp{constructor(e,n){this.persistence=e,this.gi=new ma(r=>yj(r.path),(r,s)=>r.isEqual(s)),this.garbageCollector=IB(this,n)}static Vi(e,n){return new dp(e,n)}Ii(){}di(e){return J.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}mr(e){const n=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(s=>r+s))}yr(e){let n=0;return this.gr(e,r=>{n++}).next(()=>n)}gr(e,n){return J.forEach(this.gi,(r,s)=>this.Sr(e,r,s).next(i=>i?J.resolve():n(s)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),i=s.newChangeBuffer();return s.ri(e,o=>this.Sr(e,o,n).next(a=>{a||(r++,i.removeEntry(o,Pe.min()))})).next(()=>i.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.gi.set(n,e.currentSequenceNumber),J.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.gi.set(r,e.currentSequenceNumber),J.resolve()}removeReference(e,n,r){return this.gi.set(r,e.currentSequenceNumber),J.resolve()}updateLimboDocument(e,n){return this.gi.set(n,e.currentSequenceNumber),J.resolve()}Pi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=ff(e.data.value)),n}Sr(e,n,r){return J.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.gi.get(n);return J.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kw{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.Is=r,this.ds=s}static Es(e,n){let r=qe(),s=qe();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new Kw(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jB{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BB{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=function(){return MV()?8:mj(wn())>0?6:4}()}initialize(e,n){this.gs=e,this.indexManager=n,this.As=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.ps(e,n).next(o=>{i.result=o}).next(()=>{if(!i.result)return this.ys(e,n,s,r).next(o=>{i.result=o})}).next(()=>{if(i.result)return;const o=new jB;return this.ws(e,n,o).next(a=>{if(i.result=a,this.Rs)return this.Ss(e,n,o,a.size)})}).next(()=>i.result)}Ss(e,n,r,s){return r.documentReadCount<this.Vs?(Ga()<=Ue.DEBUG&&me("QueryEngine","SDK will not create cache indexes for query:",$a(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),J.resolve()):(Ga()<=Ue.DEBUG&&me("QueryEngine","Query:",$a(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.fs*s?(Ga()<=Ue.DEBUG&&me("QueryEngine","The SDK decides to create cache indexes for query:",$a(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ns(n))):J.resolve())}ps(e,n){if(mx(n))return J.resolve(null);let r=ns(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=Pv(n,null,"F"),r=ns(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const o=qe(...i);return this.gs.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const c=this.bs(n,a);return this.Ds(n,c,o,l.readTime)?this.ps(e,Pv(n,null,"F")):this.vs(e,c,n,l)}))})))}ys(e,n,r,s){return mx(n)||s.isEqual(Pe.min())?J.resolve(null):this.gs.getDocuments(e,r).next(i=>{const o=this.bs(n,i);return this.Ds(n,o,r,s)?J.resolve(null):(Ga()<=Ue.DEBUG&&me("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),$a(n)),this.vs(e,o,n,uj(s,Lu)).next(a=>a))})}bs(e,n){let r=new Ut(hS(e));return n.forEach((s,i)=>{lm(e,i)&&(r=r.add(i))}),r}Ds(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}ws(e,n,r){return Ga()<=Ue.DEBUG&&me("QueryEngine","Using full collection scan to execute query:",$a(n)),this.gs.getDocumentsMatchingQuery(e,n,Hi.min(),r)}vs(e,n,r,s){return this.gs.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yw="LocalStore",UB=3e8;class qB{constructor(e,n,r,s){this.persistence=e,this.Cs=n,this.serializer=s,this.Fs=new xt(Le),this.Ms=new ma(i=>Fw(i),jw),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(r)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new PB(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Fs))}}function GB(t,e,n,r){return new qB(t,e,n,r)}async function LS(t,e){const n=Ne(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n.Ns(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const o=[],a=[];let l=qe();for(const c of s){o.push(c.batchId);for(const d of c.mutations)l=l.add(d.key)}for(const c of i){a.push(c.batchId);for(const d of c.mutations)l=l.add(d.key)}return n.localDocuments.getDocuments(r,l).next(c=>({Bs:c,removedBatchIds:o,addedBatchIds:a}))})})}function $B(t,e){const n=Ne(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=n.Os.newChangeBuffer({trackRemovals:!0});return function(a,l,c,d){const f=c.batch,h=f.keys();let v=J.resolve();return h.forEach(E=>{v=v.next(()=>d.getEntry(l,E)).next(y=>{const b=c.docVersions.get(E);Ze(b!==null,48541),y.version.compareTo(b)<0&&(f.applyToRemoteDocument(y,c),y.isValidDocument()&&(y.setReadTime(c.commitVersion),d.addEntry(y)))})}),v.next(()=>a.mutationQueue.removeMutationBatch(l,f))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=qe();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function VS(t){const e=Ne(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.hi.getLastRemoteSnapshotVersion(n))}function zB(t,e){const n=Ne(t),r=e.snapshotVersion;let s=n.Fs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.Os.newChangeBuffer({trackRemovals:!0});s=n.Fs;const a=[];e.targetChanges.forEach((d,f)=>{const h=s.get(f);if(!h)return;a.push(n.hi.removeMatchingKeys(i,d.removedDocuments,f).next(()=>n.hi.addMatchingKeys(i,d.addedDocuments,f)));let v=h.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(f)!==null?v=v.withResumeToken(sn.EMPTY_BYTE_STRING,Pe.min()).withLastLimboFreeSnapshotVersion(Pe.min()):d.resumeToken.approximateByteSize()>0&&(v=v.withResumeToken(d.resumeToken,r)),s=s.insert(f,v),function(y,b,C){return y.resumeToken.approximateByteSize()===0||b.snapshotVersion.toMicroseconds()-y.snapshotVersion.toMicroseconds()>=UB?!0:C.addedDocuments.size+C.modifiedDocuments.size+C.removedDocuments.size>0}(h,v,d)&&a.push(n.hi.updateTargetData(i,v))});let l=Gs(),c=qe();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(i,d))}),a.push(WB(i,o,e.documentUpdates).next(d=>{l=d.Ls,c=d.ks})),!r.isEqual(Pe.min())){const d=n.hi.getLastRemoteSnapshotVersion(i).next(f=>n.hi.setTargetsMetadata(i,i.currentSequenceNumber,r));a.push(d)}return J.waitFor(a).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,l,c)).next(()=>l)}).then(i=>(n.Fs=s,i))}function WB(t,e,n){let r=qe(),s=qe();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let o=Gs();return n.forEach((a,l)=>{const c=i.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(s=s.add(a)),l.isNoDocument()&&l.version.isEqual(Pe.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):me(Yw,"Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{Ls:o,ks:s}})}function KB(t,e){const n=Ne(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=Ow),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function YB(t,e){const n=Ne(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.hi.getTargetData(r,e).next(i=>i?(s=i,J.resolve(s)):n.hi.allocateTargetId(r).next(o=>(s=new Pi(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.hi.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.Fs.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.Fs=n.Fs.insert(r.targetId,r),n.Ms.set(e,r.targetId)),r})}async function Ov(t,e,n){const r=Ne(t),s=r.Fs.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,o=>r.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!rc(o))throw o;me(Yw,`Failed to update sequence numbers for target ${e}: ${o}`)}r.Fs=r.Fs.remove(e),r.Ms.delete(s.target)}function Sx(t,e,n){const r=Ne(t);let s=Pe.min(),i=qe();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,c,d){const f=Ne(l),h=f.Ms.get(d);return h!==void 0?J.resolve(f.Fs.get(h)):f.hi.getTargetData(c,d)}(r,o,ns(e)).next(a=>{if(a)return s=a.lastLimboFreeSnapshotVersion,r.hi.getMatchingKeysForTargetId(o,a.targetId).next(l=>{i=l})}).next(()=>r.Cs.getDocumentsMatchingQuery(o,e,n?s:Pe.min(),n?i:qe())).next(a=>(QB(r,Oj(e),a),{documents:a,qs:i})))}function QB(t,e,n){let r=t.xs.get(e)||Pe.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.xs.set(e,r)}class Rx{constructor(){this.activeTargetIds=Uj()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class HB{constructor(){this.Fo=new Rx,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,n,r){this.Mo[e]=n}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new Rx,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JB{xo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Px="ConnectivityMonitor";class Nx{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){me(Px,"Network connectivity changed: AVAILABLE");for(const e of this.ko)e(0)}Lo(){me(Px,"Network connectivity changed: UNAVAILABLE");for(const e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jh=null;function Lv(){return jh===null?jh=function(){return 268435456+Math.round(2147483648*Math.random())}():jh++,"0x"+jh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yg="RestConnection",XB={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class ZB{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.$o=n+"://"+e.host,this.Uo=`projects/${r}/databases/${s}`,this.Ko=this.databaseId.database===op?`project_id=${r}`:`project_id=${r}&database_id=${s}`}Wo(e,n,r,s,i){const o=Lv(),a=this.Go(e,n.toUriEncodedString());me(Yg,`Sending RPC '${e}' ${o}:`,a,r);const l={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(l,s,i);const{host:c}=new URL(a),d=Zl(c);return this.jo(e,a,l,r,d).then(f=>(me(Yg,`Received RPC '${e}' ${o}: `,f),f),f=>{throw Qi(Yg,`RPC '${e}' ${o} failed with error: `,f,"url: ",a,"request:",r),f})}Jo(e,n,r,s,i,o){return this.Wo(e,n,r,s,i)}zo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+tc}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,i)=>e[i]=s),r&&r.headers.forEach((s,i)=>e[i]=s)}Go(e,n){const r=XB[e];return`${this.$o}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e5{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fn="WebChannelConnection";class t5 extends ZB{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,n,r,s,i){const o=Lv();return new Promise((a,l)=>{const c=new VI;c.setWithCredentials(!0),c.listenOnce(FI.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case hf.NO_ERROR:const f=c.getResponseJson();me(fn,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(f)),a(f);break;case hf.TIMEOUT:me(fn,`RPC '${e}' ${o} timed out`),l(new he(H.DEADLINE_EXCEEDED,"Request time out"));break;case hf.HTTP_ERROR:const h=c.getStatus();if(me(fn,`RPC '${e}' ${o} failed with status:`,h,"response text:",c.getResponseText()),h>0){let v=c.getResponseJson();Array.isArray(v)&&(v=v[0]);const E=v==null?void 0:v.error;if(E&&E.status&&E.message){const y=function(C){const w=C.toLowerCase().replace(/_/g,"-");return Object.values(H).indexOf(w)>=0?w:H.UNKNOWN}(E.status);l(new he(y,E.message))}else l(new he(H.UNKNOWN,"Server responded with status "+c.getStatus()))}else l(new he(H.UNAVAILABLE,"Connection failed."));break;default:Se(9055,{c_:e,streamId:o,l_:c.getLastErrorCode(),h_:c.getLastError()})}}finally{me(fn,`RPC '${e}' ${o} completed.`)}});const d=JSON.stringify(s);me(fn,`RPC '${e}' ${o} sending request:`,s),c.send(n,"POST",d,r,15)})}P_(e,n,r){const s=Lv(),i=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=UI(),a=BI(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.zo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const d=i.join("");me(fn,`Creating RPC '${e}' stream ${s}: ${d}`,l);const f=o.createWebChannel(d,l);this.T_(f);let h=!1,v=!1;const E=new e5({Ho:b=>{v?me(fn,`Not sending because RPC '${e}' stream ${s} is closed:`,b):(h||(me(fn,`Opening RPC '${e}' stream ${s} transport.`),f.open(),h=!0),me(fn,`RPC '${e}' stream ${s} sending:`,b),f.send(b))},Yo:()=>f.close()}),y=(b,C,w)=>{b.listen(C,_=>{try{w(_)}catch(R){setTimeout(()=>{throw R},0)}})};return y(f,$c.EventType.OPEN,()=>{v||(me(fn,`RPC '${e}' stream ${s} transport opened.`),E.s_())}),y(f,$c.EventType.CLOSE,()=>{v||(v=!0,me(fn,`RPC '${e}' stream ${s} transport closed`),E.__(),this.I_(f))}),y(f,$c.EventType.ERROR,b=>{v||(v=!0,Qi(fn,`RPC '${e}' stream ${s} transport errored. Name:`,b.name,"Message:",b.message),E.__(new he(H.UNAVAILABLE,"The operation could not be completed")))}),y(f,$c.EventType.MESSAGE,b=>{var C;if(!v){const w=b.data[0];Ze(!!w,16349);const _=w,R=(_==null?void 0:_.error)||((C=_[0])===null||C===void 0?void 0:C.error);if(R){me(fn,`RPC '${e}' stream ${s} received error:`,R);const O=R.status;let j=function(k){const M=kt[k];if(M!==void 0)return TS(M)}(O),S=R.message;j===void 0&&(j=H.INTERNAL,S="Unknown error status: "+O+" with message "+R.message),v=!0,E.__(new he(j,S)),f.close()}else me(fn,`RPC '${e}' stream ${s} received:`,w),E.a_(w)}}),y(a,jI.STAT_EVENT,b=>{b.stat===_v.PROXY?me(fn,`RPC '${e}' stream ${s} detected buffering proxy`):b.stat===_v.NOPROXY&&me(fn,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{E.o_()},0),E}terminate(){this.u_.forEach(e=>e.close()),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter(n=>n===e)}}function Qg(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hm(t){return new iB(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FS{constructor(e,n,r=1e3,s=1.5,i=6e4){this.Fi=e,this.timerId=n,this.d_=r,this.E_=s,this.A_=i,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();const n=Math.floor(this.R_+this.p_()),r=Math.max(0,Date.now()-this.m_),s=Math.max(0,n-r);s>0&&me("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.R_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,s,()=>(this.m_=Date.now(),e())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kx="PersistentStream";class jS{constructor(e,n,r,s,i,o,a,l){this.Fi=e,this.w_=r,this.S_=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new FS(e,n)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(e){this.q_(),this.stream.send(e)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():n&&n.code===H.RESOURCE_EXHAUSTED?(qs(n.toString()),qs("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):n&&n.code===H.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.n_(n)}U_(){}auth(){this.state=1;const e=this.K_(this.b_),n=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.b_===n&&this.W_(r,s)},r=>{e(()=>{const s=new he(H.UNKNOWN,"Fetching auth token failed: "+r.message);return this.G_(s)})})}W_(e,n){const r=this.K_(this.b_);this.stream=this.z_(e,n),this.stream.Zo(()=>{r(()=>this.listener.Zo())}),this.stream.e_(()=>{r(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(s=>{r(()=>this.G_(s))}),this.stream.onMessage(s=>{r(()=>++this.C_==1?this.j_(s):this.onNext(s))})}O_(){this.state=5,this.F_.g_(async()=>{this.state=0,this.start()})}G_(e){return me(kx,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return n=>{this.Fi.enqueueAndForget(()=>this.b_===e?n():(me(kx,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class n5 extends jS{constructor(e,n,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}z_(e,n){return this.connection.P_("Listen",e,n)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();const n=lB(this.serializer,e),r=function(i){if(!("targetChange"in i))return Pe.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?Pe.min():o.readTime?rs(o.readTime):Pe.min()}(e);return this.listener.J_(n,r)}H_(e){const n={};n.database=Dv(this.serializer),n.addTarget=function(i,o){let a;const l=o.target;if(a=Sv(l)?{documents:dB(i,l)}:{query:hB(i,l).Vt},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=IS(i,o.resumeToken);const c=Nv(i,o.expectedCount);c!==null&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(Pe.min())>0){a.readTime=up(i,o.snapshotVersion.toTimestamp());const c=Nv(i,o.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const r=pB(this.serializer,e);r&&(n.labels=r),this.k_(n)}Y_(e){const n={};n.database=Dv(this.serializer),n.removeTarget=e,this.k_(n)}}class r5 extends jS{constructor(e,n,r,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,n){return this.connection.P_("Write",e,n)}j_(e){return Ze(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ze(!e.writeResults||e.writeResults.length===0,55816),this.listener.ea()}onNext(e){Ze(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();const n=uB(e.writeResults,e.commitTime),r=rs(e.commitTime);return this.listener.ta(r,n)}na(){const e={};e.database=Dv(this.serializer),this.k_(e)}X_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>cB(this.serializer,r))};this.k_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s5{}class i5 extends s5{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.ra=!1}ia(){if(this.ra)throw new he(H.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,r,s){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.Wo(e,kv(n,r),s,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===H.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new he(H.UNKNOWN,i.toString())})}Jo(e,n,r,s,i){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Jo(e,kv(n,r),s,o,a,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===H.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new he(H.UNKNOWN,o.toString())})}terminate(){this.ra=!0,this.connection.terminate()}}class o5{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(qs(n),this._a=!1):me("OnlineStateTracker",n)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ia="RemoteStore";class a5{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=i,this.Ea.xo(o=>{r.enqueueAndForget(async()=>{ga(this)&&(me(ia,"Restarting streams for network reachability change."),await async function(l){const c=Ne(l);c.Ia.add(4),await yd(c),c.Aa.set("Unknown"),c.Ia.delete(4),await fm(c)}(this))})}),this.Aa=new o5(r,s)}}async function fm(t){if(ga(t))for(const e of t.da)await e(!0)}async function yd(t){for(const e of t.da)await e(!1)}function BS(t,e){const n=Ne(t);n.Ta.has(e.targetId)||(n.Ta.set(e.targetId,e),Xw(n)?Jw(n):ic(n).x_()&&Hw(n,e))}function Qw(t,e){const n=Ne(t),r=ic(n);n.Ta.delete(e),r.x_()&&US(n,e),n.Ta.size===0&&(r.x_()?r.B_():ga(n)&&n.Aa.set("Unknown"))}function Hw(t,e){if(t.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Pe.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}ic(t).H_(e)}function US(t,e){t.Ra.$e(e),ic(t).Y_(e)}function Jw(t){t.Ra=new tB({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>t.Ta.get(e)||null,lt:()=>t.datastore.serializer.databaseId}),ic(t).start(),t.Aa.aa()}function Xw(t){return ga(t)&&!ic(t).M_()&&t.Ta.size>0}function ga(t){return Ne(t).Ia.size===0}function qS(t){t.Ra=void 0}async function l5(t){t.Aa.set("Online")}async function c5(t){t.Ta.forEach((e,n)=>{Hw(t,e)})}async function u5(t,e){qS(t),Xw(t)?(t.Aa.la(e),Jw(t)):t.Aa.set("Unknown")}async function d5(t,e,n){if(t.Aa.set("Online"),e instanceof bS&&e.state===2&&e.cause)try{await async function(s,i){const o=i.cause;for(const a of i.targetIds)s.Ta.has(a)&&(await s.remoteSyncer.rejectListen(a,o),s.Ta.delete(a),s.Ra.removeTarget(a))}(t,e)}catch(r){me(ia,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await hp(t,r)}else if(e instanceof gf?t.Ra.Ye(e):e instanceof AS?t.Ra.it(e):t.Ra.et(e),!n.isEqual(Pe.min()))try{const r=await VS(t.localStore);n.compareTo(r)>=0&&await function(i,o){const a=i.Ra.Pt(o);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const d=i.Ta.get(c);d&&i.Ta.set(c,d.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,c)=>{const d=i.Ta.get(l);if(!d)return;i.Ta.set(l,d.withResumeToken(sn.EMPTY_BYTE_STRING,d.snapshotVersion)),US(i,l);const f=new Pi(d.target,l,c,d.sequenceNumber);Hw(i,f)}),i.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){me(ia,"Failed to raise snapshot:",r),await hp(t,r)}}async function hp(t,e,n){if(!rc(e))throw e;t.Ia.add(1),await yd(t),t.Aa.set("Offline"),n||(n=()=>VS(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{me(ia,"Retrying IndexedDB access"),await n(),t.Ia.delete(1),await fm(t)})}function GS(t,e){return e().catch(n=>hp(t,n,e))}async function pm(t){const e=Ne(t),n=eo(e);let r=e.Pa.length>0?e.Pa[e.Pa.length-1].batchId:Ow;for(;h5(e);)try{const s=await KB(e.localStore,r);if(s===null){e.Pa.length===0&&n.B_();break}r=s.batchId,f5(e,s)}catch(s){await hp(e,s)}$S(e)&&zS(e)}function h5(t){return ga(t)&&t.Pa.length<10}function f5(t,e){t.Pa.push(e);const n=eo(t);n.x_()&&n.Z_&&n.X_(e.mutations)}function $S(t){return ga(t)&&!eo(t).M_()&&t.Pa.length>0}function zS(t){eo(t).start()}async function p5(t){eo(t).na()}async function m5(t){const e=eo(t);for(const n of t.Pa)e.X_(n.mutations)}async function g5(t,e,n){const r=t.Pa.shift(),s=qw.from(r,e,n);await GS(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await pm(t)}async function y5(t,e){e&&eo(t).Z_&&await async function(r,s){if(function(o){return Zj(o)&&o!==H.ABORTED}(s.code)){const i=r.Pa.shift();eo(r).N_(),await GS(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await pm(r)}}(t,e),$S(t)&&zS(t)}async function Mx(t,e){const n=Ne(t);n.asyncQueue.verifyOperationInProgress(),me(ia,"RemoteStore received new credentials");const r=ga(n);n.Ia.add(3),await yd(n),r&&n.Aa.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ia.delete(3),await fm(n)}async function v5(t,e){const n=Ne(t);e?(n.Ia.delete(2),await fm(n)):e||(n.Ia.add(2),await yd(n),n.Aa.set("Unknown"))}function ic(t){return t.Va||(t.Va=function(n,r,s){const i=Ne(n);return i.ia(),new n5(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Zo:l5.bind(null,t),e_:c5.bind(null,t),n_:u5.bind(null,t),J_:d5.bind(null,t)}),t.da.push(async e=>{e?(t.Va.N_(),Xw(t)?Jw(t):t.Aa.set("Unknown")):(await t.Va.stop(),qS(t))})),t.Va}function eo(t){return t.ma||(t.ma=function(n,r,s){const i=Ne(n);return i.ia(),new r5(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Zo:()=>Promise.resolve(),e_:p5.bind(null,t),n_:y5.bind(null,t),ea:m5.bind(null,t),ta:g5.bind(null,t)}),t.da.push(async e=>{e?(t.ma.N_(),await pm(t)):(await t.ma.stop(),t.Pa.length>0&&(me(ia,`Stopping write stream with ${t.Pa.length} pending writes`),t.Pa=[]))})),t.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zw{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new Os,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const o=Date.now()+r,a=new Zw(e,n,o,s,i);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new he(H.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function eE(t,e){if(qs("AsyncQueue",`${e}: ${t}`),rc(t))return new he(H.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fl{static emptySet(e){return new fl(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||xe.comparator(n.key,r.key):(n,r)=>xe.comparator(n.key,r.key),this.keyedMap=zc(),this.sortedSet=new xt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof fl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new fl;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dx{constructor(){this.fa=new xt(xe.comparator)}track(e){const n=e.doc.key,r=this.fa.get(n);r?e.type!==0&&r.type===3?this.fa=this.fa.insert(n,e):e.type===3&&r.type!==1?this.fa=this.fa.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.fa=this.fa.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.fa=this.fa.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.fa=this.fa.remove(n):e.type===1&&r.type===2?this.fa=this.fa.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.fa=this.fa.insert(n,{type:2,doc:e.doc}):Se(63341,{At:e,ga:r}):this.fa=this.fa.insert(n,e)}pa(){const e=[];return this.fa.inorderTraversal((n,r)=>{e.push(r)}),e}}class Ul{constructor(e,n,r,s,i,o,a,l,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,s,i){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Ul(e,n,fl.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&am(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w5{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(e=>e.ba())}}class E5{constructor(){this.queries=Ox(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(n,r){const s=Ne(n),i=s.queries;s.queries=Ox(),i.forEach((o,a)=>{for(const l of a.wa)l.onError(r)})})(this,new he(H.ABORTED,"Firestore shutting down"))}}function Ox(){return new ma(t=>dS(t),am)}async function tE(t,e){const n=Ne(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.Sa()&&e.ba()&&(r=2):(i=new w5,r=e.ba()?0:1);try{switch(r){case 0:i.ya=await n.onListen(s,!0);break;case 1:i.ya=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(o){const a=eE(o,`Initialization of query '${$a(e.query)}' failed`);return void e.onError(a)}n.queries.set(s,i),i.wa.push(e),e.va(n.onlineState),i.ya&&e.Ca(i.ya)&&rE(n)}async function nE(t,e){const n=Ne(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const o=i.wa.indexOf(e);o>=0&&(i.wa.splice(o,1),i.wa.length===0?s=e.ba()?0:1:!i.Sa()&&e.ba()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function C5(t,e){const n=Ne(t);let r=!1;for(const s of e){const i=s.query,o=n.queries.get(i);if(o){for(const a of o.wa)a.Ca(s)&&(r=!0);o.ya=s}}r&&rE(n)}function x5(t,e,n){const r=Ne(t),s=r.queries.get(e);if(s)for(const i of s.wa)i.onError(n);r.queries.delete(e)}function rE(t){t.Da.forEach(e=>{e.next()})}var Vv,Lx;(Lx=Vv||(Vv={})).Fa="default",Lx.Cache="cache";class sE{constructor(e,n,r){this.query=e,this.Ma=n,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=r||{}}Ca(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new Ul(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),n=!0):this.Ba(e,this.onlineState)&&(this.La(e),n=!0),this.Oa=e,n}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let n=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),n=!0),n}Ba(e,n){if(!e.fromCache||!this.ba())return!0;const r=n!=="Offline";return(!this.options.ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Na(e){if(e.docChanges.length>0)return!0;const n=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}La(e){e=Ul.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==Vv.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WS{constructor(e){this.key=e}}class KS{constructor(e){this.key=e}}class _5{constructor(e,n){this.query=e,this.Ha=n,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=qe(),this.mutatedKeys=qe(),this.Xa=hS(e),this.eu=new fl(this.Xa)}get tu(){return this.Ha}nu(e,n){const r=n?n.ru:new Dx,s=n?n.eu:this.eu;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,a=!1;const l=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,c=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((d,f)=>{const h=s.get(d),v=lm(this.query,f)?f:null,E=!!h&&this.mutatedKeys.has(h.key),y=!!v&&(v.hasLocalMutations||this.mutatedKeys.has(v.key)&&v.hasCommittedMutations);let b=!1;h&&v?h.data.isEqual(v.data)?E!==y&&(r.track({type:3,doc:v}),b=!0):this.iu(h,v)||(r.track({type:2,doc:v}),b=!0,(l&&this.Xa(v,l)>0||c&&this.Xa(v,c)<0)&&(a=!0)):!h&&v?(r.track({type:0,doc:v}),b=!0):h&&!v&&(r.track({type:1,doc:h}),b=!0,(l||c)&&(a=!0)),b&&(v?(o=o.add(v),i=y?i.add(d):i.delete(d)):(o=o.delete(d),i=i.delete(d)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),i=i.delete(d.key),r.track({type:1,doc:d})}return{eu:o,ru:r,Ds:a,mutatedKeys:i}}iu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;const o=e.ru.pa();o.sort((d,f)=>function(v,E){const y=b=>{switch(b){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Se(20277,{At:b})}};return y(v)-y(E)}(d.type,f.type)||this.Xa(d.doc,f.doc)),this.su(r),s=s!=null&&s;const a=n&&!s?this.ou():[],l=this.Za.size===0&&this.current&&!s?1:0,c=l!==this.Ya;return this.Ya=l,o.length!==0||c?{snapshot:new Ul(this.query,e.eu,i,o,e.mutatedKeys,l===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),_u:a}:{_u:a}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new Dx,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach(n=>this.Ha=this.Ha.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ha=this.Ha.delete(n)),this.current=e.current)}ou(){if(!this.current)return[];const e=this.Za;this.Za=qe(),this.eu.forEach(r=>{this.au(r.key)&&(this.Za=this.Za.add(r.key))});const n=[];return e.forEach(r=>{this.Za.has(r)||n.push(new KS(r))}),this.Za.forEach(r=>{e.has(r)||n.push(new WS(r))}),n}uu(e){this.Ha=e.qs,this.Za=qe();const n=this.nu(e.documents);return this.applyChanges(n,!0)}cu(){return Ul.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}}const iE="SyncEngine";class T5{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class A5{constructor(e){this.key=e,this.lu=!1}}class b5{constructor(e,n,r,s,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.hu={},this.Pu=new ma(a=>dS(a),am),this.Tu=new Map,this.Iu=new Set,this.du=new xt(xe.comparator),this.Eu=new Map,this.Au=new zw,this.Ru={},this.Vu=new Map,this.mu=Bl.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}}async function I5(t,e,n=!0){const r=ZS(t);let s;const i=r.Pu.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.cu()):s=await YS(r,e,n,!0),s}async function S5(t,e){const n=ZS(t);await YS(n,e,!0,!1)}async function YS(t,e,n,r){const s=await YB(t.localStore,ns(e)),i=s.targetId,o=t.sharedClientState.addLocalQueryTarget(i,n);let a;return r&&(a=await R5(t,e,i,o==="current",s.resumeToken)),t.isPrimaryClient&&n&&BS(t.remoteStore,s),a}async function R5(t,e,n,r,s){t.gu=(f,h,v)=>async function(y,b,C,w){let _=b.view.nu(C);_.Ds&&(_=await Sx(y.localStore,b.query,!1).then(({documents:S})=>b.view.nu(S,_)));const R=w&&w.targetChanges.get(b.targetId),O=w&&w.targetMismatches.get(b.targetId)!=null,j=b.view.applyChanges(_,y.isPrimaryClient,R,O);return Fx(y,b.targetId,j._u),j.snapshot}(t,f,h,v);const i=await Sx(t.localStore,e,!0),o=new _5(e,i.qs),a=o.nu(i.documents),l=gd.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),c=o.applyChanges(a,t.isPrimaryClient,l);Fx(t,n,c._u);const d=new T5(e,n,o);return t.Pu.set(e,d),t.Tu.has(n)?t.Tu.get(n).push(e):t.Tu.set(n,[e]),c.snapshot}async function P5(t,e,n){const r=Ne(t),s=r.Pu.get(e),i=r.Tu.get(s.targetId);if(i.length>1)return r.Tu.set(s.targetId,i.filter(o=>!am(o,e))),void r.Pu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await Ov(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&Qw(r.remoteStore,s.targetId),Fv(r,s.targetId)}).catch(nc)):(Fv(r,s.targetId),await Ov(r.localStore,s.targetId,!0))}async function N5(t,e){const n=Ne(t),r=n.Pu.get(e),s=n.Tu.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Qw(n.remoteStore,r.targetId))}async function k5(t,e,n){const r=j5(t);try{const s=await function(o,a){const l=Ne(o),c=Ke.now(),d=a.reduce((v,E)=>v.add(E.key),qe());let f,h;return l.persistence.runTransaction("Locally write mutations","readwrite",v=>{let E=Gs(),y=qe();return l.Os.getEntries(v,d).next(b=>{E=b,E.forEach((C,w)=>{w.isValidDocument()||(y=y.add(C))})}).next(()=>l.localDocuments.getOverlayedDocuments(v,E)).next(b=>{f=b;const C=[];for(const w of a){const _=Yj(w,f.get(w.key).overlayedDocument);_!=null&&C.push(new ho(w.key,_,rS(_.value.mapValue),Fr.exists(!0)))}return l.mutationQueue.addMutationBatch(v,c,C,a)}).next(b=>{h=b;const C=b.applyToLocalDocumentSet(f,y);return l.documentOverlayCache.saveOverlays(v,b.batchId,C)})}).then(()=>({batchId:h.batchId,changes:pS(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(o,a,l){let c=o.Ru[o.currentUser.toKey()];c||(c=new xt(Le)),c=c.insert(a,l),o.Ru[o.currentUser.toKey()]=c}(r,s.batchId,n),await vd(r,s.changes),await pm(r.remoteStore)}catch(s){const i=eE(s,"Failed to persist write");n.reject(i)}}async function QS(t,e){const n=Ne(t);try{const r=await zB(n.localStore,e);e.targetChanges.forEach((s,i)=>{const o=n.Eu.get(i);o&&(Ze(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?o.lu=!0:s.modifiedDocuments.size>0?Ze(o.lu,14607):s.removedDocuments.size>0&&(Ze(o.lu,42227),o.lu=!1))}),await vd(n,r,e)}catch(r){await nc(r)}}function Vx(t,e,n){const r=Ne(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Pu.forEach((i,o)=>{const a=o.view.va(e);a.snapshot&&s.push(a.snapshot)}),function(o,a){const l=Ne(o);l.onlineState=a;let c=!1;l.queries.forEach((d,f)=>{for(const h of f.wa)h.va(a)&&(c=!0)}),c&&rE(l)}(r.eventManager,e),s.length&&r.hu.J_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function M5(t,e,n){const r=Ne(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Eu.get(e),i=s&&s.key;if(i){let o=new xt(xe.comparator);o=o.insert(i,yn.newNoDocument(i,Pe.min()));const a=qe().add(i),l=new dm(Pe.min(),new Map,new xt(Le),o,a);await QS(r,l),r.du=r.du.remove(i),r.Eu.delete(e),oE(r)}else await Ov(r.localStore,e,!1).then(()=>Fv(r,e,n)).catch(nc)}async function D5(t,e){const n=Ne(t),r=e.batch.batchId;try{const s=await $B(n.localStore,e);JS(n,r,null),HS(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await vd(n,s)}catch(s){await nc(s)}}async function O5(t,e,n){const r=Ne(t);try{const s=await function(o,a){const l=Ne(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let d;return l.mutationQueue.lookupMutationBatch(c,a).next(f=>(Ze(f!==null,37113),d=f.keys(),l.mutationQueue.removeMutationBatch(c,f))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,d,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,d)).next(()=>l.localDocuments.getDocuments(c,d))})}(r.localStore,e);JS(r,e,n),HS(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await vd(r,s)}catch(s){await nc(s)}}function HS(t,e){(t.Vu.get(e)||[]).forEach(n=>{n.resolve()}),t.Vu.delete(e)}function JS(t,e,n){const r=Ne(t);let s=r.Ru[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.Ru[r.currentUser.toKey()]=s}}function Fv(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Tu.get(e))t.Pu.delete(r),n&&t.hu.pu(r,n);t.Tu.delete(e),t.isPrimaryClient&&t.Au.zr(e).forEach(r=>{t.Au.containsKey(r)||XS(t,r)})}function XS(t,e){t.Iu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(Qw(t.remoteStore,n),t.du=t.du.remove(e),t.Eu.delete(n),oE(t))}function Fx(t,e,n){for(const r of n)r instanceof WS?(t.Au.addReference(r.key,e),L5(t,r)):r instanceof KS?(me(iE,"Document no longer in limbo: "+r.key),t.Au.removeReference(r.key,e),t.Au.containsKey(r.key)||XS(t,r.key)):Se(19791,{yu:r})}function L5(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Iu.has(r)||(me(iE,"New document in limbo: "+n),t.Iu.add(r),oE(t))}function oE(t){for(;t.Iu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Iu.values().next().value;t.Iu.delete(e);const n=new xe(ot.fromString(e)),r=t.mu.next();t.Eu.set(r,new A5(n)),t.du=t.du.insert(n,r),BS(t.remoteStore,new Pi(ns(om(n.path)),r,"TargetPurposeLimboResolution",rm.ue))}}async function vd(t,e,n){const r=Ne(t),s=[],i=[],o=[];r.Pu.isEmpty()||(r.Pu.forEach((a,l)=>{o.push(r.gu(l,e,n).then(c=>{var d;if((c||n)&&r.isPrimaryClient){const f=c?!c.fromCache:(d=n==null?void 0:n.targetChanges.get(l.targetId))===null||d===void 0?void 0:d.current;r.sharedClientState.updateQueryState(l.targetId,f?"current":"not-current")}if(c){s.push(c);const f=Kw.Es(l.targetId,c);i.push(f)}}))}),await Promise.all(o),r.hu.J_(s),await async function(l,c){const d=Ne(l);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>J.forEach(c,h=>J.forEach(h.Is,v=>d.persistence.referenceDelegate.addReference(f,h.targetId,v)).next(()=>J.forEach(h.ds,v=>d.persistence.referenceDelegate.removeReference(f,h.targetId,v)))))}catch(f){if(!rc(f))throw f;me(Yw,"Failed to update sequence numbers: "+f)}for(const f of c){const h=f.targetId;if(!f.fromCache){const v=d.Fs.get(h),E=v.snapshotVersion,y=v.withLastLimboFreeSnapshotVersion(E);d.Fs=d.Fs.insert(h,y)}}}(r.localStore,i))}async function V5(t,e){const n=Ne(t);if(!n.currentUser.isEqual(e)){me(iE,"User change. New user:",e.toKey());const r=await LS(n.localStore,e);n.currentUser=e,function(i,o){i.Vu.forEach(a=>{a.forEach(l=>{l.reject(new he(H.CANCELLED,o))})}),i.Vu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await vd(n,r.Bs)}}function F5(t,e){const n=Ne(t),r=n.Eu.get(e);if(r&&r.lu)return qe().add(r.key);{let s=qe();const i=n.Tu.get(e);if(!i)return s;for(const o of i){const a=n.Pu.get(o);s=s.unionWith(a.view.tu)}return s}}function ZS(t){const e=Ne(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=QS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=F5.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=M5.bind(null,e),e.hu.J_=C5.bind(null,e.eventManager),e.hu.pu=x5.bind(null,e.eventManager),e}function j5(t){const e=Ne(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=D5.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=O5.bind(null,e),e}class fp{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=hm(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Du(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Cu(e,this.localStore),this.indexBackfillerScheduler=this.Fu(e,this.localStore)}Cu(e,n){return null}Fu(e,n){return null}vu(e){return GB(this.persistence,new BB,e.initialUser,this.serializer)}Du(e){return new OS(Ww.Vi,this.serializer)}bu(e){return new HB}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}fp.provider={build:()=>new fp};class B5 extends fp{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,n){Ze(this.persistence.referenceDelegate instanceof dp,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new AB(r,e.asyncQueue,n)}Du(e){const n=this.cacheSizeBytes!==void 0?Dn.withCacheSize(this.cacheSizeBytes):Dn.DEFAULT;return new OS(r=>dp.Vi(r,n),this.serializer)}}class jv{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Vx(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=V5.bind(null,this.syncEngine),await v5(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new E5}()}createDatastore(e){const n=hm(e.databaseInfo.databaseId),r=function(i){return new t5(i)}(e.databaseInfo);return function(i,o,a,l){return new i5(i,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,i,o,a){return new a5(r,s,i,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>Vx(this.syncEngine,n,0),function(){return Nx.C()?new Nx:new JB}())}createSyncEngine(e,n){return function(s,i,o,a,l,c,d){const f=new b5(s,i,o,a,l,c);return d&&(f.fu=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const i=Ne(s);me(ia,"RemoteStore shutting down."),i.Ia.add(5),await yd(i),i.Ea.shutdown(),i.Aa.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}jv.provider={build:()=>new jv};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aE{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):qs("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const to="FirestoreClient";class U5{constructor(e,n,r,s,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=mn.UNAUTHENTICATED,this.clientId=Dw.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,async o=>{me(to,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(me(to,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Os;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=eE(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Hg(t,e){t.asyncQueue.verifyOperationInProgress(),me(to,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await LS(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>{Qi("Terminating Firestore due to IndexedDb database deletion"),t.terminate().then(()=>{me("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(s=>{Qi("Terminating Firestore due to IndexedDb database deletion failed",s)})}),t._offlineComponents=e}async function jx(t,e){t.asyncQueue.verifyOperationInProgress();const n=await q5(t);me(to,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>Mx(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>Mx(e.remoteStore,s)),t._onlineComponents=e}async function q5(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){me(to,"Using user provided OfflineComponentProvider");try{await Hg(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===H.FAILED_PRECONDITION||s.code===H.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;Qi("Error using user provided cache. Falling back to memory cache: "+n),await Hg(t,new fp)}}else me(to,"Using default OfflineComponentProvider"),await Hg(t,new B5(void 0));return t._offlineComponents}async function eR(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(me(to,"Using user provided OnlineComponentProvider"),await jx(t,t._uninitializedComponentsProvider._online)):(me(to,"Using default OnlineComponentProvider"),await jx(t,new jv))),t._onlineComponents}function G5(t){return eR(t).then(e=>e.syncEngine)}async function pp(t){const e=await eR(t),n=e.eventManager;return n.onListen=I5.bind(null,e.syncEngine),n.onUnlisten=P5.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=S5.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=N5.bind(null,e.syncEngine),n}function $5(t,e,n={}){const r=new Os;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,l,c){const d=new aE({next:h=>{d.Ou(),o.enqueueAndForget(()=>nE(i,f));const v=h.docs.has(a);!v&&h.fromCache?c.reject(new he(H.UNAVAILABLE,"Failed to get document because the client is offline.")):v&&h.fromCache&&l&&l.source==="server"?c.reject(new he(H.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(h)},error:h=>c.reject(h)}),f=new sE(om(a.path),d,{includeMetadataChanges:!0,ka:!0});return tE(i,f)}(await pp(t),t.asyncQueue,e,n,r)),r.promise}function z5(t,e,n={}){const r=new Os;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,l,c){const d=new aE({next:h=>{d.Ou(),o.enqueueAndForget(()=>nE(i,f)),h.fromCache&&l.source==="server"?c.reject(new he(H.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(h)},error:h=>c.reject(h)}),f=new sE(a,d,{includeMetadataChanges:!0,ka:!0});return tE(i,f)}(await pp(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tR(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bx=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nR="firestore.googleapis.com",Ux=!0;class qx{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new he(H.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=nR,this.ssl=Ux}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:Ux;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=DS;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<_B)throw new he(H.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}cj("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=tR((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new he(H.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new he(H.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new he(H.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class mm{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new qx({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new he(H.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new he(H.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new qx(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new ej;switch(r.type){case"firstParty":return new sj(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new he(H.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=Bx.get(n);r&&(me("ComponentProvider","Removing Datastore"),Bx.delete(n),r.terminate())}(this),Promise.resolve()}}function W5(t,e,n,r={}){var s;t=er(t,mm);const i=Zl(e),o=t._getSettings(),a=Object.assign(Object.assign({},o),{emulatorOptions:t._getEmulatorOptions()}),l=`${e}:${n}`;i&&(RI(`https://${l}`),PI("Firestore",!0)),o.host!==nR&&o.host!==l&&Qi("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const c=Object.assign(Object.assign({},o),{host:l,ssl:i,emulatorOptions:r});if(!na(c,a)&&(t._setSettings(c),r.mockUserToken)){let d,f;if(typeof r.mockUserToken=="string")d=r.mockUserToken,f=mn.MOCK_USER;else{d=TV(r.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const h=r.mockUserToken.sub||r.mockUserToken.user_id;if(!h)throw new he(H.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new mn(h)}t._authCredentials=new tj(new GI(d,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let oc=class rR{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new rR(this.firestore,e,this._query)}};class bt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new zi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new bt(this.firestore,e,this._key)}toJSON(){return{type:bt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(pd(n,bt._jsonSchema))return new bt(e,r||null,new xe(ot.fromString(n.referencePath)))}}bt._jsonSchemaVersion="firestore/documentReference/1.0",bt._jsonSchema={type:Ot("string",bt._jsonSchemaVersion),referencePath:Ot("string")};class zi extends oc{constructor(e,n,r){super(e,n,om(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new bt(this.firestore,null,new xe(e))}withConverter(e){return new zi(this.firestore,e,this._path)}}function lE(t,e,...n){if(t=Lt(t),zI("collection","path",e),t instanceof mm){const r=ot.fromString(e,...n);return tx(r),new zi(t,null,r)}{if(!(t instanceof bt||t instanceof zi))throw new he(H.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ot.fromString(e,...n));return tx(r),new zi(t.firestore,null,r)}}function Un(t,e,...n){if(t=Lt(t),arguments.length===1&&(e=Dw.newId()),zI("doc","path",e),t instanceof mm){const r=ot.fromString(e,...n);return ex(r),new bt(t,null,new xe(r))}{if(!(t instanceof bt||t instanceof zi))throw new he(H.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ot.fromString(e,...n));return ex(r),new bt(t.firestore,t instanceof zi?t.converter:null,new xe(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gx="AsyncQueue";class $x{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new FS(this,"async_queue_retry"),this.oc=()=>{const r=Qg();r&&me(Gx,"Visibility state changed to "+r.visibilityState),this.F_.y_()},this._c=e;const n=Qg();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;const n=Qg();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise(()=>{});const n=new Os;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Zu.push(e),this.cc()))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!rc(e))throw e;me(Gx,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}}uc(e){const n=this._c.then(()=>(this.nc=!0,e().catch(r=>{throw this.tc=r,this.nc=!1,qs("INTERNAL UNHANDLED ERROR: ",zx(r)),r}).then(r=>(this.nc=!1,r))));return this._c=n,n}enqueueAfterDelay(e,n,r){this.ac(),this.sc.indexOf(e)>-1&&(n=0);const s=Zw.createAndSchedule(this,e,n,r,i=>this.lc(i));return this.ec.push(s),s}ac(){this.tc&&Se(47125,{hc:zx(this.tc)})}verifyOperationInProgress(){}async Pc(){let e;do e=this._c,await e;while(e!==this._c)}Tc(e){for(const n of this.ec)if(n.timerId===e)return!0;return!1}Ic(e){return this.Pc().then(()=>{this.ec.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.ec)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Pc()})}dc(e){this.sc.push(e)}lc(e){const n=this.ec.indexOf(e);this.ec.splice(n,1)}}function zx(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wx(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const s=n;for(const i of r)if(i in s&&typeof s[i]=="function")return!0;return!1}(t,["next","error","complete"])}class no extends mm{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new $x,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new $x(e),this._firestoreClient=void 0,await e}}}function K5(t,e){const n=typeof t=="object"?t:kw(),r=typeof t=="string"?t:op,s=Nw(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=xV("firestore");i&&W5(s,...i)}return s}function gm(t){if(t._terminated)throw new he(H.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||Y5(t),t._firestoreClient}function Y5(t){var e,n,r;const s=t._freezeSettings(),i=function(a,l,c,d){return new Ej(a,l,c,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,tR(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._componentsProvider||!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),t._firestoreClient=new U5(t._authCredentials,t._appCheckCredentials,t._queue,i,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pr{constructor(e){this._byteString=e}static fromBase64String(e){try{return new pr(sn.fromBase64String(e))}catch(n){throw new he(H.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new pr(sn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:pr._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(pd(e,pr._jsonSchema))return pr.fromBase64String(e.bytes)}}pr._jsonSchemaVersion="firestore/bytes/1.0",pr._jsonSchema={type:Ot("string",pr._jsonSchemaVersion),bytes:Ot("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ym{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new he(H.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new en(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vm{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ss{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new he(H.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new he(H.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Le(this._lat,e._lat)||Le(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ss._jsonSchemaVersion}}static fromJSON(e){if(pd(e,ss._jsonSchema))return new ss(e.latitude,e.longitude)}}ss._jsonSchemaVersion="firestore/geoPoint/1.0",ss._jsonSchema={type:Ot("string",ss._jsonSchemaVersion),latitude:Ot("number"),longitude:Ot("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class is{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0}(this._values,e._values)}toJSON(){return{type:is._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(pd(e,is._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new is(e.vectorValues);throw new he(H.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}is._jsonSchemaVersion="firestore/vectorValue/1.0",is._jsonSchema={type:Ot("string",is._jsonSchemaVersion),vectorValues:Ot("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q5=/^__.*__$/;class H5{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new ho(e,this.data,this.fieldMask,n,this.fieldTransforms):new md(e,this.data,n,this.fieldTransforms)}}class sR{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new ho(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function iR(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Se(40011,{Ec:t})}}class cE{constructor(e,n,r,s,i,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.Ac(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new cE(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Rc({path:r,mc:!1});return s.fc(e),s}gc(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Rc({path:r,mc:!1});return s.Ac(),s}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return mp(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if(iR(this.Ec)&&Q5.test(e))throw this.wc('Document fields cannot begin and end with "__"')}}class J5{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||hm(e)}Dc(e,n,r,s=!1){return new cE({Ec:e,methodName:n,bc:r,path:en.emptyPath(),mc:!1,Sc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function uE(t){const e=t._freezeSettings(),n=hm(t._databaseId);return new J5(t._databaseId,!!e.ignoreUndefinedProperties,n)}function X5(t,e,n,r,s,i={}){const o=t.Dc(i.merge||i.mergeFields?2:0,e,n,s);hE("Data must be an object, but it was:",o,r);const a=oR(r,o);let l,c;if(i.merge)l=new Xn(o.fieldMask),c=o.fieldTransforms;else if(i.mergeFields){const d=[];for(const f of i.mergeFields){const h=Bv(e,f,n);if(!o.contains(h))throw new he(H.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);lR(d,h)||d.push(h)}l=new Xn(d),c=o.fieldTransforms.filter(f=>l.covers(f.field))}else l=null,c=o.fieldTransforms;return new H5(new Ln(a),l,c)}class wm extends vm{_toFieldTransform(e){if(e.Ec!==2)throw e.Ec===1?e.wc(`${this._methodName}() can only appear at the top level of your update data`):e.wc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof wm}}class dE extends vm{constructor(e,n){super(e),this.Cc=n}_toFieldTransform(e){const n=new Gu(e.serializer,yS(e.serializer,this.Cc));return new $j(e.path,n)}isEqual(e){return e instanceof dE&&this.Cc===e.Cc}}function Z5(t,e,n,r){const s=t.Dc(1,e,n);hE("Data must be an object, but it was:",s,r);const i=[],o=Ln.empty();uo(r,(l,c)=>{const d=fE(e,l,n);c=Lt(c);const f=s.gc(d);if(c instanceof wm)i.push(d);else{const h=wd(c,f);h!=null&&(i.push(d),o.set(d,h))}});const a=new Xn(i);return new sR(o,a,s.fieldTransforms)}function e3(t,e,n,r,s,i){const o=t.Dc(1,e,n),a=[Bv(e,r,n)],l=[s];if(i.length%2!=0)throw new he(H.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<i.length;h+=2)a.push(Bv(e,i[h])),l.push(i[h+1]);const c=[],d=Ln.empty();for(let h=a.length-1;h>=0;--h)if(!lR(c,a[h])){const v=a[h];let E=l[h];E=Lt(E);const y=o.gc(v);if(E instanceof wm)c.push(v);else{const b=wd(E,y);b!=null&&(c.push(v),d.set(v,b))}}const f=new Xn(c);return new sR(d,f,o.fieldTransforms)}function t3(t,e,n,r=!1){return wd(n,t.Dc(r?4:3,e))}function wd(t,e){if(aR(t=Lt(t)))return hE("Unsupported field value:",e,t),oR(t,e);if(t instanceof vm)return function(r,s){if(!iR(s.Ec))throw s.wc(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.wc(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return function(r,s){const i=[];let o=0;for(const a of r){let l=wd(a,s.yc(o));l==null&&(l={nullValue:"NULL_VALUE"}),i.push(l),o++}return{arrayValue:{values:i}}}(t,e)}return function(r,s){if((r=Lt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return yS(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=Ke.fromDate(r);return{timestampValue:up(s.serializer,i)}}if(r instanceof Ke){const i=new Ke(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:up(s.serializer,i)}}if(r instanceof ss)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof pr)return{bytesValue:IS(s.serializer,r._byteString)};if(r instanceof bt){const i=s.databaseId,o=r.firestore._databaseId;if(!o.isEqual(i))throw s.wc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:$w(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof is)return function(o,a){return{mapValue:{fields:{[eS]:{stringValue:nS},[ap]:{arrayValue:{values:o.toArray().map(c=>{if(typeof c!="number")throw a.wc("VectorValues must only contain numeric values.");return Bw(a.serializer,c)})}}}}}}(r,s);throw s.wc(`Unsupported field value: ${nm(r)}`)}(t,e)}function oR(t,e){const n={};return YI(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):uo(t,(r,s)=>{const i=wd(s,e.Vc(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function aR(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Ke||t instanceof ss||t instanceof pr||t instanceof bt||t instanceof vm||t instanceof is)}function hE(t,e,n){if(!aR(n)||!WI(n)){const r=nm(n);throw r==="an object"?e.wc(t+" a custom object"):e.wc(t+" "+r)}}function Bv(t,e,n){if((e=Lt(e))instanceof ym)return e._internalPath;if(typeof e=="string")return fE(t,e);throw mp("Field path arguments must be of type string or ",t,!1,void 0,n)}const n3=new RegExp("[~\\*/\\[\\]]");function fE(t,e,n){if(e.search(n3)>=0)throw mp(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new ym(...e.split("."))._internalPath}catch{throw mp(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function mp(t,e,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(i||o)&&(l+=" (found",i&&(l+=` in field ${r}`),o&&(l+=` in document ${s}`),l+=")"),new he(H.INVALID_ARGUMENT,a+t+l)}function lR(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cR{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new bt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new r3(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Em("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class r3 extends cR{data(){return super.data()}}function Em(t,e){return typeof e=="string"?fE(t,e):e instanceof ym?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uR(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new he(H.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class pE{}class dR extends pE{}function mE(t,e,...n){let r=[];e instanceof pE&&r.push(e),r=r.concat(n),function(i){const o=i.filter(l=>l instanceof gE).length,a=i.filter(l=>l instanceof Cm).length;if(o>1||o>0&&a>0)throw new he(H.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)t=s._apply(t);return t}class Cm extends dR{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Cm(e,n,r)}_apply(e){const n=this._parse(e);return fR(e._query,n),new oc(e.firestore,e.converter,Rv(e._query,n))}_parse(e){const n=uE(e.firestore);return function(i,o,a,l,c,d,f){let h;if(c.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new he(H.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){Qx(f,d);const E=[];for(const y of f)E.push(Yx(l,i,y));h={arrayValue:{values:E}}}else h=Yx(l,i,f)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||Qx(f,d),h=t3(a,o,f,d==="in"||d==="not-in");return Dt.create(c,d,h)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Kx(t,e,n){const r=e,s=Em("where",t);return Cm._create(s,r,n)}class gE extends pE{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new gE(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Br.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(s,i){let o=s;const a=i.getFlattenedFilters();for(const l of a)fR(o,l),o=Rv(o,l)}(e._query,n),new oc(e.firestore,e.converter,Rv(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class yE extends dR{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new yE(e,n)}_apply(e){const n=function(s,i,o){if(s.startAt!==null)throw new he(H.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new he(H.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Bu(i,o)}(e._query,this._field,this._direction);return new oc(e.firestore,e.converter,function(s,i){const o=s.explicitOrderBy.concat([i]);return new sc(s.path,s.collectionGroup,o,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,n))}}function hR(t,e="asc"){const n=e,r=Em("orderBy",t);return yE._create(r,n)}function Yx(t,e,n){if(typeof(n=Lt(n))=="string"){if(n==="")throw new he(H.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!uS(e)&&n.indexOf("/")!==-1)throw new he(H.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(ot.fromString(n));if(!xe.isDocumentKey(r))throw new he(H.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return cx(t,new xe(r))}if(n instanceof bt)return cx(t,n._key);throw new he(H.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${nm(n)}.`)}function Qx(t,e){if(!Array.isArray(t)||t.length===0)throw new he(H.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function fR(t,e){const n=function(s,i){for(const o of s)for(const a of o.getFlattenedFilters())if(i.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new he(H.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new he(H.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class s3{convertValue(e,n="none"){switch(Zi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return It(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Xi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Se(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return uo(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertVectorValue(e){var n,r,s;const i=(s=(r=(n=e.fields)===null||n===void 0?void 0:n[ap].arrayValue)===null||r===void 0?void 0:r.values)===null||s===void 0?void 0:s.map(o=>It(o.doubleValue));return new is(i)}convertGeoPoint(e){return new ss(It(e.latitude),It(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=im(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Vu(e));default:return null}}convertTimestamp(e){const n=Ji(e);return new Ke(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=ot.fromString(e);Ze(MS(r),9688,{name:e});const s=new Fu(r.get(1),r.get(3)),i=new xe(r.popFirst(5));return s.isEqual(n)||qs(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i3(t,e,n){let r;return r=t?t.toFirestore(e):e,r}class Kc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class zo extends cR{constructor(e,n,r,s,i,o){super(e,n,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new yf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Em("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new he(H.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=zo._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}zo._jsonSchemaVersion="firestore/documentSnapshot/1.0",zo._jsonSchema={type:Ot("string",zo._jsonSchemaVersion),bundleSource:Ot("string","DocumentSnapshot"),bundleName:Ot("string"),bundle:Ot("string")};class yf extends zo{data(e={}){return super.data(e)}}class Wo{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new Kc(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new yf(this._firestore,this._userDataWriter,r.key,r,new Kc(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new he(H.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map(a=>{const l=new yf(s._firestore,s._userDataWriter,a.doc.key,a.doc,new Kc(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(a=>i||a.type!==3).map(a=>{const l=new yf(s._firestore,s._userDataWriter,a.doc.key,a.doc,new Kc(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);let c=-1,d=-1;return a.type!==0&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),d=o.indexOf(a.doc.key)),{type:o3(a.type),doc:l,oldIndex:c,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new he(H.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Wo._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Dw.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],s=[];return this.docs.forEach(i=>{i._document!==null&&(n.push(i._document),r.push(this._userDataWriter.convertObjectMap(i._document.data.value.mapValue.fields,"previous")),s.push(i.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function o3(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Se(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xm(t){t=er(t,bt);const e=er(t.firestore,no);return $5(gm(e),t._key).then(n=>gR(e,t,n))}Wo._jsonSchemaVersion="firestore/querySnapshot/1.0",Wo._jsonSchema={type:Ot("string",Wo._jsonSchemaVersion),bundleSource:Ot("string","QuerySnapshot"),bundleName:Ot("string"),bundle:Ot("string")};class vE extends s3{constructor(e){super(),this.firestore=e}convertBytes(e){return new pr(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new bt(this.firestore,null,n)}}function pR(t){t=er(t,oc);const e=er(t.firestore,no),n=gm(e),r=new vE(e);return uR(t._query),z5(n,t._query).then(s=>new Wo(e,r,t,s))}function mR(t,e,n){t=er(t,bt);const r=er(t.firestore,no),s=i3(t.converter,e);return EE(r,[X5(uE(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,Fr.none())])}function oa(t,e,n,...r){t=er(t,bt);const s=er(t.firestore,no),i=uE(s);let o;return o=typeof(e=Lt(e))=="string"||e instanceof ym?e3(i,"updateDoc",t._key,e,n,r):Z5(i,"updateDoc",t._key,e),EE(s,[o.toMutation(t._key,Fr.exists(!0))])}function a3(t){return EE(er(t.firestore,no),[new Uw(t._key,Fr.none())])}function wE(t,...e){var n,r,s;t=Lt(t);let i={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||Wx(e[o])||(i=e[o++]);const a={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(Wx(e[o])){const f=e[o];e[o]=(n=f.next)===null||n===void 0?void 0:n.bind(f),e[o+1]=(r=f.error)===null||r===void 0?void 0:r.bind(f),e[o+2]=(s=f.complete)===null||s===void 0?void 0:s.bind(f)}let l,c,d;if(t instanceof bt)c=er(t.firestore,no),d=om(t._key.path),l={next:f=>{e[o]&&e[o](gR(c,t,f))},error:e[o+1],complete:e[o+2]};else{const f=er(t,oc);c=er(f.firestore,no),d=f._query;const h=new vE(c);l={next:v=>{e[o]&&e[o](new Wo(c,h,f,v))},error:e[o+1],complete:e[o+2]},uR(t._query)}return function(h,v,E,y){const b=new aE(y),C=new sE(v,b,E);return h.asyncQueue.enqueueAndForget(async()=>tE(await pp(h),C)),()=>{b.Ou(),h.asyncQueue.enqueueAndForget(async()=>nE(await pp(h),C))}}(gm(c),d,a,l)}function EE(t,e){return function(r,s){const i=new Os;return r.asyncQueue.enqueueAndForget(async()=>k5(await G5(r),s,i)),i.promise}(gm(t),e)}function gR(t,e,n){const r=n.docs.get(e._key),s=new vE(t);return new zo(t,s,e._key,r,new Kc(n.hasPendingWrites,n.fromCache),e.converter)}function Hx(t){return new dE("increment",t)}(function(e,n=!0){(function(s){tc=s})(ec),Ll(new ra("firestore",(r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),a=new no(new nj(r.getProvider("auth-internal")),new ij(o,r.getProvider("app-check-internal")),function(c,d){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new he(H.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Fu(c.options.projectId,d)}(o,s),o);return i=Object.assign({useFetchStreams:n},i),a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),Gi(QC,HC,e),Gi(QC,HC,"esm2017")})();var Zr=function(){return Zr=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Zr.apply(this,arguments)};function Ed(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function l3(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,i;r<s;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))}function yR(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const c3=yR,vR=new hd("auth","Firebase",yR());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gp=new Rw("@firebase/auth");function u3(t,...e){gp.logLevel<=Ue.WARN&&gp.warn(`Auth (${ec}): ${t}`,...e)}function vf(t,...e){gp.logLevel<=Ue.ERROR&&gp.error(`Auth (${ec}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ur(t,...e){throw CE(t,...e)}function os(t,...e){return CE(t,...e)}function wR(t,e,n){const r=Object.assign(Object.assign({},c3()),{[e]:n});return new hd("auth","Firebase",r).create(e,{appName:t.name})}function Ls(t){return wR(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function CE(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return vR.create(t,...e)}function Ie(t,e,...n){if(!t)throw CE(e,...n)}function Ns(t){const e="INTERNAL ASSERTION FAILED: "+t;throw vf(e),new Error(e)}function $s(t,e){t||Ns(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uv(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function d3(){return Jx()==="http:"||Jx()==="https:"}function Jx(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h3(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(d3()||PV()||"connection"in navigator)?navigator.onLine:!0}function f3(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cd{constructor(e,n){this.shortDelay=e,this.longDelay=n,$s(n>e,"Short delay should be less than long delay!"),this.isMobile=IV()||NV()}get(){return h3()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xE(t,e){$s(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ER{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ns("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ns("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ns("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p3={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m3=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],g3=new Cd(3e4,6e4);function fo(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function po(t,e,n,r,s={}){return CR(t,s,async()=>{let i={},o={};r&&(e==="GET"?o=r:i={body:JSON.stringify(r)});const a=fd(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const c=Object.assign({method:e,headers:l},i);return RV()||(c.referrerPolicy="no-referrer"),t.emulatorConfig&&Zl(t.emulatorConfig.host)&&(c.credentials="include"),ER.fetch()(await xR(t,t.config.apiHost,n,a),c)})}async function CR(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},p3),e);try{const s=new v3(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw Bh(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const a=i.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Bh(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Bh(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw Bh(t,"user-disabled",o);const d=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw wR(t,d,c);Ur(t,d)}}catch(s){if(s instanceof Qs)throw s;Ur(t,"network-request-failed",{message:String(s)})}}async function xd(t,e,n,r,s={}){const i=await po(t,e,n,r,s);return"mfaPendingCredential"in i&&Ur(t,"multi-factor-auth-required",{_serverResponse:i}),i}async function xR(t,e,n,r){const s=`${e}${n}?${r}`,i=t,o=i.config.emulator?xE(t.config,s):`${t.config.apiScheme}://${s}`;return m3.includes(n)&&(await i._persistenceManagerAvailable,i._getPersistenceType()==="COOKIE")?i._getPersistence()._getFinalTarget(o).toString():o}function y3(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class v3{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(os(this.auth,"network-request-failed")),g3.get())})}}function Bh(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=os(t,e,r);return s.customData._tokenResponse=n,s}function Xx(t){return t!==void 0&&t.enterprise!==void 0}class w3{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return y3(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function E3(t,e){return po(t,"GET","/v2/recaptchaConfig",fo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function C3(t,e){return po(t,"POST","/v1/accounts:delete",e)}async function yp(t,e){return po(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fu(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function x3(t,e=!1){const n=Lt(t),r=await n.getIdToken(e),s=_E(r);Ie(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:fu(Jg(s.auth_time)),issuedAtTime:fu(Jg(s.iat)),expirationTime:fu(Jg(s.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function Jg(t){return Number(t)*1e3}function _E(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return vf("JWT malformed, contained fewer than 3 sections"),null;try{const s=AI(n);return s?JSON.parse(s):(vf("Failed to decode base64 JWT payload"),null)}catch(s){return vf("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function Zx(t){const e=_E(t);return Ie(e,"internal-error"),Ie(typeof e.exp<"u","internal-error"),Ie(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $u(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Qs&&_3(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function _3({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T3{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qv{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=fu(this.lastLoginAt),this.creationTime=fu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vp(t){var e;const n=t.auth,r=await t.getIdToken(),s=await $u(t,yp(n,{idToken:r}));Ie(s==null?void 0:s.users.length,n,"internal-error");const i=s.users[0];t._notifyReloadListener(i);const o=!((e=i.providerUserInfo)===null||e===void 0)&&e.length?_R(i.providerUserInfo):[],a=b3(t.providerData,o),l=t.isAnonymous,c=!(t.email&&i.passwordHash)&&!(a!=null&&a.length),d=l?c:!1,f={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new qv(i.createdAt,i.lastLoginAt),isAnonymous:d};Object.assign(t,f)}async function A3(t){const e=Lt(t);await vp(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function b3(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function _R(t){return t.map(e=>{var{providerId:n}=e,r=Ed(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function I3(t,e){const n=await CR(t,{},async()=>{const r=fd({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,o=await xR(t,s,"/v1/token",`key=${i}`),a=await t._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";const l={method:"POST",headers:a,body:r};return t.emulatorConfig&&Zl(t.emulatorConfig.host)&&(l.credentials="include"),ER.fetch()(o,l)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function S3(t,e){return po(t,"POST","/v2/accounts:revokeToken",fo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ie(e.idToken,"internal-error"),Ie(typeof e.idToken<"u","internal-error"),Ie(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Zx(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ie(e.length!==0,"internal-error");const n=Zx(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ie(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await I3(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,o=new pl;return r&&(Ie(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),s&&(Ie(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(Ie(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new pl,this.toJSON())}_performRefresh(){return Ns("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ui(t,e){Ie(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Or{constructor(e){var{uid:n,auth:r,stsTokenManager:s}=e,i=Ed(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new T3(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new qv(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await $u(this,this.stsTokenManager.getToken(this.auth,e));return Ie(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return x3(this,e)}reload(){return A3(this)}_assign(e){this!==e&&(Ie(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Or(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Ie(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await vp(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(fr(this.auth.app))return Promise.reject(Ls(this.auth));const e=await this.getIdToken();return await $u(this,C3(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,s,i,o,a,l,c,d;const f=(r=n.displayName)!==null&&r!==void 0?r:void 0,h=(s=n.email)!==null&&s!==void 0?s:void 0,v=(i=n.phoneNumber)!==null&&i!==void 0?i:void 0,E=(o=n.photoURL)!==null&&o!==void 0?o:void 0,y=(a=n.tenantId)!==null&&a!==void 0?a:void 0,b=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,C=(c=n.createdAt)!==null&&c!==void 0?c:void 0,w=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:_,emailVerified:R,isAnonymous:O,providerData:j,stsTokenManager:S}=n;Ie(_&&S,e,"internal-error");const I=pl.fromJSON(this.name,S);Ie(typeof _=="string",e,"internal-error"),ui(f,e.name),ui(h,e.name),Ie(typeof R=="boolean",e,"internal-error"),Ie(typeof O=="boolean",e,"internal-error"),ui(v,e.name),ui(E,e.name),ui(y,e.name),ui(b,e.name),ui(C,e.name),ui(w,e.name);const k=new Or({uid:_,auth:e,email:h,emailVerified:R,displayName:f,isAnonymous:O,photoURL:E,phoneNumber:v,tenantId:y,stsTokenManager:I,createdAt:C,lastLoginAt:w});return j&&Array.isArray(j)&&(k.providerData=j.map(M=>Object.assign({},M))),b&&(k._redirectEventId=b),k}static async _fromIdTokenResponse(e,n,r=!1){const s=new pl;s.updateFromServerResponse(n);const i=new Or({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await vp(i),i}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];Ie(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?_R(s.providerUserInfo):[],o=!(s.email&&s.passwordHash)&&!(i!=null&&i.length),a=new pl;a.updateFromIdToken(r);const l=new Or({uid:s.localId,auth:e,stsTokenManager:a,isAnonymous:o}),c={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new qv(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(i!=null&&i.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e_=new Map;function ks(t){$s(t instanceof Function,"Expected a class definition");let e=e_.get(t);return e?($s(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,e_.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TR{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}TR.type="NONE";const t_=TR;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wf(t,e,n){return`firebase:${t}:${e}:${n}`}class ml{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=wf(this.userKey,s.apiKey,i),this.fullPersistenceKey=wf("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await yp(this.auth,{idToken:e}).catch(()=>{});return n?Or._fromGetAccountInfoResponse(this.auth,n,e):null}return Or._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new ml(ks(t_),e,r);const s=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let i=s[0]||ks(t_);const o=wf(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const d=await c._get(o);if(d){let f;if(typeof d=="string"){const h=await yp(e,{idToken:d}).catch(()=>{});if(!h)break;f=await Or._fromGetAccountInfoResponse(e,h,d)}else f=Or._fromJSON(e,d);c!==i&&(a=f),i=c;break}}catch{}const l=s.filter(c=>c._shouldAllowMigration);return!i._shouldAllowMigration||!l.length?new ml(i,e,r):(i=l[0],a&&await i._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==i)try{await c._remove(o)}catch{}})),new ml(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n_(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(SR(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(AR(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(PR(e))return"Blackberry";if(NR(e))return"Webos";if(bR(e))return"Safari";if((e.includes("chrome/")||IR(e))&&!e.includes("edge/"))return"Chrome";if(RR(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function AR(t=wn()){return/firefox\//i.test(t)}function bR(t=wn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function IR(t=wn()){return/crios\//i.test(t)}function SR(t=wn()){return/iemobile/i.test(t)}function RR(t=wn()){return/android/i.test(t)}function PR(t=wn()){return/blackberry/i.test(t)}function NR(t=wn()){return/webos/i.test(t)}function TE(t=wn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function R3(t=wn()){var e;return TE(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function P3(){return kV()&&document.documentMode===10}function kR(t=wn()){return TE(t)||RR(t)||NR(t)||PR(t)||/windows phone/i.test(t)||SR(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MR(t,e=[]){let n;switch(t){case"Browser":n=n_(wn());break;case"Worker":n=`${n_(wn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ec}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N3{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((o,a)=>{try{const l=e(i);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function k3(t,e={}){return po(t,"GET","/v2/passwordPolicy",fo(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M3=6;class D3{constructor(e){var n,r,s,i;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:M3,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(i=e.forceUpgradeOnSignin)!==null&&i!==void 0?i:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,s,i,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(s=l.containsLowercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(i=l.containsUppercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O3{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new r_(this),this.idTokenSubscription=new r_(this),this.beforeStateQueue=new N3(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=vR,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(i=>this._resolvePersistenceManagerAvailable=i)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ks(n)),this._initializationPromise=this.queue(async()=>{var r,s,i;if(!this._deleted&&(this.persistenceManager=await ml.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await yp(this,{idToken:e}),r=await Or._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(fr(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let s=r,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=s==null?void 0:s._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(s=l.user,i=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(s)}catch(o){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Ie(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await vp(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=f3()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(fr(this.app))return Promise.reject(Ls(this));const n=e?Lt(e):null;return n&&Ie(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ie(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return fr(this.app)?Promise.reject(Ls(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return fr(this.app)?Promise.reject(Ls(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ks(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await k3(this),n=new D3(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new hd("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await S3(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ks(e)||this._popupRedirectResolver;Ie(n,this,"argument-error"),this.redirectPersistenceManager=await ml.create(this,[ks(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ie(a,this,"internal-error"),a.then(()=>{o||i(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,s);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ie(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=MR(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var e;if(fr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&u3(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function ya(t){return Lt(t)}class r_{constructor(e){this.auth=e,this.observer=null,this.addObserver=BV(n=>this.observer=n)}get next(){return Ie(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _m={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function L3(t){_m=t}function DR(t){return _m.loadJS(t)}function V3(){return _m.recaptchaEnterpriseScript}function F3(){return _m.gapiScript}function j3(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class B3{constructor(){this.enterprise=new U3}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class U3{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const q3="recaptcha-enterprise",OR="NO_RECAPTCHA";class G3{constructor(e){this.type=q3,this.auth=ya(e)}async verify(e="verify",n=!1){async function r(i){if(!n){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(o,a)=>{E3(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const c=new w3(l);return i.tenantId==null?i._agentRecaptchaConfig=c:i._tenantRecaptchaConfigs[i.tenantId]=c,o(c.siteKey)}}).catch(l=>{a(l)})})}function s(i,o,a){const l=window.grecaptcha;Xx(l)?l.enterprise.ready(()=>{l.enterprise.execute(i,{action:e}).then(c=>{o(c)}).catch(()=>{o(OR)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new B3().execute("siteKey",{action:"verify"}):new Promise((i,o)=>{r(this.auth).then(a=>{if(!n&&Xx(window.grecaptcha))s(a,i,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=V3();l.length!==0&&(l+=a),DR(l).then(()=>{s(a,i,o)}).catch(c=>{o(c)})}}).catch(a=>{o(a)})})}}async function s_(t,e,n,r=!1,s=!1){const i=new G3(t);let o;if(s)o=OR;else try{o=await i.verify(n)}catch{o=await i.verify(n,!0)}const a=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){const l=a.phoneEnrollmentInfo.phoneNumber,c=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:c,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const l=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function Gv(t,e,n,r,s){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await s_(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await s_(t,e,n,n==="getOobCode");return r(t,a)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $3(t,e){const n=Nw(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(na(i,e??{}))return s;Ur(s,"already-initialized")}return n.initialize({options:e})}function z3(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(ks);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function W3(t,e,n){const r=ya(t);Ie(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,i=LR(e),{host:o,port:a}=K3(e),l=a===null?"":`:${a}`,c={url:`${i}//${o}${l}/`},d=Object.freeze({host:o,port:a,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){Ie(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Ie(na(c,r.config.emulator)&&na(d,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=c,r.emulatorConfig=d,r.settings.appVerificationDisabledForTesting=!0,Zl(o)?(RI(`${i}//${o}${l}`),PI("Auth",!0)):Y3()}function LR(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function K3(t){const e=LR(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:i_(r.substr(i.length+1))}}else{const[i,o]=r.split(":");return{host:i,port:i_(o)}}}function i_(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function Y3(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AE{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Ns("not implemented")}_getIdTokenResponse(e){return Ns("not implemented")}_linkToIdToken(e,n){return Ns("not implemented")}_getReauthenticationResolver(e){return Ns("not implemented")}}async function Q3(t,e){return po(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function H3(t,e){return xd(t,"POST","/v1/accounts:signInWithPassword",fo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function J3(t,e){return xd(t,"POST","/v1/accounts:signInWithEmailLink",fo(t,e))}async function X3(t,e){return xd(t,"POST","/v1/accounts:signInWithEmailLink",fo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zu extends AE{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new zu(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new zu(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Gv(e,n,"signInWithPassword",H3);case"emailLink":return J3(e,{email:this._email,oobCode:this._password});default:Ur(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Gv(e,r,"signUpPassword",Q3);case"emailLink":return X3(e,{idToken:n,email:this._email,oobCode:this._password});default:Ur(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gl(t,e){return xd(t,"POST","/v1/accounts:signInWithIdp",fo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z3="http://localhost";class aa extends AE{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new aa(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Ur("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=n,i=Ed(n,["providerId","signInMethod"]);if(!r||!s)return null;const o=new aa(r,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return gl(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,gl(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,gl(e,n)}buildRequest(){const e={requestUri:Z3,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=fd(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e6(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function t6(t){const e=qc(Gc(t)).link,n=e?qc(Gc(e)).deep_link_id:null,r=qc(Gc(t)).deep_link_id;return(r?qc(Gc(r)).link:null)||r||n||e||t}class bE{constructor(e){var n,r,s,i,o,a;const l=qc(Gc(e)),c=(n=l.apiKey)!==null&&n!==void 0?n:null,d=(r=l.oobCode)!==null&&r!==void 0?r:null,f=e6((s=l.mode)!==null&&s!==void 0?s:null);Ie(c&&d&&f,"argument-error"),this.apiKey=c,this.operation=f,this.code=d,this.continueUrl=(i=l.continueUrl)!==null&&i!==void 0?i:null,this.languageCode=(o=l.lang)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=t6(e);try{return new bE(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ac{constructor(){this.providerId=ac.PROVIDER_ID}static credential(e,n){return zu._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=bE.parseLink(n);return Ie(r,"argument-error"),zu._fromEmailAndCode(e,r.code,r.tenantId)}}ac.PROVIDER_ID="password";ac.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ac.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VR{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _d extends VR{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wi extends _d{constructor(){super("facebook.com")}static credential(e){return aa._fromParams({providerId:wi.PROVIDER_ID,signInMethod:wi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return wi.credentialFromTaggedObject(e)}static credentialFromError(e){return wi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return wi.credential(e.oauthAccessToken)}catch{return null}}}wi.FACEBOOK_SIGN_IN_METHOD="facebook.com";wi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ei extends _d{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return aa._fromParams({providerId:Ei.PROVIDER_ID,signInMethod:Ei.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Ei.credentialFromTaggedObject(e)}static credentialFromError(e){return Ei.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Ei.credential(n,r)}catch{return null}}}Ei.GOOGLE_SIGN_IN_METHOD="google.com";Ei.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ci extends _d{constructor(){super("github.com")}static credential(e){return aa._fromParams({providerId:Ci.PROVIDER_ID,signInMethod:Ci.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ci.credentialFromTaggedObject(e)}static credentialFromError(e){return Ci.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ci.credential(e.oauthAccessToken)}catch{return null}}}Ci.GITHUB_SIGN_IN_METHOD="github.com";Ci.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xi extends _d{constructor(){super("twitter.com")}static credential(e,n){return aa._fromParams({providerId:xi.PROVIDER_ID,signInMethod:xi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return xi.credentialFromTaggedObject(e)}static credentialFromError(e){return xi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return xi.credential(n,r)}catch{return null}}}xi.TWITTER_SIGN_IN_METHOD="twitter.com";xi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function n6(t,e){return xd(t,"POST","/v1/accounts:signUp",fo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class la{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await Or._fromIdTokenResponse(e,r,s),o=o_(r);return new la({user:i,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=o_(r);return new la({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function o_(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wp extends Qs{constructor(e,n,r,s){var i;super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,wp.prototype),this.customData={appName:e.name,tenantId:(i=e.tenantId)!==null&&i!==void 0?i:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new wp(e,n,r,s)}}function FR(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?wp._fromErrorAndOperation(t,i,e,r):i})}async function r6(t,e,n=!1){const r=await $u(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return la._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function s6(t,e,n=!1){const{auth:r}=t;if(fr(r.app))return Promise.reject(Ls(r));const s="reauthenticate";try{const i=await $u(t,FR(r,s,e,t),n);Ie(i.idToken,r,"internal-error");const o=_E(i.idToken);Ie(o,r,"internal-error");const{sub:a}=o;return Ie(t.uid===a,r,"user-mismatch"),la._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&Ur(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jR(t,e,n=!1){if(fr(t.app))return Promise.reject(Ls(t));const r="signIn",s=await FR(t,r,e),i=await la._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}async function i6(t,e){return jR(ya(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BR(t){const e=ya(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function o6(t,e,n){if(fr(t.app))return Promise.reject(Ls(t));const r=ya(t),o=await Gv(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",n6).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&BR(t),l}),a=await la._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function a6(t,e,n){return fr(t.app)?Promise.reject(Ls(t)):i6(Lt(t),ac.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&BR(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l6(t,e){return Lt(t).setPersistence(e)}function c6(t,e,n,r){return Lt(t).onIdTokenChanged(e,n,r)}function u6(t,e,n){return Lt(t).beforeAuthStateChanged(e,n)}function d6(t,e,n,r){return Lt(t).onAuthStateChanged(e,n,r)}function a_(t){return Lt(t).signOut()}const Ep="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UR{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Ep,"1"),this.storage.removeItem(Ep),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h6=1e3,f6=10;class qR extends UR{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=kR(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},i=this.storage.getItem(r);P3()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,f6):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},h6)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}qR.type="LOCAL";const GR=qR;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $R extends UR{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}$R.type="SESSION";const zR=$R;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p6(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tm{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new Tm(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const a=Array.from(o).map(async c=>c(n.origin,i)),l=await p6(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Tm.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IE(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m6{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((a,l)=>{const c=IE("",20);s.port1.start();const d=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(f){const h=f;if(h.data.eventId===c)switch(h.data.status){case"ack":clearTimeout(d),i=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(h.data.response);break;default:clearTimeout(d),clearTimeout(i),l(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function as(){return window}function g6(t){as().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WR(){return typeof as().WorkerGlobalScope<"u"&&typeof as().importScripts=="function"}async function y6(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function v6(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function w6(){return WR()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KR="firebaseLocalStorageDb",E6=1,Cp="firebaseLocalStorage",YR="fbase_key";class Td{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Am(t,e){return t.transaction([Cp],e?"readwrite":"readonly").objectStore(Cp)}function C6(){const t=indexedDB.deleteDatabase(KR);return new Td(t).toPromise()}function $v(){const t=indexedDB.open(KR,E6);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Cp,{keyPath:YR})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Cp)?e(r):(r.close(),await C6(),e(await $v()))})})}async function l_(t,e,n){const r=Am(t,!0).put({[YR]:e,value:n});return new Td(r).toPromise()}async function x6(t,e){const n=Am(t,!1).get(e),r=await new Td(n).toPromise();return r===void 0?null:r.value}function c_(t,e){const n=Am(t,!0).delete(e);return new Td(n).toPromise()}const _6=800,T6=3;class QR{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await $v(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>T6)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return WR()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Tm._getInstance(w6()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await y6(),!this.activeServiceWorker)return;this.sender=new m6(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||v6()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await $v();return await l_(e,Ep,"1"),await c_(e,Ep),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>l_(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>x6(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>c_(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=Am(s,!1).getAll();return new Td(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),_6)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}QR.type="LOCAL";const A6=QR;new Cd(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b6(t,e){return e?ks(e):(Ie(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SE extends AE{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return gl(e,this._buildIdpRequest())}_linkToIdToken(e,n){return gl(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return gl(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function I6(t){return jR(t.auth,new SE(t),t.bypassAuthState)}function S6(t){const{auth:e,user:n}=t;return Ie(n,e,"internal-error"),s6(n,new SE(t),t.bypassAuthState)}async function R6(t){const{auth:e,user:n}=t;return Ie(n,e,"internal-error"),r6(n,new SE(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HR{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return I6;case"linkViaPopup":case"linkViaRedirect":return R6;case"reauthViaPopup":case"reauthViaRedirect":return S6;default:Ur(this.auth,"internal-error")}}resolve(e){$s(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){$s(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P6=new Cd(2e3,1e4);class il extends HR{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,il.currentPopupAction&&il.currentPopupAction.cancel(),il.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ie(e,this.auth,"internal-error"),e}async onExecution(){$s(this.filter.length===1,"Popup operations only handle one event");const e=IE();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(os(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(os(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,il.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(os(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,P6.get())};e()}}il.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N6="pendingRedirect",Ef=new Map;class k6 extends HR{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Ef.get(this.auth._key());if(!e){try{const r=await M6(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Ef.set(this.auth._key(),e)}return this.bypassAuthState||Ef.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function M6(t,e){const n=L6(e),r=O6(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function D6(t,e){Ef.set(t._key(),e)}function O6(t){return ks(t._redirectPersistence)}function L6(t){return wf(N6,t.config.apiKey,t.name)}async function V6(t,e,n=!1){if(fr(t.app))return Promise.reject(Ls(t));const r=ya(t),s=b6(r,e),o=await new k6(r,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F6=10*60*1e3;class j6{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!B6(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!JR(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(os(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=F6&&this.cachedEventUids.clear(),this.cachedEventUids.has(u_(e))}saveEventToCache(e){this.cachedEventUids.add(u_(e)),this.lastProcessedEventTime=Date.now()}}function u_(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function JR({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function B6(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return JR(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function U6(t,e={}){return po(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q6=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,G6=/^https?/;async function $6(t){if(t.config.emulator)return;const{authorizedDomains:e}=await U6(t);for(const n of e)try{if(z6(n))return}catch{}Ur(t,"unauthorized-domain")}function z6(t){const e=Uv(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!G6.test(n))return!1;if(q6.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W6=new Cd(3e4,6e4);function d_(){const t=as().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function K6(t){return new Promise((e,n)=>{var r,s,i;function o(){d_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{d_(),n(os(t,"network-request-failed"))},timeout:W6.get()})}if(!((s=(r=as().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((i=as().gapi)===null||i===void 0)&&i.load)o();else{const a=j3("iframefcb");return as()[a]=()=>{gapi.load?o():n(os(t,"network-request-failed"))},DR(`${F3()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Cf=null,e})}let Cf=null;function Y6(t){return Cf=Cf||K6(t),Cf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q6=new Cd(5e3,15e3),H6="__/auth/iframe",J6="emulator/auth/iframe",X6={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Z6=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function eU(t){const e=t.config;Ie(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?xE(e,J6):`https://${t.config.authDomain}/${H6}`,r={apiKey:e.apiKey,appName:t.name,v:ec},s=Z6.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${fd(r).slice(1)}`}async function tU(t){const e=await Y6(t),n=as().gapi;return Ie(n,t,"internal-error"),e.open({where:document.body,url:eU(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:X6,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const o=os(t,"network-request-failed"),a=as().setTimeout(()=>{i(o)},Q6.get());function l(){as().clearTimeout(a),s(r)}r.ping(l).then(l,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nU={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},rU=500,sU=600,iU="_blank",oU="http://localhost";class h_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function aU(t,e,n,r=rU,s=sU){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},nU),{width:r.toString(),height:s.toString(),top:i,left:o}),c=wn().toLowerCase();n&&(a=IR(c)?iU:n),AR(c)&&(e=e||oU,l.scrollbars="yes");const d=Object.entries(l).reduce((h,[v,E])=>`${h}${v}=${E},`,"");if(R3(c)&&a!=="_self")return lU(e||"",a),new h_(null);const f=window.open(e||"",a,d);Ie(f,t,"popup-blocked");try{f.focus()}catch{}return new h_(f)}function lU(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cU="__/auth/handler",uU="emulator/auth/handler",dU=encodeURIComponent("fac");async function f_(t,e,n,r,s,i){Ie(t.config.authDomain,t,"auth-domain-config-required"),Ie(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:ec,eventId:s};if(e instanceof VR){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",jV(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,f]of Object.entries({}))o[d]=f}if(e instanceof _d){const d=e.getScopes().filter(f=>f!=="");d.length>0&&(o.scopes=d.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const d of Object.keys(a))a[d]===void 0&&delete a[d];const l=await t._getAppCheckToken(),c=l?`#${dU}=${encodeURIComponent(l)}`:"";return`${hU(t)}?${fd(a).slice(1)}${c}`}function hU({config:t}){return t.emulator?xE(t,uU):`https://${t.authDomain}/${cU}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xg="webStorageSupport";class fU{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=zR,this._completeRedirectFn=V6,this._overrideRedirectResult=D6}async _openPopup(e,n,r,s){var i;$s((i=this.eventManagers[e._key()])===null||i===void 0?void 0:i.manager,"_initialize() not called before _openPopup()");const o=await f_(e,n,r,Uv(),s);return aU(e,o,IE())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await f_(e,n,r,Uv(),s);return g6(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):($s(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await tU(e),r=new j6(e);return n.register("authEvent",s=>(Ie(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Xg,{type:Xg},s=>{var i;const o=(i=s==null?void 0:s[0])===null||i===void 0?void 0:i[Xg];o!==void 0&&n(!!o),Ur(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=$6(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return kR()||bR()||TE()}}const pU=fU;var p_="@firebase/auth",m_="1.10.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mU{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ie(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gU(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function yU(t){Ll(new ra("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;Ie(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:MR(t)},c=new O3(r,s,i,l);return z3(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Ll(new ra("auth-internal",e=>{const n=ya(e.getProvider("auth").getImmediate());return(r=>new mU(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Gi(p_,m_,gU(t)),Gi(p_,m_,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vU=5*60,wU=SI("authIdTokenMaxAge")||vU;let g_=null;const EU=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>wU)return;const s=n==null?void 0:n.token;g_!==s&&(g_=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function CU(t=kw()){const e=Nw(t,"auth");if(e.isInitialized())return e.getImmediate();const n=$3(t,{popupRedirectResolver:pU,persistence:[A6,GR,zR]}),r=SI("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const o=EU(i.toString());u6(n,o,()=>o(n.currentUser)),c6(n,a=>o(a))}}const s=bI("auth");return s&&W3(n,`http://${s}`),n}function xU(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}L3({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=os("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",xU().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});yU("Browser");const _U={apiKey:"AIzaSyBUftmUEX4_zgW-7daz3Yq9Md7QJQWTDOM",authDomain:"vmaster-fcdff.firebaseapp.com",projectId:"vmaster-fcdff",storageBucket:"vmaster-fcdff.firebasestorage.app",messagingSenderId:"44584686885",appId:"1:44584686885:web:1aa7941cebb2ad30bf76cc",measurementId:"G-FH5MHDJ62K"},XR=UF().length?kw():MI(_U),on=K5(XR),Ko=CU(XR);l6(Ko,GR);function Ve(...t){return fV(dI(t))}const TU=TL,ZR=g.forwardRef(({className:t,...e},n)=>p.jsx(sI,{ref:n,className:Ve("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));ZR.displayName=sI.displayName;const AU=bw("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),eP=g.forwardRef(({className:t,variant:e,...n},r)=>p.jsx(iI,{ref:r,className:Ve(AU({variant:e}),t),...n}));eP.displayName=iI.displayName;const bU=g.forwardRef(({className:t,...e},n)=>p.jsx(lI,{ref:n,className:Ve("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));bU.displayName=lI.displayName;const tP=g.forwardRef(({className:t,...e},n)=>p.jsx(cI,{ref:n,className:Ve("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:p.jsx(yI,{className:"h-4 w-4"})}));tP.displayName=cI.displayName;const nP=g.forwardRef(({className:t,...e},n)=>p.jsx(oI,{ref:n,className:Ve("text-sm font-semibold",t),...e}));nP.displayName=oI.displayName;const rP=g.forwardRef(({className:t,...e},n)=>p.jsx(aI,{ref:n,className:Ve("text-sm opacity-90",t),...e}));rP.displayName=aI.displayName;function IU(){const{toasts:t}=LO();return p.jsxs(TU,{children:[t.map(function({id:e,title:n,description:r,action:s,...i}){return p.jsxs(eP,{...i,children:[p.jsxs("div",{className:"grid gap-1",children:[n&&p.jsx(nP,{children:n}),r&&p.jsx(rP,{children:r})]}),s,p.jsx(tP,{})]},e)}),p.jsx(ZR,{})]})}var y_=["light","dark"],SU="(prefers-color-scheme: dark)",RU=g.createContext(void 0),PU={setTheme:t=>{},themes:[]},NU=()=>{var t;return(t=g.useContext(RU))!=null?t:PU};g.memo(({forcedTheme:t,storageKey:e,attribute:n,enableSystem:r,enableColorScheme:s,defaultTheme:i,value:o,attrs:a,nonce:l})=>{let c=i==="system",d=n==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${a.map(E=>`'${E}'`).join(",")})`};`:`var d=document.documentElement,n='${n}',s='setAttribute';`,f=s?y_.includes(i)&&i?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${i}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",h=(E,y=!1,b=!0)=>{let C=o?o[E]:E,w=y?E+"|| ''":`'${C}'`,_="";return s&&b&&!y&&y_.includes(E)&&(_+=`d.style.colorScheme = '${E}';`),n==="class"?y||C?_+=`c.add(${w})`:_+="null":C&&(_+=`d[s](n,${w})`),_},v=t?`!function(){${d}${h(t)}}()`:r?`!function(){try{${d}var e=localStorage.getItem('${e}');if('system'===e||(!e&&${c})){var t='${SU}',m=window.matchMedia(t);if(m.media!==t||m.matches){${h("dark")}}else{${h("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${h(o?"x[e]":"e",!0)}}${c?"":"else{"+h(i,!1,!1)+"}"}${f}}catch(e){}}()`:`!function(){try{${d}var e=localStorage.getItem('${e}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${h(o?"x[e]":"e",!0)}}else{${h(i,!1,!1)};}${f}}catch(t){}}();`;return g.createElement("script",{nonce:l,dangerouslySetInnerHTML:{__html:v}})});var kU=t=>{switch(t){case"success":return OU;case"info":return VU;case"warning":return LU;case"error":return FU;default:return null}},MU=Array(12).fill(0),DU=({visible:t})=>Y.createElement("div",{className:"sonner-loading-wrapper","data-visible":t},Y.createElement("div",{className:"sonner-spinner"},MU.map((e,n)=>Y.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),OU=Y.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Y.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),LU=Y.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},Y.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),VU=Y.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Y.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),FU=Y.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Y.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),jU=()=>{let[t,e]=Y.useState(document.hidden);return Y.useEffect(()=>{let n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t},zv=1,BU=class{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{let e=this.subscribers.indexOf(t);this.subscribers.splice(e,1)}),this.publish=t=>{this.subscribers.forEach(e=>e(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var e;let{message:n,...r}=t,s=typeof(t==null?void 0:t.id)=="number"||((e=t.id)==null?void 0:e.length)>0?t.id:zv++,i=this.toasts.find(a=>a.id===s),o=t.dismissible===void 0?!0:t.dismissible;return i?this.toasts=this.toasts.map(a=>a.id===s?(this.publish({...a,...t,id:s,title:n}),{...a,...t,id:s,dismissible:o,title:n}):a):this.addToast({title:n,...r,dismissible:o,id:s}),s},this.dismiss=t=>(t||this.toasts.forEach(e=>{this.subscribers.forEach(n=>n({id:e.id,dismiss:!0}))}),this.subscribers.forEach(e=>e({id:t,dismiss:!0})),t),this.message=(t,e)=>this.create({...e,message:t}),this.error=(t,e)=>this.create({...e,message:t,type:"error"}),this.success=(t,e)=>this.create({...e,type:"success",message:t}),this.info=(t,e)=>this.create({...e,type:"info",message:t}),this.warning=(t,e)=>this.create({...e,type:"warning",message:t}),this.loading=(t,e)=>this.create({...e,type:"loading",message:t}),this.promise=(t,e)=>{if(!e)return;let n;e.loading!==void 0&&(n=this.create({...e,promise:t,type:"loading",message:e.loading,description:typeof e.description!="function"?e.description:void 0}));let r=t instanceof Promise?t:t(),s=n!==void 0;return r.then(async i=>{if(qU(i)&&!i.ok){s=!1;let o=typeof e.error=="function"?await e.error(`HTTP error! status: ${i.status}`):e.error,a=typeof e.description=="function"?await e.description(`HTTP error! status: ${i.status}`):e.description;this.create({id:n,type:"error",message:o,description:a})}else if(e.success!==void 0){s=!1;let o=typeof e.success=="function"?await e.success(i):e.success,a=typeof e.description=="function"?await e.description(i):e.description;this.create({id:n,type:"success",message:o,description:a})}}).catch(async i=>{if(e.error!==void 0){s=!1;let o=typeof e.error=="function"?await e.error(i):e.error,a=typeof e.description=="function"?await e.description(i):e.description;this.create({id:n,type:"error",message:o,description:a})}}).finally(()=>{var i;s&&(this.dismiss(n),n=void 0),(i=e.finally)==null||i.call(e)}),n},this.custom=(t,e)=>{let n=(e==null?void 0:e.id)||zv++;return this.create({jsx:t(n),id:n,...e}),n},this.subscribers=[],this.toasts=[]}},Yn=new BU,UU=(t,e)=>{let n=(e==null?void 0:e.id)||zv++;return Yn.addToast({title:t,...e,id:n}),n},qU=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",GU=UU,$U=()=>Yn.toasts;Object.assign(GU,{success:Yn.success,info:Yn.info,warning:Yn.warning,error:Yn.error,custom:Yn.custom,message:Yn.message,promise:Yn.promise,dismiss:Yn.dismiss,loading:Yn.loading},{getHistory:$U});function zU(t,{insertAt:e}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}zU(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999}:where([data-sonner-toaster][data-x-position="right"]){right:max(var(--offset),env(safe-area-inset-right))}:where([data-sonner-toaster][data-x-position="left"]){left:max(var(--offset),env(safe-area-inset-left))}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:max(var(--offset),env(safe-area-inset-top))}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:max(var(--offset),env(safe-area-inset-bottom))}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;background:var(--gray1);color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:0;right:0;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount, 0px));transition:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation:swipe-out .2s ease-out forwards}@keyframes swipe-out{0%{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount)));opacity:1}to{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount) + var(--lift) * -100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;--mobile-offset: 16px;right:var(--mobile-offset);left:var(--mobile-offset);width:100%}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset)}[data-sonner-toaster][data-y-position=bottom]{bottom:20px}[data-sonner-toaster][data-y-position=top]{top:20px}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset);right:var(--mobile-offset);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Uh(t){return t.label!==void 0}var WU=3,KU="32px",YU=4e3,QU=356,HU=14,JU=20,XU=200;function ZU(...t){return t.filter(Boolean).join(" ")}var e8=t=>{var e,n,r,s,i,o,a,l,c,d;let{invert:f,toast:h,unstyled:v,interacting:E,setHeights:y,visibleToasts:b,heights:C,index:w,toasts:_,expanded:R,removeToast:O,defaultRichColors:j,closeButton:S,style:I,cancelButtonStyle:k,actionButtonStyle:M,className:V="",descriptionClassName:F="",duration:D,position:re,gap:se,loadingIcon:ne,expandByDefault:pe,classNames:q,icons:W,closeButtonAriaLabel:ie="Close toast",pauseWhenPageIsHidden:ee,cn:ae}=t,[ce,Re]=Y.useState(!1),[ke,Ee]=Y.useState(!1),[te,ge]=Y.useState(!1),[we,Ce]=Y.useState(!1),[Ae,_e]=Y.useState(0),[de,ve]=Y.useState(0),ht=Y.useRef(null),st=Y.useRef(null),Pt=w===0,Je=w+1<=b,ft=h.type,an=h.dismissible!==!1,Er=h.className||"",fs=h.descriptionClassName||"",or=Y.useMemo(()=>C.findIndex(be=>be.toastId===h.id)||0,[C,h.id]),ps=Y.useMemo(()=>{var be;return(be=h.closeButton)!=null?be:S},[h.closeButton,S]),Co=Y.useMemo(()=>h.duration||D||YU,[h.duration,D]),_t=Y.useRef(0),pt=Y.useRef(0),ms=Y.useRef(0),Cr=Y.useRef(null),[xo,Js]=re.split("-"),ar=Y.useMemo(()=>C.reduce((be,Be,Qe)=>Qe>=or?be:be+Be.height,0),[C,or]),xr=jU(),_r=h.invert||f,En=ft==="loading";pt.current=Y.useMemo(()=>or*se+ar,[or,ar]),Y.useEffect(()=>{Re(!0)},[]),Y.useLayoutEffect(()=>{if(!ce)return;let be=st.current,Be=be.style.height;be.style.height="auto";let Qe=be.getBoundingClientRect().height;be.style.height=Be,ve(Qe),y(qt=>qt.find(ln=>ln.toastId===h.id)?qt.map(ln=>ln.toastId===h.id?{...ln,height:Qe}:ln):[{toastId:h.id,height:Qe,position:h.position},...qt])},[ce,h.title,h.description,y,h.id]);let Cn=Y.useCallback(()=>{Ee(!0),_e(pt.current),y(be=>be.filter(Be=>Be.toastId!==h.id)),setTimeout(()=>{O(h)},XU)},[h,O,y,pt]);Y.useEffect(()=>{if(h.promise&&ft==="loading"||h.duration===1/0||h.type==="loading")return;let be,Be=Co;return R||E||ee&&xr?(()=>{if(ms.current<_t.current){let Qe=new Date().getTime()-_t.current;Be=Be-Qe}ms.current=new Date().getTime()})():Be!==1/0&&(_t.current=new Date().getTime(),be=setTimeout(()=>{var Qe;(Qe=h.onAutoClose)==null||Qe.call(h,h),Cn()},Be)),()=>clearTimeout(be)},[R,E,pe,h,Co,Cn,h.promise,ft,ee,xr]),Y.useEffect(()=>{let be=st.current;if(be){let Be=be.getBoundingClientRect().height;return ve(Be),y(Qe=>[{toastId:h.id,height:Be,position:h.position},...Qe]),()=>y(Qe=>Qe.filter(qt=>qt.toastId!==h.id))}},[y,h.id]),Y.useEffect(()=>{h.delete&&Cn()},[Cn,h.delete]);function pc(){return W!=null&&W.loading?Y.createElement("div",{className:"sonner-loader","data-visible":ft==="loading"},W.loading):ne?Y.createElement("div",{className:"sonner-loader","data-visible":ft==="loading"},ne):Y.createElement(DU,{visible:ft==="loading"})}return Y.createElement("li",{"aria-live":h.important?"assertive":"polite","aria-atomic":"true",role:"status",tabIndex:0,ref:st,className:ae(V,Er,q==null?void 0:q.toast,(e=h==null?void 0:h.classNames)==null?void 0:e.toast,q==null?void 0:q.default,q==null?void 0:q[ft],(n=h==null?void 0:h.classNames)==null?void 0:n[ft]),"data-sonner-toast":"","data-rich-colors":(r=h.richColors)!=null?r:j,"data-styled":!(h.jsx||h.unstyled||v),"data-mounted":ce,"data-promise":!!h.promise,"data-removed":ke,"data-visible":Je,"data-y-position":xo,"data-x-position":Js,"data-index":w,"data-front":Pt,"data-swiping":te,"data-dismissible":an,"data-type":ft,"data-invert":_r,"data-swipe-out":we,"data-expanded":!!(R||pe&&ce),style:{"--index":w,"--toasts-before":w,"--z-index":_.length-w,"--offset":`${ke?Ae:pt.current}px`,"--initial-height":pe?"auto":`${de}px`,...I,...h.style},onPointerDown:be=>{En||!an||(ht.current=new Date,_e(pt.current),be.target.setPointerCapture(be.pointerId),be.target.tagName!=="BUTTON"&&(ge(!0),Cr.current={x:be.clientX,y:be.clientY}))},onPointerUp:()=>{var be,Be,Qe,qt;if(we||!an)return;Cr.current=null;let ln=Number(((be=st.current)==null?void 0:be.style.getPropertyValue("--swipe-amount").replace("px",""))||0),Tr=new Date().getTime()-((Be=ht.current)==null?void 0:Be.getTime()),lt=Math.abs(ln)/Tr;if(Math.abs(ln)>=JU||lt>.11){_e(pt.current),(Qe=h.onDismiss)==null||Qe.call(h,h),Cn(),Ce(!0);return}(qt=st.current)==null||qt.style.setProperty("--swipe-amount","0px"),ge(!1)},onPointerMove:be=>{var Be;if(!Cr.current||!an)return;let Qe=be.clientY-Cr.current.y,qt=be.clientX-Cr.current.x,ln=(xo==="top"?Math.min:Math.max)(0,Qe),Tr=be.pointerType==="touch"?10:2;Math.abs(ln)>Tr?(Be=st.current)==null||Be.style.setProperty("--swipe-amount",`${Qe}px`):Math.abs(qt)>Tr&&(Cr.current=null)}},ps&&!h.jsx?Y.createElement("button",{"aria-label":ie,"data-disabled":En,"data-close-button":!0,onClick:En||!an?()=>{}:()=>{var be;Cn(),(be=h.onDismiss)==null||be.call(h,h)},className:ae(q==null?void 0:q.closeButton,(s=h==null?void 0:h.classNames)==null?void 0:s.closeButton)},Y.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},Y.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),Y.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"}))):null,h.jsx||Y.isValidElement(h.title)?h.jsx||h.title:Y.createElement(Y.Fragment,null,ft||h.icon||h.promise?Y.createElement("div",{"data-icon":"",className:ae(q==null?void 0:q.icon,(i=h==null?void 0:h.classNames)==null?void 0:i.icon)},h.promise||h.type==="loading"&&!h.icon?h.icon||pc():null,h.type!=="loading"?h.icon||(W==null?void 0:W[ft])||kU(ft):null):null,Y.createElement("div",{"data-content":"",className:ae(q==null?void 0:q.content,(o=h==null?void 0:h.classNames)==null?void 0:o.content)},Y.createElement("div",{"data-title":"",className:ae(q==null?void 0:q.title,(a=h==null?void 0:h.classNames)==null?void 0:a.title)},h.title),h.description?Y.createElement("div",{"data-description":"",className:ae(F,fs,q==null?void 0:q.description,(l=h==null?void 0:h.classNames)==null?void 0:l.description)},h.description):null),Y.isValidElement(h.cancel)?h.cancel:h.cancel&&Uh(h.cancel)?Y.createElement("button",{"data-button":!0,"data-cancel":!0,style:h.cancelButtonStyle||k,onClick:be=>{var Be,Qe;Uh(h.cancel)&&an&&((Qe=(Be=h.cancel).onClick)==null||Qe.call(Be,be),Cn())},className:ae(q==null?void 0:q.cancelButton,(c=h==null?void 0:h.classNames)==null?void 0:c.cancelButton)},h.cancel.label):null,Y.isValidElement(h.action)?h.action:h.action&&Uh(h.action)?Y.createElement("button",{"data-button":!0,"data-action":!0,style:h.actionButtonStyle||M,onClick:be=>{var Be,Qe;Uh(h.action)&&(be.defaultPrevented||((Qe=(Be=h.action).onClick)==null||Qe.call(Be,be),Cn()))},className:ae(q==null?void 0:q.actionButton,(d=h==null?void 0:h.classNames)==null?void 0:d.actionButton)},h.action.label):null))};function v_(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}var t8=t=>{let{invert:e,position:n="bottom-right",hotkey:r=["altKey","KeyT"],expand:s,closeButton:i,className:o,offset:a,theme:l="light",richColors:c,duration:d,style:f,visibleToasts:h=WU,toastOptions:v,dir:E=v_(),gap:y=HU,loadingIcon:b,icons:C,containerAriaLabel:w="Notifications",pauseWhenPageIsHidden:_,cn:R=ZU}=t,[O,j]=Y.useState([]),S=Y.useMemo(()=>Array.from(new Set([n].concat(O.filter(ee=>ee.position).map(ee=>ee.position)))),[O,n]),[I,k]=Y.useState([]),[M,V]=Y.useState(!1),[F,D]=Y.useState(!1),[re,se]=Y.useState(l!=="system"?l:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),ne=Y.useRef(null),pe=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),q=Y.useRef(null),W=Y.useRef(!1),ie=Y.useCallback(ee=>{var ae;(ae=O.find(ce=>ce.id===ee.id))!=null&&ae.delete||Yn.dismiss(ee.id),j(ce=>ce.filter(({id:Re})=>Re!==ee.id))},[O]);return Y.useEffect(()=>Yn.subscribe(ee=>{if(ee.dismiss){j(ae=>ae.map(ce=>ce.id===ee.id?{...ce,delete:!0}:ce));return}setTimeout(()=>{jb.flushSync(()=>{j(ae=>{let ce=ae.findIndex(Re=>Re.id===ee.id);return ce!==-1?[...ae.slice(0,ce),{...ae[ce],...ee},...ae.slice(ce+1)]:[ee,...ae]})})})}),[]),Y.useEffect(()=>{if(l!=="system"){se(l);return}l==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?se("dark"):se("light")),typeof window<"u"&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",({matches:ee})=>{se(ee?"dark":"light")})},[l]),Y.useEffect(()=>{O.length<=1&&V(!1)},[O]),Y.useEffect(()=>{let ee=ae=>{var ce,Re;r.every(ke=>ae[ke]||ae.code===ke)&&(V(!0),(ce=ne.current)==null||ce.focus()),ae.code==="Escape"&&(document.activeElement===ne.current||(Re=ne.current)!=null&&Re.contains(document.activeElement))&&V(!1)};return document.addEventListener("keydown",ee),()=>document.removeEventListener("keydown",ee)},[r]),Y.useEffect(()=>{if(ne.current)return()=>{q.current&&(q.current.focus({preventScroll:!0}),q.current=null,W.current=!1)}},[ne.current]),O.length?Y.createElement("section",{"aria-label":`${w} ${pe}`,tabIndex:-1},S.map((ee,ae)=>{var ce;let[Re,ke]=ee.split("-");return Y.createElement("ol",{key:ee,dir:E==="auto"?v_():E,tabIndex:-1,ref:ne,className:o,"data-sonner-toaster":!0,"data-theme":re,"data-y-position":Re,"data-x-position":ke,style:{"--front-toast-height":`${((ce=I[0])==null?void 0:ce.height)||0}px`,"--offset":typeof a=="number"?`${a}px`:a||KU,"--width":`${QU}px`,"--gap":`${y}px`,...f},onBlur:Ee=>{W.current&&!Ee.currentTarget.contains(Ee.relatedTarget)&&(W.current=!1,q.current&&(q.current.focus({preventScroll:!0}),q.current=null))},onFocus:Ee=>{Ee.target instanceof HTMLElement&&Ee.target.dataset.dismissible==="false"||W.current||(W.current=!0,q.current=Ee.relatedTarget)},onMouseEnter:()=>V(!0),onMouseMove:()=>V(!0),onMouseLeave:()=>{F||V(!1)},onPointerDown:Ee=>{Ee.target instanceof HTMLElement&&Ee.target.dataset.dismissible==="false"||D(!0)},onPointerUp:()=>D(!1)},O.filter(Ee=>!Ee.position&&ae===0||Ee.position===ee).map((Ee,te)=>{var ge,we;return Y.createElement(e8,{key:Ee.id,icons:C,index:te,toast:Ee,defaultRichColors:c,duration:(ge=v==null?void 0:v.duration)!=null?ge:d,className:v==null?void 0:v.className,descriptionClassName:v==null?void 0:v.descriptionClassName,invert:e,visibleToasts:h,closeButton:(we=v==null?void 0:v.closeButton)!=null?we:i,interacting:F,position:ee,style:v==null?void 0:v.style,unstyled:v==null?void 0:v.unstyled,classNames:v==null?void 0:v.classNames,cancelButtonStyle:v==null?void 0:v.cancelButtonStyle,actionButtonStyle:v==null?void 0:v.actionButtonStyle,removeToast:ie,toasts:O.filter(Ce=>Ce.position==Ee.position),heights:I.filter(Ce=>Ce.position==Ee.position),setHeights:k,expandByDefault:s,gap:y,loadingIcon:b,expanded:M,pauseWhenPageIsHidden:_,cn:R})}))})):null};const n8=({...t})=>{const{theme:e="system"}=NU();return p.jsx(t8,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})};var r8=LT.useId||(()=>{}),s8=0;function Yo(t){const[e,n]=g.useState(r8());return Qt(()=>{n(r=>r??String(s8++))},[t]),e?`radix-${e}`:""}const i8=["top","right","bottom","left"],ro=Math.min,Hn=Math.max,xp=Math.round,qh=Math.floor,so=t=>({x:t,y:t}),o8={left:"right",right:"left",bottom:"top",top:"bottom"},a8={start:"end",end:"start"};function Wv(t,e,n){return Hn(t,ro(e,n))}function zs(t,e){return typeof t=="function"?t(e):t}function Ws(t){return t.split("-")[0]}function lc(t){return t.split("-")[1]}function RE(t){return t==="x"?"y":"x"}function PE(t){return t==="y"?"height":"width"}function io(t){return["top","bottom"].includes(Ws(t))?"y":"x"}function NE(t){return RE(io(t))}function l8(t,e,n){n===void 0&&(n=!1);const r=lc(t),s=NE(t),i=PE(s);let o=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(o=_p(o)),[o,_p(o)]}function c8(t){const e=_p(t);return[Kv(t),e,Kv(e)]}function Kv(t){return t.replace(/start|end/g,e=>a8[e])}function u8(t,e,n){const r=["left","right"],s=["right","left"],i=["top","bottom"],o=["bottom","top"];switch(t){case"top":case"bottom":return n?e?s:r:e?r:s;case"left":case"right":return e?i:o;default:return[]}}function d8(t,e,n,r){const s=lc(t);let i=u8(Ws(t),n==="start",r);return s&&(i=i.map(o=>o+"-"+s),e&&(i=i.concat(i.map(Kv)))),i}function _p(t){return t.replace(/left|right|bottom|top/g,e=>o8[e])}function h8(t){return{top:0,right:0,bottom:0,left:0,...t}}function sP(t){return typeof t!="number"?h8(t):{top:t,right:t,bottom:t,left:t}}function Tp(t){const{x:e,y:n,width:r,height:s}=t;return{width:r,height:s,top:n,left:e,right:e+r,bottom:n+s,x:e,y:n}}function w_(t,e,n){let{reference:r,floating:s}=t;const i=io(e),o=NE(e),a=PE(o),l=Ws(e),c=i==="y",d=r.x+r.width/2-s.width/2,f=r.y+r.height/2-s.height/2,h=r[a]/2-s[a]/2;let v;switch(l){case"top":v={x:d,y:r.y-s.height};break;case"bottom":v={x:d,y:r.y+r.height};break;case"right":v={x:r.x+r.width,y:f};break;case"left":v={x:r.x-s.width,y:f};break;default:v={x:r.x,y:r.y}}switch(lc(e)){case"start":v[o]-=h*(n&&c?-1:1);break;case"end":v[o]+=h*(n&&c?-1:1);break}return v}const f8=async(t,e,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:i=[],platform:o}=n,a=i.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let c=await o.getElementRects({reference:t,floating:e,strategy:s}),{x:d,y:f}=w_(c,r,l),h=r,v={},E=0;for(let y=0;y<a.length;y++){const{name:b,fn:C}=a[y],{x:w,y:_,data:R,reset:O}=await C({x:d,y:f,initialPlacement:r,placement:h,strategy:s,middlewareData:v,rects:c,platform:o,elements:{reference:t,floating:e}});d=w??d,f=_??f,v={...v,[b]:{...v[b],...R}},O&&E<=50&&(E++,typeof O=="object"&&(O.placement&&(h=O.placement),O.rects&&(c=O.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:s}):O.rects),{x:d,y:f}=w_(c,h,l)),y=-1)}return{x:d,y:f,placement:h,strategy:s,middlewareData:v}};async function Wu(t,e){var n;e===void 0&&(e={});const{x:r,y:s,platform:i,rects:o,elements:a,strategy:l}=t,{boundary:c="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:h=!1,padding:v=0}=zs(e,t),E=sP(v),b=a[h?f==="floating"?"reference":"floating":f],C=Tp(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(b)))==null||n?b:b.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(a.floating)),boundary:c,rootBoundary:d,strategy:l})),w=f==="floating"?{x:r,y:s,width:o.floating.width,height:o.floating.height}:o.reference,_=await(i.getOffsetParent==null?void 0:i.getOffsetParent(a.floating)),R=await(i.isElement==null?void 0:i.isElement(_))?await(i.getScale==null?void 0:i.getScale(_))||{x:1,y:1}:{x:1,y:1},O=Tp(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:w,offsetParent:_,strategy:l}):w);return{top:(C.top-O.top+E.top)/R.y,bottom:(O.bottom-C.bottom+E.bottom)/R.y,left:(C.left-O.left+E.left)/R.x,right:(O.right-C.right+E.right)/R.x}}const p8=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:s,rects:i,platform:o,elements:a,middlewareData:l}=e,{element:c,padding:d=0}=zs(t,e)||{};if(c==null)return{};const f=sP(d),h={x:n,y:r},v=NE(s),E=PE(v),y=await o.getDimensions(c),b=v==="y",C=b?"top":"left",w=b?"bottom":"right",_=b?"clientHeight":"clientWidth",R=i.reference[E]+i.reference[v]-h[v]-i.floating[E],O=h[v]-i.reference[v],j=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c));let S=j?j[_]:0;(!S||!await(o.isElement==null?void 0:o.isElement(j)))&&(S=a.floating[_]||i.floating[E]);const I=R/2-O/2,k=S/2-y[E]/2-1,M=ro(f[C],k),V=ro(f[w],k),F=M,D=S-y[E]-V,re=S/2-y[E]/2+I,se=Wv(F,re,D),ne=!l.arrow&&lc(s)!=null&&re!==se&&i.reference[E]/2-(re<F?M:V)-y[E]/2<0,pe=ne?re<F?re-F:re-D:0;return{[v]:h[v]+pe,data:{[v]:se,centerOffset:re-se-pe,...ne&&{alignmentOffset:pe}},reset:ne}}}),m8=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:s,middlewareData:i,rects:o,initialPlacement:a,platform:l,elements:c}=e,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:h,fallbackStrategy:v="bestFit",fallbackAxisSideDirection:E="none",flipAlignment:y=!0,...b}=zs(t,e);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const C=Ws(s),w=io(a),_=Ws(a)===a,R=await(l.isRTL==null?void 0:l.isRTL(c.floating)),O=h||(_||!y?[_p(a)]:c8(a)),j=E!=="none";!h&&j&&O.push(...d8(a,y,E,R));const S=[a,...O],I=await Wu(e,b),k=[];let M=((r=i.flip)==null?void 0:r.overflows)||[];if(d&&k.push(I[C]),f){const re=l8(s,o,R);k.push(I[re[0]],I[re[1]])}if(M=[...M,{placement:s,overflows:k}],!k.every(re=>re<=0)){var V,F;const re=(((V=i.flip)==null?void 0:V.index)||0)+1,se=S[re];if(se)return{data:{index:re,overflows:M},reset:{placement:se}};let ne=(F=M.filter(pe=>pe.overflows[0]<=0).sort((pe,q)=>pe.overflows[1]-q.overflows[1])[0])==null?void 0:F.placement;if(!ne)switch(v){case"bestFit":{var D;const pe=(D=M.filter(q=>{if(j){const W=io(q.placement);return W===w||W==="y"}return!0}).map(q=>[q.placement,q.overflows.filter(W=>W>0).reduce((W,ie)=>W+ie,0)]).sort((q,W)=>q[1]-W[1])[0])==null?void 0:D[0];pe&&(ne=pe);break}case"initialPlacement":ne=a;break}if(s!==ne)return{reset:{placement:ne}}}return{}}}};function E_(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function C_(t){return i8.some(e=>t[e]>=0)}const g8=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...s}=zs(t,e);switch(r){case"referenceHidden":{const i=await Wu(e,{...s,elementContext:"reference"}),o=E_(i,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:C_(o)}}}case"escaped":{const i=await Wu(e,{...s,altBoundary:!0}),o=E_(i,n.floating);return{data:{escapedOffsets:o,escaped:C_(o)}}}default:return{}}}}};async function y8(t,e){const{placement:n,platform:r,elements:s}=t,i=await(r.isRTL==null?void 0:r.isRTL(s.floating)),o=Ws(n),a=lc(n),l=io(n)==="y",c=["left","top"].includes(o)?-1:1,d=i&&l?-1:1,f=zs(e,t);let{mainAxis:h,crossAxis:v,alignmentAxis:E}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return a&&typeof E=="number"&&(v=a==="end"?E*-1:E),l?{x:v*d,y:h*c}:{x:h*c,y:v*d}}const v8=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:s,y:i,placement:o,middlewareData:a}=e,l=await y8(e,t);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:s+l.x,y:i+l.y,data:{...l,placement:o}}}}},w8=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:s}=e,{mainAxis:i=!0,crossAxis:o=!1,limiter:a={fn:b=>{let{x:C,y:w}=b;return{x:C,y:w}}},...l}=zs(t,e),c={x:n,y:r},d=await Wu(e,l),f=io(Ws(s)),h=RE(f);let v=c[h],E=c[f];if(i){const b=h==="y"?"top":"left",C=h==="y"?"bottom":"right",w=v+d[b],_=v-d[C];v=Wv(w,v,_)}if(o){const b=f==="y"?"top":"left",C=f==="y"?"bottom":"right",w=E+d[b],_=E-d[C];E=Wv(w,E,_)}const y=a.fn({...e,[h]:v,[f]:E});return{...y,data:{x:y.x-n,y:y.y-r,enabled:{[h]:i,[f]:o}}}}}},E8=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:s,rects:i,middlewareData:o}=e,{offset:a=0,mainAxis:l=!0,crossAxis:c=!0}=zs(t,e),d={x:n,y:r},f=io(s),h=RE(f);let v=d[h],E=d[f];const y=zs(a,e),b=typeof y=="number"?{mainAxis:y,crossAxis:0}:{mainAxis:0,crossAxis:0,...y};if(l){const _=h==="y"?"height":"width",R=i.reference[h]-i.floating[_]+b.mainAxis,O=i.reference[h]+i.reference[_]-b.mainAxis;v<R?v=R:v>O&&(v=O)}if(c){var C,w;const _=h==="y"?"width":"height",R=["top","left"].includes(Ws(s)),O=i.reference[f]-i.floating[_]+(R&&((C=o.offset)==null?void 0:C[f])||0)+(R?0:b.crossAxis),j=i.reference[f]+i.reference[_]+(R?0:((w=o.offset)==null?void 0:w[f])||0)-(R?b.crossAxis:0);E<O?E=O:E>j&&(E=j)}return{[h]:v,[f]:E}}}},C8=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:s,rects:i,platform:o,elements:a}=e,{apply:l=()=>{},...c}=zs(t,e),d=await Wu(e,c),f=Ws(s),h=lc(s),v=io(s)==="y",{width:E,height:y}=i.floating;let b,C;f==="top"||f==="bottom"?(b=f,C=h===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(C=f,b=h==="end"?"top":"bottom");const w=y-d.top-d.bottom,_=E-d.left-d.right,R=ro(y-d[b],w),O=ro(E-d[C],_),j=!e.middlewareData.shift;let S=R,I=O;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(I=_),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(S=w),j&&!h){const M=Hn(d.left,0),V=Hn(d.right,0),F=Hn(d.top,0),D=Hn(d.bottom,0);v?I=E-2*(M!==0||V!==0?M+V:Hn(d.left,d.right)):S=y-2*(F!==0||D!==0?F+D:Hn(d.top,d.bottom))}await l({...e,availableWidth:I,availableHeight:S});const k=await o.getDimensions(a.floating);return E!==k.width||y!==k.height?{reset:{rects:!0}}:{}}}};function bm(){return typeof window<"u"}function cc(t){return iP(t)?(t.nodeName||"").toLowerCase():"#document"}function tr(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function us(t){var e;return(e=(iP(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function iP(t){return bm()?t instanceof Node||t instanceof tr(t).Node:!1}function qr(t){return bm()?t instanceof Element||t instanceof tr(t).Element:!1}function cs(t){return bm()?t instanceof HTMLElement||t instanceof tr(t).HTMLElement:!1}function x_(t){return!bm()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof tr(t).ShadowRoot}function Ad(t){const{overflow:e,overflowX:n,overflowY:r,display:s}=Gr(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(s)}function x8(t){return["table","td","th"].includes(cc(t))}function Im(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function kE(t){const e=ME(),n=qr(t)?Gr(t):t;return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function _8(t){let e=oo(t);for(;cs(e)&&!ql(e);){if(kE(e))return e;if(Im(e))return null;e=oo(e)}return null}function ME(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function ql(t){return["html","body","#document"].includes(cc(t))}function Gr(t){return tr(t).getComputedStyle(t)}function Sm(t){return qr(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function oo(t){if(cc(t)==="html")return t;const e=t.assignedSlot||t.parentNode||x_(t)&&t.host||us(t);return x_(e)?e.host:e}function oP(t){const e=oo(t);return ql(e)?t.ownerDocument?t.ownerDocument.body:t.body:cs(e)&&Ad(e)?e:oP(e)}function Ku(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const s=oP(t),i=s===((r=t.ownerDocument)==null?void 0:r.body),o=tr(s);if(i){const a=Yv(o);return e.concat(o,o.visualViewport||[],Ad(s)?s:[],a&&n?Ku(a):[])}return e.concat(s,Ku(s,[],n))}function Yv(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function aP(t){const e=Gr(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=cs(t),i=s?t.offsetWidth:n,o=s?t.offsetHeight:r,a=xp(n)!==i||xp(r)!==o;return a&&(n=i,r=o),{width:n,height:r,$:a}}function DE(t){return qr(t)?t:t.contextElement}function yl(t){const e=DE(t);if(!cs(e))return so(1);const n=e.getBoundingClientRect(),{width:r,height:s,$:i}=aP(e);let o=(i?xp(n.width):n.width)/r,a=(i?xp(n.height):n.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const T8=so(0);function lP(t){const e=tr(t);return!ME()||!e.visualViewport?T8:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function A8(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==tr(t)?!1:e}function ca(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const s=t.getBoundingClientRect(),i=DE(t);let o=so(1);e&&(r?qr(r)&&(o=yl(r)):o=yl(t));const a=A8(i,n,r)?lP(i):so(0);let l=(s.left+a.x)/o.x,c=(s.top+a.y)/o.y,d=s.width/o.x,f=s.height/o.y;if(i){const h=tr(i),v=r&&qr(r)?tr(r):r;let E=h,y=Yv(E);for(;y&&r&&v!==E;){const b=yl(y),C=y.getBoundingClientRect(),w=Gr(y),_=C.left+(y.clientLeft+parseFloat(w.paddingLeft))*b.x,R=C.top+(y.clientTop+parseFloat(w.paddingTop))*b.y;l*=b.x,c*=b.y,d*=b.x,f*=b.y,l+=_,c+=R,E=tr(y),y=Yv(E)}}return Tp({width:d,height:f,x:l,y:c})}function b8(t){let{elements:e,rect:n,offsetParent:r,strategy:s}=t;const i=s==="fixed",o=us(r),a=e?Im(e.floating):!1;if(r===o||a&&i)return n;let l={scrollLeft:0,scrollTop:0},c=so(1);const d=so(0),f=cs(r);if((f||!f&&!i)&&((cc(r)!=="body"||Ad(o))&&(l=Sm(r)),cs(r))){const h=ca(r);c=yl(r),d.x=h.x+r.clientLeft,d.y=h.y+r.clientTop}return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+d.x,y:n.y*c.y-l.scrollTop*c.y+d.y}}function I8(t){return Array.from(t.getClientRects())}function Qv(t,e){const n=Sm(t).scrollLeft;return e?e.left+n:ca(us(t)).left+n}function S8(t){const e=us(t),n=Sm(t),r=t.ownerDocument.body,s=Hn(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),i=Hn(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+Qv(t);const a=-n.scrollTop;return Gr(r).direction==="rtl"&&(o+=Hn(e.clientWidth,r.clientWidth)-s),{width:s,height:i,x:o,y:a}}function R8(t,e){const n=tr(t),r=us(t),s=n.visualViewport;let i=r.clientWidth,o=r.clientHeight,a=0,l=0;if(s){i=s.width,o=s.height;const c=ME();(!c||c&&e==="fixed")&&(a=s.offsetLeft,l=s.offsetTop)}return{width:i,height:o,x:a,y:l}}function P8(t,e){const n=ca(t,!0,e==="fixed"),r=n.top+t.clientTop,s=n.left+t.clientLeft,i=cs(t)?yl(t):so(1),o=t.clientWidth*i.x,a=t.clientHeight*i.y,l=s*i.x,c=r*i.y;return{width:o,height:a,x:l,y:c}}function __(t,e,n){let r;if(e==="viewport")r=R8(t,n);else if(e==="document")r=S8(us(t));else if(qr(e))r=P8(e,n);else{const s=lP(t);r={...e,x:e.x-s.x,y:e.y-s.y}}return Tp(r)}function cP(t,e){const n=oo(t);return n===e||!qr(n)||ql(n)?!1:Gr(n).position==="fixed"||cP(n,e)}function N8(t,e){const n=e.get(t);if(n)return n;let r=Ku(t,[],!1).filter(a=>qr(a)&&cc(a)!=="body"),s=null;const i=Gr(t).position==="fixed";let o=i?oo(t):t;for(;qr(o)&&!ql(o);){const a=Gr(o),l=kE(o);!l&&a.position==="fixed"&&(s=null),(i?!l&&!s:!l&&a.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||Ad(o)&&!l&&cP(t,o))?r=r.filter(d=>d!==o):s=a,o=oo(o)}return e.set(t,r),r}function k8(t){let{element:e,boundary:n,rootBoundary:r,strategy:s}=t;const o=[...n==="clippingAncestors"?Im(e)?[]:N8(e,this._c):[].concat(n),r],a=o[0],l=o.reduce((c,d)=>{const f=__(e,d,s);return c.top=Hn(f.top,c.top),c.right=ro(f.right,c.right),c.bottom=ro(f.bottom,c.bottom),c.left=Hn(f.left,c.left),c},__(e,a,s));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function M8(t){const{width:e,height:n}=aP(t);return{width:e,height:n}}function D8(t,e,n){const r=cs(e),s=us(e),i=n==="fixed",o=ca(t,!0,i,e);let a={scrollLeft:0,scrollTop:0};const l=so(0);if(r||!r&&!i)if((cc(e)!=="body"||Ad(s))&&(a=Sm(e)),r){const v=ca(e,!0,i,e);l.x=v.x+e.clientLeft,l.y=v.y+e.clientTop}else s&&(l.x=Qv(s));let c=0,d=0;if(s&&!r&&!i){const v=s.getBoundingClientRect();d=v.top+a.scrollTop,c=v.left+a.scrollLeft-Qv(s,v)}const f=o.left+a.scrollLeft-l.x-c,h=o.top+a.scrollTop-l.y-d;return{x:f,y:h,width:o.width,height:o.height}}function Zg(t){return Gr(t).position==="static"}function T_(t,e){if(!cs(t)||Gr(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return us(t)===n&&(n=n.ownerDocument.body),n}function uP(t,e){const n=tr(t);if(Im(t))return n;if(!cs(t)){let s=oo(t);for(;s&&!ql(s);){if(qr(s)&&!Zg(s))return s;s=oo(s)}return n}let r=T_(t,e);for(;r&&x8(r)&&Zg(r);)r=T_(r,e);return r&&ql(r)&&Zg(r)&&!kE(r)?n:r||_8(t)||n}const O8=async function(t){const e=this.getOffsetParent||uP,n=this.getDimensions,r=await n(t.floating);return{reference:D8(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function L8(t){return Gr(t).direction==="rtl"}const V8={convertOffsetParentRelativeRectToViewportRelativeRect:b8,getDocumentElement:us,getClippingRect:k8,getOffsetParent:uP,getElementRects:O8,getClientRects:I8,getDimensions:M8,getScale:yl,isElement:qr,isRTL:L8};function F8(t,e){let n=null,r;const s=us(t);function i(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),i();const{left:c,top:d,width:f,height:h}=t.getBoundingClientRect();if(a||e(),!f||!h)return;const v=qh(d),E=qh(s.clientWidth-(c+f)),y=qh(s.clientHeight-(d+h)),b=qh(c),w={rootMargin:-v+"px "+-E+"px "+-y+"px "+-b+"px",threshold:Hn(0,ro(1,l))||1};let _=!0;function R(O){const j=O[0].intersectionRatio;if(j!==l){if(!_)return o();j?o(!1,j):r=setTimeout(()=>{o(!1,1e-7)},1e3)}_=!1}try{n=new IntersectionObserver(R,{...w,root:s.ownerDocument})}catch{n=new IntersectionObserver(R,w)}n.observe(t)}return o(!0),i}function j8(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=DE(t),d=s||i?[...c?Ku(c):[],...Ku(e)]:[];d.forEach(C=>{s&&C.addEventListener("scroll",n,{passive:!0}),i&&C.addEventListener("resize",n)});const f=c&&a?F8(c,n):null;let h=-1,v=null;o&&(v=new ResizeObserver(C=>{let[w]=C;w&&w.target===c&&v&&(v.unobserve(e),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var _;(_=v)==null||_.observe(e)})),n()}),c&&!l&&v.observe(c),v.observe(e));let E,y=l?ca(t):null;l&&b();function b(){const C=ca(t);y&&(C.x!==y.x||C.y!==y.y||C.width!==y.width||C.height!==y.height)&&n(),y=C,E=requestAnimationFrame(b)}return n(),()=>{var C;d.forEach(w=>{s&&w.removeEventListener("scroll",n),i&&w.removeEventListener("resize",n)}),f==null||f(),(C=v)==null||C.disconnect(),v=null,l&&cancelAnimationFrame(E)}}const B8=v8,U8=w8,q8=m8,G8=C8,$8=g8,A_=p8,z8=E8,W8=(t,e,n)=>{const r=new Map,s={platform:V8,...n},i={...s.platform,_c:r};return f8(t,e,{...s,platform:i})};var xf=typeof document<"u"?g.useLayoutEffect:g.useEffect;function Ap(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!Ap(t[r],e[r]))return!1;return!0}if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=n;r--!==0;){const i=s[r];if(!(i==="_owner"&&t.$$typeof)&&!Ap(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function dP(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function b_(t,e){const n=dP(t);return Math.round(e*n)/n}function ey(t){const e=g.useRef(t);return xf(()=>{e.current=t}),e}function K8(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:i,floating:o}={},transform:a=!0,whileElementsMounted:l,open:c}=t,[d,f]=g.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[h,v]=g.useState(r);Ap(h,r)||v(r);const[E,y]=g.useState(null),[b,C]=g.useState(null),w=g.useCallback(q=>{q!==j.current&&(j.current=q,y(q))},[]),_=g.useCallback(q=>{q!==S.current&&(S.current=q,C(q))},[]),R=i||E,O=o||b,j=g.useRef(null),S=g.useRef(null),I=g.useRef(d),k=l!=null,M=ey(l),V=ey(s),F=ey(c),D=g.useCallback(()=>{if(!j.current||!S.current)return;const q={placement:e,strategy:n,middleware:h};V.current&&(q.platform=V.current),W8(j.current,S.current,q).then(W=>{const ie={...W,isPositioned:F.current!==!1};re.current&&!Ap(I.current,ie)&&(I.current=ie,fa.flushSync(()=>{f(ie)}))})},[h,e,n,V,F]);xf(()=>{c===!1&&I.current.isPositioned&&(I.current.isPositioned=!1,f(q=>({...q,isPositioned:!1})))},[c]);const re=g.useRef(!1);xf(()=>(re.current=!0,()=>{re.current=!1}),[]),xf(()=>{if(R&&(j.current=R),O&&(S.current=O),R&&O){if(M.current)return M.current(R,O,D);D()}},[R,O,D,M,k]);const se=g.useMemo(()=>({reference:j,floating:S,setReference:w,setFloating:_}),[w,_]),ne=g.useMemo(()=>({reference:R,floating:O}),[R,O]),pe=g.useMemo(()=>{const q={position:n,left:0,top:0};if(!ne.floating)return q;const W=b_(ne.floating,d.x),ie=b_(ne.floating,d.y);return a?{...q,transform:"translate("+W+"px, "+ie+"px)",...dP(ne.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:W,top:ie}},[n,a,ne.floating,d.x,d.y]);return g.useMemo(()=>({...d,update:D,refs:se,elements:ne,floatingStyles:pe}),[d,D,se,ne,pe])}const Y8=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:s}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?A_({element:r.current,padding:s}).fn(n):{}:r?A_({element:r,padding:s}).fn(n):{}}}},Q8=(t,e)=>({...B8(t),options:[t,e]}),H8=(t,e)=>({...U8(t),options:[t,e]}),J8=(t,e)=>({...z8(t),options:[t,e]}),X8=(t,e)=>({...q8(t),options:[t,e]}),Z8=(t,e)=>({...G8(t),options:[t,e]}),e9=(t,e)=>({...$8(t),options:[t,e]}),t9=(t,e)=>({...Y8(t),options:[t,e]});var n9="Arrow",hP=g.forwardRef((t,e)=>{const{children:n,width:r=10,height:s=5,...i}=t;return p.jsx(Oe.svg,{...i,ref:e,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:p.jsx("polygon",{points:"0,0 30,0 15,10"})})});hP.displayName=n9;var r9=hP;function s9(t,e=[]){let n=[];function r(i,o){const a=g.createContext(o),l=n.length;n=[...n,o];function c(f){const{scope:h,children:v,...E}=f,y=(h==null?void 0:h[t][l])||a,b=g.useMemo(()=>E,Object.values(E));return p.jsx(y.Provider,{value:b,children:v})}function d(f,h){const v=(h==null?void 0:h[t][l])||a,E=g.useContext(v);if(E)return E;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return c.displayName=i+"Provider",[c,d]}const s=()=>{const i=n.map(o=>g.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return g.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,i9(s,...e)]}function i9(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const f=l(i)[`__scope${c}`];return{...a,...f}},{});return g.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function o9(t){const[e,n]=g.useState(void 0);return Qt(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,a;if("borderBoxSize"in i){const l=i.borderBoxSize,c=Array.isArray(l)?l[0]:l;o=c.inlineSize,a=c.blockSize}else o=t.offsetWidth,a=t.offsetHeight;n({width:o,height:a})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var OE="Popper",[fP,uc]=s9(OE),[a9,pP]=fP(OE),mP=t=>{const{__scopePopper:e,children:n}=t,[r,s]=g.useState(null);return p.jsx(a9,{scope:e,anchor:r,onAnchorChange:s,children:n})};mP.displayName=OE;var gP="PopperAnchor",yP=g.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...s}=t,i=pP(gP,n),o=g.useRef(null),a=nt(e,o);return g.useEffect(()=>{i.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:p.jsx(Oe.div,{...s,ref:a})});yP.displayName=gP;var LE="PopperContent",[l9,c9]=fP(LE),vP=g.forwardRef((t,e)=>{var te,ge,we,Ce,Ae,_e;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:i="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:c=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:h=!1,updatePositionStrategy:v="optimized",onPlaced:E,...y}=t,b=pP(LE,n),[C,w]=g.useState(null),_=nt(e,de=>w(de)),[R,O]=g.useState(null),j=o9(R),S=(j==null?void 0:j.width)??0,I=(j==null?void 0:j.height)??0,k=r+(i!=="center"?"-"+i:""),M=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},V=Array.isArray(c)?c:[c],F=V.length>0,D={padding:M,boundary:V.filter(d9),altBoundary:F},{refs:re,floatingStyles:se,placement:ne,isPositioned:pe,middlewareData:q}=K8({strategy:"fixed",placement:k,whileElementsMounted:(...de)=>j8(...de,{animationFrame:v==="always"}),elements:{reference:b.anchor},middleware:[Q8({mainAxis:s+I,alignmentAxis:o}),l&&H8({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?J8():void 0,...D}),l&&X8({...D}),Z8({...D,apply:({elements:de,rects:ve,availableWidth:ht,availableHeight:st})=>{const{width:Pt,height:Je}=ve.reference,ft=de.floating.style;ft.setProperty("--radix-popper-available-width",`${ht}px`),ft.setProperty("--radix-popper-available-height",`${st}px`),ft.setProperty("--radix-popper-anchor-width",`${Pt}px`),ft.setProperty("--radix-popper-anchor-height",`${Je}px`)}}),R&&t9({element:R,padding:a}),h9({arrowWidth:S,arrowHeight:I}),h&&e9({strategy:"referenceHidden",...D})]}),[W,ie]=CP(ne),ee=rn(E);Qt(()=>{pe&&(ee==null||ee())},[pe,ee]);const ae=(te=q.arrow)==null?void 0:te.x,ce=(ge=q.arrow)==null?void 0:ge.y,Re=((we=q.arrow)==null?void 0:we.centerOffset)!==0,[ke,Ee]=g.useState();return Qt(()=>{C&&Ee(window.getComputedStyle(C).zIndex)},[C]),p.jsx("div",{ref:re.setFloating,"data-radix-popper-content-wrapper":"",style:{...se,transform:pe?se.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ke,"--radix-popper-transform-origin":[(Ce=q.transformOrigin)==null?void 0:Ce.x,(Ae=q.transformOrigin)==null?void 0:Ae.y].join(" "),...((_e=q.hide)==null?void 0:_e.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:p.jsx(l9,{scope:n,placedSide:W,onArrowChange:O,arrowX:ae,arrowY:ce,shouldHideArrow:Re,children:p.jsx(Oe.div,{"data-side":W,"data-align":ie,...y,ref:_,style:{...y.style,animation:pe?void 0:"none"}})})})});vP.displayName=LE;var wP="PopperArrow",u9={top:"bottom",right:"left",bottom:"top",left:"right"},EP=g.forwardRef(function(e,n){const{__scopePopper:r,...s}=e,i=c9(wP,r),o=u9[i.placedSide];return p.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:p.jsx(r9,{...s,ref:n,style:{...s.style,display:"block"}})})});EP.displayName=wP;function d9(t){return t!==null}var h9=t=>({name:"transformOrigin",options:t,fn(e){var b,C,w;const{placement:n,rects:r,middlewareData:s}=e,o=((b=s.arrow)==null?void 0:b.centerOffset)!==0,a=o?0:t.arrowWidth,l=o?0:t.arrowHeight,[c,d]=CP(n),f={start:"0%",center:"50%",end:"100%"}[d],h=(((C=s.arrow)==null?void 0:C.x)??0)+a/2,v=(((w=s.arrow)==null?void 0:w.y)??0)+l/2;let E="",y="";return c==="bottom"?(E=o?f:`${h}px`,y=`${-l}px`):c==="top"?(E=o?f:`${h}px`,y=`${r.floating.height+l}px`):c==="right"?(E=`${-l}px`,y=o?f:`${v}px`):c==="left"&&(E=`${r.floating.width+l}px`,y=o?f:`${v}px`),{data:{x:E,y}}}});function CP(t){const[e,n="center"]=t.split("-");return[e,n]}var xP=mP,VE=yP,FE=vP,jE=EP,[Rm,pY]=Jl("Tooltip",[uc]),BE=uc(),_P="TooltipProvider",f9=700,I_="tooltip.open",[p9,TP]=Rm(_P),AP=t=>{const{__scopeTooltip:e,delayDuration:n=f9,skipDelayDuration:r=300,disableHoverableContent:s=!1,children:i}=t,[o,a]=g.useState(!0),l=g.useRef(!1),c=g.useRef(0);return g.useEffect(()=>{const d=c.current;return()=>window.clearTimeout(d)},[]),p.jsx(p9,{scope:e,isOpenDelayed:o,delayDuration:n,onOpen:g.useCallback(()=>{window.clearTimeout(c.current),a(!1)},[]),onClose:g.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>a(!0),r)},[r]),isPointerInTransitRef:l,onPointerInTransitChange:g.useCallback(d=>{l.current=d},[]),disableHoverableContent:s,children:i})};AP.displayName=_P;var bP="Tooltip",[mY,Pm]=Rm(bP),Hv="TooltipTrigger",m9=g.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=Pm(Hv,n),i=TP(Hv,n),o=BE(n),a=g.useRef(null),l=nt(e,a,s.onTriggerChange),c=g.useRef(!1),d=g.useRef(!1),f=g.useCallback(()=>c.current=!1,[]);return g.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),p.jsx(VE,{asChild:!0,...o,children:p.jsx(Oe.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...r,ref:l,onPointerMove:fe(t.onPointerMove,h=>{h.pointerType!=="touch"&&!d.current&&!i.isPointerInTransitRef.current&&(s.onTriggerEnter(),d.current=!0)}),onPointerLeave:fe(t.onPointerLeave,()=>{s.onTriggerLeave(),d.current=!1}),onPointerDown:fe(t.onPointerDown,()=>{c.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:fe(t.onFocus,()=>{c.current||s.onOpen()}),onBlur:fe(t.onBlur,s.onClose),onClick:fe(t.onClick,s.onClose)})})});m9.displayName=Hv;var g9="TooltipPortal",[gY,y9]=Rm(g9,{forceMount:void 0}),Gl="TooltipContent",IP=g.forwardRef((t,e)=>{const n=y9(Gl,t.__scopeTooltip),{forceMount:r=n.forceMount,side:s="top",...i}=t,o=Pm(Gl,t.__scopeTooltip);return p.jsx(pa,{present:r||o.open,children:o.disableHoverableContent?p.jsx(SP,{side:s,...i,ref:e}):p.jsx(v9,{side:s,...i,ref:e})})}),v9=g.forwardRef((t,e)=>{const n=Pm(Gl,t.__scopeTooltip),r=TP(Gl,t.__scopeTooltip),s=g.useRef(null),i=nt(e,s),[o,a]=g.useState(null),{trigger:l,onClose:c}=n,d=s.current,{onPointerInTransitChange:f}=r,h=g.useCallback(()=>{a(null),f(!1)},[f]),v=g.useCallback((E,y)=>{const b=E.currentTarget,C={x:E.clientX,y:E.clientY},w=x9(C,b.getBoundingClientRect()),_=_9(C,w),R=T9(y.getBoundingClientRect()),O=b9([..._,...R]);a(O),f(!0)},[f]);return g.useEffect(()=>()=>h(),[h]),g.useEffect(()=>{if(l&&d){const E=b=>v(b,d),y=b=>v(b,l);return l.addEventListener("pointerleave",E),d.addEventListener("pointerleave",y),()=>{l.removeEventListener("pointerleave",E),d.removeEventListener("pointerleave",y)}}},[l,d,v,h]),g.useEffect(()=>{if(o){const E=y=>{const b=y.target,C={x:y.clientX,y:y.clientY},w=(l==null?void 0:l.contains(b))||(d==null?void 0:d.contains(b)),_=!A9(C,o);w?h():_&&(h(),c())};return document.addEventListener("pointermove",E),()=>document.removeEventListener("pointermove",E)}},[l,d,o,c,h]),p.jsx(SP,{...t,ref:i})}),[w9,E9]=Rm(bP,{isInside:!1}),SP=g.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":s,onEscapeKeyDown:i,onPointerDownOutside:o,...a}=t,l=Pm(Gl,n),c=BE(n),{onClose:d}=l;return g.useEffect(()=>(document.addEventListener(I_,d),()=>document.removeEventListener(I_,d)),[d]),g.useEffect(()=>{if(l.trigger){const f=h=>{const v=h.target;v!=null&&v.contains(l.trigger)&&d()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[l.trigger,d]),p.jsx(cd,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:f=>f.preventDefault(),onDismiss:d,children:p.jsxs(FE,{"data-state":l.stateAttribute,...c,...a,ref:e,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[p.jsx(Ub,{children:r}),p.jsx(w9,{scope:n,isInside:!0,children:p.jsx(oL,{id:l.contentId,role:"tooltip",children:s||r})})]})})});IP.displayName=Gl;var RP="TooltipArrow",C9=g.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=BE(n);return E9(RP,n).isInside?null:p.jsx(jE,{...s,...r,ref:e})});C9.displayName=RP;function x9(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),s=Math.abs(e.right-t.x),i=Math.abs(e.left-t.x);switch(Math.min(n,r,s,i)){case i:return"left";case s:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function _9(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function T9(t){const{top:e,right:n,bottom:r,left:s}=t;return[{x:s,y:e},{x:n,y:e},{x:n,y:r},{x:s,y:r}]}function A9(t,e){const{x:n,y:r}=t;let s=!1;for(let i=0,o=e.length-1;i<e.length;o=i++){const a=e[i].x,l=e[i].y,c=e[o].x,d=e[o].y;l>r!=d>r&&n<(c-a)*(r-l)/(d-l)+a&&(s=!s)}return s}function b9(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),I9(e)}function I9(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const s=t[r];for(;e.length>=2;){const i=e[e.length-1],o=e[e.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))e.pop();else break}e.push(s)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const s=t[r];for(;n.length>=2;){const i=n[n.length-1],o=n[n.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))n.pop();else break}n.push(s)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var S9=AP,PP=IP;const R9=S9,P9=g.forwardRef(({className:t,sideOffset:e=4,...n},r)=>p.jsx(PP,{ref:r,sideOffset:e,className:Ve("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n}));P9.displayName=PP.displayName;var Nm=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},km=typeof window>"u"||"Deno"in globalThis;function Nr(){}function N9(t,e){return typeof t=="function"?t(e):t}function k9(t){return typeof t=="number"&&t>=0&&t!==1/0}function M9(t,e){return Math.max(t+(e||0)-Date.now(),0)}function S_(t,e){return typeof t=="function"?t(e):t}function D9(t,e){return typeof t=="function"?t(e):t}function R_(t,e){const{type:n="all",exact:r,fetchStatus:s,predicate:i,queryKey:o,stale:a}=t;if(o){if(r){if(e.queryHash!==UE(o,e.options))return!1}else if(!Qu(e.queryKey,o))return!1}if(n!=="all"){const l=e.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||s&&s!==e.state.fetchStatus||i&&!i(e))}function P_(t,e){const{exact:n,status:r,predicate:s,mutationKey:i}=t;if(i){if(!e.options.mutationKey)return!1;if(n){if(Yu(e.options.mutationKey)!==Yu(i))return!1}else if(!Qu(e.options.mutationKey,i))return!1}return!(r&&e.state.status!==r||s&&!s(e))}function UE(t,e){return((e==null?void 0:e.queryKeyHashFn)||Yu)(t)}function Yu(t){return JSON.stringify(t,(e,n)=>Jv(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function Qu(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(n=>!Qu(t[n],e[n])):!1}function NP(t,e){if(t===e)return t;const n=N_(t)&&N_(e);if(n||Jv(t)&&Jv(e)){const r=n?t:Object.keys(t),s=r.length,i=n?e:Object.keys(e),o=i.length,a=n?[]:{};let l=0;for(let c=0;c<o;c++){const d=n?c:i[c];(!n&&r.includes(d)||n)&&t[d]===void 0&&e[d]===void 0?(a[d]=void 0,l++):(a[d]=NP(t[d],e[d]),a[d]===t[d]&&t[d]!==void 0&&l++)}return s===o&&l===s?t:a}return e}function N_(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function Jv(t){if(!k_(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!k_(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function k_(t){return Object.prototype.toString.call(t)==="[object Object]"}function O9(t){return new Promise(e=>{setTimeout(e,t)})}function L9(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?NP(t,e):e}function V9(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function F9(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var qE=Symbol();function kP(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===qE?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var jo,_i,El,yT,j9=(yT=class extends Nm{constructor(){super();Xe(this,jo);Xe(this,_i);Xe(this,El);De(this,El,e=>{if(!km&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){X(this,_i)||this.setEventListener(X(this,El))}onUnsubscribe(){var e;this.hasListeners()||((e=X(this,_i))==null||e.call(this),De(this,_i,void 0))}setEventListener(e){var n;De(this,El,e),(n=X(this,_i))==null||n.call(this),De(this,_i,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){X(this,jo)!==e&&(De(this,jo,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof X(this,jo)=="boolean"?X(this,jo):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},jo=new WeakMap,_i=new WeakMap,El=new WeakMap,yT),MP=new j9,Cl,Ti,xl,vT,B9=(vT=class extends Nm{constructor(){super();Xe(this,Cl,!0);Xe(this,Ti);Xe(this,xl);De(this,xl,e=>{if(!km&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){X(this,Ti)||this.setEventListener(X(this,xl))}onUnsubscribe(){var e;this.hasListeners()||((e=X(this,Ti))==null||e.call(this),De(this,Ti,void 0))}setEventListener(e){var n;De(this,xl,e),(n=X(this,Ti))==null||n.call(this),De(this,Ti,e(this.setOnline.bind(this)))}setOnline(e){X(this,Cl)!==e&&(De(this,Cl,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return X(this,Cl)}},Cl=new WeakMap,Ti=new WeakMap,xl=new WeakMap,vT),bp=new B9;function U9(){let t,e;const n=new Promise((s,i)=>{t=s,e=i});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),t(s)},n.reject=s=>{r({status:"rejected",reason:s}),e(s)},n}function q9(t){return Math.min(1e3*2**t,3e4)}function DP(t){return(t??"online")==="online"?bp.isOnline():!0}var OP=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function ty(t){return t instanceof OP}function LP(t){let e=!1,n=0,r=!1,s;const i=U9(),o=y=>{var b;r||(h(new OP(y)),(b=t.abort)==null||b.call(t))},a=()=>{e=!0},l=()=>{e=!1},c=()=>MP.isFocused()&&(t.networkMode==="always"||bp.isOnline())&&t.canRun(),d=()=>DP(t.networkMode)&&t.canRun(),f=y=>{var b;r||(r=!0,(b=t.onSuccess)==null||b.call(t,y),s==null||s(),i.resolve(y))},h=y=>{var b;r||(r=!0,(b=t.onError)==null||b.call(t,y),s==null||s(),i.reject(y))},v=()=>new Promise(y=>{var b;s=C=>{(r||c())&&y(C)},(b=t.onPause)==null||b.call(t)}).then(()=>{var y;s=void 0,r||(y=t.onContinue)==null||y.call(t)}),E=()=>{if(r)return;let y;const b=n===0?t.initialPromise:void 0;try{y=b??t.fn()}catch(C){y=Promise.reject(C)}Promise.resolve(y).then(f).catch(C=>{var j;if(r)return;const w=t.retry??(km?0:3),_=t.retryDelay??q9,R=typeof _=="function"?_(n,C):_,O=w===!0||typeof w=="number"&&n<w||typeof w=="function"&&w(n,C);if(e||!O){h(C);return}n++,(j=t.onFail)==null||j.call(t,n,C),O9(R).then(()=>c()?void 0:v()).then(()=>{e?h(C):E()})})};return{promise:i,cancel:o,continue:()=>(s==null||s(),i),cancelRetry:a,continueRetry:l,canStart:d,start:()=>(d()?E():v().then(E),i)}}function G9(){let t=[],e=0,n=a=>{a()},r=a=>{a()},s=a=>setTimeout(a,0);const i=a=>{e?t.push(a):s(()=>{n(a)})},o=()=>{const a=t;t=[],a.length&&s(()=>{r(()=>{a.forEach(l=>{n(l)})})})};return{batch:a=>{let l;e++;try{l=a()}finally{e--,e||o()}return l},batchCalls:a=>(...l)=>{i(()=>{a(...l)})},schedule:i,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{s=a}}}var In=G9(),Bo,wT,VP=(wT=class{constructor(){Xe(this,Bo)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),k9(this.gcTime)&&De(this,Bo,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(km?1/0:5*60*1e3))}clearGcTimeout(){X(this,Bo)&&(clearTimeout(X(this,Bo)),De(this,Bo,void 0))}},Bo=new WeakMap,wT),_l,Tl,ur,pn,td,Uo,kr,bs,ET,$9=(ET=class extends VP{constructor(e){super();Xe(this,kr);Xe(this,_l);Xe(this,Tl);Xe(this,ur);Xe(this,pn);Xe(this,td);Xe(this,Uo);De(this,Uo,!1),De(this,td,e.defaultOptions),this.setOptions(e.options),this.observers=[],De(this,ur,e.cache),this.queryKey=e.queryKey,this.queryHash=e.queryHash,De(this,_l,W9(this.options)),this.state=e.state??X(this,_l),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=X(this,pn))==null?void 0:e.promise}setOptions(e){this.options={...X(this,td),...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&X(this,ur).remove(this)}setData(e,n){const r=L9(this.state.data,e,this.options);return un(this,kr,bs).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(e,n){un(this,kr,bs).call(this,{type:"setState",state:e,setStateOptions:n})}cancel(e){var r,s;const n=(r=X(this,pn))==null?void 0:r.promise;return(s=X(this,pn))==null||s.cancel(e),n?n.then(Nr).catch(Nr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(X(this,_l))}isActive(){return this.observers.some(e=>D9(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===qE||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(e=0){return this.state.isInvalidated||this.state.data===void 0||!M9(this.state.dataUpdatedAt,e)}onFocus(){var n;const e=this.observers.find(r=>r.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(n=X(this,pn))==null||n.continue()}onOnline(){var n;const e=this.observers.find(r=>r.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(n=X(this,pn))==null||n.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),X(this,ur).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(n=>n!==e),this.observers.length||(X(this,pn)&&(X(this,Uo)?X(this,pn).cancel({revert:!0}):X(this,pn).cancelRetry()),this.scheduleGc()),X(this,ur).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||un(this,kr,bs).call(this,{type:"invalidate"})}fetch(e,n){var l,c,d;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(X(this,pn))return X(this,pn).continueRetry(),X(this,pn).promise}if(e&&this.setOptions(e),!this.options.queryFn){const f=this.observers.find(h=>h.options.queryFn);f&&this.setOptions(f.options)}const r=new AbortController,s=f=>{Object.defineProperty(f,"signal",{enumerable:!0,get:()=>(De(this,Uo,!0),r.signal)})},i=()=>{const f=kP(this.options,n),h={queryKey:this.queryKey,meta:this.meta};return s(h),De(this,Uo,!1),this.options.persister?this.options.persister(f,h,this):f(h)},o={fetchOptions:n,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:i};s(o),(l=this.options.behavior)==null||l.onFetch(o,this),De(this,Tl,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((c=o.fetchOptions)==null?void 0:c.meta))&&un(this,kr,bs).call(this,{type:"fetch",meta:(d=o.fetchOptions)==null?void 0:d.meta});const a=f=>{var h,v,E,y;ty(f)&&f.silent||un(this,kr,bs).call(this,{type:"error",error:f}),ty(f)||((v=(h=X(this,ur).config).onError)==null||v.call(h,f,this),(y=(E=X(this,ur).config).onSettled)==null||y.call(E,this.state.data,f,this)),this.scheduleGc()};return De(this,pn,LP({initialPromise:n==null?void 0:n.initialPromise,fn:o.fetchFn,abort:r.abort.bind(r),onSuccess:f=>{var h,v,E,y;if(f===void 0){a(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(f)}catch(b){a(b);return}(v=(h=X(this,ur).config).onSuccess)==null||v.call(h,f,this),(y=(E=X(this,ur).config).onSettled)==null||y.call(E,f,this.state.error,this),this.scheduleGc()},onError:a,onFail:(f,h)=>{un(this,kr,bs).call(this,{type:"failed",failureCount:f,error:h})},onPause:()=>{un(this,kr,bs).call(this,{type:"pause"})},onContinue:()=>{un(this,kr,bs).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0})),X(this,pn).start()}},_l=new WeakMap,Tl=new WeakMap,ur=new WeakMap,pn=new WeakMap,td=new WeakMap,Uo=new WeakMap,kr=new WeakSet,bs=function(e){const n=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...z9(r.data,this.options),fetchMeta:e.meta??null};case"success":return{...r,data:e.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=e.error;return ty(s)&&s.revert&&X(this,Tl)?{...X(this,Tl),fetchStatus:"idle"}:{...r,error:s,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=n(this.state),In.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),X(this,ur).notify({query:this,type:"updated",action:e})})},ET);function z9(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:DP(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function W9(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Qr,CT,K9=(CT=class extends Nm{constructor(e={}){super();Xe(this,Qr);this.config=e,De(this,Qr,new Map)}build(e,n,r){const s=n.queryKey,i=n.queryHash??UE(s,n);let o=this.get(i);return o||(o=new $9({cache:this,queryKey:s,queryHash:i,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(s)}),this.add(o)),o}add(e){X(this,Qr).has(e.queryHash)||(X(this,Qr).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=X(this,Qr).get(e.queryHash);n&&(e.destroy(),n===e&&X(this,Qr).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){In.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return X(this,Qr).get(e)}getAll(){return[...X(this,Qr).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>R_(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>R_(e,r)):n}notify(e){In.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){In.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){In.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Qr=new WeakMap,CT),Hr,An,qo,Jr,hi,xT,Y9=(xT=class extends VP{constructor(e){super();Xe(this,Jr);Xe(this,Hr);Xe(this,An);Xe(this,qo);this.mutationId=e.mutationId,De(this,An,e.mutationCache),De(this,Hr,[]),this.state=e.state||Q9(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){X(this,Hr).includes(e)||(X(this,Hr).push(e),this.clearGcTimeout(),X(this,An).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){De(this,Hr,X(this,Hr).filter(n=>n!==e)),this.scheduleGc(),X(this,An).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){X(this,Hr).length||(this.state.status==="pending"?this.scheduleGc():X(this,An).remove(this))}continue(){var e;return((e=X(this,qo))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var s,i,o,a,l,c,d,f,h,v,E,y,b,C,w,_,R,O,j,S;De(this,qo,LP({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(I,k)=>{un(this,Jr,hi).call(this,{type:"failed",failureCount:I,error:k})},onPause:()=>{un(this,Jr,hi).call(this,{type:"pause"})},onContinue:()=>{un(this,Jr,hi).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>X(this,An).canRun(this)}));const n=this.state.status==="pending",r=!X(this,qo).canStart();try{if(!n){un(this,Jr,hi).call(this,{type:"pending",variables:e,isPaused:r}),await((i=(s=X(this,An).config).onMutate)==null?void 0:i.call(s,e,this));const k=await((a=(o=this.options).onMutate)==null?void 0:a.call(o,e));k!==this.state.context&&un(this,Jr,hi).call(this,{type:"pending",context:k,variables:e,isPaused:r})}const I=await X(this,qo).start();return await((c=(l=X(this,An).config).onSuccess)==null?void 0:c.call(l,I,e,this.state.context,this)),await((f=(d=this.options).onSuccess)==null?void 0:f.call(d,I,e,this.state.context)),await((v=(h=X(this,An).config).onSettled)==null?void 0:v.call(h,I,null,this.state.variables,this.state.context,this)),await((y=(E=this.options).onSettled)==null?void 0:y.call(E,I,null,e,this.state.context)),un(this,Jr,hi).call(this,{type:"success",data:I}),I}catch(I){try{throw await((C=(b=X(this,An).config).onError)==null?void 0:C.call(b,I,e,this.state.context,this)),await((_=(w=this.options).onError)==null?void 0:_.call(w,I,e,this.state.context)),await((O=(R=X(this,An).config).onSettled)==null?void 0:O.call(R,void 0,I,this.state.variables,this.state.context,this)),await((S=(j=this.options).onSettled)==null?void 0:S.call(j,void 0,I,e,this.state.context)),I}finally{un(this,Jr,hi).call(this,{type:"error",error:I})}}finally{X(this,An).runNext(this)}}},Hr=new WeakMap,An=new WeakMap,qo=new WeakMap,Jr=new WeakSet,hi=function(e){const n=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=n(this.state),In.batch(()=>{X(this,Hr).forEach(r=>{r.onMutationUpdate(e)}),X(this,An).notify({mutation:this,type:"updated",action:e})})},xT);function Q9(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Kn,nd,_T,H9=(_T=class extends Nm{constructor(e={}){super();Xe(this,Kn);Xe(this,nd);this.config=e,De(this,Kn,new Map),De(this,nd,Date.now())}build(e,n,r){const s=new Y9({mutationCache:this,mutationId:++mh(this,nd)._,options:e.defaultMutationOptions(n),state:r});return this.add(s),s}add(e){const n=Gh(e),r=X(this,Kn).get(n)??[];r.push(e),X(this,Kn).set(n,r),this.notify({type:"added",mutation:e})}remove(e){var r;const n=Gh(e);if(X(this,Kn).has(n)){const s=(r=X(this,Kn).get(n))==null?void 0:r.filter(i=>i!==e);s&&(s.length===0?X(this,Kn).delete(n):X(this,Kn).set(n,s))}this.notify({type:"removed",mutation:e})}canRun(e){var r;const n=(r=X(this,Kn).get(Gh(e)))==null?void 0:r.find(s=>s.state.status==="pending");return!n||n===e}runNext(e){var r;const n=(r=X(this,Kn).get(Gh(e)))==null?void 0:r.find(s=>s!==e&&s.state.isPaused);return(n==null?void 0:n.continue())??Promise.resolve()}clear(){In.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}getAll(){return[...X(this,Kn).values()].flat()}find(e){const n={exact:!0,...e};return this.getAll().find(r=>P_(n,r))}findAll(e={}){return this.getAll().filter(n=>P_(e,n))}notify(e){In.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return In.batch(()=>Promise.all(e.map(n=>n.continue().catch(Nr))))}},Kn=new WeakMap,nd=new WeakMap,_T);function Gh(t){var e;return((e=t.options.scope)==null?void 0:e.id)??String(t.mutationId)}function M_(t){return{onFetch:(e,n)=>{var d,f,h,v,E;const r=e.options,s=(h=(f=(d=e.fetchOptions)==null?void 0:d.meta)==null?void 0:f.fetchMore)==null?void 0:h.direction,i=((v=e.state.data)==null?void 0:v.pages)||[],o=((E=e.state.data)==null?void 0:E.pageParams)||[];let a={pages:[],pageParams:[]},l=0;const c=async()=>{let y=!1;const b=_=>{Object.defineProperty(_,"signal",{enumerable:!0,get:()=>(e.signal.aborted?y=!0:e.signal.addEventListener("abort",()=>{y=!0}),e.signal)})},C=kP(e.options,e.fetchOptions),w=async(_,R,O)=>{if(y)return Promise.reject();if(R==null&&_.pages.length)return Promise.resolve(_);const j={queryKey:e.queryKey,pageParam:R,direction:O?"backward":"forward",meta:e.options.meta};b(j);const S=await C(j),{maxPages:I}=e.options,k=O?F9:V9;return{pages:k(_.pages,S,I),pageParams:k(_.pageParams,R,I)}};if(s&&i.length){const _=s==="backward",R=_?J9:D_,O={pages:i,pageParams:o},j=R(r,O);a=await w(O,j,_)}else{const _=t??i.length;do{const R=l===0?o[0]??r.initialPageParam:D_(r,a);if(l>0&&R==null)break;a=await w(a,R),l++}while(l<_)}return a};e.options.persister?e.fetchFn=()=>{var y,b;return(b=(y=e.options).persister)==null?void 0:b.call(y,c,{queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=c}}}function D_(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function J9(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var Tt,Ai,bi,Al,bl,Ii,Il,Sl,TT,X9=(TT=class{constructor(t={}){Xe(this,Tt);Xe(this,Ai);Xe(this,bi);Xe(this,Al);Xe(this,bl);Xe(this,Ii);Xe(this,Il);Xe(this,Sl);De(this,Tt,t.queryCache||new K9),De(this,Ai,t.mutationCache||new H9),De(this,bi,t.defaultOptions||{}),De(this,Al,new Map),De(this,bl,new Map),De(this,Ii,0)}mount(){mh(this,Ii)._++,X(this,Ii)===1&&(De(this,Il,MP.subscribe(async t=>{t&&(await this.resumePausedMutations(),X(this,Tt).onFocus())})),De(this,Sl,bp.subscribe(async t=>{t&&(await this.resumePausedMutations(),X(this,Tt).onOnline())})))}unmount(){var t,e;mh(this,Ii)._--,X(this,Ii)===0&&((t=X(this,Il))==null||t.call(this),De(this,Il,void 0),(e=X(this,Sl))==null||e.call(this),De(this,Sl,void 0))}isFetching(t){return X(this,Tt).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return X(this,Ai).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=X(this,Tt).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.getQueryData(t.queryKey);if(e===void 0)return this.fetchQuery(t);{const n=this.defaultQueryOptions(t),r=X(this,Tt).build(this,n);return t.revalidateIfStale&&r.isStaleByTime(S_(n.staleTime,r))&&this.prefetchQuery(n),Promise.resolve(e)}}getQueriesData(t){return X(this,Tt).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),s=X(this,Tt).get(r.queryHash),i=s==null?void 0:s.state.data,o=N9(e,i);if(o!==void 0)return X(this,Tt).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(t,e,n){return In.batch(()=>X(this,Tt).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=X(this,Tt).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=X(this,Tt);In.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=X(this,Tt),r={type:"active",...t};return In.batch(()=>(n.findAll(t).forEach(s=>{s.reset()}),this.refetchQueries(r,e)))}cancelQueries(t={},e={}){const n={revert:!0,...e},r=In.batch(()=>X(this,Tt).findAll(t).map(s=>s.cancel(n)));return Promise.all(r).then(Nr).catch(Nr)}invalidateQueries(t={},e={}){return In.batch(()=>{if(X(this,Tt).findAll(t).forEach(r=>{r.invalidate()}),t.refetchType==="none")return Promise.resolve();const n={...t,type:t.refetchType??t.type??"active"};return this.refetchQueries(n,e)})}refetchQueries(t={},e){const n={...e,cancelRefetch:(e==null?void 0:e.cancelRefetch)??!0},r=In.batch(()=>X(this,Tt).findAll(t).filter(s=>!s.isDisabled()).map(s=>{let i=s.fetch(void 0,n);return n.throwOnError||(i=i.catch(Nr)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(Nr)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=X(this,Tt).build(this,e);return n.isStaleByTime(S_(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Nr).catch(Nr)}fetchInfiniteQuery(t){return t.behavior=M_(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Nr).catch(Nr)}ensureInfiniteQueryData(t){return t.behavior=M_(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return bp.isOnline()?X(this,Ai).resumePausedMutations():Promise.resolve()}getQueryCache(){return X(this,Tt)}getMutationCache(){return X(this,Ai)}getDefaultOptions(){return X(this,bi)}setDefaultOptions(t){De(this,bi,t)}setQueryDefaults(t,e){X(this,Al).set(Yu(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...X(this,Al).values()];let n={};return e.forEach(r=>{Qu(t,r.queryKey)&&(n={...n,...r.defaultOptions})}),n}setMutationDefaults(t,e){X(this,bl).set(Yu(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...X(this,bl).values()];let n={};return e.forEach(r=>{Qu(t,r.mutationKey)&&(n={...n,...r.defaultOptions})}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...X(this,bi).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=UE(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.enabled!==!0&&e.queryFn===qE&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...X(this,bi).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){X(this,Tt).clear(),X(this,Ai).clear()}},Tt=new WeakMap,Ai=new WeakMap,bi=new WeakMap,Al=new WeakMap,bl=new WeakMap,Ii=new WeakMap,Il=new WeakMap,Sl=new WeakMap,TT),Z9=g.createContext(void 0),eq=({client:t,children:e})=>(g.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),p.jsx(Z9.Provider,{value:t,children:e}));/**
 * @remix-run/router v1.20.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Hu(){return Hu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Hu.apply(this,arguments)}var Ni;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Ni||(Ni={}));const O_="popstate";function tq(t){t===void 0&&(t={});function e(r,s){let{pathname:i,search:o,hash:a}=r.location;return Xv("",{pathname:i,search:o,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:Ip(s)}return rq(e,n,null,t)}function Rt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function FP(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function nq(){return Math.random().toString(36).substr(2,8)}function L_(t,e){return{usr:t.state,key:t.key,idx:e}}function Xv(t,e,n,r){return n===void 0&&(n=null),Hu({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?dc(e):e,{state:n,key:e&&e.key||r||nq()})}function Ip(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function dc(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function rq(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,a=Ni.Pop,l=null,c=d();c==null&&(c=0,o.replaceState(Hu({},o.state,{idx:c}),""));function d(){return(o.state||{idx:null}).idx}function f(){a=Ni.Pop;let b=d(),C=b==null?null:b-c;c=b,l&&l({action:a,location:y.location,delta:C})}function h(b,C){a=Ni.Push;let w=Xv(y.location,b,C);c=d()+1;let _=L_(w,c),R=y.createHref(w);try{o.pushState(_,"",R)}catch(O){if(O instanceof DOMException&&O.name==="DataCloneError")throw O;s.location.assign(R)}i&&l&&l({action:a,location:y.location,delta:1})}function v(b,C){a=Ni.Replace;let w=Xv(y.location,b,C);c=d();let _=L_(w,c),R=y.createHref(w);o.replaceState(_,"",R),i&&l&&l({action:a,location:y.location,delta:0})}function E(b){let C=s.location.origin!=="null"?s.location.origin:s.location.href,w=typeof b=="string"?b:Ip(b);return w=w.replace(/ $/,"%20"),Rt(C,"No window.location.(origin|href) available to create URL for href: "+w),new URL(w,C)}let y={get action(){return a},get location(){return t(s,o)},listen(b){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(O_,f),l=b,()=>{s.removeEventListener(O_,f),l=null}},createHref(b){return e(s,b)},createURL:E,encodeLocation(b){let C=E(b);return{pathname:C.pathname,search:C.search,hash:C.hash}},push:h,replace:v,go(b){return o.go(b)}};return y}var V_;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(V_||(V_={}));function sq(t,e,n){return n===void 0&&(n="/"),iq(t,e,n,!1)}function iq(t,e,n,r){let s=typeof e=="string"?dc(e):e,i=GE(s.pathname||"/",n);if(i==null)return null;let o=jP(t);oq(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let c=yq(i);a=mq(o[l],c,r)}return a}function jP(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,o,a)=>{let l={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};l.relativePath.startsWith("/")&&(Rt(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=Wi([r,l.relativePath]),d=n.concat(l);i.children&&i.children.length>0&&(Rt(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),jP(i.children,e,d,c)),!(i.path==null&&!i.index)&&e.push({path:c,score:fq(c,i.index),routesMeta:d})};return t.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,o);else for(let l of BP(i.path))s(i,o,l)}),e}function BP(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=BP(r.join("/")),a=[];return a.push(...o.map(l=>l===""?i:[i,l].join("/"))),s&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function oq(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:pq(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const aq=/^:[\w-]+$/,lq=3,cq=2,uq=1,dq=10,hq=-2,F_=t=>t==="*";function fq(t,e){let n=t.split("/"),r=n.length;return n.some(F_)&&(r+=hq),e&&(r+=cq),n.filter(s=>!F_(s)).reduce((s,i)=>s+(aq.test(i)?lq:i===""?uq:dq),r)}function pq(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function mq(t,e,n){let{routesMeta:r}=t,s={},i="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],c=a===r.length-1,d=i==="/"?e:e.slice(i.length)||"/",f=j_({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},d),h=l.route;if(!f&&c&&n&&!r[r.length-1].route.index&&(f=j_({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},d)),!f)return null;Object.assign(s,f.params),o.push({params:s,pathname:Wi([i,f.pathname]),pathnameBase:Cq(Wi([i,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(i=Wi([i,f.pathnameBase]))}return o}function j_(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=gq(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((c,d,f)=>{let{paramName:h,isOptional:v}=d;if(h==="*"){let y=a[f]||"";o=i.slice(0,i.length-y.length).replace(/(.)\/+$/,"$1")}const E=a[f];return v&&!E?c[h]=void 0:c[h]=(E||"").replace(/%2F/g,"/"),c},{}),pathname:i,pathnameBase:o,pattern:t}}function gq(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),FP(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function yq(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return FP(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function GE(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function vq(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?dc(t):t;return{pathname:n?n.startsWith("/")?n:wq(n,e):e,search:xq(r),hash:_q(s)}}function wq(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function ny(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Eq(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function $E(t,e){let n=Eq(t);return e?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function zE(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=dc(t):(s=Hu({},t),Rt(!s.pathname||!s.pathname.includes("?"),ny("?","pathname","search",s)),Rt(!s.pathname||!s.pathname.includes("#"),ny("#","pathname","hash",s)),Rt(!s.search||!s.search.includes("#"),ny("#","search","hash",s)));let i=t===""||s.pathname==="",o=i?"/":s.pathname,a;if(o==null)a=n;else{let f=e.length-1;if(!r&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),f-=1;s.pathname=h.join("/")}a=f>=0?e[f]:"/"}let l=vq(s,a),c=o&&o!=="/"&&o.endsWith("/"),d=(i||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||d)&&(l.pathname+="/"),l}const Wi=t=>t.join("/").replace(/\/\/+/g,"/"),Cq=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),xq=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,_q=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function Tq(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const UP=["post","put","patch","delete"];new Set(UP);const Aq=["get",...UP];new Set(Aq);/**
 * React Router v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ju(){return Ju=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ju.apply(this,arguments)}const WE=g.createContext(null),bq=g.createContext(null),mo=g.createContext(null),Mm=g.createContext(null),go=g.createContext({outlet:null,matches:[],isDataRoute:!1}),qP=g.createContext(null);function Iq(t,e){let{relative:n}=e===void 0?{}:e;hc()||Rt(!1);let{basename:r,navigator:s}=g.useContext(mo),{hash:i,pathname:o,search:a}=$P(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:Wi([r,o])),s.createHref({pathname:l,search:a,hash:i})}function hc(){return g.useContext(Mm)!=null}function yo(){return hc()||Rt(!1),g.useContext(Mm).location}function GP(t){g.useContext(mo).static||g.useLayoutEffect(t)}function Hs(){let{isDataRoute:t}=g.useContext(go);return t?Bq():Sq()}function Sq(){hc()||Rt(!1);let t=g.useContext(WE),{basename:e,future:n,navigator:r}=g.useContext(mo),{matches:s}=g.useContext(go),{pathname:i}=yo(),o=JSON.stringify($E(s,n.v7_relativeSplatPath)),a=g.useRef(!1);return GP(()=>{a.current=!0}),g.useCallback(function(c,d){if(d===void 0&&(d={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let f=zE(c,JSON.parse(o),i,d.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:Wi([e,f.pathname])),(d.replace?r.replace:r.push)(f,d.state,d)},[e,r,o,i,t])}function $P(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=g.useContext(mo),{matches:s}=g.useContext(go),{pathname:i}=yo(),o=JSON.stringify($E(s,r.v7_relativeSplatPath));return g.useMemo(()=>zE(t,JSON.parse(o),i,n==="path"),[t,o,i,n])}function Rq(t,e){return Pq(t,e)}function Pq(t,e,n,r){hc()||Rt(!1);let{navigator:s}=g.useContext(mo),{matches:i}=g.useContext(go),o=i[i.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let c=yo(),d;if(e){var f;let b=typeof e=="string"?dc(e):e;l==="/"||(f=b.pathname)!=null&&f.startsWith(l)||Rt(!1),d=b}else d=c;let h=d.pathname||"/",v=h;if(l!=="/"){let b=l.replace(/^\//,"").split("/");v="/"+h.replace(/^\//,"").split("/").slice(b.length).join("/")}let E=sq(t,{pathname:v}),y=Oq(E&&E.map(b=>Object.assign({},b,{params:Object.assign({},a,b.params),pathname:Wi([l,s.encodeLocation?s.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?l:Wi([l,s.encodeLocation?s.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),i,n,r);return e&&y?g.createElement(Mm.Provider,{value:{location:Ju({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Ni.Pop}},y):y}function Nq(){let t=jq(),e=Tq(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return g.createElement(g.Fragment,null,g.createElement("h2",null,"Unexpected Application Error!"),g.createElement("h3",{style:{fontStyle:"italic"}},e),n?g.createElement("pre",{style:s},n):null,null)}const kq=g.createElement(Nq,null);class Mq extends g.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?g.createElement(go.Provider,{value:this.props.routeContext},g.createElement(qP.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Dq(t){let{routeContext:e,match:n,children:r}=t,s=g.useContext(WE);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),g.createElement(go.Provider,{value:e},r)}function Oq(t,e,n,r){var s;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var i;if(!n)return null;if(n.errors)t=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(s=n)==null?void 0:s.errors;if(a!=null){let d=o.findIndex(f=>f.route.id&&(a==null?void 0:a[f.route.id])!==void 0);d>=0||Rt(!1),o=o.slice(0,Math.min(o.length,d+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<o.length;d++){let f=o[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(c=d),f.route.id){let{loaderData:h,errors:v}=n,E=f.route.loader&&h[f.route.id]===void 0&&(!v||v[f.route.id]===void 0);if(f.route.lazy||E){l=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((d,f,h)=>{let v,E=!1,y=null,b=null;n&&(v=a&&f.route.id?a[f.route.id]:void 0,y=f.route.errorElement||kq,l&&(c<0&&h===0?(E=!0,b=null):c===h&&(E=!0,b=f.route.hydrateFallbackElement||null)));let C=e.concat(o.slice(0,h+1)),w=()=>{let _;return v?_=y:E?_=b:f.route.Component?_=g.createElement(f.route.Component,null):f.route.element?_=f.route.element:_=d,g.createElement(Dq,{match:f,routeContext:{outlet:d,matches:C,isDataRoute:n!=null},children:_})};return n&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?g.createElement(Mq,{location:n.location,revalidation:n.revalidation,component:y,error:v,children:w(),routeContext:{outlet:null,matches:C,isDataRoute:!0}}):w()},null)}var zP=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(zP||{}),Sp=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Sp||{});function Lq(t){let e=g.useContext(WE);return e||Rt(!1),e}function Vq(t){let e=g.useContext(bq);return e||Rt(!1),e}function Fq(t){let e=g.useContext(go);return e||Rt(!1),e}function WP(t){let e=Fq(),n=e.matches[e.matches.length-1];return n.route.id||Rt(!1),n.route.id}function jq(){var t;let e=g.useContext(qP),n=Vq(Sp.UseRouteError),r=WP(Sp.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function Bq(){let{router:t}=Lq(zP.UseNavigateStable),e=WP(Sp.UseNavigateStable),n=g.useRef(!1);return GP(()=>{n.current=!0}),g.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,Ju({fromRouteId:e},i)))},[t,e])}function Rp(t){let{to:e,replace:n,state:r,relative:s}=t;hc()||Rt(!1);let{future:i,static:o}=g.useContext(mo),{matches:a}=g.useContext(go),{pathname:l}=yo(),c=Hs(),d=zE(e,$E(a,i.v7_relativeSplatPath),l,s==="path"),f=JSON.stringify(d);return g.useEffect(()=>c(JSON.parse(f),{replace:n,state:r,relative:s}),[c,f,s,n,r]),null}function Wr(t){Rt(!1)}function Uq(t){let{basename:e="/",children:n=null,location:r,navigationType:s=Ni.Pop,navigator:i,static:o=!1,future:a}=t;hc()&&Rt(!1);let l=e.replace(/^\/*/,"/"),c=g.useMemo(()=>({basename:l,navigator:i,static:o,future:Ju({v7_relativeSplatPath:!1},a)}),[l,a,i,o]);typeof r=="string"&&(r=dc(r));let{pathname:d="/",search:f="",hash:h="",state:v=null,key:E="default"}=r,y=g.useMemo(()=>{let b=GE(d,l);return b==null?null:{location:{pathname:b,search:f,hash:h,state:v,key:E},navigationType:s}},[l,d,f,h,v,E,s]);return y==null?null:g.createElement(mo.Provider,{value:c},g.createElement(Mm.Provider,{children:n,value:y}))}function qq(t){let{children:e,location:n}=t;return Rq(Zv(e),n)}new Promise(()=>{});function Zv(t,e){e===void 0&&(e=[]);let n=[];return g.Children.forEach(t,(r,s)=>{if(!g.isValidElement(r))return;let i=[...e,s];if(r.type===g.Fragment){n.push.apply(n,Zv(r.props.children,i));return}r.type!==Wr&&Rt(!1),!r.props.index||!r.props.children||Rt(!1);let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Zv(r.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function e0(){return e0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},e0.apply(this,arguments)}function Gq(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function $q(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function zq(t,e){return t.button===0&&(!e||e==="_self")&&!$q(t)}const Wq=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Kq="6";try{window.__reactRouterVersion=Kq}catch{}const Yq="startTransition",B_=LT[Yq];function Qq(t){let{basename:e,children:n,future:r,window:s}=t,i=g.useRef();i.current==null&&(i.current=tq({window:s,v5Compat:!0}));let o=i.current,[a,l]=g.useState({action:o.action,location:o.location}),{v7_startTransition:c}=r||{},d=g.useCallback(f=>{c&&B_?B_(()=>l(f)):l(f)},[l,c]);return g.useLayoutEffect(()=>o.listen(d),[o,d]),g.createElement(Uq,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const Hq=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Jq=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ks=g.forwardRef(function(e,n){let{onClick:r,relative:s,reloadDocument:i,replace:o,state:a,target:l,to:c,preventScrollReset:d,viewTransition:f}=e,h=Gq(e,Wq),{basename:v}=g.useContext(mo),E,y=!1;if(typeof c=="string"&&Jq.test(c)&&(E=c,Hq))try{let _=new URL(window.location.href),R=c.startsWith("//")?new URL(_.protocol+c):new URL(c),O=GE(R.pathname,v);R.origin===_.origin&&O!=null?c=O+R.search+R.hash:y=!0}catch{}let b=Iq(c,{relative:s}),C=Xq(c,{replace:o,state:a,target:l,preventScrollReset:d,relative:s,viewTransition:f});function w(_){r&&r(_),_.defaultPrevented||C(_)}return g.createElement("a",e0({},h,{href:E||b,onClick:y||i?r:w,ref:n,target:l}))});var U_;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(U_||(U_={}));var q_;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(q_||(q_={}));function Xq(t,e){let{target:n,replace:r,state:s,preventScrollReset:i,relative:o,viewTransition:a}=e===void 0?{}:e,l=Hs(),c=yo(),d=$P(t,{relative:o});return g.useCallback(f=>{if(zq(f,n)){f.preventDefault();let h=r!==void 0?r:Ip(c)===Ip(d);l(t,{replace:h,state:s,preventScrollReset:i,relative:o,viewTransition:a})}},[c,l,d,r,s,n,t,i,o,a])}const KP=()=>`session_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,Zq=async(t,e)=>{try{console.log("loginUser: Starting login process for email:",t);const n=await a6(Ko,t,e);console.log("loginUser: Firebase Auth successful for UID:",n.user.uid);const r=await xm(Un(on,"users",n.user.uid));if(console.log("loginUser: User document exists:",r.exists()),r.exists()){const s=r.data();console.log("loginUser: User data retrieved, current session status:",s.isSessionValid);const i=KP(),o=Ke.now();console.log("loginUser: Updating user document with new session"),await oa(Un(on,"users",n.user.uid),{sessionToken:i,lastLoginAt:o,isSessionValid:!0}),console.log("loginUser: User document updated with new session");const a={...s,sessionToken:i,lastLoginAt:o,isSessionValid:!0};return console.log("loginUser: Returning updated user data with session:",a.isSessionValid),a}return console.log("loginUser: User document not found, returning null"),null}catch(n){throw console.error("loginUser error:",n),n}},eG=async(t,e,n,r,s)=>{try{const i=await o6(Ko,e,n),o=(s==null?void 0:s.purchaseLimit)||5,a=KP(),l=Ke.now(),c={id:i.user.uid,name:t,email:e,feedback:r,purchases:0,isRewardReady:!1,createdAt:l,rewards:[],purchaseLimit:o,role:"customer",sessionToken:a,lastLoginAt:l,isSessionValid:!0};try{await mR(Un(on,"users",i.user.uid),c),(await xm(Un(on,"users",i.user.uid))).exists()?console.log("✅ User document verified in Firestore"):console.error("❌ User document not found after creation!")}catch(d){throw console.error("Firestore error during user creation:",d),d}return c}catch(i){throw console.error("registerUser error:",i),i}},tG=async()=>{try{const t=Ko.currentUser;t&&await oa(Un(on,"users",t.uid),{isSessionValid:!1,sessionToken:null}),await a_(Ko)}catch(t){console.error("Logout error:",t),await a_(Ko)}},nG=t=>d6(Ko,t),rG=(t,e)=>{const n=lE(on,"users"),r=mE(n,hR("createdAt","desc"));return wE(r,s=>{const i=[];s.forEach(o=>{const a=o.data();i.push({...a,id:o.id})}),t(i)},e)},sG=(t,e,n)=>{const r=Un(on,"users",t);return wE(r,s=>{s.exists()?e(s.data()):e(null)},n)},iG=async(t,e,n)=>{if(!t||t.role!=="super_admin")throw new Error("Only super admins can update user roles");const r=Un(on,"users",e);await oa(r,{role:n})},oG=async(t,e,n,r)=>{const s=n&&r;if(!t&&!s)return;const i=s?Un(on,"users",r):Un(on,"users",t.id),o=await xm(i);if(!o.exists())throw new Error("User not found");const a=o.data(),l=a.purchaseLimit||(e==null?void 0:e.purchaseLimit)||5;if(a.purchases>=l)return;const d=a.purchases+1>=l,f={scannedBy:(t==null?void 0:t.email)||"unknown",timestamp:Ke.now()};if(a.currentReward){const h=[...a.currentReward.scanHistory||[],f],v={...a.currentReward,scanHistory:h};await oa(i,{purchases:Hx(1),isRewardReady:d,lastScanAt:Ke.now(),currentReward:v})}else{const h={rewardId:`reward_${Date.now()}`,claimedAt:null,scanHistory:[f]};await oa(i,{purchases:Hx(1),isRewardReady:d,lastScanAt:Ke.now(),currentReward:h})}},aG=async t=>{if(!t||!t.currentReward)return;const e=Un(on,"users",t.id),n={...t.currentReward,claimedAt:Ke.now()};await oa(e,{purchases:0,isRewardReady:!1,rewards:[...t.rewards||[],n],currentReward:null})},lG=(t,e)=>{const n=Un(on,"settings","global");return wE(n,r=>{if(r.exists())t(r.data());else{const s={purchaseLimit:5,descriptionMessage:"Complete purchases to unlock your reward!",updatedAt:Ke.now(),updatedBy:"system"};mR(n,s),t(s)}},e)},cG=async(t,e,n)=>{if(!t||t.role!=="admin"&&t.role!=="super_admin")throw new Error("Only admins can update settings");const r=Un(on,"settings","global");await oa(r,{purchaseLimit:e,descriptionMessage:n,updatedAt:Ke.now(),updatedBy:t.email})};function va(t,e){return async(...n)=>{try{return await t(...n)}catch(r){throw console.error(`${e} error:`,r),r}}}const uG=va(Zq,"loginUser"),dG=va(eG,"registerUser"),G_=va(tG,"logoutUser"),hG=nG,fG=rG,pG=sG,mG=va(iG,"updateUserRole"),gG=va(oG,"addPurchase"),yG=va(aG,"useReward"),vG=lG,wG=va(cG,"updateSettings"),YP=g.createContext(null),EG=({children:t})=>{const[e,n]=g.useState(null),[r,s]=g.useState(!0),[i,o]=g.useState(null),[a,l]=g.useState(!0),[c,d]=g.useState([]),[f,h]=g.useState(!1);g.useEffect(()=>{const _=vG(R=>{o(R),l(!1)},R=>{console.error("Error listening to settings:",R),l(!1)});return()=>_()},[]),g.useEffect(()=>{if(!e||e.role!=="admin"&&e.role!=="super_admin"){d([]);return}h(!0);const _=fG(R=>{d(R),h(!1)},R=>{console.error("Error listening to all users:",R),h(!1)});return()=>_()},[e==null?void 0:e.role]),g.useEffect(()=>{let _=null,R=!1;const O=hG(async S=>{R||(R=!0),S&&typeof S=="object"&&S!==null&&"uid"in S?(console.log("Firebase Auth user detected, setting up real-time listener for:",S.uid),setTimeout(()=>{_=pG(S.uid,I=>{console.log("Real-time user data received:",{uid:I.id,isSessionValid:I.isSessionValid,hasSessionToken:!!I.sessionToken}),I.isSessionValid===!1?(console.log("Session explicitly invalidated, signing out user"),n(null),s(!1),G_()):(console.log("Accepting user data during login, session status:",I.isSessionValid),n(I),s(!1))},I=>{console.error("Error listening to user data:",I),n(null),s(!1)})},500)):(n(null),s(!1),_&&(_(),_=null))}),j=setTimeout(()=>{R||s(!1)},1e4);return()=>{O&&O(),_&&_(),clearTimeout(j)}},[]);const v=async(_,R)=>{console.log("Login attempt started for:",_);try{const O=await uG(_,R);return console.log("Login successful, user data received:",!!O),O}catch(O){throw console.error("Login failed:",O),O}},E=(_,R,O,j)=>dG(_,R,O,j,i),y=(_,R)=>gG(e,i,_,R),b=()=>yG(e),C=(_,R)=>mG(e,_,R),w=async()=>{console.log("Logout called from useAuth hook"),await G_(),n(null)};return p.jsx(YP.Provider,{value:{user:e,loading:r,settings:i,settingsLoading:a,allUsers:c,allUsersLoading:f,login:v,register:E,addPurchase:y,useReward:b,logout:w,updateSettings:wG,updateUserRole:C},children:t})},ds=()=>{const t=g.useContext(YP);if(!t)throw new Error("useAuth must be used within AuthProvider");return t},CG=bw("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),qn=g.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...s},i)=>{const o=r?ta:"button";return p.jsx(o,{className:Ve(CG({variant:e,size:n,className:t})),ref:i,...s})});qn.displayName="Button";const xG=()=>{const[t,e]=g.useState(null),[n,r]=g.useState(!1),[s,i]=g.useState(!1),[o,a]=g.useState(""),l=()=>{const h=window.matchMedia("(display-mode: standalone)").matches,v=window.matchMedia("(display-mode: fullscreen)").matches,E=window.matchMedia("(display-mode: minimal-ui)").matches,y=navigator.standalone===!0,b=document.referrer==="",C=window.history.length<=1,w=h||v||E||y,R=new URLSearchParams(window.location.search).get("hide-install")==="true";return console.log("PWA Detection:",{isStandalone:h,isFullscreen:v,isMinimalUI:E,hasNavigatorStandalone:y,hasNoReferrer:b,hasNoHistory:C,isInstalledApp:w,forceHide:R}),w||R};g.useEffect(()=>{if(l()){i(!0),a("App is already installed");return}fetch("/manifest.json").then(_=>{if(!_.ok){a("Manifest not accessible");return}a("Manifest accessible")}).catch(()=>{a("Manifest fetch failed")});const v=_=>{console.log("beforeinstallprompt event fired"),_.preventDefault(),e(_),r(!0),a("Install prompt available")},E=()=>{console.log("App installed"),i(!0),r(!1),e(null),a("App installed successfully")},y=()=>{l()||setTimeout(()=>{r(!0),a("Manual install available")},2e3)};window.addEventListener("beforeinstallprompt",v),window.addEventListener("appinstalled",E),setTimeout(y,1e3);const b=window.matchMedia("(display-mode: standalone)"),C=_=>{_.matches&&(i(!0),r(!1),a("App switched to standalone mode"))};b.addEventListener("change",C);const w=setInterval(()=>{l()&&(i(!0),r(!1),a("App detected as installed"),clearInterval(w))},2e3);return()=>{window.removeEventListener("beforeinstallprompt",v),window.removeEventListener("appinstalled",E),b.removeEventListener("change",C),clearInterval(w)}},[]);const c=async()=>{if(t)try{t.prompt();const{outcome:h}=await t.userChoice;h==="accepted"?(console.log("User accepted the install prompt"),a("Install accepted")):(console.log("User dismissed the install prompt"),a("Install dismissed")),e(null),r(!1)}catch(h){console.error("Install error:",h),a("Install error: "+h)}else{const h=/Chrome/.test(navigator.userAgent),v=/Edg/.test(navigator.userAgent),E=/Safari/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent),y=/Firefox/.test(navigator.userAgent),b=/Android|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);let C="";b?E?C='To install: Tap the Share button (square with arrow) and select "Add to Home Screen"':h||v?C='To install: Tap the menu (three dots) and select "Add to Home screen" or "Install app"':y?C='To install: Tap the menu (three lines) and select "Add to Home Screen"':C="To install: Use your browser menu to add this site to your home screen":h||v?C='To install: Look for the install icon (plus sign) in your browser address bar, or use the menu (three dots) and select "Install app"':E?C='To install: Use the Share button in the toolbar and select "Add to Dock"':y?C='To install: Use the menu (three lines) and select "Install App"':C="To install: Use your browser menu to add this site to your desktop",alert(C),a("Manual install instructions shown")}},d=()=>{r(!1),a("Install prompt dismissed")},f=!1;return s?null:p.jsx(p.Fragment,{children:n&&p.jsx("div",{className:"fixed bottom-4 left-4 right-4 z-50 bg-gradient-to-r from-red-600 to-red-700 rounded-lg p-4 shadow-lg border border-red-500/30 backdrop-blur-sm",children:p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{className:"flex items-center space-x-3",children:[p.jsx(NL,{className:"w-5 h-5 text-white"}),p.jsxs("div",{children:[p.jsx("p",{className:"text-white font-semibold text-sm",children:"Install Vaporwave Loyalty Club"}),p.jsx("p",{className:"text-red-100 text-xs",children:"Get quick access and work offline"}),f]})]}),p.jsxs("div",{className:"flex items-center space-x-2",children:[p.jsx(qn,{onClick:c,size:"sm",className:"bg-white text-red-600 hover:bg-red-50 font-semibold",children:"Install"}),p.jsx(qn,{onClick:d,size:"sm",variant:"ghost",className:"text-white hover:bg-red-500/20",children:p.jsx(yI,{className:"w-4 h-4"})})]})]})})})},Vc=({children:t,requiredRole:e})=>{const{user:n,loading:r}=ds(),s=yo();if(r)return p.jsx("div",{className:"min-h-screen bg-gradient-to-br from-black via-gray-900 to-red-950 flex items-center justify-center",children:p.jsxs("div",{className:"text-center",children:[p.jsx(Iw,{className:"h-8 w-8 animate-spin text-red-500 mx-auto mb-4"}),p.jsx("p",{className:"text-white text-lg",children:"Loading..."})]})});if(!n)return p.jsx(Rp,{to:"/login",state:{from:s},replace:!0});if(e){const i=n.role,o={customer:1,admin:2,super_admin:3};if(o[i]<o[e])return p.jsx(Rp,{to:"/dashboard",replace:!0})}return p.jsx(p.Fragment,{children:t})},$_=({children:t})=>{const{user:e,loading:n}=ds();return n?p.jsx("div",{className:"min-h-screen bg-gradient-to-br from-black via-gray-900 to-red-950 flex items-center justify-center",children:p.jsxs("div",{className:"text-center",children:[p.jsx(Iw,{className:"h-8 w-8 animate-spin text-red-500 mx-auto mb-4"}),p.jsx("p",{className:"text-white text-lg",children:"Loading..."})]})}):e?p.jsx(Rp,{to:"/dashboard",replace:!0}):p.jsx(p.Fragment,{children:t})},_G=()=>{const[t,e]=g.useState(!1),[n,r]=g.useState(!1),s=()=>{const i=window.matchMedia("(display-mode: standalone)").matches,o=window.matchMedia("(display-mode: fullscreen)").matches,a=window.matchMedia("(display-mode: minimal-ui)").matches,l=navigator.standalone===!0;return i||o||a||l};return g.useEffect(()=>{s()&&r(!0);const o=window.matchMedia("(display-mode: standalone)"),a=l=>{l.matches&&r(!0)};return o.addEventListener("change",a),()=>{o.removeEventListener("change",a)}},[]),n?null:p.jsxs("div",{className:"fixed top-4 right-4 z-40",children:[p.jsxs(qn,{onClick:()=>e(!t),size:"sm",variant:"outline",className:"bg-white/90 backdrop-blur-sm border-gray-200 hover:bg-white",children:[p.jsx(kL,{className:"w-4 h-4 mr-2"}),"Install Guide"]}),t&&p.jsxs("div",{className:"absolute top-12 right-0 w-80 bg-white rounded-lg shadow-lg border border-gray-200 p-4",children:[p.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"How to Install"}),p.jsxs("div",{className:"space-y-3 text-sm text-gray-600",children:[p.jsxs("div",{children:[p.jsx("strong",{children:"Chrome/Edge (Desktop):"}),p.jsx("p",{children:'Look for the install icon (plus sign) in your browser address bar, or use the menu (three dots) and select "Install app"'})]}),p.jsxs("div",{children:[p.jsx("strong",{children:"Chrome/Edge (Mobile):"}),p.jsx("p",{children:'Tap the menu (three dots) and select "Add to Home screen" or "Install app"'})]}),p.jsxs("div",{children:[p.jsx("strong",{children:"Safari (Mobile):"}),p.jsx("p",{children:'Tap the Share button (square with arrow) and select "Add to Home Screen"'})]}),p.jsxs("div",{children:[p.jsx("strong",{children:"Safari (Desktop):"}),p.jsx("p",{children:'Use the Share button in the toolbar and select "Add to Dock"'})]}),p.jsxs("div",{children:[p.jsx("strong",{children:"Firefox:"}),p.jsx("p",{children:'Use the menu (three lines) and select "Install App" or "Add to Home Screen"'})]})]}),p.jsx(qn,{onClick:()=>e(!1),size:"sm",className:"mt-3 w-full",children:"Got it!"})]})]})},TG=()=>{const[t,e]=g.useState(!1),n=()=>{const r=window.matchMedia("(display-mode: standalone)").matches,s=window.matchMedia("(display-mode: fullscreen)").matches,i=window.matchMedia("(display-mode: minimal-ui)").matches,o=navigator.standalone===!0;return r||s||i||o};return g.useEffect(()=>{n()&&e(!0);const s=window.matchMedia("(display-mode: standalone)"),i=o=>{o.matches&&e(!0)};return s.addEventListener("change",i),()=>{s.removeEventListener("change",i)}},[]),p.jsxs("div",{className:"min-h-screen relative overflow-hidden",children:[p.jsx("div",{className:"absolute inset-0 bg-cover bg-center bg-no-repeat",style:{backgroundImage:"url(/bgCover.jpeg)"}}),p.jsx("div",{className:"absolute inset-0 bg-black/60"}),p.jsxs("div",{className:"absolute inset-0 opacity-20",children:[p.jsx("div",{className:"absolute top-10 left-10 w-32 h-32 bg-red-500 rounded-full blur-3xl animate-pulse"}),p.jsx("div",{className:"absolute bottom-20 right-10 w-40 h-40 bg-red-600 rounded-full blur-3xl animate-pulse delay-1000"}),p.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-60 h-60 bg-red-700 rounded-full blur-3xl animate-pulse delay-500"})]}),p.jsxs("div",{className:"relative z-10 flex flex-col items-center justify-center min-h-screen px-6 text-center",children:[p.jsx("div",{children:p.jsx("div",{className:"flex justify-center mb-4",children:p.jsx("img",{src:"/logo.png",alt:"Vape Master Logo",className:"w-24 h-24 sm:w-32 sm:h-32 md:w-40 md:h-40 lg:w-48 lg:h-48 object-contain"})})}),p.jsxs("div",{className:"mb-12 max-w-md",children:[p.jsx("h2",{className:"text-xl sm:text-2xl md:text-3xl lg:text-4xl xl:text-5xl font-semibold text-white mb-4",children:"Loyalty Program"}),p.jsx("p",{className:"text-gray-300 text-sm sm:text-base md:text-lg lg:text-xl xl:text-2xl leading-relaxed",children:"Join our loyalty program and get rewards! Earn points with every purchase and unlock exclusive benefits."})]}),p.jsxs("div",{className:"space-y-4 w-full max-w-sm",children:[p.jsx(Ks,{to:"/register",className:"block",children:p.jsx(qn,{className:"w-full py-4 text-lg font-semibold bg-gradient-to-r from-red-600 to-red-700 hover:from-red-700 hover:to-red-800 text-white border-none shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-105",children:"Join Now"})}),p.jsx(Ks,{to:"/login",className:"block",children:p.jsx(qn,{variant:"outline",className:"w-full py-4 text-lg font-semibold bg-transparent border-2 border-red-500 text-red-400 hover:bg-red-500 hover:text-white transition-all duration-300 transform hover:scale-105",children:"Already a Member?"})})]}),!t&&p.jsx("div",{className:"mt-8",children:p.jsx(_G,{})}),p.jsx("div",{className:"absolute bottom-6 text-center text-gray-500",children:p.jsx("p",{className:"text-sm",children:"Smoke responsibly • 21+ only"})})]})]})},AG=()=>{const{user:t,loading:e}=ds();return e?p.jsx("div",{className:"min-h-screen bg-gradient-to-br from-black via-gray-900 to-red-950 flex items-center justify-center",children:p.jsxs("div",{className:"text-center",children:[p.jsx(Iw,{className:"h-8 w-8 animate-spin text-red-500 mx-auto mb-4"}),p.jsx("p",{className:"text-white text-lg",children:"Loading..."})]})}):t?p.jsx(Rp,{to:"/dashboard",replace:!0}):p.jsx(TG,{})},Qo=g.forwardRef(({className:t,type:e,...n},r)=>p.jsx("input",{type:e,className:Ve("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...n}));Qo.displayName="Input";var bG="Label",QP=g.forwardRef((t,e)=>p.jsx(Oe.label,{...t,ref:e,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=t.onMouseDown)==null||s.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));QP.displayName=bG;var HP=QP;const IG=bw("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Ms=g.forwardRef(({className:t,...e},n)=>p.jsx(HP,{ref:n,className:Ve(IG(),t),...e}));Ms.displayName=HP.displayName;const KE=g.forwardRef(({className:t,...e},n)=>p.jsx("textarea",{className:Ve("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:n,...e}));KE.displayName="Textarea";function yt(t,e){const n=window;typeof window<"u"&&typeof n.gtag=="function"&&n.gtag("event",t,e||{})}const SG=()=>{const[t,e]=g.useState(""),[n,r]=g.useState(""),[s,i]=g.useState(""),[o,a]=g.useState(""),[l,c]=g.useState(!1),{register:d,user:f,loading:h}=ds(),v=Hs();g.useEffect(()=>{yt("page_view",{page:"Register"})},[]);const E=async y=>{if(y.preventDefault(),!t.trim()||!n.trim()||!o.trim()){it({title:"Missing Information",description:"Please fill in your name, email, and password.",variant:"destructive"}),yt("register_missing_info");return}c(!0);try{yt("register_attempt",{email:n}),await d(t.trim(),n.trim(),o.trim(),s.trim()||null),it({title:"Welcome to Vape Master!",description:"Your loyalty card is ready!"}),yt("register_success",{user_id:f.id,user_role:f.role}),v("/dashboard")}catch(b){let C="Please try again.";b&&typeof b=="object"&&"message"in b&&typeof b.message=="string"&&(C=b.message),it({title:"Registration Failed",description:C,variant:"destructive"}),yt("register_failed",{email:n,error:C})}finally{c(!1)}};return p.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-black via-gray-900 to-red-950 relative overflow-hidden",children:[p.jsxs("div",{className:"absolute inset-0 opacity-10",children:[p.jsx("div",{className:"absolute top-20 right-10 w-40 h-40 bg-red-500 rounded-full blur-3xl animate-pulse"}),p.jsx("div",{className:"absolute bottom-32 left-10 w-32 h-32 bg-red-600 rounded-full blur-3xl animate-pulse delay-1000"})]}),p.jsxs("div",{className:"relative z-10 min-h-screen flex flex-col",children:[p.jsx("div",{className:"p-6",children:p.jsx(Ks,{to:"/",className:"text-red-400 hover:text-red-300 transition-colors",children:p.jsx(dd,{className:"w-6 h-6"})})}),p.jsx("div",{className:"flex-1 flex items-center justify-center px-6",children:p.jsx("div",{className:"w-full max-w-md",children:p.jsxs("div",{className:"bg-gray-900/80 backdrop-blur-sm border border-red-900/30 rounded-2xl p-8 shadow-2xl",children:[p.jsxs("div",{className:"text-center mb-8",children:[p.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"Join the Club"}),p.jsx("p",{className:"text-gray-400",children:"Create your loyalty account"})]}),p.jsxs("form",{onSubmit:E,className:"space-y-6",children:[p.jsxs("div",{className:"space-y-2",children:[p.jsx(Ms,{htmlFor:"name",className:"text-white",children:"Full Name"}),p.jsx(Qo,{id:"name",type:"text",value:t,onChange:y=>e(y.target.value),placeholder:"Enter your full name",className:"bg-gray-800/50 border-gray-700 text-white placeholder-gray-400 focus:border-red-500",required:!0})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(Ms,{htmlFor:"email",className:"text-white",children:"Email"}),p.jsx(Qo,{id:"email",type:"email",value:n,onChange:y=>r(y.target.value),placeholder:"Enter your email",className:"bg-gray-800/50 border-gray-700 text-white placeholder-gray-400 focus:border-red-500",required:!0})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(Ms,{htmlFor:"password",className:"text-white",children:"Password"}),p.jsx(Qo,{id:"password",type:"password",value:o,onChange:y=>a(y.target.value),placeholder:"Create a password",className:"bg-gray-800/50 border-gray-700 text-white placeholder-gray-400 focus:border-red-500",required:!0})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(Ms,{htmlFor:"feedback",className:"text-white",children:"Feedback (Optional)"}),p.jsx(KE,{id:"feedback",value:s,onChange:y=>i(y.target.value),placeholder:"Tell us about your experience...",className:"bg-gray-800/50 border-gray-700 text-white placeholder-gray-400 focus:border-red-500 min-h-[100px]"})]}),p.jsx(qn,{type:"submit",className:"w-full py-3 bg-gradient-to-r from-red-600 to-red-700 hover:from-red-700 hover:to-red-800 text-white font-semibold",disabled:l,children:l?"Creating Account...":"Create Account"})]}),p.jsx("div",{className:"mt-6 text-center",children:p.jsxs("p",{className:"text-gray-400",children:["Already have an account?"," ",p.jsx(Ks,{to:"/login",className:"text-red-400 hover:text-red-300 transition-colors font-semibold",children:"Sign in"})]})})]})})})]})]})},RG=()=>{const[t,e]=g.useState(""),[n,r]=g.useState(""),[s,i]=g.useState(!1),{login:o,user:a,loading:l}=ds(),c=Hs(),d=yo();g.useEffect(()=>{yt("page_view",{page:"Login"})},[]);const f=async h=>{var v,E;if(h.preventDefault(),!t.trim()||!n.trim()){it({title:"Missing Information",description:"Please enter your email and password.",variant:"destructive"}),yt("login_missing_info");return}i(!0);try{yt("login_attempt",{email:t});const y=await o(t.trim(),n.trim());if(y){it({title:"Welcome back!",description:`Good to see you again, ${y.name}!`}),yt("login_success",{user_id:y.id,user_role:y.role});const b=((E=(v=d.state)==null?void 0:v.from)==null?void 0:E.pathname)||"/dashboard";c(b,{replace:!0})}else it({title:"User Not Found",description:"No account found with this email. Please register first.",variant:"destructive"}),yt("login_user_not_found",{email:t})}catch(y){let b="Please try again.";y&&typeof y=="object"&&"message"in y&&typeof y.message=="string"&&(b=y.message),it({title:"Login Failed",description:b,variant:"destructive"}),yt("login_failed",{email:t,error:b})}finally{i(!1)}};return p.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-black via-gray-900 to-red-950 relative overflow-hidden",children:[p.jsxs("div",{className:"absolute inset-0 opacity-10",children:[p.jsx("div",{className:"absolute top-20 right-10 w-40 h-40 bg-red-500 rounded-full blur-3xl animate-pulse"}),p.jsx("div",{className:"absolute bottom-32 left-10 w-32 h-32 bg-red-600 rounded-full blur-3xl animate-pulse delay-1000"})]}),p.jsxs("div",{className:"relative z-10 min-h-screen flex flex-col",children:[p.jsx("div",{className:"p-6",children:p.jsx(Ks,{to:"/",className:"text-red-400 hover:text-red-300 transition-colors",children:p.jsx(dd,{className:"w-6 h-6"})})}),p.jsx("div",{className:"flex-1 flex items-center justify-center px-6",children:p.jsx("div",{className:"w-full max-w-md",children:p.jsxs("div",{className:"bg-gray-900/80 backdrop-blur-sm border border-red-900/30 rounded-2xl p-8 shadow-2xl",children:[p.jsxs("div",{className:"text-center mb-8",children:[p.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"Welcome Back"}),p.jsx("p",{className:"text-gray-400",children:"Sign in to your loyalty account"})]}),p.jsxs("form",{onSubmit:f,className:"space-y-6",children:[p.jsxs("div",{className:"space-y-2",children:[p.jsx(Ms,{htmlFor:"email",className:"text-white",children:"Email"}),p.jsx(Qo,{id:"email",type:"email",value:t,onChange:h=>e(h.target.value),placeholder:"Enter your email",className:"bg-gray-800/50 border-gray-700 text-white placeholder-gray-400 focus:border-red-500",required:!0})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(Ms,{htmlFor:"password",className:"text-white",children:"Password"}),p.jsx(Qo,{id:"password",type:"password",value:n,onChange:h=>r(h.target.value),placeholder:"Enter your password",className:"bg-gray-800/50 border-gray-700 text-white placeholder-gray-400 focus:border-red-500",required:!0})]}),p.jsx(qn,{type:"submit",className:"w-full py-3 bg-gradient-to-r from-red-600 to-red-700 hover:from-red-700 hover:to-red-800 text-white font-semibold",disabled:s,children:s?"Signing In...":"Sign In"})]}),p.jsx("div",{className:"mt-6 text-center",children:p.jsxs("p",{className:"text-gray-400",children:["Don't have an account?"," ",p.jsx(Ks,{to:"/register",className:"text-red-400 hover:text-red-300 transition-colors font-semibold",children:"Sign up"})]})})]})})})]})]})},PG=5;function NG(){const{user:t,loading:e,addPurchase:n,logout:r,settings:s,allUsers:i,allUsersLoading:o}=ds(),a=Hs(),[l,c]=g.useState(!1),d=g.useRef(null),[f,h]=g.useState(!1),[v,E]=g.useState(0),[y,b]=g.useState(null),[C,w]=g.useState("progress"),_=(t==null?void 0:t.purchaseLimit)||(s==null?void 0:s.purchaseLimit)||PG;g.useEffect(()=>{!e&&!t&&a("/login")},[t,e,a]),g.useEffect(()=>{t&&(b(new Date),d.current!==null&&d.current!==t.purchases&&t.purchases-d.current>0&&(it({title:"Purchase Updated! 📱",description:`Your purchase count was updated via QR scan. New total: ${t.purchases}/${_}`}),h(!0),E(I=>I+1),setTimeout(()=>h(!1),2500),t.isRewardReady&&d.current<_&&setTimeout(()=>{it({title:"Reward Unlocked! 🎉",description:"You've earned a reward! Check your rewards page."}),setTimeout(()=>a("/rewards"),1500)},1e3)),d.current===0&&t.purchases===1&&(c(!0),setTimeout(()=>c(!1),3e3)),d.current=t.purchases)},[t==null?void 0:t.purchases,t==null?void 0:t.isRewardReady,a,_]);const R=Math.max(0,_-((t==null?void 0:t.purchases)||0));return{user:t,loading:e,addPurchase:n,logout:r,settings:s,allUsers:i,allUsersLoading:o,navigate:a,showFirstConfetti:l,showConfetti:f,confettiKey:v,lastUpdateTime:y,activeTab:C,setActiveTab:w,userPurchaseLimit:_,purchasesRemaining:R,handleAddPurchase:()=>{!t||t.purchases>=_||(n(),h(!0),E(S=>S+1),setTimeout(()=>h(!1),2500),t.purchases+1>=_?(it({title:"Reward Unlocked! 🎉",description:"You've earned a reward! Check your rewards page."}),setTimeout(()=>a("/rewards"),1500)):it({title:"Purchase Added!",description:`${_-1-t.purchases} more purchases until your next reward!`}))},handleLogout:()=>{r(),it({title:"Logged Out",description:"Thanks for visiting Vape Master!"}),a("/")}}}var _f={linear:function(t,e,n,r){var s=n-e;return s*t/r+e},easeInQuad:function(t,e,n,r){var s=n-e;return s*(t/=r)*t+e},easeOutQuad:function(t,e,n,r){var s=n-e;return-s*(t/=r)*(t-2)+e},easeInOutQuad:function(t,e,n,r){var s=n-e;return(t/=r/2)<1?s/2*t*t+e:-s/2*(--t*(t-2)-1)+e},easeInCubic:function(t,e,n,r){var s=n-e;return s*(t/=r)*t*t+e},easeOutCubic:function(t,e,n,r){var s=n-e;return s*((t=t/r-1)*t*t+1)+e},easeInOutCubic:function(t,e,n,r){var s=n-e;return(t/=r/2)<1?s/2*t*t*t+e:s/2*((t-=2)*t*t+2)+e},easeInQuart:function(t,e,n,r){var s=n-e;return s*(t/=r)*t*t*t+e},easeOutQuart:function(t,e,n,r){var s=n-e;return-s*((t=t/r-1)*t*t*t-1)+e},easeInOutQuart:function(t,e,n,r){var s=n-e;return(t/=r/2)<1?s/2*t*t*t*t+e:-s/2*((t-=2)*t*t*t-2)+e},easeInQuint:function(t,e,n,r){var s=n-e;return s*(t/=r)*t*t*t*t+e},easeOutQuint:function(t,e,n,r){var s=n-e;return s*((t=t/r-1)*t*t*t*t+1)+e},easeInOutQuint:function(t,e,n,r){var s=n-e;return(t/=r/2)<1?s/2*t*t*t*t*t+e:s/2*((t-=2)*t*t*t*t+2)+e},easeInSine:function(t,e,n,r){var s=n-e;return-s*Math.cos(t/r*(Math.PI/2))+s+e},easeOutSine:function(t,e,n,r){var s=n-e;return s*Math.sin(t/r*(Math.PI/2))+e},easeInOutSine:function(t,e,n,r){var s=n-e;return-s/2*(Math.cos(Math.PI*t/r)-1)+e},easeInExpo:function(t,e,n,r){var s=n-e;return t==0?e:s*Math.pow(2,10*(t/r-1))+e},easeOutExpo:function(t,e,n,r){var s=n-e;return t==r?e+s:s*(-Math.pow(2,-10*t/r)+1)+e},easeInOutExpo:function(t,e,n,r){var s=n-e;return t===0?e:t===r?e+s:(t/=r/2)<1?s/2*Math.pow(2,10*(t-1))+e:s/2*(-Math.pow(2,-10*--t)+2)+e},easeInCirc:function(t,e,n,r){var s=n-e;return-s*(Math.sqrt(1-(t/=r)*t)-1)+e},easeOutCirc:function(t,e,n,r){var s=n-e;return s*Math.sqrt(1-(t=t/r-1)*t)+e},easeInOutCirc:function(t,e,n,r){var s=n-e;return(t/=r/2)<1?-s/2*(Math.sqrt(1-t*t)-1)+e:s/2*(Math.sqrt(1-(t-=2)*t)+1)+e},easeInElastic:function(t,e,n,r){var s=n-e,i,o,a;return a=1.70158,o=0,i=s,t===0?e:(t/=r)===1?e+s:(o||(o=r*.3),i<Math.abs(s)?(i=s,a=o/4):a=o/(2*Math.PI)*Math.asin(s/i),-(i*Math.pow(2,10*(t-=1))*Math.sin((t*r-a)*(2*Math.PI)/o))+e)},easeOutElastic:function(t,e,n,r){var s=n-e,i,o,a;return a=1.70158,o=0,i=s,t===0?e:(t/=r)===1?e+s:(o||(o=r*.3),i<Math.abs(s)?(i=s,a=o/4):a=o/(2*Math.PI)*Math.asin(s/i),i*Math.pow(2,-10*t)*Math.sin((t*r-a)*(2*Math.PI)/o)+s+e)},easeInOutElastic:function(t,e,n,r){var s=n-e,i,o,a;return a=1.70158,o=0,i=s,t===0?e:(t/=r/2)===2?e+s:(o||(o=r*(.3*1.5)),i<Math.abs(s)?(i=s,a=o/4):a=o/(2*Math.PI)*Math.asin(s/i),t<1?-.5*(i*Math.pow(2,10*(t-=1))*Math.sin((t*r-a)*(2*Math.PI)/o))+e:i*Math.pow(2,-10*(t-=1))*Math.sin((t*r-a)*(2*Math.PI)/o)*.5+s+e)},easeInBack:function(t,e,n,r,s){var i=n-e;return s===void 0&&(s=1.70158),i*(t/=r)*t*((s+1)*t-s)+e},easeOutBack:function(t,e,n,r,s){var i=n-e;return s===void 0&&(s=1.70158),i*((t=t/r-1)*t*((s+1)*t+s)+1)+e},easeInOutBack:function(t,e,n,r,s){var i=n-e;return s===void 0&&(s=1.70158),(t/=r/2)<1?i/2*(t*t*(((s*=1.525)+1)*t-s))+e:i/2*((t-=2)*t*(((s*=1.525)+1)*t+s)+2)+e},easeInBounce:function(t,e,n,r){var s=n-e,i;return i=_f.easeOutBounce(r-t,0,s,r),s-i+e},easeOutBounce:function(t,e,n,r){var s=n-e;return(t/=r)<1/2.75?s*(7.5625*t*t)+e:t<2/2.75?s*(7.5625*(t-=1.5/2.75)*t+.75)+e:t<2.5/2.75?s*(7.5625*(t-=2.25/2.75)*t+.9375)+e:s*(7.5625*(t-=2.625/2.75)*t+.984375)+e},easeInOutBounce:function(t,e,n,r){var s=n-e,i;return t<r/2?(i=_f.easeInBounce(t*2,0,s,r),i*.5+e):(i=_f.easeOutBounce(t*2-r,0,s,r),i*.5+s*.5+e)}},kG=_f;function MG(t){return t*Math.PI/180}function Wn(t,e){return t+Math.random()*(e-t)}function DG(t,e){return Math.floor(t+Math.random()*(e-t+1))}var pu;(function(t){t[t.Circle=0]="Circle",t[t.Square=1]="Square",t[t.Strip=2]="Strip"})(pu||(pu={}));var gi;(function(t){t[t.Positive=1]="Positive",t[t.Negative=-1]="Negative"})(gi||(gi={}));const OG=1e3/60;class LG{constructor(e,n,r,s){this.getOptions=n;const{colors:i,initialVelocityX:o,initialVelocityY:a}=this.getOptions();this.context=e,this.x=r,this.y=s,this.w=Wn(5,20),this.h=Wn(5,20),this.radius=Wn(5,10),this.vx=typeof o=="number"?Wn(-o,o):Wn(o.min,o.max),this.vy=typeof a=="number"?Wn(-a,0):Wn(a.min,a.max),this.shape=DG(0,2),this.angle=MG(Wn(0,360)),this.angularSpin=Wn(-.2,.2),this.color=i[Math.floor(Math.random()*i.length)],this.rotateY=Wn(0,1),this.rotationDirection=Wn(0,1)?gi.Positive:gi.Negative}update(e){const{gravity:n,wind:r,friction:s,opacity:i,drawShape:o}=this.getOptions(),a=e/OG;this.x+=this.vx*a,this.y+=this.vy*a,this.vy+=n*a,this.vx+=r*a,this.vx*=s**a,this.vy*=s**a,this.rotateY>=1&&this.rotationDirection===gi.Positive?this.rotationDirection=gi.Negative:this.rotateY<=-1&&this.rotationDirection===gi.Negative&&(this.rotationDirection=gi.Positive);const l=.1*this.rotationDirection*a;if(this.rotateY+=l,this.angle+=this.angularSpin,this.context.save(),this.context.translate(this.x,this.y),this.context.rotate(this.angle),this.context.scale(1,this.rotateY),this.context.rotate(this.angle),this.context.beginPath(),this.context.fillStyle=this.color,this.context.strokeStyle=this.color,this.context.globalAlpha=i,this.context.lineCap="round",this.context.lineWidth=2,o&&typeof o=="function")o.call(this,this.context);else switch(this.shape){case pu.Circle:{this.context.beginPath(),this.context.arc(0,0,this.radius,0,2*Math.PI),this.context.fill();break}case pu.Square:{this.context.fillRect(-this.w/2,-this.h/2,this.w,this.h);break}case pu.Strip:{this.context.fillRect(-this.w/6,-this.h/2,this.w/3,this.h);break}}this.context.closePath(),this.context.restore()}}class VG{constructor(e,n){this.x=0,this.y=0,this.w=0,this.h=0,this.lastNumberOfPieces=0,this.tweenProgress=0,this.tweenFrom=0,this.particles=[],this.particlesGenerated=0,this.removeParticleAt=s=>{this.particles.splice(s,1)},this.getParticle=()=>{const s=Wn(this.x,this.w+this.x),i=Wn(this.y,this.h+this.y);return new LG(this.context,this.getOptions,s,i)},this.animate=s=>{const{canvas:i,context:o,particlesGenerated:a,lastNumberOfPieces:l}=this,{run:c,recycle:d,numberOfPieces:f,debug:h,tweenFunction:v,tweenDuration:E}=this.getOptions();if(!c)return!1;const y=this.particles.length,b=d?y:a;if(b<f){l!==f&&(this.tweenProgress=0,this.tweenFrom=b,this.lastNumberOfPieces=f),this.tweenProgress=Math.min(E,Math.max(0,this.tweenProgress+s));const C=v(this.tweenProgress,this.tweenFrom,f,E),w=Math.round(C-b);for(let _=0;_<w;_++)this.particles.push(this.getParticle());this.particlesGenerated+=w}h&&(o.font="12px sans-serif",o.fillStyle="#333",o.textAlign="right",o.fillText(`Particles: ${y}`,i.width-10,i.height-20));for(let C=this.particles.length-1;C>=0;C--){const w=this.particles[C];w.update(s),(w.y>i.height||w.y<-100||w.x>i.width+100||w.x<-100)&&(d&&b<=f?this.particles[C]=this.getParticle():this.removeParticleAt(C))}return y>0||b<f},this.canvas=e;const r=this.canvas.getContext("2d");if(!r)throw new Error("Could not get canvas context");this.context=r,this.getOptions=n}}const YE={width:typeof window<"u"?window.innerWidth:300,height:typeof window<"u"?window.innerHeight:200,numberOfPieces:200,friction:.99,wind:0,gravity:.1,initialVelocityX:4,initialVelocityY:10,colors:["#f44336","#e91e63","#9c27b0","#673ab7","#3f51b5","#2196f3","#03a9f4","#00bcd4","#009688","#4CAF50","#8BC34A","#CDDC39","#FFEB3B","#FFC107","#FF9800","#FF5722","#795548"],opacity:1,debug:!1,tweenFunction:kG.easeInOutQuad,tweenDuration:5e3,recycle:!0,run:!0};class FG{constructor(e,n){this.lastFrameTime=0,this.setOptionsWithDefaults=s=>{const i={confettiSource:{x:0,y:0,w:this.canvas.width,h:0}};this._options={...i,...YE,...s},Object.assign(this,s.confettiSource)},this.update=(s=0)=>{const{options:{run:i,onConfettiComplete:o,frameRate:a},canvas:l,context:c}=this,d=Math.min(s-this.lastFrameTime,50);if(a&&d<1e3/a){this.rafId=requestAnimationFrame(this.update);return}this.lastFrameTime=s-(a?d%a:0),i&&(c.fillStyle="white",c.clearRect(0,0,l.width,l.height)),this.generator.animate(d)?this.rafId=requestAnimationFrame(this.update):(o&&typeof o=="function"&&this.generator.particlesGenerated>0&&o.call(this,this),this._options.run=!1)},this.reset=()=>{this.generator&&this.generator.particlesGenerated>0&&(this.generator.particlesGenerated=0,this.generator.particles=[],this.generator.lastNumberOfPieces=0)},this.stop=()=>{this.options={run:!1},this.rafId&&(cancelAnimationFrame(this.rafId),this.rafId=void 0)},this.canvas=e;const r=this.canvas.getContext("2d");if(!r)throw new Error("Could not get canvas context");this.context=r,this.generator=new VG(this.canvas,()=>this.options),this.options=n,this.update()}get options(){return this._options}set options(e){var s,i;const n=(s=this._options)==null?void 0:s.run,r=(i=this._options)==null?void 0:i.recycle;this.setOptionsWithDefaults(e),this.generator&&(Object.assign(this.generator,this.options.confettiSource),typeof e.recycle=="boolean"&&e.recycle&&r===!1&&(this.generator.lastNumberOfPieces=this.generator.particles.length)),typeof e.run=="boolean"&&e.run&&n===!1&&this.update()}}const jG=Y.createRef();class QE extends Y.Component{constructor(e){super(e),this.canvas=Y.createRef(),this.canvas=e.canvasRef||jG}componentDidMount(){if(this.canvas.current){const e=ry(this.props)[0];this.confetti=new FG(this.canvas.current,e)}}componentDidUpdate(){const e=ry(this.props)[0];this.confetti&&(this.confetti.options=e)}componentWillUnmount(){this.confetti&&this.confetti.stop(),this.confetti=void 0}render(){const[e,n]=ry(this.props),r={zIndex:2,position:"absolute",pointerEvents:"none",top:0,left:0,bottom:0,right:0,...n.style};return p.jsx("canvas",{width:e.width,height:e.height,ref:this.canvas,...n,style:r})}}QE.defaultProps={...YE};QE.displayName="ReactConfetti";function ry(t){const e={},n={},r={},s=[...Object.keys(YE),"confettiSource","drawShape","onConfettiComplete","frameRate"],i=["canvasRef"];for(const o in t){const a=t[o];s.includes(o)?e[o]=a:i.includes(o)?i[o]=a:r[o]=a}return[e,r,n]}const t0=Y.forwardRef((t,e)=>p.jsx(QE,{canvasRef:e,...t})),BG=({title:t,onBack:e,actions:n})=>p.jsx("div",{className:"bg-gray-900/80 backdrop-blur-sm border-b border-red-900/30 sticky top-0 z-10",children:p.jsxs("div",{className:"p-6 flex items-center justify-between",children:[p.jsxs("div",{className:"flex items-center",children:[e&&p.jsx("button",{onClick:e,className:"text-red-400 hover:text-red-300 transition-colors",children:p.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),p.jsx("h1",{className:"ml-4 text-2xl font-bold text-white",children:t})]}),p.jsx("div",{className:"flex gap-2",children:n})]})}),UG=({reward:t,isOpen:e,onClose:n})=>!e||!t?null:p.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:p.jsxs("div",{className:"bg-gray-900 border border-red-900/30 rounded-lg max-w-2xl w-full max-h-[80vh] overflow-hidden",children:[p.jsxs("div",{className:"p-6 border-b border-red-900/30",children:[p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsx("h3",{className:"text-xl font-bold text-white",children:"Reward Details"}),p.jsx("button",{onClick:n,className:"text-gray-400 hover:text-white transition-colors",children:p.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),p.jsxs("div",{className:"mt-2 text-sm text-gray-400",children:[p.jsxs("p",{children:["Reward ID: ",t.rewardId]}),t.claimedAt&&p.jsxs("p",{className:"text-green-600",children:["Claimed:"," ",t.claimedAt.toDate?new Date(t.claimedAt.toDate()).toLocaleString():""]})]})]}),p.jsx("div",{className:"p-6 overflow-y-auto max-h-[60vh]",children:t.scanHistory&&t.scanHistory.length>0?p.jsxs("div",{children:[p.jsxs("h4",{className:"text-lg font-semibold text-white mb-4",children:["Scan History (",t.scanHistory.length," scans)"]}),p.jsx("div",{className:"overflow-x-auto",children:p.jsxs("table",{className:"min-w-full text-sm text-left text-gray-300",children:[p.jsx("thead",{children:p.jsxs("tr",{className:"border-b justify-between border-gray-700 md:table-row flex flex-col md:flex-row",children:[p.jsxs("th",{className:"px-4 py-3 font-semibold flex flex-col md:table-cell text-center md:text-left",children:[p.jsx("span",{className:"block md:hidden text-xs text-gray-400",children:"Scan #"}),p.jsx("span",{className:"hidden md:block",children:"Scan #"})]}),p.jsxs("th",{className:"px-4 py-3 font-semibold flex flex-col md:table-cell text-center md:text-left",children:[p.jsx("span",{className:"block md:hidden text-xs text-gray-400",children:"Scanned By"}),p.jsx("span",{className:"hidden md:block",children:"Scanned By"})]}),p.jsxs("th",{className:"px-4 py-3 font-semibold flex flex-col md:table-cell text-center md:text-left",children:[p.jsx("span",{className:"block md:hidden text-xs text-gray-400",children:"Date & Time"}),p.jsx("span",{className:"hidden md:block",children:"Date & Time"})]})]})}),p.jsx("tbody",{children:t.scanHistory.map((r,s)=>{var i,o;return p.jsxs("tr",{className:"border-b border-gray-800 hover:bg-gray-800/50 md:table-row flex flex-col md:flex-row justify-center text-center md:text-left",children:[p.jsxs("td",{className:"px-4 py-3 font-medium flex flex-col md:table-cell items-center md:items-start",children:[p.jsx("span",{className:"block text-xs text-gray-400 md:hidden",children:"Scan #"}),s+1]}),p.jsxs("td",{className:"px-4 py-3 flex flex-col md:table-cell items-center md:items-start",children:[p.jsx("span",{className:"block text-xs text-gray-400 md:hidden",children:"Scanned By"}),r.scannedBy]}),p.jsxs("td",{className:"px-4 py-3 flex flex-col md:table-cell items-center md:items-start",children:[p.jsx("span",{className:"block text-xs text-gray-400 md:hidden",children:"Date & Time"}),(i=r.timestamp)!=null&&i.toDate?new Date(r.timestamp.toDate()).toLocaleString():""]})]},((o=r.timestamp)==null?void 0:o.seconds)+r.scannedBy)})})]})})]}):p.jsx("div",{className:"text-center text-gray-400 py-8",children:p.jsx("p",{children:"No scan history available for this reward."})})}),p.jsx("div",{className:"p-6 border-t border-red-900/30",children:p.jsx("button",{onClick:n,className:"w-full bg-red-600 hover:bg-red-700 text-white font-semibold py-2 px-4 rounded-lg transition-colors",children:"Close"})})]})}),qG=({rewards:t,onRewardClick:e})=>!t||t.length===0?p.jsx("div",{className:"text-gray-400 text-sm",children:"No rewards claimed."}):p.jsxs("div",{className:"space-y-4 mt-2 mb-4",children:[p.jsx("h4",{className:"text-sm font-semibold text-white",children:"Claimed Rewards"}),t.slice().reverse().map((n,r)=>p.jsxs("div",{className:"border border-gray-700 rounded-lg p-3 cursor-pointer hover:bg-gray-800/50 transition-colors",onClick:()=>e(n),children:[p.jsxs("div",{className:"flex flex-wrap items-center justify-between mb-2",children:[p.jsxs("h5",{className:"text-sm font-medium text-white",children:["Reward #",t.length-r," - ",n.rewardId]}),p.jsxs("span",{className:"text-xs text-green-500 text-gray-400",children:["Claimed:"," ",n.claimedAt&&n.claimedAt.toDate?new Date(n.claimedAt.toDate()).toLocaleString():""]})]}),n.scanHistory&&n.scanHistory.length>0&&p.jsxs("div",{className:"mt-2",children:[p.jsxs("h6",{className:"text-xs font-medium text-gray-300 mb-1",children:["Scans for this reward: ",n.scanHistory.length," scans"]}),p.jsx("p",{className:"text-xs text-gray-400",children:"Click to view detailed scan history"})]})]},n.rewardId))]}),GG=({allUsers:t})=>{const[e,n]=g.useState(null),[r,s]=g.useState(!1);return p.jsxs("div",{className:"bg-gradient-to-br from-gray-900/90 via-black/80 to-red-950/90 border border-red-900/40 rounded-none p-6 min-h-[460px] flex flex-col justify-start -mt-0 shadow-2xl",children:[p.jsx("h3",{className:"text-2xl font-bold text-white mb-4",children:"Rewards History"}),p.jsx("div",{className:"space-y-2",children:t.filter(i=>i.role==="customer").map(i=>{var o,a;return p.jsxs("div",{className:"bg-gray-800/60 rounded-lg p-4",children:[p.jsxs("div",{className:"flex flex-wrap items-center justify-between mb-2",children:[p.jsxs("span",{className:"font-semibold text-white",children:[i.name," (",i.email,")"]}),p.jsxs("span",{className:"text-xs text-gray-400",children:["Total Scans: ",((a=(o=i.currentReward)==null?void 0:o.scanHistory)==null?void 0:a.length)||0]})]}),p.jsx(qG,{rewards:i.rewards,onRewardClick:l=>{n(l),s(!0)}})]},i.id)})}),p.jsx(UG,{reward:e,isOpen:r,onClose:()=>{s(!1),n(null)}})]})},$G=({users:t,loading:e})=>{const n=s=>{switch(s){case"super_admin":return p.jsx(mv,{className:"w-4 h-4 text-yellow-500"});case"admin":return p.jsx(gI,{className:"w-4 h-4 text-blue-500"});default:return p.jsx(rp,{className:"w-4 h-4 text-gray-400"})}},r=s=>{switch(s){case"super_admin":return"text-yellow-400";case"admin":return"text-blue-400";default:return"text-gray-400"}};return e?p.jsxs("div",{className:"flex items-center justify-center py-8",children:[p.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-red-500"}),p.jsx("span",{className:"ml-3 text-gray-400",children:"Loading users..."})]}):t.length===0?p.jsxs("div",{className:"text-center py-8",children:[p.jsx(rp,{className:"w-12 h-12 text-gray-500 mx-auto mb-4"}),p.jsx("p",{className:"text-gray-400",children:"No users found"})]}):p.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:t.map(s=>{var a;const i=s.purchaseLimit||5,o=Math.min(100,s.purchases/i*100);return p.jsxs("div",{className:"bg-gray-800/60 backdrop-blur-sm border border-gray-700/50 rounded-lg p-4 hover:bg-gray-800/80 transition-all duration-200",children:[p.jsxs("div",{className:"flex items-center flex-wrap justify-between mb-3",children:[p.jsxs("div",{className:"flex items-center space-x-3",children:[p.jsxs("div",{className:"flex items-center space-x-2",children:[n(s.role),p.jsx("span",{className:`text-sm font-medium ${r(s.role)}`,children:(s.role||"").replace("_"," ").toUpperCase()})]}),p.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"})]}),p.jsx("div",{className:"text-right",children:p.jsx("div",{className:"text-sm text-gray-400",children:s.lastScanAt?new Date(s.lastScanAt.toDate()).toLocaleDateString():"Never"})})]}),p.jsx("div",{className:"mb-3",children:p.jsxs("div",{className:"flex items-center flex-wrap justify-between mb-1",children:[p.jsx("span",{className:"font-semibold text-white",children:s.name}),p.jsx("span",{className:"text-sm text-gray-400",children:s.email})]})}),p.jsxs("div",{className:"space-y-2",children:[p.jsxs("div",{className:"flex items-center justify-between text-sm",children:[p.jsx("span",{className:"text-gray-400",children:"Progress:"}),p.jsxs("span",{className:"text-white font-medium",children:[s.purchases,"/",i]})]}),p.jsx("div",{className:"w-full bg-gray-700 rounded-full h-2",children:p.jsx("div",{className:`h-2 rounded-full transition-all duration-300 ${o>=100?"bg-green-500":"bg-red-500"}`,style:{width:`${o}%`}})}),p.jsxs("div",{className:"flex items-center flex-wrap justify-between text-xs text-gray-500",children:[p.jsxs("span",{children:[((a=s.rewards)==null?void 0:a.length)||0," rewards claimed"]}),p.jsx("span",{children:s.isRewardReady?"🎉 Ready!":`${i-s.purchases} to go`})]})]})]},s.id)})})},zG=({activeTab:t,setActiveTab:e,userRole:n})=>p.jsx("div",{className:"w-full flex justify-center mt-6",children:p.jsx("div",{className:"flex w-full max-w-md",children:n==="customer"?p.jsxs(p.Fragment,{children:[p.jsx("button",{className:`w-1/2 px-6 py-5 font-semibold text-base transition-all duration-200 focus:outline-none border-b-2 border-r-0 border-l-0 border-t-0 rounded-none ${t==="progress"?"bg-gray-900/80 border-red-500 text-red-400":"bg-gray-800/60 border-transparent text-gray-400 hover:text-red-300"}`,onClick:()=>e("progress"),children:"Progress"}),p.jsx("button",{className:`w-1/2 px-6 py-5 font-semibold text-base transition-all duration-200 focus:outline-none border-b-2 border-r-0 border-l-0 border-t-0 rounded-none ${t==="card"?"bg-gray-900/80 border-red-500 text-red-400":"bg-gray-800/60 border-transparent text-gray-400 hover:text-red-300"}`,onClick:()=>e("card"),children:"Loyalty Rewards"})]}):p.jsxs(p.Fragment,{children:[p.jsx("button",{className:`w-1/2 px-6 py-5 font-semibold text-base transition-all duration-200 focus:outline-none border-b-2 border-r-0 border-l-0 border-t-0 rounded-none ${t==="progress"?"bg-gray-900/80 border-red-500 text-red-400":"bg-gray-800/60 border-transparent text-gray-400 hover:text-red-300"}`,onClick:()=>e("progress"),children:"Users"}),p.jsx("button",{className:`w-1/2 px-6 py-5 font-semibold text-base transition-all duration-200 focus:outline-none border-b-2 border-r-0 border-l-0 border-t-0 rounded-none ${t==="card"?"bg-gray-900/80 border-red-500 text-red-400":"bg-gray-800/60 border-transparent text-gray-400 hover:text-red-300"}`,onClick:()=>e("card"),children:"Loyalty Rewards"})]})})}),WG=({value:t,max:e})=>{const n=Math.min(100,Math.max(0,t/e*100)),r=48,s=8,i=r-s/2,o=2*Math.PI*i,a=o-n/100*o;return p.jsx("div",{className:"flex flex-col items-center justify-center",children:p.jsxs("svg",{height:r*2,width:r*2,className:"transform -rotate-90",children:[p.jsx("circle",{stroke:"#374151",fill:"transparent",strokeWidth:s,strokeDasharray:o+" "+o,style:{strokeDashoffset:0},r:i,cx:r,cy:r}),p.jsx("circle",{stroke:"#ef4444",fill:"transparent",strokeWidth:s,strokeDasharray:o+" "+o,style:{strokeDashoffset:a},r:i,cx:r,cy:r})]})})},KG=({user:t,userPurchaseLimit:e,settings:n,purchasesRemaining:r,onViewReward:s})=>p.jsxs("div",{className:"relative overflow-hidden bg-gradient-to-br from-gray-900/90 via-black/80 to-red-950/90 border border-red-900/40 rounded-none p-10 min-h-[460px] flex flex-col justify-center -mt-0 shadow-2xl",children:[p.jsxs("div",{className:"absolute inset-0 z-0 pointer-events-none",children:[p.jsx("div",{className:"absolute -top-20 -left-20 w-96 h-96 bg-gradient-to-br from-red-500/30 via-pink-500/20 to-purple-700/10 rounded-full blur-3xl animate-pulse",style:{animationDuration:"4s"}}),p.jsx("div",{className:"absolute bottom-0 right-0 w-80 h-80 bg-gradient-to-tr from-blue-500/20 via-cyan-400/10 to-purple-700/10 rounded-full blur-2xl animate-pulse delay-1000",style:{animationDuration:"6s"}}),p.jsx("div",{className:"absolute top-1/2 left-1/2 w-1/2 h-1/2 bg-gradient-radial from-red-400/10 via-transparent to-transparent rounded-full blur-2xl animate-pulse",style:{animationDuration:"7s"}})]}),p.jsxs("div",{className:"relative z-10 flex flex-col items-center justify-center h-full",children:[p.jsx("h3",{className:"text-3xl font-extrabold text-white mb-2 tracking-tight drop-shadow-[0_0_16px_#ef4444cc] animate-fadeIn",children:"Your Progress"}),p.jsxs("div",{className:"flex flex-col items-center justify-center mb-6 animate-fadeIn",children:[p.jsxs("div",{className:"relative flex items-center justify-center",children:[p.jsx("div",{className:"absolute w-36 h-36 rounded-full bg-gradient-to-tr from-red-500/40 via-pink-400/20 to-purple-700/10 blur-2xl animate-pulse",style:{animationDuration:"3s"}}),p.jsx(WG,{value:t.purchases,max:e}),p.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:p.jsx("span",{className:"text-4xl mb-5 mr-3 font-extrabold text-white drop-shadow-[0_2px_8px_#000a] animate-pulse",children:t.purchases})})]}),p.jsx("div",{className:"mt-2 flex flex-col items-center",children:p.jsxs("span",{className:"text-base text-gray-300 font-semibold tracking-wide",children:["of ",e," Purchases"]})})]}),p.jsxs("div",{className:"text-center space-y-4",children:[p.jsx("p",{className:"text-gray-400 text-sm max-w-xs",children:t.purchases>=e?"🎉 You've earned a reward! Check your rewards page.":(n==null?void 0:n.descriptionMessage)||`Complete ${r} more purchase${r===1?"":"s"} to unlock your reward.`}),t.isRewardReady&&s&&p.jsx(qn,{onClick:s,className:"bg-gradient-to-r from-red-600 to-red-700 hover:from-red-700 hover:to-red-800 text-white font-semibold px-8 py-3 rounded-lg shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-105",children:"View Reward 🎉"})]})]})]});var bd={},YG=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then},JP={},ir={};let HE;const QG=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];ir.getSymbolSize=function(e){if(!e)throw new Error('"version" cannot be null or undefined');if(e<1||e>40)throw new Error('"version" should be in range from 1 to 40');return e*4+17};ir.getSymbolTotalCodewords=function(e){return QG[e]};ir.getBCHDigit=function(t){let e=0;for(;t!==0;)e++,t>>>=1;return e};ir.setToSJISFunction=function(e){if(typeof e!="function")throw new Error('"toSJISFunc" is not a valid function.');HE=e};ir.isKanjiModeEnabled=function(){return typeof HE<"u"};ir.toSJIS=function(e){return HE(e)};var Dm={};(function(t){t.L={bit:1},t.M={bit:0},t.Q={bit:3},t.H={bit:2};function e(n){if(typeof n!="string")throw new Error("Param is not a string");switch(n.toLowerCase()){case"l":case"low":return t.L;case"m":case"medium":return t.M;case"q":case"quartile":return t.Q;case"h":case"high":return t.H;default:throw new Error("Unknown EC Level: "+n)}}t.isValid=function(r){return r&&typeof r.bit<"u"&&r.bit>=0&&r.bit<4},t.from=function(r,s){if(t.isValid(r))return r;try{return e(r)}catch{return s}}})(Dm);function XP(){this.buffer=[],this.length=0}XP.prototype={get:function(t){const e=Math.floor(t/8);return(this.buffer[e]>>>7-t%8&1)===1},put:function(t,e){for(let n=0;n<e;n++)this.putBit((t>>>e-n-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(t){const e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),t&&(this.buffer[e]|=128>>>this.length%8),this.length++}};var HG=XP;function Id(t){if(!t||t<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=t,this.data=new Uint8Array(t*t),this.reservedBit=new Uint8Array(t*t)}Id.prototype.set=function(t,e,n,r){const s=t*this.size+e;this.data[s]=n,r&&(this.reservedBit[s]=!0)};Id.prototype.get=function(t,e){return this.data[t*this.size+e]};Id.prototype.xor=function(t,e,n){this.data[t*this.size+e]^=n};Id.prototype.isReserved=function(t,e){return this.reservedBit[t*this.size+e]};var JG=Id,ZP={};(function(t){const e=ir.getSymbolSize;t.getRowColCoords=function(r){if(r===1)return[];const s=Math.floor(r/7)+2,i=e(r),o=i===145?26:Math.ceil((i-13)/(2*s-2))*2,a=[i-7];for(let l=1;l<s-1;l++)a[l]=a[l-1]-o;return a.push(6),a.reverse()},t.getPositions=function(r){const s=[],i=t.getRowColCoords(r),o=i.length;for(let a=0;a<o;a++)for(let l=0;l<o;l++)a===0&&l===0||a===0&&l===o-1||a===o-1&&l===0||s.push([i[a],i[l]]);return s}})(ZP);var eN={};const XG=ir.getSymbolSize,z_=7;eN.getPositions=function(e){const n=XG(e);return[[0,0],[n-z_,0],[0,n-z_]]};var tN={};(function(t){t.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const e={N1:3,N2:3,N3:40,N4:10};t.isValid=function(s){return s!=null&&s!==""&&!isNaN(s)&&s>=0&&s<=7},t.from=function(s){return t.isValid(s)?parseInt(s,10):void 0},t.getPenaltyN1=function(s){const i=s.size;let o=0,a=0,l=0,c=null,d=null;for(let f=0;f<i;f++){a=l=0,c=d=null;for(let h=0;h<i;h++){let v=s.get(f,h);v===c?a++:(a>=5&&(o+=e.N1+(a-5)),c=v,a=1),v=s.get(h,f),v===d?l++:(l>=5&&(o+=e.N1+(l-5)),d=v,l=1)}a>=5&&(o+=e.N1+(a-5)),l>=5&&(o+=e.N1+(l-5))}return o},t.getPenaltyN2=function(s){const i=s.size;let o=0;for(let a=0;a<i-1;a++)for(let l=0;l<i-1;l++){const c=s.get(a,l)+s.get(a,l+1)+s.get(a+1,l)+s.get(a+1,l+1);(c===4||c===0)&&o++}return o*e.N2},t.getPenaltyN3=function(s){const i=s.size;let o=0,a=0,l=0;for(let c=0;c<i;c++){a=l=0;for(let d=0;d<i;d++)a=a<<1&2047|s.get(c,d),d>=10&&(a===1488||a===93)&&o++,l=l<<1&2047|s.get(d,c),d>=10&&(l===1488||l===93)&&o++}return o*e.N3},t.getPenaltyN4=function(s){let i=0;const o=s.data.length;for(let l=0;l<o;l++)i+=s.data[l];return Math.abs(Math.ceil(i*100/o/5)-10)*e.N4};function n(r,s,i){switch(r){case t.Patterns.PATTERN000:return(s+i)%2===0;case t.Patterns.PATTERN001:return s%2===0;case t.Patterns.PATTERN010:return i%3===0;case t.Patterns.PATTERN011:return(s+i)%3===0;case t.Patterns.PATTERN100:return(Math.floor(s/2)+Math.floor(i/3))%2===0;case t.Patterns.PATTERN101:return s*i%2+s*i%3===0;case t.Patterns.PATTERN110:return(s*i%2+s*i%3)%2===0;case t.Patterns.PATTERN111:return(s*i%3+(s+i)%2)%2===0;default:throw new Error("bad maskPattern:"+r)}}t.applyMask=function(s,i){const o=i.size;for(let a=0;a<o;a++)for(let l=0;l<o;l++)i.isReserved(l,a)||i.xor(l,a,n(s,l,a))},t.getBestMask=function(s,i){const o=Object.keys(t.Patterns).length;let a=0,l=1/0;for(let c=0;c<o;c++){i(c),t.applyMask(c,s);const d=t.getPenaltyN1(s)+t.getPenaltyN2(s)+t.getPenaltyN3(s)+t.getPenaltyN4(s);t.applyMask(c,s),d<l&&(l=d,a=c)}return a}})(tN);var Om={};const ki=Dm,$h=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],zh=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];Om.getBlocksCount=function(e,n){switch(n){case ki.L:return $h[(e-1)*4+0];case ki.M:return $h[(e-1)*4+1];case ki.Q:return $h[(e-1)*4+2];case ki.H:return $h[(e-1)*4+3];default:return}};Om.getTotalCodewordsCount=function(e,n){switch(n){case ki.L:return zh[(e-1)*4+0];case ki.M:return zh[(e-1)*4+1];case ki.Q:return zh[(e-1)*4+2];case ki.H:return zh[(e-1)*4+3];default:return}};var nN={},Lm={};const mu=new Uint8Array(512),Pp=new Uint8Array(256);(function(){let e=1;for(let n=0;n<255;n++)mu[n]=e,Pp[e]=n,e<<=1,e&256&&(e^=285);for(let n=255;n<512;n++)mu[n]=mu[n-255]})();Lm.log=function(e){if(e<1)throw new Error("log("+e+")");return Pp[e]};Lm.exp=function(e){return mu[e]};Lm.mul=function(e,n){return e===0||n===0?0:mu[Pp[e]+Pp[n]]};(function(t){const e=Lm;t.mul=function(r,s){const i=new Uint8Array(r.length+s.length-1);for(let o=0;o<r.length;o++)for(let a=0;a<s.length;a++)i[o+a]^=e.mul(r[o],s[a]);return i},t.mod=function(r,s){let i=new Uint8Array(r);for(;i.length-s.length>=0;){const o=i[0];for(let l=0;l<s.length;l++)i[l]^=e.mul(s[l],o);let a=0;for(;a<i.length&&i[a]===0;)a++;i=i.slice(a)}return i},t.generateECPolynomial=function(r){let s=new Uint8Array([1]);for(let i=0;i<r;i++)s=t.mul(s,new Uint8Array([1,e.exp(i)]));return s}})(nN);const rN=nN;function JE(t){this.genPoly=void 0,this.degree=t,this.degree&&this.initialize(this.degree)}JE.prototype.initialize=function(e){this.degree=e,this.genPoly=rN.generateECPolynomial(this.degree)};JE.prototype.encode=function(e){if(!this.genPoly)throw new Error("Encoder not initialized");const n=new Uint8Array(e.length+this.degree);n.set(e);const r=rN.mod(n,this.genPoly),s=this.degree-r.length;if(s>0){const i=new Uint8Array(this.degree);return i.set(r,s),i}return r};var ZG=JE,sN={},vo={},XE={};XE.isValid=function(e){return!isNaN(e)&&e>=1&&e<=40};var hs={};const iN="[0-9]+",e7="[A-Z $%*+\\-./:]+";let Xu="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";Xu=Xu.replace(/u/g,"\\u");const t7="(?:(?![A-Z0-9 $%*+\\-./:]|"+Xu+`)(?:.|[\r
]))+`;hs.KANJI=new RegExp(Xu,"g");hs.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g");hs.BYTE=new RegExp(t7,"g");hs.NUMERIC=new RegExp(iN,"g");hs.ALPHANUMERIC=new RegExp(e7,"g");const n7=new RegExp("^"+Xu+"$"),r7=new RegExp("^"+iN+"$"),s7=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");hs.testKanji=function(e){return n7.test(e)};hs.testNumeric=function(e){return r7.test(e)};hs.testAlphanumeric=function(e){return s7.test(e)};(function(t){const e=XE,n=hs;t.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},t.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},t.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},t.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},t.MIXED={bit:-1},t.getCharCountIndicator=function(i,o){if(!i.ccBits)throw new Error("Invalid mode: "+i);if(!e.isValid(o))throw new Error("Invalid version: "+o);return o>=1&&o<10?i.ccBits[0]:o<27?i.ccBits[1]:i.ccBits[2]},t.getBestModeForData=function(i){return n.testNumeric(i)?t.NUMERIC:n.testAlphanumeric(i)?t.ALPHANUMERIC:n.testKanji(i)?t.KANJI:t.BYTE},t.toString=function(i){if(i&&i.id)return i.id;throw new Error("Invalid mode")},t.isValid=function(i){return i&&i.bit&&i.ccBits};function r(s){if(typeof s!="string")throw new Error("Param is not a string");switch(s.toLowerCase()){case"numeric":return t.NUMERIC;case"alphanumeric":return t.ALPHANUMERIC;case"kanji":return t.KANJI;case"byte":return t.BYTE;default:throw new Error("Unknown mode: "+s)}}t.from=function(i,o){if(t.isValid(i))return i;try{return r(i)}catch{return o}}})(vo);(function(t){const e=ir,n=Om,r=Dm,s=vo,i=XE,o=7973,a=e.getBCHDigit(o);function l(h,v,E){for(let y=1;y<=40;y++)if(v<=t.getCapacity(y,E,h))return y}function c(h,v){return s.getCharCountIndicator(h,v)+4}function d(h,v){let E=0;return h.forEach(function(y){const b=c(y.mode,v);E+=b+y.getBitsLength()}),E}function f(h,v){for(let E=1;E<=40;E++)if(d(h,E)<=t.getCapacity(E,v,s.MIXED))return E}t.from=function(v,E){return i.isValid(v)?parseInt(v,10):E},t.getCapacity=function(v,E,y){if(!i.isValid(v))throw new Error("Invalid QR Code version");typeof y>"u"&&(y=s.BYTE);const b=e.getSymbolTotalCodewords(v),C=n.getTotalCodewordsCount(v,E),w=(b-C)*8;if(y===s.MIXED)return w;const _=w-c(y,v);switch(y){case s.NUMERIC:return Math.floor(_/10*3);case s.ALPHANUMERIC:return Math.floor(_/11*2);case s.KANJI:return Math.floor(_/13);case s.BYTE:default:return Math.floor(_/8)}},t.getBestVersionForData=function(v,E){let y;const b=r.from(E,r.M);if(Array.isArray(v)){if(v.length>1)return f(v,b);if(v.length===0)return 1;y=v[0]}else y=v;return l(y.mode,y.getLength(),b)},t.getEncodedBits=function(v){if(!i.isValid(v)||v<7)throw new Error("Invalid QR Code version");let E=v<<12;for(;e.getBCHDigit(E)-a>=0;)E^=o<<e.getBCHDigit(E)-a;return v<<12|E}})(sN);var oN={};const n0=ir,aN=1335,i7=21522,W_=n0.getBCHDigit(aN);oN.getEncodedBits=function(e,n){const r=e.bit<<3|n;let s=r<<10;for(;n0.getBCHDigit(s)-W_>=0;)s^=aN<<n0.getBCHDigit(s)-W_;return(r<<10|s)^i7};var lN={};const o7=vo;function $l(t){this.mode=o7.NUMERIC,this.data=t.toString()}$l.getBitsLength=function(e){return 10*Math.floor(e/3)+(e%3?e%3*3+1:0)};$l.prototype.getLength=function(){return this.data.length};$l.prototype.getBitsLength=function(){return $l.getBitsLength(this.data.length)};$l.prototype.write=function(e){let n,r,s;for(n=0;n+3<=this.data.length;n+=3)r=this.data.substr(n,3),s=parseInt(r,10),e.put(s,10);const i=this.data.length-n;i>0&&(r=this.data.substr(n),s=parseInt(r,10),e.put(s,i*3+1))};var a7=$l;const l7=vo,sy=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function zl(t){this.mode=l7.ALPHANUMERIC,this.data=t}zl.getBitsLength=function(e){return 11*Math.floor(e/2)+6*(e%2)};zl.prototype.getLength=function(){return this.data.length};zl.prototype.getBitsLength=function(){return zl.getBitsLength(this.data.length)};zl.prototype.write=function(e){let n;for(n=0;n+2<=this.data.length;n+=2){let r=sy.indexOf(this.data[n])*45;r+=sy.indexOf(this.data[n+1]),e.put(r,11)}this.data.length%2&&e.put(sy.indexOf(this.data[n]),6)};var c7=zl;const u7=vo;function Wl(t){this.mode=u7.BYTE,typeof t=="string"?this.data=new TextEncoder().encode(t):this.data=new Uint8Array(t)}Wl.getBitsLength=function(e){return e*8};Wl.prototype.getLength=function(){return this.data.length};Wl.prototype.getBitsLength=function(){return Wl.getBitsLength(this.data.length)};Wl.prototype.write=function(t){for(let e=0,n=this.data.length;e<n;e++)t.put(this.data[e],8)};var d7=Wl;const h7=vo,f7=ir;function Kl(t){this.mode=h7.KANJI,this.data=t}Kl.getBitsLength=function(e){return e*13};Kl.prototype.getLength=function(){return this.data.length};Kl.prototype.getBitsLength=function(){return Kl.getBitsLength(this.data.length)};Kl.prototype.write=function(t){let e;for(e=0;e<this.data.length;e++){let n=f7.toSJIS(this.data[e]);if(n>=33088&&n<=40956)n-=33088;else if(n>=57408&&n<=60351)n-=49472;else throw new Error("Invalid SJIS character: "+this.data[e]+`
Make sure your charset is UTF-8`);n=(n>>>8&255)*192+(n&255),t.put(n,13)}};var p7=Kl,cN={exports:{}};(function(t){var e={single_source_shortest_paths:function(n,r,s){var i={},o={};o[r]=0;var a=e.PriorityQueue.make();a.push(r,0);for(var l,c,d,f,h,v,E,y,b;!a.empty();){l=a.pop(),c=l.value,f=l.cost,h=n[c]||{};for(d in h)h.hasOwnProperty(d)&&(v=h[d],E=f+v,y=o[d],b=typeof o[d]>"u",(b||y>E)&&(o[d]=E,a.push(d,E),i[d]=c))}if(typeof s<"u"&&typeof o[s]>"u"){var C=["Could not find a path from ",r," to ",s,"."].join("");throw new Error(C)}return i},extract_shortest_path_from_predecessor_list:function(n,r){for(var s=[],i=r;i;)s.push(i),n[i],i=n[i];return s.reverse(),s},find_path:function(n,r,s){var i=e.single_source_shortest_paths(n,r,s);return e.extract_shortest_path_from_predecessor_list(i,s)},PriorityQueue:{make:function(n){var r=e.PriorityQueue,s={},i;n=n||{};for(i in r)r.hasOwnProperty(i)&&(s[i]=r[i]);return s.queue=[],s.sorter=n.sorter||r.default_sorter,s},default_sorter:function(n,r){return n.cost-r.cost},push:function(n,r){var s={value:n,cost:r};this.queue.push(s),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};t.exports=e})(cN);var m7=cN.exports;(function(t){const e=vo,n=a7,r=c7,s=d7,i=p7,o=hs,a=ir,l=m7;function c(C){return unescape(encodeURIComponent(C)).length}function d(C,w,_){const R=[];let O;for(;(O=C.exec(_))!==null;)R.push({data:O[0],index:O.index,mode:w,length:O[0].length});return R}function f(C){const w=d(o.NUMERIC,e.NUMERIC,C),_=d(o.ALPHANUMERIC,e.ALPHANUMERIC,C);let R,O;return a.isKanjiModeEnabled()?(R=d(o.BYTE,e.BYTE,C),O=d(o.KANJI,e.KANJI,C)):(R=d(o.BYTE_KANJI,e.BYTE,C),O=[]),w.concat(_,R,O).sort(function(S,I){return S.index-I.index}).map(function(S){return{data:S.data,mode:S.mode,length:S.length}})}function h(C,w){switch(w){case e.NUMERIC:return n.getBitsLength(C);case e.ALPHANUMERIC:return r.getBitsLength(C);case e.KANJI:return i.getBitsLength(C);case e.BYTE:return s.getBitsLength(C)}}function v(C){return C.reduce(function(w,_){const R=w.length-1>=0?w[w.length-1]:null;return R&&R.mode===_.mode?(w[w.length-1].data+=_.data,w):(w.push(_),w)},[])}function E(C){const w=[];for(let _=0;_<C.length;_++){const R=C[_];switch(R.mode){case e.NUMERIC:w.push([R,{data:R.data,mode:e.ALPHANUMERIC,length:R.length},{data:R.data,mode:e.BYTE,length:R.length}]);break;case e.ALPHANUMERIC:w.push([R,{data:R.data,mode:e.BYTE,length:R.length}]);break;case e.KANJI:w.push([R,{data:R.data,mode:e.BYTE,length:c(R.data)}]);break;case e.BYTE:w.push([{data:R.data,mode:e.BYTE,length:c(R.data)}])}}return w}function y(C,w){const _={},R={start:{}};let O=["start"];for(let j=0;j<C.length;j++){const S=C[j],I=[];for(let k=0;k<S.length;k++){const M=S[k],V=""+j+k;I.push(V),_[V]={node:M,lastCount:0},R[V]={};for(let F=0;F<O.length;F++){const D=O[F];_[D]&&_[D].node.mode===M.mode?(R[D][V]=h(_[D].lastCount+M.length,M.mode)-h(_[D].lastCount,M.mode),_[D].lastCount+=M.length):(_[D]&&(_[D].lastCount=M.length),R[D][V]=h(M.length,M.mode)+4+e.getCharCountIndicator(M.mode,w))}}O=I}for(let j=0;j<O.length;j++)R[O[j]].end=0;return{map:R,table:_}}function b(C,w){let _;const R=e.getBestModeForData(C);if(_=e.from(w,R),_!==e.BYTE&&_.bit<R.bit)throw new Error('"'+C+'" cannot be encoded with mode '+e.toString(_)+`.
 Suggested mode is: `+e.toString(R));switch(_===e.KANJI&&!a.isKanjiModeEnabled()&&(_=e.BYTE),_){case e.NUMERIC:return new n(C);case e.ALPHANUMERIC:return new r(C);case e.KANJI:return new i(C);case e.BYTE:return new s(C)}}t.fromArray=function(w){return w.reduce(function(_,R){return typeof R=="string"?_.push(b(R,null)):R.data&&_.push(b(R.data,R.mode)),_},[])},t.fromString=function(w,_){const R=f(w,a.isKanjiModeEnabled()),O=E(R),j=y(O,_),S=l.find_path(j.map,"start","end"),I=[];for(let k=1;k<S.length-1;k++)I.push(j.table[S[k]].node);return t.fromArray(v(I))},t.rawSplit=function(w){return t.fromArray(f(w,a.isKanjiModeEnabled()))}})(lN);const Vm=ir,iy=Dm,g7=HG,y7=JG,v7=ZP,w7=eN,r0=tN,s0=Om,E7=ZG,Np=sN,C7=oN,x7=vo,oy=lN;function _7(t,e){const n=t.size,r=w7.getPositions(e);for(let s=0;s<r.length;s++){const i=r[s][0],o=r[s][1];for(let a=-1;a<=7;a++)if(!(i+a<=-1||n<=i+a))for(let l=-1;l<=7;l++)o+l<=-1||n<=o+l||(a>=0&&a<=6&&(l===0||l===6)||l>=0&&l<=6&&(a===0||a===6)||a>=2&&a<=4&&l>=2&&l<=4?t.set(i+a,o+l,!0,!0):t.set(i+a,o+l,!1,!0))}}function T7(t){const e=t.size;for(let n=8;n<e-8;n++){const r=n%2===0;t.set(n,6,r,!0),t.set(6,n,r,!0)}}function A7(t,e){const n=v7.getPositions(e);for(let r=0;r<n.length;r++){const s=n[r][0],i=n[r][1];for(let o=-2;o<=2;o++)for(let a=-2;a<=2;a++)o===-2||o===2||a===-2||a===2||o===0&&a===0?t.set(s+o,i+a,!0,!0):t.set(s+o,i+a,!1,!0)}}function b7(t,e){const n=t.size,r=Np.getEncodedBits(e);let s,i,o;for(let a=0;a<18;a++)s=Math.floor(a/3),i=a%3+n-8-3,o=(r>>a&1)===1,t.set(s,i,o,!0),t.set(i,s,o,!0)}function ay(t,e,n){const r=t.size,s=C7.getEncodedBits(e,n);let i,o;for(i=0;i<15;i++)o=(s>>i&1)===1,i<6?t.set(i,8,o,!0):i<8?t.set(i+1,8,o,!0):t.set(r-15+i,8,o,!0),i<8?t.set(8,r-i-1,o,!0):i<9?t.set(8,15-i-1+1,o,!0):t.set(8,15-i-1,o,!0);t.set(r-8,8,1,!0)}function I7(t,e){const n=t.size;let r=-1,s=n-1,i=7,o=0;for(let a=n-1;a>0;a-=2)for(a===6&&a--;;){for(let l=0;l<2;l++)if(!t.isReserved(s,a-l)){let c=!1;o<e.length&&(c=(e[o]>>>i&1)===1),t.set(s,a-l,c),i--,i===-1&&(o++,i=7)}if(s+=r,s<0||n<=s){s-=r,r=-r;break}}}function S7(t,e,n){const r=new g7;n.forEach(function(l){r.put(l.mode.bit,4),r.put(l.getLength(),x7.getCharCountIndicator(l.mode,t)),l.write(r)});const s=Vm.getSymbolTotalCodewords(t),i=s0.getTotalCodewordsCount(t,e),o=(s-i)*8;for(r.getLengthInBits()+4<=o&&r.put(0,4);r.getLengthInBits()%8!==0;)r.putBit(0);const a=(o-r.getLengthInBits())/8;for(let l=0;l<a;l++)r.put(l%2?17:236,8);return R7(r,t,e)}function R7(t,e,n){const r=Vm.getSymbolTotalCodewords(e),s=s0.getTotalCodewordsCount(e,n),i=r-s,o=s0.getBlocksCount(e,n),a=r%o,l=o-a,c=Math.floor(r/o),d=Math.floor(i/o),f=d+1,h=c-d,v=new E7(h);let E=0;const y=new Array(o),b=new Array(o);let C=0;const w=new Uint8Array(t.buffer);for(let S=0;S<o;S++){const I=S<l?d:f;y[S]=w.slice(E,E+I),b[S]=v.encode(y[S]),E+=I,C=Math.max(C,I)}const _=new Uint8Array(r);let R=0,O,j;for(O=0;O<C;O++)for(j=0;j<o;j++)O<y[j].length&&(_[R++]=y[j][O]);for(O=0;O<h;O++)for(j=0;j<o;j++)_[R++]=b[j][O];return _}function P7(t,e,n,r){let s;if(Array.isArray(t))s=oy.fromArray(t);else if(typeof t=="string"){let c=e;if(!c){const d=oy.rawSplit(t);c=Np.getBestVersionForData(d,n)}s=oy.fromString(t,c||40)}else throw new Error("Invalid data");const i=Np.getBestVersionForData(s,n);if(!i)throw new Error("The amount of data is too big to be stored in a QR Code");if(!e)e=i;else if(e<i)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+i+`.
`);const o=S7(e,n,s),a=Vm.getSymbolSize(e),l=new y7(a);return _7(l,e),T7(l),A7(l,e),ay(l,n,0),e>=7&&b7(l,e),I7(l,o),isNaN(r)&&(r=r0.getBestMask(l,ay.bind(null,l,n))),r0.applyMask(r,l),ay(l,n,r),{modules:l,version:e,errorCorrectionLevel:n,maskPattern:r,segments:s}}JP.create=function(e,n){if(typeof e>"u"||e==="")throw new Error("No input text");let r=iy.M,s,i;return typeof n<"u"&&(r=iy.from(n.errorCorrectionLevel,iy.M),s=Np.from(n.version),i=r0.from(n.maskPattern),n.toSJISFunc&&Vm.setToSJISFunction(n.toSJISFunc)),P7(e,s,r,i)};var uN={},ZE={};(function(t){function e(n){if(typeof n=="number"&&(n=n.toString()),typeof n!="string")throw new Error("Color should be defined as hex string");let r=n.slice().replace("#","").split("");if(r.length<3||r.length===5||r.length>8)throw new Error("Invalid hex color: "+n);(r.length===3||r.length===4)&&(r=Array.prototype.concat.apply([],r.map(function(i){return[i,i]}))),r.length===6&&r.push("F","F");const s=parseInt(r.join(""),16);return{r:s>>24&255,g:s>>16&255,b:s>>8&255,a:s&255,hex:"#"+r.slice(0,6).join("")}}t.getOptions=function(r){r||(r={}),r.color||(r.color={});const s=typeof r.margin>"u"||r.margin===null||r.margin<0?4:r.margin,i=r.width&&r.width>=21?r.width:void 0,o=r.scale||4;return{width:i,scale:i?4:o,margin:s,color:{dark:e(r.color.dark||"#000000ff"),light:e(r.color.light||"#ffffffff")},type:r.type,rendererOpts:r.rendererOpts||{}}},t.getScale=function(r,s){return s.width&&s.width>=r+s.margin*2?s.width/(r+s.margin*2):s.scale},t.getImageWidth=function(r,s){const i=t.getScale(r,s);return Math.floor((r+s.margin*2)*i)},t.qrToImageData=function(r,s,i){const o=s.modules.size,a=s.modules.data,l=t.getScale(o,i),c=Math.floor((o+i.margin*2)*l),d=i.margin*l,f=[i.color.light,i.color.dark];for(let h=0;h<c;h++)for(let v=0;v<c;v++){let E=(h*c+v)*4,y=i.color.light;if(h>=d&&v>=d&&h<c-d&&v<c-d){const b=Math.floor((h-d)/l),C=Math.floor((v-d)/l);y=f[a[b*o+C]?1:0]}r[E++]=y.r,r[E++]=y.g,r[E++]=y.b,r[E]=y.a}}})(ZE);(function(t){const e=ZE;function n(s,i,o){s.clearRect(0,0,i.width,i.height),i.style||(i.style={}),i.height=o,i.width=o,i.style.height=o+"px",i.style.width=o+"px"}function r(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}t.render=function(i,o,a){let l=a,c=o;typeof l>"u"&&(!o||!o.getContext)&&(l=o,o=void 0),o||(c=r()),l=e.getOptions(l);const d=e.getImageWidth(i.modules.size,l),f=c.getContext("2d"),h=f.createImageData(d,d);return e.qrToImageData(h.data,i,l),n(f,c,d),f.putImageData(h,0,0),c},t.renderToDataURL=function(i,o,a){let l=a;typeof l>"u"&&(!o||!o.getContext)&&(l=o,o=void 0),l||(l={});const c=t.render(i,o,l),d=l.type||"image/png",f=l.rendererOpts||{};return c.toDataURL(d,f.quality)}})(uN);var dN={};const N7=ZE;function K_(t,e){const n=t.a/255,r=e+'="'+t.hex+'"';return n<1?r+" "+e+'-opacity="'+n.toFixed(2).slice(1)+'"':r}function ly(t,e,n){let r=t+e;return typeof n<"u"&&(r+=" "+n),r}function k7(t,e,n){let r="",s=0,i=!1,o=0;for(let a=0;a<t.length;a++){const l=Math.floor(a%e),c=Math.floor(a/e);!l&&!i&&(i=!0),t[a]?(o++,a>0&&l>0&&t[a-1]||(r+=i?ly("M",l+n,.5+c+n):ly("m",s,0),s=0,i=!1),l+1<e&&t[a+1]||(r+=ly("h",o),o=0)):s++}return r}dN.render=function(e,n,r){const s=N7.getOptions(n),i=e.modules.size,o=e.modules.data,a=i+s.margin*2,l=s.color.light.a?"<path "+K_(s.color.light,"fill")+' d="M0 0h'+a+"v"+a+'H0z"/>':"",c="<path "+K_(s.color.dark,"stroke")+' d="'+k7(o,i,s.margin)+'"/>',d='viewBox="0 0 '+a+" "+a+'"',h='<svg xmlns="http://www.w3.org/2000/svg" '+(s.width?'width="'+s.width+'" height="'+s.width+'" ':"")+d+' shape-rendering="crispEdges">'+l+c+`</svg>
`;return typeof r=="function"&&r(null,h),h};const M7=YG,i0=JP,hN=uN,D7=dN;function e1(t,e,n,r,s){const i=[].slice.call(arguments,1),o=i.length,a=typeof i[o-1]=="function";if(!a&&!M7())throw new Error("Callback required as last argument");if(a){if(o<2)throw new Error("Too few arguments provided");o===2?(s=n,n=e,e=r=void 0):o===3&&(e.getContext&&typeof s>"u"?(s=r,r=void 0):(s=r,r=n,n=e,e=void 0))}else{if(o<1)throw new Error("Too few arguments provided");return o===1?(n=e,e=r=void 0):o===2&&!e.getContext&&(r=n,n=e,e=void 0),new Promise(function(l,c){try{const d=i0.create(n,r);l(t(d,e,r))}catch(d){c(d)}})}try{const l=i0.create(n,r);s(null,t(l,e,r))}catch(l){s(l)}}bd.create=i0.create;bd.toCanvas=e1.bind(null,hN.render);bd.toDataURL=e1.bind(null,hN.renderToDataURL);bd.toString=e1.bind(null,function(t,e,n){return D7.render(t,n)});const O7=({value:t,size:e=200,className:n=""})=>{const r=g.useRef(null);return g.useEffect(()=>{r.current&&bd.toCanvas(r.current,t,{width:e,margin:2,color:{dark:"#000000",light:"#FFFFFF"}})},[t,e]),p.jsx("div",{className:`flex justify-center ${n}`,children:p.jsx("canvas",{ref:r,className:"border-4 border-white rounded-lg shadow-lg"})})},L7=({user:t})=>p.jsx("div",{className:"bg-gradient-to-br from-gray-900/90 via-black/80 to-red-950/90 border border-red-900/40 rounded-none p-10 min-h-[460px] flex flex-col justify-center -mt-0 shadow-2xl",children:p.jsxs("div",{className:"text-center",children:[p.jsx("h3",{className:"text-2xl font-bold text-white mb-6",children:"Your Loyalty Card"}),p.jsx("div",{className:"flex justify-center mb-6",children:p.jsx(O7,{value:`LOYALTY:${t.email}:${t.id}`,size:200})}),p.jsx("p",{className:"text-gray-400 text-sm",children:"Show this QR code to staff to earn loyalty points"})]})}),V7=[{key:"scan",label:"Scan",route:"/scan",colorClass:"border-green-500 text-green-400 hover:bg-green-500 hover:text-white",roles:["admin","super_admin"],icon:OL},{key:"settings",label:"Settings",route:"/settings",colorClass:"border-blue-500 text-blue-400 hover:bg-blue-500 hover:text-white",roles:["admin","super_admin"],icon:mI},{key:"users",label:"Users",route:"/users",colorClass:"border-purple-500 text-purple-400 hover:bg-purple-500 hover:text-white",roles:["super_admin"],icon:rp},{key:"logout",label:"Logout",route:"logout",colorClass:"border-red-500 text-red-400 hover:bg-red-500 hover:text-white",roles:["customer","admin","super_admin"],icon:ML}];var F7=g.createContext(void 0);function Fm(t){const e=g.useContext(F7);return t||e||"ltr"}var cy=0;function fN(){g.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??Y_()),document.body.insertAdjacentElement("beforeend",t[1]??Y_()),cy++,()=>{cy===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),cy--}},[])}function Y_(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var uy="focusScope.autoFocusOnMount",dy="focusScope.autoFocusOnUnmount",Q_={bubbles:!1,cancelable:!0},j7="FocusScope",t1=g.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...o}=t,[a,l]=g.useState(null),c=rn(s),d=rn(i),f=g.useRef(null),h=nt(e,y=>l(y)),v=g.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;g.useEffect(()=>{if(r){let y=function(_){if(v.paused||!a)return;const R=_.target;a.contains(R)?f.current=R:fi(f.current,{select:!0})},b=function(_){if(v.paused||!a)return;const R=_.relatedTarget;R!==null&&(a.contains(R)||fi(f.current,{select:!0}))},C=function(_){if(document.activeElement===document.body)for(const O of _)O.removedNodes.length>0&&fi(a)};document.addEventListener("focusin",y),document.addEventListener("focusout",b);const w=new MutationObserver(C);return a&&w.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",y),document.removeEventListener("focusout",b),w.disconnect()}}},[r,a,v.paused]),g.useEffect(()=>{if(a){J_.add(v);const y=document.activeElement;if(!a.contains(y)){const C=new CustomEvent(uy,Q_);a.addEventListener(uy,c),a.dispatchEvent(C),C.defaultPrevented||(B7(z7(pN(a)),{select:!0}),document.activeElement===y&&fi(a))}return()=>{a.removeEventListener(uy,c),setTimeout(()=>{const C=new CustomEvent(dy,Q_);a.addEventListener(dy,d),a.dispatchEvent(C),C.defaultPrevented||fi(y??document.body,{select:!0}),a.removeEventListener(dy,d),J_.remove(v)},0)}}},[a,c,d,v]);const E=g.useCallback(y=>{if(!n&&!r||v.paused)return;const b=y.key==="Tab"&&!y.altKey&&!y.ctrlKey&&!y.metaKey,C=document.activeElement;if(b&&C){const w=y.currentTarget,[_,R]=U7(w);_&&R?!y.shiftKey&&C===R?(y.preventDefault(),n&&fi(_,{select:!0})):y.shiftKey&&C===_&&(y.preventDefault(),n&&fi(R,{select:!0})):C===w&&y.preventDefault()}},[n,r,v.paused]);return p.jsx(Oe.div,{tabIndex:-1,...o,ref:h,onKeyDown:E})});t1.displayName=j7;function B7(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(fi(r,{select:e}),document.activeElement!==n)return}function U7(t){const e=pN(t),n=H_(e,t),r=H_(e.reverse(),t);return[n,r]}function pN(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function H_(t,e){for(const n of t)if(!q7(n,{upTo:e}))return n}function q7(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function G7(t){return t instanceof HTMLInputElement&&"select"in t}function fi(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&G7(t)&&e&&t.select()}}var J_=$7();function $7(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=X_(t,e),t.unshift(e)},remove(e){var n;t=X_(t,e),(n=t[0])==null||n.resume()}}}function X_(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function z7(t){return t.filter(e=>e.tagName!=="A")}function W7(t,e=[]){let n=[];function r(i,o){const a=g.createContext(o),l=n.length;n=[...n,o];function c(f){const{scope:h,children:v,...E}=f,y=(h==null?void 0:h[t][l])||a,b=g.useMemo(()=>E,Object.values(E));return p.jsx(y.Provider,{value:b,children:v})}function d(f,h){const v=(h==null?void 0:h[t][l])||a,E=g.useContext(v);if(E)return E;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return c.displayName=i+"Provider",[c,d]}const s=()=>{const i=n.map(o=>g.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return g.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,K7(s,...e)]}function K7(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const f=l(i)[`__scope${c}`];return{...a,...f}},{});return g.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var hy="rovingFocusGroup.onEntryFocus",Y7={bubbles:!1,cancelable:!0},jm="RovingFocusGroup",[o0,mN,Q7]=ld(jm),[H7,Bm]=W7(jm,[Q7]),[J7,X7]=H7(jm),gN=g.forwardRef((t,e)=>p.jsx(o0.Provider,{scope:t.__scopeRovingFocusGroup,children:p.jsx(o0.Slot,{scope:t.__scopeRovingFocusGroup,children:p.jsx(Z7,{...t,ref:e})})}));gN.displayName=jm;var Z7=g.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:l,onEntryFocus:c,preventScrollOnEntryFocus:d=!1,...f}=t,h=g.useRef(null),v=nt(e,h),E=Fm(i),[y=null,b]=Mu({prop:o,defaultProp:a,onChange:l}),[C,w]=g.useState(!1),_=rn(c),R=mN(n),O=g.useRef(!1),[j,S]=g.useState(0);return g.useEffect(()=>{const I=h.current;if(I)return I.addEventListener(hy,_),()=>I.removeEventListener(hy,_)},[_]),p.jsx(J7,{scope:n,orientation:r,dir:E,loop:s,currentTabStopId:y,onItemFocus:g.useCallback(I=>b(I),[b]),onItemShiftTab:g.useCallback(()=>w(!0),[]),onFocusableItemAdd:g.useCallback(()=>S(I=>I+1),[]),onFocusableItemRemove:g.useCallback(()=>S(I=>I-1),[]),children:p.jsx(Oe.div,{tabIndex:C||j===0?-1:0,"data-orientation":r,...f,ref:v,style:{outline:"none",...t.style},onMouseDown:fe(t.onMouseDown,()=>{O.current=!0}),onFocus:fe(t.onFocus,I=>{const k=!O.current;if(I.target===I.currentTarget&&k&&!C){const M=new CustomEvent(hy,Y7);if(I.currentTarget.dispatchEvent(M),!M.defaultPrevented){const V=R().filter(ne=>ne.focusable),F=V.find(ne=>ne.active),D=V.find(ne=>ne.id===y),se=[F,D,...V].filter(Boolean).map(ne=>ne.ref.current);wN(se,d)}}O.current=!1}),onBlur:fe(t.onBlur,()=>w(!1))})})}),yN="RovingFocusGroupItem",vN=g.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:i,...o}=t,a=Yo(),l=i||a,c=X7(yN,n),d=c.currentTabStopId===l,f=mN(n),{onFocusableItemAdd:h,onFocusableItemRemove:v}=c;return g.useEffect(()=>{if(r)return h(),()=>v()},[r,h,v]),p.jsx(o0.ItemSlot,{scope:n,id:l,focusable:r,active:s,children:p.jsx(Oe.span,{tabIndex:d?0:-1,"data-orientation":c.orientation,...o,ref:e,onMouseDown:fe(t.onMouseDown,E=>{r?c.onItemFocus(l):E.preventDefault()}),onFocus:fe(t.onFocus,()=>c.onItemFocus(l)),onKeyDown:fe(t.onKeyDown,E=>{if(E.key==="Tab"&&E.shiftKey){c.onItemShiftTab();return}if(E.target!==E.currentTarget)return;const y=n$(E,c.orientation,c.dir);if(y!==void 0){if(E.metaKey||E.ctrlKey||E.altKey||E.shiftKey)return;E.preventDefault();let C=f().filter(w=>w.focusable).map(w=>w.ref.current);if(y==="last")C.reverse();else if(y==="prev"||y==="next"){y==="prev"&&C.reverse();const w=C.indexOf(E.currentTarget);C=c.loop?r$(C,w+1):C.slice(w+1)}setTimeout(()=>wN(C))}})})})});vN.displayName=yN;var e$={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function t$(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function n$(t,e,n){const r=t$(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return e$[r]}function wN(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function r$(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var EN=gN,CN=vN,s$=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Ba=new WeakMap,Wh=new WeakMap,Kh={},fy=0,xN=function(t){return t&&(t.host||xN(t.parentNode))},i$=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=xN(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},o$=function(t,e,n,r){var s=i$(e,Array.isArray(t)?t:[t]);Kh[n]||(Kh[n]=new WeakMap);var i=Kh[n],o=[],a=new Set,l=new Set(s),c=function(f){!f||a.has(f)||(a.add(f),c(f.parentNode))};s.forEach(c);var d=function(f){!f||l.has(f)||Array.prototype.forEach.call(f.children,function(h){if(a.has(h))d(h);else try{var v=h.getAttribute(r),E=v!==null&&v!=="false",y=(Ba.get(h)||0)+1,b=(i.get(h)||0)+1;Ba.set(h,y),i.set(h,b),o.push(h),y===1&&E&&Wh.set(h,!0),b===1&&h.setAttribute(n,"true"),E||h.setAttribute(r,"true")}catch(C){console.error("aria-hidden: cannot operate on ",h,C)}})};return d(e),a.clear(),fy++,function(){o.forEach(function(f){var h=Ba.get(f)-1,v=i.get(f)-1;Ba.set(f,h),i.set(f,v),h||(Wh.has(f)||f.removeAttribute(r),Wh.delete(f)),v||f.removeAttribute(n)}),fy--,fy||(Ba=new WeakMap,Ba=new WeakMap,Wh=new WeakMap,Kh={})}},_N=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),s=s$(t);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live]"))),o$(r,s,n,"aria-hidden")):function(){return null}},Tf="right-scroll-bar-position",Af="width-before-scroll-bar",a$="with-scroll-bars-hidden",l$="--removed-body-scroll-bar-size";function py(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function c$(t,e){var n=g.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=e,n.facade}var u$=typeof window<"u"?g.useLayoutEffect:g.useEffect,Z_=new WeakMap;function d$(t,e){var n=c$(null,function(r){return t.forEach(function(s){return py(s,r)})});return u$(function(){var r=Z_.get(n);if(r){var s=new Set(r),i=new Set(t),o=n.current;s.forEach(function(a){i.has(a)||py(a,null)}),i.forEach(function(a){s.has(a)||py(a,o)})}Z_.set(n,t)},[t]),n}function h$(t){return t}function f$(t,e){e===void 0&&(e=h$);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(i){var o=e(i,r);return n.push(o),function(){n=n.filter(function(a){return a!==o})}},assignSyncMedium:function(i){for(r=!0;n.length;){var o=n;n=[],o.forEach(i)}n={push:function(a){return i(a)},filter:function(){return n}}},assignMedium:function(i){r=!0;var o=[];if(n.length){var a=n;n=[],a.forEach(i),o=n}var l=function(){var d=o;o=[],d.forEach(i)},c=function(){return Promise.resolve().then(l)};c(),n={push:function(d){o.push(d),c()},filter:function(d){return o=o.filter(d),n}}}};return s}function p$(t){t===void 0&&(t={});var e=f$(null);return e.options=Zr({async:!0,ssr:!1},t),e}var TN=function(t){var e=t.sideCar,n=Ed(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return g.createElement(r,Zr({},n))};TN.isSideCarExport=!0;function m$(t,e){return t.useMedium(e),TN}var AN=p$(),my=function(){},Um=g.forwardRef(function(t,e){var n=g.useRef(null),r=g.useState({onScrollCapture:my,onWheelCapture:my,onTouchMoveCapture:my}),s=r[0],i=r[1],o=t.forwardProps,a=t.children,l=t.className,c=t.removeScrollBar,d=t.enabled,f=t.shards,h=t.sideCar,v=t.noIsolation,E=t.inert,y=t.allowPinchZoom,b=t.as,C=b===void 0?"div":b,w=t.gapMode,_=Ed(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),R=h,O=d$([n,e]),j=Zr(Zr({},_),s);return g.createElement(g.Fragment,null,d&&g.createElement(R,{sideCar:AN,removeScrollBar:c,shards:f,noIsolation:v,inert:E,setCallbacks:i,allowPinchZoom:!!y,lockRef:n,gapMode:w}),o?g.cloneElement(g.Children.only(a),Zr(Zr({},j),{ref:O})):g.createElement(C,Zr({},j,{className:l,ref:O}),a))});Um.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Um.classNames={fullWidth:Af,zeroRight:Tf};var g$=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function y$(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=g$();return e&&t.setAttribute("nonce",e),t}function v$(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function w$(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var E$=function(){var t=0,e=null;return{add:function(n){t==0&&(e=y$())&&(v$(e,n),w$(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},C$=function(){var t=E$();return function(e,n){g.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},bN=function(){var t=C$(),e=function(n){var r=n.styles,s=n.dynamic;return t(r,s),null};return e},x$={left:0,top:0,right:0,gap:0},gy=function(t){return parseInt(t||"",10)||0},_$=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],s=e[t==="padding"?"paddingRight":"marginRight"];return[gy(n),gy(r),gy(s)]},T$=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return x$;var e=_$(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},A$=bN(),vl="data-scroll-locked",b$=function(t,e,n,r){var s=t.left,i=t.top,o=t.right,a=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(a$,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(vl,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Tf,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Af,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Tf," .").concat(Tf,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Af," .").concat(Af,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(vl,`] {
    `).concat(l$,": ").concat(a,`px;
  }
`)},eT=function(){var t=parseInt(document.body.getAttribute(vl)||"0",10);return isFinite(t)?t:0},I$=function(){g.useEffect(function(){return document.body.setAttribute(vl,(eT()+1).toString()),function(){var t=eT()-1;t<=0?document.body.removeAttribute(vl):document.body.setAttribute(vl,t.toString())}},[])},S$=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,s=r===void 0?"margin":r;I$();var i=g.useMemo(function(){return T$(s)},[s]);return g.createElement(A$,{styles:b$(i,!e,s,n?"":"!important")})},a0=!1;if(typeof window<"u")try{var Yh=Object.defineProperty({},"passive",{get:function(){return a0=!0,!0}});window.addEventListener("test",Yh,Yh),window.removeEventListener("test",Yh,Yh)}catch{a0=!1}var Ua=a0?{passive:!1}:!1,R$=function(t){return t.tagName==="TEXTAREA"},IN=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!R$(t)&&n[e]==="visible")},P$=function(t){return IN(t,"overflowY")},N$=function(t){return IN(t,"overflowX")},tT=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=SN(t,r);if(s){var i=RN(t,r),o=i[1],a=i[2];if(o>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},k$=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},M$=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},SN=function(t,e){return t==="v"?P$(e):N$(e)},RN=function(t,e){return t==="v"?k$(e):M$(e)},D$=function(t,e){return t==="h"&&e==="rtl"?-1:1},O$=function(t,e,n,r,s){var i=D$(t,window.getComputedStyle(e).direction),o=i*r,a=n.target,l=e.contains(a),c=!1,d=o>0,f=0,h=0;do{var v=RN(t,a),E=v[0],y=v[1],b=v[2],C=y-b-i*E;(E||C)&&SN(t,a)&&(f+=C,h+=E),a instanceof ShadowRoot?a=a.host:a=a.parentNode}while(!l&&a!==document.body||l&&(e.contains(a)||e===a));return(d&&(Math.abs(f)<1||!s)||!d&&(Math.abs(h)<1||!s))&&(c=!0),c},Qh=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},nT=function(t){return[t.deltaX,t.deltaY]},rT=function(t){return t&&"current"in t?t.current:t},L$=function(t,e){return t[0]===e[0]&&t[1]===e[1]},V$=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},F$=0,qa=[];function j$(t){var e=g.useRef([]),n=g.useRef([0,0]),r=g.useRef(),s=g.useState(F$++)[0],i=g.useState(bN)[0],o=g.useRef(t);g.useEffect(function(){o.current=t},[t]),g.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var y=l3([t.lockRef.current],(t.shards||[]).map(rT),!0).filter(Boolean);return y.forEach(function(b){return b.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),y.forEach(function(b){return b.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var a=g.useCallback(function(y,b){if("touches"in y&&y.touches.length===2||y.type==="wheel"&&y.ctrlKey)return!o.current.allowPinchZoom;var C=Qh(y),w=n.current,_="deltaX"in y?y.deltaX:w[0]-C[0],R="deltaY"in y?y.deltaY:w[1]-C[1],O,j=y.target,S=Math.abs(_)>Math.abs(R)?"h":"v";if("touches"in y&&S==="h"&&j.type==="range")return!1;var I=tT(S,j);if(!I)return!0;if(I?O=S:(O=S==="v"?"h":"v",I=tT(S,j)),!I)return!1;if(!r.current&&"changedTouches"in y&&(_||R)&&(r.current=O),!O)return!0;var k=r.current||O;return O$(k,b,y,k==="h"?_:R,!0)},[]),l=g.useCallback(function(y){var b=y;if(!(!qa.length||qa[qa.length-1]!==i)){var C="deltaY"in b?nT(b):Qh(b),w=e.current.filter(function(O){return O.name===b.type&&(O.target===b.target||b.target===O.shadowParent)&&L$(O.delta,C)})[0];if(w&&w.should){b.cancelable&&b.preventDefault();return}if(!w){var _=(o.current.shards||[]).map(rT).filter(Boolean).filter(function(O){return O.contains(b.target)}),R=_.length>0?a(b,_[0]):!o.current.noIsolation;R&&b.cancelable&&b.preventDefault()}}},[]),c=g.useCallback(function(y,b,C,w){var _={name:y,delta:b,target:C,should:w,shadowParent:B$(C)};e.current.push(_),setTimeout(function(){e.current=e.current.filter(function(R){return R!==_})},1)},[]),d=g.useCallback(function(y){n.current=Qh(y),r.current=void 0},[]),f=g.useCallback(function(y){c(y.type,nT(y),y.target,a(y,t.lockRef.current))},[]),h=g.useCallback(function(y){c(y.type,Qh(y),y.target,a(y,t.lockRef.current))},[]);g.useEffect(function(){return qa.push(i),t.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:h}),document.addEventListener("wheel",l,Ua),document.addEventListener("touchmove",l,Ua),document.addEventListener("touchstart",d,Ua),function(){qa=qa.filter(function(y){return y!==i}),document.removeEventListener("wheel",l,Ua),document.removeEventListener("touchmove",l,Ua),document.removeEventListener("touchstart",d,Ua)}},[]);var v=t.removeScrollBar,E=t.inert;return g.createElement(g.Fragment,null,E?g.createElement(i,{styles:V$(s)}):null,v?g.createElement(S$,{gapMode:t.gapMode}):null)}function B$(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const U$=m$(AN,j$);var n1=g.forwardRef(function(t,e){return g.createElement(Um,Zr({},t,{ref:e,sideCar:U$}))});n1.classNames=Um.classNames;var l0=["Enter"," "],q$=["ArrowDown","PageUp","Home"],PN=["ArrowUp","PageDown","End"],G$=[...q$,...PN],$$={ltr:[...l0,"ArrowRight"],rtl:[...l0,"ArrowLeft"]},z$={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Sd="Menu",[Zu,W$,K$]=ld(Sd),[wa,Y$]=Jl(Sd,[K$,uc,Bm]),qm=uc(),NN=Bm(),[Q$,Ea]=wa(Sd),[H$,Rd]=wa(Sd),kN=t=>{const{__scopeMenu:e,open:n=!1,children:r,dir:s,onOpenChange:i,modal:o=!0}=t,a=qm(e),[l,c]=g.useState(null),d=g.useRef(!1),f=rn(i),h=Fm(s);return g.useEffect(()=>{const v=()=>{d.current=!0,document.addEventListener("pointerdown",E,{capture:!0,once:!0}),document.addEventListener("pointermove",E,{capture:!0,once:!0})},E=()=>d.current=!1;return document.addEventListener("keydown",v,{capture:!0}),()=>{document.removeEventListener("keydown",v,{capture:!0}),document.removeEventListener("pointerdown",E,{capture:!0}),document.removeEventListener("pointermove",E,{capture:!0})}},[]),p.jsx(xP,{...a,children:p.jsx(Q$,{scope:e,open:n,onOpenChange:f,content:l,onContentChange:c,children:p.jsx(H$,{scope:e,onClose:g.useCallback(()=>f(!1),[f]),isUsingKeyboardRef:d,dir:h,modal:o,children:r})})})};kN.displayName=Sd;var J$="MenuAnchor",r1=g.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,s=qm(n);return p.jsx(VE,{...s,...r,ref:e})});r1.displayName=J$;var s1="MenuPortal",[X$,MN]=wa(s1,{forceMount:void 0}),DN=t=>{const{__scopeMenu:e,forceMount:n,children:r,container:s}=t,i=Ea(s1,e);return p.jsx(X$,{scope:e,forceMount:n,children:p.jsx(pa,{present:n||i.open,children:p.jsx(Xp,{asChild:!0,container:s,children:r})})})};DN.displayName=s1;var yr="MenuContent",[Z$,i1]=wa(yr),ON=g.forwardRef((t,e)=>{const n=MN(yr,t.__scopeMenu),{forceMount:r=n.forceMount,...s}=t,i=Ea(yr,t.__scopeMenu),o=Rd(yr,t.__scopeMenu);return p.jsx(Zu.Provider,{scope:t.__scopeMenu,children:p.jsx(pa,{present:r||i.open,children:p.jsx(Zu.Slot,{scope:t.__scopeMenu,children:o.modal?p.jsx(ez,{...s,ref:e}):p.jsx(tz,{...s,ref:e})})})})}),ez=g.forwardRef((t,e)=>{const n=Ea(yr,t.__scopeMenu),r=g.useRef(null),s=nt(e,r);return g.useEffect(()=>{const i=r.current;if(i)return _N(i)},[]),p.jsx(o1,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:fe(t.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),tz=g.forwardRef((t,e)=>{const n=Ea(yr,t.__scopeMenu);return p.jsx(o1,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),o1=g.forwardRef((t,e)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:s,onOpenAutoFocus:i,onCloseAutoFocus:o,disableOutsidePointerEvents:a,onEntryFocus:l,onEscapeKeyDown:c,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:h,onDismiss:v,disableOutsideScroll:E,...y}=t,b=Ea(yr,n),C=Rd(yr,n),w=qm(n),_=NN(n),R=W$(n),[O,j]=g.useState(null),S=g.useRef(null),I=nt(e,S,b.onContentChange),k=g.useRef(0),M=g.useRef(""),V=g.useRef(0),F=g.useRef(null),D=g.useRef("right"),re=g.useRef(0),se=E?n1:g.Fragment,ne=E?{as:ta,allowPinchZoom:!0}:void 0,pe=W=>{var te,ge;const ie=M.current+W,ee=R().filter(we=>!we.disabled),ae=document.activeElement,ce=(te=ee.find(we=>we.ref.current===ae))==null?void 0:te.textValue,Re=ee.map(we=>we.textValue),ke=fz(Re,ie,ce),Ee=(ge=ee.find(we=>we.textValue===ke))==null?void 0:ge.ref.current;(function we(Ce){M.current=Ce,window.clearTimeout(k.current),Ce!==""&&(k.current=window.setTimeout(()=>we(""),1e3))})(ie),Ee&&setTimeout(()=>Ee.focus())};g.useEffect(()=>()=>window.clearTimeout(k.current),[]),fN();const q=g.useCallback(W=>{var ee,ae;return D.current===((ee=F.current)==null?void 0:ee.side)&&mz(W,(ae=F.current)==null?void 0:ae.area)},[]);return p.jsx(Z$,{scope:n,searchRef:M,onItemEnter:g.useCallback(W=>{q(W)&&W.preventDefault()},[q]),onItemLeave:g.useCallback(W=>{var ie;q(W)||((ie=S.current)==null||ie.focus(),j(null))},[q]),onTriggerLeave:g.useCallback(W=>{q(W)&&W.preventDefault()},[q]),pointerGraceTimerRef:V,onPointerGraceIntentChange:g.useCallback(W=>{F.current=W},[]),children:p.jsx(se,{...ne,children:p.jsx(t1,{asChild:!0,trapped:s,onMountAutoFocus:fe(i,W=>{var ie;W.preventDefault(),(ie=S.current)==null||ie.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:p.jsx(cd,{asChild:!0,disableOutsidePointerEvents:a,onEscapeKeyDown:c,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:h,onDismiss:v,children:p.jsx(EN,{asChild:!0,..._,dir:C.dir,orientation:"vertical",loop:r,currentTabStopId:O,onCurrentTabStopIdChange:j,onEntryFocus:fe(l,W=>{C.isUsingKeyboardRef.current||W.preventDefault()}),preventScrollOnEntryFocus:!0,children:p.jsx(FE,{role:"menu","aria-orientation":"vertical","data-state":JN(b.open),"data-radix-menu-content":"",dir:C.dir,...w,...y,ref:I,style:{outline:"none",...y.style},onKeyDown:fe(y.onKeyDown,W=>{const ee=W.target.closest("[data-radix-menu-content]")===W.currentTarget,ae=W.ctrlKey||W.altKey||W.metaKey,ce=W.key.length===1;ee&&(W.key==="Tab"&&W.preventDefault(),!ae&&ce&&pe(W.key));const Re=S.current;if(W.target!==Re||!G$.includes(W.key))return;W.preventDefault();const Ee=R().filter(te=>!te.disabled).map(te=>te.ref.current);PN.includes(W.key)&&Ee.reverse(),dz(Ee)}),onBlur:fe(t.onBlur,W=>{W.currentTarget.contains(W.target)||(window.clearTimeout(k.current),M.current="")}),onPointerMove:fe(t.onPointerMove,ed(W=>{const ie=W.target,ee=re.current!==W.clientX;if(W.currentTarget.contains(ie)&&ee){const ae=W.clientX>re.current?"right":"left";D.current=ae,re.current=W.clientX}}))})})})})})})});ON.displayName=yr;var nz="MenuGroup",a1=g.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return p.jsx(Oe.div,{role:"group",...r,ref:e})});a1.displayName=nz;var rz="MenuLabel",LN=g.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return p.jsx(Oe.div,{...r,ref:e})});LN.displayName=rz;var kp="MenuItem",sT="menu.itemSelect",Gm=g.forwardRef((t,e)=>{const{disabled:n=!1,onSelect:r,...s}=t,i=g.useRef(null),o=Rd(kp,t.__scopeMenu),a=i1(kp,t.__scopeMenu),l=nt(e,i),c=g.useRef(!1),d=()=>{const f=i.current;if(!n&&f){const h=new CustomEvent(sT,{bubbles:!0,cancelable:!0});f.addEventListener(sT,v=>r==null?void 0:r(v),{once:!0}),xw(f,h),h.defaultPrevented?c.current=!1:o.onClose()}};return p.jsx(VN,{...s,ref:l,disabled:n,onClick:fe(t.onClick,d),onPointerDown:f=>{var h;(h=t.onPointerDown)==null||h.call(t,f),c.current=!0},onPointerUp:fe(t.onPointerUp,f=>{var h;c.current||(h=f.currentTarget)==null||h.click()}),onKeyDown:fe(t.onKeyDown,f=>{const h=a.searchRef.current!=="";n||h&&f.key===" "||l0.includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})})});Gm.displayName=kp;var VN=g.forwardRef((t,e)=>{const{__scopeMenu:n,disabled:r=!1,textValue:s,...i}=t,o=i1(kp,n),a=NN(n),l=g.useRef(null),c=nt(e,l),[d,f]=g.useState(!1),[h,v]=g.useState("");return g.useEffect(()=>{const E=l.current;E&&v((E.textContent??"").trim())},[i.children]),p.jsx(Zu.ItemSlot,{scope:n,disabled:r,textValue:s??h,children:p.jsx(CN,{asChild:!0,...a,focusable:!r,children:p.jsx(Oe.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...i,ref:c,onPointerMove:fe(t.onPointerMove,ed(E=>{r?o.onItemLeave(E):(o.onItemEnter(E),E.defaultPrevented||E.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:fe(t.onPointerLeave,ed(E=>o.onItemLeave(E))),onFocus:fe(t.onFocus,()=>f(!0)),onBlur:fe(t.onBlur,()=>f(!1))})})})}),sz="MenuCheckboxItem",FN=g.forwardRef((t,e)=>{const{checked:n=!1,onCheckedChange:r,...s}=t;return p.jsx(GN,{scope:t.__scopeMenu,checked:n,children:p.jsx(Gm,{role:"menuitemcheckbox","aria-checked":Mp(n)?"mixed":n,...s,ref:e,"data-state":c1(n),onSelect:fe(s.onSelect,()=>r==null?void 0:r(Mp(n)?!0:!n),{checkForDefaultPrevented:!1})})})});FN.displayName=sz;var jN="MenuRadioGroup",[iz,oz]=wa(jN,{value:void 0,onValueChange:()=>{}}),BN=g.forwardRef((t,e)=>{const{value:n,onValueChange:r,...s}=t,i=rn(r);return p.jsx(iz,{scope:t.__scopeMenu,value:n,onValueChange:i,children:p.jsx(a1,{...s,ref:e})})});BN.displayName=jN;var UN="MenuRadioItem",qN=g.forwardRef((t,e)=>{const{value:n,...r}=t,s=oz(UN,t.__scopeMenu),i=n===s.value;return p.jsx(GN,{scope:t.__scopeMenu,checked:i,children:p.jsx(Gm,{role:"menuitemradio","aria-checked":i,...r,ref:e,"data-state":c1(i),onSelect:fe(r.onSelect,()=>{var o;return(o=s.onValueChange)==null?void 0:o.call(s,n)},{checkForDefaultPrevented:!1})})})});qN.displayName=UN;var l1="MenuItemIndicator",[GN,az]=wa(l1,{checked:!1}),$N=g.forwardRef((t,e)=>{const{__scopeMenu:n,forceMount:r,...s}=t,i=az(l1,n);return p.jsx(pa,{present:r||Mp(i.checked)||i.checked===!0,children:p.jsx(Oe.span,{...s,ref:e,"data-state":c1(i.checked)})})});$N.displayName=l1;var lz="MenuSeparator",zN=g.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return p.jsx(Oe.div,{role:"separator","aria-orientation":"horizontal",...r,ref:e})});zN.displayName=lz;var cz="MenuArrow",WN=g.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,s=qm(n);return p.jsx(jE,{...s,...r,ref:e})});WN.displayName=cz;var uz="MenuSub",[yY,KN]=wa(uz),Yc="MenuSubTrigger",YN=g.forwardRef((t,e)=>{const n=Ea(Yc,t.__scopeMenu),r=Rd(Yc,t.__scopeMenu),s=KN(Yc,t.__scopeMenu),i=i1(Yc,t.__scopeMenu),o=g.useRef(null),{pointerGraceTimerRef:a,onPointerGraceIntentChange:l}=i,c={__scopeMenu:t.__scopeMenu},d=g.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return g.useEffect(()=>d,[d]),g.useEffect(()=>{const f=a.current;return()=>{window.clearTimeout(f),l(null)}},[a,l]),p.jsx(r1,{asChild:!0,...c,children:p.jsx(VN,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":s.contentId,"data-state":JN(n.open),...t,ref:Cw(e,s.onTriggerChange),onClick:f=>{var h;(h=t.onClick)==null||h.call(t,f),!(t.disabled||f.defaultPrevented)&&(f.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:fe(t.onPointerMove,ed(f=>{i.onItemEnter(f),!f.defaultPrevented&&!t.disabled&&!n.open&&!o.current&&(i.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{n.onOpenChange(!0),d()},100))})),onPointerLeave:fe(t.onPointerLeave,ed(f=>{var v,E;d();const h=(v=n.content)==null?void 0:v.getBoundingClientRect();if(h){const y=(E=n.content)==null?void 0:E.dataset.side,b=y==="right",C=b?-5:5,w=h[b?"left":"right"],_=h[b?"right":"left"];i.onPointerGraceIntentChange({area:[{x:f.clientX+C,y:f.clientY},{x:w,y:h.top},{x:_,y:h.top},{x:_,y:h.bottom},{x:w,y:h.bottom}],side:y}),window.clearTimeout(a.current),a.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(f),f.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:fe(t.onKeyDown,f=>{var v;const h=i.searchRef.current!=="";t.disabled||h&&f.key===" "||$$[r.dir].includes(f.key)&&(n.onOpenChange(!0),(v=n.content)==null||v.focus(),f.preventDefault())})})})});YN.displayName=Yc;var QN="MenuSubContent",HN=g.forwardRef((t,e)=>{const n=MN(yr,t.__scopeMenu),{forceMount:r=n.forceMount,...s}=t,i=Ea(yr,t.__scopeMenu),o=Rd(yr,t.__scopeMenu),a=KN(QN,t.__scopeMenu),l=g.useRef(null),c=nt(e,l);return p.jsx(Zu.Provider,{scope:t.__scopeMenu,children:p.jsx(pa,{present:r||i.open,children:p.jsx(Zu.Slot,{scope:t.__scopeMenu,children:p.jsx(o1,{id:a.contentId,"aria-labelledby":a.triggerId,...s,ref:c,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{var f;o.isUsingKeyboardRef.current&&((f=l.current)==null||f.focus()),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:fe(t.onFocusOutside,d=>{d.target!==a.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:fe(t.onEscapeKeyDown,d=>{o.onClose(),d.preventDefault()}),onKeyDown:fe(t.onKeyDown,d=>{var v;const f=d.currentTarget.contains(d.target),h=z$[o.dir].includes(d.key);f&&h&&(i.onOpenChange(!1),(v=a.trigger)==null||v.focus(),d.preventDefault())})})})})})});HN.displayName=QN;function JN(t){return t?"open":"closed"}function Mp(t){return t==="indeterminate"}function c1(t){return Mp(t)?"indeterminate":t?"checked":"unchecked"}function dz(t){const e=document.activeElement;for(const n of t)if(n===e||(n.focus(),document.activeElement!==e))return}function hz(t,e){return t.map((n,r)=>t[(e+r)%t.length])}function fz(t,e,n){const s=e.length>1&&Array.from(e).every(c=>c===e[0])?e[0]:e,i=n?t.indexOf(n):-1;let o=hz(t,Math.max(i,0));s.length===1&&(o=o.filter(c=>c!==n));const l=o.find(c=>c.toLowerCase().startsWith(s.toLowerCase()));return l!==n?l:void 0}function pz(t,e){const{x:n,y:r}=t;let s=!1;for(let i=0,o=e.length-1;i<e.length;o=i++){const a=e[i].x,l=e[i].y,c=e[o].x,d=e[o].y;l>r!=d>r&&n<(c-a)*(r-l)/(d-l)+a&&(s=!s)}return s}function mz(t,e){if(!e)return!1;const n={x:t.clientX,y:t.clientY};return pz(n,e)}function ed(t){return e=>e.pointerType==="mouse"?t(e):void 0}var gz=kN,yz=r1,vz=DN,wz=ON,Ez=a1,Cz=LN,xz=Gm,_z=FN,Tz=BN,Az=qN,bz=$N,Iz=zN,Sz=WN,Rz=YN,Pz=HN,$m="Menubar",[c0,Nz,kz]=ld($m),[XN,vY]=Jl($m,[kz,Bm]),kn=Y$(),ZN=Bm(),[Mz,u1]=XN($m),ek=g.forwardRef((t,e)=>{const{__scopeMenubar:n,value:r,onValueChange:s,defaultValue:i,loop:o=!0,dir:a,...l}=t,c=Fm(a),d=ZN(n),[f="",h]=Mu({prop:r,onChange:s,defaultProp:i}),[v,E]=g.useState(null);return p.jsx(Mz,{scope:n,value:f,onMenuOpen:g.useCallback(y=>{h(y),E(y)},[h]),onMenuClose:g.useCallback(()=>h(""),[h]),onMenuToggle:g.useCallback(y=>{h(b=>b?"":y),E(y)},[h]),dir:c,loop:o,children:p.jsx(c0.Provider,{scope:n,children:p.jsx(c0.Slot,{scope:n,children:p.jsx(EN,{asChild:!0,...d,orientation:"horizontal",loop:o,dir:c,currentTabStopId:v,onCurrentTabStopIdChange:E,children:p.jsx(Oe.div,{role:"menubar",...l,ref:e})})})})})});ek.displayName=$m;var d1="MenubarMenu",[Dz,tk]=XN(d1),nk=t=>{const{__scopeMenubar:e,value:n,...r}=t,s=Yo(),i=n||s||"LEGACY_REACT_AUTO_VALUE",o=u1(d1,e),a=kn(e),l=g.useRef(null),c=g.useRef(!1),d=o.value===i;return g.useEffect(()=>{d||(c.current=!1)},[d]),p.jsx(Dz,{scope:e,value:i,triggerId:Yo(),triggerRef:l,contentId:Yo(),wasKeyboardTriggerOpenRef:c,children:p.jsx(gz,{...a,open:d,onOpenChange:f=>{f||o.onMenuClose()},modal:!1,dir:o.dir,...r})})};nk.displayName=d1;var u0="MenubarTrigger",rk=g.forwardRef((t,e)=>{const{__scopeMenubar:n,disabled:r=!1,...s}=t,i=ZN(n),o=kn(n),a=u1(u0,n),l=tk(u0,n),c=g.useRef(null),d=nt(e,c,l.triggerRef),[f,h]=g.useState(!1),v=a.value===l.value;return p.jsx(c0.ItemSlot,{scope:n,value:l.value,disabled:r,children:p.jsx(CN,{asChild:!0,...i,focusable:!r,tabStopId:l.value,children:p.jsx(yz,{asChild:!0,...o,children:p.jsx(Oe.button,{type:"button",role:"menuitem",id:l.triggerId,"aria-haspopup":"menu","aria-expanded":v,"aria-controls":v?l.contentId:void 0,"data-highlighted":f?"":void 0,"data-state":v?"open":"closed","data-disabled":r?"":void 0,disabled:r,...s,ref:d,onPointerDown:fe(t.onPointerDown,E=>{!r&&E.button===0&&E.ctrlKey===!1&&(a.onMenuOpen(l.value),v||E.preventDefault())}),onPointerEnter:fe(t.onPointerEnter,()=>{var y;!!a.value&&!v&&(a.onMenuOpen(l.value),(y=c.current)==null||y.focus())}),onKeyDown:fe(t.onKeyDown,E=>{r||(["Enter"," "].includes(E.key)&&a.onMenuToggle(l.value),E.key==="ArrowDown"&&a.onMenuOpen(l.value),["Enter"," ","ArrowDown"].includes(E.key)&&(l.wasKeyboardTriggerOpenRef.current=!0,E.preventDefault()))}),onFocus:fe(t.onFocus,()=>h(!0)),onBlur:fe(t.onBlur,()=>h(!1))})})})})});rk.displayName=u0;var Oz="MenubarPortal",sk=t=>{const{__scopeMenubar:e,...n}=t,r=kn(e);return p.jsx(vz,{...r,...n})};sk.displayName=Oz;var d0="MenubarContent",ik=g.forwardRef((t,e)=>{const{__scopeMenubar:n,align:r="start",...s}=t,i=kn(n),o=u1(d0,n),a=tk(d0,n),l=Nz(n),c=g.useRef(!1);return p.jsx(wz,{id:a.contentId,"aria-labelledby":a.triggerId,"data-radix-menubar-content":"",...i,...s,ref:e,align:r,onCloseAutoFocus:fe(t.onCloseAutoFocus,d=>{var h;!!!o.value&&!c.current&&((h=a.triggerRef.current)==null||h.focus()),c.current=!1,d.preventDefault()}),onFocusOutside:fe(t.onFocusOutside,d=>{const f=d.target;l().some(v=>{var E;return(E=v.ref.current)==null?void 0:E.contains(f)})&&d.preventDefault()}),onInteractOutside:fe(t.onInteractOutside,()=>{c.current=!0}),onEntryFocus:d=>{a.wasKeyboardTriggerOpenRef.current||d.preventDefault()},onKeyDown:fe(t.onKeyDown,d=>{if(["ArrowRight","ArrowLeft"].includes(d.key)){const f=d.target,h=f.hasAttribute("data-radix-menubar-subtrigger"),v=f.closest("[data-radix-menubar-content]")!==d.currentTarget,y=(o.dir==="rtl"?"ArrowRight":"ArrowLeft")===d.key;if(!y&&h||v&&y)return;let w=l().filter(O=>!O.disabled).map(O=>O.value);y&&w.reverse();const _=w.indexOf(a.value);w=o.loop?Hz(w,_+1):w.slice(_+1);const[R]=w;R&&o.onMenuOpen(R)}},{checkForDefaultPrevented:!1}),style:{...t.style,"--radix-menubar-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-menubar-content-available-width":"var(--radix-popper-available-width)","--radix-menubar-content-available-height":"var(--radix-popper-available-height)","--radix-menubar-trigger-width":"var(--radix-popper-anchor-width)","--radix-menubar-trigger-height":"var(--radix-popper-anchor-height)"}})});ik.displayName=d0;var Lz="MenubarGroup",Vz=g.forwardRef((t,e)=>{const{__scopeMenubar:n,...r}=t,s=kn(n);return p.jsx(Ez,{...s,...r,ref:e})});Vz.displayName=Lz;var Fz="MenubarLabel",ok=g.forwardRef((t,e)=>{const{__scopeMenubar:n,...r}=t,s=kn(n);return p.jsx(Cz,{...s,...r,ref:e})});ok.displayName=Fz;var jz="MenubarItem",ak=g.forwardRef((t,e)=>{const{__scopeMenubar:n,...r}=t,s=kn(n);return p.jsx(xz,{...s,...r,ref:e})});ak.displayName=jz;var Bz="MenubarCheckboxItem",lk=g.forwardRef((t,e)=>{const{__scopeMenubar:n,...r}=t,s=kn(n);return p.jsx(_z,{...s,...r,ref:e})});lk.displayName=Bz;var Uz="MenubarRadioGroup",qz=g.forwardRef((t,e)=>{const{__scopeMenubar:n,...r}=t,s=kn(n);return p.jsx(Tz,{...s,...r,ref:e})});qz.displayName=Uz;var Gz="MenubarRadioItem",ck=g.forwardRef((t,e)=>{const{__scopeMenubar:n,...r}=t,s=kn(n);return p.jsx(Az,{...s,...r,ref:e})});ck.displayName=Gz;var $z="MenubarItemIndicator",uk=g.forwardRef((t,e)=>{const{__scopeMenubar:n,...r}=t,s=kn(n);return p.jsx(bz,{...s,...r,ref:e})});uk.displayName=$z;var zz="MenubarSeparator",dk=g.forwardRef((t,e)=>{const{__scopeMenubar:n,...r}=t,s=kn(n);return p.jsx(Iz,{...s,...r,ref:e})});dk.displayName=zz;var Wz="MenubarArrow",Kz=g.forwardRef((t,e)=>{const{__scopeMenubar:n,...r}=t,s=kn(n);return p.jsx(Sz,{...s,...r,ref:e})});Kz.displayName=Wz;var Yz="MenubarSubTrigger",hk=g.forwardRef((t,e)=>{const{__scopeMenubar:n,...r}=t,s=kn(n);return p.jsx(Rz,{"data-radix-menubar-subtrigger":"",...s,...r,ref:e})});hk.displayName=Yz;var Qz="MenubarSubContent",fk=g.forwardRef((t,e)=>{const{__scopeMenubar:n,...r}=t,s=kn(n);return p.jsx(Pz,{...s,"data-radix-menubar-content":"",...r,ref:e,style:{...t.style,"--radix-menubar-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-menubar-content-available-width":"var(--radix-popper-available-width)","--radix-menubar-content-available-height":"var(--radix-popper-available-height)","--radix-menubar-trigger-width":"var(--radix-popper-anchor-width)","--radix-menubar-trigger-height":"var(--radix-popper-anchor-height)"}})});fk.displayName=Qz;function Hz(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var pk=ek,Jz=nk,mk=rk,Xz=sk,gk=ik,yk=ok,vk=ak,wk=lk,Ek=ck,Ck=uk,xk=dk,_k=hk,Tk=fk;const Zz=Jz,Ak=g.forwardRef(({className:t,...e},n)=>p.jsx(pk,{ref:n,className:Ve("flex h-10 items-center space-x-1 rounded-md border bg-background p-1",t),...e}));Ak.displayName=pk.displayName;const bk=g.forwardRef(({className:t,...e},n)=>p.jsx(mk,{ref:n,className:Ve("flex cursor-default select-none items-center rounded-sm px-3 py-1.5 text-sm font-medium outline-none focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground",t),...e}));bk.displayName=mk.displayName;const eW=g.forwardRef(({className:t,inset:e,children:n,...r},s)=>p.jsxs(_k,{ref:s,className:Ve("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground",e&&"pl-8",t),...r,children:[n,p.jsx(SL,{className:"ml-auto h-4 w-4"})]}));eW.displayName=_k.displayName;const tW=g.forwardRef(({className:t,...e},n)=>p.jsx(Tk,{ref:n,className:Ve("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...e}));tW.displayName=Tk.displayName;const Ik=g.forwardRef(({className:t,align:e="start",alignOffset:n=-4,sideOffset:r=8,...s},i)=>p.jsx(Xz,{children:p.jsx(gk,{ref:i,align:e,alignOffset:n,sideOffset:r,className:Ve("z-50 min-w-[12rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...s})}));Ik.displayName=gk.displayName;const Sk=g.forwardRef(({className:t,inset:e,...n},r)=>p.jsx(vk,{ref:r,className:Ve("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e&&"pl-8",t),...n}));Sk.displayName=vk.displayName;const nW=g.forwardRef(({className:t,children:e,checked:n,...r},s)=>p.jsxs(wk,{ref:s,className:Ve("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),checked:n,...r,children:[p.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:p.jsx(Ck,{children:p.jsx(fI,{className:"h-4 w-4"})})}),e]}));nW.displayName=wk.displayName;const rW=g.forwardRef(({className:t,children:e,...n},r)=>p.jsxs(Ek,{ref:r,className:Ve("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[p.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:p.jsx(Ck,{children:p.jsx(PL,{className:"h-2 w-2 fill-current"})})}),e]}));rW.displayName=Ek.displayName;const sW=g.forwardRef(({className:t,inset:e,...n},r)=>p.jsx(yk,{ref:r,className:Ve("px-2 py-1.5 text-sm font-semibold",e&&"pl-8",t),...n}));sW.displayName=yk.displayName;const iW=g.forwardRef(({className:t,...e},n)=>p.jsx(xk,{ref:n,className:Ve("-mx-1 my-1 h-px bg-muted",t),...e}));iW.displayName=xk.displayName;const oW=({user:t,handleLogout:e,navigate:n})=>p.jsx(Ak,{children:p.jsxs(Zz,{children:[p.jsx(bk,{className:"bg-transparent text-black border border-white",children:"Menu"}),p.jsx(Ik,{children:V7.filter(r=>r.roles.includes(t.role)).map(r=>{const s=r.icon;return p.jsxs(Sk,{className:r.colorClass+" flex gap-2 items-center",onClick:()=>r.key==="logout"?e():n(r.route),children:[p.jsx(s,{className:"w-4 h-4"}),r.label]},r.key)})})]})}),Rk=g.forwardRef(({className:t,...e},n)=>p.jsx("div",{ref:n,className:Ve("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));Rk.displayName="Card";const Pk=g.forwardRef(({className:t,...e},n)=>p.jsx("div",{ref:n,className:Ve("flex flex-col space-y-1.5 p-6",t),...e}));Pk.displayName="CardHeader";const Nk=g.forwardRef(({className:t,...e},n)=>p.jsx("h3",{ref:n,className:Ve("text-2xl font-semibold leading-none tracking-tight",t),...e}));Nk.displayName="CardTitle";const kk=g.forwardRef(({className:t,...e},n)=>p.jsx("p",{ref:n,className:Ve("text-sm text-muted-foreground",t),...e}));kk.displayName="CardDescription";const Mk=g.forwardRef(({className:t,...e},n)=>p.jsx("div",{ref:n,className:Ve("p-6 pt-0",t),...e}));Mk.displayName="CardContent";const aW=g.forwardRef(({className:t,...e},n)=>p.jsx("div",{ref:n,className:Ve("flex items-center p-6 pt-0",t),...e}));aW.displayName="CardFooter";var h1="Avatar",[lW,wY]=Jl(h1),[cW,Dk]=lW(h1),Ok=g.forwardRef((t,e)=>{const{__scopeAvatar:n,...r}=t,[s,i]=g.useState("idle");return p.jsx(cW,{scope:n,imageLoadingStatus:s,onImageLoadingStatusChange:i,children:p.jsx(Oe.span,{...r,ref:e})})});Ok.displayName=h1;var Lk="AvatarImage",Vk=g.forwardRef((t,e)=>{const{__scopeAvatar:n,src:r,onLoadingStatusChange:s=()=>{},...i}=t,o=Dk(Lk,n),a=uW(r,i.referrerPolicy),l=rn(c=>{s(c),o.onImageLoadingStatusChange(c)});return Qt(()=>{a!=="idle"&&l(a)},[a,l]),a==="loaded"?p.jsx(Oe.img,{...i,ref:e,src:r}):null});Vk.displayName=Lk;var Fk="AvatarFallback",jk=g.forwardRef((t,e)=>{const{__scopeAvatar:n,delayMs:r,...s}=t,i=Dk(Fk,n),[o,a]=g.useState(r===void 0);return g.useEffect(()=>{if(r!==void 0){const l=window.setTimeout(()=>a(!0),r);return()=>window.clearTimeout(l)}},[r]),o&&i.imageLoadingStatus!=="loaded"?p.jsx(Oe.span,{...s,ref:e}):null});jk.displayName=Fk;function uW(t,e){const[n,r]=g.useState("idle");return Qt(()=>{if(!t){r("error");return}let s=!0;const i=new window.Image,o=a=>()=>{s&&r(a)};return r("loading"),i.onload=o("loaded"),i.onerror=o("error"),i.src=t,e&&(i.referrerPolicy=e),()=>{s=!1}},[t,e]),n}var Bk=Ok,Uk=Vk,qk=jk;const Gk=g.forwardRef(({className:t,...e},n)=>p.jsx(Bk,{ref:n,className:Ve("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",t),...e}));Gk.displayName=Bk.displayName;const dW=g.forwardRef(({className:t,...e},n)=>p.jsx(Uk,{ref:n,className:Ve("aspect-square h-full w-full",t),...e}));dW.displayName=Uk.displayName;const $k=g.forwardRef(({className:t,...e},n)=>p.jsx(qk,{ref:n,className:Ve("flex h-full w-full items-center justify-center rounded-full bg-muted",t),...e}));$k.displayName=qk.displayName;const hW=({user:t,lastUpdateTime:e})=>{var n;return p.jsxs(Rk,{className:"my-6 bg-gray-900/80 backdrop-blur-sm border border-red-900/30 text-center relative overflow-hidden",children:[p.jsx("div",{className:"absolute inset-0 pointer-events-none",style:{background:"radial-gradient(circle at 50% 0%, rgba(239,68,68,0.15) 0%, transparent 70%)"}}),p.jsxs(Pk,{className:"relative z-10 flex flex-col items-center",children:[p.jsx(Gk,{className:"mb-2 h-16 w-16 border-2 border-red-500 shadow-lg",children:p.jsx($k,{className:"text-2xl bg-red-900/80 text-white",children:((n=t.name)==null?void 0:n.split(" ").map(r=>r[0]).join("").toUpperCase())||p.jsx(gv,{})})}),p.jsxs(Nk,{className:"text-white",children:["Welcome, ",t.name,"!"]}),p.jsx(kk,{children:"Your loyalty card is ready to use"})]}),p.jsx(Mk,{className:"relative z-10",children:e&&p.jsxs("div",{className:"mt-2 flex items-center justify-center text-sm text-gray-500",children:[p.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full mr-2 animate-pulse"}),"Last updated: ",e.toLocaleTimeString()]})})]})};function Sn({className:t,...e}){return p.jsx("div",{className:Ve("animate-pulse rounded-md bg-muted",t),...e})}const fW=()=>p.jsxs("div",{className:"flex items-center justify-between px-4 py-4 mb-4",children:[p.jsx(Sn,{className:"h-8 w-32 rounded"}),p.jsxs("div",{className:"flex gap-2",children:[p.jsx(Sn,{className:"h-8 w-20 rounded"}),p.jsx(Sn,{className:"h-8 w-20 rounded"}),p.jsx(Sn,{className:"h-8 w-20 rounded"})]})]}),pW=()=>p.jsxs("div",{className:"mb-6 bg-gray-900/80 backdrop-blur-sm border border-red-900/30 text-center relative overflow-hidden rounded-2xl",children:[p.jsxs("div",{className:"flex flex-col items-center p-6",children:[p.jsx(Sn,{className:"h-16 w-16 rounded-full mb-2"}),p.jsx(Sn,{className:"h-6 w-40 mb-2"}),p.jsx(Sn,{className:"h-4 w-56 mb-2"})]}),p.jsx("div",{className:"px-6 pb-4",children:p.jsx(Sn,{className:"h-4 w-32 mx-auto"})})]}),mW=()=>p.jsxs("div",{className:"flex gap-4 mb-6 justify-center",children:[p.jsx(Sn,{className:"h-8 w-24 rounded"}),p.jsx(Sn,{className:"h-8 w-24 rounded"}),p.jsx(Sn,{className:"h-8 w-24 rounded"})]}),gW=()=>p.jsxs("div",{className:"bg-gradient-to-br from-gray-900/90 via-black/80 to-red-950/90 border border-red-900/40 rounded-2xl p-6 min-h-[220px] shadow-2xl mb-6",children:[p.jsx(Sn,{className:"h-6 w-40 mb-4"}),p.jsx(Sn,{className:"h-4 w-56 mb-4"}),p.jsx(Sn,{className:"h-4 w-full rounded mb-2"}),p.jsx(Sn,{className:"h-8 w-32 mt-6 mx-auto"})]}),yW=()=>{const{user:t,loading:e,settings:n,allUsers:r,allUsersLoading:s,showConfetti:i,confettiKey:o,lastUpdateTime:a,activeTab:l,setActiveTab:c,userPurchaseLimit:d,purchasesRemaining:f,handleLogout:h,navigate:v}=NG();if(e)return p.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-black via-gray-900 to-red-950 relative overflow-hidden",children:[p.jsx(fW,{}),p.jsx("div",{className:"flex-1 px-6 pb-6",children:p.jsxs("div",{className:"max-w-md mx-auto",children:[p.jsx(pW,{}),p.jsx(mW,{}),p.jsx(gW,{})]})})]});if(!t)return null;const E=l==="progress",y=t.role==="customer";return p.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-black via-gray-900 to-red-950 relative overflow-hidden",children:[i&&p.jsx(t0,{width:window.innerWidth,height:window.innerHeight,numberOfPieces:200,recycle:!1},o),p.jsx(BG,{title:"Dashboard",onBack:()=>v("/"),actions:p.jsx(oW,{user:t,handleLogout:h,navigate:v})}),p.jsx("div",{className:"flex-1 px-6 pb-6",children:p.jsxs("div",{className:"max-w-md mx-auto",children:[p.jsx(hW,{user:t,lastUpdateTime:a}),p.jsx(zG,{activeTab:l,setActiveTab:c,userRole:t.role}),E&&p.jsx(p.Fragment,{children:y?p.jsx(KG,{user:t,userPurchaseLimit:d,settings:n,purchasesRemaining:f,onViewReward:()=>v("/rewards")}):p.jsxs("div",{className:"bg-gradient-to-br from-gray-900/90 via-black/80 to-red-950/90 border border-red-900/40 rounded-none p-6 min-h-[460px] -mt-0 shadow-2xl",children:[p.jsxs("div",{className:"mb-4",children:[p.jsx("h3",{className:"text-2xl font-bold text-white mb-2",children:"User Progress Tracking"}),p.jsx("p",{className:"text-gray-400 text-sm",children:"Real-time updates of all user loyalty progress"})]}),p.jsx($G,{users:r.filter(b=>b.role==="customer"),loading:s})]})}),l==="card"&&(t.role==="super_admin"?p.jsx(GG,{allUsers:r}):p.jsx(L7,{user:t}))]})})]})},vW=()=>{const{user:t,useReward:e}=ds(),n=Hs(),[r,s]=g.useState(!1),[i,o]=g.useState(!1),[a,l]=g.useState(!1),[c,d]=g.useState(30),[f,h]=g.useState(!1),[v,E]=g.useState(!1),[y,b]=g.useState(!0),C=g.useRef(null);return g.useEffect(()=>(t?t.isRewardReady?(E(!0),setTimeout(()=>E(!1),3e3),C.current=setInterval(()=>{b(!1),setTimeout(()=>b(!0),100)},3500)):n("/dashboard"):n("/login"),()=>{C.current&&clearInterval(C.current)}),[t,n]),g.useEffect(()=>{if(!(!t||r||f))if(t.isRewardReady&&c>0){const w=setInterval(()=>{d(_=>_-1)},1e3);return()=>clearInterval(w)}else c===0&&t.isRewardReady&&(h(!0),setTimeout(()=>{e(),n("/dashboard")},2e3))},[t,c,r,f,e,n]),g.useEffect(()=>{let w;return a&&(w=setTimeout(()=>l(!1),2500)),()=>clearTimeout(w)},[a]),g.useEffect(()=>{let w;return i&&(w=setTimeout(()=>o(!1),2500)),()=>clearTimeout(w)},[i]),!t||!t.isRewardReady?null:f?p.jsx("div",{className:"min-h-screen flex flex-col items-center justify-center bg-gradient-to-br from-black via-gray-900 to-red-950",children:p.jsxs("div",{className:"bg-gradient-to-r from-red-700/80 to-black/80 rounded-2xl p-10 shadow-2xl text-center",children:[p.jsx("div",{className:"text-6xl mb-4",children:"⏰"}),p.jsx("h2",{className:"text-3xl font-bold text-white mb-2",children:"Reward expired"}),p.jsx("p",{className:"text-red-200 text-lg",children:"Start collecting again."})]})}):r?p.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-black via-gray-900 to-red-950 flex flex-col items-center justify-center relative overflow-hidden",children:[i&&p.jsx(t0,{width:window.innerWidth,height:window.innerHeight,numberOfPieces:400,recycle:!1}),p.jsxs("div",{className:"bg-gradient-to-r from-green-600/80 to-green-400/80 backdrop-blur-sm border border-green-900/30 rounded-2xl p-10 shadow-2xl text-center",children:[p.jsx("div",{className:"text-6xl mb-4",children:"🥳"}),p.jsx("h2",{className:"text-3xl font-bold text-white mb-2",children:"Reward Redeemed!"}),p.jsx("p",{className:"text-green-200 text-lg",children:"Your reward has been used."}),p.jsx("p",{className:"text-white/80 mt-2",children:"Your scan count has been reset. Start earning your next reward!"}),p.jsx("button",{className:"mt-8 px-6 py-3 bg-gradient-to-r from-red-600 to-red-700 text-white font-semibold rounded-lg shadow-lg hover:from-red-700 hover:to-red-800 transition-all duration-300",onClick:()=>n("/dashboard"),children:"Back to Dashboard"})]})]}):p.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center relative overflow-hidden bg-gradient-to-br from-black via-red-900 to-orange-900 animate-shimmer",children:[p.jsx("style",{children:`
        @keyframes shimmer {
          0% { background-position: 0% 50%; }
          100% { background-position: 100% 50%; }
        }
        .animate-shimmer {
          background-size: 200% 200%;
          animation: shimmer 8s linear infinite;
        }
        @keyframes fire {
          0% { transform: scaleY(1) translateY(0); opacity: 1; }
          50% { transform: scaleY(1.1) translateY(-10px); opacity: 0.85; }
          100% { transform: scaleY(1) translateY(0); opacity: 1; }
        }
        .fire-flame {
          animation: fire 1.2s infinite alternate cubic-bezier(0.4,0,0.2,1);
        }
        @keyframes lightning {
          0%, 97%, 100% { opacity: 0; }
          98% { opacity: 1; }
          99% { opacity: 0.5; }
        }
        .lightning {
          animation: lightning 4s infinite;
        }
      `}),y&&p.jsx(t0,{width:window.innerWidth,height:window.innerHeight,numberOfPieces:180,recycle:!1,colors:["#ef4444","#fff","#facc15","#ff9800","#a3e635"],style:{position:"fixed",left:0,top:0,zIndex:40}}),p.jsxs("div",{className:"pointer-events-none",children:[p.jsx("div",{className:"absolute top-0 left-0 w-24 h-24 lightning",style:{boxShadow:"0 0 60px 20px #fff8"}}),p.jsx("div",{className:"absolute top-0 right-0 w-24 h-24 lightning",style:{boxShadow:"0 0 60px 20px #fff8"}}),p.jsx("div",{className:"absolute bottom-0 left-0 w-24 h-24 lightning",style:{boxShadow:"0 0 60px 20px #fff8"}}),p.jsx("div",{className:"absolute bottom-0 right-0 w-24 h-24 lightning",style:{boxShadow:"0 0 60px 20px #fff8"}})]}),p.jsx("div",{className:"absolute bottom-0 left-0 w-full flex justify-center items-end z-30 pointer-events-none",children:[...Array(12)].map((w,_)=>p.jsx("div",{className:"fire-flame",style:{width:`${16+Math.random()*16}px`,height:`${40+Math.random()*32}px`,marginLeft:4,marginRight:4,borderRadius:"50% 50% 40% 40%",background:"radial-gradient(circle at 50% 30%, #ff9800 60%, #ef4444 100%)",opacity:.7+Math.random()*.3,filter:"blur(1.5px)",animationDelay:`${Math.random()}s`}},_))}),p.jsxs("div",{className:"relative z-20 bg-gradient-to-r from-red-700/80 to-black/80 rounded-2xl p-10 shadow-2xl text-center animate-bounceIn",children:[p.jsx("div",{className:"text-6xl mb-4 animate-bounce",children:"🎉"}),p.jsx("h2",{className:"text-3xl font-extrabold text-white mb-2 animate-pulse drop-shadow-[0_0_16px_#ff9800]",children:"You Got 20% OFF! 🎉"}),p.jsx("p",{className:"text-red-200 text-lg mb-6 animate-fadeIn",children:"Show this at checkout to redeem your reward."}),p.jsx("button",{className:"mt-8 px-6 py-3 bg-gradient-to-r from-red-600 to-red-700 text-white font-semibold rounded-lg shadow-lg hover:from-red-700 hover:to-red-800 transition-all duration-300",onClick:()=>{e(),n("/dashboard")},children:"Back to Dashboard"})]})]})},wW=()=>{var v;const{user:t,loading:e,settings:n,settingsLoading:r,updateSettings:s}=ds(),i=Hs(),[o,a]=g.useState(5),[l,c]=g.useState(""),[d,f]=g.useState(!1);if(g.useState(!1),g.useEffect(()=>{yt("page_view",{page:"Settings"})},[]),g.useEffect(()=>{!e&&(!t||t.role!=="admin"&&t.role!=="super_admin")&&i("/dashboard")},[t,e,i]),g.useEffect(()=>{n&&(a(n.purchaseLimit||5),c(n.descriptionMessage||"Complete purchases to unlock your reward!"))},[n]),e||r)return p.jsx("div",{className:"min-h-screen bg-gradient-to-br from-black via-gray-900 to-red-950 flex items-center justify-center",children:p.jsxs("div",{className:"text-center",children:[p.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-red-500 mx-auto mb-4"}),p.jsx("p",{className:"text-white text-lg",children:"Loading..."})]})});if(!t||t.role!=="admin"&&t.role!=="super_admin")return null;const h=async()=>{if(o<1){it({title:"Invalid Purchase Limit",description:"Purchase limit must be at least 1",variant:"destructive"}),yt("settings_invalid_purchase_limit");return}if(!l.trim()){it({title:"Missing Description",description:"Please enter a description message",variant:"destructive"}),yt("settings_missing_description");return}f(!0);try{await s(t,o,l.trim()),it({title:"Settings Updated",description:"Global settings have been saved successfully!"}),yt("settings_updated",{user_id:t.id,purchaseLimit:o})}catch(E){console.log("usser",t),console.error("Error updating settings:",E),it({title:"Update Failed",description:"Failed to update settings. Please try again.",variant:"destructive"}),yt("settings_update_failed",{user_id:t.id,error:E==null?void 0:E.message})}finally{f(!1)}};return p.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-black via-gray-900 to-red-950 relative overflow-hidden",children:[p.jsxs("div",{className:"absolute inset-0 opacity-10",children:[p.jsx("div",{className:"absolute top-20 right-10 w-40 h-40 bg-red-500 rounded-full blur-3xl animate-pulse"}),p.jsx("div",{className:"absolute bottom-32 left-10 w-32 h-32 bg-red-600 rounded-full blur-3xl animate-pulse delay-1000"})]}),p.jsxs("div",{className:"relative z-10 min-h-screen flex flex-col",children:[p.jsx("div",{className:"bg-gray-900/80 backdrop-blur-sm border-b border-red-900/30 sticky top-0 z-10",children:p.jsxs("div",{className:"p-6 flex items-center justify-between",children:[p.jsxs("div",{className:"flex items-center",children:[p.jsx(Ks,{to:"/dashboard",className:"text-red-400 hover:text-red-300 transition-colors",children:p.jsx(dd,{className:"w-6 h-6"})}),p.jsx("h1",{className:"ml-4 text-2xl font-bold text-white",children:"Settings"})]}),p.jsxs("div",{className:"flex items-center text-gray-400",children:[p.jsx(mI,{className:"w-6 h-6 mr-2"}),p.jsx("span",{className:"text-sm",children:"Admin Panel"})]})]})}),p.jsx("div",{className:"flex-1 flex items-center justify-center px-6 py-8",children:p.jsx("div",{className:"w-full max-w-2xl",children:p.jsxs("div",{className:"bg-gray-900/80 backdrop-blur-sm border border-red-900/30 rounded-2xl p-8 shadow-2xl",children:[p.jsxs("div",{className:"text-center mb-8",children:[p.jsx("h2",{className:"text-3xl font-bold text-white mb-2",children:"Global Settings"}),p.jsx("p",{className:"text-gray-400",children:"Configure loyalty program settings for new users"})]}),p.jsxs("div",{className:"space-y-8",children:[p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsx(Ms,{htmlFor:"purchaseLimit",className:"text-white text-lg font-semibold",children:"Purchase Limit"}),p.jsxs("div",{className:"text-sm text-gray-400",children:["Current: ",(n==null?void 0:n.purchaseLimit)||10]})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(Qo,{id:"purchaseLimit",type:"number",min:"1",max:"50",value:o,onChange:E=>a(parseInt(E.target.value)||1),className:"bg-gray-800/50 border-gray-700 text-white placeholder-gray-400 focus:border-red-500 text-lg",placeholder:"Enter purchase limit"}),p.jsx("p",{className:"text-sm text-gray-400",children:"Number of purchases required for new users to earn a reward"})]})]}),p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsx(Ms,{htmlFor:"descriptionMessage",className:"text-white text-lg font-semibold",children:"Description Message"}),p.jsxs("div",{className:"text-sm text-gray-400",children:[l.length,"/200"]})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(KE,{id:"descriptionMessage",value:l,onChange:E=>c(E.target.value),maxLength:200,className:"bg-gray-800/50 border-gray-700 text-white placeholder-gray-400 focus:border-red-500 min-h-[120px] resize-none",placeholder:"Enter description message for new users..."}),p.jsx("p",{className:"text-sm text-gray-400",children:"This message will be shown to new users on their dashboard"})]})]}),n&&p.jsxs("div",{className:"bg-gray-800/50 border border-gray-700 rounded-lg p-4",children:[p.jsx("h3",{className:"text-white font-semibold mb-2",children:"Current Settings"}),p.jsxs("div",{className:"space-y-1 text-sm text-gray-300",children:[p.jsxs("div",{children:["Purchase Limit: ",n.purchaseLimit||5]}),p.jsxs("div",{children:["Description:"," ",n.descriptionMessage||"Complete purchases to unlock your reward!"]}),p.jsxs("div",{children:["Last Updated:"," ",((v=n.updatedAt)==null?void 0:v.toDate().toLocaleString())||"Not set"]}),p.jsxs("div",{children:["Updated By: ",n.updatedBy||"system"]})]})]}),p.jsx("div",{className:"flex justify-center pt-4",children:p.jsx(qn,{onClick:h,disabled:d,className:"bg-gradient-to-r from-red-600 to-red-700 hover:from-red-700 hover:to-red-800 text-white font-semibold px-8 py-3 rounded-lg shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-105 disabled:opacity-50",children:d?p.jsxs(p.Fragment,{children:[p.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Saving..."]}):p.jsxs(p.Fragment,{children:[p.jsx(DL,{className:"w-4 h-4 mr-2"}),"Save Settings"]})})}),p.jsxs("div",{className:"bg-blue-900/20 border border-blue-700/30 rounded-lg p-4",children:[p.jsx("h4",{className:"text-blue-300 font-semibold mb-2",children:"⚠️ Important Note"}),p.jsx("p",{className:"text-blue-200 text-sm",children:"These settings will only affect new users who register after the changes are saved. Existing users will keep their original purchase limits to maintain fairness."})]})]})]})})})]})]})};function iT(t,[e,n]){return Math.min(n,Math.max(e,t))}function EW(t){const e=g.useRef({value:t,previous:t});return g.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var CW=[" ","Enter","ArrowUp","ArrowDown"],xW=[" ","Enter"],Pd="Select",[zm,Wm,_W]=ld(Pd),[fc,EY]=Jl(Pd,[_W,uc]),Km=uc(),[TW,wo]=fc(Pd),[AW,bW]=fc(Pd),zk=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:s,onOpenChange:i,value:o,defaultValue:a,onValueChange:l,dir:c,name:d,autoComplete:f,disabled:h,required:v,form:E}=t,y=Km(e),[b,C]=g.useState(null),[w,_]=g.useState(null),[R,O]=g.useState(!1),j=Fm(c),[S=!1,I]=Mu({prop:r,defaultProp:s,onChange:i}),[k,M]=Mu({prop:o,defaultProp:a,onChange:l}),V=g.useRef(null),F=b?E||!!b.closest("form"):!0,[D,re]=g.useState(new Set),se=Array.from(D).map(ne=>ne.props.value).join(";");return p.jsx(xP,{...y,children:p.jsxs(TW,{required:v,scope:e,trigger:b,onTriggerChange:C,valueNode:w,onValueNodeChange:_,valueNodeHasChildren:R,onValueNodeHasChildrenChange:O,contentId:Yo(),value:k,onValueChange:M,open:S,onOpenChange:I,dir:j,triggerPointerDownPosRef:V,disabled:h,children:[p.jsx(zm.Provider,{scope:e,children:p.jsx(AW,{scope:t.__scopeSelect,onNativeOptionAdd:g.useCallback(ne=>{re(pe=>new Set(pe).add(ne))},[]),onNativeOptionRemove:g.useCallback(ne=>{re(pe=>{const q=new Set(pe);return q.delete(ne),q})},[]),children:n})}),F?p.jsxs(g2,{"aria-hidden":!0,required:v,tabIndex:-1,name:d,autoComplete:f,value:k,onChange:ne=>M(ne.target.value),disabled:h,form:E,children:[k===void 0?p.jsx("option",{value:""}):null,Array.from(D)]},se):null]})})};zk.displayName=Pd;var Wk="SelectTrigger",Kk=g.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...s}=t,i=Km(n),o=wo(Wk,n),a=o.disabled||r,l=nt(e,o.onTriggerChange),c=Wm(n),d=g.useRef("touch"),[f,h,v]=y2(y=>{const b=c().filter(_=>!_.disabled),C=b.find(_=>_.value===o.value),w=v2(b,y,C);w!==void 0&&o.onValueChange(w.value)}),E=y=>{a||(o.onOpenChange(!0),v()),y&&(o.triggerPointerDownPosRef.current={x:Math.round(y.pageX),y:Math.round(y.pageY)})};return p.jsx(VE,{asChild:!0,...i,children:p.jsx(Oe.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:a,"data-disabled":a?"":void 0,"data-placeholder":m2(o.value)?"":void 0,...s,ref:l,onClick:fe(s.onClick,y=>{y.currentTarget.focus(),d.current!=="mouse"&&E(y)}),onPointerDown:fe(s.onPointerDown,y=>{d.current=y.pointerType;const b=y.target;b.hasPointerCapture(y.pointerId)&&b.releasePointerCapture(y.pointerId),y.button===0&&y.ctrlKey===!1&&y.pointerType==="mouse"&&(E(y),y.preventDefault())}),onKeyDown:fe(s.onKeyDown,y=>{const b=f.current!=="";!(y.ctrlKey||y.altKey||y.metaKey)&&y.key.length===1&&h(y.key),!(b&&y.key===" ")&&CW.includes(y.key)&&(E(),y.preventDefault())})})})});Kk.displayName=Wk;var Yk="SelectValue",Qk=g.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,children:i,placeholder:o="",...a}=t,l=wo(Yk,n),{onValueNodeHasChildrenChange:c}=l,d=i!==void 0,f=nt(e,l.onValueNodeChange);return Qt(()=>{c(d)},[c,d]),p.jsx(Oe.span,{...a,ref:f,style:{pointerEvents:"none"},children:m2(l.value)?p.jsx(p.Fragment,{children:o}):i})});Qk.displayName=Yk;var IW="SelectIcon",Hk=g.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...s}=t;return p.jsx(Oe.span,{"aria-hidden":!0,...s,ref:e,children:r||"▼"})});Hk.displayName=IW;var SW="SelectPortal",Jk=t=>p.jsx(Xp,{asChild:!0,...t});Jk.displayName=SW;var ua="SelectContent",Xk=g.forwardRef((t,e)=>{const n=wo(ua,t.__scopeSelect),[r,s]=g.useState();if(Qt(()=>{s(new DocumentFragment)},[]),!n.open){const i=r;return i?fa.createPortal(p.jsx(Zk,{scope:t.__scopeSelect,children:p.jsx(zm.Slot,{scope:t.__scopeSelect,children:p.jsx("div",{children:t.children})})}),i):null}return p.jsx(e2,{...t,ref:e})});Xk.displayName=ua;var Rr=10,[Zk,Eo]=fc(ua),RW="SelectContentImpl",e2=g.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:i,onPointerDownOutside:o,side:a,sideOffset:l,align:c,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:v,sticky:E,hideWhenDetached:y,avoidCollisions:b,...C}=t,w=wo(ua,n),[_,R]=g.useState(null),[O,j]=g.useState(null),S=nt(e,te=>R(te)),[I,k]=g.useState(null),[M,V]=g.useState(null),F=Wm(n),[D,re]=g.useState(!1),se=g.useRef(!1);g.useEffect(()=>{if(_)return _N(_)},[_]),fN();const ne=g.useCallback(te=>{const[ge,...we]=F().map(_e=>_e.ref.current),[Ce]=we.slice(-1),Ae=document.activeElement;for(const _e of te)if(_e===Ae||(_e==null||_e.scrollIntoView({block:"nearest"}),_e===ge&&O&&(O.scrollTop=0),_e===Ce&&O&&(O.scrollTop=O.scrollHeight),_e==null||_e.focus(),document.activeElement!==Ae))return},[F,O]),pe=g.useCallback(()=>ne([I,_]),[ne,I,_]);g.useEffect(()=>{D&&pe()},[D,pe]);const{onOpenChange:q,triggerPointerDownPosRef:W}=w;g.useEffect(()=>{if(_){let te={x:0,y:0};const ge=Ce=>{var Ae,_e;te={x:Math.abs(Math.round(Ce.pageX)-(((Ae=W.current)==null?void 0:Ae.x)??0)),y:Math.abs(Math.round(Ce.pageY)-(((_e=W.current)==null?void 0:_e.y)??0))}},we=Ce=>{te.x<=10&&te.y<=10?Ce.preventDefault():_.contains(Ce.target)||q(!1),document.removeEventListener("pointermove",ge),W.current=null};return W.current!==null&&(document.addEventListener("pointermove",ge),document.addEventListener("pointerup",we,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",ge),document.removeEventListener("pointerup",we,{capture:!0})}}},[_,q,W]),g.useEffect(()=>{const te=()=>q(!1);return window.addEventListener("blur",te),window.addEventListener("resize",te),()=>{window.removeEventListener("blur",te),window.removeEventListener("resize",te)}},[q]);const[ie,ee]=y2(te=>{const ge=F().filter(Ae=>!Ae.disabled),we=ge.find(Ae=>Ae.ref.current===document.activeElement),Ce=v2(ge,te,we);Ce&&setTimeout(()=>Ce.ref.current.focus())}),ae=g.useCallback((te,ge,we)=>{const Ce=!se.current&&!we;(w.value!==void 0&&w.value===ge||Ce)&&(k(te),Ce&&(se.current=!0))},[w.value]),ce=g.useCallback(()=>_==null?void 0:_.focus(),[_]),Re=g.useCallback((te,ge,we)=>{const Ce=!se.current&&!we;(w.value!==void 0&&w.value===ge||Ce)&&V(te)},[w.value]),ke=r==="popper"?h0:t2,Ee=ke===h0?{side:a,sideOffset:l,align:c,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:v,sticky:E,hideWhenDetached:y,avoidCollisions:b}:{};return p.jsx(Zk,{scope:n,content:_,viewport:O,onViewportChange:j,itemRefCallback:ae,selectedItem:I,onItemLeave:ce,itemTextRefCallback:Re,focusSelectedItem:pe,selectedItemText:M,position:r,isPositioned:D,searchRef:ie,children:p.jsx(n1,{as:ta,allowPinchZoom:!0,children:p.jsx(t1,{asChild:!0,trapped:w.open,onMountAutoFocus:te=>{te.preventDefault()},onUnmountAutoFocus:fe(s,te=>{var ge;(ge=w.trigger)==null||ge.focus({preventScroll:!0}),te.preventDefault()}),children:p.jsx(cd,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:te=>te.preventDefault(),onDismiss:()=>w.onOpenChange(!1),children:p.jsx(ke,{role:"listbox",id:w.contentId,"data-state":w.open?"open":"closed",dir:w.dir,onContextMenu:te=>te.preventDefault(),...C,...Ee,onPlaced:()=>re(!0),ref:S,style:{display:"flex",flexDirection:"column",outline:"none",...C.style},onKeyDown:fe(C.onKeyDown,te=>{const ge=te.ctrlKey||te.altKey||te.metaKey;if(te.key==="Tab"&&te.preventDefault(),!ge&&te.key.length===1&&ee(te.key),["ArrowUp","ArrowDown","Home","End"].includes(te.key)){let Ce=F().filter(Ae=>!Ae.disabled).map(Ae=>Ae.ref.current);if(["ArrowUp","End"].includes(te.key)&&(Ce=Ce.slice().reverse()),["ArrowUp","ArrowDown"].includes(te.key)){const Ae=te.target,_e=Ce.indexOf(Ae);Ce=Ce.slice(_e+1)}setTimeout(()=>ne(Ce)),te.preventDefault()}})})})})})})});e2.displayName=RW;var PW="SelectItemAlignedPosition",t2=g.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...s}=t,i=wo(ua,n),o=Eo(ua,n),[a,l]=g.useState(null),[c,d]=g.useState(null),f=nt(e,S=>d(S)),h=Wm(n),v=g.useRef(!1),E=g.useRef(!0),{viewport:y,selectedItem:b,selectedItemText:C,focusSelectedItem:w}=o,_=g.useCallback(()=>{if(i.trigger&&i.valueNode&&a&&c&&y&&b&&C){const S=i.trigger.getBoundingClientRect(),I=c.getBoundingClientRect(),k=i.valueNode.getBoundingClientRect(),M=C.getBoundingClientRect();if(i.dir!=="rtl"){const Ae=M.left-I.left,_e=k.left-Ae,de=S.left-_e,ve=S.width+de,ht=Math.max(ve,I.width),st=window.innerWidth-Rr,Pt=iT(_e,[Rr,Math.max(Rr,st-ht)]);a.style.minWidth=ve+"px",a.style.left=Pt+"px"}else{const Ae=I.right-M.right,_e=window.innerWidth-k.right-Ae,de=window.innerWidth-S.right-_e,ve=S.width+de,ht=Math.max(ve,I.width),st=window.innerWidth-Rr,Pt=iT(_e,[Rr,Math.max(Rr,st-ht)]);a.style.minWidth=ve+"px",a.style.right=Pt+"px"}const V=h(),F=window.innerHeight-Rr*2,D=y.scrollHeight,re=window.getComputedStyle(c),se=parseInt(re.borderTopWidth,10),ne=parseInt(re.paddingTop,10),pe=parseInt(re.borderBottomWidth,10),q=parseInt(re.paddingBottom,10),W=se+ne+D+q+pe,ie=Math.min(b.offsetHeight*5,W),ee=window.getComputedStyle(y),ae=parseInt(ee.paddingTop,10),ce=parseInt(ee.paddingBottom,10),Re=S.top+S.height/2-Rr,ke=F-Re,Ee=b.offsetHeight/2,te=b.offsetTop+Ee,ge=se+ne+te,we=W-ge;if(ge<=Re){const Ae=V.length>0&&b===V[V.length-1].ref.current;a.style.bottom="0px";const _e=c.clientHeight-y.offsetTop-y.offsetHeight,de=Math.max(ke,Ee+(Ae?ce:0)+_e+pe),ve=ge+de;a.style.height=ve+"px"}else{const Ae=V.length>0&&b===V[0].ref.current;a.style.top="0px";const de=Math.max(Re,se+y.offsetTop+(Ae?ae:0)+Ee)+we;a.style.height=de+"px",y.scrollTop=ge-Re+y.offsetTop}a.style.margin=`${Rr}px 0`,a.style.minHeight=ie+"px",a.style.maxHeight=F+"px",r==null||r(),requestAnimationFrame(()=>v.current=!0)}},[h,i.trigger,i.valueNode,a,c,y,b,C,i.dir,r]);Qt(()=>_(),[_]);const[R,O]=g.useState();Qt(()=>{c&&O(window.getComputedStyle(c).zIndex)},[c]);const j=g.useCallback(S=>{S&&E.current===!0&&(_(),w==null||w(),E.current=!1)},[_,w]);return p.jsx(kW,{scope:n,contentWrapper:a,shouldExpandOnScrollRef:v,onScrollButtonChange:j,children:p.jsx("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:R},children:p.jsx(Oe.div,{...s,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});t2.displayName=PW;var NW="SelectPopperPosition",h0=g.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:s=Rr,...i}=t,o=Km(n);return p.jsx(FE,{...o,...i,ref:e,align:r,collisionPadding:s,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});h0.displayName=NW;var[kW,f1]=fc(ua,{}),f0="SelectViewport",n2=g.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...s}=t,i=Eo(f0,n),o=f1(f0,n),a=nt(e,i.onViewportChange),l=g.useRef(0);return p.jsxs(p.Fragment,{children:[p.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),p.jsx(zm.Slot,{scope:n,children:p.jsx(Oe.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:a,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:fe(s.onScroll,c=>{const d=c.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:h}=o;if(h!=null&&h.current&&f){const v=Math.abs(l.current-d.scrollTop);if(v>0){const E=window.innerHeight-Rr*2,y=parseFloat(f.style.minHeight),b=parseFloat(f.style.height),C=Math.max(y,b);if(C<E){const w=C+v,_=Math.min(E,w),R=w-_;f.style.height=_+"px",f.style.bottom==="0px"&&(d.scrollTop=R>0?R:0,f.style.justifyContent="flex-end")}}}l.current=d.scrollTop})})})]})});n2.displayName=f0;var r2="SelectGroup",[MW,DW]=fc(r2),OW=g.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=Yo();return p.jsx(MW,{scope:n,id:s,children:p.jsx(Oe.div,{role:"group","aria-labelledby":s,...r,ref:e})})});OW.displayName=r2;var s2="SelectLabel",i2=g.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=DW(s2,n);return p.jsx(Oe.div,{id:s.id,...r,ref:e})});i2.displayName=s2;var Dp="SelectItem",[LW,o2]=fc(Dp),a2=g.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:s=!1,textValue:i,...o}=t,a=wo(Dp,n),l=Eo(Dp,n),c=a.value===r,[d,f]=g.useState(i??""),[h,v]=g.useState(!1),E=nt(e,w=>{var _;return(_=l.itemRefCallback)==null?void 0:_.call(l,w,r,s)}),y=Yo(),b=g.useRef("touch"),C=()=>{s||(a.onValueChange(r),a.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return p.jsx(LW,{scope:n,value:r,disabled:s,textId:y,isSelected:c,onItemTextChange:g.useCallback(w=>{f(_=>_||((w==null?void 0:w.textContent)??"").trim())},[]),children:p.jsx(zm.ItemSlot,{scope:n,value:r,disabled:s,textValue:d,children:p.jsx(Oe.div,{role:"option","aria-labelledby":y,"data-highlighted":h?"":void 0,"aria-selected":c&&h,"data-state":c?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...o,ref:E,onFocus:fe(o.onFocus,()=>v(!0)),onBlur:fe(o.onBlur,()=>v(!1)),onClick:fe(o.onClick,()=>{b.current!=="mouse"&&C()}),onPointerUp:fe(o.onPointerUp,()=>{b.current==="mouse"&&C()}),onPointerDown:fe(o.onPointerDown,w=>{b.current=w.pointerType}),onPointerMove:fe(o.onPointerMove,w=>{var _;b.current=w.pointerType,s?(_=l.onItemLeave)==null||_.call(l):b.current==="mouse"&&w.currentTarget.focus({preventScroll:!0})}),onPointerLeave:fe(o.onPointerLeave,w=>{var _;w.currentTarget===document.activeElement&&((_=l.onItemLeave)==null||_.call(l))}),onKeyDown:fe(o.onKeyDown,w=>{var R;((R=l.searchRef)==null?void 0:R.current)!==""&&w.key===" "||(xW.includes(w.key)&&C(),w.key===" "&&w.preventDefault())})})})})});a2.displayName=Dp;var Qc="SelectItemText",l2=g.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,...i}=t,o=wo(Qc,n),a=Eo(Qc,n),l=o2(Qc,n),c=bW(Qc,n),[d,f]=g.useState(null),h=nt(e,C=>f(C),l.onItemTextChange,C=>{var w;return(w=a.itemTextRefCallback)==null?void 0:w.call(a,C,l.value,l.disabled)}),v=d==null?void 0:d.textContent,E=g.useMemo(()=>p.jsx("option",{value:l.value,disabled:l.disabled,children:v},l.value),[l.disabled,l.value,v]),{onNativeOptionAdd:y,onNativeOptionRemove:b}=c;return Qt(()=>(y(E),()=>b(E)),[y,b,E]),p.jsxs(p.Fragment,{children:[p.jsx(Oe.span,{id:l.textId,...i,ref:h}),l.isSelected&&o.valueNode&&!o.valueNodeHasChildren?fa.createPortal(i.children,o.valueNode):null]})});l2.displayName=Qc;var c2="SelectItemIndicator",u2=g.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return o2(c2,n).isSelected?p.jsx(Oe.span,{"aria-hidden":!0,...r,ref:e}):null});u2.displayName=c2;var p0="SelectScrollUpButton",d2=g.forwardRef((t,e)=>{const n=Eo(p0,t.__scopeSelect),r=f1(p0,t.__scopeSelect),[s,i]=g.useState(!1),o=nt(e,r.onScrollButtonChange);return Qt(()=>{if(n.viewport&&n.isPositioned){let a=function(){const c=l.scrollTop>0;i(c)};const l=n.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),s?p.jsx(f2,{...t,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop-l.offsetHeight)}}):null});d2.displayName=p0;var m0="SelectScrollDownButton",h2=g.forwardRef((t,e)=>{const n=Eo(m0,t.__scopeSelect),r=f1(m0,t.__scopeSelect),[s,i]=g.useState(!1),o=nt(e,r.onScrollButtonChange);return Qt(()=>{if(n.viewport&&n.isPositioned){let a=function(){const c=l.scrollHeight-l.clientHeight,d=Math.ceil(l.scrollTop)<c;i(d)};const l=n.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),s?p.jsx(f2,{...t,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop+l.offsetHeight)}}):null});h2.displayName=m0;var f2=g.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...s}=t,i=Eo("SelectScrollButton",n),o=g.useRef(null),a=Wm(n),l=g.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return g.useEffect(()=>()=>l(),[l]),Qt(()=>{var d;const c=a().find(f=>f.ref.current===document.activeElement);(d=c==null?void 0:c.ref.current)==null||d.scrollIntoView({block:"nearest"})},[a]),p.jsx(Oe.div,{"aria-hidden":!0,...s,ref:e,style:{flexShrink:0,...s.style},onPointerDown:fe(s.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(r,50))}),onPointerMove:fe(s.onPointerMove,()=>{var c;(c=i.onItemLeave)==null||c.call(i),o.current===null&&(o.current=window.setInterval(r,50))}),onPointerLeave:fe(s.onPointerLeave,()=>{l()})})}),VW="SelectSeparator",p2=g.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return p.jsx(Oe.div,{"aria-hidden":!0,...r,ref:e})});p2.displayName=VW;var g0="SelectArrow",FW=g.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=Km(n),i=wo(g0,n),o=Eo(g0,n);return i.open&&o.position==="popper"?p.jsx(jE,{...s,...r,ref:e}):null});FW.displayName=g0;function m2(t){return t===""||t===void 0}var g2=g.forwardRef((t,e)=>{const{value:n,...r}=t,s=g.useRef(null),i=nt(e,s),o=EW(n);return g.useEffect(()=>{const a=s.current,l=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(l,"value").set;if(o!==n&&d){const f=new Event("change",{bubbles:!0});d.call(a,n),a.dispatchEvent(f)}},[o,n]),p.jsx(ud,{asChild:!0,children:p.jsx("select",{...r,ref:i,defaultValue:n})})});g2.displayName="BubbleSelect";function y2(t){const e=rn(t),n=g.useRef(""),r=g.useRef(0),s=g.useCallback(o=>{const a=n.current+o;e(a),function l(c){n.current=c,window.clearTimeout(r.current),c!==""&&(r.current=window.setTimeout(()=>l(""),1e3))}(a)},[e]),i=g.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return g.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,s,i]}function v2(t,e,n){const s=e.length>1&&Array.from(e).every(c=>c===e[0])?e[0]:e,i=n?t.indexOf(n):-1;let o=jW(t,Math.max(i,0));s.length===1&&(o=o.filter(c=>c!==n));const l=o.find(c=>c.textValue.toLowerCase().startsWith(s.toLowerCase()));return l!==n?l:void 0}function jW(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var BW=zk,w2=Kk,UW=Qk,qW=Hk,GW=Jk,E2=Xk,$W=n2,C2=i2,x2=a2,zW=l2,WW=u2,_2=d2,T2=h2,A2=p2;const KW=BW,YW=UW,b2=g.forwardRef(({className:t,children:e,...n},r)=>p.jsxs(w2,{ref:r,className:Ve("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[e,p.jsx(qW,{asChild:!0,children:p.jsx(pI,{className:"h-4 w-4 opacity-50"})})]}));b2.displayName=w2.displayName;const I2=g.forwardRef(({className:t,...e},n)=>p.jsx(_2,{ref:n,className:Ve("flex cursor-default items-center justify-center py-1",t),...e,children:p.jsx(RL,{className:"h-4 w-4"})}));I2.displayName=_2.displayName;const S2=g.forwardRef(({className:t,...e},n)=>p.jsx(T2,{ref:n,className:Ve("flex cursor-default items-center justify-center py-1",t),...e,children:p.jsx(pI,{className:"h-4 w-4"})}));S2.displayName=T2.displayName;const R2=g.forwardRef(({className:t,children:e,position:n="popper",...r},s)=>p.jsx(GW,{children:p.jsxs(E2,{ref:s,className:Ve("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[p.jsx(I2,{}),p.jsx($W,{className:Ve("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),p.jsx(S2,{})]})}));R2.displayName=E2.displayName;const QW=g.forwardRef(({className:t,...e},n)=>p.jsx(C2,{ref:n,className:Ve("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));QW.displayName=C2.displayName;const bf=g.forwardRef(({className:t,children:e,...n},r)=>p.jsxs(x2,{ref:r,className:Ve("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[p.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:p.jsx(WW,{children:p.jsx(fI,{className:"h-4 w-4"})})}),p.jsx(zW,{children:e})]}));bf.displayName=x2.displayName;const HW=g.forwardRef(({className:t,...e},n)=>p.jsx(A2,{ref:n,className:Ve("-mx-1 my-1 h-px bg-muted",t),...e}));HW.displayName=A2.displayName;const JW=()=>{const{user:t,loading:e,updateUserRole:n}=ds(),r=Hs(),[s,i]=g.useState([]),[o,a]=g.useState(!0),[l,c]=g.useState(null),[d,f]=g.useState(null),[h,v]=g.useState(null);if(g.useEffect(()=>{!e&&(!t||t.role!=="super_admin")&&r("/dashboard")},[t,e,r]),g.useEffect(()=>{const w=async()=>{if(!(!t||t.role!=="super_admin"))try{const _=lE(on,"users"),R=mE(_,hR("createdAt","desc")),O=await pR(R),j=[];O.forEach(S=>{const I=S.data();j.push({id:S.id,name:I.name,email:I.email,role:I.role||"customer",purchases:I.purchases||0,createdAt:I.createdAt})}),i(j)}catch(_){console.error("Error loading users:",_),it({title:"Error",description:"Failed to load users",variant:"destructive"})}finally{a(!1)}};(t==null?void 0:t.role)==="super_admin"&&w()},[t]),e)return p.jsx("div",{className:"min-h-screen bg-gradient-to-br from-black via-gray-900 to-red-950 flex items-center justify-center",children:p.jsxs("div",{className:"text-center",children:[p.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-red-500 mx-auto mb-4"}),p.jsx("p",{className:"text-white text-lg",children:"Loading..."})]})});if(!t||t.role!=="super_admin")return null;const E=async(w,_)=>{if(w===t.id){it({title:"Cannot Update Own Role",description:"You cannot change your own role",variant:"destructive"});return}c(w);try{await n(w,_),it({title:"Role Updated",description:"User role has been updated successfully!"}),i(R=>R.map(O=>O.id===w?{...O,role:_}:O))}catch(R){console.error("Error updating role:",R),it({title:"Update Failed",description:"Failed to update user role. Please try again.",variant:"destructive"})}finally{c(null)}},y=async w=>{f(w);try{await a3(Un(on,"users",w)),i(_=>_.filter(R=>R.id!==w)),it({title:"User Deleted",description:"The user has been deleted successfully."})}catch(_){console.error("Error deleting user:",_),it({title:"Delete Failed",description:"Failed to delete user. Please try again.",variant:"destructive"})}finally{f(null),v(null)}},b=w=>{switch(w){case"super_admin":return p.jsx(mv,{className:"w-4 h-4 text-yellow-500"});case"admin":return p.jsx(gI,{className:"w-4 h-4 text-blue-500"});case"customer":return p.jsx(gv,{className:"w-4 h-4 text-gray-500"});default:return p.jsx(gv,{className:"w-4 h-4 text-gray-500"})}},C=w=>{switch(w){case"super_admin":return"text-yellow-500 bg-yellow-500/10 border-yellow-500/20";case"admin":return"text-blue-500 bg-blue-500/10 border-blue-500/20";case"customer":return"text-gray-500 bg-gray-500/10 border-gray-500/20";default:return"text-gray-500 bg-gray-500/10 border-gray-500/20"}};return p.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-black via-gray-900 to-red-950 relative overflow-hidden",children:[p.jsxs("div",{className:"absolute inset-0 opacity-10",children:[p.jsx("div",{className:"absolute top-20 right-10 w-40 h-40 bg-red-500 rounded-full blur-3xl animate-pulse"}),p.jsx("div",{className:"absolute bottom-32 left-10 w-32 h-32 bg-red-600 rounded-full blur-3xl animate-pulse delay-1000"})]}),p.jsxs("div",{className:"relative z-10 min-h-screen flex flex-col",children:[p.jsx("div",{className:"bg-gray-900/80 backdrop-blur-sm border-b border-red-900/30 sticky top-0 z-10",children:p.jsxs("div",{className:"p-6 flex items-center justify-between",children:[p.jsxs("div",{className:"flex items-center",children:[p.jsx(Ks,{to:"/dashboard",className:"text-red-400 hover:text-red-300 transition-colors",children:p.jsx(dd,{className:"w-6 h-6"})}),p.jsx("h1",{className:"ml-4 text-2xl font-bold text-white",children:"User Management"})]}),p.jsxs("div",{className:"flex items-center text-gray-400",children:[p.jsx(mv,{className:"w-6 h-6 mr-2 text-yellow-500"}),p.jsx("span",{className:"text-sm",children:"Super Admin Panel"})]})]})}),p.jsx("div",{className:"flex-1 px-6 py-8",children:p.jsx("div",{className:"max-w-4xl mx-auto",children:p.jsxs("div",{className:"bg-gray-900/80 backdrop-blur-sm border border-red-900/30 rounded-2xl p-8 shadow-2xl",children:[p.jsxs("div",{className:"text-center mb-8",children:[p.jsx("h2",{className:"text-3xl font-bold text-white mb-2",children:"Manage Users"}),p.jsx("p",{className:"text-gray-400",children:"Update user roles and permissions"})]}),o?p.jsxs("div",{className:"text-center py-8",children:[p.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-red-500 mx-auto mb-4"}),p.jsx("p",{className:"text-white",children:"Loading users..."})]}):p.jsx("div",{className:"space-y-4",children:s.map(w=>p.jsxs("div",{className:"bg-gray-800/50 border border-gray-700 rounded-lg p-4 flex items-center justify-between",children:[p.jsx("div",{className:"flex items-center space-x-4",children:p.jsxs("div",{className:"flex items-center space-x-3",children:[b(w.role),p.jsxs("div",{children:[p.jsx("h3",{className:"text-white font-semibold",children:w.name}),p.jsx("p",{className:"text-gray-400 text-sm",children:w.email}),p.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[p.jsx("span",{className:`text-xs px-2 py-1 rounded-full border ${C(w.role)}`,children:w.role.replace("_"," ").toUpperCase()}),p.jsxs("span",{className:"text-gray-500 text-xs",children:[w.purchases," purchases"]})]})]})]})}),p.jsxs("div",{className:"flex items-center space-x-3",children:[w.id!==t.id&&p.jsx(p.Fragment,{children:p.jsxs(KW,{value:w.role,onValueChange:_=>E(w.id,_),disabled:l===w.id,children:[p.jsx(b2,{className:"w-32 bg-gray-700 border-gray-600 text-white",children:p.jsx(YW,{})}),p.jsxs(R2,{className:"bg-gray-800 border-gray-700",children:[p.jsx(bf,{value:"customer",children:"Customer"}),p.jsx(bf,{value:"admin",children:"Admin"}),p.jsx(bf,{value:"super_admin",children:"Super Admin"})]})]})}),w.id===t.id&&p.jsx("span",{className:"text-gray-500 text-sm",children:"Current User"})]})]},w.id))}),s.length===0&&!o&&p.jsxs("div",{className:"text-center py-8",children:[p.jsx(rp,{className:"w-12 h-12 text-gray-500 mx-auto mb-4"}),p.jsx("p",{className:"text-gray-400",children:"No users found"})]})]})})})]}),h&&p.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60",children:p.jsxs("div",{className:"bg-gray-900 rounded-lg p-8 border border-red-700 shadow-xl w-full max-w-sm",children:[p.jsx("h2",{className:"text-lg font-bold text-white mb-4",children:"Confirm Delete"}),p.jsxs("p",{className:"text-gray-300 mb-6",children:["Are you sure you want to delete"," ",p.jsx("span",{className:"font-semibold text-red-400",children:h.name}),"? This action cannot be undone."]}),p.jsxs("div",{className:"flex justify-end space-x-3",children:[p.jsx(qn,{variant:"ghost",onClick:()=>v(null),className:"text-gray-300 hover:text-white",children:"Cancel"}),p.jsx(qn,{variant:"destructive",onClick:()=>y(h.id),disabled:d===h.id,children:d===h.id?"Deleting...":"Delete"})]})]})})]})},XW=()=>{const t=yo();return g.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",t.pathname)},[t.pathname]),p.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:p.jsxs("div",{className:"text-center",children:[p.jsx("h1",{className:"text-4xl font-bold mb-4",children:"404"}),p.jsx("p",{className:"text-xl text-gray-600 mb-4",children:"Oops! Page not found"}),p.jsx("a",{href:"/",className:"text-blue-500 hover:text-blue-700 underline",children:"Return to Home"})]})})};let P2=!0,N2=!0;function Hc(t,e,n){const r=t.match(e);return r&&r.length>=n&&parseFloat(r[n],10)}function Ca(t,e,n){if(!t.RTCPeerConnection)return;const r=t.RTCPeerConnection.prototype,s=r.addEventListener;r.addEventListener=function(o,a){if(o!==e)return s.apply(this,arguments);const l=c=>{const d=n(c);d&&(a.handleEvent?a.handleEvent(d):a(d))};return this._eventMap=this._eventMap||{},this._eventMap[e]||(this._eventMap[e]=new Map),this._eventMap[e].set(a,l),s.apply(this,[o,l])};const i=r.removeEventListener;r.removeEventListener=function(o,a){if(o!==e||!this._eventMap||!this._eventMap[e])return i.apply(this,arguments);if(!this._eventMap[e].has(a))return i.apply(this,arguments);const l=this._eventMap[e].get(a);return this._eventMap[e].delete(a),this._eventMap[e].size===0&&delete this._eventMap[e],Object.keys(this._eventMap).length===0&&delete this._eventMap,i.apply(this,[o,l])},Object.defineProperty(r,"on"+e,{get(){return this["_on"+e]},set(o){this["_on"+e]&&(this.removeEventListener(e,this["_on"+e]),delete this["_on"+e]),o&&this.addEventListener(e,this["_on"+e]=o)},enumerable:!0,configurable:!0})}function ZW(t){return typeof t!="boolean"?new Error("Argument type: "+typeof t+". Please use a boolean."):(P2=t,t?"adapter.js logging disabled":"adapter.js logging enabled")}function eK(t){return typeof t!="boolean"?new Error("Argument type: "+typeof t+". Please use a boolean."):(N2=!t,"adapter.js deprecation warnings "+(t?"disabled":"enabled"))}function k2(){if(typeof window=="object"){if(P2)return;typeof console<"u"&&typeof console.log=="function"&&console.log.apply(console,arguments)}}function p1(t,e){N2&&console.warn(t+" is deprecated, please use "+e+" instead.")}function tK(t){const e={browser:null,version:null};if(typeof t>"u"||!t.navigator||!t.navigator.userAgent)return e.browser="Not a browser.",e;const{navigator:n}=t;if(n.userAgentData&&n.userAgentData.brands){const r=n.userAgentData.brands.find(s=>s.brand==="Chromium");if(r)return{browser:"chrome",version:parseInt(r.version,10)}}if(n.mozGetUserMedia)e.browser="firefox",e.version=parseInt(Hc(n.userAgent,/Firefox\/(\d+)\./,1));else if(n.webkitGetUserMedia||t.isSecureContext===!1&&t.webkitRTCPeerConnection)e.browser="chrome",e.version=parseInt(Hc(n.userAgent,/Chrom(e|ium)\/(\d+)\./,2));else if(t.RTCPeerConnection&&n.userAgent.match(/AppleWebKit\/(\d+)\./))e.browser="safari",e.version=parseInt(Hc(n.userAgent,/AppleWebKit\/(\d+)\./,1)),e.supportsUnifiedPlan=t.RTCRtpTransceiver&&"currentDirection"in t.RTCRtpTransceiver.prototype,e._safariVersion=Hc(n.userAgent,/Version\/(\d+(\.?\d+))/,1);else return e.browser="Not a supported browser.",e;return e}function oT(t){return Object.prototype.toString.call(t)==="[object Object]"}function M2(t){return oT(t)?Object.keys(t).reduce(function(e,n){const r=oT(t[n]),s=r?M2(t[n]):t[n],i=r&&!Object.keys(s).length;return s===void 0||i?e:Object.assign(e,{[n]:s})},{}):t}function y0(t,e,n){!e||n.has(e.id)||(n.set(e.id,e),Object.keys(e).forEach(r=>{r.endsWith("Id")?y0(t,t.get(e[r]),n):r.endsWith("Ids")&&e[r].forEach(s=>{y0(t,t.get(s),n)})}))}function aT(t,e,n){const r=n?"outbound-rtp":"inbound-rtp",s=new Map;if(e===null)return s;const i=[];return t.forEach(o=>{o.type==="track"&&o.trackIdentifier===e.id&&i.push(o)}),i.forEach(o=>{t.forEach(a=>{a.type===r&&a.trackId===o.id&&y0(t,a,s)})}),s}const lT=k2;function D2(t,e){const n=t&&t.navigator;if(!n.mediaDevices)return;const r=function(a){if(typeof a!="object"||a.mandatory||a.optional)return a;const l={};return Object.keys(a).forEach(c=>{if(c==="require"||c==="advanced"||c==="mediaSource")return;const d=typeof a[c]=="object"?a[c]:{ideal:a[c]};d.exact!==void 0&&typeof d.exact=="number"&&(d.min=d.max=d.exact);const f=function(h,v){return h?h+v.charAt(0).toUpperCase()+v.slice(1):v==="deviceId"?"sourceId":v};if(d.ideal!==void 0){l.optional=l.optional||[];let h={};typeof d.ideal=="number"?(h[f("min",c)]=d.ideal,l.optional.push(h),h={},h[f("max",c)]=d.ideal,l.optional.push(h)):(h[f("",c)]=d.ideal,l.optional.push(h))}d.exact!==void 0&&typeof d.exact!="number"?(l.mandatory=l.mandatory||{},l.mandatory[f("",c)]=d.exact):["min","max"].forEach(h=>{d[h]!==void 0&&(l.mandatory=l.mandatory||{},l.mandatory[f(h,c)]=d[h])})}),a.advanced&&(l.optional=(l.optional||[]).concat(a.advanced)),l},s=function(a,l){if(e.version>=61)return l(a);if(a=JSON.parse(JSON.stringify(a)),a&&typeof a.audio=="object"){const c=function(d,f,h){f in d&&!(h in d)&&(d[h]=d[f],delete d[f])};a=JSON.parse(JSON.stringify(a)),c(a.audio,"autoGainControl","googAutoGainControl"),c(a.audio,"noiseSuppression","googNoiseSuppression"),a.audio=r(a.audio)}if(a&&typeof a.video=="object"){let c=a.video.facingMode;c=c&&(typeof c=="object"?c:{ideal:c});const d=e.version<66;if(c&&(c.exact==="user"||c.exact==="environment"||c.ideal==="user"||c.ideal==="environment")&&!(n.mediaDevices.getSupportedConstraints&&n.mediaDevices.getSupportedConstraints().facingMode&&!d)){delete a.video.facingMode;let f;if(c.exact==="environment"||c.ideal==="environment"?f=["back","rear"]:(c.exact==="user"||c.ideal==="user")&&(f=["front"]),f)return n.mediaDevices.enumerateDevices().then(h=>{h=h.filter(E=>E.kind==="videoinput");let v=h.find(E=>f.some(y=>E.label.toLowerCase().includes(y)));return!v&&h.length&&f.includes("back")&&(v=h[h.length-1]),v&&(a.video.deviceId=c.exact?{exact:v.deviceId}:{ideal:v.deviceId}),a.video=r(a.video),lT("chrome: "+JSON.stringify(a)),l(a)})}a.video=r(a.video)}return lT("chrome: "+JSON.stringify(a)),l(a)},i=function(a){return e.version>=64?a:{name:{PermissionDeniedError:"NotAllowedError",PermissionDismissedError:"NotAllowedError",InvalidStateError:"NotAllowedError",DevicesNotFoundError:"NotFoundError",ConstraintNotSatisfiedError:"OverconstrainedError",TrackStartError:"NotReadableError",MediaDeviceFailedDueToShutdown:"NotAllowedError",MediaDeviceKillSwitchOn:"NotAllowedError",TabCaptureError:"AbortError",ScreenCaptureError:"AbortError",DeviceCaptureError:"AbortError"}[a.name]||a.name,message:a.message,constraint:a.constraint||a.constraintName,toString(){return this.name+(this.message&&": ")+this.message}}},o=function(a,l,c){s(a,d=>{n.webkitGetUserMedia(d,l,f=>{c&&c(i(f))})})};if(n.getUserMedia=o.bind(n),n.mediaDevices.getUserMedia){const a=n.mediaDevices.getUserMedia.bind(n.mediaDevices);n.mediaDevices.getUserMedia=function(l){return s(l,c=>a(c).then(d=>{if(c.audio&&!d.getAudioTracks().length||c.video&&!d.getVideoTracks().length)throw d.getTracks().forEach(f=>{f.stop()}),new DOMException("","NotFoundError");return d},d=>Promise.reject(i(d))))}}}function O2(t){t.MediaStream=t.MediaStream||t.webkitMediaStream}function L2(t){if(typeof t=="object"&&t.RTCPeerConnection&&!("ontrack"in t.RTCPeerConnection.prototype)){Object.defineProperty(t.RTCPeerConnection.prototype,"ontrack",{get(){return this._ontrack},set(n){this._ontrack&&this.removeEventListener("track",this._ontrack),this.addEventListener("track",this._ontrack=n)},enumerable:!0,configurable:!0});const e=t.RTCPeerConnection.prototype.setRemoteDescription;t.RTCPeerConnection.prototype.setRemoteDescription=function(){return this._ontrackpoly||(this._ontrackpoly=r=>{r.stream.addEventListener("addtrack",s=>{let i;t.RTCPeerConnection.prototype.getReceivers?i=this.getReceivers().find(a=>a.track&&a.track.id===s.track.id):i={track:s.track};const o=new Event("track");o.track=s.track,o.receiver=i,o.transceiver={receiver:i},o.streams=[r.stream],this.dispatchEvent(o)}),r.stream.getTracks().forEach(s=>{let i;t.RTCPeerConnection.prototype.getReceivers?i=this.getReceivers().find(a=>a.track&&a.track.id===s.id):i={track:s};const o=new Event("track");o.track=s,o.receiver=i,o.transceiver={receiver:i},o.streams=[r.stream],this.dispatchEvent(o)})},this.addEventListener("addstream",this._ontrackpoly)),e.apply(this,arguments)}}else Ca(t,"track",e=>(e.transceiver||Object.defineProperty(e,"transceiver",{value:{receiver:e.receiver}}),e))}function V2(t){if(typeof t=="object"&&t.RTCPeerConnection&&!("getSenders"in t.RTCPeerConnection.prototype)&&"createDTMFSender"in t.RTCPeerConnection.prototype){const e=function(s,i){return{track:i,get dtmf(){return this._dtmf===void 0&&(i.kind==="audio"?this._dtmf=s.createDTMFSender(i):this._dtmf=null),this._dtmf},_pc:s}};if(!t.RTCPeerConnection.prototype.getSenders){t.RTCPeerConnection.prototype.getSenders=function(){return this._senders=this._senders||[],this._senders.slice()};const s=t.RTCPeerConnection.prototype.addTrack;t.RTCPeerConnection.prototype.addTrack=function(a,l){let c=s.apply(this,arguments);return c||(c=e(this,a),this._senders.push(c)),c};const i=t.RTCPeerConnection.prototype.removeTrack;t.RTCPeerConnection.prototype.removeTrack=function(a){i.apply(this,arguments);const l=this._senders.indexOf(a);l!==-1&&this._senders.splice(l,1)}}const n=t.RTCPeerConnection.prototype.addStream;t.RTCPeerConnection.prototype.addStream=function(i){this._senders=this._senders||[],n.apply(this,[i]),i.getTracks().forEach(o=>{this._senders.push(e(this,o))})};const r=t.RTCPeerConnection.prototype.removeStream;t.RTCPeerConnection.prototype.removeStream=function(i){this._senders=this._senders||[],r.apply(this,[i]),i.getTracks().forEach(o=>{const a=this._senders.find(l=>l.track===o);a&&this._senders.splice(this._senders.indexOf(a),1)})}}else if(typeof t=="object"&&t.RTCPeerConnection&&"getSenders"in t.RTCPeerConnection.prototype&&"createDTMFSender"in t.RTCPeerConnection.prototype&&t.RTCRtpSender&&!("dtmf"in t.RTCRtpSender.prototype)){const e=t.RTCPeerConnection.prototype.getSenders;t.RTCPeerConnection.prototype.getSenders=function(){const r=e.apply(this,[]);return r.forEach(s=>s._pc=this),r},Object.defineProperty(t.RTCRtpSender.prototype,"dtmf",{get(){return this._dtmf===void 0&&(this.track.kind==="audio"?this._dtmf=this._pc.createDTMFSender(this.track):this._dtmf=null),this._dtmf}})}}function F2(t){if(!(typeof t=="object"&&t.RTCPeerConnection&&t.RTCRtpSender&&t.RTCRtpReceiver))return;if(!("getStats"in t.RTCRtpSender.prototype)){const n=t.RTCPeerConnection.prototype.getSenders;n&&(t.RTCPeerConnection.prototype.getSenders=function(){const i=n.apply(this,[]);return i.forEach(o=>o._pc=this),i});const r=t.RTCPeerConnection.prototype.addTrack;r&&(t.RTCPeerConnection.prototype.addTrack=function(){const i=r.apply(this,arguments);return i._pc=this,i}),t.RTCRtpSender.prototype.getStats=function(){const i=this;return this._pc.getStats().then(o=>aT(o,i.track,!0))}}if(!("getStats"in t.RTCRtpReceiver.prototype)){const n=t.RTCPeerConnection.prototype.getReceivers;n&&(t.RTCPeerConnection.prototype.getReceivers=function(){const s=n.apply(this,[]);return s.forEach(i=>i._pc=this),s}),Ca(t,"track",r=>(r.receiver._pc=r.srcElement,r)),t.RTCRtpReceiver.prototype.getStats=function(){const s=this;return this._pc.getStats().then(i=>aT(i,s.track,!1))}}if(!("getStats"in t.RTCRtpSender.prototype&&"getStats"in t.RTCRtpReceiver.prototype))return;const e=t.RTCPeerConnection.prototype.getStats;t.RTCPeerConnection.prototype.getStats=function(){if(arguments.length>0&&arguments[0]instanceof t.MediaStreamTrack){const r=arguments[0];let s,i,o;return this.getSenders().forEach(a=>{a.track===r&&(s?o=!0:s=a)}),this.getReceivers().forEach(a=>(a.track===r&&(i?o=!0:i=a),a.track===r)),o||s&&i?Promise.reject(new DOMException("There are more than one sender or receiver for the track.","InvalidAccessError")):s?s.getStats():i?i.getStats():Promise.reject(new DOMException("There is no sender or receiver for the track.","InvalidAccessError"))}return e.apply(this,arguments)}}function j2(t){t.RTCPeerConnection.prototype.getLocalStreams=function(){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},Object.keys(this._shimmedLocalStreams).map(o=>this._shimmedLocalStreams[o][0])};const e=t.RTCPeerConnection.prototype.addTrack;t.RTCPeerConnection.prototype.addTrack=function(o,a){if(!a)return e.apply(this,arguments);this._shimmedLocalStreams=this._shimmedLocalStreams||{};const l=e.apply(this,arguments);return this._shimmedLocalStreams[a.id]?this._shimmedLocalStreams[a.id].indexOf(l)===-1&&this._shimmedLocalStreams[a.id].push(l):this._shimmedLocalStreams[a.id]=[a,l],l};const n=t.RTCPeerConnection.prototype.addStream;t.RTCPeerConnection.prototype.addStream=function(o){this._shimmedLocalStreams=this._shimmedLocalStreams||{},o.getTracks().forEach(c=>{if(this.getSenders().find(f=>f.track===c))throw new DOMException("Track already exists.","InvalidAccessError")});const a=this.getSenders();n.apply(this,arguments);const l=this.getSenders().filter(c=>a.indexOf(c)===-1);this._shimmedLocalStreams[o.id]=[o].concat(l)};const r=t.RTCPeerConnection.prototype.removeStream;t.RTCPeerConnection.prototype.removeStream=function(o){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},delete this._shimmedLocalStreams[o.id],r.apply(this,arguments)};const s=t.RTCPeerConnection.prototype.removeTrack;t.RTCPeerConnection.prototype.removeTrack=function(o){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},o&&Object.keys(this._shimmedLocalStreams).forEach(a=>{const l=this._shimmedLocalStreams[a].indexOf(o);l!==-1&&this._shimmedLocalStreams[a].splice(l,1),this._shimmedLocalStreams[a].length===1&&delete this._shimmedLocalStreams[a]}),s.apply(this,arguments)}}function B2(t,e){if(!t.RTCPeerConnection)return;if(t.RTCPeerConnection.prototype.addTrack&&e.version>=65)return j2(t);const n=t.RTCPeerConnection.prototype.getLocalStreams;t.RTCPeerConnection.prototype.getLocalStreams=function(){const d=n.apply(this);return this._reverseStreams=this._reverseStreams||{},d.map(f=>this._reverseStreams[f.id])};const r=t.RTCPeerConnection.prototype.addStream;t.RTCPeerConnection.prototype.addStream=function(d){if(this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},d.getTracks().forEach(f=>{if(this.getSenders().find(v=>v.track===f))throw new DOMException("Track already exists.","InvalidAccessError")}),!this._reverseStreams[d.id]){const f=new t.MediaStream(d.getTracks());this._streams[d.id]=f,this._reverseStreams[f.id]=d,d=f}r.apply(this,[d])};const s=t.RTCPeerConnection.prototype.removeStream;t.RTCPeerConnection.prototype.removeStream=function(d){this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},s.apply(this,[this._streams[d.id]||d]),delete this._reverseStreams[this._streams[d.id]?this._streams[d.id].id:d.id],delete this._streams[d.id]},t.RTCPeerConnection.prototype.addTrack=function(d,f){if(this.signalingState==="closed")throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");const h=[].slice.call(arguments,1);if(h.length!==1||!h[0].getTracks().find(y=>y===d))throw new DOMException("The adapter.js addTrack polyfill only supports a single  stream which is associated with the specified track.","NotSupportedError");if(this.getSenders().find(y=>y.track===d))throw new DOMException("Track already exists.","InvalidAccessError");this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{};const E=this._streams[f.id];if(E)E.addTrack(d),Promise.resolve().then(()=>{this.dispatchEvent(new Event("negotiationneeded"))});else{const y=new t.MediaStream([d]);this._streams[f.id]=y,this._reverseStreams[y.id]=f,this.addStream(y)}return this.getSenders().find(y=>y.track===d)};function i(c,d){let f=d.sdp;return Object.keys(c._reverseStreams||[]).forEach(h=>{const v=c._reverseStreams[h],E=c._streams[v.id];f=f.replace(new RegExp(E.id,"g"),v.id)}),new RTCSessionDescription({type:d.type,sdp:f})}function o(c,d){let f=d.sdp;return Object.keys(c._reverseStreams||[]).forEach(h=>{const v=c._reverseStreams[h],E=c._streams[v.id];f=f.replace(new RegExp(v.id,"g"),E.id)}),new RTCSessionDescription({type:d.type,sdp:f})}["createOffer","createAnswer"].forEach(function(c){const d=t.RTCPeerConnection.prototype[c],f={[c](){const h=arguments;return arguments.length&&typeof arguments[0]=="function"?d.apply(this,[E=>{const y=i(this,E);h[0].apply(null,[y])},E=>{h[1]&&h[1].apply(null,E)},arguments[2]]):d.apply(this,arguments).then(E=>i(this,E))}};t.RTCPeerConnection.prototype[c]=f[c]});const a=t.RTCPeerConnection.prototype.setLocalDescription;t.RTCPeerConnection.prototype.setLocalDescription=function(){return!arguments.length||!arguments[0].type?a.apply(this,arguments):(arguments[0]=o(this,arguments[0]),a.apply(this,arguments))};const l=Object.getOwnPropertyDescriptor(t.RTCPeerConnection.prototype,"localDescription");Object.defineProperty(t.RTCPeerConnection.prototype,"localDescription",{get(){const c=l.get.apply(this);return c.type===""?c:i(this,c)}}),t.RTCPeerConnection.prototype.removeTrack=function(d){if(this.signalingState==="closed")throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");if(!d._pc)throw new DOMException("Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.","TypeError");if(!(d._pc===this))throw new DOMException("Sender was not created by this connection.","InvalidAccessError");this._streams=this._streams||{};let h;Object.keys(this._streams).forEach(v=>{this._streams[v].getTracks().find(y=>d.track===y)&&(h=this._streams[v])}),h&&(h.getTracks().length===1?this.removeStream(this._reverseStreams[h.id]):h.removeTrack(d.track),this.dispatchEvent(new Event("negotiationneeded")))}}function v0(t,e){!t.RTCPeerConnection&&t.webkitRTCPeerConnection&&(t.RTCPeerConnection=t.webkitRTCPeerConnection),t.RTCPeerConnection&&e.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(n){const r=t.RTCPeerConnection.prototype[n],s={[n](){return arguments[0]=new(n==="addIceCandidate"?t.RTCIceCandidate:t.RTCSessionDescription)(arguments[0]),r.apply(this,arguments)}};t.RTCPeerConnection.prototype[n]=s[n]})}function U2(t,e){Ca(t,"negotiationneeded",n=>{const r=n.target;if(!((e.version<72||r.getConfiguration&&r.getConfiguration().sdpSemantics==="plan-b")&&r.signalingState!=="stable"))return n})}const cT=Object.freeze(Object.defineProperty({__proto__:null,fixNegotiationNeeded:U2,shimAddTrackRemoveTrack:B2,shimAddTrackRemoveTrackWithNative:j2,shimGetSendersWithDtmf:V2,shimGetUserMedia:D2,shimMediaStream:O2,shimOnTrack:L2,shimPeerConnection:v0,shimSenderReceiverGetStats:F2},Symbol.toStringTag,{value:"Module"}));function q2(t,e){const n=t&&t.navigator,r=t&&t.MediaStreamTrack;if(n.getUserMedia=function(s,i,o){p1("navigator.getUserMedia","navigator.mediaDevices.getUserMedia"),n.mediaDevices.getUserMedia(s).then(i,o)},!(e.version>55&&"autoGainControl"in n.mediaDevices.getSupportedConstraints())){const s=function(o,a,l){a in o&&!(l in o)&&(o[l]=o[a],delete o[a])},i=n.mediaDevices.getUserMedia.bind(n.mediaDevices);if(n.mediaDevices.getUserMedia=function(o){return typeof o=="object"&&typeof o.audio=="object"&&(o=JSON.parse(JSON.stringify(o)),s(o.audio,"autoGainControl","mozAutoGainControl"),s(o.audio,"noiseSuppression","mozNoiseSuppression")),i(o)},r&&r.prototype.getSettings){const o=r.prototype.getSettings;r.prototype.getSettings=function(){const a=o.apply(this,arguments);return s(a,"mozAutoGainControl","autoGainControl"),s(a,"mozNoiseSuppression","noiseSuppression"),a}}if(r&&r.prototype.applyConstraints){const o=r.prototype.applyConstraints;r.prototype.applyConstraints=function(a){return this.kind==="audio"&&typeof a=="object"&&(a=JSON.parse(JSON.stringify(a)),s(a,"autoGainControl","mozAutoGainControl"),s(a,"noiseSuppression","mozNoiseSuppression")),o.apply(this,[a])}}}}function nK(t,e){t.navigator.mediaDevices&&"getDisplayMedia"in t.navigator.mediaDevices||t.navigator.mediaDevices&&(t.navigator.mediaDevices.getDisplayMedia=function(r){if(!(r&&r.video)){const s=new DOMException("getDisplayMedia without video constraints is undefined");return s.name="NotFoundError",s.code=8,Promise.reject(s)}return r.video===!0?r.video={mediaSource:e}:r.video.mediaSource=e,t.navigator.mediaDevices.getUserMedia(r)})}function G2(t){typeof t=="object"&&t.RTCTrackEvent&&"receiver"in t.RTCTrackEvent.prototype&&!("transceiver"in t.RTCTrackEvent.prototype)&&Object.defineProperty(t.RTCTrackEvent.prototype,"transceiver",{get(){return{receiver:this.receiver}}})}function w0(t,e){if(typeof t!="object"||!(t.RTCPeerConnection||t.mozRTCPeerConnection))return;!t.RTCPeerConnection&&t.mozRTCPeerConnection&&(t.RTCPeerConnection=t.mozRTCPeerConnection),e.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(s){const i=t.RTCPeerConnection.prototype[s],o={[s](){return arguments[0]=new(s==="addIceCandidate"?t.RTCIceCandidate:t.RTCSessionDescription)(arguments[0]),i.apply(this,arguments)}};t.RTCPeerConnection.prototype[s]=o[s]});const n={inboundrtp:"inbound-rtp",outboundrtp:"outbound-rtp",candidatepair:"candidate-pair",localcandidate:"local-candidate",remotecandidate:"remote-candidate"},r=t.RTCPeerConnection.prototype.getStats;t.RTCPeerConnection.prototype.getStats=function(){const[i,o,a]=arguments;return r.apply(this,[i||null]).then(l=>{if(e.version<53&&!o)try{l.forEach(c=>{c.type=n[c.type]||c.type})}catch(c){if(c.name!=="TypeError")throw c;l.forEach((d,f)=>{l.set(f,Object.assign({},d,{type:n[d.type]||d.type}))})}return l}).then(o,a)}}function $2(t){if(!(typeof t=="object"&&t.RTCPeerConnection&&t.RTCRtpSender)||t.RTCRtpSender&&"getStats"in t.RTCRtpSender.prototype)return;const e=t.RTCPeerConnection.prototype.getSenders;e&&(t.RTCPeerConnection.prototype.getSenders=function(){const s=e.apply(this,[]);return s.forEach(i=>i._pc=this),s});const n=t.RTCPeerConnection.prototype.addTrack;n&&(t.RTCPeerConnection.prototype.addTrack=function(){const s=n.apply(this,arguments);return s._pc=this,s}),t.RTCRtpSender.prototype.getStats=function(){return this.track?this._pc.getStats(this.track):Promise.resolve(new Map)}}function z2(t){if(!(typeof t=="object"&&t.RTCPeerConnection&&t.RTCRtpSender)||t.RTCRtpSender&&"getStats"in t.RTCRtpReceiver.prototype)return;const e=t.RTCPeerConnection.prototype.getReceivers;e&&(t.RTCPeerConnection.prototype.getReceivers=function(){const r=e.apply(this,[]);return r.forEach(s=>s._pc=this),r}),Ca(t,"track",n=>(n.receiver._pc=n.srcElement,n)),t.RTCRtpReceiver.prototype.getStats=function(){return this._pc.getStats(this.track)}}function W2(t){!t.RTCPeerConnection||"removeStream"in t.RTCPeerConnection.prototype||(t.RTCPeerConnection.prototype.removeStream=function(n){p1("removeStream","removeTrack"),this.getSenders().forEach(r=>{r.track&&n.getTracks().includes(r.track)&&this.removeTrack(r)})})}function K2(t){t.DataChannel&&!t.RTCDataChannel&&(t.RTCDataChannel=t.DataChannel)}function Y2(t){if(!(typeof t=="object"&&t.RTCPeerConnection))return;const e=t.RTCPeerConnection.prototype.addTransceiver;e&&(t.RTCPeerConnection.prototype.addTransceiver=function(){this.setParametersPromises=[];let r=arguments[1]&&arguments[1].sendEncodings;r===void 0&&(r=[]),r=[...r];const s=r.length>0;s&&r.forEach(o=>{if("rid"in o&&!/^[a-z0-9]{0,16}$/i.test(o.rid))throw new TypeError("Invalid RID value provided.");if("scaleResolutionDownBy"in o&&!(parseFloat(o.scaleResolutionDownBy)>=1))throw new RangeError("scale_resolution_down_by must be >= 1.0");if("maxFramerate"in o&&!(parseFloat(o.maxFramerate)>=0))throw new RangeError("max_framerate must be >= 0.0")});const i=e.apply(this,arguments);if(s){const{sender:o}=i,a=o.getParameters();(!("encodings"in a)||a.encodings.length===1&&Object.keys(a.encodings[0]).length===0)&&(a.encodings=r,o.sendEncodings=r,this.setParametersPromises.push(o.setParameters(a).then(()=>{delete o.sendEncodings}).catch(()=>{delete o.sendEncodings})))}return i})}function Q2(t){if(!(typeof t=="object"&&t.RTCRtpSender))return;const e=t.RTCRtpSender.prototype.getParameters;e&&(t.RTCRtpSender.prototype.getParameters=function(){const r=e.apply(this,arguments);return"encodings"in r||(r.encodings=[].concat(this.sendEncodings||[{}])),r})}function H2(t){if(!(typeof t=="object"&&t.RTCPeerConnection))return;const e=t.RTCPeerConnection.prototype.createOffer;t.RTCPeerConnection.prototype.createOffer=function(){return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then(()=>e.apply(this,arguments)).finally(()=>{this.setParametersPromises=[]}):e.apply(this,arguments)}}function J2(t){if(!(typeof t=="object"&&t.RTCPeerConnection))return;const e=t.RTCPeerConnection.prototype.createAnswer;t.RTCPeerConnection.prototype.createAnswer=function(){return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then(()=>e.apply(this,arguments)).finally(()=>{this.setParametersPromises=[]}):e.apply(this,arguments)}}const uT=Object.freeze(Object.defineProperty({__proto__:null,shimAddTransceiver:Y2,shimCreateAnswer:J2,shimCreateOffer:H2,shimGetDisplayMedia:nK,shimGetParameters:Q2,shimGetUserMedia:q2,shimOnTrack:G2,shimPeerConnection:w0,shimRTCDataChannel:K2,shimReceiverGetStats:z2,shimRemoveStream:W2,shimSenderGetStats:$2},Symbol.toStringTag,{value:"Module"}));function X2(t){if(!(typeof t!="object"||!t.RTCPeerConnection)){if("getLocalStreams"in t.RTCPeerConnection.prototype||(t.RTCPeerConnection.prototype.getLocalStreams=function(){return this._localStreams||(this._localStreams=[]),this._localStreams}),!("addStream"in t.RTCPeerConnection.prototype)){const e=t.RTCPeerConnection.prototype.addTrack;t.RTCPeerConnection.prototype.addStream=function(r){this._localStreams||(this._localStreams=[]),this._localStreams.includes(r)||this._localStreams.push(r),r.getAudioTracks().forEach(s=>e.call(this,s,r)),r.getVideoTracks().forEach(s=>e.call(this,s,r))},t.RTCPeerConnection.prototype.addTrack=function(r,...s){return s&&s.forEach(i=>{this._localStreams?this._localStreams.includes(i)||this._localStreams.push(i):this._localStreams=[i]}),e.apply(this,arguments)}}"removeStream"in t.RTCPeerConnection.prototype||(t.RTCPeerConnection.prototype.removeStream=function(n){this._localStreams||(this._localStreams=[]);const r=this._localStreams.indexOf(n);if(r===-1)return;this._localStreams.splice(r,1);const s=n.getTracks();this.getSenders().forEach(i=>{s.includes(i.track)&&this.removeTrack(i)})})}}function Z2(t){if(!(typeof t!="object"||!t.RTCPeerConnection)&&("getRemoteStreams"in t.RTCPeerConnection.prototype||(t.RTCPeerConnection.prototype.getRemoteStreams=function(){return this._remoteStreams?this._remoteStreams:[]}),!("onaddstream"in t.RTCPeerConnection.prototype))){Object.defineProperty(t.RTCPeerConnection.prototype,"onaddstream",{get(){return this._onaddstream},set(n){this._onaddstream&&(this.removeEventListener("addstream",this._onaddstream),this.removeEventListener("track",this._onaddstreampoly)),this.addEventListener("addstream",this._onaddstream=n),this.addEventListener("track",this._onaddstreampoly=r=>{r.streams.forEach(s=>{if(this._remoteStreams||(this._remoteStreams=[]),this._remoteStreams.includes(s))return;this._remoteStreams.push(s);const i=new Event("addstream");i.stream=s,this.dispatchEvent(i)})})}});const e=t.RTCPeerConnection.prototype.setRemoteDescription;t.RTCPeerConnection.prototype.setRemoteDescription=function(){const r=this;return this._onaddstreampoly||this.addEventListener("track",this._onaddstreampoly=function(s){s.streams.forEach(i=>{if(r._remoteStreams||(r._remoteStreams=[]),r._remoteStreams.indexOf(i)>=0)return;r._remoteStreams.push(i);const o=new Event("addstream");o.stream=i,r.dispatchEvent(o)})}),e.apply(r,arguments)}}}function eM(t){if(typeof t!="object"||!t.RTCPeerConnection)return;const e=t.RTCPeerConnection.prototype,n=e.createOffer,r=e.createAnswer,s=e.setLocalDescription,i=e.setRemoteDescription,o=e.addIceCandidate;e.createOffer=function(c,d){const f=arguments.length>=2?arguments[2]:arguments[0],h=n.apply(this,[f]);return d?(h.then(c,d),Promise.resolve()):h},e.createAnswer=function(c,d){const f=arguments.length>=2?arguments[2]:arguments[0],h=r.apply(this,[f]);return d?(h.then(c,d),Promise.resolve()):h};let a=function(l,c,d){const f=s.apply(this,[l]);return d?(f.then(c,d),Promise.resolve()):f};e.setLocalDescription=a,a=function(l,c,d){const f=i.apply(this,[l]);return d?(f.then(c,d),Promise.resolve()):f},e.setRemoteDescription=a,a=function(l,c,d){const f=o.apply(this,[l]);return d?(f.then(c,d),Promise.resolve()):f},e.addIceCandidate=a}function tM(t){const e=t&&t.navigator;if(e.mediaDevices&&e.mediaDevices.getUserMedia){const n=e.mediaDevices,r=n.getUserMedia.bind(n);e.mediaDevices.getUserMedia=s=>r(nM(s))}!e.getUserMedia&&e.mediaDevices&&e.mediaDevices.getUserMedia&&(e.getUserMedia=(function(r,s,i){e.mediaDevices.getUserMedia(r).then(s,i)}).bind(e))}function nM(t){return t&&t.video!==void 0?Object.assign({},t,{video:M2(t.video)}):t}function rM(t){if(!t.RTCPeerConnection)return;const e=t.RTCPeerConnection;t.RTCPeerConnection=function(r,s){if(r&&r.iceServers){const i=[];for(let o=0;o<r.iceServers.length;o++){let a=r.iceServers[o];a.urls===void 0&&a.url?(p1("RTCIceServer.url","RTCIceServer.urls"),a=JSON.parse(JSON.stringify(a)),a.urls=a.url,delete a.url,i.push(a)):i.push(r.iceServers[o])}r.iceServers=i}return new e(r,s)},t.RTCPeerConnection.prototype=e.prototype,"generateCertificate"in e&&Object.defineProperty(t.RTCPeerConnection,"generateCertificate",{get(){return e.generateCertificate}})}function sM(t){typeof t=="object"&&t.RTCTrackEvent&&"receiver"in t.RTCTrackEvent.prototype&&!("transceiver"in t.RTCTrackEvent.prototype)&&Object.defineProperty(t.RTCTrackEvent.prototype,"transceiver",{get(){return{receiver:this.receiver}}})}function iM(t){const e=t.RTCPeerConnection.prototype.createOffer;t.RTCPeerConnection.prototype.createOffer=function(r){if(r){typeof r.offerToReceiveAudio<"u"&&(r.offerToReceiveAudio=!!r.offerToReceiveAudio);const s=this.getTransceivers().find(o=>o.receiver.track.kind==="audio");r.offerToReceiveAudio===!1&&s?s.direction==="sendrecv"?s.setDirection?s.setDirection("sendonly"):s.direction="sendonly":s.direction==="recvonly"&&(s.setDirection?s.setDirection("inactive"):s.direction="inactive"):r.offerToReceiveAudio===!0&&!s&&this.addTransceiver("audio",{direction:"recvonly"}),typeof r.offerToReceiveVideo<"u"&&(r.offerToReceiveVideo=!!r.offerToReceiveVideo);const i=this.getTransceivers().find(o=>o.receiver.track.kind==="video");r.offerToReceiveVideo===!1&&i?i.direction==="sendrecv"?i.setDirection?i.setDirection("sendonly"):i.direction="sendonly":i.direction==="recvonly"&&(i.setDirection?i.setDirection("inactive"):i.direction="inactive"):r.offerToReceiveVideo===!0&&!i&&this.addTransceiver("video",{direction:"recvonly"})}return e.apply(this,arguments)}}function oM(t){typeof t!="object"||t.AudioContext||(t.AudioContext=t.webkitAudioContext)}const dT=Object.freeze(Object.defineProperty({__proto__:null,shimAudioContext:oM,shimCallbacksAPI:eM,shimConstraints:nM,shimCreateOfferLegacy:iM,shimGetUserMedia:tM,shimLocalStreamsAPI:X2,shimRTCIceServerUrls:rM,shimRemoteStreamsAPI:Z2,shimTrackEventTransceiver:sM},Symbol.toStringTag,{value:"Module"}));var aM={exports:{}};(function(t){const e={};e.generateIdentifier=function(){return Math.random().toString(36).substring(2,12)},e.localCName=e.generateIdentifier(),e.splitLines=function(n){return n.trim().split(`
`).map(r=>r.trim())},e.splitSections=function(n){return n.split(`
m=`).map((s,i)=>(i>0?"m="+s:s).trim()+`\r
`)},e.getDescription=function(n){const r=e.splitSections(n);return r&&r[0]},e.getMediaSections=function(n){const r=e.splitSections(n);return r.shift(),r},e.matchPrefix=function(n,r){return e.splitLines(n).filter(s=>s.indexOf(r)===0)},e.parseCandidate=function(n){let r;n.indexOf("a=candidate:")===0?r=n.substring(12).split(" "):r=n.substring(10).split(" ");const s={foundation:r[0],component:{1:"rtp",2:"rtcp"}[r[1]]||r[1],protocol:r[2].toLowerCase(),priority:parseInt(r[3],10),ip:r[4],address:r[4],port:parseInt(r[5],10),type:r[7]};for(let i=8;i<r.length;i+=2)switch(r[i]){case"raddr":s.relatedAddress=r[i+1];break;case"rport":s.relatedPort=parseInt(r[i+1],10);break;case"tcptype":s.tcpType=r[i+1];break;case"ufrag":s.ufrag=r[i+1],s.usernameFragment=r[i+1];break;default:s[r[i]]===void 0&&(s[r[i]]=r[i+1]);break}return s},e.writeCandidate=function(n){const r=[];r.push(n.foundation);const s=n.component;s==="rtp"?r.push(1):s==="rtcp"?r.push(2):r.push(s),r.push(n.protocol.toUpperCase()),r.push(n.priority),r.push(n.address||n.ip),r.push(n.port);const i=n.type;return r.push("typ"),r.push(i),i!=="host"&&n.relatedAddress&&n.relatedPort&&(r.push("raddr"),r.push(n.relatedAddress),r.push("rport"),r.push(n.relatedPort)),n.tcpType&&n.protocol.toLowerCase()==="tcp"&&(r.push("tcptype"),r.push(n.tcpType)),(n.usernameFragment||n.ufrag)&&(r.push("ufrag"),r.push(n.usernameFragment||n.ufrag)),"candidate:"+r.join(" ")},e.parseIceOptions=function(n){return n.substring(14).split(" ")},e.parseRtpMap=function(n){let r=n.substring(9).split(" ");const s={payloadType:parseInt(r.shift(),10)};return r=r[0].split("/"),s.name=r[0],s.clockRate=parseInt(r[1],10),s.channels=r.length===3?parseInt(r[2],10):1,s.numChannels=s.channels,s},e.writeRtpMap=function(n){let r=n.payloadType;n.preferredPayloadType!==void 0&&(r=n.preferredPayloadType);const s=n.channels||n.numChannels||1;return"a=rtpmap:"+r+" "+n.name+"/"+n.clockRate+(s!==1?"/"+s:"")+`\r
`},e.parseExtmap=function(n){const r=n.substring(9).split(" ");return{id:parseInt(r[0],10),direction:r[0].indexOf("/")>0?r[0].split("/")[1]:"sendrecv",uri:r[1],attributes:r.slice(2).join(" ")}},e.writeExtmap=function(n){return"a=extmap:"+(n.id||n.preferredId)+(n.direction&&n.direction!=="sendrecv"?"/"+n.direction:"")+" "+n.uri+(n.attributes?" "+n.attributes:"")+`\r
`},e.parseFmtp=function(n){const r={};let s;const i=n.substring(n.indexOf(" ")+1).split(";");for(let o=0;o<i.length;o++)s=i[o].trim().split("="),r[s[0].trim()]=s[1];return r},e.writeFmtp=function(n){let r="",s=n.payloadType;if(n.preferredPayloadType!==void 0&&(s=n.preferredPayloadType),n.parameters&&Object.keys(n.parameters).length){const i=[];Object.keys(n.parameters).forEach(o=>{n.parameters[o]!==void 0?i.push(o+"="+n.parameters[o]):i.push(o)}),r+="a=fmtp:"+s+" "+i.join(";")+`\r
`}return r},e.parseRtcpFb=function(n){const r=n.substring(n.indexOf(" ")+1).split(" ");return{type:r.shift(),parameter:r.join(" ")}},e.writeRtcpFb=function(n){let r="",s=n.payloadType;return n.preferredPayloadType!==void 0&&(s=n.preferredPayloadType),n.rtcpFeedback&&n.rtcpFeedback.length&&n.rtcpFeedback.forEach(i=>{r+="a=rtcp-fb:"+s+" "+i.type+(i.parameter&&i.parameter.length?" "+i.parameter:"")+`\r
`}),r},e.parseSsrcMedia=function(n){const r=n.indexOf(" "),s={ssrc:parseInt(n.substring(7,r),10)},i=n.indexOf(":",r);return i>-1?(s.attribute=n.substring(r+1,i),s.value=n.substring(i+1)):s.attribute=n.substring(r+1),s},e.parseSsrcGroup=function(n){const r=n.substring(13).split(" ");return{semantics:r.shift(),ssrcs:r.map(s=>parseInt(s,10))}},e.getMid=function(n){const r=e.matchPrefix(n,"a=mid:")[0];if(r)return r.substring(6)},e.parseFingerprint=function(n){const r=n.substring(14).split(" ");return{algorithm:r[0].toLowerCase(),value:r[1].toUpperCase()}},e.getDtlsParameters=function(n,r){return{role:"auto",fingerprints:e.matchPrefix(n+r,"a=fingerprint:").map(e.parseFingerprint)}},e.writeDtlsParameters=function(n,r){let s="a=setup:"+r+`\r
`;return n.fingerprints.forEach(i=>{s+="a=fingerprint:"+i.algorithm+" "+i.value+`\r
`}),s},e.parseCryptoLine=function(n){const r=n.substring(9).split(" ");return{tag:parseInt(r[0],10),cryptoSuite:r[1],keyParams:r[2],sessionParams:r.slice(3)}},e.writeCryptoLine=function(n){return"a=crypto:"+n.tag+" "+n.cryptoSuite+" "+(typeof n.keyParams=="object"?e.writeCryptoKeyParams(n.keyParams):n.keyParams)+(n.sessionParams?" "+n.sessionParams.join(" "):"")+`\r
`},e.parseCryptoKeyParams=function(n){if(n.indexOf("inline:")!==0)return null;const r=n.substring(7).split("|");return{keyMethod:"inline",keySalt:r[0],lifeTime:r[1],mkiValue:r[2]?r[2].split(":")[0]:void 0,mkiLength:r[2]?r[2].split(":")[1]:void 0}},e.writeCryptoKeyParams=function(n){return n.keyMethod+":"+n.keySalt+(n.lifeTime?"|"+n.lifeTime:"")+(n.mkiValue&&n.mkiLength?"|"+n.mkiValue+":"+n.mkiLength:"")},e.getCryptoParameters=function(n,r){return e.matchPrefix(n+r,"a=crypto:").map(e.parseCryptoLine)},e.getIceParameters=function(n,r){const s=e.matchPrefix(n+r,"a=ice-ufrag:")[0],i=e.matchPrefix(n+r,"a=ice-pwd:")[0];return s&&i?{usernameFragment:s.substring(12),password:i.substring(10)}:null},e.writeIceParameters=function(n){let r="a=ice-ufrag:"+n.usernameFragment+`\r
a=ice-pwd:`+n.password+`\r
`;return n.iceLite&&(r+=`a=ice-lite\r
`),r},e.parseRtpParameters=function(n){const r={codecs:[],headerExtensions:[],fecMechanisms:[],rtcp:[]},i=e.splitLines(n)[0].split(" ");r.profile=i[2];for(let a=3;a<i.length;a++){const l=i[a],c=e.matchPrefix(n,"a=rtpmap:"+l+" ")[0];if(c){const d=e.parseRtpMap(c),f=e.matchPrefix(n,"a=fmtp:"+l+" ");switch(d.parameters=f.length?e.parseFmtp(f[0]):{},d.rtcpFeedback=e.matchPrefix(n,"a=rtcp-fb:"+l+" ").map(e.parseRtcpFb),r.codecs.push(d),d.name.toUpperCase()){case"RED":case"ULPFEC":r.fecMechanisms.push(d.name.toUpperCase());break}}}e.matchPrefix(n,"a=extmap:").forEach(a=>{r.headerExtensions.push(e.parseExtmap(a))});const o=e.matchPrefix(n,"a=rtcp-fb:* ").map(e.parseRtcpFb);return r.codecs.forEach(a=>{o.forEach(l=>{a.rtcpFeedback.find(d=>d.type===l.type&&d.parameter===l.parameter)||a.rtcpFeedback.push(l)})}),r},e.writeRtpDescription=function(n,r){let s="";s+="m="+n+" ",s+=r.codecs.length>0?"9":"0",s+=" "+(r.profile||"UDP/TLS/RTP/SAVPF")+" ",s+=r.codecs.map(o=>o.preferredPayloadType!==void 0?o.preferredPayloadType:o.payloadType).join(" ")+`\r
`,s+=`c=IN IP4 0.0.0.0\r
`,s+=`a=rtcp:9 IN IP4 0.0.0.0\r
`,r.codecs.forEach(o=>{s+=e.writeRtpMap(o),s+=e.writeFmtp(o),s+=e.writeRtcpFb(o)});let i=0;return r.codecs.forEach(o=>{o.maxptime>i&&(i=o.maxptime)}),i>0&&(s+="a=maxptime:"+i+`\r
`),r.headerExtensions&&r.headerExtensions.forEach(o=>{s+=e.writeExtmap(o)}),s},e.parseRtpEncodingParameters=function(n){const r=[],s=e.parseRtpParameters(n),i=s.fecMechanisms.indexOf("RED")!==-1,o=s.fecMechanisms.indexOf("ULPFEC")!==-1,a=e.matchPrefix(n,"a=ssrc:").map(h=>e.parseSsrcMedia(h)).filter(h=>h.attribute==="cname"),l=a.length>0&&a[0].ssrc;let c;const d=e.matchPrefix(n,"a=ssrc-group:FID").map(h=>h.substring(17).split(" ").map(E=>parseInt(E,10)));d.length>0&&d[0].length>1&&d[0][0]===l&&(c=d[0][1]),s.codecs.forEach(h=>{if(h.name.toUpperCase()==="RTX"&&h.parameters.apt){let v={ssrc:l,codecPayloadType:parseInt(h.parameters.apt,10)};l&&c&&(v.rtx={ssrc:c}),r.push(v),i&&(v=JSON.parse(JSON.stringify(v)),v.fec={ssrc:l,mechanism:o?"red+ulpfec":"red"},r.push(v))}}),r.length===0&&l&&r.push({ssrc:l});let f=e.matchPrefix(n,"b=");return f.length&&(f[0].indexOf("b=TIAS:")===0?f=parseInt(f[0].substring(7),10):f[0].indexOf("b=AS:")===0?f=parseInt(f[0].substring(5),10)*1e3*.95-50*40*8:f=void 0,r.forEach(h=>{h.maxBitrate=f})),r},e.parseRtcpParameters=function(n){const r={},s=e.matchPrefix(n,"a=ssrc:").map(a=>e.parseSsrcMedia(a)).filter(a=>a.attribute==="cname")[0];s&&(r.cname=s.value,r.ssrc=s.ssrc);const i=e.matchPrefix(n,"a=rtcp-rsize");r.reducedSize=i.length>0,r.compound=i.length===0;const o=e.matchPrefix(n,"a=rtcp-mux");return r.mux=o.length>0,r},e.writeRtcpParameters=function(n){let r="";return n.reducedSize&&(r+=`a=rtcp-rsize\r
`),n.mux&&(r+=`a=rtcp-mux\r
`),n.ssrc!==void 0&&n.cname&&(r+="a=ssrc:"+n.ssrc+" cname:"+n.cname+`\r
`),r},e.parseMsid=function(n){let r;const s=e.matchPrefix(n,"a=msid:");if(s.length===1)return r=s[0].substring(7).split(" "),{stream:r[0],track:r[1]};const i=e.matchPrefix(n,"a=ssrc:").map(o=>e.parseSsrcMedia(o)).filter(o=>o.attribute==="msid");if(i.length>0)return r=i[0].value.split(" "),{stream:r[0],track:r[1]}},e.parseSctpDescription=function(n){const r=e.parseMLine(n),s=e.matchPrefix(n,"a=max-message-size:");let i;s.length>0&&(i=parseInt(s[0].substring(19),10)),isNaN(i)&&(i=65536);const o=e.matchPrefix(n,"a=sctp-port:");if(o.length>0)return{port:parseInt(o[0].substring(12),10),protocol:r.fmt,maxMessageSize:i};const a=e.matchPrefix(n,"a=sctpmap:");if(a.length>0){const l=a[0].substring(10).split(" ");return{port:parseInt(l[0],10),protocol:l[1],maxMessageSize:i}}},e.writeSctpDescription=function(n,r){let s=[];return n.protocol!=="DTLS/SCTP"?s=["m="+n.kind+" 9 "+n.protocol+" "+r.protocol+`\r
`,`c=IN IP4 0.0.0.0\r
`,"a=sctp-port:"+r.port+`\r
`]:s=["m="+n.kind+" 9 "+n.protocol+" "+r.port+`\r
`,`c=IN IP4 0.0.0.0\r
`,"a=sctpmap:"+r.port+" "+r.protocol+` 65535\r
`],r.maxMessageSize!==void 0&&s.push("a=max-message-size:"+r.maxMessageSize+`\r
`),s.join("")},e.generateSessionId=function(){return Math.random().toString().substr(2,22)},e.writeSessionBoilerplate=function(n,r,s){let i;const o=r!==void 0?r:2;return n?i=n:i=e.generateSessionId(),`v=0\r
o=`+(s||"thisisadapterortc")+" "+i+" "+o+` IN IP4 127.0.0.1\r
s=-\r
t=0 0\r
`},e.getDirection=function(n,r){const s=e.splitLines(n);for(let i=0;i<s.length;i++)switch(s[i]){case"a=sendrecv":case"a=sendonly":case"a=recvonly":case"a=inactive":return s[i].substring(2)}return r?e.getDirection(r):"sendrecv"},e.getKind=function(n){return e.splitLines(n)[0].split(" ")[0].substring(2)},e.isRejected=function(n){return n.split(" ",2)[1]==="0"},e.parseMLine=function(n){const s=e.splitLines(n)[0].substring(2).split(" ");return{kind:s[0],port:parseInt(s[1],10),protocol:s[2],fmt:s.slice(3).join(" ")}},e.parseOLine=function(n){const s=e.matchPrefix(n,"o=")[0].substring(2).split(" ");return{username:s[0],sessionId:s[1],sessionVersion:parseInt(s[2],10),netType:s[3],addressType:s[4],address:s[5]}},e.isValidSDP=function(n){if(typeof n!="string"||n.length===0)return!1;const r=e.splitLines(n);for(let s=0;s<r.length;s++)if(r[s].length<2||r[s].charAt(1)!=="=")return!1;return!0},t.exports=e})(aM);var lM=aM.exports;const wl=b0(lM),rK=AT({__proto__:null,default:wl},[lM]);function If(t){if(!t.RTCIceCandidate||t.RTCIceCandidate&&"foundation"in t.RTCIceCandidate.prototype)return;const e=t.RTCIceCandidate;t.RTCIceCandidate=function(r){if(typeof r=="object"&&r.candidate&&r.candidate.indexOf("a=")===0&&(r=JSON.parse(JSON.stringify(r)),r.candidate=r.candidate.substring(2)),r.candidate&&r.candidate.length){const s=new e(r),i=wl.parseCandidate(r.candidate);for(const o in i)o in s||Object.defineProperty(s,o,{value:i[o]});return s.toJSON=function(){return{candidate:s.candidate,sdpMid:s.sdpMid,sdpMLineIndex:s.sdpMLineIndex,usernameFragment:s.usernameFragment}},s}return new e(r)},t.RTCIceCandidate.prototype=e.prototype,Ca(t,"icecandidate",n=>(n.candidate&&Object.defineProperty(n,"candidate",{value:new t.RTCIceCandidate(n.candidate),writable:"false"}),n))}function E0(t){!t.RTCIceCandidate||t.RTCIceCandidate&&"relayProtocol"in t.RTCIceCandidate.prototype||Ca(t,"icecandidate",e=>{if(e.candidate){const n=wl.parseCandidate(e.candidate.candidate);n.type==="relay"&&(e.candidate.relayProtocol={0:"tls",1:"tcp",2:"udp"}[n.priority>>24])}return e})}function Sf(t,e){if(!t.RTCPeerConnection)return;"sctp"in t.RTCPeerConnection.prototype||Object.defineProperty(t.RTCPeerConnection.prototype,"sctp",{get(){return typeof this._sctp>"u"?null:this._sctp}});const n=function(a){if(!a||!a.sdp)return!1;const l=wl.splitSections(a.sdp);return l.shift(),l.some(c=>{const d=wl.parseMLine(c);return d&&d.kind==="application"&&d.protocol.indexOf("SCTP")!==-1})},r=function(a){const l=a.sdp.match(/mozilla...THIS_IS_SDPARTA-(\d+)/);if(l===null||l.length<2)return-1;const c=parseInt(l[1],10);return c!==c?-1:c},s=function(a){let l=65536;return e.browser==="firefox"&&(e.version<57?a===-1?l=16384:l=2147483637:e.version<60?l=e.version===57?65535:65536:l=2147483637),l},i=function(a,l){let c=65536;e.browser==="firefox"&&e.version===57&&(c=65535);const d=wl.matchPrefix(a.sdp,"a=max-message-size:");return d.length>0?c=parseInt(d[0].substring(19),10):e.browser==="firefox"&&l!==-1&&(c=2147483637),c},o=t.RTCPeerConnection.prototype.setRemoteDescription;t.RTCPeerConnection.prototype.setRemoteDescription=function(){if(this._sctp=null,e.browser==="chrome"&&e.version>=76){const{sdpSemantics:l}=this.getConfiguration();l==="plan-b"&&Object.defineProperty(this,"sctp",{get(){return typeof this._sctp>"u"?null:this._sctp},enumerable:!0,configurable:!0})}if(n(arguments[0])){const l=r(arguments[0]),c=s(l),d=i(arguments[0],l);let f;c===0&&d===0?f=Number.POSITIVE_INFINITY:c===0||d===0?f=Math.max(c,d):f=Math.min(c,d);const h={};Object.defineProperty(h,"maxMessageSize",{get(){return f}}),this._sctp=h}return o.apply(this,arguments)}}function Rf(t){if(!(t.RTCPeerConnection&&"createDataChannel"in t.RTCPeerConnection.prototype))return;function e(r,s){const i=r.send;r.send=function(){const a=arguments[0],l=a.length||a.size||a.byteLength;if(r.readyState==="open"&&s.sctp&&l>s.sctp.maxMessageSize)throw new TypeError("Message too large (can send a maximum of "+s.sctp.maxMessageSize+" bytes)");return i.apply(r,arguments)}}const n=t.RTCPeerConnection.prototype.createDataChannel;t.RTCPeerConnection.prototype.createDataChannel=function(){const s=n.apply(this,arguments);return e(s,this),s},Ca(t,"datachannel",r=>(e(r.channel,r.target),r))}function C0(t){if(!t.RTCPeerConnection||"connectionState"in t.RTCPeerConnection.prototype)return;const e=t.RTCPeerConnection.prototype;Object.defineProperty(e,"connectionState",{get(){return{completed:"connected",checking:"connecting"}[this.iceConnectionState]||this.iceConnectionState},enumerable:!0,configurable:!0}),Object.defineProperty(e,"onconnectionstatechange",{get(){return this._onconnectionstatechange||null},set(n){this._onconnectionstatechange&&(this.removeEventListener("connectionstatechange",this._onconnectionstatechange),delete this._onconnectionstatechange),n&&this.addEventListener("connectionstatechange",this._onconnectionstatechange=n)},enumerable:!0,configurable:!0}),["setLocalDescription","setRemoteDescription"].forEach(n=>{const r=e[n];e[n]=function(){return this._connectionstatechangepoly||(this._connectionstatechangepoly=s=>{const i=s.target;if(i._lastConnectionState!==i.connectionState){i._lastConnectionState=i.connectionState;const o=new Event("connectionstatechange",s);i.dispatchEvent(o)}return s},this.addEventListener("iceconnectionstatechange",this._connectionstatechangepoly)),r.apply(this,arguments)}})}function x0(t,e){if(!t.RTCPeerConnection||e.browser==="chrome"&&e.version>=71||e.browser==="safari"&&e._safariVersion>=13.1)return;const n=t.RTCPeerConnection.prototype.setRemoteDescription;t.RTCPeerConnection.prototype.setRemoteDescription=function(s){if(s&&s.sdp&&s.sdp.indexOf(`
a=extmap-allow-mixed`)!==-1){const i=s.sdp.split(`
`).filter(o=>o.trim()!=="a=extmap-allow-mixed").join(`
`);t.RTCSessionDescription&&s instanceof t.RTCSessionDescription?arguments[0]=new t.RTCSessionDescription({type:s.type,sdp:i}):s.sdp=i}return n.apply(this,arguments)}}function Pf(t,e){if(!(t.RTCPeerConnection&&t.RTCPeerConnection.prototype))return;const n=t.RTCPeerConnection.prototype.addIceCandidate;!n||n.length===0||(t.RTCPeerConnection.prototype.addIceCandidate=function(){return arguments[0]?(e.browser==="chrome"&&e.version<78||e.browser==="firefox"&&e.version<68||e.browser==="safari")&&arguments[0]&&arguments[0].candidate===""?Promise.resolve():n.apply(this,arguments):(arguments[1]&&arguments[1].apply(null),Promise.resolve())})}function Nf(t,e){if(!(t.RTCPeerConnection&&t.RTCPeerConnection.prototype))return;const n=t.RTCPeerConnection.prototype.setLocalDescription;!n||n.length===0||(t.RTCPeerConnection.prototype.setLocalDescription=function(){let s=arguments[0]||{};if(typeof s!="object"||s.type&&s.sdp)return n.apply(this,arguments);if(s={type:s.type,sdp:s.sdp},!s.type)switch(this.signalingState){case"stable":case"have-local-offer":case"have-remote-pranswer":s.type="offer";break;default:s.type="answer";break}return s.sdp||s.type!=="offer"&&s.type!=="answer"?n.apply(this,[s]):(s.type==="offer"?this.createOffer:this.createAnswer).apply(this).then(o=>n.apply(this,[o]))})}const sK=Object.freeze(Object.defineProperty({__proto__:null,removeExtmapAllowMixed:x0,shimAddIceCandidateNullOrEmpty:Pf,shimConnectionState:C0,shimMaxMessageSize:Sf,shimParameterlessSetLocalDescription:Nf,shimRTCIceCandidate:If,shimRTCIceCandidateRelayProtocol:E0,shimSendThrowTypeError:Rf},Symbol.toStringTag,{value:"Module"}));function iK({window:t}={},e={shimChrome:!0,shimFirefox:!0,shimSafari:!0}){const n=k2,r=tK(t),s={browserDetails:r,commonShim:sK,extractVersion:Hc,disableLog:ZW,disableWarnings:eK,sdp:rK};switch(r.browser){case"chrome":if(!cT||!v0||!e.shimChrome)return n("Chrome shim is not included in this adapter release."),s;if(r.version===null)return n("Chrome shim can not determine version, not shimming."),s;n("adapter.js shimming chrome."),s.browserShim=cT,Pf(t,r),Nf(t),D2(t,r),O2(t),v0(t,r),L2(t),B2(t,r),V2(t),F2(t),U2(t,r),If(t),E0(t),C0(t),Sf(t,r),Rf(t),x0(t,r);break;case"firefox":if(!uT||!w0||!e.shimFirefox)return n("Firefox shim is not included in this adapter release."),s;n("adapter.js shimming firefox."),s.browserShim=uT,Pf(t,r),Nf(t),q2(t,r),w0(t,r),G2(t),W2(t),$2(t),z2(t),K2(t),Y2(t),Q2(t),H2(t),J2(t),If(t),C0(t),Sf(t,r),Rf(t);break;case"safari":if(!dT||!e.shimSafari)return n("Safari shim is not included in this adapter release."),s;n("adapter.js shimming safari."),s.browserShim=dT,Pf(t,r),Nf(t),rM(t),iM(t),eM(t),X2(t),Z2(t),sM(t),tM(t),oM(t),If(t),E0(t),Sf(t,r),Rf(t),x0(t,r);break;default:n("Unsupported browser!");break}return s}iK({window:typeof window>"u"?void 0:window});var cM=t=>{throw TypeError(t)},uM=(t,e,n)=>e.has(t)||cM("Cannot "+n),oK=(t,e,n)=>(uM(t,e,"read from private field"),n?n.call(t):e.get(t)),aK=(t,e,n)=>e.has(t)?cM("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),lK=(t,e,n,r)=>(uM(t,e,"write to private field"),e.set(t,n),n);const Ym=[["Aztec","M"],["Codabar","L"],["Code39","L"],["Code93","L"],["Code128","L"],["DataBar","L"],["DataBarExpanded","L"],["DataMatrix","M"],["EAN-8","L"],["EAN-13","L"],["ITF","L"],["MaxiCode","M"],["PDF417","M"],["QRCode","M"],["UPC-A","L"],["UPC-E","L"],["MicroQRCode","M"],["rMQRCode","M"],["DXFilmEdge","L"],["DataBarLimited","L"]],Qm=Ym.map(([t])=>t),cK=Qm.filter((t,e)=>Ym[e][1]==="L"),uK=Qm.filter((t,e)=>Ym[e][1]==="M");function _0(t){switch(t){case"Linear-Codes":return cK.reduce((e,n)=>e|_0(n),0);case"Matrix-Codes":return uK.reduce((e,n)=>e|_0(n),0);case"Any":return(1<<Ym.length)-1;case"None":return 0;default:return 1<<Qm.indexOf(t)}}function dK(t){if(t===0)return"None";const e=31-Math.clz32(t);return Qm[e]}function hK(t){return t.reduce((e,n)=>e|_0(n),0)}const fK=["LocalAverage","GlobalHistogram","FixedThreshold","BoolCast"];function pK(t){return fK.indexOf(t)}const hT=["Unknown","ASCII","ISO8859_1","ISO8859_2","ISO8859_3","ISO8859_4","ISO8859_5","ISO8859_6","ISO8859_7","ISO8859_8","ISO8859_9","ISO8859_10","ISO8859_11","ISO8859_13","ISO8859_14","ISO8859_15","ISO8859_16","Cp437","Cp1250","Cp1251","Cp1252","Cp1256","Shift_JIS","Big5","GB2312","GB18030","EUC_JP","EUC_KR","UTF16BE","UTF16BE","UTF8","UTF16LE","UTF32BE","UTF32LE","BINARY"];function mK(t){return t==="UnicodeBig"?hT.indexOf("UTF16BE"):hT.indexOf(t)}const gK=["Text","Binary","Mixed","GS1","ISO15434","UnknownECI"];function yK(t){return gK[t]}const vK=["Ignore","Read","Require"];function wK(t){return vK.indexOf(t)}const EK=["Plain","ECI","HRI","Hex","Escaped"];function CK(t){return EK.indexOf(t)}const Op={formats:[],tryHarder:!0,tryRotate:!0,tryInvert:!0,tryDownscale:!0,tryDenoise:!1,binarizer:"LocalAverage",isPure:!1,downscaleFactor:3,downscaleThreshold:500,minLineCount:2,maxNumberOfSymbols:255,tryCode39ExtendedMode:!0,returnErrors:!1,eanAddOnSymbol:"Ignore",textMode:"HRI",characterSet:"Unknown"};function fT(t){return{...t,formats:hK(t.formats),binarizer:pK(t.binarizer),eanAddOnSymbol:wK(t.eanAddOnSymbol),textMode:CK(t.textMode),characterSet:mK(t.characterSet)}}function xK(t){return{...t,format:dK(t.format),contentType:yK(t.contentType),eccLevel:t.ecLevel}}const _K={locateFile:(t,e)=>{const n=t.match(/_(.+?)\.wasm$/);return n?`https://fastly.jsdelivr.net/npm/zxing-wasm@2.1.2/dist/${n[1]}/${t}`:e+t}},yy=new WeakMap;function TK(t,e){return Object.is(t,e)||Object.keys(t).length===Object.keys(e).length&&Object.keys(t).every(n=>Object.prototype.hasOwnProperty.call(e,n)&&t[n]===e[n])}function dM(t,{overrides:e,equalityFn:n=TK,fireImmediately:r=!1}={}){var s;const[i,o]=(s=yy.get(t))!=null?s:[_K],a=e??i;let l;if(r){if(o&&(l=n(i,a)))return o;const c=t({...a});return yy.set(t,[a,c]),c}(l??n(i,a))||yy.set(t,[a])}async function AK(t,e,n=Op){const r={...Op,...n},s=await dM(t,{fireImmediately:!0});let i,o;if("width"in e&&"height"in e&&"data"in e){const{data:l,data:{byteLength:c},width:d,height:f}=e;o=s._malloc(c),s.HEAPU8.set(l,o),i=s.readBarcodesFromPixmap(o,d,f,fT(r))}else{let l,c;if("buffer"in e)[l,c]=[e.byteLength,e];else if("byteLength"in e)[l,c]=[e.byteLength,new Uint8Array(e)];else if("size"in e)[l,c]=[e.size,new Uint8Array(await e.arrayBuffer())];else throw new TypeError("Invalid input type");o=s._malloc(l),s.HEAPU8.set(c,o),i=s.readBarcodesFromImage(o,l,fT(r))}s._free(o);const a=[];for(let l=0;l<i.size();++l)a.push(xK(i.get(l)));return a}({...Op,formats:[...Op.formats]});var hM=async function(t={}){var e,n=t,r,s,i=new Promise((T,x)=>{r=T,s=x}),o=typeof window=="object",a=typeof Bun<"u",l=typeof WorkerGlobalScope<"u";typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string"&&process.type!="renderer";var c="./this.program",d="";function f(T){return n.locateFile?n.locateFile(T,d):d+T}var h,v;(o||l||a)&&(l?d=self.location.href:typeof document<"u"&&document.currentScript&&(d=document.currentScript.src),d.startsWith("blob:")?d="":d=d.slice(0,d.replace(/[?#].*/,"").lastIndexOf("/")+1),l&&(v=T=>{var x=new XMLHttpRequest;return x.open("GET",T,!1),x.responseType="arraybuffer",x.send(null),new Uint8Array(x.response)}),h=async T=>{var x=await fetch(T,{credentials:"same-origin"});if(x.ok)return x.arrayBuffer();throw new Error(x.status+" : "+x.url)});var E=console.log.bind(console),y=console.error.bind(console),b,C,w=!1,_,R,O,j,S,I,k,M;function V(){var T=C.buffer;_=new Int8Array(T),O=new Int16Array(T),n.HEAPU8=R=new Uint8Array(T),j=new Uint16Array(T),S=new Int32Array(T),I=new Uint32Array(T),k=new Float32Array(T),M=new Float64Array(T)}function F(){if(n.preRun)for(typeof n.preRun=="function"&&(n.preRun=[n.preRun]);n.preRun.length;)_e(n.preRun.shift());ge(Ae)}function D(){m.ya()}function re(){if(n.postRun)for(typeof n.postRun=="function"&&(n.postRun=[n.postRun]);n.postRun.length;)Ce(n.postRun.shift());ge(we)}var se=0,ne=null;function pe(T){var x;se++,(x=n.monitorRunDependencies)===null||x===void 0||x.call(n,se)}function q(T){var x;if(se--,(x=n.monitorRunDependencies)===null||x===void 0||x.call(n,se),se==0&&ne){var P=ne;ne=null,P()}}function W(T){var x;(x=n.onAbort)===null||x===void 0||x.call(n,T),T="Aborted("+T+")",y(T),w=!0,T+=". Build with -sASSERTIONS for more info.";var P=new WebAssembly.RuntimeError(T);throw s(P),P}var ie;function ee(){return f("zxing_reader.wasm")}function ae(T){if(T==ie&&b)return new Uint8Array(b);if(v)return v(T);throw"both async and sync fetching of the wasm failed"}async function ce(T){if(!b)try{var x=await h(T);return new Uint8Array(x)}catch{}return ae(T)}async function Re(T,x){try{var P=await ce(T),L=await WebAssembly.instantiate(P,x);return L}catch(B){y(`failed to asynchronously prepare wasm: ${B}`),W(B)}}async function ke(T,x,P){if(!T&&typeof WebAssembly.instantiateStreaming=="function")try{var L=fetch(x,{credentials:"same-origin"}),B=await WebAssembly.instantiateStreaming(L,P);return B}catch(U){y(`wasm streaming compile failed: ${U}`),y("falling back to ArrayBuffer instantiation")}return Re(x,P)}function Ee(){return{a:u}}async function te(){function T(U,z){return m=U.exports,C=m.xa,V(),Ia=m.Ba,q(),m}pe();function x(U){return T(U.instance)}var P=Ee();if(n.instantiateWasm)return new Promise((U,z)=>{n.instantiateWasm(P,($,Z)=>{U(T($))})});ie!=null||(ie=ee());try{var L=await ke(b,ie,P),B=x(L);return B}catch(U){return s(U),Promise.reject(U)}}var ge=T=>{for(;T.length>0;)T.shift()(n)},we=[],Ce=T=>we.push(T),Ae=[],_e=T=>Ae.push(T),de=T=>Vt(T),ve=()=>$e(),ht=[],st=0,Pt=T=>{var x=new an(T);return x.get_caught()||(x.set_caught(!0),st--),x.set_rethrown(!1),ht.push(x),$t(T),K(T)},Je=0,ft=()=>{Q(0,0);var T=ht.pop();Gt(T.excPtr),Je=0};class an{constructor(x){this.excPtr=x,this.ptr=x-24}set_type(x){I[this.ptr+4>>2]=x}get_type(){return I[this.ptr+4>>2]}set_destructor(x){I[this.ptr+8>>2]=x}get_destructor(){return I[this.ptr+8>>2]}set_caught(x){x=x?1:0,_[this.ptr+12]=x}get_caught(){return _[this.ptr+12]!=0}set_rethrown(x){x=x?1:0,_[this.ptr+13]=x}get_rethrown(){return _[this.ptr+13]!=0}init(x,P){this.set_adjusted_ptr(0),this.set_type(x),this.set_destructor(P)}set_adjusted_ptr(x){I[this.ptr+16>>2]=x}get_adjusted_ptr(){return I[this.ptr+16>>2]}}var Er=T=>et(T),fs=T=>{var x=Je;if(!x)return Er(0),0;var P=new an(x);P.set_adjusted_ptr(x);var L=P.get_type();if(!L)return Er(0),x;for(var B of T){if(B===0||B===L)break;var U=P.ptr+16;if(oi(B,L,U))return Er(B),x}return Er(L),x},or=()=>fs([]),ps=T=>fs([T]),Co=(T,x)=>fs([T,x]),_t=()=>{var T=ht.pop();T||W("no exception to throw");var x=T.excPtr;throw T.get_rethrown()||(ht.push(T),T.set_rethrown(!0),T.set_caught(!1),st++),Je=x,Je},pt=(T,x,P)=>{var L=new an(T);throw L.init(x,P),Je=T,st++,Je},ms=()=>st,Cr=T=>{throw Je||(Je=T),Je},xo=()=>W(""),Js={},ar=T=>{for(;T.length;){var x=T.pop(),P=T.pop();P(x)}};function xr(T){return this.fromWireType(I[T>>2])}var _r={},En={},Cn={},pc=n.InternalError=class extends Error{constructor(T){super(T),this.name="InternalError"}},be=T=>{throw new pc(T)},Be=(T,x,P)=>{T.forEach($=>Cn[$]=x);function L($){var Z=P($);Z.length!==T.length&&be("Mismatched type converter count");for(var le=0;le<T.length;++le)cn(T[le],Z[le])}var B=new Array(x.length),U=[],z=0;x.forEach(($,Z)=>{En.hasOwnProperty($)?B[Z]=En[$]:(U.push($),_r.hasOwnProperty($)||(_r[$]=[]),_r[$].push(()=>{B[Z]=En[$],++z,z===U.length&&L(B)}))}),U.length===0&&L(B)},Qe=T=>{var x=Js[T];delete Js[T];var P=x.rawConstructor,L=x.rawDestructor,B=x.fields,U=B.map(z=>z.getterReturnType).concat(B.map(z=>z.setterArgumentType));Be([T],U,z=>{var $={};return B.forEach((Z,le)=>{var ue=Z.fieldName,Te=z[le],We=z[le].optional,He=Z.getter,gt=Z.getterContext,Ft=z[le+B.length],Nt=Z.setter,zt=Z.setterContext;$[ue]={read:Ts=>Te.fromWireType(He(gt,Ts)),write:(Ts,Mn)=>{var cr=[];Nt(zt,Ts,Ft.toWireType(cr,Mn)),ar(cr)},optional:We}}),[{name:x.name,fromWireType:Z=>{var le={};for(var ue in $)le[ue]=$[ue].read(Z);return L(Z),le},toWireType:(Z,le)=>{for(var ue in $)if(!(ue in le)&&!$[ue].optional)throw new TypeError(`Missing field: "${ue}"`);var Te=P();for(ue in $)$[ue].write(Te,le[ue]);return Z!==null&&Z.push(L,Te),Te},argPackAdvance:lr,readValueFromPointer:xr,destructorFunction:L}]})},qt=(T,x,P,L,B)=>{},ln=()=>{for(var T=new Array(256),x=0;x<256;++x)T[x]=String.fromCharCode(x);Tr=T},Tr,lt=T=>{for(var x="",P=T;R[P];)x+=Tr[R[P++]];return x},Xs=n.BindingError=class extends Error{constructor(T){super(T),this.name="BindingError"}},Ge=T=>{throw new Xs(T)};function Nd(T,x){let P=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};var L=x.name;if(T||Ge(`type "${L}" must have a positive integer typeid pointer`),En.hasOwnProperty(T)){if(P.ignoreDuplicateRegistrations)return;Ge(`Cannot register type '${L}' twice`)}if(En[T]=x,delete Cn[T],_r.hasOwnProperty(T)){var B=_r[T];delete _r[T],B.forEach(U=>U())}}function cn(T,x){let P=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Nd(T,x,P)}var lr=8,Jt=(T,x,P,L)=>{x=lt(x),cn(T,{name:x,fromWireType:function(B){return!!B},toWireType:function(B,U){return U?P:L},argPackAdvance:lr,readValueFromPointer:function(B){return this.fromWireType(R[B])},destructorFunction:null})},kd=T=>({count:T.count,deleteScheduled:T.deleteScheduled,preservePointerOnDelete:T.preservePointerOnDelete,ptr:T.ptr,ptrType:T.ptrType,smartPtr:T.smartPtr,smartPtrType:T.smartPtrType}),gs=T=>{function x(P){return P.$$.ptrType.registeredClass.name}Ge(x(T)+" instance already deleted")},ys=!1,Md=T=>{},Hm=T=>{T.smartPtr?T.smartPtrType.rawDestructor(T.smartPtr):T.ptrType.registeredClass.rawDestructor(T.ptr)},vs=T=>{T.count.value-=1;var x=T.count.value===0;x&&Hm(T)},_o=T=>typeof FinalizationRegistry>"u"?(_o=x=>x,T):(ys=new FinalizationRegistry(x=>{vs(x.$$)}),_o=x=>{var P=x.$$,L=!!P.smartPtr;if(L){var B={$$:P};ys.register(x,B,x)}return x},Md=x=>ys.unregister(x),_o(T)),Jm=()=>{let T=ws.prototype;Object.assign(T,{isAliasOf(P){if(!(this instanceof ws)||!(P instanceof ws))return!1;var L=this.$$.ptrType.registeredClass,B=this.$$.ptr;P.$$=P.$$;for(var U=P.$$.ptrType.registeredClass,z=P.$$.ptr;L.baseClass;)B=L.upcast(B),L=L.baseClass;for(;U.baseClass;)z=U.upcast(z),U=U.baseClass;return L===U&&B===z},clone(){if(this.$$.ptr||gs(this),this.$$.preservePointerOnDelete)return this.$$.count.value+=1,this;var P=_o(Object.create(Object.getPrototypeOf(this),{$$:{value:kd(this.$$)}}));return P.$$.count.value+=1,P.$$.deleteScheduled=!1,P},delete(){this.$$.ptr||gs(this),this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete&&Ge("Object already scheduled for deletion"),Md(this),vs(this.$$),this.$$.preservePointerOnDelete||(this.$$.smartPtr=void 0,this.$$.ptr=void 0)},isDeleted(){return!this.$$.ptr},deleteLater(){return this.$$.ptr||gs(this),this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete&&Ge("Object already scheduled for deletion"),this.$$.deleteScheduled=!0,this}});const x=Symbol.dispose;x&&(T[x]=T.delete)};function ws(){}var xa=(T,x)=>Object.defineProperty(x,"name",{value:T}),_a={},To=(T,x,P)=>{if(T[x].overloadTable===void 0){var L=T[x];T[x]=function(){for(var B=arguments.length,U=new Array(B),z=0;z<B;z++)U[z]=arguments[z];return T[x].overloadTable.hasOwnProperty(U.length)||Ge(`Function '${P}' called with an invalid number of arguments (${U.length}) - expects one of (${T[x].overloadTable})!`),T[x].overloadTable[U.length].apply(this,U)},T[x].overloadTable=[],T[x].overloadTable[L.argCount]=L}},Ar=(T,x,P)=>{n.hasOwnProperty(T)?((P===void 0||n[T].overloadTable!==void 0&&n[T].overloadTable[P]!==void 0)&&Ge(`Cannot register public name '${T}' twice`),To(n,T,T),n[T].overloadTable.hasOwnProperty(P)&&Ge(`Cannot register multiple overloads of a function with the same number of arguments (${P})!`),n[T].overloadTable[P]=x):(n[T]=x,n[T].argCount=P)},Dd=48,Od=57,mc=T=>{T=T.replace(/[^a-zA-Z0-9_]/g,"$");var x=T.charCodeAt(0);return x>=Dd&&x<=Od?`_${T}`:T};function gc(T,x,P,L,B,U,z,$){this.name=T,this.constructor=x,this.instancePrototype=P,this.rawDestructor=L,this.baseClass=B,this.getActualType=U,this.upcast=z,this.downcast=$,this.pureVirtualFunctions=[]}var Ta=(T,x,P)=>{for(;x!==P;)x.upcast||Ge(`Expected null or instance of ${P.name}, got an instance of ${x.name}`),T=x.upcast(T),x=x.baseClass;return T};function Ld(T,x){if(x===null)return this.isReference&&Ge(`null is not a valid ${this.name}`),0;x.$$||Ge(`Cannot pass "${embindRepr(x)}" as a ${this.name}`),x.$$.ptr||Ge(`Cannot pass deleted object as a pointer of type ${this.name}`);var P=x.$$.ptrType.registeredClass,L=Ta(x.$$.ptr,P,this.registeredClass);return L}function Xm(T,x){var P;if(x===null)return this.isReference&&Ge(`null is not a valid ${this.name}`),this.isSmartPointer?(P=this.rawConstructor(),T!==null&&T.push(this.rawDestructor,P),P):0;(!x||!x.$$)&&Ge(`Cannot pass "${embindRepr(x)}" as a ${this.name}`),x.$$.ptr||Ge(`Cannot pass deleted object as a pointer of type ${this.name}`),!this.isConst&&x.$$.ptrType.isConst&&Ge(`Cannot convert argument of type ${x.$$.smartPtrType?x.$$.smartPtrType.name:x.$$.ptrType.name} to parameter type ${this.name}`);var L=x.$$.ptrType.registeredClass;if(P=Ta(x.$$.ptr,L,this.registeredClass),this.isSmartPointer)switch(x.$$.smartPtr===void 0&&Ge("Passing raw pointer to smart pointer is illegal"),this.sharingPolicy){case 0:x.$$.smartPtrType===this?P=x.$$.smartPtr:Ge(`Cannot convert argument of type ${x.$$.smartPtrType?x.$$.smartPtrType.name:x.$$.ptrType.name} to parameter type ${this.name}`);break;case 1:P=x.$$.smartPtr;break;case 2:if(x.$$.smartPtrType===this)P=x.$$.smartPtr;else{var B=x.clone();P=this.rawShare(P,br.toHandle(()=>B.delete())),T!==null&&T.push(this.rawDestructor,P)}break;default:Ge("Unsupporting sharing policy")}return P}function Aa(T,x){if(x===null)return this.isReference&&Ge(`null is not a valid ${this.name}`),0;x.$$||Ge(`Cannot pass "${embindRepr(x)}" as a ${this.name}`),x.$$.ptr||Ge(`Cannot pass deleted object as a pointer of type ${this.name}`),x.$$.ptrType.isConst&&Ge(`Cannot convert argument of type ${x.$$.ptrType.name} to parameter type ${this.name}`);var P=x.$$.ptrType.registeredClass,L=Ta(x.$$.ptr,P,this.registeredClass);return L}var yc=(T,x,P)=>{if(x===P)return T;if(P.baseClass===void 0)return null;var L=yc(T,x,P.baseClass);return L===null?null:P.downcast(L)},vc={},Ao=(T,x)=>{for(x===void 0&&Ge("ptr should not be undefined");T.baseClass;)x=T.upcast(x),T=T.baseClass;return x},Es=(T,x)=>(x=Ao(T,x),vc[x]),Zs=(T,x)=>{(!x.ptrType||!x.ptr)&&be("makeClassHandle requires ptr and ptrType");var P=!!x.smartPtrType,L=!!x.smartPtr;return P!==L&&be("Both smartPtrType and smartPtr must be specified"),x.count={value:1},_o(Object.create(T,{$$:{value:x,writable:!0}}))};function Zm(T){var x=this.getPointee(T);if(!x)return this.destructor(T),null;var P=Es(this.registeredClass,x);if(P!==void 0){if(P.$$.count.value===0)return P.$$.ptr=x,P.$$.smartPtr=T,P.clone();var L=P.clone();return this.destructor(T),L}function B(){return this.isSmartPointer?Zs(this.registeredClass.instancePrototype,{ptrType:this.pointeeType,ptr:x,smartPtrType:this,smartPtr:T}):Zs(this.registeredClass.instancePrototype,{ptrType:this,ptr:T})}var U=this.registeredClass.getActualType(x),z=_a[U];if(!z)return B.call(this);var $;this.isConst?$=z.constPointerType:$=z.pointerType;var Z=yc(x,this.registeredClass,$.registeredClass);return Z===null?B.call(this):this.isSmartPointer?Zs($.registeredClass.instancePrototype,{ptrType:$,ptr:Z,smartPtrType:this,smartPtr:T}):Zs($.registeredClass.instancePrototype,{ptrType:$,ptr:Z})}var Vd=()=>{Object.assign(bo.prototype,{getPointee(T){return this.rawGetPointee&&(T=this.rawGetPointee(T)),T},destructor(T){var x;(x=this.rawDestructor)===null||x===void 0||x.call(this,T)},argPackAdvance:lr,readValueFromPointer:xr,fromWireType:Zm})};function bo(T,x,P,L,B,U,z,$,Z,le,ue){this.name=T,this.registeredClass=x,this.isReference=P,this.isConst=L,this.isSmartPointer=B,this.pointeeType=U,this.sharingPolicy=z,this.rawGetPointee=$,this.rawConstructor=Z,this.rawShare=le,this.rawDestructor=ue,!B&&x.baseClass===void 0?L?(this.toWireType=Ld,this.destructorFunction=null):(this.toWireType=Aa,this.destructorFunction=null):this.toWireType=Xm}var wc=(T,x,P)=>{n.hasOwnProperty(T)||be("Replacing nonexistent public symbol"),n[T].overloadTable!==void 0&&P!==void 0?n[T].overloadTable[P]=x:(n[T]=x,n[T].argCount=P)},ba=[],Ia,Fe=T=>{var x=ba[T];return x||(ba[T]=x=Ia.get(T)),x},Fd=function(T,x){let P=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];if(T.includes("j"))return dynCallLegacy(T,x,P);var L=Fe(x),B=L(...P);return B},eg=function(T,x){let P=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;return function(){for(var L=arguments.length,B=new Array(L),U=0;U<L;U++)B[U]=arguments[U];return Fd(T,x,B,P)}},Gn=function(T,x){T=lt(T);function P(){if(T.includes("j"))return eg(T,x);var B=Fe(x);return B}var L=P();return typeof L!="function"&&Ge(`unknown function pointer with signature ${T}: ${x}`),L};class jd extends Error{}var Ec=T=>{var x=A(T),P=lt(x);return N(x),P},Sa=(T,x)=>{var P=[],L={};function B(U){if(!L[U]&&!En[U]){if(Cn[U]){Cn[U].forEach(B);return}P.push(U),L[U]=!0}}throw x.forEach(B),new jd(`${T}: `+P.map(Ec).join([", "]))},Cs=(T,x,P,L,B,U,z,$,Z,le,ue,Te,We)=>{ue=lt(ue),U=Gn(B,U),$&&($=Gn(z,$)),le&&(le=Gn(Z,le)),We=Gn(Te,We);var He=mc(ue);Ar(He,function(){Sa(`Cannot construct ${ue} due to unbound types`,[L])}),Be([T,x,P],L?[L]:[],gt=>{gt=gt[0];var Ft,Nt;L?(Ft=gt.registeredClass,Nt=Ft.instancePrototype):Nt=ws.prototype;var zt=xa(ue,function(){if(Object.getPrototypeOf(this)!==Ts)throw new Xs(`Use 'new' to construct ${ue}`);if(Mn.constructor_body===void 0)throw new Xs(`${ue} has no accessible constructor`);for(var y1=arguments.length,fh=new Array(y1),ph=0;ph<y1;ph++)fh[ph]=arguments[ph];var v1=Mn.constructor_body[fh.length];if(v1===void 0)throw new Xs(`Tried to invoke ctor of ${ue} with invalid number of parameters (${fh.length}) - expected (${Object.keys(Mn.constructor_body).toString()}) parameters instead!`);return v1.apply(this,fh)}),Ts=Object.create(Nt,{constructor:{value:zt}});zt.prototype=Ts;var Mn=new gc(ue,zt,Ts,We,Ft,U,$,le);if(Mn.baseClass){var cr,hh;(hh=(cr=Mn.baseClass).__derivedClasses)!==null&&hh!==void 0||(cr.__derivedClasses=[]),Mn.baseClass.__derivedClasses.push(Mn)}var oD=new bo(ue,Mn,!0,!1,!1),m1=new bo(ue+"*",Mn,!1,!1,!1),g1=new bo(ue+" const*",Mn,!1,!0,!1);return _a[T]={pointerType:m1,constPointerType:g1},wc(He,zt),[oD,m1,g1]})},$n=(T,x)=>{for(var P=[],L=0;L<T;L++)P.push(I[x+L*4>>2]);return P};function Ra(T){for(var x=1;x<T.length;++x)if(T[x]!==null&&T[x].destructorFunction===void 0)return!0;return!1}function ei(T,x,P,L,B,U){var z=x.length;z<2&&Ge("argTypes array size mismatch! Must at least get return value and 'this' types!");var $=x[1]!==null&&P!==null,Z=Ra(x),le=x[0].name!=="void",ue=z-2,Te=new Array(ue),We=[],He=[],gt=function(){He.length=0;var Ft;We.length=$?2:1,We[0]=B,$&&(Ft=x[1].toWireType(He,this),We[1]=Ft);for(var Nt=0;Nt<ue;++Nt)Te[Nt]=x[Nt+2].toWireType(He,Nt<0||arguments.length<=Nt?void 0:arguments[Nt]),We.push(Te[Nt]);var zt=L(...We);function Ts(Mn){if(Z)ar(He);else for(var cr=$?1:2;cr<x.length;cr++){var hh=cr===1?Ft:Te[cr-2];x[cr].destructorFunction!==null&&x[cr].destructorFunction(hh)}if(le)return x[0].fromWireType(Mn)}return Ts(zt)};return xa(T,gt)}var Bd=(T,x,P,L,B,U)=>{var z=$n(x,P);B=Gn(L,B),Be([],[T],$=>{$=$[0];var Z=`constructor ${$.name}`;if($.registeredClass.constructor_body===void 0&&($.registeredClass.constructor_body=[]),$.registeredClass.constructor_body[x-1]!==void 0)throw new Xs(`Cannot register multiple constructors with identical number of parameters (${x-1}) for class '${$.name}'! Overload resolution is currently only performed using the parameter count, not actual type info!`);return $.registeredClass.constructor_body[x-1]=()=>{Sa(`Cannot construct ${$.name} due to unbound types`,z)},Be([],z,le=>(le.splice(1,0,null),$.registeredClass.constructor_body[x-1]=ei(Z,le,null,B,U),[])),[]})},rt=T=>{T=T.trim();const x=T.indexOf("(");return x===-1?T:T.slice(0,x)},Pa=(T,x,P,L,B,U,z,$,Z,le)=>{var ue=$n(P,L);x=lt(x),x=rt(x),U=Gn(B,U),Be([],[T],Te=>{Te=Te[0];var We=`${Te.name}.${x}`;x.startsWith("@@")&&(x=Symbol[x.substring(2)]),$&&Te.registeredClass.pureVirtualFunctions.push(x);function He(){Sa(`Cannot call ${We} due to unbound types`,ue)}var gt=Te.registeredClass.instancePrototype,Ft=gt[x];return Ft===void 0||Ft.overloadTable===void 0&&Ft.className!==Te.name&&Ft.argCount===P-2?(He.argCount=P-2,He.className=Te.name,gt[x]=He):(To(gt,x,We),gt[x].overloadTable[P-2]=He),Be([],ue,Nt=>{var zt=ei(We,Nt,Te,U,z);return gt[x].overloadTable===void 0?(zt.argCount=P-2,gt[x]=zt):gt[x].overloadTable[P-2]=zt,[]}),[]})},xs=[],xn=[],Cc=T=>{T>9&&--xn[T+1]===0&&(xn[T]=void 0,xs.push(T))},Ud=()=>xn.length/2-5-xs.length,tg=()=>{xn.push(0,1,void 0,1,null,1,!0,1,!1,1),n.count_emval_handles=Ud},br={toValue:T=>(T||Ge(`Cannot use deleted val. handle = ${T}`),xn[T]),toHandle:T=>{switch(T){case void 0:return 2;case null:return 4;case!0:return 6;case!1:return 8;default:{const x=xs.pop()||xn.length;return xn[x]=T,xn[x+1]=1,x}}}},qd={name:"emscripten::val",fromWireType:T=>{var x=br.toValue(T);return Cc(T),x},toWireType:(T,x)=>br.toHandle(x),argPackAdvance:lr,readValueFromPointer:xr,destructorFunction:null},ng=T=>cn(T,qd),Io=(T,x)=>{switch(x){case 4:return function(P){return this.fromWireType(k[P>>2])};case 8:return function(P){return this.fromWireType(M[P>>3])};default:throw new TypeError(`invalid float width (${x}): ${T}`)}},$r=(T,x,P)=>{x=lt(x),cn(T,{name:x,fromWireType:L=>L,toWireType:(L,B)=>B,argPackAdvance:lr,readValueFromPointer:Io(x,P),destructorFunction:null})},Gd=(T,x,P,L,B,U,z,$)=>{var Z=$n(x,P);T=lt(T),T=rt(T),B=Gn(L,B),Ar(T,function(){Sa(`Cannot call ${T} due to unbound types`,Z)},x-1),Be([],Z,le=>{var ue=[le[0],null].concat(le.slice(1));return wc(T,ei(T,ue,null,B,U),x-1),[]})},$d=(T,x,P)=>{switch(x){case 1:return P?L=>_[L]:L=>R[L];case 2:return P?L=>O[L>>1]:L=>j[L>>1];case 4:return P?L=>S[L>>2]:L=>I[L>>2];default:throw new TypeError(`invalid integer width (${x}): ${T}`)}},zd=(T,x,P,L,B)=>{x=lt(x);var U=ue=>ue;if(L===0){var z=32-8*P;U=ue=>ue<<z>>>z}var $=x.includes("unsigned"),Z=(ue,Te)=>{},le;$?le=function(ue,Te){return Z(Te,this.name),Te>>>0}:le=function(ue,Te){return Z(Te,this.name),Te},cn(T,{name:x,fromWireType:U,toWireType:le,argPackAdvance:lr,readValueFromPointer:$d(x,P,L!==0),destructorFunction:null})},ti=(T,x,P)=>{var L=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array],B=L[x];function U(z){var $=I[z>>2],Z=I[z+4>>2];return new B(_.buffer,Z,$)}P=lt(P),cn(T,{name:P,fromWireType:U,argPackAdvance:lr,readValueFromPointer:U},{ignoreDuplicateRegistrations:!0})},rg=Object.assign({optional:!0},qd),sg=(T,x)=>{cn(T,rg)},ig=(T,x,P,L)=>{if(!(L>0))return 0;for(var B=P,U=P+L-1,z=0;z<T.length;++z){var $=T.charCodeAt(z);if($>=55296&&$<=57343){var Z=T.charCodeAt(++z);$=65536+(($&1023)<<10)|Z&1023}if($<=127){if(P>=U)break;x[P++]=$}else if($<=2047){if(P+1>=U)break;x[P++]=192|$>>6,x[P++]=128|$&63}else if($<=65535){if(P+2>=U)break;x[P++]=224|$>>12,x[P++]=128|$>>6&63,x[P++]=128|$&63}else{if(P+3>=U)break;x[P++]=240|$>>18,x[P++]=128|$>>12&63,x[P++]=128|$>>6&63,x[P++]=128|$&63}}return x[P]=0,P-B},_n=(T,x,P)=>ig(T,R,x,P),Wd=T=>{for(var x=0,P=0;P<T.length;++P){var L=T.charCodeAt(P);L<=127?x++:L<=2047?x+=2:L>=55296&&L<=57343?(x+=4,++P):x+=3}return x},Kd=typeof TextDecoder<"u"?new TextDecoder:void 0,So=function(T){let x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,P=arguments.length>2&&arguments[2]!==void 0?arguments[2]:NaN;for(var L=x+P,B=x;T[B]&&!(B>=L);)++B;if(B-x>16&&T.buffer&&Kd)return Kd.decode(T.subarray(x,B));for(var U="";x<B;){var z=T[x++];if(!(z&128)){U+=String.fromCharCode(z);continue}var $=T[x++]&63;if((z&224)==192){U+=String.fromCharCode((z&31)<<6|$);continue}var Z=T[x++]&63;if((z&240)==224?z=(z&15)<<12|$<<6|Z:z=(z&7)<<18|$<<12|Z<<6|T[x++]&63,z<65536)U+=String.fromCharCode(z);else{var le=z-65536;U+=String.fromCharCode(55296|le>>10,56320|le&1023)}}return U},Na=(T,x)=>T?So(R,T,x):"",Yd=(T,x)=>{x=lt(x),cn(T,{name:x,fromWireType(P){for(var L=I[P>>2],B=P+4,U,$,z=B,$=0;$<=L;++$){var Z=B+$;if($==L||R[Z]==0){var le=Z-z,ue=Na(z,le);U===void 0?U=ue:(U+="\0",U+=ue),z=Z+1}}return N(P),U},toWireType(P,L){L instanceof ArrayBuffer&&(L=new Uint8Array(L));var B,U=typeof L=="string";U||ArrayBuffer.isView(L)&&L.BYTES_PER_ELEMENT==1||Ge("Cannot pass non-string to std::string"),U?B=Wd(L):B=L.length;var z=G(4+B+1),$=z+4;return I[z>>2]=B,U?_n(L,$,B+1):R.set(L,$),P!==null&&P.push(N,z),z},argPackAdvance:lr,readValueFromPointer:xr,destructorFunction(P){N(P)}})},ni=typeof TextDecoder<"u"?new TextDecoder("utf-16le"):void 0,Ro=(T,x)=>{for(var P=T,L=P>>1,B=L+x/2;!(L>=B)&&j[L];)++L;if(P=L<<1,P-T>32&&ni)return ni.decode(R.subarray(T,P));for(var U="",z=0;!(z>=x/2);++z){var $=O[T+z*2>>1];if($==0)break;U+=String.fromCharCode($)}return U},Qd=(T,x,P)=>{if(P!=null||(P=2147483647),P<2)return 0;P-=2;for(var L=x,B=P<T.length*2?P/2:T.length,U=0;U<B;++U){var z=T.charCodeAt(U);O[x>>1]=z,x+=2}return O[x>>1]=0,x-L},xc=T=>T.length*2,mt=(T,x)=>{for(var P=0,L="";!(P>=x/4);){var B=S[T+P*4>>2];if(B==0)break;if(++P,B>=65536){var U=B-65536;L+=String.fromCharCode(55296|U>>10,56320|U&1023)}else L+=String.fromCharCode(B)}return L},og=(T,x,P)=>{if(P!=null||(P=2147483647),P<4)return 0;for(var L=x,B=L+P-4,U=0;U<T.length;++U){var z=T.charCodeAt(U);if(z>=55296&&z<=57343){var $=T.charCodeAt(++U);z=65536+((z&1023)<<10)|$&1023}if(S[x>>2]=z,x+=4,x+4>B)break}return S[x>>2]=0,x-L},ag=T=>{for(var x=0,P=0;P<T.length;++P){var L=T.charCodeAt(P);L>=55296&&L<=57343&&++P,x+=4}return x},Hd=(T,x,P)=>{P=lt(P);var L,B,U,z;x===2?(L=Ro,B=Qd,z=xc,U=$=>j[$>>1]):x===4&&(L=mt,B=og,z=ag,U=$=>I[$>>2]),cn(T,{name:P,fromWireType:$=>{for(var Z=I[$>>2],le,ue=$+4,Te=0;Te<=Z;++Te){var We=$+4+Te*x;if(Te==Z||U(We)==0){var He=We-ue,gt=L(ue,He);le===void 0?le=gt:(le+="\0",le+=gt),ue=We+x}}return N($),le},toWireType:($,Z)=>{typeof Z!="string"&&Ge(`Cannot pass non-string to C++ string type ${P}`);var le=z(Z),ue=G(4+le+x);return I[ue>>2]=le/x,B(Z,ue+4,le+x),$!==null&&$.push(N,ue),ue},argPackAdvance:lr,readValueFromPointer:xr,destructorFunction($){N($)}})},Jd=(T,x,P,L,B,U)=>{Js[T]={name:lt(x),rawConstructor:Gn(P,L),rawDestructor:Gn(B,U),fields:[]}},Xd=(T,x,P,L,B,U,z,$,Z,le)=>{Js[T].fields.push({fieldName:lt(x),getterReturnType:P,getter:Gn(L,B),getterContext:U,setterArgumentType:z,setter:Gn($,Z),setterContext:le})},ka=(T,x)=>{x=lt(x),cn(T,{isVoid:!0,name:x,argPackAdvance:0,fromWireType:()=>{},toWireType:(P,L)=>{}})},Ma=[],Ir=(T,x,P,L)=>(T=Ma[T],x=br.toValue(x),T(null,x,P,L)),Zd={},lg=T=>{var x=Zd[T];return x===void 0?lt(T):x},ri=()=>{if(typeof globalThis=="object")return globalThis;function T(x){x.$$$embind_global$$$=x;var P=typeof $$$embind_global$$$=="object"&&x.$$$embind_global$$$==x;return P||delete x.$$$embind_global$$$,P}if(typeof $$$embind_global$$$=="object"||(typeof global=="object"&&T(global)?$$$embind_global$$$=global:typeof self=="object"&&T(self)&&($$$embind_global$$$=self),typeof $$$embind_global$$$=="object"))return $$$embind_global$$$;throw Error("unable to get global object.")},eh=T=>T===0?br.toHandle(ri()):(T=lg(T),br.toHandle(ri()[T])),_c=T=>{var x=Ma.length;return Ma.push(T),x},Po=(T,x)=>{var P=En[T];return P===void 0&&Ge(`${x} has unknown type ${Ec(T)}`),P},th=(T,x)=>{for(var P=new Array(T),L=0;L<T;++L)P[L]=Po(I[x+L*4>>2],`parameter ${L}`);return P},Da=(T,x,P)=>{var L=[],B=T.toWireType(L,P);return L.length&&(I[x>>2]=br.toHandle(L)),B},cg=Reflect.construct,nh=(T,x,P)=>{var L=th(T,x),B=L.shift();T--;var U=new Array(T),z=(Z,le,ue,Te)=>{for(var We=0,He=0;He<T;++He)U[He]=L[He].readValueFromPointer(Te+We),We+=L[He].argPackAdvance;var gt=P===1?cg(le,U):le.apply(Z,U);return Da(B,ue,gt)},$=`methodCaller<(${L.map(Z=>Z.name).join(", ")}) => ${B.name}>`;return _c(xa($,z))},No=T=>{T>9&&(xn[T+1]+=1)},rh=T=>{var x=br.toValue(T);ar(x),Cc(T)},sh=(T,x)=>{T=Po(T,"_emval_take_value");var P=T.readValueFromPointer(x);return br.toHandle(P)},Tc=(T,x,P,L)=>{var B=new Date().getFullYear(),U=new Date(B,0,1),z=new Date(B,6,1),$=U.getTimezoneOffset(),Z=z.getTimezoneOffset(),le=Math.max($,Z);I[T>>2]=le*60,S[x>>2]=+($!=Z);var ue=He=>{var gt=He>=0?"-":"+",Ft=Math.abs(He),Nt=String(Math.floor(Ft/60)).padStart(2,"0"),zt=String(Ft%60).padStart(2,"0");return`UTC${gt}${Nt}${zt}`},Te=ue($),We=ue(Z);Z<$?(_n(Te,P,17),_n(We,L,17)):(_n(Te,L,17),_n(We,P,17))},Ac=()=>2147483648,ih=(T,x)=>Math.ceil(T/x)*x,Oa=T=>{var x=C.buffer,P=(T-x.byteLength+65535)/65536|0;try{return C.grow(P),V(),1}catch{}},oh=T=>{var x=R.length;T>>>=0;var P=Ac();if(T>P)return!1;for(var L=1;L<=4;L*=2){var B=x*(1+.2/L);B=Math.min(B,T+100663296);var U=Math.min(P,ih(Math.max(T,B),65536)),z=Oa(U);if(z)return!0}return!1},La={},_s=()=>c||"./this.program",si=()=>{if(!si.strings){var T=(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",x={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:T,_:_s()};for(var P in La)La[P]===void 0?delete x[P]:x[P]=La[P];var L=[];for(var P in x)L.push(`${P}=${x[P]}`);si.strings=L}return si.strings},ah=(T,x)=>{var P=0,L=0;for(var B of si()){var U=x+P;I[T+L>>2]=U,P+=_n(B,U,1/0)+1,L+=4}return 0},lh=(T,x)=>{var P=si();I[T>>2]=P.length;var L=0;for(var B of P)L+=Wd(B)+1;return I[x>>2]=L,0},ch=T=>52;function Va(T,x,P,L,B){return 70}var Tn=[null,[],[]],uh=(T,x)=>{var P=Tn[T];x===0||x===10?((T===1?E:y)(So(P)),P.length=0):P.push(x)},dh=(T,x,P,L)=>{for(var B=0,U=0;U<P;U++){var z=I[x>>2],$=I[x+4>>2];x+=8;for(var Z=0;Z<$;Z++)uh(T,R[z+Z]);B+=$}return I[L>>2]=B,0},ii=T=>T;ln(),Jm(),Vd(),tg(),n.noExitRuntime&&n.noExitRuntime,n.print&&(E=n.print),n.printErr&&(y=n.printErr),n.wasmBinary&&(b=n.wasmBinary),n.arguments&&n.arguments,n.thisProgram&&(c=n.thisProgram);var u={s:Pt,w:ft,a:or,j:ps,m:Co,N:_t,p:pt,da:ms,d:Cr,_:xo,sa:Qe,Z:qt,na:Jt,qa:Cs,pa:Bd,F:Pa,la:ng,R:$r,S:Gd,y:zd,t:ti,ra:sg,ma:Yd,O:Hd,K:Jd,ta:Xd,oa:ka,V:Ir,ua:Cc,wa:eh,$:nh,T:No,va:rh,ka:sh,aa:Tc,ea:oh,ba:ah,ca:lh,fa:ch,X:Va,Q:dh,I:zM,C:KM,U:RM,P:eD,q:UM,b:AM,D:$M,ia:QM,c:IM,ha:HM,h:SM,i:DM,r:LM,M:GM,v:FM,E:BM,J:qM,A:YM,H:tD,W:sD,k:NM,f:PM,e:bM,g:bc,L:ZM,l:MM,ja:WM,o:VM,x:OM,u:jM,ga:XM,B:JM,n:kM,G:nD,Y:rD,z:ii},m=await te();m.ya;var A=m.za,N=n._free=m.Aa,G=n._malloc=m.Ca,K=m.Da,Q=m.Ea,et=m.Fa,Vt=m.Ga,$e=m.Ha,Gt=m.Ia,$t=m.Ja,oi=m.Ka;n.dynCall_viijii=m.La;var zn=n.dynCall_vij=m.Ma;n.dynCall_jiji=m.Na;var Fa=n.dynCall_jiiii=m.Oa;n.dynCall_iiiiij=m.Pa,n.dynCall_iiiiijj=m.Qa,n.dynCall_iiiiiijj=m.Ra;function bc(T,x,P,L){var B=ve();try{Fe(T)(x,P,L)}catch(U){if(de(B),U!==U+0)throw U;Q(1,0)}}function AM(T,x){var P=ve();try{return Fe(T)(x)}catch(L){if(de(P),L!==L+0)throw L;Q(1,0)}}function bM(T,x,P){var L=ve();try{Fe(T)(x,P)}catch(B){if(de(L),B!==B+0)throw B;Q(1,0)}}function IM(T,x,P){var L=ve();try{return Fe(T)(x,P)}catch(B){if(de(L),B!==B+0)throw B;Q(1,0)}}function SM(T,x,P,L){var B=ve();try{return Fe(T)(x,P,L)}catch(U){if(de(B),U!==U+0)throw U;Q(1,0)}}function RM(T,x,P,L,B){var U=ve();try{return Fe(T)(x,P,L,B)}catch(z){if(de(U),z!==z+0)throw z;Q(1,0)}}function PM(T,x){var P=ve();try{Fe(T)(x)}catch(L){if(de(P),L!==L+0)throw L;Q(1,0)}}function NM(T){var x=ve();try{Fe(T)()}catch(P){if(de(x),P!==P+0)throw P;Q(1,0)}}function kM(T,x,P,L,B,U,z,$,Z,le,ue){var Te=ve();try{Fe(T)(x,P,L,B,U,z,$,Z,le,ue)}catch(We){if(de(Te),We!==We+0)throw We;Q(1,0)}}function MM(T,x,P,L,B){var U=ve();try{Fe(T)(x,P,L,B)}catch(z){if(de(U),z!==z+0)throw z;Q(1,0)}}function DM(T,x,P,L,B){var U=ve();try{return Fe(T)(x,P,L,B)}catch(z){if(de(U),z!==z+0)throw z;Q(1,0)}}function OM(T,x,P,L,B,U,z){var $=ve();try{Fe(T)(x,P,L,B,U,z)}catch(Z){if(de($),Z!==Z+0)throw Z;Q(1,0)}}function LM(T,x,P,L,B,U){var z=ve();try{return Fe(T)(x,P,L,B,U)}catch($){if(de(z),$!==$+0)throw $;Q(1,0)}}function VM(T,x,P,L,B,U){var z=ve();try{Fe(T)(x,P,L,B,U)}catch($){if(de(z),$!==$+0)throw $;Q(1,0)}}function FM(T,x,P,L,B,U,z){var $=ve();try{return Fe(T)(x,P,L,B,U,z)}catch(Z){if(de($),Z!==Z+0)throw Z;Q(1,0)}}function jM(T,x,P,L,B,U,z,$){var Z=ve();try{Fe(T)(x,P,L,B,U,z,$)}catch(le){if(de(Z),le!==le+0)throw le;Q(1,0)}}function BM(T,x,P,L,B,U,z,$){var Z=ve();try{return Fe(T)(x,P,L,B,U,z,$)}catch(le){if(de(Z),le!==le+0)throw le;Q(1,0)}}function UM(T){var x=ve();try{return Fe(T)()}catch(P){if(de(x),P!==P+0)throw P;Q(1,0)}}function qM(T,x,P,L,B,U,z,$,Z){var le=ve();try{return Fe(T)(x,P,L,B,U,z,$,Z)}catch(ue){if(de(le),ue!==ue+0)throw ue;Q(1,0)}}function GM(T,x,P,L,B,U,z){var $=ve();try{return Fe(T)(x,P,L,B,U,z)}catch(Z){if(de($),Z!==Z+0)throw Z;Q(1,0)}}function $M(T,x,P,L){var B=ve();try{return Fe(T)(x,P,L)}catch(U){if(de(B),U!==U+0)throw U;Q(1,0)}}function zM(T,x,P,L){var B=ve();try{return Fe(T)(x,P,L)}catch(U){if(de(B),U!==U+0)throw U;Q(1,0)}}function WM(T,x,P,L,B,U,z,$){var Z=ve();try{Fe(T)(x,P,L,B,U,z,$)}catch(le){if(de(Z),le!==le+0)throw le;Q(1,0)}}function KM(T,x,P,L,B,U){var z=ve();try{return Fe(T)(x,P,L,B,U)}catch($){if(de(z),$!==$+0)throw $;Q(1,0)}}function YM(T,x,P,L,B,U,z,$,Z,le){var ue=ve();try{return Fe(T)(x,P,L,B,U,z,$,Z,le)}catch(Te){if(de(ue),Te!==Te+0)throw Te;Q(1,0)}}function QM(T,x,P){var L=ve();try{return Fe(T)(x,P)}catch(B){if(de(L),B!==B+0)throw B;Q(1,0)}}function HM(T,x,P,L,B){var U=ve();try{return Fe(T)(x,P,L,B)}catch(z){if(de(U),z!==z+0)throw z;Q(1,0)}}function JM(T,x,P,L,B,U,z,$,Z,le){var ue=ve();try{Fe(T)(x,P,L,B,U,z,$,Z,le)}catch(Te){if(de(ue),Te!==Te+0)throw Te;Q(1,0)}}function XM(T,x,P,L,B,U,z,$,Z){var le=ve();try{Fe(T)(x,P,L,B,U,z,$,Z)}catch(ue){if(de(le),ue!==ue+0)throw ue;Q(1,0)}}function ZM(T,x,P,L,B,U,z){var $=ve();try{Fe(T)(x,P,L,B,U,z)}catch(Z){if(de($),Z!==Z+0)throw Z;Q(1,0)}}function eD(T,x,P,L){var B=ve();try{return Fe(T)(x,P,L)}catch(U){if(de(B),U!==U+0)throw U;Q(1,0)}}function tD(T,x,P,L,B,U,z,$,Z,le,ue,Te){var We=ve();try{return Fe(T)(x,P,L,B,U,z,$,Z,le,ue,Te)}catch(He){if(de(We),He!==He+0)throw He;Q(1,0)}}function nD(T,x,P,L,B,U,z,$,Z,le,ue,Te,We,He,gt,Ft){var Nt=ve();try{Fe(T)(x,P,L,B,U,z,$,Z,le,ue,Te,We,He,gt,Ft)}catch(zt){if(de(Nt),zt!==zt+0)throw zt;Q(1,0)}}function rD(T,x,P,L){var B=ve();try{zn(T,x,P,L)}catch(U){if(de(B),U!==U+0)throw U;Q(1,0)}}function sD(T,x,P,L,B){var U=ve();try{return Fa(T,x,P,L,B)}catch(z){if(de(U),z!==z+0)throw z;Q(1,0)}}function ug(){if(se>0){ne=ug;return}if(F(),se>0){ne=ug;return}function T(){var x;n.calledRun=!0,!w&&(D(),r(n),(x=n.onRuntimeInitialized)===null||x===void 0||x.call(n),re())}n.setStatus?(n.setStatus("Running..."),setTimeout(()=>{setTimeout(()=>n.setStatus(""),1),T()},1)):T()}function iD(){if(n.preInit)for(typeof n.preInit=="function"&&(n.preInit=[n.preInit]);n.preInit.length>0;)n.preInit.shift()()}return iD(),ug(),e=i,e};function bK(t){return dM(hM,t)}async function IK(t,e){return AK(hM,t,e)}const fM=[["aztec","Aztec"],["code_128","Code128"],["code_39","Code39"],["code_93","Code93"],["codabar","Codabar"],["databar","DataBar"],["databar_expanded","DataBarExpanded"],["databar_limited","DataBarLimited"],["data_matrix","DataMatrix"],["dx_film_edge","DXFilmEdge"],["ean_13","EAN-13"],["ean_8","EAN-8"],["itf","ITF"],["maxi_code","MaxiCode"],["micro_qr_code","MicroQRCode"],["pdf417","PDF417"],["qr_code","QRCode"],["rm_qr_code","rMQRCode"],["upc_a","UPC-A"],["upc_e","UPC-E"],["linear_codes","Linear-Codes"],["matrix_codes","Matrix-Codes"],["any","Any"]],SK=[...fM,["unknown"]].map(t=>t[0]),T0=new Map(fM);function RK(t){for(const[e,n]of T0)if(t===n)return e;return"unknown"}function PK(t){if(pM(t))return{width:t.naturalWidth,height:t.naturalHeight};if(mM(t))return{width:t.width.baseVal.value,height:t.height.baseVal.value};if(gM(t))return{width:t.videoWidth,height:t.videoHeight};if(vM(t))return{width:t.width,height:t.height};if(EM(t))return{width:t.displayWidth,height:t.displayHeight};if(yM(t))return{width:t.width,height:t.height};if(wM(t))return{width:t.width,height:t.height};throw new TypeError("The provided value is not of type '(Blob or HTMLCanvasElement or HTMLImageElement or HTMLVideoElement or ImageBitmap or ImageData or OffscreenCanvas or SVGImageElement or VideoFrame)'.")}function pM(t){var e,n;try{return t instanceof((n=(e=t==null?void 0:t.ownerDocument)==null?void 0:e.defaultView)==null?void 0:n.HTMLImageElement)}catch{return!1}}function mM(t){var e,n;try{return t instanceof((n=(e=t==null?void 0:t.ownerDocument)==null?void 0:e.defaultView)==null?void 0:n.SVGImageElement)}catch{return!1}}function gM(t){var e,n;try{return t instanceof((n=(e=t==null?void 0:t.ownerDocument)==null?void 0:e.defaultView)==null?void 0:n.HTMLVideoElement)}catch{return!1}}function yM(t){var e,n;try{return t instanceof((n=(e=t==null?void 0:t.ownerDocument)==null?void 0:e.defaultView)==null?void 0:n.HTMLCanvasElement)}catch{return!1}}function vM(t){try{return t instanceof ImageBitmap||Object.prototype.toString.call(t)==="[object ImageBitmap]"}catch{return!1}}function wM(t){try{return t instanceof OffscreenCanvas||Object.prototype.toString.call(t)==="[object OffscreenCanvas]"}catch{return!1}}function EM(t){try{return t instanceof VideoFrame||Object.prototype.toString.call(t)==="[object VideoFrame]"}catch{return!1}}function NK(t){try{return t instanceof Blob||Object.prototype.toString.call(t)==="[object Blob]"}catch{return!1}}function kK(t){try{return t instanceof ImageData||Object.prototype.toString.call(t)==="[object ImageData]"}catch{return!1}}function MK(t,e){try{const n=new OffscreenCanvas(t,e);if(n.getContext("2d")instanceof OffscreenCanvasRenderingContext2D)return n;throw void 0}catch{const n=document.createElement("canvas");return n.width=t,n.height=e,n}}async function CM(t){if(pM(t)&&!await VK(t))throw new DOMException("Failed to load or decode HTMLImageElement.","InvalidStateError");if(mM(t)&&!await FK(t))throw new DOMException("Failed to load or decode SVGImageElement.","InvalidStateError");if(EM(t)&&jK(t))throw new DOMException("VideoFrame is closed.","InvalidStateError");if(gM(t)&&(t.readyState===0||t.readyState===1))throw new DOMException("Invalid element or state.","InvalidStateError");if(vM(t)&&UK(t))throw new DOMException("The image source is detached.","InvalidStateError");const{width:e,height:n}=PK(t);if(e===0||n===0)return null;const r=MK(e,n).getContext("2d");r.drawImage(t,0,0);try{return r.getImageData(0,0,e,n)}catch{throw new DOMException("Source would taint origin.","SecurityError")}}async function DK(t){let e;try{e=await createImageBitmap(t)}catch{try{if(globalThis.Image){e=new Image;let n="";try{n=URL.createObjectURL(t),e.src=n,await e.decode()}finally{URL.revokeObjectURL(n)}}else return t}catch{throw new DOMException("Failed to load or decode Blob.","InvalidStateError")}}return await CM(e)}function OK(t){const{width:e,height:n}=t;if(e===0||n===0)return null;const r=t.getContext("2d");try{return r.getImageData(0,0,e,n)}catch{throw new DOMException("Source would taint origin.","SecurityError")}}async function LK(t){if(NK(t))return await DK(t);if(kK(t)){if(BK(t))throw new DOMException("The image data has been detached.","InvalidStateError");return t}return yM(t)||wM(t)?OK(t):await CM(t)}async function VK(t){try{return await t.decode(),!0}catch{return!1}}async function FK(t){var e;try{return await((e=t.decode)==null?void 0:e.call(t)),!0}catch{return!1}}function jK(t){return t.format===null}function BK(t){return t.data.buffer.byteLength===0}function UK(t){return t.width===0&&t.height===0}function pT(t,e){return qK(t)?new DOMException(`${e}: ${t.message}`,t.name):GK(t)?new t.constructor(`${e}: ${t.message}`):new Error(`${e}: ${t}`)}function qK(t){return t instanceof DOMException||Object.prototype.toString.call(t)==="[object DOMException]"}function GK(t){return t instanceof Error||Object.prototype.toString.call(t)==="[object Error]"}var kf;class A0{constructor(e={}){aK(this,kf);var n;try{const r=(n=e==null?void 0:e.formats)==null?void 0:n.filter(s=>s!=="unknown");if((r==null?void 0:r.length)===0)throw new TypeError("Hint option provided, but is empty.");for(const s of r??[])if(!T0.has(s))throw new TypeError(`Failed to read the 'formats' property from 'BarcodeDetectorOptions': The provided value '${s}' is not a valid enum value of type BarcodeFormat.`);lK(this,kf,r??[]),bK({fireImmediately:!0}).catch(()=>{})}catch(r){throw pT(r,"Failed to construct 'BarcodeDetector'")}}static async getSupportedFormats(){return SK.filter(e=>e!=="unknown")}async detect(e){try{const n=await LK(e);if(n===null)return[];let r;const s={tryCode39ExtendedMode:!1,textMode:"Plain",formats:oK(this,kf).map(i=>T0.get(i))};try{r=await IK(n,s)}catch(i){throw console.error(i),new DOMException("Barcode detection service unavailable.","NotSupportedError")}return r.map(i=>{const{topLeft:{x:o,y:a},topRight:{x:l,y:c},bottomLeft:{x:d,y:f},bottomRight:{x:h,y:v}}=i.position,E=Math.min(o,l,d,h),y=Math.min(a,c,f,v),b=Math.max(o,l,d,h),C=Math.max(a,c,f,v);return{boundingBox:new DOMRectReadOnly(E,y,b-E,C-y),rawValue:i.text,format:RK(i.format),cornerPoints:[{x:o,y:a},{x:l,y:c},{x:h,y:v},{x:d,y:f}]}})}catch(n){throw pT(n,"Failed to execute 'detect' on 'BarcodeDetector'")}}}kf=new WeakMap;globalThis.BarcodeDetector!=null||(globalThis.BarcodeDetector=A0);function $K(t){const{onClick:e,disabled:n,className:r}=t,s={cursor:n?"default":"pointer",stroke:n?"grey":"yellow",strokeLineJoin:"round",strokeLineCap:"round",strokeWidth:1.5,...t.style};return Y.createElement("svg",{onClick:n?void 0:e,className:r,style:s,width:"28px",height:"28px",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Y.createElement("path",{d:"M3 3L6.00007 6.00007M21 21L19.8455 19.8221M9.74194 4.06811C9.83646 4.04279 9.93334 4.02428 10.0319 4.01299C10.1453 4 10.2683 4 10.5141 4H13.5327C13.7786 4 13.9015 4 14.015 4.01299C14.6068 4.08078 15.1375 4.40882 15.4628 4.90782C15.5252 5.00345 15.5802 5.11345 15.6901 5.33333C15.7451 5.44329 15.7726 5.49827 15.8037 5.54609C15.9664 5.79559 16.2318 5.95961 16.5277 5.9935C16.5844 6 16.6459 6 16.7688 6H17.8234C18.9435 6 19.5036 6 19.9314 6.21799C20.3077 6.40973 20.6137 6.71569 20.8055 7.09202C21.0234 7.51984 21.0234 8.0799 21.0234 9.2V15.3496M19.8455 19.8221C19.4278 20 18.8702 20 17.8234 20H6.22344C5.10333 20 4.54328 20 4.11546 19.782C3.73913 19.5903 3.43317 19.2843 3.24142 18.908C3.02344 18.4802 3.02344 17.9201 3.02344 16.8V9.2C3.02344 8.0799 3.02344 7.51984 3.24142 7.09202C3.43317 6.71569 3.73913 6.40973 4.11546 6.21799C4.51385 6.015 5.0269 6.00103 6.00007 6.00007M19.8455 19.8221L14.5619 14.5619M14.5619 14.5619C14.0349 15.4243 13.0847 16 12 16C10.3431 16 9 14.6569 9 13C9 11.9153 9.57566 10.9651 10.4381 10.4381M14.5619 14.5619L10.4381 10.4381M10.4381 10.4381L6.00007 6.00007"}))}function zK(t){const{onClick:e,disabled:n,className:r}=t,s={cursor:n?"default":"pointer",stroke:n?"grey":"yellow",strokeLineJoin:"round",strokeLineCap:"round",strokeWidth:1.5,...t.style};return Y.createElement("svg",{onClick:n?void 0:e,className:r,style:s,width:"28px",height:"28px",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Y.createElement("path",{d:"M12 16C13.6569 16 15 14.6569 15 13C15 11.3431 13.6569 10 12 10C10.3431 10 9 11.3431 9 13C9 14.6569 10.3431 16 12 16Z"}),Y.createElement("path",{d:"M3 16.8V9.2C3 8.0799 3 7.51984 3.21799 7.09202C3.40973 6.71569 3.71569 6.40973 4.09202 6.21799C4.51984 6 5.0799 6 6.2 6H7.25464C7.37758 6 7.43905 6 7.49576 5.9935C7.79166 5.95961 8.05705 5.79559 8.21969 5.54609C8.25086 5.49827 8.27836 5.44328 8.33333 5.33333C8.44329 5.11342 8.49827 5.00346 8.56062 4.90782C8.8859 4.40882 9.41668 4.08078 10.0085 4.01299C10.1219 4 10.2448 4 10.4907 4H13.5093C13.7552 4 13.8781 4 13.9915 4.01299C14.5833 4.08078 15.1141 4.40882 15.4394 4.90782C15.5017 5.00345 15.5567 5.11345 15.6667 5.33333C15.7216 5.44329 15.7491 5.49827 15.7803 5.54609C15.943 5.79559 16.2083 5.95961 16.5042 5.9935C16.561 6 16.6224 6 16.7454 6H17.8C18.9201 6 19.4802 6 19.908 6.21799C20.2843 6.40973 20.5903 6.71569 20.782 7.09202C21 7.51984 21 8.0799 21 9.2V16.8C21 17.9201 21 18.4802 20.782 18.908C20.5903 19.2843 20.2843 19.5903 19.908 19.782C19.4802 20 18.9201 20 17.8 20H6.2C5.0799 20 4.51984 20 4.09202 19.782C3.71569 19.5903 3.40973 19.2843 3.21799 18.908C3 18.4802 3 17.9201 3 16.8Z"}))}function WK(t){const{scanning:e,startScanning:n,stopScanning:r}=t,[s,i]=g.useState(!1);function o(){i(!0),e?r():n(),setTimeout(()=>i(!1),1e3)}return Y.createElement("div",{style:{bottom:85,right:8,position:"absolute",zIndex:2,cursor:s?"default":"pointer"}},e?Y.createElement($K,{disabled:s,onClick:o}):Y.createElement(zK,{disabled:s,onClick:o}))}function KK(t){const{onClick:e,className:n,style:r}=t;return Y.createElement("svg",{onClick:e,width:"30px",height:"30px",viewBox:"0 0 24 24",className:n,style:r,xmlns:"http://www.w3.org/2000/svg"},Y.createElement("path",{strokeWidth:.2,stroke:"yellow",fill:"yellow",d:"M13.225 9l5.025-7h-7.972l-3.3 11h5.359l-2.452 8.648.75.364L20.374 9zm.438 3H8.322l2.7-9H16.3l-5.025 7h7.101l-6.7 8.953z"}))}function YK(t){const{onClick:e,className:n,style:r}=t;return Y.createElement("svg",{onClick:e,width:"30px",height:"30px",viewBox:"0 0 24 24",className:n,style:r,xmlns:"http://www.w3.org/2000/svg"},Y.createElement("path",{strokeWidth:.2,stroke:"yellow",fill:"yellow",d:"M14.516 15.158l.714.714-4.595 6.14-.75-.364L12.337 13H6.978L8.22 8.861l.803.803L8.322 12h3.036l1.793 1.792-1.475 5.16zm5.984 4.05L4.793 3.5l.707-.707 3.492 3.492L10.278 2h7.972l-5.025 7h7.149l-3.71 4.957 4.543 4.543zM12.707 10l3.243 3.243L18.376 10zM9.795 7.088l2.079 2.079L16.3 3h-5.278z"}))}function QK(t){const{status:e,scanning:n,torchToggle:r}=t;function s(i){r(i)}return n&&r?Y.createElement("div",{style:{bottom:35,right:8,position:"absolute",zIndex:2,cursor:"pointer"}},e?Y.createElement(YK,{onClick:()=>s(!1)}):Y.createElement(KK,{onClick:()=>s(!0)})):null}function HK(t){const{onClick:e,className:n,disabled:r=!1}=t,s={cursor:r?"default":"pointer",stroke:r?"grey":"yellow",fill:r?"grey":"yellow",...t.style};return Y.createElement("svg",{onClick:r?void 0:e,width:"30px",height:"30px",viewBox:"0 0 24 24",className:n,style:s,xmlns:"http://www.w3.org/2000/svg"},Y.createElement("path",{strokeWidth:.3,d:"M16.279,17.039c-1.396,1.209 -3.216,1.941 -5.206,1.941c-4.393,0 -7.96,-3.567 -7.96,-7.96c-0,-4.393 3.567,-7.96 7.96,-7.96c4.393,0 7.96,3.567 7.96,7.96c-0,2.044 -0.772,3.909 -2.04,5.319l0.165,0.165c1.194,1.194 2.388,2.388 3.583,3.582c0.455,0.456 -0.252,1.163 -0.707,0.708l-3.755,-3.755Zm1.754,-6.019c-0,-3.841 -3.119,-6.96 -6.96,-6.96c-3.842,0 -6.96,3.119 -6.96,6.96c-0,3.841 3.118,6.96 6.96,6.96c3.841,0 6.96,-3.119 6.96,-6.96Zm-7.46,0.5l-1.5,0c-0.645,0 -0.643,-1 -0,-1l1.5,0l-0,-1.5c-0,-0.645 1,-0.643 1,0l-0,1.5l1.5,0c0.645,0 0.643,1 -0,1l-1.5,0l-0,1.5c-0,0.645 -1,0.643 -1,0l-0,-1.5Z"}))}function JK(t){const{onClick:e,className:n,disabled:r=!1}=t,s={cursor:r?"default":"pointer",stroke:r?"grey":"yellow",fill:r?"grey":"yellow",...t.style};return Y.createElement("svg",{onClick:r?void 0:e,width:"30px",height:"30px",viewBox:"0 0 24 24",className:n,style:s,xmlns:"http://www.w3.org/2000/svg"},Y.createElement("path",{strokeWidth:.3,d:"M16.279,17.039c-1.396,1.209 -3.216,1.941 -5.206,1.941c-4.393,0 -7.96,-3.567 -7.96,-7.96c-0,-4.393 3.567,-7.96 7.96,-7.96c4.393,0 7.96,3.567 7.96,7.96c-0,2.044 -0.772,3.909 -2.04,5.319l0.165,0.165c1.194,1.194 2.388,2.388 3.583,3.582c0.455,0.456 -0.252,1.163 -0.707,0.708l-3.755,-3.755Zm1.754,-6.019c-0,-3.841 -3.119,-6.96 -6.96,-6.96c-3.842,0 -6.96,3.119 -6.96,6.96c-0,3.841 3.118,6.96 6.96,6.96c3.841,0 6.96,-3.119 6.96,-6.96Zm-4.96,-0.5c0.645,0 0.643,1 -0,1l-4,0c-0.645,0 -0.643,-1 -0,-1l4,0Z"}))}function XK(t){const{scanning:e,capabilities:n,onZoom:r,value:s}=t;if(!e||!r)return null;const i=(n.max-n.min)/3;return Y.createElement(g.Fragment,null,Y.createElement("div",{style:{bottom:130,right:8,position:"absolute",zIndex:2,cursor:"pointer"}},Y.createElement(JK,{disabled:s<=n.min,onClick:function(){r(Math.max(s-i,n.min))}})),Y.createElement("div",{style:{bottom:180,right:8,position:"absolute",zIndex:2,cursor:"pointer"}},Y.createElement(HK,{disabled:s>=n.max,onClick:function(){r(Math.min(s+i,n.max))}})))}const di={fullContainer:{width:"100%",height:"100%",position:"relative",display:"flex",alignItems:"center",justifyContent:"center",overflow:"hidden"},innerContainer:{width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",position:"relative"},overlay:{position:"absolute",top:0,right:0,bottom:0,left:0,pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},borderBox:{position:"relative",width:"70%",aspectRatio:"1 / 1",border:"2px dashed rgba(239, 68, 68, 0.4)",borderRadius:"0.5rem"},cornerTopLeft:{position:"absolute",width:"15%",height:"15%",border:"4px solid #ef4444",top:0,left:0,borderBottomColor:"transparent",borderRightColor:"transparent",borderTopLeftRadius:"0.5rem"},cornerTopRight:{position:"absolute",width:"15%",height:"15%",border:"4px solid #ef4444",top:0,right:0,borderBottomColor:"transparent",borderLeftColor:"transparent",borderTopRightRadius:"0.5rem"},cornerBottomLeft:{position:"absolute",width:"15%",height:"15%",border:"4px solid #ef4444",bottom:0,left:0,borderTopColor:"transparent",borderRightColor:"transparent",borderBottomLeftRadius:"0.5rem"},cornerBottomRight:{position:"absolute",width:"15%",height:"15%",border:"4px solid #ef4444",bottom:0,right:0,borderTopColor:"transparent",borderLeftColor:"transparent",borderBottomRightRadius:"0.5rem"}};function ZK(t){const{scanning:e,capabilities:n,onOff:r,torch:s,zoom:i,startScanning:o,stopScanning:a}=t;return Y.createElement("div",{style:di.fullContainer},Y.createElement("div",{style:di.innerContainer},Y.createElement("div",{style:di.overlay},Y.createElement("div",{style:di.borderBox},Y.createElement("div",{style:di.cornerTopLeft}),Y.createElement("div",{style:di.cornerTopRight}),Y.createElement("div",{style:di.cornerBottomLeft}),Y.createElement("div",{style:di.cornerBottomRight}))),r&&Y.createElement(WK,{scanning:e,startScanning:o,stopScanning:a}),s&&n.torch&&Y.createElement(QK,{scanning:e,status:s.status,torchToggle:s.toggle}),i&&n.zoom&&Y.createElement(XK,{scanning:e,capabilities:n.zoom,value:i.value,onZoom:i.onChange})))}const eY="data:audio/mp3;base64,//PkZAAhghE0AKToAJra/n0FQygAAAGIkYJgmCYXBMAAGCTJz3zhCEM//z//1hz//8MMMMN08ssV6e5DDWIQreAgCvFKy8bXgIKMkUDDBgzJwIBtkRMQAocxIFdxghQGKDoEziAzQxOBOdH92i/iGi+zDCAEIX46a73HrSybZw1x3JZjXp7dSNy/P68rjcbt7p7fakMP5LVMyzCaj1pjvejYYAIDgDGzECjEAk1Jl3559HIon8hzlfPVTCvGJZzfcKSxXfyMWM88//9VKSxXdtnb9vomOuuRyiWVYbf+X8zp6fKGHIdycuWMMMMMMKSnp+6wsYc/9f/7z7rPPWHN556p6fP8MMMP///PPP/7+GHK9PT6p7f/unldP2np7YeHjweiYA4GLNAgAiI7u57n5//oc5/yfk6znOcPhwOBwggHCMpA4HA4KEyHOc5znO+hPIc5//+fqJh8XQPh90JU5xQinOf//87/zvP+ggAYuhCKHxdA+Hxd0EA4KKHA4ciB3kOXfXB/gmf8p/B96lAMKAgAADU+BujARHgwdisgHMfAUHAiceBg4ASBgZBiBIBH4ZaHOJsLhf8R+HYEciIgYSwj/+Bi7EqBh+AcBn5P6Bh4TuBmrAMBiZH7gaLEWgew//PkZFMlyek60MpYAShzqqZhm6gCUWeEUWAewEWYGN4X4GDEPwGE8S4GDoOIGAYKgIQOkz//gGARAUB+CwGxTwMAACAEgyAwdAlAxKhzAxXiZ///AxcEwAwJjDAziCAAwQgdAwRgdAsJQDAmAcGzYDwAhZIAKAcIQB4GT9TQMJ9/4Gi1Fv/AcAYUqKBAwGgNAwVBAAwGhwAwdBlAxFg1AwlgzAwNBuAkJQDBgEEDEqGECgChFgBgL//CIswYYH//+HKCpk4K0C9AaKKCAOBeMcR4X9C44BwABCgGAsGYCgTwHAcAwXAiAwSAQV///CJP9lwMBQAwAAAWGo5lVLCcaeneVhJAVGai3//ioaUEf//gaTAYGCj8BnEwfrIqDcsIQb/vmhU/8fAs0G8YGGwKST8Igj4GCATipksVzY8p//90FWJwh45AkX//4fCF9wMEgkL3uQc+gbGJ8t4MBAMBP/hEXf9FRuWBcAfIFjYzQdoLCBwh7IWVlxaX/w8oMCP/+EQT5poGB1Ir90DhiV6af/jFYBpT2BgoQyyt2M0ToBdEaZyzt8nTo3xdNDCTSd//o6F06CjooxRr4jVF/0bOKD6OMUNDRxiMUVFR0FFQPhGXRjDpr4MAEA4wIQUhYOIw//PkZE4nrg08sOx4ACQ0CopD2aAAlwTTBxQeMcwd8w8gZTAgABXwGABOkzpI0wAQAExnWfP4x8ZjKunWdZ1o1Qe6lFGKCNULORQCELAAPnRUf/GIx/0FHGfo3SdZ0qP2cukXKLlRtBKFgAQwCkwJgFRYBEEATmDsLSY2QiQYCEnEra+UZo6F1aKMRr6GhoaP/+j//ov+i+hjLqBgMkYoqChoo1GqCjoY06TpRqjjLOYzRRmMuizmgdKhdF8kjTAAAPMCwGswzglgwAJfzqxmioKH/////////////+ijLOAwFmN0f/////////Q///8ZjP/9DGYyFwIDBeB3MA4AlBWidKM5spykAUAQOCakK+udGqN8VDYjTRuN//0bVX//6Kio4xQFv//nf//kKOoAEIB6SY6hcxenp85///4/DEPf/84Xvl4vF4dwtxfEJgCYQHMSgKCROp4+fn////L4tQf0unz89OecLxeL0ul09y6enzp4dIhKAQFA5hKfLu1nU7/Wr71rRKJUBQSUVt////l08GUPVWgAAYAeNKsxbQNAAhQx3/oKGMM6dZ1Yy6sajMbfKio7lNcv0sScZ47lNcw32ekVFMP9fp/f+mklI6at6u/dBMQuW6y+C5BcgwAA//PkZEomGg1HYGe0riWsCqbEwiY0BJFJMxrCcxGgQ2VK8xxCF1wsABgQBBgQBAYAFCkYCgALkK4fJ00E5ctJN1Uxy5au3XoGcM4dSN0EYZwzhW0WCh1PZwzhnFFQxtnbO2d0Kt6CdXbruggkTEX5Rs4TEQUVsdVXaCcuWXIBQUGmwmgoAGcJiM4dSioHQdBnEY+hjcbov//jcb/43G43G/jCRibfxugdBnDqULO2duvQumztncbo4xGKKNxugooxGIxQULoOgFgUMTA/jbrxiMDmETL+eLhcPThzOeeOZfL5fIcBYuXD/OHv8t//LJFxjxQYHHKDGFkZMtlmKM0RgQfbVtxFIHbQBDRuzRguEI1c9XZ/rWmrZfVU3Oc/9utNNygRQkCoHlAYstNN6DJ1IINpoINppv+WG/+g2mmnUmmmpBAoJIJhnwB5xkymn606Df/t000xhU03UXC5Ol8uFyXy+Xy/l8v5w4cLk4XAvwAYUvl/QL5fTdlKZkEEEEGumaKaX00zIOemf6CH///ywI3LKpiQ2Ef4xYWMSDyI0XwzikpL0ajVHZ3j9DGIjeuXcNfjn96/S/TUz/X/vX////5K/r+v7Jn+LlAoGZOIQIwMKBQM/yppKYURmhGZkR2b//PkZE0mHg1HEG8wyiD7mlwAyDU8nJHi5htakZmZGNiRcpkJhBmUmZYQcM1VDEEBggNDV/ASEZRYKFZIhkXKLlKmk7IVTKmZNJ5KhiqVUqpX+k7+qlVKyV/ZIqZDFDWTJlFyi5TJpKhiXKBQyZzIS5JhBoayV/AQWVpGWkcYTV5O/rIVSv8/0nkr+v6/vyR/X9f1/ZN8kf5/n99/n+f5/lTKmf9/mRP8yFUqpWSv4yJUqpX9kj/MmZNJ5K/z/P9J5P/v6yFUz/CEoywgUMqZkz/FssECIsVq0aPRrRRatFFFykQZJ2Ukl///5KjmksOaA7ALROJLDnEsLbq3GTMVrwb/0dGzmM0DlfBlHQOmrdR0MYi92TX6b/cmDHLclyUVYO/4O8sFTKFTKFf8yhUyhUyhXzKlDKlCsr/+ZUoVlSsr/+ZQqZUoZUoceMfcoZUoZUoVlfOPGcmDHKcpynKg9yXJcr3JclyXJclyYO+DXJclyfgxFZVb3KcqD/g2MxzsY72L9LubPR0dCyf5K5NNd+Tv9GXRdV0XJclyfcl/n+k8kf6SX/iVynvXf///4Mg/1OkxguYzmM5jMcLHMxwwGhgNCwXMLAcwMXTLi1MD7w7tmTdBvMmE0xQFzCwHMDAd//PkZGMpigkmAGOUvCfTgcgAuC+ITswMFzC4oMLhYMByn0xvU+p9Tr0xUxf/0xv///1PBYDhgNTFTFTGTGTGTGTGTGTGTGC4GTFMDAcLAdMVMVMULAcMBpgYDhcDGFwsYXFBikLGFwMGA4MBxgcDKfTEMUoAx2BisD+mKp5Tv1OkxkxkxkxkxkxkxkxlO0xVPJi/6nv////U7CwHTFTFTGTGTGTGU+p71PpjJipihYDpipi/6n1Ov//C4GC4GTGTGTGTFU8WBSZdLhWB//yKlotyLZFiLf8tyyRUipFSKkVGRBZQMiWC3yx//wxUGKsSvDFQGHUAL3QMsHDFIYpCYy2Bmagy6BjLgy6Bh3od58DCLAizBgRb+EQiyEQiwGBFuDAi3/////20QqSBJf/qcumv/////wMZdGXAYMu1gYy6MuBEZdBgy4BjLgy6BjLgy6BjLgy6BjLQy6DBlz2cJDLgRGXAMZdGXAYMuhMZcCIy6sJGaoGMuppwNRl3WBjLgy63wiEWAwIt/+EQi0IhFsDCLAi0GBFkGBFgMJCqaqYAgAYIhBBvwf7kwcqRq7V3IctacvlN6NxqgooxRRuNRiijEZjMGRuMvz9FGozQ+1X2qe1T1S//+VhaWAtKwtML//PkZEIkbgcaAHc1xCJrjeAAtfuUAtLAWf///mWePH95ZFgsyssvM88+jzO6K+z7OM48sH+WDiweZx5YOK+zxWLGJWsa6xadAv02fTZLSpsFpvLSga0tMgWgUgWmwgUmyWl8tMgWWmLSoFJsoFlpSwsmyBg4HhEdgwHAYPBwGDgeBg8HwMHg4DB4PBgOAwcOwMHLwDn5lAwcDgiDgYDwMHA/4MB3//+EQeDAdwiDwYLPhEWQYLODBYERZBgt8Ii34GLBaB5pfAZ0FvEAQ/UfwxULlx+IXx+8f5CELH8fxKhAIDFoHBEDRc3////gwHgaRXgMHYMB2EU/gwZ/gYbw3gY3QbgYNgbgYiAbgwN3/+EQbBEG4MBuDAbAwG4RBtAwbg2////+B9B6F//////////hEdD//////////8DRahEQGCInMNg3LBElgNjDciCwG/lgNiwGxWG///mG4bf/+WA3Kw3KyIMNw2Kw3MNg3MNg3MNiIMiQ2OK0xMiA3KyJLAEZgRARmBEDEYFwBBgEgEeomowol5YAJKwCDAIAJ8sAE+gGBgCJYAQUZ/13LubMu5dyiYOAhKwEFGf9AOoz/g4CFAIol/lgAjysAgsAElYBP////lgJksBM//lgRUxF//PkZGApggsIAHt2wiNLoggAqCz8RFSwIqYioipkjEjHCCSN/+WJg5iYOYmPK5krmTmZk5mZ8sTJYmf8yJiNiIisi/ywRmRkZkZGZGRmRERkREZERGRERkREZERGxEf///hETIMEyBiZEyBiZEzwiJgDEwU4DV2gQGFOBgmP8GAiAwRAiBgIgYCIGAi/4MBHAwRgjAwRgjwMEQIgMcgY8DBGCMDBGCMDEyJn///+BiYQIBlObj4eYLIwsjAOBGFkYBoEQ84eULIw88LIA88PKHnw8sPKFkeHlANAiAaFUDAiMYPIHmDzBZBhZB///8GBOA1sH/Awni7AwnhPCITwYE/CKzBgt8Ig8GA4Ig6EQdww4Yb+F1sIgtwYCwGAsAwWAsBgLAYCwDBYCwDBaHUDF+VEDKgC2BgtBaDAWgYLQW////gYLAWQMFgLAMFoLcGAt////4RMABmBSj4NgwMOGHBsHhdcLrwbB4XXC6+F14YcLrww4Ng8MOGHBsHww4Ng8AUC4AoMQMC4fgw3wutV4QIsAgFYIBWCCVgHeVgHeWABCwAIVgH+YBwB5aRAstKgV6Ba1oMg9avtUVN/qdLWciD/cqD3Jg6DFPuTB/////lYAn//mC8C+YLwL5gvgvGC//PkZFEpLgMKYXt2xB5LogAArbdc+C8VgvlYL/mC8C+YLwL5YBfMNgNkwXixDWoHPMc4VUxVA2TBeDZPYXzXl815fK14sLxYXvK1//NeXzXl815fMtdDLSw3UsMtLCstMtLDLSwsFhWWlgt//8sFhW6f/////+WF7zXl8sL5ry+Vrxry+WF/wMLwX4MC+EQv/AwvBfAxsjYAyqpKA0lpLAwvBfBgXv///4RA2DANAYGgNgYGgNgYGwN+EQvf/BgXwYF//8DC+F4Dd6NgGBf4AgFwbB0MMF1wuuDYMBsGwusDYOBsHA2Dvg2DQuuDYOhdcMMF14YYDGYDEGwfhhgbB0MN///4RBaEQWgZByoYRWYMFvwiDsGwaF1gbB34GDwdC64XW/w1aKxDVgatir4YcLrQbBwNg7////////////+ESfgZPyff/////////4MFmBvvMAERZ8CC5adNj02E2S0qbCBSBZaYtN///oFlpU2QMXIFAYuQK9AtAo7IxLTpsIFJs/5aZRxQawaxGfIg9CsrI+PUqkWdOHp7ODsOl6cOHZ4dsulfLI9/8BAAgMBACsBLACVgBjoAWAE5OTM6WDAR0zodMdHCsJLASWAjzCQgsBJhASWAjysI8wkJMICU//PkZFkeqgcaYDd1th6DogAAqCuIxQwtDA5MdMULgyY6YqnXqdep5TpMdMVRNRL/UT9AN6jCiSjKAZRNRhAMomgFQDfCIJwYCQiCAiCMGAkGAgDBJUA3eVAMEgj////8SrDFIYqh5g8kPMHkDzB5OFkYeYPJ+HlDzB5+AYVQDibCyIPLLEZIsjIliWS0WywWyyWuWCyWJaLZbLJYDHgLAItFvy3///4eYPKBlQTh5QYEODBb//hhoNg7/C62DYPFUKwKsVgNWBq8VkVcVkVUVYrH//hGff/8Iz8GT7//////wiX4ML3gwvgwvf4ML3gZeqoHVGyBl4vgZfL2F1oNg4Lrg2DcLrg2DQw0Lrhh8Lr4YcMNBsGhdcGBcMOGGAFGAGMQsF1guuGG4XXV/4uQXOLmF1kL/8lCXkuSk4O8/FzHzuP0hIucf/CIFAMCgFPgYFAKAwCgGBQCgGHYO4GBVM4GgQI4RCMEQKQOtQjUI1CNcI14MqDKwDIAGQDzh5wsjDyw8uHmDzYeUPN+DEYRRhFEIowYgDQgIhWDApgwKAwKQYFAYFQMKkYDOxHAzsRgMKBUGBX/h5v+Hm4ecPNh5A8wBwjhZHhZAHlDzBZAFkAeQPKHnCyILIAsih5QsgDz//PkZLQgIgsMAFp1xCGLogAAA2rkB5w8oeYLIQ8kPMHkCyGHnAMKoGmAgFkUPMHmDYAtfHPHNkr/JYl8c8lCWHPHMkqSo5onMAkBDnfJX//8IgDBgBhEdAaxSQMHUGAEIgAV4risCcipBOMVRVBO////hEvAxsAwvf////8MPDDww4XWC64XXDDww4YcMPC6wYb/wYGgiGwMplMDYhTCIaCIaBga/////8GA+EQdgYPB4MB4GDwdhEH8Ig8Ig8GA6EQcEQf8DBxlBjoAweDuFwgCQXiL//iLiKCKCL4XCiKRFwEgoRT4iqpMQU1FMy4xMDCqqqqqqqr////xuDd8fv/DVwrArEIg6EQdhEHAYPBwMB+ERYBi0WAwWAZ0FoGLYOB+JfgZ0FoGdBaDBYbn+WHm9xW7/Nzzc83PLDzc8reWlA7S0oHamx//6BflpU2C0qbBaf/8yk/ysn+VkMhTKQrKVk8yE8rIVkKyYsAn/5WC+YICmCApWCGTkxtKMcVWlgFMEBTBAX////0C0C0C/////////LTFpvTZLTlpv/0Ci0xaYtOgWmymyWkAxcWmTZTYTY8tMmygUWmLTIFpsFpv9NnywLmLCx2RgWmQKTZ98UjnzZ1/++D4M6/////3//PkZOgjIg8IAFcbxCaTogAAoCuIzfJ8vfJ8Wcs5fBnD5//++L5f////////6nCKv//+o0o0FUYwqDNGCwgUMKC0VVGkVv//4Yf8LrxVCriqDVoasDVuKsNWw1bisBqwVkVkVX//gy/4YYMMGGhhgwwNg4LrhdcLrAYWGAA0zBsH4Ng3C6/////4MAoGBQIDAKBgUCAwCgYEAsDAoEAwKBAYBYMAoGBQIBgUCYGBQIBgUCwiBAYBYMAoRAgRAoGBBMBooCAYFAkIgTEUxFv/EWxFxFhFoi0LhQuFiLCL/EWqTEFNRTMuMTAwqqqq//////8TWJriV/hERAwRgYiEYGIhGBmIRgYiEYMEQMEcDMSiA1GYwMR+UDMTkA7KIgMRGIGGM0SIrRGjRlhEV4jxov8rR/5YRFhEdQSViCsR5iRJWIKxPlgQYgSViSsR5WJMQJLC78IiKERF4REeERGEREERHwMRGOBmIRhERhERAwRAYiEQGIhGBmIRAajkgG5TEEREDBHwYIwYI4REXCIV/4MCmDArgwKAYUO/gYVCkGBUGBTgYUCsGBUIhUDCoUCIVBgVBgVBgUhEKQMKhUDCoUBgVAwoFAYFcGBQDI6oA5+qQiFAMjBUGBXCyEPIFkOH//PkZPMj6gr6AFdVwifkBdwAoC2Ilh5/8PPh5Qsih5IeUA0TAZrE8PP////wMRiIIqID8piAxEIwMxCMDEQjCIj//BiIDRo8Iogii/4MKwYVhEoESkDEiIGJEgYlfBgmDBIMEAYgSBiBIREAwSERH/8I7wPfuCO4I7v/8GBvAw3Bv/////gwN34RBuBg2BuBg2BuBg2BuEQbhEG+EQbAwG4MBtwiDaDAbhEGwMBuDAbAwG4GDYG8DBsDcDBuNwDRWDcIg2AwbA34RBv///CINvCINgMRIN/////wiG4DDeG+TEFNRTMuMTAwqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqq/zB4OLAP8rBxWDisHlYOKxb5WLTFgsMWiw18LDOnjPxZoxadDOgsLAtLAbKymVhsrDZWG/LAb8w2GywGysNlgNFgNGFwuBQuWnTZLToFFpisLJsFp0Cy0voFAQLFZkMCAQwIBCsC/5WBCwBCwBCwBCsCeVgUwIBCwBDEwEMCAQrAhgUClgCFgTlgCGJgJ5gQTGJwKWAKYFApgQTGBQL5kY0HMjQYnAhWJvKwIWAIVgQrApYAhWBPBgECIEBgE/8IgXhECQiBAMCkcDEwEwMCAQGAQIhoIhsGBsIhvgwN//PkZN4irgr2AAOVqiUThegAnCtMgwNwiG/8IhuDA1hENhENgYbKYHb2IBhoNhENAwN////8IhsDKZS////8IhuBhspgc0KQRDWEQ3///CNf4GAIMDAwgAwAAwhAwAwYAIgwiHBgAMAYGAAGHv///CIBqBqESDEIgRYGoGHBiDEIgGoGgMAYgxgwgxCIETwYFYMCoMCuDApBgU8DCoU//gY3G//wYFOBhUKBEKQYFfBgV8IhSEQoBkYK8IhT/wMKhXBgUCIU4RCoRCvgYVCsDCp3A1SqAYFAiFP////gY3G1TEFNRTMuMTAwVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVgwCAwCBEC///////8IgUIgWEQIBgUCAwTQMCAQDAoEhECAYFIwGaRMBotWAasdwH/KqBmhFgaKI4GRgKVpjCBTCBPMJHNMFMIFKwnlgJ5hUxhUwGWlpAMuMuWLTFpvQKQLQKLTIFJsoFIFFZb/8woQwoT///MIF8rC+WAphAphAppgpYClgsmwBC6bHoFFpUCi0wGXFguWCwFLgUsgX6BZaVNj0Ci03//+EQKEQKEQLCIFAxMBcDAgFAwIBQYBODAKBgUCAYEAuDAKBgUCAYFAgRAngwCgwCwiBIRAmE//PkZN4iogj2AFdVxiUrhewAhOkwQIBgQ0gbOI4GRhOBiYCgYEAv////CIFAyMBQYBf///CIF8IgUDAgFBgEAwIRwMCCcDEwFAwIBf///CIEQGMDGEXCKBpCIDCEQDCAsYInDFQMMAuYSoTQMVfBlf//+DKfBgAiGDAQMIMIgCIQYADAEGAgwP////8ItgNu2/8DAAAiABgHhECBgQGEQARA8GAeEQIMABECEQIMAwYBBgCDAARA4GAAgYACDAARAwiAgwDhED4RABEBCIGBgDoH2dgZwCBgAP//BhX/+DCiTEFNRTMuMTAwqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqF1ww////////hdeGGDDBhwjeF102E2fTYAowMLjE0zTDfyyMYjEDJTwMLSwFi0/gQLoFIFpsegWmyBQsWlQL9ApNgtIWn8tMgX6BaBX+WmQL9Nn02f9NktIgUgWmwWl9Avy06bCBSbJaUtImyWkQKLTIFgYWoFFpAKFwMLzZgwAwvLTIFlpU2fQLQK///4Yf4YaF1sLrg2DAuuDYNDDQw4NgwLrhh4XXC64Ng3C60MNwbB4XWC64YcMODYPCJYDlMQBlwRLg2DOF1v/////PkZM0eKgz0AE+UuCnLFfAAk3Fsg2DAYX/ww//4YaGGDDhdbDDACFwMuXA2DADlygusDYOBsGhhv//wNU/CKQusF1oXX+F1wuuGGC6wXWDDBdbC6wXXhHv//4AHIFgC0BZAA4Ba4FkADwFsC3AtQAOcC0BYAtgAcAA9+BYAsgW4FvgWOABwC1oq+it4RT0VVG0VFGkVywo1/RWU4U59TlFb1GvRX////QK9Nj/9AtNn02fTY9NhNlAr/QK//TYTZLSJsIFemx///oF/5aZNj02U2C0yBaBfoFAS6bKBfoFVTEFNRTMuMTAwVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVQiA8GAO/4RAf//////wYA4GAO+EQHAwB4GDoB4GA4HQRB0BhlDIBpEAcBgPDIBgPAeDAHIFAYuLTpspsJsFpi0haRApAtAstIYKClgF/ysF/ysE/ysF//LAJ6plTlYC1ZUypmqtWVK1VqyplSFgBaqqcwAAVIqcrEBAAKmMBERCQhwD5iICIQEyABMAABBVGXF4gIA4DLAAWAEQgLVSsBaq1ZUv+YKClgELAJ////5YBP//LAL5WC+Vgn+WAX/LT+gW//PkZMIhLgrsAFt1yiD7FiB6A9qwmwViybCbCbCBSBabCBSBabPpsegWmwWn9ApApApNgCGBmEwWlLSpsf////hEHgYOB3////4GDkiBxMHhEdgYOB4GDwcBg4HW23gooFYHd/+BnAz8O8Vv//FaBm4rBWh38es2zbAtD1m2PVBqBrBqBrAF7AF3/5el84MkuHTgyy+dL0dRnEajMIyOn8RsZ5HGG/kbIpHIkYUiD0y2WctlZaWSwrKx6FZbxnL54ul04eLhw9Ol84dl86cOHT3Ipb5Z8qKpVx6/j0EkLctVTEFNRTMuMTAwgWQLQAHgLf/////4Fn+EQESEcIgInCIRW9TkrCzH0YIjjWtI+YeCD0woLCBQwsKRWUaRVCBZFZRtRtFRTlTlThRtAr0C0C//02E2fTZQK/0Ck2f9TlFRTlTlFT/9TlFVFRFb/9ThThynIQbWkAREue5S11rKdlkDEVABh61ExYPU+tOD4MQgcn4iwigivxFRFoXDcRQLhoiwioXCeAkFBcNiL8RURQBIKEVEWiLBcKIqIpEXC4QReIoIpCIKAQMxFAFAsIuIr/4YYLr//ww4XWBgwC64XX/hhgw3hhwuv8MNhhguvhdcAUYgaYTAAoWDDg2DQbBg//PkZPYe6gzuADd1uDKsBhBAe89cYYdGjtDT2hDmlD2leaOv9oX0OX/0NNLplNf8ewakNWGrTfTRpphNJtfaeh7T1/tStdtTpqN532lpX/1/kmQ5eaf2hoaV9paGleJAvd0rer2pWu1ar2vk56vVrV5Hj1Nop+/lfv5Zpkem5kX/2vtata2rq783nbvtbW6VjW6a2rq13+rO6VysV58K7tbp0ru6Vrtqa1a67tr6sau1ulYrnfa2v927Vrt21NSuN5X927/D4diAQANh4gEIfxB+IQG/D/4gDw/iGIRD+HRATEFNRTMuMTAwqqqqqqqqqqqqqqqqqiIEK/ititFX///8VcVuK38VsVhXBOQTpq/qm8QCAcBmIxgdfFZCHECpxFBFAuFEUC4cLhsRTEVEUDVoDQD+KrFYirFX+KwKoVgVUVUVeKwGrhWRWBViqFYDV4rMViKyGroauBg/A0YThVgNAEVQqw1fisis4quKxxWYrAatxWIqoqg1dFYxVxWIrAavAaAArIrAqoqhWYrIqvxWMVYrARCADhcKoVYavDVgqhV4qorIrHFWKuKxFViscVUVYasAaAfFY/4YcMNhdfwuuGGC64YfDDA2DwusANygbBwAxhAECwNg8MOF1hD4//PkZOkc4g7yBjd1sDNkDhgqYwtcYoUyiQ0NCkxQ0NCQkSIbGKIyRGEo5mUaNEhGKEHMmaGhI0UokORvMmZmZSZSiMZQkRnKKZkzRoSNCQpQ0NEZoaNFJkhh3KOUJEhIcoSJCQkIzlDlEjMDMyMpQ0JCQzNCRGaNCRISEZoZihoaIwlEHKNGiMzFEjRmSIwlHMyZmcyiGyMxRyhIkIxRSZokSEYGBkiRojAPESNGjQxvKHMmMoSKTJCQkIwlFKLDYWGhoZhYWAAUGBsAwsMDYUAcK4XDPhQVwwLAH/DfgHC6TEFNRaqqBgjwYI//wYI/8GCL///+DBFhERgwRcIiPAzGYgMRKIDcskBgjAxEIwYI4GiRwNEjhFH4MRwYjA0aOEUf8Io/BiLgxGEUYRRQij/BiKDEYMR+DBGBiMRQiIgYIwiIwYIgiIgMRGIDUSjhEReEREBiIRAwR/wYI/8IiP4MEcGCIIiOERH8GCIIiMIiIIiODBHBgjBgjwiIoREcIiOEREDBFCKiAxHJcIiMGCMGCLwYI8IiPhERgwRAwRAYjEUIiIGCP/AxGIgiIsGCL//4REYMEXhERBERhExhExAzyAZiEWDBGERGeKsVsVRVFcVwTnFcVxVgnYqipFUV//PkZPkcfgzeAFaVxDgUBgAgatvIYrgnYqgnQJyK4riqK4rwTsVor4rQAjABAgnQritFSKoqQTsE5C1haxfF7F4XQtULSFqC1i4LwWkXIWkXRdF+LwqAnME4iqCdwToVuK+HAERWAkAlgJB0OB3Doc8OYc8VCsVgIB3DuHAERUAkAkHMOBwOAIisO4dwEAEAEg6AkAl4CeHA4AkKhXioBIOiv8OB3F+LgWkXxeF8XouxcF0XBeF8XBdF8XhdAdouC8AEsXYWsXOKsVBU/FaKmK/FTxXFbFUVPiv/8VfxXitVTEFNRTMuMTAwVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVAXX/8MN/wwwYf//DDBh4Yf/+DYODDfCIFAwKBQiaANFgUDAgFAwIBcADwFuBY/At8C1wLfgAdAtwLGBawLcC3AsgWeBYwLX4XW8LrBhgiFgMlhYLrhh4XWhdb8MOGGhdcMP4YaF1gw8LrwuvhhoYYLrYXWDDBdcGwfC60MN/ww8GwZ4XXC64GZQsF1wbBnDD4XXg2DcLrBdaDYPhhgusF1uGGC64YfhhoNg0LrQwwYcMNC62F1/g2DYXW4XXC6+GH8DTIW4YeB/wR/wjwR+DP/y06bJaRAtAtAtAs//PkZNwY2grqBFW1xDhTRegABLBstL6BRaVAstN5aYtN/psIFf5aQtIgWgUWk8tImyWkQL9Avy0qbKbKbJaf02f/0CkCy05adAsC3K7+mx5aVAv0C/TZ8tOmymwB2pspsFpPLSlpy0qbCBSBXlpk2E2E2C0paUtP6Bfpslp0CkCy0ibJaZAosWQLLTJsemwgUmz6BZaYtOgUWmLTpsJsoFJslpPLT+mwmz//6Bfpsf6BSBSbCBXoFeWk9NhNhAr0Cy0/+WnTZ8tJ/oFf6bP+myWn//8tMmz/lpf//////8sPTEFNRTMuMTAwVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVBgJwiCYMBP//gwE//////wiCAMEgkIggIqIDKpUCIIgwE8IzA4j+EYhGAZMIyDJA5gGRhGcIyDIhEQiIGAgwIRDwiAGAAwYMHBghGAZMGRCMhGYRgGRA5gIyDIwZPBk/wZIRmEY/gyOBxIMgIzCMgcTgwRBgjwYJBgngwTwYJhEQBiBGERMIrwOouAxAgGCQYIhERhEQDBGDBAREgwTCIgGCQYJgwSDBHwiI4MEAwSBiRHCIkGCYGJEQiI/Bgn4REYREeBiBIH6XhERhETwogoy04mpZibFmJuWYmx8n//PkZN4ZrgrkAFZUyDcjofgAA9qc0HafZ8HwNrjaG3xtjaDtJwTo+D55Ow7fxNRNSyLPlqJsAr/lmA/FmWYm5acTQVgTkVQTnBOQTgVxVBOBVFWK4J3FUE7gBABOwToVQTsVhUFcVRXBOhUBORWiuKkVYrCqK+KoqgnQrAnEV+K8E7FQE5xWBOQToVQTsVRW8V4qRUFYVgTsVhXioKgrCqKwqAnYqCtBOhUioK+CcisK8VRUFSKnirFQVBVFcE6FcVoJwKoqCrFXFUE7gnAqiuCcQTsE7xU8VP8VYrgnYrCuTEFNRTMuMTAwqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqn3/l/J/8vHL5f/BhwCETgGpIDOATgEIOFoDcHzgEIDgC+pG7eve1S/6tat7rXupDXSStWoIpGS4TSMQNIySMwpIyAaRkkZ8GJGdBtbwYkZ63tCKRkoIpGWDEjLCKRmEkjOvsEUjJOsIpGa6bOrgxIzsEkjIGJGYUkZVKCKRmqoDkgEjMJJGSYMSMAikZJ3qhp0dq9ru3X1I36FujPbXuxwKbr//waABfg0AC6DUDUDXBqBoAmQawJiGrhqDUGoN//PkZL8USgKcAAblrroTgfQAbhtQAag1QawaYNIAuQa12Lv9si7F2NnXa2Vsi7i/DZl2tlL9l+vL8tlUTUTUTUYQDIBlGUAyifqJKJqJ+p5Mf/U7TETEU7CxkxVO1PKdqeU8u4vq2ddnrsbM2Zs/tl9s67V2NlbIu5sgaA1Q14ExAmAaA0BrDVDXhpgTPDQGuBMA0gTKGgCYgTHDQGrDUGgNcNQaw1hoAmcNIaRIAtALVEgC1gteI8FpBaBIAtcRwkAWgFpBaILVBaIkAWgRwjhIiPEeDXwa/4NUGr+DRwaKBgX/8IhP//wiF8GBMGBP/wYEhEKEQmEQuDAoGFTAwLgwLhG/4MvCM8GSDJCNwZQOXg2DwbB8MPDDhhuGGBsHhh8Lrf4MCQYFCIUGJgiE8GBQMIFhELDDhdaGHhdYGwaGGDDhhuDYMBsHg2D8MMGHBsH8GwYDYMhEKEQgMCeDAsIhAiFBgQIhAYFhEKDAkGBMIhYGEC4GFCBELgYUKDAuEQsGBQMKEwiEBgUGBcIhQYFwYFAwgWDAoRC8GBAYE4RCgwKEQvhEJgYUIBhQkIhAiECIUGBIMC4RCgwJCIUGBAiFgaYLwiEA5cGXCNhGBGwZAw4Ng0MPBkqNqcoqorlh//PkZP8cygrkAFI0wjo7lfAAjhq4SnPor//psoFemygWmwWm/0C0Ci05adApNn/TZQLU5RU9FRFVFdTn1OFG1Gywv/UbUa9Ff0VoFgCwBbAtQLUCzAtgAchHAN8ImAbgBvwDd4RwjQDeAN8I0ImEQEQAbwRgiQjBHhHAN0A3vgG6Ab/CIhEgG5AN6EQESAbmEYI4RABvYRoRABuYRgDehEQiAiIRABvcA3QiQDfwjwDfCICPCJCJCJ4RwiYRwjBEwDehEYRgDfCNCOEQEQEcI+BagAd4FrAscCxAswLfwLAFgC1wLNVMQU1FMy4xMDBVVVVVVVVVBlBkwO3wZAZMIz//////+DJwO0IwI0DsA7cGUI34Rn4RgMuEZgywZQjAZP/hGAcmDKEYDIB28GQGQGXhGgcgRoMgRoHYBywZAZYMmBygyQYFCIUDChQYE4MCgaYJ/gwKEQsGBAiEBgXAwgQLrhdcGwcGHBsGA2Dgw4YYGwZC6/hdYMMF14YcLrYYcMPDDhdYGweF1oYb4MCwYEwYEgwJBgTCIQGBIRC/BgQDCBcIhAMKFhEKDAsGBQYFAwgTgwKDAoMCQiEgwIBhAnCIUGBQiFwiEBicIhAiFhEIgIoBooGieDPA+4GeDPCP//PkZOobXgrkAEY0jjazieQgBKKIBGgyBGhGhGgyAdoMmEaDIB2gyhGwZYMsI0GSDIEaDKB2QOWEaDKB2hGgygcoHYBygdkDtgygcngyAyhG4MgMgRgRmDJCNBkA7QjAZIRoRoMuByhGgyAyAyhGwZYHKByAcgMgRoHIEbCNCNA7fCNA7AZAO0GSEYEaDLA7cDthGgyAyAyQjAOwGUIyDKEYEaEYEYEaEbA5AZQZAZAZIMgRkGXBlBkCMgyAyQZYMngcmEb8GUGQIyDIBywZAZOEZhGBGwO2EbwjcI3hGYMqTEFNRTMuMTAwqqqqqqqqqqqqqqqqqqqqquDqz8GMDQIvBj///+DGDEGAMAifBj8IuEThFCIEQGPCLwiQYBFCKESDCETBhhGAZGEZ4MjgcSEY4GoRQigxCIEQGPCKBiBrgxwiBEwMIRAY4MQNMIkImDEGIRYMIRYRAYhFBjwYwNQYgwBgBh4GAMQiwYgxA0gahFBgBjgYBFhFhFCKEWBgEWEUGEIgMQYQMYRAMQigxhFBh4GkIgRIRYRAY4RIMQYgYhFA18IoMQYQihFhEgwhFCIDEGIRQieBiEUIoRQYhEwYDAFwGrBog0waAaQawacGsGiDQp9MZMVT3piJjJjK//PkZOYZBgjoaUJQ0DprofQgbhq0dep71PqeU69TpMdMVT6n1OlPKdJjpiKdFZkxlPKdJiJj+mKp/0xFPBoAmYaw0BpwJhDSBMQ1BqAmIEzDSGgNXDRDRhp+GsNMNAEyAmYagJkBMA1BpDXAmECZhoDXhqAmYawJjgTICZBrDSGsNAExDVDQGqGgNHDWBMIaQ0BrAmcCYgTHAmIEzDWGgNYaOBMw0BqDSBMYaA04aA1hqwJhw0ATKGqBM8NYEz4aQJkGoNMNIag1+GsCY+BMQJlDVw0cCYfDXw1ho4aQ0gTCTEFNRTMuMTAwqqoD37wjuhHf/////hGf////hHf/gycEZwRn4MnYMncIzsGTwOdOA507A507hGeEZ8GTuDJ4Rn4HPn4Mn4RnhGcDJwM3YM3gzdBm6DNwR3QjvA927Bm//Bm7Bm/Bm8GbgZvBm4GboR3gzeEd+DN8GbvBm6EZ+Bzp4Mn4HOnBGfA588IzsDnTgZPCM8Iz+EZ/CM4DnTgOdPBk8Iz4RJwGTidBi7AycTgiT4RJ8GE6ESdhEngZPJwGTieDCcESfwYToMJ3AycTwiTsDJ5OhEnwibwYb+ETdwibwibvCJuwYb/4RN/Btf/jYGyNv8bHLUtSzE0/LQBW//PkZPQcHgjQAFKVrjfDmgAge1eMLITcshNy1LX8si0LUTQtCyLQTUteWQmvLItSz4mgmnTJops0umEymDSPsnR9HwfB8k7Pvn0fAvwtcLXF/F+L4vQtQWuFoC0BaReF7AeBfwtcXBdF4XheFwXAtAui9C1haRdi6LwvirgnUE6FcVBVisKgrCvioK+KoqiqAhh3AQFXhwVYrFYCWHMOioVAI4dFWHPDgCAdDgdDmHcBIBEO+HRWAiKsBMO4dFQCAdATw6HBWHBWAgHBUHMOf/gICsOCoV4qw7+KxWHA6KhVTEFNRTMuMTAwVVVVVVVVVVVVVVVVVVVVC11Fz1+NP+/Xkqpr9OfuhQ6lZNWf+XsZc/si+KNoOj/Ntai9j7IISgZAklTqQhjToNTeQoreRdaSDODWvYAVFaWWkQmVuZPP8bRUzq896vc+XS6mm5gnnW7JLnV4z9N5XnW4k86x+uyHyxnWkmdborzraff2SvOtvljOtjd/5XRW8MivOsry/K3gUzrFPS1eFTOttTsul1+lLGdbV3c53h51mdbK7xPOr1SpnWlM63kedZnV4XPK86onnW7myrnWTmRTOqascoabXd/L+yuzS95dv1efjhl92ntYyTuIb6wuWRZFmWRa//PkZOcb/gqMACDf1LTLofggA9qc/gKRZiblqWYm3E24moSQnR9BJj6JwfBaFqWZZFoWvLUshNPxNuWn6bTZHgozRTSaNAY5oGjFQVgTkE6FUVorioK8VBXBO8VRUioAhxVioK4qAnIrYrCqKsVRVBORXBORVFcVcVwTgVBUBORUisK4rCoKwrxXFYE4FYVATjFcVhX4rcVBVFQV4rxVFSKwqCpFcV+K8VhXFYV4qivFUE4FaCdivBORUBOfBOgToE6FUVYqisKgqCtxWFbFQVxXisKgqRU4qioKuKwqCvxVBkH/4Mgf4Rg4RgfgxZBizhFYEVuDFvhFbBi3CKyEVsGLf/4MgAxaDFoGsWYMWgaxYBrFngxaDFnCKwIrAYswNas+DFgRWYGtWYMWBFZgxbgaxbgxZCKwGLIRWgxZCK2EVmDFmDFgMW4GtW8IrAYtBi3Bi0GLAYsCK0IrQit4MWeEVgRW+DFsI9cDW9AYtgxZhFaBrVgMWgxaDFvCKwIrIGtWhFaBrFuEVvBi3hFZA1i0IrYMWYMWAxaEVkGLAisCKzBizCK0DWrIRg+EYIRgQjABkHwODABkDhGDwODBgyAEYIRoRvww4YcKILYKILfhRg5htjY4OQbQ2hNAH8su//PkZP8cRgjWAFAUYjwDofQAi9pcJry1E1LUsuWvE2E0LQTcB+E2LMTctQFEEcWnFYVwTkAI4rRWFYE6BOhWwToBBAQgnIrisETANwIiAb/COEQEbgG+EcA38A3wjhGCMEeEaEeKoJwK4J2KoARBVBOIJ1FWKoJ0CcCuCdRWFcV4rioK4rAnYJ2K0V8VYr8E4xWFUVBVFQE6FXBORWFSKorxVFcVwToE5wTvBOoqwToVIJziuKwJxAQgnUVBUgnAqQCaCdxWirFaKwrRWFcE7FfFeK4rgnIrAnYrCoKoqgnAqCrip4qgnCr/////8Iu8BjvP4Ry5/8Izggc4Zw4RnD/hGcP8GThBk4eDJwgycIMnDwjOD4MnBA3eu9hF3kGO8gx3vBjvAN3jvMGO8CLvAY72DHeAbvXe+DHehF3kGO8gbvHeBF3oG713gG713vgx3oMd5BjvAi7wGO9A3eu8BjvMDd470Iu9wN3jvQY7wGO9wN3jvIRd4Bu9d6Bu9d6DHeAbvHewi7yEXecGO9BjvQN3rvIG7zykGO9A3eO9CLvYMd6EXegx3gG7x3kDd470Dd472DHewY7yDHeAKomwmhZFkAof8tCy4m5aCbcTUswFYsy0/LQTX9NBqBgJgYaY//PkZPcaTdCuAFgWlkI0DfQAe9r8Jxz6CShr8++JsArgjxNBNC0LQsyyLMsgRxallyyLIsi0LUTUtS0AVwFPia8si0LMTXiacsxNizLMTYTcsi1LMsy0E2LUsuJqJvxNyy/E1LMteWgm4mpZlkJuWRZFmWnLQTfgncVATkVcVQTsVIqQToVxWFeK4rwTmATCsCcAnQJyKoriqKwrxWiqKoqwToVRWBORWBOBVFSKgq4qAnAqAnArRVgnIJ3FYVQAgCriqK4qYqivBOsVoJwKgJ3FYVBWFfBOIqCoCcivipxUFSCd4qRV4rCvFaCc/BOhW8VxWFUVhX4r1eX/+DHgaYMOEX/CJgwwYQY8GODH/wYf4RAiQiAxCKBj4GAMYRQiwYcGEGMIoMfhECIBgEXAwCJhEA1BjhF+BhCIDEGARYGoRAYgxCLwYeESEUGMDEIoGAMAiAwBiBrCJ8GMGGEWEUGIRYMAYAxCKBiBgBqDDA1wiBEBiDAIsGIMANANMIoMAYhEBh4GMGMGARfAxBj8GAMANYRAYBFAwCIBhgYhEwNQMYGIRAMAiwNYRQi4RQYwYgahEBiBqBgESEUIqa6Z6bTBpGkmUwmkwaZpJlNCkifmkaaaBymgm0wmRPxSDTTa//PkZOYYTgboZUAQIkCEFgAAe898YTZpJtMJhNilphNdMJhMGgmemDSNJNmkaX6aNJN9MJhMc0E2mzSNJMpg0umU2mDS5oJlNJtNJnpg0DSTBoml0wmzTE8TRpGgm00mkzzRNNMJg0jQTSb/NFNdNGl02KTzRTfTPTSbTKZNLphNJpNmgmUymkwaaaTKZ/TSYTBoJr/ifptMpr9MJlNptMpg0kymumEwmf+mEwmOmkymTT5ppv80eaHTCYTHTSaNBNJtN80/0yaBoJo0k2aPTPNA0OaSaTJoplMJv9MgBAB4MBUGwbwVwUBkFAYDAU4NBoMBqhAELk//h/y1/vz6/6zMnEglwqnIsVSHBzAMMIqXiLgxS8ucoLCKl7VwipeupwYpeAxS8Z22hSl4U+qE1L2goKUva1GUJqXqwkpeAxS81IQpS8smBqXql6E1LyEVLxdEJqXoSUvAmpeJhFS8rpH3CKl6EVLxPWFKXgDUvVL1LCal4kuDFL2EVLxFlPClLyEVL2FKXhdwYpeswGpeqXkGKXqLAxS8wYpeqWk8KUvATUvQYpehJS9Bil6yoUpegipeZT2x1vN5NR2X3KrRuXjFmaS0AUCyE1BHflmWZacTYsvy05ZgAIs+WQCqJoWZ//PkZOwZ+gaYBgbm6EQMAfQAe9r8ZCbiaFkWv5ZibialoArlryyDtCSnyfR8hrE7PpNmiaIxDTGKafTJalqJoJoWQm4mnLUtSzE1LUsxNyy4mpZlqJpy14mgD8WpagKvLIEcJuWnLItBNhNhNxNgH8tSyLMTflmA/iaCaFqJqWf4mxZFmCdCvFWKwqivgnQJzFfwToAIwqgnOKgqCoK4J2KwqisKwJwKwqCqKgJwK4rYqirgnIJ2K8VhVwTmKorYrioK4JwKwrRWFQE5FUE6BOwTgV4qYqiuCdAnYqAnMVBVFUVATkVBVirioKoqCviuK8VwTjxWFfivFUVxXBOcVuKvFaKoqiuCdeEW3Bjb/gxvhFvCLYGN8GNwi3CLf8DbtuEW//CM7+DG+EW+DG8DbNgi3CLfA2zYItwY3gbZuDG8GT/Bk+DJ+DJ/hGdCM+EZwMnQZP8GT8GToRngc6dBk4IzwZOBk8GTvhGdBk+DG8Dbt8DbtgY2CLbBjYGNwi2A2zYDbN4RbhFtA2zcDbNwNu3CLaEW4RbeEW2DG8DbNwY3BjYDbNgY3A2zYItwi3CLbgbdvA27YGN/CLaDG4RbgxsDG4Rb8ItsI7oR3cGb00m0wmTT6aTZoJgUpMc0kwaa//PkZNcYqeLUAAAUHjw8DgQAe88cYTXTXNBpXiQdfLVpLJoaCSJs0TQNAbRpJpDWleaGlDmlfQ9fQ7tBZoa0IeOw3Ccq44TcHgrufDVzQNA0Om0wmDTNE0EymkymumU2mU0aSY6ZE8NFMmiaaYNDptMGn+aJpdNptNps0OmU0J50wNtMGmmEz/zQTJpppNplMJlM9M8FAYCoKAAApgqDIMACwAQbBsAMGQAQaCkGg0GgyCkGeCgNABwAAUgrwA+CoAQNAeHCAOAeAyIQHBwgDg4QYDAGgMEEOEAeA0Q4DxAHh0PEMGYMBsFQYDPgoDMGQV4NBqryAZfhGfwjMDl4Rv/wjcGT/4R/CPBH//hH4H3gzv4M7A+/gzoR4GdBnAf+DPBnwj4M7BnwivA1QIpCKcIpgaqDFgaqBogMWBqgGqgxQinA0XBi8IqEUCKBFcD7/CPwj0I+DPA/8GfBnQZ8I+EeCPwZ4R6EfhGcI0GSDIDJCNCMBkgdsIwGQDkBk4HIEZgy4RoHZwZQjcDtCMgcoRgRoRgHKDJBl4RgHIDKDIEYEaEZgyYMoRsIwGQGQIwGUGUI3A5AZMI2EaDLBlwjQZQjAjAZQoqIqqN+pypx/qNIqoqqNKNKcqchwGrCAPqN//PkZOsaCgjiBUZRnkhEBfAgw9tw+iu1RUqp2qNUNalOVG1GkV/U58sLU48sLLCiwFU4hAYA+qQQgasVhVIYQNWKwmAKpvasNoHIDm4OQHIDlGwNgbH4D+JuWQm4mhZFoJsWgm4I4TcbA2xtA5ODnGyNoHJ+NgHKDl/LMBXLUtS04mvLQteAqCaCbFoWQmha8bQ2Acg2ht8bI2RsjaGyNrjYGwNvjbByja/GxFYE4ipBOIrwTiK4J2KuK8BAK4rAnAJwKkE4FYE7FUVgEIqgIRVBO4qRXFQVBVBOMVwCcE5itBOoqAnQqCpBOIrxVBOoJ0KwJxgnQrCuKsVBXioCcCqCdAnYJyKsVYqipBOgjwiAj/8InhH4RMIkIioAC4RiJCMRP////CNk//Blkv4M6F8I9C/8GWT/8I2SwjZOEbJQZZIGWShGyYMsnwj0P///CPQ/hGyQRsn8I2SCNkgOyVkoMsnhGyQMslCNkoMsl4MsnhGyXCNk4MsmEbJ/wZZP8I2SA7JWTgyyQMiKDIieEYiAcRIihGIkIxFwZEUIxEA4iREgcRYihGIoHESIkDiJEUIxFwjEQIxEwZEWDIihGIoRiKEYiHcYJRIr9kzDmO5cIaApXE/NA0TTTKZGym/0//PkZMQWjdCsAwAWCsQ8Cfwoe89cyaXTKZACgKxsmybQFQCyPQPUbRtA9x6QAoegHKmRtClpk0RSkwaCYE/GyaaZ6ZFJTaaTCbTabTBomgmk2mxS0x0waSaTI2gcgOcT0T5MiedM9M9NCfCeGgNhMJlNJoT1MdNJhMjaNPptNGkmhtpnmgmv+KQmRSE0aaY6ZTKZTRoJg0U0aBopg0emU1/xPzTTaa5o80DRTZoJs0TRNEUhMikJs0P0x0wmkwmUymkwaKb5pppNJg0OaInhpGgmeaSbTBp9N/ptNJo0DTNAbOCkGAwGABgA4NgwAAAMAPBgAQKAyDAZgoCkFINAABWAEDAUBTAABgMBTgqACDcGAAQYDAUqLUlVt///+Bj4MIRcGH/hE//hEwY/wi8GPBj8GH8IgRcIv4RYMQi+DAIsIsIn8GHCLCJCJ/BhBgBpgwwifhFhEhF/gwCIDAGIMIMAMQYBFhFBgDH4GAMQiQNAYAwwYBECIAMIAMAAiHBgAMIAiAIg4MABgABhADAhEAGAARCBhCEQhEIMABh6EQAwIMABgCEQwMAQYD4MDCIcGACIQiHwYGDAhEOEQ4MAENB8hJD7PsnXJ0fZ98+D6LItQR3PgnZHmgPYYRopk0xj//PkZMkU/gLsKkITrkL0CfzIetvgJtNdNGkmkwCPLITf8s+WpaFmApAjgFUsyz49jSTCaGMmkyaRZlkJsWpaiagKBZlmWomh8c+CdcnROj4Pk+Akh9E6DsJ0fJ8c+OTs+idk4J2Tg+j7Pr8nB9nwfAa59k7598+D74Sk+eEkFQdDmKsOhwBEVYCeAiAmAiHcBEV4CYCIWmCHF6FqC0haRcF4XYvxfF2LwvC+FqC0xcC0C/FwLSFoF0XBfi7C0xei8LwvcLQLoWoXheC0BaIWoXBdiNiMY6cZ8RkZxnjqOojAz4zx0HUdBGozjoMw6iMjpxdi+L4uC5F/xd/haIui/bZ/+DGBp4RYMQYgw8Ivgw/CJ4RfBh/hECKBgEUGODH8InhFwY4GoMcIgRIMcInCIBrBhCIESESBp+DEGARfhEA1gxBjBj4RAYQYgxgYwiYRcIgMAiAwBjCJgYAawYYRQMQMAYhFgagYhEA0AxA1A1CJBhBgEXwMQNAihFhFAxwYAwgaYMPCJA1hEBiBrwYQiwYwiBFwYhFgxgawihFCLA0gYAwCKESBoBpCJ4MIRcGOEVB9ALR8BJj7/PonB9HyEoJwfZ9E4Dt5OeTnlqJtxNAH7nwfHPonJ8E759E6PoJI//PkZOAWKgjoZUAQYka0Ffgge9VcfZOCdE7J0To+Cc8JWTo+D7J0EqPoO0+T5PsJSfJ9n0TkJUfJOeTknPPo+z6J2Ts+ycE759/k7Pg+z5J2TonBOeTkJUTg+T5DtJ0Tvk5Pjk5DXPg+idH2HYfR9E6PgnR9k5JyfZ9cnR9cNYJSfROidE6Ps+Cdn0fB8E6DtPs+CdHwfH5OAlR8nyfB98+SdE4J0ff5OidH2TknfPkJMfYSg+Cd8+D6PsnP/JwTk++fYSQO0+D5J0fZ8HwTjn2AWDgdAL8ApALQCkO8GACwMgyAVBiAVhzwY4BeDIMgFMOh0ArDgc4BeAV4cgFsOhz/wP225HGw7wCsO4M8AqHP/+DEGQ7/8OgzgFoM4Bf4MhwO4BT4cDmHcGfDnw78GcVhUFTFXFeKoqYJ3isKuKkVgTsVoqCsKwrCoKsVQTqKorYWoXhfxeF/xdi58XOL4WmLnFYVQToE4FXiuK0VwTnFQVRVFcVhU4JzFfDgdhzBnDuHfALgyDAMQZBgGQCgBUAoDAMh3BkAsDMGcGAYgxBn+HAC0ArwCwMAS5adAry0yBSBfoFBVaKqKwVUVrRXUa9FUOEqVUjV3ySPLkvkzlNlNn02E2S06pvVKWACECpW//PkZN8VDgj+zymq5krb1ewAxJvkqe1XysDVFSqlVIo2o0ispyFVoqKNIrKcqNKcKcFhSjaKiKyKhYWiv6nCnCKijajSnPorKNKcKcqcIrqNoqKNqcKNoqKNKNqNKcIqKN//orf6BSbKbKBSBXlp0CvQKTYTZ/0C/LTxFxFoigioigCLC4cRYRWItEXC4cRcI0IoFwwXCiKwjQXC8LhRFcRcRQRSFwoikRcLhxFRFguHiKRF8E7FYVhVBOgCYVRUACKKgqgE0E6ACJFYVoJ0CcgnQrAnMVwTgE6ioKoRwDdhHhG4RARgDcCMEaEYIiAbwRIRuESEcIwRwiYRwjQjBEgWoFuBa4FngWkIQQigwhEwigx/CL/4RfCKEQGP/wYiEUwYHwYGDAwYAGA4RCEQBEGB0rCNcGU4RrBlcIsGGDCESBiEWDCBhCIEWBiDAGHCKEUGEGEGMIgMAiwigxCIDADQGIRfCIEQDXgYYRfBgBoESEXwY/CJCKEQIsGIRODEGIRQYgw8IgRYMMGAGGDEDGDAIoMcDQIkGMGGBrgwCKDAIsIkDUDWDGDDA1hE4RQMQYgwBhhFBhBh4MAMYRMIoRAiAxBjhF4mhZFpxNBNy0LQTUTXhKglR9FqWpaAP5Zi//PkZNYXkgTkGEJwlkXcDfQAe9r8bCa/k5JwTriacsizBHE6CSH1w7efHLPgjuJqWnLITYTX8tRNAH/ialqJuJuWZaFkCO4m5aE7J2TonB8E559nyEnJyfB8FmJrxNxNhNS1E3LT8sxNC0E0LTlqJuWQm3E15ZiaFqWRZiaCagP5aCblkKoqCsCdioKoqwToE6FcVwAhRWBOIrCpFbgnEVRVFUVIJ2K4rAnIqioKgrcV4riuK0E4FcVQTsVxUBOoJ3FUE7itFYE7FYVRXFUVwTkVoqAnYJxBO4rReF4XYWsLWLoui4LwuC9AdsLQL0LQA9C8Lgvi6LguBahfFwXAtIvQQ4vCqKwrxX/8E5xXit4JwKzBnwj+DF+F1guvBiQYkDRIR8I/gz8Gd4R/wYsGLBi8I8DPBneDPBnwZ/8I8DP8I8B/0Gd+DPA+8I/+Ef+DOgzvwj4R/hHoM+Ee4M4D74M+Ef/A/7gfcDPBn4R7BnfCPgz4M7Bngf8DPwjwR6B/3CPwj0Gfgz+EfBnhH8GfwioRQGIBqgRUDVAYoGiBFcIoBqoMWEUA1UDRYRUIqEUA1WBooGiAaqBogRUGJwigM8I/gz+DOCPwj/Bnwj3BnBHgZ4M4I+DOhHhNCz5aiaCb//PkZM0YugrgAAASBEUEBfQAe9rclmWompZ8shNyzLMsy1LMBUAfhNxNicBJCcE5J0JpyyLMTcBVLXloCO5aCagKACiAqflqWYmvE3E3BHlmArFnxNRNC1LUBS5aFoWhZFmWR8k5CTnxz4PonZ8E5Pg+j4LUshNQH4TYtSzLMshNBNhNSyAViyE0FQE4FYVoJ0CcRUgnYqisKoJxFWAhiuKgrCtFUE7FQE5iqKgqRVFWKorwTsVxVFYE7FTFTBOxVgnAqRXBOPisK4BOK0VoriuK0E5BOxUivFcE5FYE5FQVBXFQE6FQVBVFYVxWioCcCoLovi4LoWiL0LSL+LouBaIvBahdi6LoWgEMFoC1hacXxdC14uipiqKn8VPFbiqKsVb//Bm/+EXgx4RdhFb///hE1/8GLP//CKwIrQjoGa/wPewZqEdYM1wZqDNAetgzWEd8GagzYM2DN4M1wjoI7Bm+DNhHcD3rA9awZuEdwZvCOwjsGaA964M1A978I7hHQR0DNge98I6hHYR1wZrBmwPWgPWwZsI7wjqB63COvgzQR3BmwZsGaget8D3rCOgZoGa4R1gzYM0EdwZsI6CO+DN4R1wZsD3oGaBmwjqEdAzXCO/4R0DNAzYR0WgI8TQT//PkZL4XFgTcAE6Tekf8EfQAe9t8YTXiagKwCsJuWXLMTUtC1LMTT8TYTUJP+fAdomomoD8JuWoCgWoI7iaFkJqJqfZ8hrk4CSE5Pk+Cdk5PgnBOT7JwTg+uWZaiaCbcsgFAsy0LPlmJsWYmom5ZFmWpaibiaAjy15ZFkWQm5Zll+JsJqJvy1E0CThJz65OQlJ8H2TknZOT759k6J3z4PgTQTcsy0LITflmWfLUsiyLITYTcTT8syzLQsi0LMEcWZa8tSyE1LTibibFqWYI/8shNCyE1LQsy1LUTUBTLLloWXLUsiyLUtBN+JqJvy1E05Z8TcsxNeWn/LTnxydHwfZ9n1ydk4PsnHJyfR9E4JwTgnB8k4588nB9cnR8c+D7PjxV4q4r8VsVgTgE4/itFShX/xV4rirxVFWKoq4qfxX8E6xVxUBOYrCtwTvwTj/xV8E5/irBOsVuKwqRXFTFQVorCrFf/xWioKwrCtioCcxUFUVAToE4FUVxWFQVhUBO4rgnUVIJyKkVgToE4ipFUVoq4qisKsE64qCoCdxUFUVxXFUE78VxWFQV4qiuKgqiuK4CCK2KoqirBOATsE4FWK4qxVFUVhVFYE4gnIriuCcQTiK4rCoCdCtirBORUiqK2//PkZLAWsgzuADQNNkZj/fjIe9r8K/FXFUVwSE5aiaAKgmhaFpxNQkp8n3z5PsJOGsffLQsyyE1LItS1E1Af+CPLMTUTfibFmJoWQmxanzydHwTsnASknBaCalqWom5ZcsxNyc8nASsnHDt59BrhJgkpOicBKg7D7JyfZ8E5Pk+Cd8EeWXE0LQsiyLQtSyLIsi0LUTYsy0E3LITQshNiyLUsiy4I78shNy0LMVcE6ipgnArRVgncE4wTsVIrCqCcCtBOYrwTgE7iuKwqCoKwrcE7BOQTqKgqiqFpBEC1gPYD3F0X4WoLTF0Xxei6FqC0BaAtQWgXxdwtWFqC0haBW/FQVRUBOBUFcE6ioCcAnEVRX4rYrxWFUVBViuLsXgtAuC6FoBDBaYvi7F8XxexdF8XhcFyI//gx//CJBhgxhEwY/+EXwYgx8ImDH8GPhE8GPhEwigwhFwNQNQNfhE+DGDAGHCIBrhEhEBh4RQMAY/gYBFBhhEAxCIDCEUDEDHBiEUIoRQY+DCBp4McGEIgGgMcGIGMGIGIGgRQYgxCKBiBjBgDGESDADWBgEUDEIuDADWBpBiEUDEDDgYgwBgDEDQDUGIGgRAYQYAxCKBhCKEThEBgBiEUGIRQMQiQiwNAY//PkZKwWNgjoZUAQREakFfQAe9t8YMfwi4GBaFoJsWpaFlyyBHctCzE25ZiaFoAocsy1E24Sk+idk6LMTYTYTQsyyLUtCyLQTUswFYJMGuTg+CdHwErPotAFAsuJtxNCz4m4mvBHiafloWZZ8YppBqzTNI0jTNBMpg0jTTZZFqWfE3Af/xNf+WomhZ8suWZZCb8tC1LQtS14m/LQtBNhNOfR8hKCc8nHJ2EqCUE5CSHxydk6Pg+D7Ps+Sdk6LUTQTcTcTctSz4mwmha8TXlmJvyy5ZiaFl+WpZFoWZa8TQshNCz4mhalmJsWfLQsuWRactBNRNC1E1LLlly0E2PgJWfR8h2H2fJOSdnx+fXPs+T5PgNbnzz6Po+T7JwTk+z4PonROglJ84qCvxXxUirFX4q4qeCd1f8InCI/4R/CP//4RMI/CMEYI4RAR8I8IjCJ4REI/gG8ESEfCOERCP4R/+EaERCPCNCNCI4BvQjYRMHINobIOfjZBzDZG3xtja42gcw2PwcvG2Nng5+NgbY2wcn42htDYGwNrjYGwNsbX42vxscbI2gc3Bzg5Qcg2uNvjaGwNgbI2+Dl4OUbI2Qc42RsjbBy//g5eAboR4RwjQDeCP+EcI8IwBuwjwjBEBEA//PkZKoZMgrqADXt9EV8FfQAe9scG+EThEBGCMESESEbhEQjwjwjwjBHCIwiQDcCNCI/hHE0/LQBSLITf/lqWoSvk7LT8BWLMtRNAk58E7Po+CyLQTcsyyLUsi0Afi1LUTUTUtBNS05aFkWpZHzwkoSgnB9HwfQSsTYsizLQtRNRNgFf/8NcJWEmAWCdn0To+T4CUHyGtxNiyLT/lmJqJqJqWgmpZFqJsWgmwmwmwmv5ZiaibiactBNv/yyLTiaFkWZagKgCmJqWQmgmom3E0LTibAKfE0LLiuKgrYqipBO4JzFUE5BORXBOhVioKwqRWBOYJyKkE6BOIrYqCqCcxVxVFUV8E4FSCdcVgAgCuKkLTBDC6CHi+LwuRfha4uC+FpF8XQtAWgB2wtAWoXBchaBfwtQWnFSCdxVxXFUVhUFYV4rgnOK3wTiKir//1eDCsf//7/+wOYd///ei/f6lmiqGXpyOlCSRm+yP3UtDhFIzqBhwCFHAGFHABYGcAnAAMOAAYcAAw4BYKOAIROANgicAQYcABE4AAzgE4B+1wmcAwYcAK+sDOADgFLCJwAlWBnABwABnABwDWraETgEDOADgDBiRkgoJpGaP+64RSMoRSMGBiRkkwMSMlq7AxIy4//PkZJUYEgieBFw3fkL8FgAied8AROAAicA8DOATgAGHAAROAFwM4BOAGBhwADDgAGHANQUcAgicAYROAfgw4AIkbPNNNpo0TSNBNJgUs0l7lomEwmRSOaRp80zQFK4nvTInnTEGgwGwAwYmOmkyaInppJpMJg0k1+KUaaaTCb42U0mBsGiaSaNNNpo0OaKZNE0jTTSY5oGmaZpJrphM9MGkmDQTCZBzpg0OKR+mBtdMJobfTSbTfG2KSaBpGgaZomiaBomn02mOmkwmjSNPpjmmaKZNA0zSNFNCeClJkT40DTTCY5oJk0kyaJpdMppMdMdN80TR6ZTXTfNJNmimumem+aKZTKaTaaTRops0kwaZppk0+aSa6ZTKYTfTfTPTHTKa5omgmEyaJo9NmkaRp/pnmmaf6aNNMplMplMdMpv8TxMJlNplNJn9MdM1OM6hWa/EjiRiRiO/xIcSP+GgCZQ1+GvDRDV//4aP///4I8EwTwTBLwS/4AHgnBHBHgiwR4JgAgS4IwAYPA8ADg+AAAAFwfB4L4WADC2AGAGFwsFwuD2FgAcAPC+F/B8L4X/B7B4L4WwuD+AGDwXACAAC2D2AEFgfCwAAAAXB8LhcLeDwXCwPYPA+ACACD+AH4XwA//PkZJMVIgb2ejVLxkBMEgTIe898vwv4X/ACB/C4WwtgBg/gA4PA9gBeFhLRTXTRomkmP0yJ6J+mPy0NA0OvibNDQmfzTNNMjaFKNATxMiemiaRoGkmE2mkwmTRTHNBMGiaCZTSZTZomh0PaV9fX2hoX14kzSmOaCY5pJr80U0aPTfNFMps0jSNJMmiaSaTKb6aTKYNLphMpg0eaJoGkJ8aBoppMppMJg00xzTTabNFNJpNJpNpnpg0DT6bTRoppoJMWrSh/690NQ5paV5D2le/LND2hoQxDF/rzR1/r/aWhfaWleQxfXmheaevNDS0tLQ0ryGoch/X15D+vLy+0oc0ry/19DUOXuvIc0oav9oXkNX1/r3X18QCGHQGQHB8PiAPAaHgPDsBgcH+Hqv//+DJ0GNuEW4MbQY2wZO4Rn///4R34R3Qjv//8Gbv//8GbgZuwZvCO4GbsD37+Ed3A586DJ4Rn8DnToRn8GTsGT8GToRn4HOngyf4HOnBGeDJ0IzgjOCM8DnTwjOgydwOdP4RnYMncDbtwY2A27cItgNs3CLeDGwMbwY3CLaEWwRbQi3A27eDG0GN4G2bBFvA2zcItgY3A27YGN4G2bAxtA58/gc6eDJwHOnAyfCM7A588//PkZLMYngTSAFAUhEYcDfggw9V8DnzwOdOBk8IzuEZ4MnAyfgychsy7F3oE13Nl9sy7myrsL6qqOU5anCqkHqNDI3KVUTEU8GNU7U6gxyHKchyVV/Xa2Zspfds3rubK2VsjZmztk9djZi/TZV2NnXYu0vsm0yaBoDZNEbA2k0aKZNjmwbH/Nvm2bRtGyBVArD1G0bQPUevg9h6/+PRzZNkCrzZNgesegesermyPQPXzbHpNvm0PQPUPSbJs82TaHqAtj082h6DaNn8eo2DbHrHpNjj1m1zYHqNo2jYNnmwbPNgek2ja5sj0D1m0bJs80xtJlMdMCeps0U0meaaa6b5p/mmmU3zRTfNFN/pgHPzQNPmkaaaTXTKbTRoJk0zS6b/NBNdNJlNGj02aH6Z4IgAEEYJ4I+CMEQJcEUEXBOpHDX/w1Q0Q1Q1cNWGvw0Q0/hp/AmIaA0cCYhow0w1/w0hoDRhpw1w1BrgTLDXw1BrhrDQGgNQEzAmOGuGiGgNfgTHDQGoCZw1w0BrDWBMIEzDVDTDUGgNfAFwGjBrg1A1YNcGsAXAaQaABcBqg1g1QagaINYaoEyw1Bow1YaA1hoDSBMw1gTICYQJkGrDQGoNGGmGsNcNQawJkGuBM4aIa//PkZKAYngTsATQNQkKMFgDifh7AYagJkGsCZ+GkNWGiGsNAaYaOGgCYgTENQaw0Yaw1Q1Q0/hqw1BkAfmkaCb6ZTCY6bNBNLwmqGA5fzSTCb/lgwXOmMmMmTQ5pmkmUwmkymfzRTaZFJ6aNM002NrppMpg0kwKQmE2m0yKUaKaE95o9MJj9N9NJk0UymOaSaE/TabNNNmmmk2mU2aHTKZTCaNDjaTJoGimkyNvpk0TRTHTf6bTRopg001+mU0aXNBMjYNA0k2mjR5pfps0U100mUz0ym02mDRTHTaaTRpplMc0kz0ySA000mDSTKbNI002mzQTHTaYTf//NA0zQTBodNJk0UyKSaaZNJMprmkaP5oGmKUmEymUyaCbTHNBMJlN80DRNBMmkm/00mUwaZpprplNpvmiaJo80+aSa//TaY/6ZaH//wY4ReEX4RIMfwiAxBh/BhCJ/+ESDDwYcIn+EQIoMAiQYAw8IsGIGGETBj4MP4MQiAxhEAwAxAxBjBiEUIgMIMcDCDAGIMcGMDEGGBgEUDTwNfAx4MAiwiQYgwBgEUIgMIRAiQYhFwYAwBhA1CKDEIoGoGgMQi4MeDADGEQIkIgGMDCDAIoMAiQiAYwYYMQNQigwCJBiDEGAR//PkZJwV+gzoZUAQRkZsCfQAe9tcQYgx8GEGIMQiwMAY4MANAMcIoMSyE1E1/LMTUtCz5OD5PkJJz5Pk+uA/FqWRaib8TUTUTQtC05alqWYm4momgI8TYsxNCzE3LUtQFEsgFM+z6J0fB8nz+TsNcnB9BK+Tk+g7CdhJT6LTiaFqWYI7lqWoCvy05ZlnxNy0/LUshNBNvwR4moCj+Wv5ZlkJqWpalkCOE1E1LQsiyLITUBULLlqWZZlmJsWhZcsi1/4CiWpalkJqJuWvLXlkJsJpyy4mwm5ZlmJuWXLUTQteWgmgmwCsJoWfE3LMsiyLP8TTlkJuAolqJryzE1LTibCbloJuWhZFoWYmxZ8TcXIvxeC0i+FrF0B2i4L8LSL4uBaIDyCHF8XRfF6FqgiwtIuYWoXIrYqAncVvxVip8VIqCvUxPqtFbFf/4q/8V/8V/iririr8VATjxXipxWgnYq+KwqfFTFQVoq+KsVBW8VhUisKuK0VRXivFYE4FTBOhVFcVRV4riuCdCuCdCtwTiCcCqCcgnYqxWFcVIJwKsVxWisK8VxVgnArYqRWFeK0V4qgnQrgnYrfBOoqAnAq4J0CciqKviuK3BOoJyKsE4FUVoqisK2KwrAnArgBAFSK4//PkZJ0VagjyJgGtbkOkFfwAbh4AqRViuK4J0KgrCrFUVxVjOEeDQgjlcT4T40xtjaNI0uaI2QciGNJIl4kJZtCGIaSckIm6GL3TQ2zRTY2UwmjSNE0fxS02aY2BsJs0/+mzSE8TQpHTKZTaaG0aQpApZp/mmm+aHTfTCZGwNgUk0E0aRp/ilJlNJgT5MmkJ9zQNA0TQTH6ZG2mk0mk0mk3zQTKY/G3zQTHTabTBpGgmU0aKaTJpJpNJtMphNjYTfNE0emkymE2mEyaCbNBNfmkaJpdNJnpg0k0mDTTCbTaZTBp80k2aCbTfNE00yaCb6bTZoplMmmaKZTKaTJpmiaHTXNJNdMDbTab6Y6Z6ZNNMJhMJhN9NJrmim02m0ymU300aPTSa6Y//5pJpNdN/9NppxWxU4Jx/xWxU/xU4qcV/ipiuKwqxWFbioK/8VIqivFTwTkVgTkVor4JxFXxX8VcVxUFQE4FaCcwTvBOIqwToVuKwqCtFUVYqxXxWFeK0E7FQVYrwTnwTsV4rCqCcfFaCcRVFQE5gnAr4JyK4r4Jz4J0Koqip4rCvisKoJ3xWBOME7iuKgriuKgrAnAqgnArxXiqCcgnYJzFQVQTmAEIVYrwToAIYrwTiKkVQTkE5//PkZK4XGgzsADQNAkIcCfwAe898FXFTFYVxXxUFQVkzzS5oilg5TTTY2kyaJpJtNGgJ8aKaTQ2k2aCaNI0eaSYNJM/tKHEiQxfJG09MmgaSYTRppg0TRNNMJlMptMCfppNprmiaA2jQNLmmaRppk0jRFLNP9NJhMGmaQpZpJhNCkGkmE0J+mxSk0m0x02mjRTKbTCZ42EwaQpJpptNprmgaRpmim00J4mzSNM0kymkyKWmE0muaKYGwNjmgafTPNE0U0mUwJ7+mem01+J8mhSk2mjRTSb6aTCbNBM9MpjpjppMpk0E2mE2mE2mjSTfTaZ6YNFMcT1MpnprptNmim0wmE100aSaTRo9MGjzTTHTaaTfTSaNLpoFMAAFYNBQGwAvwAYM4NgqqkjaAN3d3d3etERNK5CZ/3Ctf8AaiAc/u7vaIn/+8XPv//+GDKv8W1/+AC8K4Yw+94xe940jgceOBwOcRaxGwH4EuNIjBfxazB8HhkwVjIAII/vDkjG/wAcJPeF5e98hNgSYLWMFvhZ73pX06aoehpmh01hMJtM9K3TKY9E10x+memvlIpZM9MUTCbShbUrtM+n5ophNZuXK+0wmemumMCemkmvc0Uwm/lJJlLe5oJZI0SyW6R0mE//PkZLcXlgrzECFvrEmMEfgAfh7k2aORpbTYUo9SBNsekGYNVKgqg6hrUXK4Q42DOwPWbILEzBSumEgkWJPU8S72G5wUuGDwguEKa1Q0UykS3Bn7FJNgg5qoEgpsGabBtGabZt7NrKCNgLYes1idmabBtm2bZsBRm0PQbF9mwPSPUBbMwzB6QojYM42ePTzbMwzR6TaNs1eBVNv81yDUJ2QYhJtD0m0PVe+x6T2M8HsbFwsh6B6D7HpugT2uZhO6HqZhmE7ISZhhkFNcghtmybBnnsD1Ho49ZtG2bZs5PVBc2EEepCaEHNjj1EJHq5smabZtmwbNEEPR+bJse9z2PY2T1SN0rdNJq6yXI06COvNJj9MGmkkGmUj7pI0TToNGlEsNEnCW10ymi5FtNFKpvps0kz0uW3aaTF00mTSzdNJu0KFYz1KjaGAhyoQCFGM//zFARgIUZ/oZpdCttay6M5drW1joSj6Ekk1b7J7R7aoQNlPrWBKLTTzOsGT5yYxLrtHTy2iUxEkES0HIBVD066VjGj31odPkkSjJtbWs6OIjKmlXHR9K5MTv5pdZolE10kk2lly74TFx5KTXeTGLrS6ExiucvJSSDUdXZm3NLn1rtYBCUEoRj77WOhCPc+g5//PkZJ8XPgzoAABMTrz8BfQyY9ONGxJULutaa1TE5LHxWEo+XecmMa3p0kqBCR6qOFaFUGpNJIIjqVi0ylBqJIkiSJIkmJj605EkSRJPetWAyVacmodBUVhGfrAZPF0AUrgRLNiqDU4VHo8h6HRObJJNdqlRBMFT0qdNE0WZhmay2tCuOY6oieWieianCnVSbzjd7SGhrLi6eUSeLcZTWqdML5PM50uOGJms9VqtYU6hrgrm4V0frUzTvYsiegR2FOkqUxSKdVCpmRCSkIAUZ4VPhqEKgFDU2VhUiIhUaIg0RAkTBYEjYBUbBMuCJgLAkCUBUinABgBE3/9EQqFRM0s0qzktk9ZFqqFC6RULE11JVDkd8Y1vVFOx9oUIpZ8Vnq5klkxBTUUzLjEwMKqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqq";var Jc=t=>t instanceof Date,xM=t=>t==null;const _M=t=>typeof t=="object";var mT=t=>!xM(t)&&!Array.isArray(t)&&_M(t)&&!Jc(t),gT=t=>xM(t)||!_M(t);function TM(t,e){if(gT(t)||gT(e))return t===e;if(Jc(t)&&Jc(e))return t.getTime()===e.getTime();const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(const s of n){const i=t[s];if(!r.includes(s))return!1;if(s!=="ref"){const o=e[s];if(Jc(i)&&Jc(o)||mT(i)&&mT(o)||Array.isArray(i)&&Array.isArray(o)?!TM(i,o):i!==o)return!1}}return!0}const tY={facingMode:"environment",width:{min:640,ideal:720,max:1920},height:{min:640,ideal:720,max:1080}},nY={finder:!0,torch:!0,tracker:void 0,onOff:!1,zoom:!1},rY={width:"100%",height:"100%",position:"relative",display:"flex",alignItems:"center",justifyContent:"center",overflow:"hidden",aspectRatio:"1/1"},sY={width:"100%",height:"100%",objectFit:"cover",overflow:"hidden"};function Hh(t){if(t===null)throw new Error("Canvas should always be defined when component is mounted.");const e=t.getContext("2d");if(e===null)throw new Error("Canvas 2D context should be non-null");e.clearRect(0,0,t.width,t.height)}function iY(t){var e;const{onScan:n,constraints:r,formats:s=["qr_code"],paused:i=!1,components:o,children:a,styles:l,classNames:c,allowMultiple:d,scanDelay:f,onError:h,sound:v}=t,E=g.useRef(null),y=g.useRef(null),b=g.useRef(null),C=g.useMemo(()=>({...tY,...r}),[r]),w=g.useMemo(()=>({...nY,...o}),[o]),[_,R]=g.useState(!1),[O,j]=g.useState(!0),[S,I]=g.useState(C),k=function(){const se=g.useRef(Promise.resolve({type:"stop",data:{}})),ne=g.useRef(null),pe=g.useRef(null),[q,W]=g.useState({}),[ie,ee]=g.useState({}),ae=g.useCallback(async(te,ge)=>{var we,Ce,Ae;if(!window.isSecureContext)throw new Error("camera access is only permitted in secure context. Use HTTPS or localhost rather than HTTP.");if(((we=navigator==null?void 0:navigator.mediaDevices)===null||we===void 0?void 0:we.getUserMedia)===void 0)throw new Error("this browser has no Stream API support");const _e=await navigator.mediaDevices.getUserMedia({audio:!1,video:ge});te.srcObject!==void 0?te.srcObject=_e:te.mozSrcObject!==void 0?te.mozSrcObject=_e:window.URL.createObjectURL?te.src=window.URL.createObjectURL(_e):window.webkitURL?te.src=window.webkitURL.createObjectURL(_e):te.src=_e.id,await Promise.race([te.play(),new Promise(ve=>setTimeout(ve,3e3)).then(()=>{throw new Error("Loading camera stream timed out after 3 seconds.")})]),await new Promise(ve=>setTimeout(ve,500));const[de]=_e.getVideoTracks();return ee(de.getSettings()),W((Ae=(Ce=de==null?void 0:de.getCapabilities)===null||Ce===void 0?void 0:Ce.call(de))!==null&&Ae!==void 0?Ae:{}),ne.current=_e,pe.current=de,{type:"start",data:{videoEl:te,stream:_e,constraints:ge}}},[]),ce=g.useCallback(async(te,ge)=>{te.src="",te.srcObject=null,te.load();for(const we of ge.getTracks())ge.removeTrack(we),we.stop();return ne.current=null,pe.current=null,ee({}),{type:"stop",data:{}}},[]),Re=g.useCallback(async(te,{constraints:ge,restart:we=!1})=>{if(se.current=se.current.then(Ce=>{if(Ce.type==="start"){const{data:{videoEl:Ae,stream:_e,constraints:de}}=Ce;return we||te!==Ae||ge!==de?ce(Ae,_e).then(()=>ae(te,ge)):Ce}return ae(te,ge)}),(await se.current).type==="stop")throw new Error("Something went wrong with the camera task queue (start task).")},[ae,ce]),ke=g.useCallback(async()=>{if(se.current=se.current.then(te=>{if(te.type==="stop")return te;const{data:{videoEl:ge,stream:we}}=te;return ce(ge,we)}),(await se.current).type==="start")throw new Error("Something went wrong with the camera task queue (stop task).")},[ce]),Ee=g.useCallback(async te=>{const ge=pe.current;if(!ge)throw new Error("No active video track found.");{te.advanced&&te.advanced[0].zoom&&ge.getCapabilities().torch&&await ge.applyConstraints({advanced:[{torch:!1}]}),await ge.applyConstraints(te);const we=ge.getCapabilities(),Ce=ge.getSettings();W(we),ee(Ce)}},[]);return g.useEffect(()=>()=>{(async()=>await ke())()},[ke]),{capabilities:q,settings:ie,startCamera:Re,stopCamera:ke,updateConstraints:Ee}}(),{startScanning:M,stopScanning:V}=function(se){const{videoElementRef:ne,onScan:pe,onFound:q,retryDelay:W=100,scanDelay:ie=0,formats:ee=[],allowMultiple:ae=!1,sound:ce=!0}=se,Re=g.useRef(new A0({formats:ee})),ke=g.useRef(null),Ee=g.useRef(null);g.useEffect(()=>{Re.current=new A0({formats:ee})},[ee]),g.useEffect(()=>{typeof window<"u"&&ce&&(ke.current=new Audio(typeof ce=="string"?ce:eY))},[ce]);const te=g.useCallback(ge=>async we=>{if(ne.current!==null&&ne.current.readyState>1){const{lastScan:Ce,contentBefore:Ae,lastScanHadContent:_e}=ge;if(we-Ce<W)Ee.current=window.requestAnimationFrame(te(ge));else{const de=await Re.current.detect(ne.current),ve=de.some(Je=>!Ae.includes(Je.rawValue)),ht=de.length>0;let st=ge.lastOnScan;(ve||ae&&ht&&we-st>=ie)&&(ce&&ke.current&&ke.current.paused&&ke.current.play().catch(Je=>console.error("Error playing the sound",Je)),st=we,pe(de)),ht&&q(de),!ht&&_e&&q(de);const Pt={lastScan:we,lastOnScan:st,lastScanHadContent:ht,contentBefore:ve?de.map(Je=>Je.rawValue):Ae};Ee.current=window.requestAnimationFrame(te(Pt))}}},[ne.current,pe,q,W]);return{startScanning:g.useCallback(()=>{const ge=performance.now(),we={lastScan:ge,lastOnScan:ge,contentBefore:[],lastScanHadContent:!1};Ee.current=window.requestAnimationFrame(te(we))},[te]),stopScanning:g.useCallback(()=>{Ee.current!==null&&(window.cancelAnimationFrame(Ee.current),Ee.current=null)},[])}}({videoElementRef:E,onScan:n,onFound:se=>function(ne,pe,q,W){const ie=q;if(ie==null)throw new Error("onFound handler should only be called when component is mounted. Thus tracking canvas is always defined.");const ee=pe;if(ee==null)throw new Error("onFound handler should only be called when component is mounted. Thus video element is always defined.");if(ne.length===0||W===void 0)Hh(ie);else{const ae=ee.offsetWidth,ce=ee.offsetHeight,Re=ee.videoWidth,ke=ee.videoHeight,Ee=Math.max(ae/Re,ce/ke),te=Re*Ee,ge=ke*Ee,we=te/Re,Ce=ge/ke,Ae=(ae-te)/2,_e=(ce-ge)/2,de=({x:Pt,y:Je})=>({x:Math.floor(Pt*we),y:Math.floor(Je*Ce)}),ve=({x:Pt,y:Je})=>({x:Math.floor(Pt+Ae),y:Math.floor(Je+_e)}),ht=ne.map(Pt=>{const{boundingBox:Je,cornerPoints:ft}=Pt,{x:an,y:Er}=ve(de({x:Je.x,y:Je.y})),{x:fs,y:or}=de({x:Je.width,y:Je.height});return{...Pt,cornerPoints:ft.map(ps=>ve(de(ps))),boundingBox:DOMRectReadOnly.fromRect({x:an,y:Er,width:fs,height:or})}});ie.width=ee.offsetWidth,ie.height=ee.offsetHeight;const st=ie.getContext("2d");if(st===null)throw new Error("onFound handler should only be called when component is mounted. Thus tracking canvas 2D context is always defined.");W(ht,st)}}(se,E.current,b.current,w.tracker),formats:s,retryDelay:w.tracker===void 0?500:10,scanDelay:f,allowMultiple:d,sound:v});g.useEffect(()=>(R(!0),()=>{R(!1)}),[]),g.useEffect(()=>{_&&(V(),M())},[o==null?void 0:o.tracker]),g.useEffect(()=>{if(!TM(C,S)){const se=C;r!=null&&r.deviceId&&delete se.facingMode,I(se)}},[r]);const F=g.useMemo(()=>({constraints:S,shouldStream:_&&!i}),[S,_,i]),D=async()=>{const se=E.current;if(se==null)throw new Error("Video should be defined when component is mounted.");const ne=y.current;if(ne==null)throw new Error("Canvas should be defined when component is mounted.");const pe=ne.getContext("2d");if(pe==null)throw new Error("Canvas should be defined when component is mounted.");if(F.shouldStream){await k.stopCamera(),j(!1);try{await k.startCamera(se,F),se?j(!0):await k.stopCamera()}catch(q){h==null||h(q),console.error("error",q)}}else ne.width=se.videoWidth,ne.height=se.videoHeight,pe.drawImage(se,0,0,se.videoWidth,se.videoHeight),await k.stopCamera(),j(!1)};g.useEffect(()=>{(async()=>await D())()},[F]);const re=g.useMemo(()=>F.shouldStream&&O,[F.shouldStream,O]);return g.useEffect(()=>{if(re){if(y.current===void 0)throw new Error("shouldScan effect should only be triggered when component is mounted. Thus pause frame canvas is defined");if(Hh(y.current),b.current===void 0)throw new Error("shouldScan effect should only be triggered when component is mounted. Thus tracking canvas is defined");if(Hh(b.current),E.current==null)throw new Error("shouldScan effect should only be triggered when component is mounted. Thus video element is defined");M()}},[re]),Y.createElement("div",{style:{...rY,...l==null?void 0:l.container},className:c==null?void 0:c.container},Y.createElement("video",{ref:E,style:{...sY,...l==null?void 0:l.video,visibility:i?"hidden":"visible"},className:c==null?void 0:c.video,autoPlay:!0,muted:!0,playsInline:!0}),Y.createElement("canvas",{ref:y,style:{display:i?"block":"none",position:"absolute",width:"100%",height:"100%"}}),Y.createElement("canvas",{ref:b,style:{position:"absolute",width:"100%",height:"100%"}}),Y.createElement("div",{style:{position:"absolute",width:"100%",height:"100%"}},w.finder&&Y.createElement(ZK,{scanning:O,capabilities:k.capabilities,onOff:w.onOff,zoom:w.zoom&&k.settings.zoom?{value:k.settings.zoom,onChange:async se=>{const ne={...S,advanced:[{zoom:se}]};await k.updateConstraints(ne)}}:void 0,torch:w.torch?{status:(e=k.settings.torch)!==null&&e!==void 0&&e,toggle:async se=>{const ne={...S,advanced:[{torch:se}]};await k.updateConstraints(ne)}}:void 0,startScanning:async()=>await D(),stopScanning:async()=>{await k.stopCamera(),Hh(b.current),j(!1)}}),a))}const oY=()=>{const[t,e]=g.useState(null),[n,r]=g.useState(null),[s,i]=g.useState(!1),o=Hs(),{addPurchase:a}=ds();g.useEffect(()=>{yt("page_view",{page:"Scan"})},[]);const l=async f=>{if(!s){i(!0),e(null),r(null);try{if(!Array.isArray(f)||!f[0]||typeof f[0].rawValue!="string")throw new Error("Invalid QR scan result format");const h=f[0].rawValue;yt("scan_qr_attempt",{rawValue:h});const v=h.split(":");if(v.length<3||v[0]!=="LOYALTY")throw yt("scan_qr_invalid",{rawValue:h}),new Error("Invalid QR code format - must be LOYALTY:email:uid");const E=v[1],y=v[2];if(!y)throw new Error("No user ID found in QR code");const b=Un(on,"users",y),C=await pR(mE(lE(on,"users"),Kx("email","==",E),Kx("id","==",y)));if(C.empty)throw yt("scan_qr_no_user",{email:E,uid:y}),new Error("No user found for this QR code");const _=C.docs[0].data();yt("scan_qr_success",{scanned_user:E,scanned_uid:y}),await a(E,y),r(E),e(!0);const R=await xm(b);if(R.exists()){const O=R.data(),j=O.purchases||0,S=O.purchaseLimit||5;let I=`Loyalty point added! Total purchases: ${j}`;if(j>=S)I+=" - Reward ready! 🎉",yt("reward_ready",{scanned_user:E,scanned_uid:y});else{const k=S-j;I+=` - ${k} more to earn reward`}it({title:"Success",description:I})}setTimeout(()=>{o("/dashboard")},1500)}catch(h){console.error("Error processing QR scan:",h);let v="Failed to process loyalty point";h instanceof Error&&(v=h.message),e(!1),it({title:"Error",description:v,variant:"destructive"}),yt("scan_qr_error",{error:h.message})}finally{i(!1)}}},c=f=>{console.error("Scanner error:",f),e(!1),it({title:"Scanner Error",description:"Camera error - please check permissions",variant:"destructive"}),yt("scan_qr_scanner_error",{error:String(f)})},d=()=>{e(null),r(null),i(!1)};return p.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-black via-gray-900 to-red-950 relative overflow-hidden",children:[p.jsxs("div",{className:"absolute inset-0 opacity-10",children:[p.jsx("div",{className:"absolute top-20 right-10 w-40 h-40 bg-red-500 rounded-full blur-3xl animate-pulse"}),p.jsx("div",{className:"absolute bottom-32 left-10 w-32 h-32 bg-red-600 rounded-full blur-3xl animate-pulse delay-1000"})]}),p.jsxs("div",{className:"relative z-10 min-h-screen flex flex-col",children:[p.jsx("div",{className:"bg-gray-900/80 backdrop-blur-sm border-b border-red-900/30 sticky top-0 z-10",children:p.jsx("div",{className:"p-6 flex items-center justify-between",children:p.jsxs("div",{className:"flex items-center",children:[p.jsx(Ks,{to:"/dashboard",className:"text-red-400 hover:text-red-300 transition-colors",children:p.jsx(dd,{className:"w-6 h-6"})}),p.jsx("h1",{className:"ml-4 text-2xl font-bold text-white",children:"Scan Loyalty QR"})]})})}),p.jsx("div",{className:"flex-1 flex flex-col items-center justify-center px-6",children:p.jsxs("div",{className:"w-full max-w-md bg-gray-900/80 backdrop-blur-sm border border-red-900/30 rounded-2xl p-8 shadow-2xl flex flex-col items-center",children:[p.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"Scan a User's QR Code"}),!t&&p.jsxs("div",{className:"relative w-full flex flex-col items-center",children:[p.jsx("div",{style:{width:300,height:300,margin:"20px auto"},children:p.jsx(iY,{onScan:l,onError:c})}),s&&p.jsx("div",{className:"absolute top-2 left-2 bg-blue-500 text-white text-xs px-2 py-1 rounded-full",children:"Processing..."})]}),t===!0&&p.jsxs("div",{className:"mt-6 p-6 bg-gradient-to-r from-green-900/50 to-emerald-900/50 border border-green-700 rounded-xl text-center shadow-2xl animate-pulse",children:[p.jsx("div",{className:"text-6xl mb-4",children:"🎉"}),p.jsx("div",{className:"text-2xl font-bold text-green-400 mb-2",children:"Scan Successful!"}),p.jsx("div",{className:"text-lg text-green-300 mb-3",children:"Loyalty point added successfully"}),n&&p.jsx("div",{className:"text-sm text-green-400 bg-green-900/30 px-3 py-1 rounded-full inline-block",children:n}),p.jsx("div",{className:"mt-4 text-xs text-green-500",children:"Redirecting to dashboard..."})]}),t===!1&&p.jsxs("div",{className:"mt-6 p-6 bg-gradient-to-r from-red-900/50 to-pink-900/50 border border-red-700 rounded-xl text-center shadow-2xl",children:[p.jsx("div",{className:"text-6xl mb-4",children:"⚠️"}),p.jsx("div",{className:"text-2xl font-bold text-red-400 mb-2",children:"Scan Failed"}),p.jsx("div",{className:"text-lg text-red-300 mb-3",children:"Unable to process this QR code"}),p.jsx("div",{className:"text-sm text-red-400 bg-red-900/30 px-3 py-1 rounded-full inline-block",children:"Please try again with a valid loyalty QR code"})]}),!t&&p.jsx("div",{className:"mt-6 flex gap-3",children:p.jsx(qn,{onClick:d,disabled:!t,variant:"outline",className:"border-red-500 text-red-400 hover:bg-red-500/20",children:"Reset Scanner"})})]})})]})]})},aY=new X9,lY=()=>p.jsx(eq,{client:aY,children:p.jsx(R9,{children:p.jsxs(EG,{children:[p.jsx(IU,{}),p.jsx(n8,{}),p.jsx(xG,{}),p.jsx(Qq,{children:p.jsxs(qq,{children:[p.jsx(Wr,{path:"/",element:p.jsx(AG,{})}),p.jsx(Wr,{path:"/register",element:p.jsx($_,{children:p.jsx(SG,{})})}),p.jsx(Wr,{path:"/login",element:p.jsx($_,{children:p.jsx(RG,{})})}),p.jsx(Wr,{path:"/dashboard",element:p.jsx(Vc,{children:p.jsx(yW,{})})}),p.jsx(Wr,{path:"/rewards",element:p.jsx(Vc,{children:p.jsx(vW,{})})}),p.jsx(Wr,{path:"/settings",element:p.jsx(Vc,{children:p.jsx(wW,{})})}),p.jsx(Wr,{path:"/scan",element:p.jsx(Vc,{children:p.jsx(oY,{})})}),p.jsx(Wr,{path:"/users",element:p.jsx(Vc,{requiredRole:"admin",children:p.jsx(JW,{})})}),p.jsx(Wr,{path:"*",element:p.jsx(XW,{})})]})})]})})});Bb(document.getElementById("root")).render(p.jsx(lY,{}));
