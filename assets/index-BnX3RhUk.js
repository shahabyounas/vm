var w1=t=>{throw TypeError(t)};var dg=(t,e,n)=>e.has(t)||w1("Cannot "+n);var X=(t,e,n)=>(dg(t,e,"read from private field"),n?n.call(t):e.get(t)),Xe=(t,e,n)=>e.has(t)?w1("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),De=(t,e,n,r)=>(dg(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),un=(t,e,n)=>(dg(t,e,"access private method"),n);var mh=(t,e,n,r)=>({set _(s){De(t,e,s,n)},get _(){return X(t,e,r)}});function AT(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function b0(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var bT={exports:{}},Lp={},ST={exports:{}},je={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rd=Symbol.for("react.element"),cD=Symbol.for("react.portal"),uD=Symbol.for("react.fragment"),dD=Symbol.for("react.strict_mode"),hD=Symbol.for("react.profiler"),fD=Symbol.for("react.provider"),pD=Symbol.for("react.context"),mD=Symbol.for("react.forward_ref"),gD=Symbol.for("react.suspense"),yD=Symbol.for("react.memo"),vD=Symbol.for("react.lazy"),E1=Symbol.iterator;function wD(t){return t===null||typeof t!="object"?null:(t=E1&&t[E1]||t["@@iterator"],typeof t=="function"?t:null)}var IT={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},RT=Object.assign,PT={};function Kl(t,e,n){this.props=t,this.context=e,this.refs=PT,this.updater=n||IT}Kl.prototype.isReactComponent={};Kl.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Kl.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function NT(){}NT.prototype=Kl.prototype;function S0(t,e,n){this.props=t,this.context=e,this.refs=PT,this.updater=n||IT}var I0=S0.prototype=new NT;I0.constructor=S0;RT(I0,Kl.prototype);I0.isPureReactComponent=!0;var x1=Array.isArray,kT=Object.prototype.hasOwnProperty,R0={current:null},MT={key:!0,ref:!0,__self:!0,__source:!0};function DT(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)kT.call(e,r)&&!MT.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];s.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:rd,type:t,key:i,ref:o,props:s,_owner:R0.current}}function ED(t,e){return{$$typeof:rd,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function P0(t){return typeof t=="object"&&t!==null&&t.$$typeof===rd}function xD(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var C1=/\/+/g;function hg(t,e){return typeof t=="object"&&t!==null&&t.key!=null?xD(""+t.key):e.toString(36)}function Jh(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case rd:case cD:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+hg(o,0):r,x1(s)?(n="",t!=null&&(n=t.replace(C1,"$&/")+"/"),Jh(s,e,n,"",function(c){return c})):s!=null&&(P0(s)&&(s=ED(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(C1,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",x1(t))for(var a=0;a<t.length;a++){i=t[a];var l=r+hg(i,a);o+=Jh(i,e,n,l,s)}else if(l=wD(t),typeof l=="function")for(t=l.call(t),a=0;!(i=t.next()).done;)i=i.value,l=r+hg(i,a++),o+=Jh(i,e,n,l,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function gh(t,e,n){if(t==null)return t;var r=[],s=0;return Jh(t,r,"","",function(i){return e.call(n,i,s++)}),r}function CD(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Pn={current:null},Xh={transition:null},_D={ReactCurrentDispatcher:Pn,ReactCurrentBatchConfig:Xh,ReactCurrentOwner:R0};function OT(){throw Error("act(...) is not supported in production builds of React.")}je.Children={map:gh,forEach:function(t,e,n){gh(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return gh(t,function(){e++}),e},toArray:function(t){return gh(t,function(e){return e})||[]},only:function(t){if(!P0(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};je.Component=Kl;je.Fragment=uD;je.Profiler=hD;je.PureComponent=S0;je.StrictMode=dD;je.Suspense=gD;je.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=_D;je.act=OT;je.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=RT({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=R0.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)kT.call(e,l)&&!MT.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:rd,type:t.type,key:s,ref:i,props:r,_owner:o}};je.createContext=function(t){return t={$$typeof:pD,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:fD,_context:t},t.Consumer=t};je.createElement=DT;je.createFactory=function(t){var e=DT.bind(null,t);return e.type=t,e};je.createRef=function(){return{current:null}};je.forwardRef=function(t){return{$$typeof:mD,render:t}};je.isValidElement=P0;je.lazy=function(t){return{$$typeof:vD,_payload:{_status:-1,_result:t},_init:CD}};je.memo=function(t,e){return{$$typeof:yD,type:t,compare:e===void 0?null:e}};je.startTransition=function(t){var e=Xh.transition;Xh.transition={};try{t()}finally{Xh.transition=e}};je.unstable_act=OT;je.useCallback=function(t,e){return Pn.current.useCallback(t,e)};je.useContext=function(t){return Pn.current.useContext(t)};je.useDebugValue=function(){};je.useDeferredValue=function(t){return Pn.current.useDeferredValue(t)};je.useEffect=function(t,e){return Pn.current.useEffect(t,e)};je.useId=function(){return Pn.current.useId()};je.useImperativeHandle=function(t,e,n){return Pn.current.useImperativeHandle(t,e,n)};je.useInsertionEffect=function(t,e){return Pn.current.useInsertionEffect(t,e)};je.useLayoutEffect=function(t,e){return Pn.current.useLayoutEffect(t,e)};je.useMemo=function(t,e){return Pn.current.useMemo(t,e)};je.useReducer=function(t,e,n){return Pn.current.useReducer(t,e,n)};je.useRef=function(t){return Pn.current.useRef(t)};je.useState=function(t){return Pn.current.useState(t)};je.useSyncExternalStore=function(t,e,n){return Pn.current.useSyncExternalStore(t,e,n)};je.useTransition=function(){return Pn.current.useTransition()};je.version="18.3.1";ST.exports=je;var g=ST.exports;const K=b0(g),LT=AT({__proto__:null,default:K},[g]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var TD=g,AD=Symbol.for("react.element"),bD=Symbol.for("react.fragment"),SD=Object.prototype.hasOwnProperty,ID=TD.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,RD={key:!0,ref:!0,__self:!0,__source:!0};function VT(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)SD.call(e,r)&&!RD.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:AD,type:t,key:i,ref:o,props:s,_owner:ID.current}}Lp.Fragment=bD;Lp.jsx=VT;Lp.jsxs=VT;bT.exports=Lp;var f=bT.exports,FT={exports:{}},rr={},jT={exports:{}},BT={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(q,W){var ie=q.length;q.push(W);e:for(;0<ie;){var ee=ie-1>>>1,ae=q[ee];if(0<s(ae,W))q[ee]=W,q[ie]=ae,ie=ee;else break e}}function n(q){return q.length===0?null:q[0]}function r(q){if(q.length===0)return null;var W=q[0],ie=q.pop();if(ie!==W){q[0]=ie;e:for(var ee=0,ae=q.length,ce=ae>>>1;ee<ce;){var Re=2*(ee+1)-1,ke=q[Re],Ee=Re+1,te=q[Ee];if(0>s(ke,ie))Ee<ae&&0>s(te,ke)?(q[ee]=te,q[Ee]=ie,ee=Ee):(q[ee]=ke,q[Re]=ie,ee=Re);else if(Ee<ae&&0>s(te,ie))q[ee]=te,q[Ee]=ie,ee=Ee;else break e}}return W}function s(q,W){var ie=q.sortIndex-W.sortIndex;return ie!==0?ie:q.id-W.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],d=1,p=null,h=3,v=!1,E=!1,y=!1,A=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(q){for(var W=n(c);W!==null;){if(W.callback===null)r(c);else if(W.startTime<=q)r(c),W.sortIndex=W.expirationTime,e(l,W);else break;W=n(c)}}function R(q){if(y=!1,_(q),!E)if(n(l)!==null)E=!0,ne(O);else{var W=n(c);W!==null&&pe(R,W.startTime-q)}}function O(q,W){E=!1,y&&(y=!1,x(S),S=-1),v=!0;var ie=h;try{for(_(W),p=n(l);p!==null&&(!(p.expirationTime>W)||q&&!V());){var ee=p.callback;if(typeof ee=="function"){p.callback=null,h=p.priorityLevel;var ae=ee(p.expirationTime<=W);W=t.unstable_now(),typeof ae=="function"?p.callback=ae:p===n(l)&&r(l),_(W)}else r(l);p=n(l)}if(p!==null)var ce=!0;else{var Re=n(c);Re!==null&&pe(R,Re.startTime-W),ce=!1}return ce}finally{p=null,h=ie,v=!1}}var j=!1,I=null,S=-1,k=5,M=-1;function V(){return!(t.unstable_now()-M<k)}function F(){if(I!==null){var q=t.unstable_now();M=q;var W=!0;try{W=I(!0,q)}finally{W?D():(j=!1,I=null)}}else j=!1}var D;if(typeof w=="function")D=function(){w(F)};else if(typeof MessageChannel<"u"){var re=new MessageChannel,se=re.port2;re.port1.onmessage=F,D=function(){se.postMessage(null)}}else D=function(){A(F,0)};function ne(q){I=q,j||(j=!0,D())}function pe(q,W){S=A(function(){q(t.unstable_now())},W)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(q){q.callback=null},t.unstable_continueExecution=function(){E||v||(E=!0,ne(O))},t.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<q?Math.floor(1e3/q):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(q){switch(h){case 1:case 2:case 3:var W=3;break;default:W=h}var ie=h;h=W;try{return q()}finally{h=ie}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(q,W){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var ie=h;h=q;try{return W()}finally{h=ie}},t.unstable_scheduleCallback=function(q,W,ie){var ee=t.unstable_now();switch(typeof ie=="object"&&ie!==null?(ie=ie.delay,ie=typeof ie=="number"&&0<ie?ee+ie:ee):ie=ee,q){case 1:var ae=-1;break;case 2:ae=250;break;case 5:ae=1073741823;break;case 4:ae=1e4;break;default:ae=5e3}return ae=ie+ae,q={id:d++,callback:W,priorityLevel:q,startTime:ie,expirationTime:ae,sortIndex:-1},ie>ee?(q.sortIndex=ie,e(c,q),n(l)===null&&q===n(c)&&(y?(x(S),S=-1):y=!0,pe(R,ie-ee))):(q.sortIndex=ae,e(l,q),E||v||(E=!0,ne(O))),q},t.unstable_shouldYield=V,t.unstable_wrapCallback=function(q){var W=h;return function(){var ie=h;h=W;try{return q.apply(this,arguments)}finally{h=ie}}}})(BT);jT.exports=BT;var PD=jT.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ND=g,nr=PD;function oe(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var UT=new Set,gu={};function da(t,e){Rl(t,e),Rl(t+"Capture",e)}function Rl(t,e){for(gu[t]=e,t=0;t<e.length;t++)UT.add(e[t])}var Vs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),vy=Object.prototype.hasOwnProperty,kD=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,_1={},T1={};function MD(t){return vy.call(T1,t)?!0:vy.call(_1,t)?!1:kD.test(t)?T1[t]=!0:(_1[t]=!0,!1)}function DD(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function OD(t,e,n,r){if(e===null||typeof e>"u"||DD(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Nn(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var nn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){nn[t]=new Nn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];nn[e]=new Nn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){nn[t]=new Nn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){nn[t]=new Nn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){nn[t]=new Nn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){nn[t]=new Nn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){nn[t]=new Nn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){nn[t]=new Nn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){nn[t]=new Nn(t,5,!1,t.toLowerCase(),null,!1,!1)});var N0=/[\-:]([a-z])/g;function k0(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(N0,k0);nn[e]=new Nn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(N0,k0);nn[e]=new Nn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(N0,k0);nn[e]=new Nn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){nn[t]=new Nn(t,1,!1,t.toLowerCase(),null,!1,!1)});nn.xlinkHref=new Nn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){nn[t]=new Nn(t,1,!1,t.toLowerCase(),null,!0,!0)});function M0(t,e,n,r){var s=nn.hasOwnProperty(e)?nn[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(OD(e,n,s,r)&&(n=null),r||s===null?MD(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Ks=ND.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,yh=Symbol.for("react.element"),Ya=Symbol.for("react.portal"),Ka=Symbol.for("react.fragment"),D0=Symbol.for("react.strict_mode"),wy=Symbol.for("react.profiler"),qT=Symbol.for("react.provider"),GT=Symbol.for("react.context"),O0=Symbol.for("react.forward_ref"),Ey=Symbol.for("react.suspense"),xy=Symbol.for("react.suspense_list"),L0=Symbol.for("react.memo"),pi=Symbol.for("react.lazy"),$T=Symbol.for("react.offscreen"),A1=Symbol.iterator;function Sc(t){return t===null||typeof t!="object"?null:(t=A1&&t[A1]||t["@@iterator"],typeof t=="function"?t:null)}var xt=Object.assign,fg;function Fc(t){if(fg===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);fg=e&&e[1]||""}return`
`+fg+t}var pg=!1;function mg(t,e){if(!t||pg)return"";pg=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{pg=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Fc(t):""}function LD(t){switch(t.tag){case 5:return Fc(t.type);case 16:return Fc("Lazy");case 13:return Fc("Suspense");case 19:return Fc("SuspenseList");case 0:case 2:case 15:return t=mg(t.type,!1),t;case 11:return t=mg(t.type.render,!1),t;case 1:return t=mg(t.type,!0),t;default:return""}}function Cy(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Ka:return"Fragment";case Ya:return"Portal";case wy:return"Profiler";case D0:return"StrictMode";case Ey:return"Suspense";case xy:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case GT:return(t.displayName||"Context")+".Consumer";case qT:return(t._context.displayName||"Context")+".Provider";case O0:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case L0:return e=t.displayName||null,e!==null?e:Cy(t.type)||"Memo";case pi:e=t._payload,t=t._init;try{return Cy(t(e))}catch{}}return null}function VD(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Cy(e);case 8:return e===D0?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Yi(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function zT(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function FD(t){var e=zT(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function vh(t){t._valueTracker||(t._valueTracker=FD(t))}function WT(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=zT(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Mf(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function _y(t,e){var n=e.checked;return xt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function b1(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Yi(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function YT(t,e){e=e.checked,e!=null&&M0(t,"checked",e,!1)}function Ty(t,e){YT(t,e);var n=Yi(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Ay(t,e.type,n):e.hasOwnProperty("defaultValue")&&Ay(t,e.type,Yi(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function S1(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Ay(t,e,n){(e!=="number"||Mf(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var jc=Array.isArray;function ol(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Yi(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function by(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(oe(91));return xt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function I1(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(oe(92));if(jc(n)){if(1<n.length)throw Error(oe(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Yi(n)}}function KT(t,e){var n=Yi(e.value),r=Yi(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function R1(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function QT(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Sy(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?QT(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var wh,HT=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(wh=wh||document.createElement("div"),wh.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=wh.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function yu(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Xc={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},jD=["Webkit","ms","Moz","O"];Object.keys(Xc).forEach(function(t){jD.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Xc[e]=Xc[t]})});function JT(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Xc.hasOwnProperty(t)&&Xc[t]?(""+e).trim():e+"px"}function XT(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=JT(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var BD=xt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Iy(t,e){if(e){if(BD[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(oe(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(oe(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(oe(61))}if(e.style!=null&&typeof e.style!="object")throw Error(oe(62))}}function Ry(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Py=null;function V0(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ny=null,al=null,ll=null;function P1(t){if(t=od(t)){if(typeof Ny!="function")throw Error(oe(280));var e=t.stateNode;e&&(e=Up(e),Ny(t.stateNode,t.type,e))}}function ZT(t){al?ll?ll.push(t):ll=[t]:al=t}function eA(){if(al){var t=al,e=ll;if(ll=al=null,P1(t),e)for(t=0;t<e.length;t++)P1(e[t])}}function tA(t,e){return t(e)}function nA(){}var gg=!1;function rA(t,e,n){if(gg)return t(e,n);gg=!0;try{return tA(t,e,n)}finally{gg=!1,(al!==null||ll!==null)&&(nA(),eA())}}function vu(t,e){var n=t.stateNode;if(n===null)return null;var r=Up(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(oe(231,e,typeof n));return n}var ky=!1;if(Vs)try{var Ic={};Object.defineProperty(Ic,"passive",{get:function(){ky=!0}}),window.addEventListener("test",Ic,Ic),window.removeEventListener("test",Ic,Ic)}catch{ky=!1}function UD(t,e,n,r,s,i,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(d){this.onError(d)}}var Zc=!1,Df=null,Of=!1,My=null,qD={onError:function(t){Zc=!0,Df=t}};function GD(t,e,n,r,s,i,o,a,l){Zc=!1,Df=null,UD.apply(qD,arguments)}function $D(t,e,n,r,s,i,o,a,l){if(GD.apply(this,arguments),Zc){if(Zc){var c=Df;Zc=!1,Df=null}else throw Error(oe(198));Of||(Of=!0,My=c)}}function ha(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function sA(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function N1(t){if(ha(t)!==t)throw Error(oe(188))}function zD(t){var e=t.alternate;if(!e){if(e=ha(t),e===null)throw Error(oe(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return N1(s),t;if(i===r)return N1(s),e;i=i.sibling}throw Error(oe(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(oe(189))}}if(n.alternate!==r)throw Error(oe(190))}if(n.tag!==3)throw Error(oe(188));return n.stateNode.current===n?t:e}function iA(t){return t=zD(t),t!==null?oA(t):null}function oA(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=oA(t);if(e!==null)return e;t=t.sibling}return null}var aA=nr.unstable_scheduleCallback,k1=nr.unstable_cancelCallback,WD=nr.unstable_shouldYield,YD=nr.unstable_requestPaint,It=nr.unstable_now,KD=nr.unstable_getCurrentPriorityLevel,F0=nr.unstable_ImmediatePriority,lA=nr.unstable_UserBlockingPriority,Lf=nr.unstable_NormalPriority,QD=nr.unstable_LowPriority,cA=nr.unstable_IdlePriority,Vp=null,es=null;function HD(t){if(es&&typeof es.onCommitFiberRoot=="function")try{es.onCommitFiberRoot(Vp,t,void 0,(t.current.flags&128)===128)}catch{}}var Lr=Math.clz32?Math.clz32:ZD,JD=Math.log,XD=Math.LN2;function ZD(t){return t>>>=0,t===0?32:31-(JD(t)/XD|0)|0}var Eh=64,xh=4194304;function Bc(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Vf(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=Bc(a):(i&=o,i!==0&&(r=Bc(i)))}else o=n&~s,o!==0?r=Bc(o):i!==0&&(r=Bc(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Lr(e),s=1<<n,r|=t[n],e&=~s;return r}function e4(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function t4(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-Lr(i),a=1<<o,l=s[o];l===-1?(!(a&n)||a&r)&&(s[o]=e4(a,e)):l<=e&&(t.expiredLanes|=a),i&=~a}}function Dy(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function uA(){var t=Eh;return Eh<<=1,!(Eh&4194240)&&(Eh=64),t}function yg(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function sd(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Lr(e),t[e]=n}function n4(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-Lr(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function j0(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Lr(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var tt=0;function dA(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var hA,B0,fA,pA,mA,Oy=!1,Ch=[],Mi=null,Di=null,Oi=null,wu=new Map,Eu=new Map,yi=[],r4="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function M1(t,e){switch(t){case"focusin":case"focusout":Mi=null;break;case"dragenter":case"dragleave":Di=null;break;case"mouseover":case"mouseout":Oi=null;break;case"pointerover":case"pointerout":wu.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Eu.delete(e.pointerId)}}function Rc(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=od(e),e!==null&&B0(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function s4(t,e,n,r,s){switch(e){case"focusin":return Mi=Rc(Mi,t,e,n,r,s),!0;case"dragenter":return Di=Rc(Di,t,e,n,r,s),!0;case"mouseover":return Oi=Rc(Oi,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return wu.set(i,Rc(wu.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Eu.set(i,Rc(Eu.get(i)||null,t,e,n,r,s)),!0}return!1}function gA(t){var e=Oo(t.target);if(e!==null){var n=ha(e);if(n!==null){if(e=n.tag,e===13){if(e=sA(n),e!==null){t.blockedOn=e,mA(t.priority,function(){fA(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Zh(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Ly(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Py=r,n.target.dispatchEvent(r),Py=null}else return e=od(n),e!==null&&B0(e),t.blockedOn=n,!1;e.shift()}return!0}function D1(t,e,n){Zh(t)&&n.delete(e)}function i4(){Oy=!1,Mi!==null&&Zh(Mi)&&(Mi=null),Di!==null&&Zh(Di)&&(Di=null),Oi!==null&&Zh(Oi)&&(Oi=null),wu.forEach(D1),Eu.forEach(D1)}function Pc(t,e){t.blockedOn===e&&(t.blockedOn=null,Oy||(Oy=!0,nr.unstable_scheduleCallback(nr.unstable_NormalPriority,i4)))}function xu(t){function e(s){return Pc(s,t)}if(0<Ch.length){Pc(Ch[0],t);for(var n=1;n<Ch.length;n++){var r=Ch[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Mi!==null&&Pc(Mi,t),Di!==null&&Pc(Di,t),Oi!==null&&Pc(Oi,t),wu.forEach(e),Eu.forEach(e),n=0;n<yi.length;n++)r=yi[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<yi.length&&(n=yi[0],n.blockedOn===null);)gA(n),n.blockedOn===null&&yi.shift()}var cl=Ks.ReactCurrentBatchConfig,Ff=!0;function o4(t,e,n,r){var s=tt,i=cl.transition;cl.transition=null;try{tt=1,U0(t,e,n,r)}finally{tt=s,cl.transition=i}}function a4(t,e,n,r){var s=tt,i=cl.transition;cl.transition=null;try{tt=4,U0(t,e,n,r)}finally{tt=s,cl.transition=i}}function U0(t,e,n,r){if(Ff){var s=Ly(t,e,n,r);if(s===null)Sg(t,e,r,jf,n),M1(t,r);else if(s4(s,t,e,n,r))r.stopPropagation();else if(M1(t,r),e&4&&-1<r4.indexOf(t)){for(;s!==null;){var i=od(s);if(i!==null&&hA(i),i=Ly(t,e,n,r),i===null&&Sg(t,e,r,jf,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else Sg(t,e,r,null,n)}}var jf=null;function Ly(t,e,n,r){if(jf=null,t=V0(r),t=Oo(t),t!==null)if(e=ha(t),e===null)t=null;else if(n=e.tag,n===13){if(t=sA(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return jf=t,null}function yA(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(KD()){case F0:return 1;case lA:return 4;case Lf:case QD:return 16;case cA:return 536870912;default:return 16}default:return 16}}var Ii=null,q0=null,ef=null;function vA(){if(ef)return ef;var t,e=q0,n=e.length,r,s="value"in Ii?Ii.value:Ii.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return ef=s.slice(t,1<r?1-r:void 0)}function tf(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function _h(){return!0}function O1(){return!1}function sr(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?_h:O1,this.isPropagationStopped=O1,this}return xt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=_h)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=_h)},persist:function(){},isPersistent:_h}),e}var Ql={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},G0=sr(Ql),id=xt({},Ql,{view:0,detail:0}),l4=sr(id),vg,wg,Nc,Fp=xt({},id,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:$0,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Nc&&(Nc&&t.type==="mousemove"?(vg=t.screenX-Nc.screenX,wg=t.screenY-Nc.screenY):wg=vg=0,Nc=t),vg)},movementY:function(t){return"movementY"in t?t.movementY:wg}}),L1=sr(Fp),c4=xt({},Fp,{dataTransfer:0}),u4=sr(c4),d4=xt({},id,{relatedTarget:0}),Eg=sr(d4),h4=xt({},Ql,{animationName:0,elapsedTime:0,pseudoElement:0}),f4=sr(h4),p4=xt({},Ql,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),m4=sr(p4),g4=xt({},Ql,{data:0}),V1=sr(g4),y4={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},v4={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},w4={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function E4(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=w4[t])?!!e[t]:!1}function $0(){return E4}var x4=xt({},id,{key:function(t){if(t.key){var e=y4[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=tf(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?v4[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:$0,charCode:function(t){return t.type==="keypress"?tf(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?tf(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),C4=sr(x4),_4=xt({},Fp,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),F1=sr(_4),T4=xt({},id,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:$0}),A4=sr(T4),b4=xt({},Ql,{propertyName:0,elapsedTime:0,pseudoElement:0}),S4=sr(b4),I4=xt({},Fp,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),R4=sr(I4),P4=[9,13,27,32],z0=Vs&&"CompositionEvent"in window,eu=null;Vs&&"documentMode"in document&&(eu=document.documentMode);var N4=Vs&&"TextEvent"in window&&!eu,wA=Vs&&(!z0||eu&&8<eu&&11>=eu),j1=" ",B1=!1;function EA(t,e){switch(t){case"keyup":return P4.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function xA(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Qa=!1;function k4(t,e){switch(t){case"compositionend":return xA(e);case"keypress":return e.which!==32?null:(B1=!0,j1);case"textInput":return t=e.data,t===j1&&B1?null:t;default:return null}}function M4(t,e){if(Qa)return t==="compositionend"||!z0&&EA(t,e)?(t=vA(),ef=q0=Ii=null,Qa=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return wA&&e.locale!=="ko"?null:e.data;default:return null}}var D4={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function U1(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!D4[t.type]:e==="textarea"}function CA(t,e,n,r){ZT(r),e=Bf(e,"onChange"),0<e.length&&(n=new G0("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var tu=null,Cu=null;function O4(t){MA(t,0)}function jp(t){var e=Xa(t);if(WT(e))return t}function L4(t,e){if(t==="change")return e}var _A=!1;if(Vs){var xg;if(Vs){var Cg="oninput"in document;if(!Cg){var q1=document.createElement("div");q1.setAttribute("oninput","return;"),Cg=typeof q1.oninput=="function"}xg=Cg}else xg=!1;_A=xg&&(!document.documentMode||9<document.documentMode)}function G1(){tu&&(tu.detachEvent("onpropertychange",TA),Cu=tu=null)}function TA(t){if(t.propertyName==="value"&&jp(Cu)){var e=[];CA(e,Cu,t,V0(t)),rA(O4,e)}}function V4(t,e,n){t==="focusin"?(G1(),tu=e,Cu=n,tu.attachEvent("onpropertychange",TA)):t==="focusout"&&G1()}function F4(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return jp(Cu)}function j4(t,e){if(t==="click")return jp(e)}function B4(t,e){if(t==="input"||t==="change")return jp(e)}function U4(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var jr=typeof Object.is=="function"?Object.is:U4;function _u(t,e){if(jr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!vy.call(e,s)||!jr(t[s],e[s]))return!1}return!0}function $1(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function z1(t,e){var n=$1(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=$1(n)}}function AA(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?AA(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function bA(){for(var t=window,e=Mf();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Mf(t.document)}return e}function W0(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function q4(t){var e=bA(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&AA(n.ownerDocument.documentElement,n)){if(r!==null&&W0(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=z1(n,i);var o=z1(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var G4=Vs&&"documentMode"in document&&11>=document.documentMode,Ha=null,Vy=null,nu=null,Fy=!1;function W1(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Fy||Ha==null||Ha!==Mf(r)||(r=Ha,"selectionStart"in r&&W0(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),nu&&_u(nu,r)||(nu=r,r=Bf(Vy,"onSelect"),0<r.length&&(e=new G0("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Ha)))}function Th(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Ja={animationend:Th("Animation","AnimationEnd"),animationiteration:Th("Animation","AnimationIteration"),animationstart:Th("Animation","AnimationStart"),transitionend:Th("Transition","TransitionEnd")},_g={},SA={};Vs&&(SA=document.createElement("div").style,"AnimationEvent"in window||(delete Ja.animationend.animation,delete Ja.animationiteration.animation,delete Ja.animationstart.animation),"TransitionEvent"in window||delete Ja.transitionend.transition);function Bp(t){if(_g[t])return _g[t];if(!Ja[t])return t;var e=Ja[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in SA)return _g[t]=e[n];return t}var IA=Bp("animationend"),RA=Bp("animationiteration"),PA=Bp("animationstart"),NA=Bp("transitionend"),kA=new Map,Y1="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ao(t,e){kA.set(t,e),da(e,[t])}for(var Tg=0;Tg<Y1.length;Tg++){var Ag=Y1[Tg],$4=Ag.toLowerCase(),z4=Ag[0].toUpperCase()+Ag.slice(1);ao($4,"on"+z4)}ao(IA,"onAnimationEnd");ao(RA,"onAnimationIteration");ao(PA,"onAnimationStart");ao("dblclick","onDoubleClick");ao("focusin","onFocus");ao("focusout","onBlur");ao(NA,"onTransitionEnd");Rl("onMouseEnter",["mouseout","mouseover"]);Rl("onMouseLeave",["mouseout","mouseover"]);Rl("onPointerEnter",["pointerout","pointerover"]);Rl("onPointerLeave",["pointerout","pointerover"]);da("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));da("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));da("onBeforeInput",["compositionend","keypress","textInput","paste"]);da("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));da("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));da("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Uc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),W4=new Set("cancel close invalid load scroll toggle".split(" ").concat(Uc));function K1(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,$D(r,e,void 0,t),t.currentTarget=null}function MA(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;K1(s,a,c),i=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;K1(s,a,c),i=l}}}if(Of)throw t=My,Of=!1,My=null,t}function ut(t,e){var n=e[Gy];n===void 0&&(n=e[Gy]=new Set);var r=t+"__bubble";n.has(r)||(DA(e,t,2,!1),n.add(r))}function bg(t,e,n){var r=0;e&&(r|=4),DA(n,t,r,e)}var Ah="_reactListening"+Math.random().toString(36).slice(2);function Tu(t){if(!t[Ah]){t[Ah]=!0,UT.forEach(function(n){n!=="selectionchange"&&(W4.has(n)||bg(n,!1,t),bg(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Ah]||(e[Ah]=!0,bg("selectionchange",!1,e))}}function DA(t,e,n,r){switch(yA(e)){case 1:var s=o4;break;case 4:s=a4;break;default:s=U0}n=s.bind(null,e,n,t),s=void 0,!ky||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function Sg(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=Oo(a),o===null)return;if(l=o.tag,l===5||l===6){r=i=o;continue e}a=a.parentNode}}r=r.return}rA(function(){var c=i,d=V0(n),p=[];e:{var h=kA.get(t);if(h!==void 0){var v=G0,E=t;switch(t){case"keypress":if(tf(n)===0)break e;case"keydown":case"keyup":v=C4;break;case"focusin":E="focus",v=Eg;break;case"focusout":E="blur",v=Eg;break;case"beforeblur":case"afterblur":v=Eg;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=L1;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=u4;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=A4;break;case IA:case RA:case PA:v=f4;break;case NA:v=S4;break;case"scroll":v=l4;break;case"wheel":v=R4;break;case"copy":case"cut":case"paste":v=m4;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=F1}var y=(e&4)!==0,A=!y&&t==="scroll",x=y?h!==null?h+"Capture":null:h;y=[];for(var w=c,_;w!==null;){_=w;var R=_.stateNode;if(_.tag===5&&R!==null&&(_=R,x!==null&&(R=vu(w,x),R!=null&&y.push(Au(w,R,_)))),A)break;w=w.return}0<y.length&&(h=new v(h,E,null,n,d),p.push({event:h,listeners:y}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",v=t==="mouseout"||t==="pointerout",h&&n!==Py&&(E=n.relatedTarget||n.fromElement)&&(Oo(E)||E[Fs]))break e;if((v||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,v?(E=n.relatedTarget||n.toElement,v=c,E=E?Oo(E):null,E!==null&&(A=ha(E),E!==A||E.tag!==5&&E.tag!==6)&&(E=null)):(v=null,E=c),v!==E)){if(y=L1,R="onMouseLeave",x="onMouseEnter",w="mouse",(t==="pointerout"||t==="pointerover")&&(y=F1,R="onPointerLeave",x="onPointerEnter",w="pointer"),A=v==null?h:Xa(v),_=E==null?h:Xa(E),h=new y(R,w+"leave",v,n,d),h.target=A,h.relatedTarget=_,R=null,Oo(d)===c&&(y=new y(x,w+"enter",E,n,d),y.target=_,y.relatedTarget=A,R=y),A=R,v&&E)t:{for(y=v,x=E,w=0,_=y;_;_=ja(_))w++;for(_=0,R=x;R;R=ja(R))_++;for(;0<w-_;)y=ja(y),w--;for(;0<_-w;)x=ja(x),_--;for(;w--;){if(y===x||x!==null&&y===x.alternate)break t;y=ja(y),x=ja(x)}y=null}else y=null;v!==null&&Q1(p,h,v,y,!1),E!==null&&A!==null&&Q1(p,A,E,y,!0)}}e:{if(h=c?Xa(c):window,v=h.nodeName&&h.nodeName.toLowerCase(),v==="select"||v==="input"&&h.type==="file")var O=L4;else if(U1(h))if(_A)O=B4;else{O=F4;var j=V4}else(v=h.nodeName)&&v.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(O=j4);if(O&&(O=O(t,c))){CA(p,O,n,d);break e}j&&j(t,h,c),t==="focusout"&&(j=h._wrapperState)&&j.controlled&&h.type==="number"&&Ay(h,"number",h.value)}switch(j=c?Xa(c):window,t){case"focusin":(U1(j)||j.contentEditable==="true")&&(Ha=j,Vy=c,nu=null);break;case"focusout":nu=Vy=Ha=null;break;case"mousedown":Fy=!0;break;case"contextmenu":case"mouseup":case"dragend":Fy=!1,W1(p,n,d);break;case"selectionchange":if(G4)break;case"keydown":case"keyup":W1(p,n,d)}var I;if(z0)e:{switch(t){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else Qa?EA(t,n)&&(S="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(S="onCompositionStart");S&&(wA&&n.locale!=="ko"&&(Qa||S!=="onCompositionStart"?S==="onCompositionEnd"&&Qa&&(I=vA()):(Ii=d,q0="value"in Ii?Ii.value:Ii.textContent,Qa=!0)),j=Bf(c,S),0<j.length&&(S=new V1(S,t,null,n,d),p.push({event:S,listeners:j}),I?S.data=I:(I=xA(n),I!==null&&(S.data=I)))),(I=N4?k4(t,n):M4(t,n))&&(c=Bf(c,"onBeforeInput"),0<c.length&&(d=new V1("onBeforeInput","beforeinput",null,n,d),p.push({event:d,listeners:c}),d.data=I))}MA(p,e)})}function Au(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Bf(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=vu(t,n),i!=null&&r.unshift(Au(t,i,s)),i=vu(t,e),i!=null&&r.push(Au(t,i,s))),t=t.return}return r}function ja(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Q1(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,s?(l=vu(n,i),l!=null&&o.unshift(Au(n,l,a))):s||(l=vu(n,i),l!=null&&o.push(Au(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var Y4=/\r\n?/g,K4=/\u0000|\uFFFD/g;function H1(t){return(typeof t=="string"?t:""+t).replace(Y4,`
`).replace(K4,"")}function bh(t,e,n){if(e=H1(e),H1(t)!==e&&n)throw Error(oe(425))}function Uf(){}var jy=null,By=null;function Uy(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var qy=typeof setTimeout=="function"?setTimeout:void 0,Q4=typeof clearTimeout=="function"?clearTimeout:void 0,J1=typeof Promise=="function"?Promise:void 0,H4=typeof queueMicrotask=="function"?queueMicrotask:typeof J1<"u"?function(t){return J1.resolve(null).then(t).catch(J4)}:qy;function J4(t){setTimeout(function(){throw t})}function Ig(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),xu(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);xu(e)}function Li(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function X1(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Hl=Math.random().toString(36).slice(2),Xr="__reactFiber$"+Hl,bu="__reactProps$"+Hl,Fs="__reactContainer$"+Hl,Gy="__reactEvents$"+Hl,X4="__reactListeners$"+Hl,Z4="__reactHandles$"+Hl;function Oo(t){var e=t[Xr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Fs]||n[Xr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=X1(t);t!==null;){if(n=t[Xr])return n;t=X1(t)}return e}t=n,n=t.parentNode}return null}function od(t){return t=t[Xr]||t[Fs],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Xa(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(oe(33))}function Up(t){return t[bu]||null}var $y=[],Za=-1;function lo(t){return{current:t}}function dt(t){0>Za||(t.current=$y[Za],$y[Za]=null,Za--)}function at(t,e){Za++,$y[Za]=t.current,t.current=e}var Ki={},vn=lo(Ki),Fn=lo(!1),Ho=Ki;function Pl(t,e){var n=t.type.contextTypes;if(!n)return Ki;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function jn(t){return t=t.childContextTypes,t!=null}function qf(){dt(Fn),dt(vn)}function Z1(t,e,n){if(vn.current!==Ki)throw Error(oe(168));at(vn,e),at(Fn,n)}function OA(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(oe(108,VD(t)||"Unknown",s));return xt({},n,r)}function Gf(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Ki,Ho=vn.current,at(vn,t),at(Fn,Fn.current),!0}function ex(t,e,n){var r=t.stateNode;if(!r)throw Error(oe(169));n?(t=OA(t,e,Ho),r.__reactInternalMemoizedMergedChildContext=t,dt(Fn),dt(vn),at(vn,t)):dt(Fn),at(Fn,n)}var Is=null,qp=!1,Rg=!1;function LA(t){Is===null?Is=[t]:Is.push(t)}function eO(t){qp=!0,LA(t)}function co(){if(!Rg&&Is!==null){Rg=!0;var t=0,e=tt;try{var n=Is;for(tt=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Is=null,qp=!1}catch(s){throw Is!==null&&(Is=Is.slice(t+1)),aA(F0,co),s}finally{tt=e,Rg=!1}}return null}var el=[],tl=0,$f=null,zf=0,dr=[],hr=0,Jo=null,Rs=1,Ps="";function ko(t,e){el[tl++]=zf,el[tl++]=$f,$f=t,zf=e}function VA(t,e,n){dr[hr++]=Rs,dr[hr++]=Ps,dr[hr++]=Jo,Jo=t;var r=Rs;t=Ps;var s=32-Lr(r)-1;r&=~(1<<s),n+=1;var i=32-Lr(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,Rs=1<<32-Lr(e)+s|n<<s|r,Ps=i+t}else Rs=1<<i|n<<s|r,Ps=t}function Y0(t){t.return!==null&&(ko(t,1),VA(t,1,0))}function K0(t){for(;t===$f;)$f=el[--tl],el[tl]=null,zf=el[--tl],el[tl]=null;for(;t===Jo;)Jo=dr[--hr],dr[hr]=null,Ps=dr[--hr],dr[hr]=null,Rs=dr[--hr],dr[hr]=null}var Zn=null,Jn=null,vt=!1,Dr=null;function FA(t,e){var n=mr(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function tx(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Zn=t,Jn=Li(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Zn=t,Jn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Jo!==null?{id:Rs,overflow:Ps}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=mr(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Zn=t,Jn=null,!0):!1;default:return!1}}function zy(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Wy(t){if(vt){var e=Jn;if(e){var n=e;if(!tx(t,e)){if(zy(t))throw Error(oe(418));e=Li(n.nextSibling);var r=Zn;e&&tx(t,e)?FA(r,n):(t.flags=t.flags&-4097|2,vt=!1,Zn=t)}}else{if(zy(t))throw Error(oe(418));t.flags=t.flags&-4097|2,vt=!1,Zn=t}}}function nx(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Zn=t}function Sh(t){if(t!==Zn)return!1;if(!vt)return nx(t),vt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Uy(t.type,t.memoizedProps)),e&&(e=Jn)){if(zy(t))throw jA(),Error(oe(418));for(;e;)FA(t,e),e=Li(e.nextSibling)}if(nx(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(oe(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Jn=Li(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Jn=null}}else Jn=Zn?Li(t.stateNode.nextSibling):null;return!0}function jA(){for(var t=Jn;t;)t=Li(t.nextSibling)}function Nl(){Jn=Zn=null,vt=!1}function Q0(t){Dr===null?Dr=[t]:Dr.push(t)}var tO=Ks.ReactCurrentBatchConfig;function kc(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(oe(309));var r=n.stateNode}if(!r)throw Error(oe(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(oe(284));if(!n._owner)throw Error(oe(290,t))}return t}function Ih(t,e){throw t=Object.prototype.toString.call(e),Error(oe(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function rx(t){var e=t._init;return e(t._payload)}function BA(t){function e(x,w){if(t){var _=x.deletions;_===null?(x.deletions=[w],x.flags|=16):_.push(w)}}function n(x,w){if(!t)return null;for(;w!==null;)e(x,w),w=w.sibling;return null}function r(x,w){for(x=new Map;w!==null;)w.key!==null?x.set(w.key,w):x.set(w.index,w),w=w.sibling;return x}function s(x,w){return x=Bi(x,w),x.index=0,x.sibling=null,x}function i(x,w,_){return x.index=_,t?(_=x.alternate,_!==null?(_=_.index,_<w?(x.flags|=2,w):_):(x.flags|=2,w)):(x.flags|=1048576,w)}function o(x){return t&&x.alternate===null&&(x.flags|=2),x}function a(x,w,_,R){return w===null||w.tag!==6?(w=Lg(_,x.mode,R),w.return=x,w):(w=s(w,_),w.return=x,w)}function l(x,w,_,R){var O=_.type;return O===Ka?d(x,w,_.props.children,R,_.key):w!==null&&(w.elementType===O||typeof O=="object"&&O!==null&&O.$$typeof===pi&&rx(O)===w.type)?(R=s(w,_.props),R.ref=kc(x,w,_),R.return=x,R):(R=cf(_.type,_.key,_.props,null,x.mode,R),R.ref=kc(x,w,_),R.return=x,R)}function c(x,w,_,R){return w===null||w.tag!==4||w.stateNode.containerInfo!==_.containerInfo||w.stateNode.implementation!==_.implementation?(w=Vg(_,x.mode,R),w.return=x,w):(w=s(w,_.children||[]),w.return=x,w)}function d(x,w,_,R,O){return w===null||w.tag!==7?(w=$o(_,x.mode,R,O),w.return=x,w):(w=s(w,_),w.return=x,w)}function p(x,w,_){if(typeof w=="string"&&w!==""||typeof w=="number")return w=Lg(""+w,x.mode,_),w.return=x,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case yh:return _=cf(w.type,w.key,w.props,null,x.mode,_),_.ref=kc(x,null,w),_.return=x,_;case Ya:return w=Vg(w,x.mode,_),w.return=x,w;case pi:var R=w._init;return p(x,R(w._payload),_)}if(jc(w)||Sc(w))return w=$o(w,x.mode,_,null),w.return=x,w;Ih(x,w)}return null}function h(x,w,_,R){var O=w!==null?w.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return O!==null?null:a(x,w,""+_,R);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case yh:return _.key===O?l(x,w,_,R):null;case Ya:return _.key===O?c(x,w,_,R):null;case pi:return O=_._init,h(x,w,O(_._payload),R)}if(jc(_)||Sc(_))return O!==null?null:d(x,w,_,R,null);Ih(x,_)}return null}function v(x,w,_,R,O){if(typeof R=="string"&&R!==""||typeof R=="number")return x=x.get(_)||null,a(w,x,""+R,O);if(typeof R=="object"&&R!==null){switch(R.$$typeof){case yh:return x=x.get(R.key===null?_:R.key)||null,l(w,x,R,O);case Ya:return x=x.get(R.key===null?_:R.key)||null,c(w,x,R,O);case pi:var j=R._init;return v(x,w,_,j(R._payload),O)}if(jc(R)||Sc(R))return x=x.get(_)||null,d(w,x,R,O,null);Ih(w,R)}return null}function E(x,w,_,R){for(var O=null,j=null,I=w,S=w=0,k=null;I!==null&&S<_.length;S++){I.index>S?(k=I,I=null):k=I.sibling;var M=h(x,I,_[S],R);if(M===null){I===null&&(I=k);break}t&&I&&M.alternate===null&&e(x,I),w=i(M,w,S),j===null?O=M:j.sibling=M,j=M,I=k}if(S===_.length)return n(x,I),vt&&ko(x,S),O;if(I===null){for(;S<_.length;S++)I=p(x,_[S],R),I!==null&&(w=i(I,w,S),j===null?O=I:j.sibling=I,j=I);return vt&&ko(x,S),O}for(I=r(x,I);S<_.length;S++)k=v(I,x,S,_[S],R),k!==null&&(t&&k.alternate!==null&&I.delete(k.key===null?S:k.key),w=i(k,w,S),j===null?O=k:j.sibling=k,j=k);return t&&I.forEach(function(V){return e(x,V)}),vt&&ko(x,S),O}function y(x,w,_,R){var O=Sc(_);if(typeof O!="function")throw Error(oe(150));if(_=O.call(_),_==null)throw Error(oe(151));for(var j=O=null,I=w,S=w=0,k=null,M=_.next();I!==null&&!M.done;S++,M=_.next()){I.index>S?(k=I,I=null):k=I.sibling;var V=h(x,I,M.value,R);if(V===null){I===null&&(I=k);break}t&&I&&V.alternate===null&&e(x,I),w=i(V,w,S),j===null?O=V:j.sibling=V,j=V,I=k}if(M.done)return n(x,I),vt&&ko(x,S),O;if(I===null){for(;!M.done;S++,M=_.next())M=p(x,M.value,R),M!==null&&(w=i(M,w,S),j===null?O=M:j.sibling=M,j=M);return vt&&ko(x,S),O}for(I=r(x,I);!M.done;S++,M=_.next())M=v(I,x,S,M.value,R),M!==null&&(t&&M.alternate!==null&&I.delete(M.key===null?S:M.key),w=i(M,w,S),j===null?O=M:j.sibling=M,j=M);return t&&I.forEach(function(F){return e(x,F)}),vt&&ko(x,S),O}function A(x,w,_,R){if(typeof _=="object"&&_!==null&&_.type===Ka&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case yh:e:{for(var O=_.key,j=w;j!==null;){if(j.key===O){if(O=_.type,O===Ka){if(j.tag===7){n(x,j.sibling),w=s(j,_.props.children),w.return=x,x=w;break e}}else if(j.elementType===O||typeof O=="object"&&O!==null&&O.$$typeof===pi&&rx(O)===j.type){n(x,j.sibling),w=s(j,_.props),w.ref=kc(x,j,_),w.return=x,x=w;break e}n(x,j);break}else e(x,j);j=j.sibling}_.type===Ka?(w=$o(_.props.children,x.mode,R,_.key),w.return=x,x=w):(R=cf(_.type,_.key,_.props,null,x.mode,R),R.ref=kc(x,w,_),R.return=x,x=R)}return o(x);case Ya:e:{for(j=_.key;w!==null;){if(w.key===j)if(w.tag===4&&w.stateNode.containerInfo===_.containerInfo&&w.stateNode.implementation===_.implementation){n(x,w.sibling),w=s(w,_.children||[]),w.return=x,x=w;break e}else{n(x,w);break}else e(x,w);w=w.sibling}w=Vg(_,x.mode,R),w.return=x,x=w}return o(x);case pi:return j=_._init,A(x,w,j(_._payload),R)}if(jc(_))return E(x,w,_,R);if(Sc(_))return y(x,w,_,R);Ih(x,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,w!==null&&w.tag===6?(n(x,w.sibling),w=s(w,_),w.return=x,x=w):(n(x,w),w=Lg(_,x.mode,R),w.return=x,x=w),o(x)):n(x,w)}return A}var kl=BA(!0),UA=BA(!1),Wf=lo(null),Yf=null,nl=null,H0=null;function J0(){H0=nl=Yf=null}function X0(t){var e=Wf.current;dt(Wf),t._currentValue=e}function Yy(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function ul(t,e){Yf=t,H0=nl=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Vn=!0),t.firstContext=null)}function vr(t){var e=t._currentValue;if(H0!==t)if(t={context:t,memoizedValue:e,next:null},nl===null){if(Yf===null)throw Error(oe(308));nl=t,Yf.dependencies={lanes:0,firstContext:t}}else nl=nl.next=t;return e}var Lo=null;function Z0(t){Lo===null?Lo=[t]:Lo.push(t)}function qA(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,Z0(e)):(n.next=s.next,s.next=n),e.interleaved=n,js(t,r)}function js(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var mi=!1;function ew(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function GA(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Ds(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Vi(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Ke&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,js(t,n)}return s=r.interleaved,s===null?(e.next=e,Z0(r)):(e.next=s.next,s.next=e),r.interleaved=e,js(t,n)}function nf(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,j0(t,n)}}function sx(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Kf(t,e,n,r){var s=t.updateQueue;mi=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?i=c:o.next=c,o=l;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=c:a.next=c,d.lastBaseUpdate=l))}if(i!==null){var p=s.baseState;o=0,d=c=l=null,a=i;do{var h=a.lane,v=a.eventTime;if((r&h)===h){d!==null&&(d=d.next={eventTime:v,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var E=t,y=a;switch(h=e,v=n,y.tag){case 1:if(E=y.payload,typeof E=="function"){p=E.call(v,p,h);break e}p=E;break e;case 3:E.flags=E.flags&-65537|128;case 0:if(E=y.payload,h=typeof E=="function"?E.call(v,p,h):E,h==null)break e;p=xt({},p,h);break e;case 2:mi=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,h=s.effects,h===null?s.effects=[a]:h.push(a))}else v={eventTime:v,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(c=d=v,l=p):d=d.next=v,o|=h;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;h=a,a=h.next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}while(!0);if(d===null&&(l=p),s.baseState=l,s.firstBaseUpdate=c,s.lastBaseUpdate=d,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);Zo|=o,t.lanes=o,t.memoizedState=p}}function ix(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(oe(191,s));s.call(r)}}}var ad={},ts=lo(ad),Su=lo(ad),Iu=lo(ad);function Vo(t){if(t===ad)throw Error(oe(174));return t}function tw(t,e){switch(at(Iu,e),at(Su,t),at(ts,ad),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Sy(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Sy(e,t)}dt(ts),at(ts,e)}function Ml(){dt(ts),dt(Su),dt(Iu)}function $A(t){Vo(Iu.current);var e=Vo(ts.current),n=Sy(e,t.type);e!==n&&(at(Su,t),at(ts,n))}function nw(t){Su.current===t&&(dt(ts),dt(Su))}var wt=lo(0);function Qf(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Pg=[];function rw(){for(var t=0;t<Pg.length;t++)Pg[t]._workInProgressVersionPrimary=null;Pg.length=0}var rf=Ks.ReactCurrentDispatcher,Ng=Ks.ReactCurrentBatchConfig,Xo=0,Et=null,jt=null,Yt=null,Hf=!1,ru=!1,Ru=0,nO=0;function dn(){throw Error(oe(321))}function sw(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!jr(t[n],e[n]))return!1;return!0}function iw(t,e,n,r,s,i){if(Xo=i,Et=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,rf.current=t===null||t.memoizedState===null?oO:aO,t=n(r,s),ru){i=0;do{if(ru=!1,Ru=0,25<=i)throw Error(oe(301));i+=1,Yt=jt=null,e.updateQueue=null,rf.current=lO,t=n(r,s)}while(ru)}if(rf.current=Jf,e=jt!==null&&jt.next!==null,Xo=0,Yt=jt=Et=null,Hf=!1,e)throw Error(oe(300));return t}function ow(){var t=Ru!==0;return Ru=0,t}function Yr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Yt===null?Et.memoizedState=Yt=t:Yt=Yt.next=t,Yt}function wr(){if(jt===null){var t=Et.alternate;t=t!==null?t.memoizedState:null}else t=jt.next;var e=Yt===null?Et.memoizedState:Yt.next;if(e!==null)Yt=e,jt=t;else{if(t===null)throw Error(oe(310));jt=t,t={memoizedState:jt.memoizedState,baseState:jt.baseState,baseQueue:jt.baseQueue,queue:jt.queue,next:null},Yt===null?Et.memoizedState=Yt=t:Yt=Yt.next=t}return Yt}function Pu(t,e){return typeof e=="function"?e(t):e}function kg(t){var e=wr(),n=e.queue;if(n===null)throw Error(oe(311));n.lastRenderedReducer=t;var r=jt,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,l=null,c=i;do{var d=c.lane;if((Xo&d)===d)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var p={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=p,o=r):l=l.next=p,Et.lanes|=d,Zo|=d}c=c.next}while(c!==null&&c!==i);l===null?o=r:l.next=a,jr(r,e.memoizedState)||(Vn=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,Et.lanes|=i,Zo|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Mg(t){var e=wr(),n=e.queue;if(n===null)throw Error(oe(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);jr(i,e.memoizedState)||(Vn=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function zA(){}function WA(t,e){var n=Et,r=wr(),s=e(),i=!jr(r.memoizedState,s);if(i&&(r.memoizedState=s,Vn=!0),r=r.queue,aw(QA.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||Yt!==null&&Yt.memoizedState.tag&1){if(n.flags|=2048,Nu(9,KA.bind(null,n,r,s,e),void 0,null),Kt===null)throw Error(oe(349));Xo&30||YA(n,e,s)}return s}function YA(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Et.updateQueue,e===null?(e={lastEffect:null,stores:null},Et.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function KA(t,e,n,r){e.value=n,e.getSnapshot=r,HA(e)&&JA(t)}function QA(t,e,n){return n(function(){HA(e)&&JA(t)})}function HA(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!jr(t,n)}catch{return!0}}function JA(t){var e=js(t,1);e!==null&&Vr(e,t,1,-1)}function ox(t){var e=Yr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Pu,lastRenderedState:t},e.queue=t,t=t.dispatch=iO.bind(null,Et,t),[e.memoizedState,t]}function Nu(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Et.updateQueue,e===null?(e={lastEffect:null,stores:null},Et.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function XA(){return wr().memoizedState}function sf(t,e,n,r){var s=Yr();Et.flags|=t,s.memoizedState=Nu(1|e,n,void 0,r===void 0?null:r)}function Gp(t,e,n,r){var s=wr();r=r===void 0?null:r;var i=void 0;if(jt!==null){var o=jt.memoizedState;if(i=o.destroy,r!==null&&sw(r,o.deps)){s.memoizedState=Nu(e,n,i,r);return}}Et.flags|=t,s.memoizedState=Nu(1|e,n,i,r)}function ax(t,e){return sf(8390656,8,t,e)}function aw(t,e){return Gp(2048,8,t,e)}function ZA(t,e){return Gp(4,2,t,e)}function eb(t,e){return Gp(4,4,t,e)}function tb(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function nb(t,e,n){return n=n!=null?n.concat([t]):null,Gp(4,4,tb.bind(null,e,t),n)}function lw(){}function rb(t,e){var n=wr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&sw(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function sb(t,e){var n=wr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&sw(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function ib(t,e,n){return Xo&21?(jr(n,e)||(n=uA(),Et.lanes|=n,Zo|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Vn=!0),t.memoizedState=n)}function rO(t,e){var n=tt;tt=n!==0&&4>n?n:4,t(!0);var r=Ng.transition;Ng.transition={};try{t(!1),e()}finally{tt=n,Ng.transition=r}}function ob(){return wr().memoizedState}function sO(t,e,n){var r=ji(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},ab(t))lb(e,n);else if(n=qA(t,e,n,r),n!==null){var s=Rn();Vr(n,t,r,s),cb(n,e,r)}}function iO(t,e,n){var r=ji(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(ab(t))lb(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,jr(a,o)){var l=e.interleaved;l===null?(s.next=s,Z0(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}n=qA(t,e,s,r),n!==null&&(s=Rn(),Vr(n,t,r,s),cb(n,e,r))}}function ab(t){var e=t.alternate;return t===Et||e!==null&&e===Et}function lb(t,e){ru=Hf=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function cb(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,j0(t,n)}}var Jf={readContext:vr,useCallback:dn,useContext:dn,useEffect:dn,useImperativeHandle:dn,useInsertionEffect:dn,useLayoutEffect:dn,useMemo:dn,useReducer:dn,useRef:dn,useState:dn,useDebugValue:dn,useDeferredValue:dn,useTransition:dn,useMutableSource:dn,useSyncExternalStore:dn,useId:dn,unstable_isNewReconciler:!1},oO={readContext:vr,useCallback:function(t,e){return Yr().memoizedState=[t,e===void 0?null:e],t},useContext:vr,useEffect:ax,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,sf(4194308,4,tb.bind(null,e,t),n)},useLayoutEffect:function(t,e){return sf(4194308,4,t,e)},useInsertionEffect:function(t,e){return sf(4,2,t,e)},useMemo:function(t,e){var n=Yr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Yr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=sO.bind(null,Et,t),[r.memoizedState,t]},useRef:function(t){var e=Yr();return t={current:t},e.memoizedState=t},useState:ox,useDebugValue:lw,useDeferredValue:function(t){return Yr().memoizedState=t},useTransition:function(){var t=ox(!1),e=t[0];return t=rO.bind(null,t[1]),Yr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Et,s=Yr();if(vt){if(n===void 0)throw Error(oe(407));n=n()}else{if(n=e(),Kt===null)throw Error(oe(349));Xo&30||YA(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,ax(QA.bind(null,r,i,t),[t]),r.flags|=2048,Nu(9,KA.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=Yr(),e=Kt.identifierPrefix;if(vt){var n=Ps,r=Rs;n=(r&~(1<<32-Lr(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Ru++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=nO++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},aO={readContext:vr,useCallback:rb,useContext:vr,useEffect:aw,useImperativeHandle:nb,useInsertionEffect:ZA,useLayoutEffect:eb,useMemo:sb,useReducer:kg,useRef:XA,useState:function(){return kg(Pu)},useDebugValue:lw,useDeferredValue:function(t){var e=wr();return ib(e,jt.memoizedState,t)},useTransition:function(){var t=kg(Pu)[0],e=wr().memoizedState;return[t,e]},useMutableSource:zA,useSyncExternalStore:WA,useId:ob,unstable_isNewReconciler:!1},lO={readContext:vr,useCallback:rb,useContext:vr,useEffect:aw,useImperativeHandle:nb,useInsertionEffect:ZA,useLayoutEffect:eb,useMemo:sb,useReducer:Mg,useRef:XA,useState:function(){return Mg(Pu)},useDebugValue:lw,useDeferredValue:function(t){var e=wr();return jt===null?e.memoizedState=t:ib(e,jt.memoizedState,t)},useTransition:function(){var t=Mg(Pu)[0],e=wr().memoizedState;return[t,e]},useMutableSource:zA,useSyncExternalStore:WA,useId:ob,unstable_isNewReconciler:!1};function Pr(t,e){if(t&&t.defaultProps){e=xt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Ky(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:xt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var $p={isMounted:function(t){return(t=t._reactInternals)?ha(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Rn(),s=ji(t),i=Ds(r,s);i.payload=e,n!=null&&(i.callback=n),e=Vi(t,i,s),e!==null&&(Vr(e,t,s,r),nf(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Rn(),s=ji(t),i=Ds(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=Vi(t,i,s),e!==null&&(Vr(e,t,s,r),nf(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Rn(),r=ji(t),s=Ds(n,r);s.tag=2,e!=null&&(s.callback=e),e=Vi(t,s,r),e!==null&&(Vr(e,t,r,n),nf(e,t,r))}};function lx(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!_u(n,r)||!_u(s,i):!0}function ub(t,e,n){var r=!1,s=Ki,i=e.contextType;return typeof i=="object"&&i!==null?i=vr(i):(s=jn(e)?Ho:vn.current,r=e.contextTypes,i=(r=r!=null)?Pl(t,s):Ki),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=$p,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function cx(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&$p.enqueueReplaceState(e,e.state,null)}function Qy(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},ew(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=vr(i):(i=jn(e)?Ho:vn.current,s.context=Pl(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Ky(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&$p.enqueueReplaceState(s,s.state,null),Kf(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function Dl(t,e){try{var n="",r=e;do n+=LD(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function Dg(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Hy(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var cO=typeof WeakMap=="function"?WeakMap:Map;function db(t,e,n){n=Ds(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Zf||(Zf=!0,ov=r),Hy(t,e)},n}function hb(t,e,n){n=Ds(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){Hy(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Hy(t,e),typeof r!="function"&&(Fi===null?Fi=new Set([this]):Fi.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function ux(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new cO;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=_O.bind(null,t,e,n),e.then(t,t))}function dx(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function hx(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Ds(-1,1),e.tag=2,Vi(n,e,1))),n.lanes|=1),t)}var uO=Ks.ReactCurrentOwner,Vn=!1;function bn(t,e,n,r){e.child=t===null?UA(e,null,n,r):kl(e,t.child,n,r)}function fx(t,e,n,r,s){n=n.render;var i=e.ref;return ul(e,s),r=iw(t,e,n,r,i,s),n=ow(),t!==null&&!Vn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Bs(t,e,s)):(vt&&n&&Y0(e),e.flags|=1,bn(t,e,r,s),e.child)}function px(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!gw(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,fb(t,e,i,r,s)):(t=cf(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:_u,n(o,r)&&t.ref===e.ref)return Bs(t,e,s)}return e.flags|=1,t=Bi(i,r),t.ref=e.ref,t.return=e,e.child=t}function fb(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(_u(i,r)&&t.ref===e.ref)if(Vn=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(Vn=!0);else return e.lanes=t.lanes,Bs(t,e,s)}return Jy(t,e,n,r,s)}function pb(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},at(sl,Qn),Qn|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,at(sl,Qn),Qn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,at(sl,Qn),Qn|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,at(sl,Qn),Qn|=r;return bn(t,e,s,n),e.child}function mb(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Jy(t,e,n,r,s){var i=jn(n)?Ho:vn.current;return i=Pl(e,i),ul(e,s),n=iw(t,e,n,r,i,s),r=ow(),t!==null&&!Vn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Bs(t,e,s)):(vt&&r&&Y0(e),e.flags|=1,bn(t,e,n,s),e.child)}function mx(t,e,n,r,s){if(jn(n)){var i=!0;Gf(e)}else i=!1;if(ul(e,s),e.stateNode===null)of(t,e),ub(e,n,r),Qy(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=vr(c):(c=jn(n)?Ho:vn.current,c=Pl(e,c));var d=n.getDerivedStateFromProps,p=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";p||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&cx(e,o,r,c),mi=!1;var h=e.memoizedState;o.state=h,Kf(e,r,o,s),l=e.memoizedState,a!==r||h!==l||Fn.current||mi?(typeof d=="function"&&(Ky(e,n,d,r),l=e.memoizedState),(a=mi||lx(e,n,a,r,h,l,c))?(p||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,GA(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:Pr(e.type,a),o.props=c,p=e.pendingProps,h=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=vr(l):(l=jn(n)?Ho:vn.current,l=Pl(e,l));var v=n.getDerivedStateFromProps;(d=typeof v=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==p||h!==l)&&cx(e,o,r,l),mi=!1,h=e.memoizedState,o.state=h,Kf(e,r,o,s);var E=e.memoizedState;a!==p||h!==E||Fn.current||mi?(typeof v=="function"&&(Ky(e,n,v,r),E=e.memoizedState),(c=mi||lx(e,n,c,r,h,E,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,E,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,E,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=E),o.props=r,o.state=E,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return Xy(t,e,n,r,i,s)}function Xy(t,e,n,r,s,i){mb(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&ex(e,n,!1),Bs(t,e,i);r=e.stateNode,uO.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=kl(e,t.child,null,i),e.child=kl(e,null,a,i)):bn(t,e,a,i),e.memoizedState=r.state,s&&ex(e,n,!0),e.child}function gb(t){var e=t.stateNode;e.pendingContext?Z1(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Z1(t,e.context,!1),tw(t,e.containerInfo)}function gx(t,e,n,r,s){return Nl(),Q0(s),e.flags|=256,bn(t,e,n,r),e.child}var Zy={dehydrated:null,treeContext:null,retryLane:0};function ev(t){return{baseLanes:t,cachePool:null,transitions:null}}function yb(t,e,n){var r=e.pendingProps,s=wt.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),at(wt,s&1),t===null)return Wy(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Yp(o,r,0,null),t=$o(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=ev(n),e.memoizedState=Zy,t):cw(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return dO(t,e,o,r,a,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,a=s.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Bi(s,l),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=Bi(a,i):(i=$o(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?ev(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=Zy,r}return i=t.child,t=i.sibling,r=Bi(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function cw(t,e){return e=Yp({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Rh(t,e,n,r){return r!==null&&Q0(r),kl(e,t.child,null,n),t=cw(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function dO(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=Dg(Error(oe(422))),Rh(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=Yp({mode:"visible",children:r.children},s,0,null),i=$o(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&kl(e,t.child,null,o),e.child.memoizedState=ev(o),e.memoizedState=Zy,i);if(!(e.mode&1))return Rh(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(oe(419)),r=Dg(i,r,void 0),Rh(t,e,o,r)}if(a=(o&t.childLanes)!==0,Vn||a){if(r=Kt,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,js(t,s),Vr(r,t,s,-1))}return mw(),r=Dg(Error(oe(421))),Rh(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=TO.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,Jn=Li(s.nextSibling),Zn=e,vt=!0,Dr=null,t!==null&&(dr[hr++]=Rs,dr[hr++]=Ps,dr[hr++]=Jo,Rs=t.id,Ps=t.overflow,Jo=e),e=cw(e,r.children),e.flags|=4096,e)}function yx(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Yy(t.return,e,n)}function Og(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function vb(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(bn(t,e,r.children,n),r=wt.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&yx(t,n,e);else if(t.tag===19)yx(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(at(wt,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&Qf(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),Og(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&Qf(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}Og(e,!0,n,null,i);break;case"together":Og(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function of(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Bs(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Zo|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(oe(153));if(e.child!==null){for(t=e.child,n=Bi(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Bi(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function hO(t,e,n){switch(e.tag){case 3:gb(e),Nl();break;case 5:$A(e);break;case 1:jn(e.type)&&Gf(e);break;case 4:tw(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;at(Wf,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(at(wt,wt.current&1),e.flags|=128,null):n&e.child.childLanes?yb(t,e,n):(at(wt,wt.current&1),t=Bs(t,e,n),t!==null?t.sibling:null);at(wt,wt.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return vb(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),at(wt,wt.current),r)break;return null;case 22:case 23:return e.lanes=0,pb(t,e,n)}return Bs(t,e,n)}var wb,tv,Eb,xb;wb=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};tv=function(){};Eb=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,Vo(ts.current);var i=null;switch(n){case"input":s=_y(t,s),r=_y(t,r),i=[];break;case"select":s=xt({},s,{value:void 0}),r=xt({},r,{value:void 0}),i=[];break;case"textarea":s=by(t,s),r=by(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Uf)}Iy(n,r);var o;n=null;for(c in s)if(!r.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var a=s[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(gu.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in r){var l=r[c];if(a=s!=null?s[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(i||(i=[]),i.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(gu.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&ut("scroll",t),i||a===l||(i=[])):(i=i||[]).push(c,l))}n&&(i=i||[]).push("style",n);var c=i;(e.updateQueue=c)&&(e.flags|=4)}};xb=function(t,e,n,r){n!==r&&(e.flags|=4)};function Mc(t,e){if(!vt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function hn(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function fO(t,e,n){var r=e.pendingProps;switch(K0(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return hn(e),null;case 1:return jn(e.type)&&qf(),hn(e),null;case 3:return r=e.stateNode,Ml(),dt(Fn),dt(vn),rw(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Sh(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Dr!==null&&(cv(Dr),Dr=null))),tv(t,e),hn(e),null;case 5:nw(e);var s=Vo(Iu.current);if(n=e.type,t!==null&&e.stateNode!=null)Eb(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(oe(166));return hn(e),null}if(t=Vo(ts.current),Sh(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[Xr]=e,r[bu]=i,t=(e.mode&1)!==0,n){case"dialog":ut("cancel",r),ut("close",r);break;case"iframe":case"object":case"embed":ut("load",r);break;case"video":case"audio":for(s=0;s<Uc.length;s++)ut(Uc[s],r);break;case"source":ut("error",r);break;case"img":case"image":case"link":ut("error",r),ut("load",r);break;case"details":ut("toggle",r);break;case"input":b1(r,i),ut("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},ut("invalid",r);break;case"textarea":I1(r,i),ut("invalid",r)}Iy(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&bh(r.textContent,a,t),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&bh(r.textContent,a,t),s=["children",""+a]):gu.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&ut("scroll",r)}switch(n){case"input":vh(r),S1(r,i,!0);break;case"textarea":vh(r),R1(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Uf)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=QT(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Xr]=e,t[bu]=r,wb(t,e,!1,!1),e.stateNode=t;e:{switch(o=Ry(n,r),n){case"dialog":ut("cancel",t),ut("close",t),s=r;break;case"iframe":case"object":case"embed":ut("load",t),s=r;break;case"video":case"audio":for(s=0;s<Uc.length;s++)ut(Uc[s],t);s=r;break;case"source":ut("error",t),s=r;break;case"img":case"image":case"link":ut("error",t),ut("load",t),s=r;break;case"details":ut("toggle",t),s=r;break;case"input":b1(t,r),s=_y(t,r),ut("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=xt({},r,{value:void 0}),ut("invalid",t);break;case"textarea":I1(t,r),s=by(t,r),ut("invalid",t);break;default:s=r}Iy(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?XT(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&HT(t,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&yu(t,l):typeof l=="number"&&yu(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(gu.hasOwnProperty(i)?l!=null&&i==="onScroll"&&ut("scroll",t):l!=null&&M0(t,i,l,o))}switch(n){case"input":vh(t),S1(t,r,!1);break;case"textarea":vh(t),R1(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Yi(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?ol(t,!!r.multiple,i,!1):r.defaultValue!=null&&ol(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Uf)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return hn(e),null;case 6:if(t&&e.stateNode!=null)xb(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(oe(166));if(n=Vo(Iu.current),Vo(ts.current),Sh(e)){if(r=e.stateNode,n=e.memoizedProps,r[Xr]=e,(i=r.nodeValue!==n)&&(t=Zn,t!==null))switch(t.tag){case 3:bh(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&bh(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Xr]=e,e.stateNode=r}return hn(e),null;case 13:if(dt(wt),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(vt&&Jn!==null&&e.mode&1&&!(e.flags&128))jA(),Nl(),e.flags|=98560,i=!1;else if(i=Sh(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(oe(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(oe(317));i[Xr]=e}else Nl(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;hn(e),i=!1}else Dr!==null&&(cv(Dr),Dr=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||wt.current&1?Bt===0&&(Bt=3):mw())),e.updateQueue!==null&&(e.flags|=4),hn(e),null);case 4:return Ml(),tv(t,e),t===null&&Tu(e.stateNode.containerInfo),hn(e),null;case 10:return X0(e.type._context),hn(e),null;case 17:return jn(e.type)&&qf(),hn(e),null;case 19:if(dt(wt),i=e.memoizedState,i===null)return hn(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)Mc(i,!1);else{if(Bt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Qf(t),o!==null){for(e.flags|=128,Mc(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return at(wt,wt.current&1|2),e.child}t=t.sibling}i.tail!==null&&It()>Ol&&(e.flags|=128,r=!0,Mc(i,!1),e.lanes=4194304)}else{if(!r)if(t=Qf(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Mc(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!vt)return hn(e),null}else 2*It()-i.renderingStartTime>Ol&&n!==1073741824&&(e.flags|=128,r=!0,Mc(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=It(),e.sibling=null,n=wt.current,at(wt,r?n&1|2:n&1),e):(hn(e),null);case 22:case 23:return pw(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Qn&1073741824&&(hn(e),e.subtreeFlags&6&&(e.flags|=8192)):hn(e),null;case 24:return null;case 25:return null}throw Error(oe(156,e.tag))}function pO(t,e){switch(K0(e),e.tag){case 1:return jn(e.type)&&qf(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Ml(),dt(Fn),dt(vn),rw(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return nw(e),null;case 13:if(dt(wt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(oe(340));Nl()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return dt(wt),null;case 4:return Ml(),null;case 10:return X0(e.type._context),null;case 22:case 23:return pw(),null;case 24:return null;default:return null}}var Ph=!1,gn=!1,mO=typeof WeakSet=="function"?WeakSet:Set,ye=null;function rl(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){At(t,e,r)}else n.current=null}function nv(t,e,n){try{n()}catch(r){At(t,e,r)}}var vx=!1;function gO(t,e){if(jy=Ff,t=bA(),W0(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,d=0,p=t,h=null;t:for(;;){for(var v;p!==n||s!==0&&p.nodeType!==3||(a=o+s),p!==i||r!==0&&p.nodeType!==3||(l=o+r),p.nodeType===3&&(o+=p.nodeValue.length),(v=p.firstChild)!==null;)h=p,p=v;for(;;){if(p===t)break t;if(h===n&&++c===s&&(a=o),h===i&&++d===r&&(l=o),(v=p.nextSibling)!==null)break;p=h,h=p.parentNode}p=v}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(By={focusedElem:t,selectionRange:n},Ff=!1,ye=e;ye!==null;)if(e=ye,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ye=t;else for(;ye!==null;){e=ye;try{var E=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(E!==null){var y=E.memoizedProps,A=E.memoizedState,x=e.stateNode,w=x.getSnapshotBeforeUpdate(e.elementType===e.type?y:Pr(e.type,y),A);x.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var _=e.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(oe(163))}}catch(R){At(e,e.return,R)}if(t=e.sibling,t!==null){t.return=e.return,ye=t;break}ye=e.return}return E=vx,vx=!1,E}function su(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&nv(e,n,i)}s=s.next}while(s!==r)}}function zp(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function rv(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function Cb(t){var e=t.alternate;e!==null&&(t.alternate=null,Cb(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Xr],delete e[bu],delete e[Gy],delete e[X4],delete e[Z4])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function _b(t){return t.tag===5||t.tag===3||t.tag===4}function wx(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||_b(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function sv(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Uf));else if(r!==4&&(t=t.child,t!==null))for(sv(t,e,n),t=t.sibling;t!==null;)sv(t,e,n),t=t.sibling}function iv(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(iv(t,e,n),t=t.sibling;t!==null;)iv(t,e,n),t=t.sibling}var Xt=null,Mr=!1;function ai(t,e,n){for(n=n.child;n!==null;)Tb(t,e,n),n=n.sibling}function Tb(t,e,n){if(es&&typeof es.onCommitFiberUnmount=="function")try{es.onCommitFiberUnmount(Vp,n)}catch{}switch(n.tag){case 5:gn||rl(n,e);case 6:var r=Xt,s=Mr;Xt=null,ai(t,e,n),Xt=r,Mr=s,Xt!==null&&(Mr?(t=Xt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Xt.removeChild(n.stateNode));break;case 18:Xt!==null&&(Mr?(t=Xt,n=n.stateNode,t.nodeType===8?Ig(t.parentNode,n):t.nodeType===1&&Ig(t,n),xu(t)):Ig(Xt,n.stateNode));break;case 4:r=Xt,s=Mr,Xt=n.stateNode.containerInfo,Mr=!0,ai(t,e,n),Xt=r,Mr=s;break;case 0:case 11:case 14:case 15:if(!gn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&nv(n,e,o),s=s.next}while(s!==r)}ai(t,e,n);break;case 1:if(!gn&&(rl(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){At(n,e,a)}ai(t,e,n);break;case 21:ai(t,e,n);break;case 22:n.mode&1?(gn=(r=gn)||n.memoizedState!==null,ai(t,e,n),gn=r):ai(t,e,n);break;default:ai(t,e,n)}}function Ex(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new mO),e.forEach(function(r){var s=AO.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Ir(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Xt=a.stateNode,Mr=!1;break e;case 3:Xt=a.stateNode.containerInfo,Mr=!0;break e;case 4:Xt=a.stateNode.containerInfo,Mr=!0;break e}a=a.return}if(Xt===null)throw Error(oe(160));Tb(i,o,s),Xt=null,Mr=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(c){At(s,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Ab(e,t),e=e.sibling}function Ab(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Ir(e,t),zr(t),r&4){try{su(3,t,t.return),zp(3,t)}catch(y){At(t,t.return,y)}try{su(5,t,t.return)}catch(y){At(t,t.return,y)}}break;case 1:Ir(e,t),zr(t),r&512&&n!==null&&rl(n,n.return);break;case 5:if(Ir(e,t),zr(t),r&512&&n!==null&&rl(n,n.return),t.flags&32){var s=t.stateNode;try{yu(s,"")}catch(y){At(t,t.return,y)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&YT(s,i),Ry(a,o);var c=Ry(a,i);for(o=0;o<l.length;o+=2){var d=l[o],p=l[o+1];d==="style"?XT(s,p):d==="dangerouslySetInnerHTML"?HT(s,p):d==="children"?yu(s,p):M0(s,d,p,c)}switch(a){case"input":Ty(s,i);break;case"textarea":KT(s,i);break;case"select":var h=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var v=i.value;v!=null?ol(s,!!i.multiple,v,!1):h!==!!i.multiple&&(i.defaultValue!=null?ol(s,!!i.multiple,i.defaultValue,!0):ol(s,!!i.multiple,i.multiple?[]:"",!1))}s[bu]=i}catch(y){At(t,t.return,y)}}break;case 6:if(Ir(e,t),zr(t),r&4){if(t.stateNode===null)throw Error(oe(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(y){At(t,t.return,y)}}break;case 3:if(Ir(e,t),zr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{xu(e.containerInfo)}catch(y){At(t,t.return,y)}break;case 4:Ir(e,t),zr(t);break;case 13:Ir(e,t),zr(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(hw=It())),r&4&&Ex(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(gn=(c=gn)||d,Ir(e,t),gn=c):Ir(e,t),zr(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!d&&t.mode&1)for(ye=t,d=t.child;d!==null;){for(p=ye=d;ye!==null;){switch(h=ye,v=h.child,h.tag){case 0:case 11:case 14:case 15:su(4,h,h.return);break;case 1:rl(h,h.return);var E=h.stateNode;if(typeof E.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,E.props=e.memoizedProps,E.state=e.memoizedState,E.componentWillUnmount()}catch(y){At(r,n,y)}}break;case 5:rl(h,h.return);break;case 22:if(h.memoizedState!==null){Cx(p);continue}}v!==null?(v.return=h,ye=v):Cx(p)}d=d.sibling}e:for(d=null,p=t;;){if(p.tag===5){if(d===null){d=p;try{s=p.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=p.stateNode,l=p.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=JT("display",o))}catch(y){At(t,t.return,y)}}}else if(p.tag===6){if(d===null)try{p.stateNode.nodeValue=c?"":p.memoizedProps}catch(y){At(t,t.return,y)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===t)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===t)break e;for(;p.sibling===null;){if(p.return===null||p.return===t)break e;d===p&&(d=null),p=p.return}d===p&&(d=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:Ir(e,t),zr(t),r&4&&Ex(t);break;case 21:break;default:Ir(e,t),zr(t)}}function zr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(_b(n)){var r=n;break e}n=n.return}throw Error(oe(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(yu(s,""),r.flags&=-33);var i=wx(t);iv(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=wx(t);sv(t,a,o);break;default:throw Error(oe(161))}}catch(l){At(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function yO(t,e,n){ye=t,bb(t)}function bb(t,e,n){for(var r=(t.mode&1)!==0;ye!==null;){var s=ye,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||Ph;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||gn;a=Ph;var c=gn;if(Ph=o,(gn=l)&&!c)for(ye=s;ye!==null;)o=ye,l=o.child,o.tag===22&&o.memoizedState!==null?_x(s):l!==null?(l.return=o,ye=l):_x(s);for(;i!==null;)ye=i,bb(i),i=i.sibling;ye=s,Ph=a,gn=c}xx(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,ye=i):xx(t)}}function xx(t){for(;ye!==null;){var e=ye;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:gn||zp(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!gn)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:Pr(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&ix(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}ix(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var p=d.dehydrated;p!==null&&xu(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(oe(163))}gn||e.flags&512&&rv(e)}catch(h){At(e,e.return,h)}}if(e===t){ye=null;break}if(n=e.sibling,n!==null){n.return=e.return,ye=n;break}ye=e.return}}function Cx(t){for(;ye!==null;){var e=ye;if(e===t){ye=null;break}var n=e.sibling;if(n!==null){n.return=e.return,ye=n;break}ye=e.return}}function _x(t){for(;ye!==null;){var e=ye;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{zp(4,e)}catch(l){At(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(l){At(e,s,l)}}var i=e.return;try{rv(e)}catch(l){At(e,i,l)}break;case 5:var o=e.return;try{rv(e)}catch(l){At(e,o,l)}}}catch(l){At(e,e.return,l)}if(e===t){ye=null;break}var a=e.sibling;if(a!==null){a.return=e.return,ye=a;break}ye=e.return}}var vO=Math.ceil,Xf=Ks.ReactCurrentDispatcher,uw=Ks.ReactCurrentOwner,gr=Ks.ReactCurrentBatchConfig,Ke=0,Kt=null,Mt=null,tn=0,Qn=0,sl=lo(0),Bt=0,ku=null,Zo=0,Wp=0,dw=0,iu=null,On=null,hw=0,Ol=1/0,Ss=null,Zf=!1,ov=null,Fi=null,Nh=!1,Ri=null,ep=0,ou=0,av=null,af=-1,lf=0;function Rn(){return Ke&6?It():af!==-1?af:af=It()}function ji(t){return t.mode&1?Ke&2&&tn!==0?tn&-tn:tO.transition!==null?(lf===0&&(lf=uA()),lf):(t=tt,t!==0||(t=window.event,t=t===void 0?16:yA(t.type)),t):1}function Vr(t,e,n,r){if(50<ou)throw ou=0,av=null,Error(oe(185));sd(t,n,r),(!(Ke&2)||t!==Kt)&&(t===Kt&&(!(Ke&2)&&(Wp|=n),Bt===4&&vi(t,tn)),Bn(t,r),n===1&&Ke===0&&!(e.mode&1)&&(Ol=It()+500,qp&&co()))}function Bn(t,e){var n=t.callbackNode;t4(t,e);var r=Vf(t,t===Kt?tn:0);if(r===0)n!==null&&k1(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&k1(n),e===1)t.tag===0?eO(Tx.bind(null,t)):LA(Tx.bind(null,t)),H4(function(){!(Ke&6)&&co()}),n=null;else{switch(dA(r)){case 1:n=F0;break;case 4:n=lA;break;case 16:n=Lf;break;case 536870912:n=cA;break;default:n=Lf}n=Db(n,Sb.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function Sb(t,e){if(af=-1,lf=0,Ke&6)throw Error(oe(327));var n=t.callbackNode;if(dl()&&t.callbackNode!==n)return null;var r=Vf(t,t===Kt?tn:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=tp(t,r);else{e=r;var s=Ke;Ke|=2;var i=Rb();(Kt!==t||tn!==e)&&(Ss=null,Ol=It()+500,Go(t,e));do try{xO();break}catch(a){Ib(t,a)}while(!0);J0(),Xf.current=i,Ke=s,Mt!==null?e=0:(Kt=null,tn=0,e=Bt)}if(e!==0){if(e===2&&(s=Dy(t),s!==0&&(r=s,e=lv(t,s))),e===1)throw n=ku,Go(t,0),vi(t,r),Bn(t,It()),n;if(e===6)vi(t,r);else{if(s=t.current.alternate,!(r&30)&&!wO(s)&&(e=tp(t,r),e===2&&(i=Dy(t),i!==0&&(r=i,e=lv(t,i))),e===1))throw n=ku,Go(t,0),vi(t,r),Bn(t,It()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(oe(345));case 2:Mo(t,On,Ss);break;case 3:if(vi(t,r),(r&130023424)===r&&(e=hw+500-It(),10<e)){if(Vf(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){Rn(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=qy(Mo.bind(null,t,On,Ss),e);break}Mo(t,On,Ss);break;case 4:if(vi(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-Lr(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=It()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*vO(r/1960))-r,10<r){t.timeoutHandle=qy(Mo.bind(null,t,On,Ss),r);break}Mo(t,On,Ss);break;case 5:Mo(t,On,Ss);break;default:throw Error(oe(329))}}}return Bn(t,It()),t.callbackNode===n?Sb.bind(null,t):null}function lv(t,e){var n=iu;return t.current.memoizedState.isDehydrated&&(Go(t,e).flags|=256),t=tp(t,e),t!==2&&(e=On,On=n,e!==null&&cv(e)),t}function cv(t){On===null?On=t:On.push.apply(On,t)}function wO(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!jr(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function vi(t,e){for(e&=~dw,e&=~Wp,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Lr(e),r=1<<n;t[n]=-1,e&=~r}}function Tx(t){if(Ke&6)throw Error(oe(327));dl();var e=Vf(t,0);if(!(e&1))return Bn(t,It()),null;var n=tp(t,e);if(t.tag!==0&&n===2){var r=Dy(t);r!==0&&(e=r,n=lv(t,r))}if(n===1)throw n=ku,Go(t,0),vi(t,e),Bn(t,It()),n;if(n===6)throw Error(oe(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Mo(t,On,Ss),Bn(t,It()),null}function fw(t,e){var n=Ke;Ke|=1;try{return t(e)}finally{Ke=n,Ke===0&&(Ol=It()+500,qp&&co())}}function ea(t){Ri!==null&&Ri.tag===0&&!(Ke&6)&&dl();var e=Ke;Ke|=1;var n=gr.transition,r=tt;try{if(gr.transition=null,tt=1,t)return t()}finally{tt=r,gr.transition=n,Ke=e,!(Ke&6)&&co()}}function pw(){Qn=sl.current,dt(sl)}function Go(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,Q4(n)),Mt!==null)for(n=Mt.return;n!==null;){var r=n;switch(K0(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&qf();break;case 3:Ml(),dt(Fn),dt(vn),rw();break;case 5:nw(r);break;case 4:Ml();break;case 13:dt(wt);break;case 19:dt(wt);break;case 10:X0(r.type._context);break;case 22:case 23:pw()}n=n.return}if(Kt=t,Mt=t=Bi(t.current,null),tn=Qn=e,Bt=0,ku=null,dw=Wp=Zo=0,On=iu=null,Lo!==null){for(e=0;e<Lo.length;e++)if(n=Lo[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}Lo=null}return t}function Ib(t,e){do{var n=Mt;try{if(J0(),rf.current=Jf,Hf){for(var r=Et.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Hf=!1}if(Xo=0,Yt=jt=Et=null,ru=!1,Ru=0,uw.current=null,n===null||n.return===null){Bt=1,ku=e,Mt=null;break}e:{var i=t,o=n.return,a=n,l=e;if(e=tn,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,d=a,p=d.tag;if(!(d.mode&1)&&(p===0||p===11||p===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var v=dx(o);if(v!==null){v.flags&=-257,hx(v,o,a,i,e),v.mode&1&&ux(i,c,e),e=v,l=c;var E=e.updateQueue;if(E===null){var y=new Set;y.add(l),e.updateQueue=y}else E.add(l);break e}else{if(!(e&1)){ux(i,c,e),mw();break e}l=Error(oe(426))}}else if(vt&&a.mode&1){var A=dx(o);if(A!==null){!(A.flags&65536)&&(A.flags|=256),hx(A,o,a,i,e),Q0(Dl(l,a));break e}}i=l=Dl(l,a),Bt!==4&&(Bt=2),iu===null?iu=[i]:iu.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var x=db(i,l,e);sx(i,x);break e;case 1:a=l;var w=i.type,_=i.stateNode;if(!(i.flags&128)&&(typeof w.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(Fi===null||!Fi.has(_)))){i.flags|=65536,e&=-e,i.lanes|=e;var R=hb(i,a,e);sx(i,R);break e}}i=i.return}while(i!==null)}Nb(n)}catch(O){e=O,Mt===n&&n!==null&&(Mt=n=n.return);continue}break}while(!0)}function Rb(){var t=Xf.current;return Xf.current=Jf,t===null?Jf:t}function mw(){(Bt===0||Bt===3||Bt===2)&&(Bt=4),Kt===null||!(Zo&268435455)&&!(Wp&268435455)||vi(Kt,tn)}function tp(t,e){var n=Ke;Ke|=2;var r=Rb();(Kt!==t||tn!==e)&&(Ss=null,Go(t,e));do try{EO();break}catch(s){Ib(t,s)}while(!0);if(J0(),Ke=n,Xf.current=r,Mt!==null)throw Error(oe(261));return Kt=null,tn=0,Bt}function EO(){for(;Mt!==null;)Pb(Mt)}function xO(){for(;Mt!==null&&!WD();)Pb(Mt)}function Pb(t){var e=Mb(t.alternate,t,Qn);t.memoizedProps=t.pendingProps,e===null?Nb(t):Mt=e,uw.current=null}function Nb(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=pO(n,e),n!==null){n.flags&=32767,Mt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Bt=6,Mt=null;return}}else if(n=fO(n,e,Qn),n!==null){Mt=n;return}if(e=e.sibling,e!==null){Mt=e;return}Mt=e=t}while(e!==null);Bt===0&&(Bt=5)}function Mo(t,e,n){var r=tt,s=gr.transition;try{gr.transition=null,tt=1,CO(t,e,n,r)}finally{gr.transition=s,tt=r}return null}function CO(t,e,n,r){do dl();while(Ri!==null);if(Ke&6)throw Error(oe(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(oe(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(n4(t,i),t===Kt&&(Mt=Kt=null,tn=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Nh||(Nh=!0,Db(Lf,function(){return dl(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=gr.transition,gr.transition=null;var o=tt;tt=1;var a=Ke;Ke|=4,uw.current=null,gO(t,n),Ab(n,t),q4(By),Ff=!!jy,By=jy=null,t.current=n,yO(n),YD(),Ke=a,tt=o,gr.transition=i}else t.current=n;if(Nh&&(Nh=!1,Ri=t,ep=s),i=t.pendingLanes,i===0&&(Fi=null),HD(n.stateNode),Bn(t,It()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Zf)throw Zf=!1,t=ov,ov=null,t;return ep&1&&t.tag!==0&&dl(),i=t.pendingLanes,i&1?t===av?ou++:(ou=0,av=t):ou=0,co(),null}function dl(){if(Ri!==null){var t=dA(ep),e=gr.transition,n=tt;try{if(gr.transition=null,tt=16>t?16:t,Ri===null)var r=!1;else{if(t=Ri,Ri=null,ep=0,Ke&6)throw Error(oe(331));var s=Ke;for(Ke|=4,ye=t.current;ye!==null;){var i=ye,o=i.child;if(ye.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(ye=c;ye!==null;){var d=ye;switch(d.tag){case 0:case 11:case 15:su(8,d,i)}var p=d.child;if(p!==null)p.return=d,ye=p;else for(;ye!==null;){d=ye;var h=d.sibling,v=d.return;if(Cb(d),d===c){ye=null;break}if(h!==null){h.return=v,ye=h;break}ye=v}}}var E=i.alternate;if(E!==null){var y=E.child;if(y!==null){E.child=null;do{var A=y.sibling;y.sibling=null,y=A}while(y!==null)}}ye=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,ye=o;else e:for(;ye!==null;){if(i=ye,i.flags&2048)switch(i.tag){case 0:case 11:case 15:su(9,i,i.return)}var x=i.sibling;if(x!==null){x.return=i.return,ye=x;break e}ye=i.return}}var w=t.current;for(ye=w;ye!==null;){o=ye;var _=o.child;if(o.subtreeFlags&2064&&_!==null)_.return=o,ye=_;else e:for(o=w;ye!==null;){if(a=ye,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:zp(9,a)}}catch(O){At(a,a.return,O)}if(a===o){ye=null;break e}var R=a.sibling;if(R!==null){R.return=a.return,ye=R;break e}ye=a.return}}if(Ke=s,co(),es&&typeof es.onPostCommitFiberRoot=="function")try{es.onPostCommitFiberRoot(Vp,t)}catch{}r=!0}return r}finally{tt=n,gr.transition=e}}return!1}function Ax(t,e,n){e=Dl(n,e),e=db(t,e,1),t=Vi(t,e,1),e=Rn(),t!==null&&(sd(t,1,e),Bn(t,e))}function At(t,e,n){if(t.tag===3)Ax(t,t,n);else for(;e!==null;){if(e.tag===3){Ax(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Fi===null||!Fi.has(r))){t=Dl(n,t),t=hb(e,t,1),e=Vi(e,t,1),t=Rn(),e!==null&&(sd(e,1,t),Bn(e,t));break}}e=e.return}}function _O(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Rn(),t.pingedLanes|=t.suspendedLanes&n,Kt===t&&(tn&n)===n&&(Bt===4||Bt===3&&(tn&130023424)===tn&&500>It()-hw?Go(t,0):dw|=n),Bn(t,e)}function kb(t,e){e===0&&(t.mode&1?(e=xh,xh<<=1,!(xh&130023424)&&(xh=4194304)):e=1);var n=Rn();t=js(t,e),t!==null&&(sd(t,e,n),Bn(t,n))}function TO(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),kb(t,n)}function AO(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(oe(314))}r!==null&&r.delete(e),kb(t,n)}var Mb;Mb=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Fn.current)Vn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Vn=!1,hO(t,e,n);Vn=!!(t.flags&131072)}else Vn=!1,vt&&e.flags&1048576&&VA(e,zf,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;of(t,e),t=e.pendingProps;var s=Pl(e,vn.current);ul(e,n),s=iw(null,e,r,t,s,n);var i=ow();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,jn(r)?(i=!0,Gf(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,ew(e),s.updater=$p,e.stateNode=s,s._reactInternals=e,Qy(e,r,t,n),e=Xy(null,e,r,!0,i,n)):(e.tag=0,vt&&i&&Y0(e),bn(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(of(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=SO(r),t=Pr(r,t),s){case 0:e=Jy(null,e,r,t,n);break e;case 1:e=mx(null,e,r,t,n);break e;case 11:e=fx(null,e,r,t,n);break e;case 14:e=px(null,e,r,Pr(r.type,t),n);break e}throw Error(oe(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Pr(r,s),Jy(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Pr(r,s),mx(t,e,r,s,n);case 3:e:{if(gb(e),t===null)throw Error(oe(387));r=e.pendingProps,i=e.memoizedState,s=i.element,GA(t,e),Kf(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=Dl(Error(oe(423)),e),e=gx(t,e,r,n,s);break e}else if(r!==s){s=Dl(Error(oe(424)),e),e=gx(t,e,r,n,s);break e}else for(Jn=Li(e.stateNode.containerInfo.firstChild),Zn=e,vt=!0,Dr=null,n=UA(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Nl(),r===s){e=Bs(t,e,n);break e}bn(t,e,r,n)}e=e.child}return e;case 5:return $A(e),t===null&&Wy(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,Uy(r,s)?o=null:i!==null&&Uy(r,i)&&(e.flags|=32),mb(t,e),bn(t,e,o,n),e.child;case 6:return t===null&&Wy(e),null;case 13:return yb(t,e,n);case 4:return tw(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=kl(e,null,r,n):bn(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Pr(r,s),fx(t,e,r,s,n);case 7:return bn(t,e,e.pendingProps,n),e.child;case 8:return bn(t,e,e.pendingProps.children,n),e.child;case 12:return bn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,at(Wf,r._currentValue),r._currentValue=o,i!==null)if(jr(i.value,o)){if(i.children===s.children&&!Fn.current){e=Bs(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=Ds(-1,n&-n),l.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?l.next=l:(l.next=d.next,d.next=l),c.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),Yy(i.return,n,e),a.lanes|=n;break}l=l.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(oe(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Yy(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}bn(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,ul(e,n),s=vr(s),r=r(s),e.flags|=1,bn(t,e,r,n),e.child;case 14:return r=e.type,s=Pr(r,e.pendingProps),s=Pr(r.type,s),px(t,e,r,s,n);case 15:return fb(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Pr(r,s),of(t,e),e.tag=1,jn(r)?(t=!0,Gf(e)):t=!1,ul(e,n),ub(e,r,s),Qy(e,r,s,n),Xy(null,e,r,!0,t,n);case 19:return vb(t,e,n);case 22:return pb(t,e,n)}throw Error(oe(156,e.tag))};function Db(t,e){return aA(t,e)}function bO(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function mr(t,e,n,r){return new bO(t,e,n,r)}function gw(t){return t=t.prototype,!(!t||!t.isReactComponent)}function SO(t){if(typeof t=="function")return gw(t)?1:0;if(t!=null){if(t=t.$$typeof,t===O0)return 11;if(t===L0)return 14}return 2}function Bi(t,e){var n=t.alternate;return n===null?(n=mr(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function cf(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")gw(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Ka:return $o(n.children,s,i,e);case D0:o=8,s|=8;break;case wy:return t=mr(12,n,e,s|2),t.elementType=wy,t.lanes=i,t;case Ey:return t=mr(13,n,e,s),t.elementType=Ey,t.lanes=i,t;case xy:return t=mr(19,n,e,s),t.elementType=xy,t.lanes=i,t;case $T:return Yp(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case qT:o=10;break e;case GT:o=9;break e;case O0:o=11;break e;case L0:o=14;break e;case pi:o=16,r=null;break e}throw Error(oe(130,t==null?t:typeof t,""))}return e=mr(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function $o(t,e,n,r){return t=mr(7,t,r,e),t.lanes=n,t}function Yp(t,e,n,r){return t=mr(22,t,r,e),t.elementType=$T,t.lanes=n,t.stateNode={isHidden:!1},t}function Lg(t,e,n){return t=mr(6,t,null,e),t.lanes=n,t}function Vg(t,e,n){return e=mr(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function IO(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=yg(0),this.expirationTimes=yg(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=yg(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function yw(t,e,n,r,s,i,o,a,l){return t=new IO(t,e,n,a,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=mr(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},ew(i),t}function RO(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ya,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function Ob(t){if(!t)return Ki;t=t._reactInternals;e:{if(ha(t)!==t||t.tag!==1)throw Error(oe(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(jn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(oe(171))}if(t.tag===1){var n=t.type;if(jn(n))return OA(t,n,e)}return e}function Lb(t,e,n,r,s,i,o,a,l){return t=yw(n,r,!0,t,s,i,o,a,l),t.context=Ob(null),n=t.current,r=Rn(),s=ji(n),i=Ds(r,s),i.callback=e??null,Vi(n,i,s),t.current.lanes=s,sd(t,s,r),Bn(t,r),t}function Kp(t,e,n,r){var s=e.current,i=Rn(),o=ji(s);return n=Ob(n),e.context===null?e.context=n:e.pendingContext=n,e=Ds(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Vi(s,e,o),t!==null&&(Vr(t,s,o,i),nf(t,s,o)),o}function np(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function bx(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function vw(t,e){bx(t,e),(t=t.alternate)&&bx(t,e)}function PO(){return null}var Vb=typeof reportError=="function"?reportError:function(t){console.error(t)};function ww(t){this._internalRoot=t}Qp.prototype.render=ww.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(oe(409));Kp(t,e,null,null)};Qp.prototype.unmount=ww.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;ea(function(){Kp(null,t,null,null)}),e[Fs]=null}};function Qp(t){this._internalRoot=t}Qp.prototype.unstable_scheduleHydration=function(t){if(t){var e=pA();t={blockedOn:null,target:t,priority:e};for(var n=0;n<yi.length&&e!==0&&e<yi[n].priority;n++);yi.splice(n,0,t),n===0&&gA(t)}};function Ew(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Hp(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Sx(){}function NO(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var c=np(o);i.call(c)}}var o=Lb(e,r,t,0,null,!1,!1,"",Sx);return t._reactRootContainer=o,t[Fs]=o.current,Tu(t.nodeType===8?t.parentNode:t),ea(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var c=np(l);a.call(c)}}var l=yw(t,0,!1,null,null,!1,!1,"",Sx);return t._reactRootContainer=l,t[Fs]=l.current,Tu(t.nodeType===8?t.parentNode:t),ea(function(){Kp(e,l,n,r)}),l}function Jp(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=np(o);a.call(l)}}Kp(e,o,t,s)}else o=NO(n,e,t,s,r);return np(o)}hA=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Bc(e.pendingLanes);n!==0&&(j0(e,n|1),Bn(e,It()),!(Ke&6)&&(Ol=It()+500,co()))}break;case 13:ea(function(){var r=js(t,1);if(r!==null){var s=Rn();Vr(r,t,1,s)}}),vw(t,1)}};B0=function(t){if(t.tag===13){var e=js(t,134217728);if(e!==null){var n=Rn();Vr(e,t,134217728,n)}vw(t,134217728)}};fA=function(t){if(t.tag===13){var e=ji(t),n=js(t,e);if(n!==null){var r=Rn();Vr(n,t,e,r)}vw(t,e)}};pA=function(){return tt};mA=function(t,e){var n=tt;try{return tt=t,e()}finally{tt=n}};Ny=function(t,e,n){switch(e){case"input":if(Ty(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=Up(r);if(!s)throw Error(oe(90));WT(r),Ty(r,s)}}}break;case"textarea":KT(t,n);break;case"select":e=n.value,e!=null&&ol(t,!!n.multiple,e,!1)}};tA=fw;nA=ea;var kO={usingClientEntryPoint:!1,Events:[od,Xa,Up,ZT,eA,fw]},Dc={findFiberByHostInstance:Oo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},MO={bundleType:Dc.bundleType,version:Dc.version,rendererPackageName:Dc.rendererPackageName,rendererConfig:Dc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ks.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=iA(t),t===null?null:t.stateNode},findFiberByHostInstance:Dc.findFiberByHostInstance||PO,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var kh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!kh.isDisabled&&kh.supportsFiber)try{Vp=kh.inject(MO),es=kh}catch{}}rr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=kO;rr.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ew(e))throw Error(oe(200));return RO(t,e,null,n)};rr.createRoot=function(t,e){if(!Ew(t))throw Error(oe(299));var n=!1,r="",s=Vb;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=yw(t,1,!1,null,null,n,!1,r,s),t[Fs]=e.current,Tu(t.nodeType===8?t.parentNode:t),new ww(e)};rr.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(oe(188)):(t=Object.keys(t).join(","),Error(oe(268,t)));return t=iA(e),t=t===null?null:t.stateNode,t};rr.flushSync=function(t){return ea(t)};rr.hydrate=function(t,e,n){if(!Hp(e))throw Error(oe(200));return Jp(null,t,e,!0,n)};rr.hydrateRoot=function(t,e,n){if(!Ew(t))throw Error(oe(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=Vb;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=Lb(e,null,t,1,n??null,s,!1,i,o),t[Fs]=e.current,Tu(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new Qp(e)};rr.render=function(t,e,n){if(!Hp(e))throw Error(oe(200));return Jp(null,t,e,!1,n)};rr.unmountComponentAtNode=function(t){if(!Hp(t))throw Error(oe(40));return t._reactRootContainer?(ea(function(){Jp(null,null,t,!1,function(){t._reactRootContainer=null,t[Fs]=null})}),!0):!1};rr.unstable_batchedUpdates=fw;rr.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Hp(n))throw Error(oe(200));if(t==null||t._reactInternals===void 0)throw Error(oe(38));return Jp(t,e,n,!1,r)};rr.version="18.3.1-next-f1338f8080-20240426";function Fb(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Fb)}catch(t){console.error(t)}}Fb(),FT.exports=rr;var fa=FT.exports;const jb=b0(fa);var Bb,Ix=fa;Bb=Ix.createRoot,Ix.hydrateRoot;const DO=1,OO=1e6;let Fg=0;function LO(){return Fg=(Fg+1)%Number.MAX_SAFE_INTEGER,Fg.toString()}const jg=new Map,Rx=t=>{if(jg.has(t))return;const e=setTimeout(()=>{jg.delete(t),au({type:"REMOVE_TOAST",toastId:t})},OO);jg.set(t,e)},VO=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,DO)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?Rx(n):t.toasts.forEach(r=>{Rx(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},uf=[];let df={toasts:[]};function au(t){df=VO(df,t),uf.forEach(e=>{e(df)})}function it({...t}){const e=LO(),n=s=>au({type:"UPDATE_TOAST",toast:{...s,id:e}}),r=()=>au({type:"DISMISS_TOAST",toastId:e});return au({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:s=>{s||r()}}}),{id:e,dismiss:r,update:n}}function FO(){const[t,e]=g.useState(df);return g.useEffect(()=>(uf.push(e),()=>{const n=uf.indexOf(e);n>-1&&uf.splice(n,1)}),[t]),{...t,toast:it,dismiss:n=>au({type:"DISMISS_TOAST",toastId:n})}}function fe(t,e,{checkForDefaultPrevented:n=!0}={}){return function(s){if(t==null||t(s),n===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function jO(t,e){typeof t=="function"?t(e):t!=null&&(t.current=e)}function xw(...t){return e=>t.forEach(n=>jO(n,e))}function nt(...t){return g.useCallback(xw(...t),t)}function BO(t,e=[]){let n=[];function r(i,o){const a=g.createContext(o),l=n.length;n=[...n,o];function c(p){const{scope:h,children:v,...E}=p,y=(h==null?void 0:h[t][l])||a,A=g.useMemo(()=>E,Object.values(E));return f.jsx(y.Provider,{value:A,children:v})}function d(p,h){const v=(h==null?void 0:h[t][l])||a,E=g.useContext(v);if(E)return E;if(o!==void 0)return o;throw new Error(`\`${p}\` must be used within \`${i}\``)}return c.displayName=i+"Provider",[c,d]}const s=()=>{const i=n.map(o=>g.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return g.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,UO(s,...e)]}function UO(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const p=l(i)[`__scope${c}`];return{...a,...p}},{});return g.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var ta=g.forwardRef((t,e)=>{const{children:n,...r}=t,s=g.Children.toArray(n),i=s.find(qO);if(i){const o=i.props.children,a=s.map(l=>l===i?g.Children.count(o)>1?g.Children.only(null):g.isValidElement(o)?o.props.children:null:l);return f.jsx(uv,{...r,ref:e,children:g.isValidElement(o)?g.cloneElement(o,void 0,a):null})}return f.jsx(uv,{...r,ref:e,children:n})});ta.displayName="Slot";var uv=g.forwardRef((t,e)=>{const{children:n,...r}=t;if(g.isValidElement(n)){const s=$O(n);return g.cloneElement(n,{...GO(r,n.props),ref:e?xw(e,s):s})}return g.Children.count(n)>1?g.Children.only(null):null});uv.displayName="SlotClone";var Ub=({children:t})=>f.jsx(f.Fragment,{children:t});function qO(t){return g.isValidElement(t)&&t.type===Ub}function GO(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...a)=>{i(...a),s(...a)}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function $O(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function ld(t){const e=t+"CollectionProvider",[n,r]=BO(e),[s,i]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=v=>{const{scope:E,children:y}=v,A=K.useRef(null),x=K.useRef(new Map).current;return f.jsx(s,{scope:E,itemMap:x,collectionRef:A,children:y})};o.displayName=e;const a=t+"CollectionSlot",l=K.forwardRef((v,E)=>{const{scope:y,children:A}=v,x=i(a,y),w=nt(E,x.collectionRef);return f.jsx(ta,{ref:w,children:A})});l.displayName=a;const c=t+"CollectionItemSlot",d="data-radix-collection-item",p=K.forwardRef((v,E)=>{const{scope:y,children:A,...x}=v,w=K.useRef(null),_=nt(E,w),R=i(c,y);return K.useEffect(()=>(R.itemMap.set(w,{ref:w,...x}),()=>void R.itemMap.delete(w))),f.jsx(ta,{[d]:"",ref:_,children:A})});p.displayName=c;function h(v){const E=i(t+"CollectionConsumer",v);return K.useCallback(()=>{const A=E.collectionRef.current;if(!A)return[];const x=Array.from(A.querySelectorAll(`[${d}]`));return Array.from(E.itemMap.values()).sort((R,O)=>x.indexOf(R.ref.current)-x.indexOf(O.ref.current))},[E.collectionRef,E.itemMap])}return[{Provider:o,Slot:l,ItemSlot:p},h,r]}function Jl(t,e=[]){let n=[];function r(i,o){const a=g.createContext(o),l=n.length;n=[...n,o];const c=p=>{var x;const{scope:h,children:v,...E}=p,y=((x=h==null?void 0:h[t])==null?void 0:x[l])||a,A=g.useMemo(()=>E,Object.values(E));return f.jsx(y.Provider,{value:A,children:v})};c.displayName=i+"Provider";function d(p,h){var y;const v=((y=h==null?void 0:h[t])==null?void 0:y[l])||a,E=g.useContext(v);if(E)return E;if(o!==void 0)return o;throw new Error(`\`${p}\` must be used within \`${i}\``)}return[c,d]}const s=()=>{const i=n.map(o=>g.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return g.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,zO(s,...e)]}function zO(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const p=l(i)[`__scope${c}`];return{...a,...p}},{});return g.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var WO=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Oe=WO.reduce((t,e)=>{const n=g.forwardRef((r,s)=>{const{asChild:i,...o}=r,a=i?ta:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),f.jsx(a,{...o,ref:s})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function Cw(t,e){t&&fa.flushSync(()=>t.dispatchEvent(e))}function rn(t){const e=g.useRef(t);return g.useEffect(()=>{e.current=t}),g.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function YO(t,e=globalThis==null?void 0:globalThis.document){const n=rn(t);g.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var KO="DismissableLayer",dv="dismissableLayer.update",QO="dismissableLayer.pointerDownOutside",HO="dismissableLayer.focusOutside",Px,qb=g.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),cd=g.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:a,...l}=t,c=g.useContext(qb),[d,p]=g.useState(null),h=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,v]=g.useState({}),E=nt(e,I=>p(I)),y=Array.from(c.layers),[A]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),x=y.indexOf(A),w=d?y.indexOf(d):-1,_=c.layersWithOutsidePointerEventsDisabled.size>0,R=w>=x,O=XO(I=>{const S=I.target,k=[...c.branches].some(M=>M.contains(S));!R||k||(s==null||s(I),o==null||o(I),I.defaultPrevented||a==null||a())},h),j=ZO(I=>{const S=I.target;[...c.branches].some(M=>M.contains(S))||(i==null||i(I),o==null||o(I),I.defaultPrevented||a==null||a())},h);return YO(I=>{w===c.layers.size-1&&(r==null||r(I),!I.defaultPrevented&&a&&(I.preventDefault(),a()))},h),g.useEffect(()=>{if(d)return n&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(Px=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(d)),c.layers.add(d),Nx(),()=>{n&&c.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=Px)}},[d,h,n,c]),g.useEffect(()=>()=>{d&&(c.layers.delete(d),c.layersWithOutsidePointerEventsDisabled.delete(d),Nx())},[d,c]),g.useEffect(()=>{const I=()=>v({});return document.addEventListener(dv,I),()=>document.removeEventListener(dv,I)},[]),f.jsx(Oe.div,{...l,ref:E,style:{pointerEvents:_?R?"auto":"none":void 0,...t.style},onFocusCapture:fe(t.onFocusCapture,j.onFocusCapture),onBlurCapture:fe(t.onBlurCapture,j.onBlurCapture),onPointerDownCapture:fe(t.onPointerDownCapture,O.onPointerDownCapture)})});cd.displayName=KO;var JO="DismissableLayerBranch",Gb=g.forwardRef((t,e)=>{const n=g.useContext(qb),r=g.useRef(null),s=nt(e,r);return g.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),f.jsx(Oe.div,{...t,ref:s})});Gb.displayName=JO;function XO(t,e=globalThis==null?void 0:globalThis.document){const n=rn(t),r=g.useRef(!1),s=g.useRef(()=>{});return g.useEffect(()=>{const i=a=>{if(a.target&&!r.current){let l=function(){$b(QO,n,c,{discrete:!0})};const c={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=l,e.addEventListener("click",s.current,{once:!0})):l()}else e.removeEventListener("click",s.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function ZO(t,e=globalThis==null?void 0:globalThis.document){const n=rn(t),r=g.useRef(!1);return g.useEffect(()=>{const s=i=>{i.target&&!r.current&&$b(HO,n,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function Nx(){const t=new CustomEvent(dv);document.dispatchEvent(t)}function $b(t,e,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?Cw(s,i):s.dispatchEvent(i)}var eL=cd,tL=Gb,Qt=globalThis!=null&&globalThis.document?g.useLayoutEffect:()=>{},nL="Portal",Xp=g.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[s,i]=g.useState(!1);Qt(()=>i(!0),[]);const o=n||s&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?jb.createPortal(f.jsx(Oe.div,{...r,ref:e}),o):null});Xp.displayName=nL;function rL(t,e){return g.useReducer((n,r)=>e[n][r]??n,t)}var pa=t=>{const{present:e,children:n}=t,r=sL(e),s=typeof n=="function"?n({present:r.isPresent}):g.Children.only(n),i=nt(r.ref,iL(s));return typeof n=="function"||r.isPresent?g.cloneElement(s,{ref:i}):null};pa.displayName="Presence";function sL(t){const[e,n]=g.useState(),r=g.useRef({}),s=g.useRef(t),i=g.useRef("none"),o=t?"mounted":"unmounted",[a,l]=rL(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return g.useEffect(()=>{const c=Mh(r.current);i.current=a==="mounted"?c:"none"},[a]),Qt(()=>{const c=r.current,d=s.current;if(d!==t){const h=i.current,v=Mh(c);t?l("MOUNT"):v==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(d&&h!==v?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,l]),Qt(()=>{if(e){let c;const d=e.ownerDocument.defaultView??window,p=v=>{const y=Mh(r.current).includes(v.animationName);if(v.target===e&&y&&(l("ANIMATION_END"),!s.current)){const A=e.style.animationFillMode;e.style.animationFillMode="forwards",c=d.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=A)})}},h=v=>{v.target===e&&(i.current=Mh(r.current))};return e.addEventListener("animationstart",h),e.addEventListener("animationcancel",p),e.addEventListener("animationend",p),()=>{d.clearTimeout(c),e.removeEventListener("animationstart",h),e.removeEventListener("animationcancel",p),e.removeEventListener("animationend",p)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:g.useCallback(c=>{c&&(r.current=getComputedStyle(c)),n(c)},[])}}function Mh(t){return(t==null?void 0:t.animationName)||"none"}function iL(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function Mu({prop:t,defaultProp:e,onChange:n=()=>{}}){const[r,s]=oL({defaultProp:e,onChange:n}),i=t!==void 0,o=i?t:r,a=rn(n),l=g.useCallback(c=>{if(i){const p=typeof c=="function"?c(t):c;p!==t&&a(p)}else s(c)},[i,t,s,a]);return[o,l]}function oL({defaultProp:t,onChange:e}){const n=g.useState(t),[r]=n,s=g.useRef(r),i=rn(e);return g.useEffect(()=>{s.current!==r&&(i(r),s.current=r)},[r,s,i]),n}var aL="VisuallyHidden",ud=g.forwardRef((t,e)=>f.jsx(Oe.span,{...t,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}));ud.displayName=aL;var lL=ud,_w="ToastProvider",[Tw,cL,uL]=ld("Toast"),[zb,hK]=Jl("Toast",[uL]),[dL,Zp]=zb(_w),Wb=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:s="right",swipeThreshold:i=50,children:o}=t,[a,l]=g.useState(null),[c,d]=g.useState(0),p=g.useRef(!1),h=g.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${_w}\`. Expected non-empty \`string\`.`),f.jsx(Tw.Provider,{scope:e,children:f.jsx(dL,{scope:e,label:n,duration:r,swipeDirection:s,swipeThreshold:i,toastCount:c,viewport:a,onViewportChange:l,onToastAdd:g.useCallback(()=>d(v=>v+1),[]),onToastRemove:g.useCallback(()=>d(v=>v-1),[]),isFocusedToastEscapeKeyDownRef:p,isClosePausedRef:h,children:o})})};Wb.displayName=_w;var Yb="ToastViewport",hL=["F8"],hv="toast.viewportPause",fv="toast.viewportResume",Kb=g.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=hL,label:s="Notifications ({hotkey})",...i}=t,o=Zp(Yb,n),a=cL(n),l=g.useRef(null),c=g.useRef(null),d=g.useRef(null),p=g.useRef(null),h=nt(e,p,o.onViewportChange),v=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),E=o.toastCount>0;g.useEffect(()=>{const A=x=>{var _;r.length!==0&&r.every(R=>x[R]||x.code===R)&&((_=p.current)==null||_.focus())};return document.addEventListener("keydown",A),()=>document.removeEventListener("keydown",A)},[r]),g.useEffect(()=>{const A=l.current,x=p.current;if(E&&A&&x){const w=()=>{if(!o.isClosePausedRef.current){const j=new CustomEvent(hv);x.dispatchEvent(j),o.isClosePausedRef.current=!0}},_=()=>{if(o.isClosePausedRef.current){const j=new CustomEvent(fv);x.dispatchEvent(j),o.isClosePausedRef.current=!1}},R=j=>{!A.contains(j.relatedTarget)&&_()},O=()=>{A.contains(document.activeElement)||_()};return A.addEventListener("focusin",w),A.addEventListener("focusout",R),A.addEventListener("pointermove",w),A.addEventListener("pointerleave",O),window.addEventListener("blur",w),window.addEventListener("focus",_),()=>{A.removeEventListener("focusin",w),A.removeEventListener("focusout",R),A.removeEventListener("pointermove",w),A.removeEventListener("pointerleave",O),window.removeEventListener("blur",w),window.removeEventListener("focus",_)}}},[E,o.isClosePausedRef]);const y=g.useCallback(({tabbingDirection:A})=>{const w=a().map(_=>{const R=_.ref.current,O=[R,...AL(R)];return A==="forwards"?O:O.reverse()});return(A==="forwards"?w.reverse():w).flat()},[a]);return g.useEffect(()=>{const A=p.current;if(A){const x=w=>{var O,j,I;const _=w.altKey||w.ctrlKey||w.metaKey;if(w.key==="Tab"&&!_){const S=document.activeElement,k=w.shiftKey;if(w.target===A&&k){(O=c.current)==null||O.focus();return}const F=y({tabbingDirection:k?"backwards":"forwards"}),D=F.findIndex(re=>re===S);Bg(F.slice(D+1))?w.preventDefault():k?(j=c.current)==null||j.focus():(I=d.current)==null||I.focus()}};return A.addEventListener("keydown",x),()=>A.removeEventListener("keydown",x)}},[a,y]),f.jsxs(tL,{ref:l,role:"region","aria-label":s.replace("{hotkey}",v),tabIndex:-1,style:{pointerEvents:E?void 0:"none"},children:[E&&f.jsx(pv,{ref:c,onFocusFromOutsideViewport:()=>{const A=y({tabbingDirection:"forwards"});Bg(A)}}),f.jsx(Tw.Slot,{scope:n,children:f.jsx(Oe.ol,{tabIndex:-1,...i,ref:h})}),E&&f.jsx(pv,{ref:d,onFocusFromOutsideViewport:()=>{const A=y({tabbingDirection:"backwards"});Bg(A)}})]})});Kb.displayName=Yb;var Qb="ToastFocusProxy",pv=g.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...s}=t,i=Zp(Qb,n);return f.jsx(ud,{"aria-hidden":!0,tabIndex:0,...s,ref:e,style:{position:"fixed"},onFocus:o=>{var c;const a=o.relatedTarget;!((c=i.viewport)!=null&&c.contains(a))&&r()}})});pv.displayName=Qb;var em="Toast",fL="toast.swipeStart",pL="toast.swipeMove",mL="toast.swipeCancel",gL="toast.swipeEnd",Hb=g.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:s,onOpenChange:i,...o}=t,[a=!0,l]=Mu({prop:r,defaultProp:s,onChange:i});return f.jsx(pa,{present:n||a,children:f.jsx(wL,{open:a,...o,ref:e,onClose:()=>l(!1),onPause:rn(t.onPause),onResume:rn(t.onResume),onSwipeStart:fe(t.onSwipeStart,c=>{c.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:fe(t.onSwipeMove,c=>{const{x:d,y:p}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","move"),c.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${p}px`)}),onSwipeCancel:fe(t.onSwipeCancel,c=>{c.currentTarget.setAttribute("data-swipe","cancel"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:fe(t.onSwipeEnd,c=>{const{x:d,y:p}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","end"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${p}px`),l(!1)})})})});Hb.displayName=em;var[yL,vL]=zb(em,{onClose(){}}),wL=g.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:s,open:i,onClose:o,onEscapeKeyDown:a,onPause:l,onResume:c,onSwipeStart:d,onSwipeMove:p,onSwipeCancel:h,onSwipeEnd:v,...E}=t,y=Zp(em,n),[A,x]=g.useState(null),w=nt(e,re=>x(re)),_=g.useRef(null),R=g.useRef(null),O=s||y.duration,j=g.useRef(0),I=g.useRef(O),S=g.useRef(0),{onToastAdd:k,onToastRemove:M}=y,V=rn(()=>{var se;(A==null?void 0:A.contains(document.activeElement))&&((se=y.viewport)==null||se.focus()),o()}),F=g.useCallback(re=>{!re||re===1/0||(window.clearTimeout(S.current),j.current=new Date().getTime(),S.current=window.setTimeout(V,re))},[V]);g.useEffect(()=>{const re=y.viewport;if(re){const se=()=>{F(I.current),c==null||c()},ne=()=>{const pe=new Date().getTime()-j.current;I.current=I.current-pe,window.clearTimeout(S.current),l==null||l()};return re.addEventListener(hv,ne),re.addEventListener(fv,se),()=>{re.removeEventListener(hv,ne),re.removeEventListener(fv,se)}}},[y.viewport,O,l,c,F]),g.useEffect(()=>{i&&!y.isClosePausedRef.current&&F(O)},[i,O,y.isClosePausedRef,F]),g.useEffect(()=>(k(),()=>M()),[k,M]);const D=g.useMemo(()=>A?rS(A):null,[A]);return y.viewport?f.jsxs(f.Fragment,{children:[D&&f.jsx(EL,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:D}),f.jsx(yL,{scope:n,onClose:V,children:fa.createPortal(f.jsx(Tw.ItemSlot,{scope:n,children:f.jsx(eL,{asChild:!0,onEscapeKeyDown:fe(a,()=>{y.isFocusedToastEscapeKeyDownRef.current||V(),y.isFocusedToastEscapeKeyDownRef.current=!1}),children:f.jsx(Oe.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":y.swipeDirection,...E,ref:w,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:fe(t.onKeyDown,re=>{re.key==="Escape"&&(a==null||a(re.nativeEvent),re.nativeEvent.defaultPrevented||(y.isFocusedToastEscapeKeyDownRef.current=!0,V()))}),onPointerDown:fe(t.onPointerDown,re=>{re.button===0&&(_.current={x:re.clientX,y:re.clientY})}),onPointerMove:fe(t.onPointerMove,re=>{if(!_.current)return;const se=re.clientX-_.current.x,ne=re.clientY-_.current.y,pe=!!R.current,q=["left","right"].includes(y.swipeDirection),W=["left","up"].includes(y.swipeDirection)?Math.min:Math.max,ie=q?W(0,se):0,ee=q?0:W(0,ne),ae=re.pointerType==="touch"?10:2,ce={x:ie,y:ee},Re={originalEvent:re,delta:ce};pe?(R.current=ce,Dh(pL,p,Re,{discrete:!1})):kx(ce,y.swipeDirection,ae)?(R.current=ce,Dh(fL,d,Re,{discrete:!1}),re.target.setPointerCapture(re.pointerId)):(Math.abs(se)>ae||Math.abs(ne)>ae)&&(_.current=null)}),onPointerUp:fe(t.onPointerUp,re=>{const se=R.current,ne=re.target;if(ne.hasPointerCapture(re.pointerId)&&ne.releasePointerCapture(re.pointerId),R.current=null,_.current=null,se){const pe=re.currentTarget,q={originalEvent:re,delta:se};kx(se,y.swipeDirection,y.swipeThreshold)?Dh(gL,v,q,{discrete:!0}):Dh(mL,h,q,{discrete:!0}),pe.addEventListener("click",W=>W.preventDefault(),{once:!0})}})})})}),y.viewport)})]}):null}),EL=t=>{const{__scopeToast:e,children:n,...r}=t,s=Zp(em,e),[i,o]=g.useState(!1),[a,l]=g.useState(!1);return _L(()=>o(!0)),g.useEffect(()=>{const c=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(c)},[]),a?null:f.jsx(Xp,{asChild:!0,children:f.jsx(ud,{...r,children:i&&f.jsxs(f.Fragment,{children:[s.label," ",n]})})})},xL="ToastTitle",Jb=g.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return f.jsx(Oe.div,{...r,ref:e})});Jb.displayName=xL;var CL="ToastDescription",Xb=g.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return f.jsx(Oe.div,{...r,ref:e})});Xb.displayName=CL;var Zb="ToastAction",eS=g.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?f.jsx(nS,{altText:n,asChild:!0,children:f.jsx(Aw,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${Zb}\`. Expected non-empty \`string\`.`),null)});eS.displayName=Zb;var tS="ToastClose",Aw=g.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,s=vL(tS,n);return f.jsx(nS,{asChild:!0,children:f.jsx(Oe.button,{type:"button",...r,ref:e,onClick:fe(t.onClick,s.onClose)})})});Aw.displayName=tS;var nS=g.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...s}=t;return f.jsx(Oe.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...s,ref:e})});function rS(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),TL(r)){const s=r.ariaHidden||r.hidden||r.style.display==="none",i=r.dataset.radixToastAnnounceExclude==="";if(!s)if(i){const o=r.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...rS(r))}}),e}function Dh(t,e,n,{discrete:r}){const s=n.originalEvent.currentTarget,i=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?Cw(s,i):s.dispatchEvent(i)}var kx=(t,e,n=0)=>{const r=Math.abs(t.x),s=Math.abs(t.y),i=r>s;return e==="left"||e==="right"?i&&r>n:!i&&s>n};function _L(t=()=>{}){const e=rn(t);Qt(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function TL(t){return t.nodeType===t.ELEMENT_NODE}function AL(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function Bg(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var bL=Wb,sS=Kb,iS=Hb,oS=Jb,aS=Xb,lS=eS,cS=Aw;function uS(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=uS(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function dS(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=uS(t))&&(r&&(r+=" "),r+=e);return r}const Mx=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,Dx=dS,bw=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return Dx(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:i}=e,o=Object.keys(s).map(c=>{const d=n==null?void 0:n[c],p=i==null?void 0:i[c];if(d===null)return null;const h=Mx(d)||Mx(p);return s[c][h]}),a=n&&Object.entries(n).reduce((c,d)=>{let[p,h]=d;return h===void 0||(c[p]=h),c},{}),l=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((c,d)=>{let{class:p,className:h,...v}=d;return Object.entries(v).every(E=>{let[y,A]=E;return Array.isArray(A)?A.includes({...i,...a}[y]):{...i,...a}[y]===A})?[...c,p,h]:c},[]);return Dx(t,o,l,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SL=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),hS=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var IL={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RL=g.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:o,...a},l)=>g.createElement("svg",{ref:l,...IL,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:hS("lucide",s),...a},[...o.map(([c,d])=>g.createElement(c,d)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ht=(t,e)=>{const n=g.forwardRef(({className:r,...s},i)=>g.createElement(RL,{ref:i,iconNode:e,className:hS(`lucide-${SL(t)}`,r),...s}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dd=Ht("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fS=Ht("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pS=Ht("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PL=Ht("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NL=Ht("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kL=Ht("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mv=Ht("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ML=Ht("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DL=Ht("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sw=Ht("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OL=Ht("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LL=Ht("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VL=Ht("ScanLine",[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}],["path",{d:"M7 12h10",key:"b7w52i"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mS=Ht("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gS=Ht("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gv=Ht("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rp=Ht("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yS=Ht("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Iw="-",FL=t=>{const e=BL(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const a=o.split(Iw);return a[0]===""&&a.length!==1&&a.shift(),vS(a,e)||jL(o)},getConflictingClassGroupIds:(o,a)=>{const l=n[o]||[];return a&&r[o]?[...l,...r[o]]:l}}},vS=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),s=r?vS(t.slice(1),r):void 0;if(s)return s;if(e.validators.length===0)return;const i=t.join(Iw);return(o=e.validators.find(({validator:a})=>a(i)))==null?void 0:o.classGroupId},Ox=/^\[(.+)\]$/,jL=t=>{if(Ox.test(t)){const e=Ox.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},BL=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return qL(Object.entries(t.classGroups),n).forEach(([i,o])=>{yv(o,r,i,e)}),r},yv=(t,e,n,r)=>{t.forEach(s=>{if(typeof s=="string"){const i=s===""?e:Lx(e,s);i.classGroupId=n;return}if(typeof s=="function"){if(UL(s)){yv(s(r),e,n,r);return}e.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([i,o])=>{yv(o,Lx(e,i),n,r)})})},Lx=(t,e)=>{let n=t;return e.split(Iw).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},UL=t=>t.isThemeGetter,qL=(t,e)=>e?t.map(([n,r])=>{const s=r.map(i=>typeof i=="string"?e+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,a])=>[e+o,a])):i);return[n,s]}):t,GL=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const s=(i,o)=>{n.set(i,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(i){let o=n.get(i);if(o!==void 0)return o;if((o=r.get(i))!==void 0)return s(i,o),o},set(i,o){n.has(i)?n.set(i,o):s(i,o)}}},wS="!",$L=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,s=e[0],i=e.length,o=a=>{const l=[];let c=0,d=0,p;for(let A=0;A<a.length;A++){let x=a[A];if(c===0){if(x===s&&(r||a.slice(A,A+i)===e)){l.push(a.slice(d,A)),d=A+i;continue}if(x==="/"){p=A;continue}}x==="["?c++:x==="]"&&c--}const h=l.length===0?a:a.substring(d),v=h.startsWith(wS),E=v?h.substring(1):h,y=p&&p>d?p-d:void 0;return{modifiers:l,hasImportantModifier:v,baseClassName:E,maybePostfixModifierPosition:y}};return n?a=>n({className:a,parseClassName:o}):o},zL=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},WL=t=>({cache:GL(t.cacheSize),parseClassName:$L(t),...FL(t)}),YL=/\s+/,KL=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=e,i=[],o=t.trim().split(YL);let a="";for(let l=o.length-1;l>=0;l-=1){const c=o[l],{modifiers:d,hasImportantModifier:p,baseClassName:h,maybePostfixModifierPosition:v}=n(c);let E=!!v,y=r(E?h.substring(0,v):h);if(!y){if(!E){a=c+(a.length>0?" "+a:a);continue}if(y=r(h),!y){a=c+(a.length>0?" "+a:a);continue}E=!1}const A=zL(d).join(":"),x=p?A+wS:A,w=x+y;if(i.includes(w))continue;i.push(w);const _=s(y,E);for(let R=0;R<_.length;++R){const O=_[R];i.push(x+O)}a=c+(a.length>0?" "+a:a)}return a};function QL(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=ES(e))&&(r&&(r+=" "),r+=n);return r}const ES=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=ES(t[r]))&&(n&&(n+=" "),n+=e);return n};function HL(t,...e){let n,r,s,i=o;function o(l){const c=e.reduce((d,p)=>p(d),t());return n=WL(c),r=n.cache.get,s=n.cache.set,i=a,a(l)}function a(l){const c=r(l);if(c)return c;const d=KL(l,n);return s(l,d),d}return function(){return i(QL.apply(null,arguments))}}const ct=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},xS=/^\[(?:([a-z-]+):)?(.+)\]$/i,JL=/^\d+\/\d+$/,XL=new Set(["px","full","screen"]),ZL=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,eV=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,tV=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,nV=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,rV=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,As=t=>hl(t)||XL.has(t)||JL.test(t),li=t=>Xl(t,"length",dV),hl=t=>!!t&&!Number.isNaN(Number(t)),Ug=t=>Xl(t,"number",hl),Oc=t=>!!t&&Number.isInteger(Number(t)),sV=t=>t.endsWith("%")&&hl(t.slice(0,-1)),Me=t=>xS.test(t),ci=t=>ZL.test(t),iV=new Set(["length","size","percentage"]),oV=t=>Xl(t,iV,CS),aV=t=>Xl(t,"position",CS),lV=new Set(["image","url"]),cV=t=>Xl(t,lV,fV),uV=t=>Xl(t,"",hV),Lc=()=>!0,Xl=(t,e,n)=>{const r=xS.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},dV=t=>eV.test(t)&&!tV.test(t),CS=()=>!1,hV=t=>nV.test(t),fV=t=>rV.test(t),pV=()=>{const t=ct("colors"),e=ct("spacing"),n=ct("blur"),r=ct("brightness"),s=ct("borderColor"),i=ct("borderRadius"),o=ct("borderSpacing"),a=ct("borderWidth"),l=ct("contrast"),c=ct("grayscale"),d=ct("hueRotate"),p=ct("invert"),h=ct("gap"),v=ct("gradientColorStops"),E=ct("gradientColorStopPositions"),y=ct("inset"),A=ct("margin"),x=ct("opacity"),w=ct("padding"),_=ct("saturate"),R=ct("scale"),O=ct("sepia"),j=ct("skew"),I=ct("space"),S=ct("translate"),k=()=>["auto","contain","none"],M=()=>["auto","hidden","clip","visible","scroll"],V=()=>["auto",Me,e],F=()=>[Me,e],D=()=>["",As,li],re=()=>["auto",hl,Me],se=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],ne=()=>["solid","dashed","dotted","double","none"],pe=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],q=()=>["start","end","center","between","around","evenly","stretch"],W=()=>["","0",Me],ie=()=>["auto","avoid","all","avoid-page","page","left","right","column"],ee=()=>[hl,Me];return{cacheSize:500,separator:":",theme:{colors:[Lc],spacing:[As,li],blur:["none","",ci,Me],brightness:ee(),borderColor:[t],borderRadius:["none","","full",ci,Me],borderSpacing:F(),borderWidth:D(),contrast:ee(),grayscale:W(),hueRotate:ee(),invert:W(),gap:F(),gradientColorStops:[t],gradientColorStopPositions:[sV,li],inset:V(),margin:V(),opacity:ee(),padding:F(),saturate:ee(),scale:ee(),sepia:W(),skew:ee(),space:F(),translate:F()},classGroups:{aspect:[{aspect:["auto","square","video",Me]}],container:["container"],columns:[{columns:[ci]}],"break-after":[{"break-after":ie()}],"break-before":[{"break-before":ie()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...se(),Me]}],overflow:[{overflow:M()}],"overflow-x":[{"overflow-x":M()}],"overflow-y":[{"overflow-y":M()}],overscroll:[{overscroll:k()}],"overscroll-x":[{"overscroll-x":k()}],"overscroll-y":[{"overscroll-y":k()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[y]}],"inset-x":[{"inset-x":[y]}],"inset-y":[{"inset-y":[y]}],start:[{start:[y]}],end:[{end:[y]}],top:[{top:[y]}],right:[{right:[y]}],bottom:[{bottom:[y]}],left:[{left:[y]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Oc,Me]}],basis:[{basis:V()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Me]}],grow:[{grow:W()}],shrink:[{shrink:W()}],order:[{order:["first","last","none",Oc,Me]}],"grid-cols":[{"grid-cols":[Lc]}],"col-start-end":[{col:["auto",{span:["full",Oc,Me]},Me]}],"col-start":[{"col-start":re()}],"col-end":[{"col-end":re()}],"grid-rows":[{"grid-rows":[Lc]}],"row-start-end":[{row:["auto",{span:[Oc,Me]},Me]}],"row-start":[{"row-start":re()}],"row-end":[{"row-end":re()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Me]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Me]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...q()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...q(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...q(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[w]}],px:[{px:[w]}],py:[{py:[w]}],ps:[{ps:[w]}],pe:[{pe:[w]}],pt:[{pt:[w]}],pr:[{pr:[w]}],pb:[{pb:[w]}],pl:[{pl:[w]}],m:[{m:[A]}],mx:[{mx:[A]}],my:[{my:[A]}],ms:[{ms:[A]}],me:[{me:[A]}],mt:[{mt:[A]}],mr:[{mr:[A]}],mb:[{mb:[A]}],ml:[{ml:[A]}],"space-x":[{"space-x":[I]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[I]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Me,e]}],"min-w":[{"min-w":[Me,e,"min","max","fit"]}],"max-w":[{"max-w":[Me,e,"none","full","min","max","fit","prose",{screen:[ci]},ci]}],h:[{h:[Me,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Me,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Me,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Me,e,"auto","min","max","fit"]}],"font-size":[{text:["base",ci,li]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Ug]}],"font-family":[{font:[Lc]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Me]}],"line-clamp":[{"line-clamp":["none",hl,Ug]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",As,Me]}],"list-image":[{"list-image":["none",Me]}],"list-style-type":[{list:["none","disc","decimal",Me]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[x]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[x]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ne(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",As,li]}],"underline-offset":[{"underline-offset":["auto",As,Me]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:F()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Me]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Me]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[x]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...se(),aV]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",oV]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},cV]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[E]}],"gradient-via-pos":[{via:[E]}],"gradient-to-pos":[{to:[E]}],"gradient-from":[{from:[v]}],"gradient-via":[{via:[v]}],"gradient-to":[{to:[v]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[x]}],"border-style":[{border:[...ne(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[x]}],"divide-style":[{divide:ne()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...ne()]}],"outline-offset":[{"outline-offset":[As,Me]}],"outline-w":[{outline:[As,li]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:D()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[x]}],"ring-offset-w":[{"ring-offset":[As,li]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",ci,uV]}],"shadow-color":[{shadow:[Lc]}],opacity:[{opacity:[x]}],"mix-blend":[{"mix-blend":[...pe(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":pe()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",ci,Me]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[p]}],saturate:[{saturate:[_]}],sepia:[{sepia:[O]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[p]}],"backdrop-opacity":[{"backdrop-opacity":[x]}],"backdrop-saturate":[{"backdrop-saturate":[_]}],"backdrop-sepia":[{"backdrop-sepia":[O]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Me]}],duration:[{duration:ee()}],ease:[{ease:["linear","in","out","in-out",Me]}],delay:[{delay:ee()}],animate:[{animate:["none","spin","ping","pulse","bounce",Me]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[R]}],"scale-x":[{"scale-x":[R]}],"scale-y":[{"scale-y":[R]}],rotate:[{rotate:[Oc,Me]}],"translate-x":[{"translate-x":[S]}],"translate-y":[{"translate-y":[S]}],"skew-x":[{"skew-x":[j]}],"skew-y":[{"skew-y":[j]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Me]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Me]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":F()}],"scroll-mx":[{"scroll-mx":F()}],"scroll-my":[{"scroll-my":F()}],"scroll-ms":[{"scroll-ms":F()}],"scroll-me":[{"scroll-me":F()}],"scroll-mt":[{"scroll-mt":F()}],"scroll-mr":[{"scroll-mr":F()}],"scroll-mb":[{"scroll-mb":F()}],"scroll-ml":[{"scroll-ml":F()}],"scroll-p":[{"scroll-p":F()}],"scroll-px":[{"scroll-px":F()}],"scroll-py":[{"scroll-py":F()}],"scroll-ps":[{"scroll-ps":F()}],"scroll-pe":[{"scroll-pe":F()}],"scroll-pt":[{"scroll-pt":F()}],"scroll-pr":[{"scroll-pr":F()}],"scroll-pb":[{"scroll-pb":F()}],"scroll-pl":[{"scroll-pl":F()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Me]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[As,li,Ug]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},mV=HL(pV),gV=()=>{};var Vx={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _S=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},yV=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],a=t[n++],l=((s&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},TS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,a=o?t[s+1]:0,l=s+2<t.length,c=l?t[s+2]:0,d=i>>2,p=(i&3)<<4|a>>4;let h=(a&15)<<2|c>>6,v=c&63;l||(v=64,o||(h=64)),r.push(n[d],n[p],n[h],n[v])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(_S(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):yV(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],a=s<t.length?n[t.charAt(s)]:0;++s;const c=s<t.length?n[t.charAt(s)]:64;++s;const p=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||a==null||c==null||p==null)throw new vV;const h=i<<2|a>>4;if(r.push(h),c!==64){const v=a<<4&240|c>>2;if(r.push(v),p!==64){const E=c<<6&192|p;r.push(E)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class vV extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const wV=function(t){const e=_S(t);return TS.encodeByteArray(e,!0)},sp=function(t){return wV(t).replace(/\./g,"")},AS=function(t){try{return TS.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EV(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xV=()=>EV().__FIREBASE_DEFAULTS__,CV=()=>{if(typeof process>"u"||typeof Vx>"u")return;const t=Vx.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},_V=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&AS(t[1]);return e&&JSON.parse(e)},tm=()=>{try{return gV()||xV()||CV()||_V()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},bS=t=>{var e,n;return(n=(e=tm())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},TV=t=>{const e=bS(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},SS=()=>{var t;return(t=tm())===null||t===void 0?void 0:t.config},IS=t=>{var e;return(e=tm())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AV{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zl(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function RS(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bV(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t);return[sp(JSON.stringify(n)),sp(JSON.stringify(o)),""].join(".")}const lu={};function SV(){const t={prod:[],emulator:[]};for(const e of Object.keys(lu))lu[e]?t.emulator.push(e):t.prod.push(e);return t}function IV(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let Fx=!1;function PS(t,e){if(typeof window>"u"||typeof document>"u"||!Zl(window.location.host)||lu[t]===e||lu[t]||Fx)return;lu[t]=e;function n(h){return`__firebase__banner__${h}`}const r="__firebase__banner",i=SV().prod.length>0;function o(){const h=document.getElementById(r);h&&h.remove()}function a(h){h.style.display="flex",h.style.background="#7faaf0",h.style.position="fixed",h.style.bottom="5px",h.style.left="5px",h.style.padding=".5em",h.style.borderRadius="5px",h.style.alignItems="center"}function l(h,v){h.setAttribute("width","24"),h.setAttribute("id",v),h.setAttribute("height","24"),h.setAttribute("viewBox","0 0 24 24"),h.setAttribute("fill","none"),h.style.marginLeft="-6px"}function c(){const h=document.createElement("span");return h.style.cursor="pointer",h.style.marginLeft="16px",h.style.fontSize="24px",h.innerHTML=" &times;",h.onclick=()=>{Fx=!0,o()},h}function d(h,v){h.setAttribute("id",v),h.innerText="Learn more",h.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",h.setAttribute("target","__blank"),h.style.paddingLeft="5px",h.style.textDecoration="underline"}function p(){const h=IV(r),v=n("text"),E=document.getElementById(v)||document.createElement("span"),y=n("learnmore"),A=document.getElementById(y)||document.createElement("a"),x=n("preprendIcon"),w=document.getElementById(x)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(h.created){const _=h.element;a(_),d(A,y);const R=c();l(w,x),_.append(w,E,A,R),document.body.appendChild(_)}i?(E.innerText="Preview backend disconnected.",w.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(w.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,E.innerText="Preview backend running in this workspace."),E.setAttribute("id",v)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",p):p()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function RV(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(wn())}function PV(){var t;const e=(t=tm())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function NV(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function kV(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function MV(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function DV(){const t=wn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function OV(){return!PV()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function LV(){try{return typeof indexedDB=="object"}catch{return!1}}function VV(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)===null||i===void 0?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FV="FirebaseError";class Qs extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=FV,Object.setPrototypeOf(this,Qs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,hd.prototype.create)}}class hd{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?jV(i,r):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new Qs(s,a,r)}}function jV(t,e){return t.replace(BV,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const BV=/\{\$([^}]+)}/g;function UV(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function na(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(jx(i)&&jx(o)){if(!na(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function jx(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fd(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function qc(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,i]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(i)}}),e}function Gc(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function qV(t,e){const n=new GV(t,e);return n.subscribe.bind(n)}class GV{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");$V(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=qg),s.error===void 0&&(s.error=qg),s.complete===void 0&&(s.complete=qg);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function $V(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function qg(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lt(t){return t&&t._delegate?t._delegate:t}class ra{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Do="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zV=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new AV;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(YV(e))try{this.getOrInitializeService({instanceIdentifier:Do})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=Do){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Do){return this.instances.has(e)}getOptions(e=Do){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);r===a&&o.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),i=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;i.add(e),this.onInitCallbacks.set(s,i);const o=this.instances.get(s);return o&&e(o,s),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:WV(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Do){return this.component?this.component.multipleInstances?e:Do:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function WV(t){return t===Do?void 0:t}function YV(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KV{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new zV(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ue;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ue||(Ue={}));const QV={debug:Ue.DEBUG,verbose:Ue.VERBOSE,info:Ue.INFO,warn:Ue.WARN,error:Ue.ERROR,silent:Ue.SILENT},HV=Ue.INFO,JV={[Ue.DEBUG]:"log",[Ue.VERBOSE]:"log",[Ue.INFO]:"info",[Ue.WARN]:"warn",[Ue.ERROR]:"error"},XV=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=JV[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Rw{constructor(e){this.name=e,this._logLevel=HV,this._logHandler=XV,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ue))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?QV[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ue.DEBUG,...e),this._logHandler(this,Ue.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ue.VERBOSE,...e),this._logHandler(this,Ue.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ue.INFO,...e),this._logHandler(this,Ue.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ue.WARN,...e),this._logHandler(this,Ue.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ue.ERROR,...e),this._logHandler(this,Ue.ERROR,...e)}}const ZV=(t,e)=>e.some(n=>t instanceof n);let Bx,Ux;function eF(){return Bx||(Bx=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function tF(){return Ux||(Ux=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const NS=new WeakMap,vv=new WeakMap,kS=new WeakMap,Gg=new WeakMap,Pw=new WeakMap;function nF(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(Ui(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&NS.set(n,t)}).catch(()=>{}),Pw.set(e,t),e}function rF(t){if(vv.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});vv.set(t,e)}let wv={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return vv.get(t);if(e==="objectStoreNames")return t.objectStoreNames||kS.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ui(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function sF(t){wv=t(wv)}function iF(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call($g(this),e,...n);return kS.set(r,e.sort?e.sort():[e]),Ui(r)}:tF().includes(t)?function(...e){return t.apply($g(this),e),Ui(NS.get(this))}:function(...e){return Ui(t.apply($g(this),e))}}function oF(t){return typeof t=="function"?iF(t):(t instanceof IDBTransaction&&rF(t),ZV(t,eF())?new Proxy(t,wv):t)}function Ui(t){if(t instanceof IDBRequest)return nF(t);if(Gg.has(t))return Gg.get(t);const e=oF(t);return e!==t&&(Gg.set(t,e),Pw.set(e,t)),e}const $g=t=>Pw.get(t);function aF(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),a=Ui(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Ui(o.result),l.oldVersion,l.newVersion,Ui(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{i&&l.addEventListener("close",()=>i()),s&&l.addEventListener("versionchange",c=>s(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const lF=["get","getKey","getAll","getAllKeys","count"],cF=["put","add","delete","clear"],zg=new Map;function qx(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(zg.get(e))return zg.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=cF.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||lF.includes(n)))return;const i=async function(o,...a){const l=this.transaction(o,s?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),s&&l.done]))[0]};return zg.set(e,i),i}sF(t=>({...t,get:(e,n,r)=>qx(e,n)||t.get(e,n,r),has:(e,n)=>!!qx(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uF{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(dF(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function dF(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Ev="@firebase/app",Gx="0.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Us=new Rw("@firebase/app"),hF="@firebase/app-compat",fF="@firebase/analytics-compat",pF="@firebase/analytics",mF="@firebase/app-check-compat",gF="@firebase/app-check",yF="@firebase/auth",vF="@firebase/auth-compat",wF="@firebase/database",EF="@firebase/data-connect",xF="@firebase/database-compat",CF="@firebase/functions",_F="@firebase/functions-compat",TF="@firebase/installations",AF="@firebase/installations-compat",bF="@firebase/messaging",SF="@firebase/messaging-compat",IF="@firebase/performance",RF="@firebase/performance-compat",PF="@firebase/remote-config",NF="@firebase/remote-config-compat",kF="@firebase/storage",MF="@firebase/storage-compat",DF="@firebase/firestore",OF="@firebase/ai",LF="@firebase/firestore-compat",VF="firebase",FF="11.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xv="[DEFAULT]",jF={[Ev]:"fire-core",[hF]:"fire-core-compat",[pF]:"fire-analytics",[fF]:"fire-analytics-compat",[gF]:"fire-app-check",[mF]:"fire-app-check-compat",[yF]:"fire-auth",[vF]:"fire-auth-compat",[wF]:"fire-rtdb",[EF]:"fire-data-connect",[xF]:"fire-rtdb-compat",[CF]:"fire-fn",[_F]:"fire-fn-compat",[TF]:"fire-iid",[AF]:"fire-iid-compat",[bF]:"fire-fcm",[SF]:"fire-fcm-compat",[IF]:"fire-perf",[RF]:"fire-perf-compat",[PF]:"fire-rc",[NF]:"fire-rc-compat",[kF]:"fire-gcs",[MF]:"fire-gcs-compat",[DF]:"fire-fst",[LF]:"fire-fst-compat",[OF]:"fire-vertex","fire-js":"fire-js",[VF]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Du=new Map,BF=new Map,Cv=new Map;function $x(t,e){try{t.container.addComponent(e)}catch(n){Us.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Ll(t){const e=t.name;if(Cv.has(e))return Us.debug(`There were multiple attempts to register component ${e}.`),!1;Cv.set(e,t);for(const n of Du.values())$x(n,t);for(const n of BF.values())$x(n,t);return!0}function Nw(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function fr(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UF={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},qi=new hd("app","Firebase",UF);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qF{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ra("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw qi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ec=FF;function MS(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:xv,automaticDataCollectionEnabled:!0},e),s=r.name;if(typeof s!="string"||!s)throw qi.create("bad-app-name",{appName:String(s)});if(n||(n=SS()),!n)throw qi.create("no-options");const i=Du.get(s);if(i){if(na(n,i.options)&&na(r,i.config))return i;throw qi.create("duplicate-app",{appName:s})}const o=new KV(s);for(const l of Cv.values())o.addComponent(l);const a=new qF(n,r,o);return Du.set(s,a),a}function kw(t=xv){const e=Du.get(t);if(!e&&t===xv&&SS())return MS();if(!e)throw qi.create("no-app",{appName:t});return e}function GF(){return Array.from(Du.values())}function Gi(t,e,n){var r;let s=(r=jF[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const i=s.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const a=[`Unable to register library "${s}" with version "${e}":`];i&&a.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Us.warn(a.join(" "));return}Ll(new ra(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $F="firebase-heartbeat-database",zF=1,Ou="firebase-heartbeat-store";let Wg=null;function DS(){return Wg||(Wg=aF($F,zF,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Ou)}catch(n){console.warn(n)}}}}).catch(t=>{throw qi.create("idb-open",{originalErrorMessage:t.message})})),Wg}async function WF(t){try{const n=(await DS()).transaction(Ou),r=await n.objectStore(Ou).get(OS(t));return await n.done,r}catch(e){if(e instanceof Qs)Us.warn(e.message);else{const n=qi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Us.warn(n.message)}}}async function zx(t,e){try{const r=(await DS()).transaction(Ou,"readwrite");await r.objectStore(Ou).put(e,OS(t)),await r.done}catch(n){if(n instanceof Qs)Us.warn(n.message);else{const r=qi.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Us.warn(r.message)}}}function OS(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YF=1024,KF=30;class QF{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new JF(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=Wx();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats.length>KF){const o=XF(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Us.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Wx(),{heartbeatsToSend:r,unsentEntries:s}=HF(this._heartbeatsCache.heartbeats),i=sp(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return Us.warn(n),""}}}function Wx(){return new Date().toISOString().substring(0,10)}function HF(t,e=YF){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),Yx(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),Yx(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class JF{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return LV()?VV().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await WF(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return zx(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return zx(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function Yx(t){return sp(JSON.stringify({version:2,heartbeats:t})).length}function XF(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZF(t){Ll(new ra("platform-logger",e=>new uF(e),"PRIVATE")),Ll(new ra("heartbeat",e=>new QF(e),"PRIVATE")),Gi(Ev,Gx,t),Gi(Ev,Gx,"esm2017"),Gi("fire-js","")}ZF("");var ej="firebase",tj="11.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Gi(ej,tj,"app");var Kx=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var $i,LS;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(I,S){function k(){}k.prototype=S.prototype,I.D=S.prototype,I.prototype=new k,I.prototype.constructor=I,I.C=function(M,V,F){for(var D=Array(arguments.length-2),re=2;re<arguments.length;re++)D[re-2]=arguments[re];return S.prototype[V].apply(M,D)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(I,S,k){k||(k=0);var M=Array(16);if(typeof S=="string")for(var V=0;16>V;++V)M[V]=S.charCodeAt(k++)|S.charCodeAt(k++)<<8|S.charCodeAt(k++)<<16|S.charCodeAt(k++)<<24;else for(V=0;16>V;++V)M[V]=S[k++]|S[k++]<<8|S[k++]<<16|S[k++]<<24;S=I.g[0],k=I.g[1],V=I.g[2];var F=I.g[3],D=S+(F^k&(V^F))+M[0]+3614090360&4294967295;S=k+(D<<7&4294967295|D>>>25),D=F+(V^S&(k^V))+M[1]+3905402710&4294967295,F=S+(D<<12&4294967295|D>>>20),D=V+(k^F&(S^k))+M[2]+606105819&4294967295,V=F+(D<<17&4294967295|D>>>15),D=k+(S^V&(F^S))+M[3]+3250441966&4294967295,k=V+(D<<22&4294967295|D>>>10),D=S+(F^k&(V^F))+M[4]+4118548399&4294967295,S=k+(D<<7&4294967295|D>>>25),D=F+(V^S&(k^V))+M[5]+1200080426&4294967295,F=S+(D<<12&4294967295|D>>>20),D=V+(k^F&(S^k))+M[6]+2821735955&4294967295,V=F+(D<<17&4294967295|D>>>15),D=k+(S^V&(F^S))+M[7]+4249261313&4294967295,k=V+(D<<22&4294967295|D>>>10),D=S+(F^k&(V^F))+M[8]+1770035416&4294967295,S=k+(D<<7&4294967295|D>>>25),D=F+(V^S&(k^V))+M[9]+2336552879&4294967295,F=S+(D<<12&4294967295|D>>>20),D=V+(k^F&(S^k))+M[10]+4294925233&4294967295,V=F+(D<<17&4294967295|D>>>15),D=k+(S^V&(F^S))+M[11]+2304563134&4294967295,k=V+(D<<22&4294967295|D>>>10),D=S+(F^k&(V^F))+M[12]+1804603682&4294967295,S=k+(D<<7&4294967295|D>>>25),D=F+(V^S&(k^V))+M[13]+4254626195&4294967295,F=S+(D<<12&4294967295|D>>>20),D=V+(k^F&(S^k))+M[14]+2792965006&4294967295,V=F+(D<<17&4294967295|D>>>15),D=k+(S^V&(F^S))+M[15]+1236535329&4294967295,k=V+(D<<22&4294967295|D>>>10),D=S+(V^F&(k^V))+M[1]+4129170786&4294967295,S=k+(D<<5&4294967295|D>>>27),D=F+(k^V&(S^k))+M[6]+3225465664&4294967295,F=S+(D<<9&4294967295|D>>>23),D=V+(S^k&(F^S))+M[11]+643717713&4294967295,V=F+(D<<14&4294967295|D>>>18),D=k+(F^S&(V^F))+M[0]+3921069994&4294967295,k=V+(D<<20&4294967295|D>>>12),D=S+(V^F&(k^V))+M[5]+3593408605&4294967295,S=k+(D<<5&4294967295|D>>>27),D=F+(k^V&(S^k))+M[10]+38016083&4294967295,F=S+(D<<9&4294967295|D>>>23),D=V+(S^k&(F^S))+M[15]+3634488961&4294967295,V=F+(D<<14&4294967295|D>>>18),D=k+(F^S&(V^F))+M[4]+3889429448&4294967295,k=V+(D<<20&4294967295|D>>>12),D=S+(V^F&(k^V))+M[9]+568446438&4294967295,S=k+(D<<5&4294967295|D>>>27),D=F+(k^V&(S^k))+M[14]+3275163606&4294967295,F=S+(D<<9&4294967295|D>>>23),D=V+(S^k&(F^S))+M[3]+4107603335&4294967295,V=F+(D<<14&4294967295|D>>>18),D=k+(F^S&(V^F))+M[8]+1163531501&4294967295,k=V+(D<<20&4294967295|D>>>12),D=S+(V^F&(k^V))+M[13]+2850285829&4294967295,S=k+(D<<5&4294967295|D>>>27),D=F+(k^V&(S^k))+M[2]+4243563512&4294967295,F=S+(D<<9&4294967295|D>>>23),D=V+(S^k&(F^S))+M[7]+1735328473&4294967295,V=F+(D<<14&4294967295|D>>>18),D=k+(F^S&(V^F))+M[12]+2368359562&4294967295,k=V+(D<<20&4294967295|D>>>12),D=S+(k^V^F)+M[5]+4294588738&4294967295,S=k+(D<<4&4294967295|D>>>28),D=F+(S^k^V)+M[8]+2272392833&4294967295,F=S+(D<<11&4294967295|D>>>21),D=V+(F^S^k)+M[11]+1839030562&4294967295,V=F+(D<<16&4294967295|D>>>16),D=k+(V^F^S)+M[14]+4259657740&4294967295,k=V+(D<<23&4294967295|D>>>9),D=S+(k^V^F)+M[1]+2763975236&4294967295,S=k+(D<<4&4294967295|D>>>28),D=F+(S^k^V)+M[4]+1272893353&4294967295,F=S+(D<<11&4294967295|D>>>21),D=V+(F^S^k)+M[7]+4139469664&4294967295,V=F+(D<<16&4294967295|D>>>16),D=k+(V^F^S)+M[10]+3200236656&4294967295,k=V+(D<<23&4294967295|D>>>9),D=S+(k^V^F)+M[13]+681279174&4294967295,S=k+(D<<4&4294967295|D>>>28),D=F+(S^k^V)+M[0]+3936430074&4294967295,F=S+(D<<11&4294967295|D>>>21),D=V+(F^S^k)+M[3]+3572445317&4294967295,V=F+(D<<16&4294967295|D>>>16),D=k+(V^F^S)+M[6]+76029189&4294967295,k=V+(D<<23&4294967295|D>>>9),D=S+(k^V^F)+M[9]+3654602809&4294967295,S=k+(D<<4&4294967295|D>>>28),D=F+(S^k^V)+M[12]+3873151461&4294967295,F=S+(D<<11&4294967295|D>>>21),D=V+(F^S^k)+M[15]+530742520&4294967295,V=F+(D<<16&4294967295|D>>>16),D=k+(V^F^S)+M[2]+3299628645&4294967295,k=V+(D<<23&4294967295|D>>>9),D=S+(V^(k|~F))+M[0]+4096336452&4294967295,S=k+(D<<6&4294967295|D>>>26),D=F+(k^(S|~V))+M[7]+1126891415&4294967295,F=S+(D<<10&4294967295|D>>>22),D=V+(S^(F|~k))+M[14]+2878612391&4294967295,V=F+(D<<15&4294967295|D>>>17),D=k+(F^(V|~S))+M[5]+4237533241&4294967295,k=V+(D<<21&4294967295|D>>>11),D=S+(V^(k|~F))+M[12]+1700485571&4294967295,S=k+(D<<6&4294967295|D>>>26),D=F+(k^(S|~V))+M[3]+2399980690&4294967295,F=S+(D<<10&4294967295|D>>>22),D=V+(S^(F|~k))+M[10]+4293915773&4294967295,V=F+(D<<15&4294967295|D>>>17),D=k+(F^(V|~S))+M[1]+2240044497&4294967295,k=V+(D<<21&4294967295|D>>>11),D=S+(V^(k|~F))+M[8]+1873313359&4294967295,S=k+(D<<6&4294967295|D>>>26),D=F+(k^(S|~V))+M[15]+4264355552&4294967295,F=S+(D<<10&4294967295|D>>>22),D=V+(S^(F|~k))+M[6]+2734768916&4294967295,V=F+(D<<15&4294967295|D>>>17),D=k+(F^(V|~S))+M[13]+1309151649&4294967295,k=V+(D<<21&4294967295|D>>>11),D=S+(V^(k|~F))+M[4]+4149444226&4294967295,S=k+(D<<6&4294967295|D>>>26),D=F+(k^(S|~V))+M[11]+3174756917&4294967295,F=S+(D<<10&4294967295|D>>>22),D=V+(S^(F|~k))+M[2]+718787259&4294967295,V=F+(D<<15&4294967295|D>>>17),D=k+(F^(V|~S))+M[9]+3951481745&4294967295,I.g[0]=I.g[0]+S&4294967295,I.g[1]=I.g[1]+(V+(D<<21&4294967295|D>>>11))&4294967295,I.g[2]=I.g[2]+V&4294967295,I.g[3]=I.g[3]+F&4294967295}r.prototype.u=function(I,S){S===void 0&&(S=I.length);for(var k=S-this.blockSize,M=this.B,V=this.h,F=0;F<S;){if(V==0)for(;F<=k;)s(this,I,F),F+=this.blockSize;if(typeof I=="string"){for(;F<S;)if(M[V++]=I.charCodeAt(F++),V==this.blockSize){s(this,M),V=0;break}}else for(;F<S;)if(M[V++]=I[F++],V==this.blockSize){s(this,M),V=0;break}}this.h=V,this.o+=S},r.prototype.v=function(){var I=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);I[0]=128;for(var S=1;S<I.length-8;++S)I[S]=0;var k=8*this.o;for(S=I.length-8;S<I.length;++S)I[S]=k&255,k/=256;for(this.u(I),I=Array(16),S=k=0;4>S;++S)for(var M=0;32>M;M+=8)I[k++]=this.g[S]>>>M&255;return I};function i(I,S){var k=a;return Object.prototype.hasOwnProperty.call(k,I)?k[I]:k[I]=S(I)}function o(I,S){this.h=S;for(var k=[],M=!0,V=I.length-1;0<=V;V--){var F=I[V]|0;M&&F==S||(k[V]=F,M=!1)}this.g=k}var a={};function l(I){return-128<=I&&128>I?i(I,function(S){return new o([S|0],0>S?-1:0)}):new o([I|0],0>I?-1:0)}function c(I){if(isNaN(I)||!isFinite(I))return p;if(0>I)return A(c(-I));for(var S=[],k=1,M=0;I>=k;M++)S[M]=I/k|0,k*=4294967296;return new o(S,0)}function d(I,S){if(I.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(I.charAt(0)=="-")return A(d(I.substring(1),S));if(0<=I.indexOf("-"))throw Error('number format error: interior "-" character');for(var k=c(Math.pow(S,8)),M=p,V=0;V<I.length;V+=8){var F=Math.min(8,I.length-V),D=parseInt(I.substring(V,V+F),S);8>F?(F=c(Math.pow(S,F)),M=M.j(F).add(c(D))):(M=M.j(k),M=M.add(c(D)))}return M}var p=l(0),h=l(1),v=l(16777216);t=o.prototype,t.m=function(){if(y(this))return-A(this).m();for(var I=0,S=1,k=0;k<this.g.length;k++){var M=this.i(k);I+=(0<=M?M:4294967296+M)*S,S*=4294967296}return I},t.toString=function(I){if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(E(this))return"0";if(y(this))return"-"+A(this).toString(I);for(var S=c(Math.pow(I,6)),k=this,M="";;){var V=R(k,S).g;k=x(k,V.j(S));var F=((0<k.g.length?k.g[0]:k.h)>>>0).toString(I);if(k=V,E(k))return F+M;for(;6>F.length;)F="0"+F;M=F+M}},t.i=function(I){return 0>I?0:I<this.g.length?this.g[I]:this.h};function E(I){if(I.h!=0)return!1;for(var S=0;S<I.g.length;S++)if(I.g[S]!=0)return!1;return!0}function y(I){return I.h==-1}t.l=function(I){return I=x(this,I),y(I)?-1:E(I)?0:1};function A(I){for(var S=I.g.length,k=[],M=0;M<S;M++)k[M]=~I.g[M];return new o(k,~I.h).add(h)}t.abs=function(){return y(this)?A(this):this},t.add=function(I){for(var S=Math.max(this.g.length,I.g.length),k=[],M=0,V=0;V<=S;V++){var F=M+(this.i(V)&65535)+(I.i(V)&65535),D=(F>>>16)+(this.i(V)>>>16)+(I.i(V)>>>16);M=D>>>16,F&=65535,D&=65535,k[V]=D<<16|F}return new o(k,k[k.length-1]&-2147483648?-1:0)};function x(I,S){return I.add(A(S))}t.j=function(I){if(E(this)||E(I))return p;if(y(this))return y(I)?A(this).j(A(I)):A(A(this).j(I));if(y(I))return A(this.j(A(I)));if(0>this.l(v)&&0>I.l(v))return c(this.m()*I.m());for(var S=this.g.length+I.g.length,k=[],M=0;M<2*S;M++)k[M]=0;for(M=0;M<this.g.length;M++)for(var V=0;V<I.g.length;V++){var F=this.i(M)>>>16,D=this.i(M)&65535,re=I.i(V)>>>16,se=I.i(V)&65535;k[2*M+2*V]+=D*se,w(k,2*M+2*V),k[2*M+2*V+1]+=F*se,w(k,2*M+2*V+1),k[2*M+2*V+1]+=D*re,w(k,2*M+2*V+1),k[2*M+2*V+2]+=F*re,w(k,2*M+2*V+2)}for(M=0;M<S;M++)k[M]=k[2*M+1]<<16|k[2*M];for(M=S;M<2*S;M++)k[M]=0;return new o(k,0)};function w(I,S){for(;(I[S]&65535)!=I[S];)I[S+1]+=I[S]>>>16,I[S]&=65535,S++}function _(I,S){this.g=I,this.h=S}function R(I,S){if(E(S))throw Error("division by zero");if(E(I))return new _(p,p);if(y(I))return S=R(A(I),S),new _(A(S.g),A(S.h));if(y(S))return S=R(I,A(S)),new _(A(S.g),S.h);if(30<I.g.length){if(y(I)||y(S))throw Error("slowDivide_ only works with positive integers.");for(var k=h,M=S;0>=M.l(I);)k=O(k),M=O(M);var V=j(k,1),F=j(M,1);for(M=j(M,2),k=j(k,2);!E(M);){var D=F.add(M);0>=D.l(I)&&(V=V.add(k),F=D),M=j(M,1),k=j(k,1)}return S=x(I,V.j(S)),new _(V,S)}for(V=p;0<=I.l(S);){for(k=Math.max(1,Math.floor(I.m()/S.m())),M=Math.ceil(Math.log(k)/Math.LN2),M=48>=M?1:Math.pow(2,M-48),F=c(k),D=F.j(S);y(D)||0<D.l(I);)k-=M,F=c(k),D=F.j(S);E(F)&&(F=h),V=V.add(F),I=x(I,D)}return new _(V,I)}t.A=function(I){return R(this,I).h},t.and=function(I){for(var S=Math.max(this.g.length,I.g.length),k=[],M=0;M<S;M++)k[M]=this.i(M)&I.i(M);return new o(k,this.h&I.h)},t.or=function(I){for(var S=Math.max(this.g.length,I.g.length),k=[],M=0;M<S;M++)k[M]=this.i(M)|I.i(M);return new o(k,this.h|I.h)},t.xor=function(I){for(var S=Math.max(this.g.length,I.g.length),k=[],M=0;M<S;M++)k[M]=this.i(M)^I.i(M);return new o(k,this.h^I.h)};function O(I){for(var S=I.g.length+1,k=[],M=0;M<S;M++)k[M]=I.i(M)<<1|I.i(M-1)>>>31;return new o(k,I.h)}function j(I,S){var k=S>>5;S%=32;for(var M=I.g.length-k,V=[],F=0;F<M;F++)V[F]=0<S?I.i(F+k)>>>S|I.i(F+k+1)<<32-S:I.i(F+k);return new o(V,I.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,LS=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=d,$i=o}).apply(typeof Kx<"u"?Kx:typeof self<"u"?self:typeof window<"u"?window:{});var Oh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var VS,$c,FS,hf,_v,jS,BS,US;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,m,b){return u==Array.prototype||u==Object.prototype||(u[m]=b.value),u};function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Oh=="object"&&Oh];for(var m=0;m<u.length;++m){var b=u[m];if(b&&b.Math==Math)return b}throw Error("Cannot find global object")}var r=n(this);function s(u,m){if(m)e:{var b=r;u=u.split(".");for(var N=0;N<u.length-1;N++){var G=u[N];if(!(G in b))break e;b=b[G]}u=u[u.length-1],N=b[u],m=m(N),m!=N&&m!=null&&e(b,u,{configurable:!0,writable:!0,value:m})}}function i(u,m){u instanceof String&&(u+="");var b=0,N=!1,G={next:function(){if(!N&&b<u.length){var Y=b++;return{value:m(Y,u[Y]),done:!1}}return N=!0,{done:!0,value:void 0}}};return G[Symbol.iterator]=function(){return G},G}s("Array.prototype.values",function(u){return u||function(){return i(this,function(m,b){return b})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function l(u){var m=typeof u;return m=m!="object"?m:u?Array.isArray(u)?"array":m:"null",m=="array"||m=="object"&&typeof u.length=="number"}function c(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function d(u,m,b){return u.call.apply(u.bind,arguments)}function p(u,m,b){if(!u)throw Error();if(2<arguments.length){var N=Array.prototype.slice.call(arguments,2);return function(){var G=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(G,N),u.apply(m,G)}}return function(){return u.apply(m,arguments)}}function h(u,m,b){return h=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:p,h.apply(null,arguments)}function v(u,m){var b=Array.prototype.slice.call(arguments,1);return function(){var N=b.slice();return N.push.apply(N,arguments),u.apply(this,N)}}function E(u,m){function b(){}b.prototype=m.prototype,u.aa=m.prototype,u.prototype=new b,u.prototype.constructor=u,u.Qb=function(N,G,Y){for(var Q=Array(arguments.length-2),et=2;et<arguments.length;et++)Q[et-2]=arguments[et];return m.prototype[G].apply(N,Q)}}function y(u){const m=u.length;if(0<m){const b=Array(m);for(let N=0;N<m;N++)b[N]=u[N];return b}return[]}function A(u,m){for(let b=1;b<arguments.length;b++){const N=arguments[b];if(l(N)){const G=u.length||0,Y=N.length||0;u.length=G+Y;for(let Q=0;Q<Y;Q++)u[G+Q]=N[Q]}else u.push(N)}}class x{constructor(m,b){this.i=m,this.j=b,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function w(u){return/^[\s\xa0]*$/.test(u)}function _(){var u=a.navigator;return u&&(u=u.userAgent)?u:""}function R(u){return R[" "](u),u}R[" "]=function(){};var O=_().indexOf("Gecko")!=-1&&!(_().toLowerCase().indexOf("webkit")!=-1&&_().indexOf("Edge")==-1)&&!(_().indexOf("Trident")!=-1||_().indexOf("MSIE")!=-1)&&_().indexOf("Edge")==-1;function j(u,m,b){for(const N in u)m.call(b,u[N],N,u)}function I(u,m){for(const b in u)m.call(void 0,u[b],b,u)}function S(u){const m={};for(const b in u)m[b]=u[b];return m}const k="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function M(u,m){let b,N;for(let G=1;G<arguments.length;G++){N=arguments[G];for(b in N)u[b]=N[b];for(let Y=0;Y<k.length;Y++)b=k[Y],Object.prototype.hasOwnProperty.call(N,b)&&(u[b]=N[b])}}function V(u){var m=1;u=u.split(":");const b=[];for(;0<m&&u.length;)b.push(u.shift()),m--;return u.length&&b.push(u.join(":")),b}function F(u){a.setTimeout(()=>{throw u},0)}function D(){var u=W;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class re{constructor(){this.h=this.g=null}add(m,b){const N=se.get();N.set(m,b),this.h?this.h.next=N:this.g=N,this.h=N}}var se=new x(()=>new ne,u=>u.reset());class ne{constructor(){this.next=this.g=this.h=null}set(m,b){this.h=m,this.g=b,this.next=null}reset(){this.next=this.g=this.h=null}}let pe,q=!1,W=new re,ie=()=>{const u=a.Promise.resolve(void 0);pe=()=>{u.then(ee)}};var ee=()=>{for(var u;u=D();){try{u.h.call(u.g)}catch(b){F(b)}var m=se;m.j(u),100>m.h&&(m.h++,u.next=m.g,m.g=u)}q=!1};function ae(){this.s=this.s,this.C=this.C}ae.prototype.s=!1,ae.prototype.ma=function(){this.s||(this.s=!0,this.N())},ae.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ce(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}ce.prototype.h=function(){this.defaultPrevented=!0};var Re=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const b=()=>{};a.addEventListener("test",b,m),a.removeEventListener("test",b,m)}catch{}return u}();function ke(u,m){if(ce.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var b=this.type=u.type,N=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget){if(O){e:{try{R(m.nodeName);var G=!0;break e}catch{}G=!1}G||(m=null)}}else b=="mouseover"?m=u.fromElement:b=="mouseout"&&(m=u.toElement);this.relatedTarget=m,N?(this.clientX=N.clientX!==void 0?N.clientX:N.pageX,this.clientY=N.clientY!==void 0?N.clientY:N.pageY,this.screenX=N.screenX||0,this.screenY=N.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:Ee[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&ke.aa.h.call(this)}}E(ke,ce);var Ee={2:"touch",3:"pen",4:"mouse"};ke.prototype.h=function(){ke.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var te="closure_listenable_"+(1e6*Math.random()|0),ge=0;function we(u,m,b,N,G){this.listener=u,this.proxy=null,this.src=m,this.type=b,this.capture=!!N,this.ha=G,this.key=++ge,this.da=this.fa=!1}function xe(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Ae(u){this.src=u,this.g={},this.h=0}Ae.prototype.add=function(u,m,b,N,G){var Y=u.toString();u=this.g[Y],u||(u=this.g[Y]=[],this.h++);var Q=de(u,m,N,G);return-1<Q?(m=u[Q],b||(m.fa=!1)):(m=new we(m,this.src,Y,!!N,G),m.fa=b,u.push(m)),m};function _e(u,m){var b=m.type;if(b in u.g){var N=u.g[b],G=Array.prototype.indexOf.call(N,m,void 0),Y;(Y=0<=G)&&Array.prototype.splice.call(N,G,1),Y&&(xe(m),u.g[b].length==0&&(delete u.g[b],u.h--))}}function de(u,m,b,N){for(var G=0;G<u.length;++G){var Y=u[G];if(!Y.da&&Y.listener==m&&Y.capture==!!b&&Y.ha==N)return G}return-1}var ve="closure_lm_"+(1e6*Math.random()|0),ht={};function st(u,m,b,N,G){if(Array.isArray(m)){for(var Y=0;Y<m.length;Y++)st(u,m[Y],b,N,G);return null}return b=xo(b),u&&u[te]?u.K(m,b,c(N)?!!N.capture:!!N,G):Pt(u,m,b,!1,N,G)}function Pt(u,m,b,N,G,Y){if(!m)throw Error("Invalid event type");var Q=c(G)?!!G.capture:!!G,et=or(u);if(et||(u[ve]=et=new Ae(u)),b=et.add(m,b,N,Q,Y),b.proxy)return b;if(N=Je(),b.proxy=N,N.src=u,N.listener=b,u.addEventListener)Re||(G=Q),G===void 0&&(G=!1),u.addEventListener(m.toString(),N,G);else if(u.attachEvent)u.attachEvent(Er(m.toString()),N);else if(u.addListener&&u.removeListener)u.addListener(N);else throw Error("addEventListener and attachEvent are unavailable.");return b}function Je(){function u(b){return m.call(u.src,u.listener,b)}const m=fs;return u}function ft(u,m,b,N,G){if(Array.isArray(m))for(var Y=0;Y<m.length;Y++)ft(u,m[Y],b,N,G);else N=c(N)?!!N.capture:!!N,b=xo(b),u&&u[te]?(u=u.i,m=String(m).toString(),m in u.g&&(Y=u.g[m],b=de(Y,b,N,G),-1<b&&(xe(Y[b]),Array.prototype.splice.call(Y,b,1),Y.length==0&&(delete u.g[m],u.h--)))):u&&(u=or(u))&&(m=u.g[m.toString()],u=-1,m&&(u=de(m,b,N,G)),(b=-1<u?m[u]:null)&&an(b))}function an(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[te])_e(m.i,u);else{var b=u.type,N=u.proxy;m.removeEventListener?m.removeEventListener(b,N,u.capture):m.detachEvent?m.detachEvent(Er(b),N):m.addListener&&m.removeListener&&m.removeListener(N),(b=or(m))?(_e(b,u),b.h==0&&(b.src=null,m[ve]=null)):xe(u)}}}function Er(u){return u in ht?ht[u]:ht[u]="on"+u}function fs(u,m){if(u.da)u=!0;else{m=new ke(m,this);var b=u.listener,N=u.ha||u.src;u.fa&&an(u),u=b.call(N,m)}return u}function or(u){return u=u[ve],u instanceof Ae?u:null}var ps="__closure_events_fn_"+(1e9*Math.random()>>>0);function xo(u){return typeof u=="function"?u:(u[ps]||(u[ps]=function(m){return u.handleEvent(m)}),u[ps])}function _t(){ae.call(this),this.i=new Ae(this),this.M=this,this.F=null}E(_t,ae),_t.prototype[te]=!0,_t.prototype.removeEventListener=function(u,m,b,N){ft(this,u,m,b,N)};function pt(u,m){var b,N=u.F;if(N)for(b=[];N;N=N.F)b.push(N);if(u=u.M,N=m.type||m,typeof m=="string")m=new ce(m,u);else if(m instanceof ce)m.target=m.target||u;else{var G=m;m=new ce(N,u),M(m,G)}if(G=!0,b)for(var Y=b.length-1;0<=Y;Y--){var Q=m.g=b[Y];G=ms(Q,N,!0,m)&&G}if(Q=m.g=u,G=ms(Q,N,!0,m)&&G,G=ms(Q,N,!1,m)&&G,b)for(Y=0;Y<b.length;Y++)Q=m.g=b[Y],G=ms(Q,N,!1,m)&&G}_t.prototype.N=function(){if(_t.aa.N.call(this),this.i){var u=this.i,m;for(m in u.g){for(var b=u.g[m],N=0;N<b.length;N++)xe(b[N]);delete u.g[m],u.h--}}this.F=null},_t.prototype.K=function(u,m,b,N){return this.i.add(String(u),m,!1,b,N)},_t.prototype.L=function(u,m,b,N){return this.i.add(String(u),m,!0,b,N)};function ms(u,m,b,N){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();for(var G=!0,Y=0;Y<m.length;++Y){var Q=m[Y];if(Q&&!Q.da&&Q.capture==b){var et=Q.listener,Vt=Q.ha||Q.src;Q.fa&&_e(u.i,Q),G=et.call(Vt,N)!==!1&&G}}return G&&!N.defaultPrevented}function xr(u,m,b){if(typeof u=="function")b&&(u=h(u,b));else if(u&&typeof u.handleEvent=="function")u=h(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:a.setTimeout(u,m||0)}function Co(u){u.g=xr(()=>{u.g=null,u.i&&(u.i=!1,Co(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class Js extends ae{constructor(m,b){super(),this.m=m,this.l=b,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Co(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ar(u){ae.call(this),this.h=u,this.g={}}E(ar,ae);var Cr=[];function _r(u){j(u.g,function(m,b){this.g.hasOwnProperty(b)&&an(m)},u),u.g={}}ar.prototype.N=function(){ar.aa.N.call(this),_r(this)},ar.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var En=a.JSON.stringify,xn=a.JSON.parse,pc=class{stringify(u){return a.JSON.stringify(u,void 0)}parse(u){return a.JSON.parse(u,void 0)}};function be(){}be.prototype.h=null;function Be(u){return u.h||(u.h=u.i())}function Qe(){}var qt={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ln(){ce.call(this,"d")}E(ln,ce);function Tr(){ce.call(this,"c")}E(Tr,ce);var lt={},Xs=null;function Ge(){return Xs=Xs||new _t}lt.La="serverreachability";function Nd(u){ce.call(this,lt.La,u)}E(Nd,ce);function cn(u){const m=Ge();pt(m,new Nd(m))}lt.STAT_EVENT="statevent";function lr(u,m){ce.call(this,lt.STAT_EVENT,u),this.stat=m}E(lr,ce);function Jt(u){const m=Ge();pt(m,new lr(m,u))}lt.Ma="timingevent";function kd(u,m){ce.call(this,lt.Ma,u),this.size=m}E(kd,ce);function gs(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){u()},m)}function ys(){this.g=!0}ys.prototype.xa=function(){this.g=!1};function Md(u,m,b,N,G,Y){u.info(function(){if(u.g)if(Y)for(var Q="",et=Y.split("&"),Vt=0;Vt<et.length;Vt++){var $e=et[Vt].split("=");if(1<$e.length){var Gt=$e[0];$e=$e[1];var $t=Gt.split("_");Q=2<=$t.length&&$t[1]=="type"?Q+(Gt+"="+$e+"&"):Q+(Gt+"=redacted&")}}else Q=null;else Q=Y;return"XMLHTTP REQ ("+N+") [attempt "+G+"]: "+m+`
`+b+`
`+Q})}function Hm(u,m,b,N,G,Y,Q){u.info(function(){return"XMLHTTP RESP ("+N+") [ attempt "+G+"]: "+m+`
`+b+`
`+Y+" "+Q})}function vs(u,m,b,N){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Jm(u,b)+(N?" "+N:"")})}function _o(u,m){u.info(function(){return"TIMEOUT: "+m})}ys.prototype.info=function(){};function Jm(u,m){if(!u.g)return m;if(!m)return null;try{var b=JSON.parse(m);if(b){for(u=0;u<b.length;u++)if(Array.isArray(b[u])){var N=b[u];if(!(2>N.length)){var G=N[1];if(Array.isArray(G)&&!(1>G.length)){var Y=G[0];if(Y!="noop"&&Y!="stop"&&Y!="close")for(var Q=1;Q<G.length;Q++)G[Q]=""}}}}return En(b)}catch{return m}}var ws={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ca={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},_a;function To(){}E(To,be),To.prototype.g=function(){return new XMLHttpRequest},To.prototype.i=function(){return{}},_a=new To;function Ar(u,m,b,N){this.j=u,this.i=m,this.l=b,this.R=N||1,this.U=new ar(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Dd}function Dd(){this.i=null,this.g="",this.h=!1}var Od={},mc={};function gc(u,m,b){u.L=1,u.v=Pa($n(m)),u.m=b,u.P=!0,Ta(u,null)}function Ta(u,m){u.F=Date.now(),Aa(u),u.A=$n(u.v);var b=u.A,N=u.R;Array.isArray(N)||(N=[String(N)]),zd(b.i,"t",N),u.C=0,b=u.j.J,u.h=new Dd,u.g=lh(u.j,b?m:null,!u.m),0<u.O&&(u.M=new Js(h(u.Y,u,u.g),u.O)),m=u.U,b=u.g,N=u.ca;var G="readystatechange";Array.isArray(G)||(G&&(Cr[0]=G.toString()),G=Cr);for(var Y=0;Y<G.length;Y++){var Q=st(b,G[Y],N||m.handleEvent,!1,m.h||m);if(!Q)break;m.g[Q.key]=Q}m=u.H?S(u.H):{},u.m?(u.u||(u.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,m)):(u.u="GET",u.g.ea(u.A,u.u,null,m)),cn(),Md(u.i,u.u,u.A,u.l,u.R,u.m)}Ar.prototype.ca=function(u){u=u.target;const m=this.M;m&&Sr(u)==3?m.j():this.Y(u)},Ar.prototype.Y=function(u){try{if(u==this.g)e:{const $t=Sr(this.g);var m=this.g.Ba();const oi=this.g.Z();if(!(3>$t)&&($t!=3||this.g&&(this.h.h||this.g.oa()||Zd(this.g)))){this.J||$t!=4||m==7||(m==8||0>=oi?cn(3):cn(2)),vc(this);var b=this.g.Z();this.X=b;t:if(Ld(this)){var N=Zd(this.g);u="";var G=N.length,Y=Sr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Es(this),Ao(this);var Q="";break t}this.h.i=new a.TextDecoder}for(m=0;m<G;m++)this.h.h=!0,u+=this.h.i.decode(N[m],{stream:!(Y&&m==G-1)});N.length=0,this.h.g+=u,this.C=0,Q=this.h.g}else Q=this.g.oa();if(this.o=b==200,Hm(this.i,this.u,this.A,this.l,this.R,$t,b),this.o){if(this.T&&!this.K){t:{if(this.g){var et,Vt=this.g;if((et=Vt.g?Vt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!w(et)){var $e=et;break t}}$e=null}if(b=$e)vs(this.i,this.l,b,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Zs(this,b);else{this.o=!1,this.s=3,Jt(12),Es(this),Ao(this);break e}}if(this.P){b=!0;let zn;for(;!this.J&&this.C<Q.length;)if(zn=Xm(this,Q),zn==mc){$t==4&&(this.s=4,Jt(14),b=!1),vs(this.i,this.l,null,"[Incomplete Response]");break}else if(zn==Od){this.s=4,Jt(15),vs(this.i,this.l,Q,"[Invalid Chunk]"),b=!1;break}else vs(this.i,this.l,zn,null),Zs(this,zn);if(Ld(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),$t!=4||Q.length!=0||this.h.h||(this.s=1,Jt(16),b=!1),this.o=this.o&&b,!b)vs(this.i,this.l,Q,"[Invalid Chunked Response]"),Es(this),Ao(this);else if(0<Q.length&&!this.W){this.W=!0;var Gt=this.j;Gt.g==this&&Gt.ba&&!Gt.M&&(Gt.j.info("Great, no buffering proxy detected. Bytes received: "+Q.length),Ac(Gt),Gt.M=!0,Jt(11))}}else vs(this.i,this.l,Q,null),Zs(this,Q);$t==4&&Es(this),this.o&&!this.J&&($t==4?oh(this.j,this):(this.o=!1,Aa(this)))}else lg(this.g),b==400&&0<Q.indexOf("Unknown SID")?(this.s=3,Jt(12)):(this.s=0,Jt(13)),Es(this),Ao(this)}}}catch{}finally{}};function Ld(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function Xm(u,m){var b=u.C,N=m.indexOf(`
`,b);return N==-1?mc:(b=Number(m.substring(b,N)),isNaN(b)?Od:(N+=1,N+b>m.length?mc:(m=m.slice(N,N+b),u.C=N+b,m)))}Ar.prototype.cancel=function(){this.J=!0,Es(this)};function Aa(u){u.S=Date.now()+u.I,yc(u,u.I)}function yc(u,m){if(u.B!=null)throw Error("WatchDog timer not null");u.B=gs(h(u.ba,u),m)}function vc(u){u.B&&(a.clearTimeout(u.B),u.B=null)}Ar.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(_o(this.i,this.A),this.L!=2&&(cn(),Jt(17)),Es(this),this.s=2,Ao(this)):yc(this,this.S-u)};function Ao(u){u.j.G==0||u.J||oh(u.j,u)}function Es(u){vc(u);var m=u.M;m&&typeof m.ma=="function"&&m.ma(),u.M=null,_r(u.U),u.g&&(m=u.g,u.g=null,m.abort(),m.ma())}function Zs(u,m){try{var b=u.j;if(b.G!=0&&(b.g==u||ba(b.h,u))){if(!u.K&&ba(b.h,u)&&b.G==3){try{var N=b.Da.g.parse(m)}catch{N=null}if(Array.isArray(N)&&N.length==3){var G=N;if(G[0]==0){e:if(!b.u){if(b.g)if(b.g.F+3e3<u.F)Oa(b),Po(b);else break e;Tc(b),Jt(18)}}else b.za=G[1],0<b.za-b.T&&37500>G[2]&&b.F&&b.v==0&&!b.C&&(b.C=gs(h(b.Za,b),6e3));if(1>=wc(b.h)&&b.ca){try{b.ca()}catch{}b.ca=void 0}}else _s(b,11)}else if((u.K||b.g==u)&&Oa(b),!w(m))for(G=b.Da.g.parse(m),m=0;m<G.length;m++){let $e=G[m];if(b.T=$e[0],$e=$e[1],b.G==2)if($e[0]=="c"){b.K=$e[1],b.ia=$e[2];const Gt=$e[3];Gt!=null&&(b.la=Gt,b.j.info("VER="+b.la));const $t=$e[4];$t!=null&&(b.Aa=$t,b.j.info("SVER="+b.Aa));const oi=$e[5];oi!=null&&typeof oi=="number"&&0<oi&&(N=1.5*oi,b.L=N,b.j.info("backChannelRequestTimeoutMs_="+N)),N=b;const zn=u.g;if(zn){const Fa=zn.g?zn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Fa){var Y=N.h;Y.g||Fa.indexOf("spdy")==-1&&Fa.indexOf("quic")==-1&&Fa.indexOf("h2")==-1||(Y.j=Y.l,Y.g=new Set,Y.h&&(Sa(Y,Y.h),Y.h=null))}if(N.D){const bc=zn.g?zn.g.getResponseHeader("X-HTTP-Session-Id"):null;bc&&(N.ya=bc,rt(N.I,N.D,bc))}}b.G=3,b.l&&b.l.ua(),b.ba&&(b.R=Date.now()-u.F,b.j.info("Handshake RTT: "+b.R+"ms")),N=b;var Q=u;if(N.qa=ah(N,N.J?N.ia:null,N.W),Q.K){Fe(N.h,Q);var et=Q,Vt=N.L;Vt&&(et.I=Vt),et.B&&(vc(et),Aa(et)),N.g=Q}else sh(N);0<b.i.length&&Da(b)}else $e[0]!="stop"&&$e[0]!="close"||_s(b,7);else b.G==3&&($e[0]=="stop"||$e[0]=="close"?$e[0]=="stop"?_s(b,7):_c(b):$e[0]!="noop"&&b.l&&b.l.ta($e),b.v=0)}}cn(4)}catch{}}var Zm=class{constructor(u,m){this.g=u,this.map=m}};function Vd(u){this.l=u||10,a.PerformanceNavigationTiming?(u=a.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function bo(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function wc(u){return u.h?1:u.g?u.g.size:0}function ba(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Sa(u,m){u.g?u.g.add(m):u.h=m}function Fe(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}Vd.prototype.cancel=function(){if(this.i=Fd(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Fd(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const b of u.g.values())m=m.concat(b.D);return m}return y(u.i)}function eg(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(l(u)){for(var m=[],b=u.length,N=0;N<b;N++)m.push(u[N]);return m}m=[],b=0;for(N in u)m[b++]=u[N];return m}function Gn(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(l(u)||typeof u=="string"){var m=[];u=u.length;for(var b=0;b<u;b++)m.push(b);return m}m=[],b=0;for(const N in u)m[b++]=N;return m}}}function jd(u,m){if(u.forEach&&typeof u.forEach=="function")u.forEach(m,void 0);else if(l(u)||typeof u=="string")Array.prototype.forEach.call(u,m,void 0);else for(var b=Gn(u),N=eg(u),G=N.length,Y=0;Y<G;Y++)m.call(void 0,N[Y],b&&b[Y],u)}var Ec=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ia(u,m){if(u){u=u.split("&");for(var b=0;b<u.length;b++){var N=u[b].indexOf("="),G=null;if(0<=N){var Y=u[b].substring(0,N);G=u[b].substring(N+1)}else Y=u[b];m(Y,G?decodeURIComponent(G.replace(/\+/g," ")):"")}}}function xs(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof xs){this.h=u.h,Ra(this,u.j),this.o=u.o,this.g=u.g,ei(this,u.s),this.l=u.l;var m=u.i,b=new So;b.i=m.i,m.g&&(b.g=new Map(m.g),b.h=m.h),Bd(this,b),this.m=u.m}else u&&(m=String(u).match(Ec))?(this.h=!1,Ra(this,m[1]||"",!0),this.o=Cs(m[2]||""),this.g=Cs(m[3]||"",!0),ei(this,m[4]),this.l=Cs(m[5]||"",!0),Bd(this,m[6]||"",!0),this.m=Cs(m[7]||"")):(this.h=!1,this.i=new So(null,this.h))}xs.prototype.toString=function(){var u=[],m=this.j;m&&u.push(Cn(m,Ud,!0),":");var b=this.g;return(b||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Cn(m,Ud,!0),"@"),u.push(encodeURIComponent(String(b)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),b=this.s,b!=null&&u.push(":",String(b))),(b=this.l)&&(this.g&&b.charAt(0)!="/"&&u.push("/"),u.push(Cn(b,b.charAt(0)=="/"?br:tg,!0))),(b=this.i.toString())&&u.push("?",b),(b=this.m)&&u.push("#",Cn(b,ng)),u.join("")};function $n(u){return new xs(u)}function Ra(u,m,b){u.j=b?Cs(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function ei(u,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);u.s=m}else u.s=null}function Bd(u,m,b){m instanceof So?(u.i=m,rg(u.i,u.h)):(b||(m=Cn(m,qd)),u.i=new So(m,u.h))}function rt(u,m,b){u.i.set(m,b)}function Pa(u){return rt(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function Cs(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Cn(u,m,b){return typeof u=="string"?(u=encodeURI(u).replace(m,xc),b&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function xc(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Ud=/[#\/\?@]/g,tg=/[#\?:]/g,br=/[#\?]/g,qd=/[#\?@]/g,ng=/#/g;function So(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function $r(u){u.g||(u.g=new Map,u.h=0,u.i&&Ia(u.i,function(m,b){u.add(decodeURIComponent(m.replace(/\+/g," ")),b)}))}t=So.prototype,t.add=function(u,m){$r(this),this.i=null,u=ti(this,u);var b=this.g.get(u);return b||this.g.set(u,b=[]),b.push(m),this.h+=1,this};function Gd(u,m){$r(u),m=ti(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function $d(u,m){return $r(u),m=ti(u,m),u.g.has(m)}t.forEach=function(u,m){$r(this),this.g.forEach(function(b,N){b.forEach(function(G){u.call(m,G,N,this)},this)},this)},t.na=function(){$r(this);const u=Array.from(this.g.values()),m=Array.from(this.g.keys()),b=[];for(let N=0;N<m.length;N++){const G=u[N];for(let Y=0;Y<G.length;Y++)b.push(m[N])}return b},t.V=function(u){$r(this);let m=[];if(typeof u=="string")$d(this,u)&&(m=m.concat(this.g.get(ti(this,u))));else{u=Array.from(this.g.values());for(let b=0;b<u.length;b++)m=m.concat(u[b])}return m},t.set=function(u,m){return $r(this),this.i=null,u=ti(this,u),$d(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},t.get=function(u,m){return u?(u=this.V(u),0<u.length?String(u[0]):m):m};function zd(u,m,b){Gd(u,m),0<b.length&&(u.i=null,u.g.set(ti(u,m),y(b)),u.h+=b.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(var b=0;b<m.length;b++){var N=m[b];const Y=encodeURIComponent(String(N)),Q=this.V(N);for(N=0;N<Q.length;N++){var G=Y;Q[N]!==""&&(G+="="+encodeURIComponent(String(Q[N]))),u.push(G)}}return this.i=u.join("&")};function ti(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function rg(u,m){m&&!u.j&&($r(u),u.i=null,u.g.forEach(function(b,N){var G=N.toLowerCase();N!=G&&(Gd(this,N),zd(this,G,b))},u)),u.j=m}function sg(u,m){const b=new ys;if(a.Image){const N=new Image;N.onload=v(_n,b,"TestLoadImage: loaded",!0,m,N),N.onerror=v(_n,b,"TestLoadImage: error",!1,m,N),N.onabort=v(_n,b,"TestLoadImage: abort",!1,m,N),N.ontimeout=v(_n,b,"TestLoadImage: timeout",!1,m,N),a.setTimeout(function(){N.ontimeout&&N.ontimeout()},1e4),N.src=u}else m(!1)}function ig(u,m){const b=new ys,N=new AbortController,G=setTimeout(()=>{N.abort(),_n(b,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:N.signal}).then(Y=>{clearTimeout(G),Y.ok?_n(b,"TestPingServer: ok",!0,m):_n(b,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(G),_n(b,"TestPingServer: error",!1,m)})}function _n(u,m,b,N,G){try{G&&(G.onload=null,G.onerror=null,G.onabort=null,G.ontimeout=null),N(b)}catch{}}function Wd(){this.g=new pc}function Yd(u,m,b){const N=b||"";try{jd(u,function(G,Y){let Q=G;c(G)&&(Q=En(G)),m.push(N+Y+"="+encodeURIComponent(Q))})}catch(G){throw m.push(N+"type="+encodeURIComponent("_badmap")),G}}function Io(u){this.l=u.Ub||null,this.j=u.eb||!1}E(Io,be),Io.prototype.g=function(){return new Na(this.l,this.j)},Io.prototype.i=function(u){return function(){return u}}({});function Na(u,m){_t.call(this),this.D=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}E(Na,_t),t=Na.prototype,t.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=m,this.readyState=1,Ro(this)},t.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(m.body=u),(this.D||a).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ni(this)),this.readyState=0},t.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Ro(this)),this.g&&(this.readyState=3,Ro(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Kd(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function Kd(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}t.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?ni(this):Ro(this),this.readyState==3&&Kd(this)}},t.Ra=function(u){this.g&&(this.response=this.responseText=u,ni(this))},t.Qa=function(u){this.g&&(this.response=u,ni(this))},t.ga=function(){this.g&&ni(this)};function ni(u){u.readyState=4,u.l=null,u.j=null,u.v=null,Ro(u)}t.setRequestHeader=function(u,m){this.u.append(u,m)},t.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var b=m.next();!b.done;)b=b.value,u.push(b[0]+": "+b[1]),b=m.next();return u.join(`\r
`)};function Ro(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Na.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Qd(u){let m="";return j(u,function(b,N){m+=N,m+=":",m+=b,m+=`\r
`}),m}function Cc(u,m,b){e:{for(N in b){var N=!1;break e}N=!0}N||(b=Qd(b),typeof u=="string"?b!=null&&encodeURIComponent(String(b)):rt(u,m,b))}function mt(u){_t.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}E(mt,_t);var og=/^https?$/i,ag=["POST","PUT"];t=mt.prototype,t.Ha=function(u){this.J=u},t.ea=function(u,m,b,N){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():_a.g(),this.v=this.o?Be(this.o):Be(_a),this.g.onreadystatechange=h(this.Ea,this);try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(Y){Hd(this,Y);return}if(u=b||"",b=new Map(this.headers),N)if(Object.getPrototypeOf(N)===Object.prototype)for(var G in N)b.set(G,N[G]);else if(typeof N.keys=="function"&&typeof N.get=="function")for(const Y of N.keys())b.set(Y,N.get(Y));else throw Error("Unknown input type for opt_headers: "+String(N));N=Array.from(b.keys()).find(Y=>Y.toLowerCase()=="content-type"),G=a.FormData&&u instanceof a.FormData,!(0<=Array.prototype.indexOf.call(ag,m,void 0))||N||G||b.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Y,Q]of b)this.g.setRequestHeader(Y,Q);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ma(this),this.u=!0,this.g.send(u),this.u=!1}catch(Y){Hd(this,Y)}};function Hd(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.m=5,Jd(u),ka(u)}function Jd(u){u.A||(u.A=!0,pt(u,"complete"),pt(u,"error"))}t.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,pt(this,"complete"),pt(this,"abort"),ka(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ka(this,!0)),mt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Xd(this):this.bb())},t.bb=function(){Xd(this)};function Xd(u){if(u.h&&typeof o<"u"&&(!u.v[1]||Sr(u)!=4||u.Z()!=2)){if(u.u&&Sr(u)==4)xr(u.Ea,0,u);else if(pt(u,"readystatechange"),Sr(u)==4){u.h=!1;try{const Q=u.Z();e:switch(Q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var b;if(!(b=m)){var N;if(N=Q===0){var G=String(u.D).match(Ec)[1]||null;!G&&a.self&&a.self.location&&(G=a.self.location.protocol.slice(0,-1)),N=!og.test(G?G.toLowerCase():"")}b=N}if(b)pt(u,"complete"),pt(u,"success");else{u.m=6;try{var Y=2<Sr(u)?u.g.statusText:""}catch{Y=""}u.l=Y+" ["+u.Z()+"]",Jd(u)}}finally{ka(u)}}}}function ka(u,m){if(u.g){Ma(u);const b=u.g,N=u.v[0]?()=>{}:null;u.g=null,u.v=null,m||pt(u,"ready");try{b.onreadystatechange=N}catch{}}}function Ma(u){u.I&&(a.clearTimeout(u.I),u.I=null)}t.isActive=function(){return!!this.g};function Sr(u){return u.g?u.g.readyState:0}t.Z=function(){try{return 2<Sr(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),xn(m)}};function Zd(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function lg(u){const m={};u=(u.g&&2<=Sr(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let N=0;N<u.length;N++){if(w(u[N]))continue;var b=V(u[N]);const G=b[0];if(b=b[1],typeof b!="string")continue;b=b.trim();const Y=m[G]||[];m[G]=Y,Y.push(b)}I(m,function(N){return N.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ri(u,m,b){return b&&b.internalChannelParams&&b.internalChannelParams[u]||m}function eh(u){this.Aa=0,this.i=[],this.j=new ys,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ri("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ri("baseRetryDelayMs",5e3,u),this.cb=ri("retryDelaySeedMs",1e4,u),this.Wa=ri("forwardChannelMaxRetries",2,u),this.wa=ri("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new Vd(u&&u.concurrentRequestLimit),this.Da=new Wd,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=eh.prototype,t.la=8,t.G=1,t.connect=function(u,m,b,N){Jt(0),this.W=u,this.H=m||{},b&&N!==void 0&&(this.H.OSID=b,this.H.OAID=N),this.F=this.X,this.I=ah(this,null,this.W),Da(this)};function _c(u){if(th(u),u.G==3){var m=u.U++,b=$n(u.I);if(rt(b,"SID",u.K),rt(b,"RID",m),rt(b,"TYPE","terminate"),No(u,b),m=new Ar(u,u.j,m),m.L=2,m.v=Pa($n(b)),b=!1,a.navigator&&a.navigator.sendBeacon)try{b=a.navigator.sendBeacon(m.v.toString(),"")}catch{}!b&&a.Image&&(new Image().src=m.v,b=!0),b||(m.g=lh(m.j,null),m.g.ea(m.v)),m.F=Date.now(),Aa(m)}si(u)}function Po(u){u.g&&(Ac(u),u.g.cancel(),u.g=null)}function th(u){Po(u),u.u&&(a.clearTimeout(u.u),u.u=null),Oa(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&a.clearTimeout(u.s),u.s=null)}function Da(u){if(!bo(u.h)&&!u.s){u.s=!0;var m=u.Ga;pe||ie(),q||(pe(),q=!0),W.add(m,u),u.B=0}}function cg(u,m){return wc(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=m.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=gs(h(u.Ga,u,m),La(u,u.B)),u.B++,!0)}t.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const G=new Ar(this,this.j,u);let Y=this.o;if(this.S&&(Y?(Y=S(Y),M(Y,this.S)):Y=this.S),this.m!==null||this.O||(G.H=Y,Y=null),this.P)e:{for(var m=0,b=0;b<this.i.length;b++){t:{var N=this.i[b];if("__data__"in N.map&&(N=N.map.__data__,typeof N=="string")){N=N.length;break t}N=void 0}if(N===void 0)break;if(m+=N,4096<m){m=b;break e}if(m===4096||b===this.i.length-1){m=b+1;break e}}m=1e3}else m=1e3;m=rh(this,G,m),b=$n(this.I),rt(b,"RID",u),rt(b,"CVER",22),this.D&&rt(b,"X-HTTP-Session-Id",this.D),No(this,b),Y&&(this.O?m="headers="+encodeURIComponent(String(Qd(Y)))+"&"+m:this.m&&Cc(b,this.m,Y)),Sa(this.h,G),this.Ua&&rt(b,"TYPE","init"),this.P?(rt(b,"$req",m),rt(b,"SID","null"),G.T=!0,gc(G,b,null)):gc(G,b,m),this.G=2}}else this.G==3&&(u?nh(this,u):this.i.length==0||bo(this.h)||nh(this))};function nh(u,m){var b;m?b=m.l:b=u.U++;const N=$n(u.I);rt(N,"SID",u.K),rt(N,"RID",b),rt(N,"AID",u.T),No(u,N),u.m&&u.o&&Cc(N,u.m,u.o),b=new Ar(u,u.j,b,u.B+1),u.m===null&&(b.H=u.o),m&&(u.i=m.D.concat(u.i)),m=rh(u,b,1e3),b.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),Sa(u.h,b),gc(b,N,m)}function No(u,m){u.H&&j(u.H,function(b,N){rt(m,N,b)}),u.l&&jd({},function(b,N){rt(m,N,b)})}function rh(u,m,b){b=Math.min(u.i.length,b);var N=u.l?h(u.l.Na,u.l,u):null;e:{var G=u.i;let Y=-1;for(;;){const Q=["count="+b];Y==-1?0<b?(Y=G[0].g,Q.push("ofs="+Y)):Y=0:Q.push("ofs="+Y);let et=!0;for(let Vt=0;Vt<b;Vt++){let $e=G[Vt].g;const Gt=G[Vt].map;if($e-=Y,0>$e)Y=Math.max(0,G[Vt].g-100),et=!1;else try{Yd(Gt,Q,"req"+$e+"_")}catch{N&&N(Gt)}}if(et){N=Q.join("&");break e}}}return u=u.i.splice(0,b),m.D=u,N}function sh(u){if(!u.g&&!u.u){u.Y=1;var m=u.Fa;pe||ie(),q||(pe(),q=!0),W.add(m,u),u.v=0}}function Tc(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=gs(h(u.Fa,u),La(u,u.v)),u.v++,!0)}t.Fa=function(){if(this.u=null,ih(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=gs(h(this.ab,this),u)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Jt(10),Po(this),ih(this))};function Ac(u){u.A!=null&&(a.clearTimeout(u.A),u.A=null)}function ih(u){u.g=new Ar(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var m=$n(u.qa);rt(m,"RID","rpc"),rt(m,"SID",u.K),rt(m,"AID",u.T),rt(m,"CI",u.F?"0":"1"),!u.F&&u.ja&&rt(m,"TO",u.ja),rt(m,"TYPE","xmlhttp"),No(u,m),u.m&&u.o&&Cc(m,u.m,u.o),u.L&&(u.g.I=u.L);var b=u.g;u=u.ia,b.L=1,b.v=Pa($n(m)),b.m=null,b.P=!0,Ta(b,u)}t.Za=function(){this.C!=null&&(this.C=null,Po(this),Tc(this),Jt(19))};function Oa(u){u.C!=null&&(a.clearTimeout(u.C),u.C=null)}function oh(u,m){var b=null;if(u.g==m){Oa(u),Ac(u),u.g=null;var N=2}else if(ba(u.h,m))b=m.D,Fe(u.h,m),N=1;else return;if(u.G!=0){if(m.o)if(N==1){b=m.m?m.m.length:0,m=Date.now()-m.F;var G=u.B;N=Ge(),pt(N,new kd(N,b)),Da(u)}else sh(u);else if(G=m.s,G==3||G==0&&0<m.X||!(N==1&&cg(u,m)||N==2&&Tc(u)))switch(b&&0<b.length&&(m=u.h,m.i=m.i.concat(b)),G){case 1:_s(u,5);break;case 4:_s(u,10);break;case 3:_s(u,6);break;default:_s(u,2)}}}function La(u,m){let b=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(b*=2),b*m}function _s(u,m){if(u.j.info("Error code "+m),m==2){var b=h(u.fb,u),N=u.Xa;const G=!N;N=new xs(N||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Ra(N,"https"),Pa(N),G?sg(N.toString(),b):ig(N.toString(),b)}else Jt(2);u.G=0,u.l&&u.l.sa(m),si(u),th(u)}t.fb=function(u){u?(this.j.info("Successfully pinged google.com"),Jt(2)):(this.j.info("Failed to ping google.com"),Jt(1))};function si(u){if(u.G=0,u.ka=[],u.l){const m=Fd(u.h);(m.length!=0||u.i.length!=0)&&(A(u.ka,m),A(u.ka,u.i),u.h.i.length=0,y(u.i),u.i.length=0),u.l.ra()}}function ah(u,m,b){var N=b instanceof xs?$n(b):new xs(b);if(N.g!="")m&&(N.g=m+"."+N.g),ei(N,N.s);else{var G=a.location;N=G.protocol,m=m?m+"."+G.hostname:G.hostname,G=+G.port;var Y=new xs(null);N&&Ra(Y,N),m&&(Y.g=m),G&&ei(Y,G),b&&(Y.l=b),N=Y}return b=u.D,m=u.ya,b&&m&&rt(N,b,m),rt(N,"VER",u.la),No(u,N),N}function lh(u,m,b){if(m&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Ca&&!u.pa?new mt(new Io({eb:b})):new mt(u.pa),m.Ha(u.J),m}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function ch(){}t=ch.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Va(){}Va.prototype.g=function(u,m){return new Tn(u,m)};function Tn(u,m){_t.call(this),this.g=new eh(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(u?u["X-WebChannel-Client-Profile"]=m.va:u={"X-WebChannel-Client-Profile":m.va}),this.g.S=u,(u=m&&m.Sb)&&!w(u)&&(this.g.m=u),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!w(m)&&(this.g.D=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new ii(this)}E(Tn,_t),Tn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Tn.prototype.close=function(){_c(this.g)},Tn.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var b={};b.__data__=u,u=b}else this.u&&(b={},b.__data__=En(u),u=b);m.i.push(new Zm(m.Ya++,u)),m.G==3&&Da(m)},Tn.prototype.N=function(){this.g.l=null,delete this.j,_c(this.g),delete this.g,Tn.aa.N.call(this)};function uh(u){ln.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){e:{for(const b in m){u=b;break e}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}E(uh,ln);function dh(){Tr.call(this),this.status=1}E(dh,Tr);function ii(u){this.g=u}E(ii,ch),ii.prototype.ua=function(){pt(this.g,"a")},ii.prototype.ta=function(u){pt(this.g,new uh(u))},ii.prototype.sa=function(u){pt(this.g,new dh)},ii.prototype.ra=function(){pt(this.g,"b")},Va.prototype.createWebChannel=Va.prototype.g,Tn.prototype.send=Tn.prototype.o,Tn.prototype.open=Tn.prototype.m,Tn.prototype.close=Tn.prototype.close,US=function(){return new Va},BS=function(){return Ge()},jS=lt,_v={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ws.NO_ERROR=0,ws.TIMEOUT=8,ws.HTTP_ERROR=6,hf=ws,Ca.COMPLETE="complete",FS=Ca,Qe.EventType=qt,qt.OPEN="a",qt.CLOSE="b",qt.ERROR="c",qt.MESSAGE="d",_t.prototype.listen=_t.prototype.K,$c=Qe,mt.prototype.listenOnce=mt.prototype.L,mt.prototype.getLastError=mt.prototype.Ka,mt.prototype.getLastErrorCode=mt.prototype.Ba,mt.prototype.getStatus=mt.prototype.Z,mt.prototype.getResponseJson=mt.prototype.Oa,mt.prototype.getResponseText=mt.prototype.oa,mt.prototype.send=mt.prototype.ea,mt.prototype.setWithCredentials=mt.prototype.Ha,VS=mt}).apply(typeof Oh<"u"?Oh:typeof self<"u"?self:typeof window<"u"?window:{});const Qx="@firebase/firestore",Hx="4.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}mn.UNAUTHENTICATED=new mn(null),mn.GOOGLE_CREDENTIALS=new mn("google-credentials-uid"),mn.FIRST_PARTY=new mn("first-party-uid"),mn.MOCK_USER=new mn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let tc="11.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sa=new Rw("@firebase/firestore");function Ga(){return sa.logLevel}function me(t,...e){if(sa.logLevel<=Ue.DEBUG){const n=e.map(Mw);sa.debug(`Firestore (${tc}): ${t}`,...n)}}function qs(t,...e){if(sa.logLevel<=Ue.ERROR){const n=e.map(Mw);sa.error(`Firestore (${tc}): ${t}`,...n)}}function Qi(t,...e){if(sa.logLevel<=Ue.WARN){const n=e.map(Mw);sa.warn(`Firestore (${tc}): ${t}`,...n)}}function Mw(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ie(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,qS(t,r,n)}function qS(t,e,n){let r=`FIRESTORE (${tc}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw qs(r),new Error(r)}function Ze(t,e,n,r){let s="Unexpected state";typeof n=="string"?s=n:r=n,t||qS(e,s,r)}function Ne(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class he extends Qs{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Os{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GS{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class nj{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(mn.UNAUTHENTICATED))}shutdown(){}}class rj{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class sj{constructor(e){this.t=e,this.currentUser=mn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ze(this.o===void 0,42304);let r=this.i;const s=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let i=new Os;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Os,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const l=i;e.enqueueRetryable(async()=>{await l.promise,await s(this.currentUser)})},a=l=>{me("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(me("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Os)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(me("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ze(typeof r.accessToken=="string",31837,{l:r}),new GS(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ze(e===null||typeof e=="string",2055,{h:e}),new mn(e)}}class ij{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=mn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class oj{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new ij(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(mn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Jx{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class aj{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,fr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Ze(this.o===void 0,3512);const r=i=>{i.error!=null&&me("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.m;return this.m=i.token,me("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{me("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.V.getImmediate({optional:!0});i?s(i):me("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Jx(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ze(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Jx(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lj(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $S(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dw{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=lj(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%62))}return r}}function Le(t,e){return t<e?-1:t>e?1:0}function Tv(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=t.codePointAt(n),s=e.codePointAt(n);if(r!==s){if(r<128&&s<128)return Le(r,s);{const i=$S(),o=cj(i.encode(Xx(t,n)),i.encode(Xx(e,n)));return o!==0?o:Le(r,s)}}n+=r>65535?2:1}return Le(t.length,e.length)}function Xx(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function cj(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return Le(t[n],e[n]);return Le(t.length,e.length)}function Vl(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zx="__name__";class Kr{constructor(e,n,r){n===void 0?n=0:n>e.length&&Ie(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Ie(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Kr.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Kr?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=Kr.compareSegments(e.get(s),n.get(s));if(i!==0)return i}return Le(e.length,n.length)}static compareSegments(e,n){const r=Kr.isNumericId(e),s=Kr.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?Kr.extractNumericId(e).compare(Kr.extractNumericId(n)):Tv(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return $i.fromString(e.substring(4,e.length-2))}}class ot extends Kr{construct(e,n,r){return new ot(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new he(H.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new ot(n)}static emptyPath(){return new ot([])}}const uj=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class en extends Kr{construct(e,n,r){return new en(e,n,r)}static isValidIdentifier(e){return uj.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),en.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Zx}static keyField(){return new en([Zx])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new he(H.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<e.length;){const a=e[s];if(a==="\\"){if(s+1===e.length)throw new he(H.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[s+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new he(H.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,s+=2}else a==="`"?(o=!o,s++):a!=="."||o?(r+=a,s++):(i(),s++)}if(i(),o)throw new he(H.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new en(n)}static emptyPath(){return new en([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ce{constructor(e){this.path=e}static fromPath(e){return new Ce(ot.fromString(e))}static fromName(e){return new Ce(ot.fromString(e).popFirst(5))}static empty(){return new Ce(ot.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ot.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ot.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ce(new ot(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zS(t,e,n){if(!n)throw new he(H.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function dj(t,e,n,r){if(e===!0&&r===!0)throw new he(H.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function eC(t){if(!Ce.isDocumentKey(t))throw new he(H.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function tC(t){if(Ce.isDocumentKey(t))throw new he(H.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function WS(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function nm(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ie(12329,{type:typeof t})}function er(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new he(H.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=nm(t);throw new he(H.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ot(t,e){const n={typeString:t};return e&&(n.value=e),n}function pd(t,e){if(!WS(t))throw new he(H.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const s=e[r].typeString,i="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const o=t[r];if(s&&typeof o!==s){n=`JSON field '${r}' must be a ${s}.`;break}if(i!==void 0&&o!==i.value){n=`Expected '${r}' field to equal '${i.value}'`;break}}if(n)throw new he(H.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nC=-62135596800,rC=1e6;class Ye{static now(){return Ye.fromMillis(Date.now())}static fromDate(e){return Ye.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*rC);return new Ye(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new he(H.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new he(H.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<nC)throw new he(H.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new he(H.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/rC}_compareTo(e){return this.seconds===e.seconds?Le(this.nanoseconds,e.nanoseconds):Le(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Ye._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(pd(e,Ye._jsonSchema))return new Ye(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-nC;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Ye._jsonSchemaVersion="firestore/timestamp/1.0",Ye._jsonSchema={type:Ot("string",Ye._jsonSchemaVersion),seconds:Ot("number"),nanoseconds:Ot("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pe{static fromTimestamp(e){return new Pe(e)}static min(){return new Pe(new Ye(0,0))}static max(){return new Pe(new Ye(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lu=-1;function hj(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=Pe.fromTimestamp(r===1e9?new Ye(n+1,0):new Ye(n,r));return new Hi(s,Ce.empty(),e)}function fj(t){return new Hi(t.readTime,t.key,Lu)}class Hi{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Hi(Pe.min(),Ce.empty(),Lu)}static max(){return new Hi(Pe.max(),Ce.empty(),Lu)}}function pj(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Ce.comparator(t.documentKey,e.documentKey),n!==0?n:Le(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mj="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class gj{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nc(t){if(t.code!==H.FAILED_PRECONDITION||t.message!==mj)throw t;me("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ie(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new J((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof J?n:J.resolve(n)}catch(n){return J.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):J.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):J.reject(n)}static resolve(e){return new J((n,r)=>{n(e)})}static reject(e){return new J((n,r)=>{r(e)})}static waitFor(e){return new J((n,r)=>{let s=0,i=0,o=!1;e.forEach(a=>{++s,a.next(()=>{++i,o&&i===s&&n()},l=>r(l))}),o=!0,i===s&&n()})}static or(e){let n=J.resolve(!1);for(const r of e)n=n.next(s=>s?J.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new J((r,s)=>{const i=e.length,o=new Array(i);let a=0;for(let l=0;l<i;l++){const c=l;n(e[c]).next(d=>{o[c]=d,++a,a===i&&r(o)},d=>s(d))}})}static doWhile(e,n){return new J((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}function yj(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function rc(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rm{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this._e(r),this.ae=r=>n.writeSequenceNumber(r))}_e(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ae&&this.ae(e),e}}rm.ue=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ow=-1;function sm(t){return t==null}function ip(t){return t===0&&1/t==-1/0}function vj(t){return typeof t=="number"&&Number.isInteger(t)&&!ip(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YS="";function wj(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=sC(e)),e=Ej(t.get(n),e);return sC(e)}function Ej(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const i=t.charAt(s);switch(i){case"\0":n+="";break;case YS:n+="";break;default:n+=i}}return n}function sC(t){return t+YS+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iC(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function uo(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function KS(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ct{constructor(e,n){this.comparator=e,this.root=n||Zt.EMPTY}insert(e,n){return new Ct(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Zt.BLACK,null,null))}remove(e){return new Ct(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Zt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Lh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Lh(this.root,e,this.comparator,!1)}getReverseIterator(){return new Lh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Lh(this.root,e,this.comparator,!0)}}class Lh{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Zt{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??Zt.RED,this.left=s??Zt.EMPTY,this.right=i??Zt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new Zt(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Zt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return Zt.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Zt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Zt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ie(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ie(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ie(27949);return e+(this.isRed()?0:1)}}Zt.EMPTY=null,Zt.RED=!0,Zt.BLACK=!1;Zt.EMPTY=new class{constructor(){this.size=0}get key(){throw Ie(57766)}get value(){throw Ie(16141)}get color(){throw Ie(16727)}get left(){throw Ie(29726)}get right(){throw Ie(36894)}copy(e,n,r,s,i){return this}insert(e,n,r){return new Zt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ut{constructor(e){this.comparator=e,this.data=new Ct(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new oC(this.data.getIterator())}getIteratorFrom(e){return new oC(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Ut)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Ut(this.comparator);return n.data=e,n}}class oC{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xn{constructor(e){this.fields=e,e.sort(en.comparator)}static empty(){return new Xn([])}unionWith(e){let n=new Ut(en.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Xn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Vl(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QS extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new QS("Invalid base64 string: "+i):i}}(e);return new sn(n)}static fromUint8Array(e){const n=function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i}(e);return new sn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Le(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}sn.EMPTY_BYTE_STRING=new sn("");const xj=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ji(t){if(Ze(!!t,39018),typeof t=="string"){let e=0;const n=xj.exec(t);if(Ze(!!n,46558,{timestamp:t}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:St(t.seconds),nanos:St(t.nanos)}}function St(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Xi(t){return typeof t=="string"?sn.fromBase64String(t):sn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HS="server_timestamp",JS="__type__",XS="__previous_value__",ZS="__local_write_time__";function Lw(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[JS])===null||n===void 0?void 0:n.stringValue)===HS}function im(t){const e=t.mapValue.fields[XS];return Lw(e)?im(e):e}function Vu(t){const e=Ji(t.mapValue.fields[ZS].timestampValue);return new Ye(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cj{constructor(e,n,r,s,i,o,a,l,c,d){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c,this.isUsingEmulator=d}}const op="(default)";class Fu{constructor(e,n){this.projectId=e,this.database=n||op}static empty(){return new Fu("","")}get isDefaultDatabase(){return this.database===op}isEqual(e){return e instanceof Fu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eI="__type__",tI="__max__",Vh={mapValue:{fields:{__type__:{stringValue:tI}}}},nI="__vector__",ap="value";function Zi(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Lw(t)?4:Tj(t)?9007199254740991:_j(t)?10:11:Ie(28295,{value:t})}function ls(t,e){if(t===e)return!0;const n=Zi(t);if(n!==Zi(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Vu(t).isEqual(Vu(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=Ji(s.timestampValue),a=Ji(i.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return Xi(s.bytesValue).isEqual(Xi(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return St(s.geoPointValue.latitude)===St(i.geoPointValue.latitude)&&St(s.geoPointValue.longitude)===St(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return St(s.integerValue)===St(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=St(s.doubleValue),a=St(i.doubleValue);return o===a?ip(o)===ip(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Vl(t.arrayValue.values||[],e.arrayValue.values||[],ls);case 10:case 11:return function(s,i){const o=s.mapValue.fields||{},a=i.mapValue.fields||{};if(iC(o)!==iC(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!ls(o[l],a[l])))return!1;return!0}(t,e);default:return Ie(52216,{left:t})}}function ju(t,e){return(t.values||[]).find(n=>ls(n,e))!==void 0}function Fl(t,e){if(t===e)return 0;const n=Zi(t),r=Zi(e);if(n!==r)return Le(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Le(t.booleanValue,e.booleanValue);case 2:return function(i,o){const a=St(i.integerValue||i.doubleValue),l=St(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return aC(t.timestampValue,e.timestampValue);case 4:return aC(Vu(t),Vu(e));case 5:return Tv(t.stringValue,e.stringValue);case 6:return function(i,o){const a=Xi(i),l=Xi(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const a=i.split("/"),l=o.split("/");for(let c=0;c<a.length&&c<l.length;c++){const d=Le(a[c],l[c]);if(d!==0)return d}return Le(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const a=Le(St(i.latitude),St(o.latitude));return a!==0?a:Le(St(i.longitude),St(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return lC(t.arrayValue,e.arrayValue);case 10:return function(i,o){var a,l,c,d;const p=i.fields||{},h=o.fields||{},v=(a=p[ap])===null||a===void 0?void 0:a.arrayValue,E=(l=h[ap])===null||l===void 0?void 0:l.arrayValue,y=Le(((c=v==null?void 0:v.values)===null||c===void 0?void 0:c.length)||0,((d=E==null?void 0:E.values)===null||d===void 0?void 0:d.length)||0);return y!==0?y:lC(v,E)}(t.mapValue,e.mapValue);case 11:return function(i,o){if(i===Vh.mapValue&&o===Vh.mapValue)return 0;if(i===Vh.mapValue)return 1;if(o===Vh.mapValue)return-1;const a=i.fields||{},l=Object.keys(a),c=o.fields||{},d=Object.keys(c);l.sort(),d.sort();for(let p=0;p<l.length&&p<d.length;++p){const h=Tv(l[p],d[p]);if(h!==0)return h;const v=Fl(a[l[p]],c[d[p]]);if(v!==0)return v}return Le(l.length,d.length)}(t.mapValue,e.mapValue);default:throw Ie(23264,{le:n})}}function aC(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Le(t,e);const n=Ji(t),r=Ji(e),s=Le(n.seconds,r.seconds);return s!==0?s:Le(n.nanos,r.nanos)}function lC(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const i=Fl(n[s],r[s]);if(i)return i}return Le(n.length,r.length)}function jl(t){return Av(t)}function Av(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Ji(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Xi(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Ce.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=Av(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const o of r)i?i=!1:s+=",",s+=`${o}:${Av(n.fields[o])}`;return s+"}"}(t.mapValue):Ie(61005,{value:t})}function ff(t){switch(Zi(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=im(t);return e?16+ff(e):16;case 5:return 2*t.stringValue.length;case 6:return Xi(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((s,i)=>s+ff(i),0)}(t.arrayValue);case 10:case 11:return function(r){let s=0;return uo(r.fields,(i,o)=>{s+=i.length+ff(o)}),s}(t.mapValue);default:throw Ie(13486,{value:t})}}function cC(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function bv(t){return!!t&&"integerValue"in t}function Vw(t){return!!t&&"arrayValue"in t}function uC(t){return!!t&&"nullValue"in t}function dC(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function pf(t){return!!t&&"mapValue"in t}function _j(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[eI])===null||n===void 0?void 0:n.stringValue)===nI}function cu(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return uo(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=cu(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=cu(t.arrayValue.values[n]);return e}return Object.assign({},t)}function Tj(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===tI}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ln{constructor(e){this.value=e}static empty(){return new Ln({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!pf(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=cu(n)}setAll(e){let n=en.emptyPath(),r={},s=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,s),r={},s=[],n=a.popLast()}o?r[a.lastSegment()]=cu(o):s.push(a.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());pf(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ls(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];pf(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){uo(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new Ln(cu(this.value))}}function rI(t){const e=[];return uo(t.fields,(n,r)=>{const s=new en([n]);if(pf(r)){const i=rI(r.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)}),new Xn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yn{constructor(e,n,r,s,i,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(e){return new yn(e,0,Pe.min(),Pe.min(),Pe.min(),Ln.empty(),0)}static newFoundDocument(e,n,r,s){return new yn(e,1,n,Pe.min(),r,s,0)}static newNoDocument(e,n){return new yn(e,2,n,Pe.min(),Pe.min(),Ln.empty(),0)}static newUnknownDocument(e,n){return new yn(e,3,n,Pe.min(),Pe.min(),Ln.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Pe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ln.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ln.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Pe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof yn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new yn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lp{constructor(e,n){this.position=e,this.inclusive=n}}function hC(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?r=Ce.comparator(Ce.fromName(o.referenceValue),n.key):r=Fl(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function fC(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!ls(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bu{constructor(e,n="asc"){this.field=e,this.dir=n}}function Aj(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sI{}class Dt extends sI{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new Sj(e,n,r):n==="array-contains"?new Pj(e,r):n==="in"?new Nj(e,r):n==="not-in"?new kj(e,r):n==="array-contains-any"?new Mj(e,r):new Dt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new Ij(e,r):new Rj(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Fl(n,this.value)):n!==null&&Zi(this.value)===Zi(n)&&this.matchesComparison(Fl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ie(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Br extends sI{constructor(e,n){super(),this.filters=e,this.op=n,this.he=null}static create(e,n){return new Br(e,n)}matches(e){return iI(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}}function iI(t){return t.op==="and"}function oI(t){return bj(t)&&iI(t)}function bj(t){for(const e of t.filters)if(e instanceof Br)return!1;return!0}function Sv(t){if(t instanceof Dt)return t.field.canonicalString()+t.op.toString()+jl(t.value);if(oI(t))return t.filters.map(e=>Sv(e)).join(",");{const e=t.filters.map(n=>Sv(n)).join(",");return`${t.op}(${e})`}}function aI(t,e){return t instanceof Dt?function(r,s){return s instanceof Dt&&r.op===s.op&&r.field.isEqual(s.field)&&ls(r.value,s.value)}(t,e):t instanceof Br?function(r,s){return s instanceof Br&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,o,a)=>i&&aI(o,s.filters[a]),!0):!1}(t,e):void Ie(19439)}function lI(t){return t instanceof Dt?function(n){return`${n.field.canonicalString()} ${n.op} ${jl(n.value)}`}(t):t instanceof Br?function(n){return n.op.toString()+" {"+n.getFilters().map(lI).join(" ,")+"}"}(t):"Filter"}class Sj extends Dt{constructor(e,n,r){super(e,n,r),this.key=Ce.fromName(r.referenceValue)}matches(e){const n=Ce.comparator(e.key,this.key);return this.matchesComparison(n)}}class Ij extends Dt{constructor(e,n){super(e,"in",n),this.keys=cI("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class Rj extends Dt{constructor(e,n){super(e,"not-in",n),this.keys=cI("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function cI(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>Ce.fromName(r.referenceValue))}class Pj extends Dt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Vw(n)&&ju(n.arrayValue,this.value)}}class Nj extends Dt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&ju(this.value.arrayValue,n)}}class kj extends Dt{constructor(e,n){super(e,"not-in",n)}matches(e){if(ju(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!ju(this.value.arrayValue,n)}}class Mj extends Dt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Vw(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>ju(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dj{constructor(e,n=null,r=[],s=[],i=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=a,this.Pe=null}}function pC(t,e=null,n=[],r=[],s=null,i=null,o=null){return new Dj(t,e,n,r,s,i,o)}function Fw(t){const e=Ne(t);if(e.Pe===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Sv(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),sm(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>jl(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>jl(r)).join(",")),e.Pe=n}return e.Pe}function jw(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!Aj(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!aI(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!fC(t.startAt,e.startAt)&&fC(t.endAt,e.endAt)}function Iv(t){return Ce.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sc{constructor(e,n=null,r=[],s=[],i=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=l,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function Oj(t,e,n,r,s,i,o,a){return new sc(t,e,n,r,s,i,o,a)}function om(t){return new sc(t)}function mC(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function uI(t){return t.collectionGroup!==null}function uu(t){const e=Ne(t);if(e.Te===null){e.Te=[];const n=new Set;for(const i of e.explicitOrderBy)e.Te.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new Ut(en.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.Te.push(new Bu(i,r))}),n.has(en.keyField().canonicalString())||e.Te.push(new Bu(en.keyField(),r))}return e.Te}function ns(t){const e=Ne(t);return e.Ie||(e.Ie=Lj(e,uu(t))),e.Ie}function Lj(t,e){if(t.limitType==="F")return pC(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new Bu(s.field,i)});const n=t.endAt?new lp(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new lp(t.startAt.position,t.startAt.inclusive):null;return pC(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Rv(t,e){const n=t.filters.concat([e]);return new sc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Pv(t,e,n){return new sc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function am(t,e){return jw(ns(t),ns(e))&&t.limitType===e.limitType}function dI(t){return`${Fw(ns(t))}|lt:${t.limitType}`}function $a(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>lI(s)).join(", ")}]`),sm(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>jl(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>jl(s)).join(",")),`Target(${r})`}(ns(t))}; limitType=${t.limitType})`}function lm(t,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):Ce.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,s){for(const i of uu(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(o,a,l){const c=hC(o,a,l);return o.inclusive?c<=0:c<0}(r.startAt,uu(r),s)||r.endAt&&!function(o,a,l){const c=hC(o,a,l);return o.inclusive?c>=0:c>0}(r.endAt,uu(r),s))}(t,e)}function Vj(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function hI(t){return(e,n)=>{let r=!1;for(const s of uu(t)){const i=Fj(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function Fj(t,e,n){const r=t.field.isKeyField()?Ce.comparator(e.key,n.key):function(i,o,a){const l=o.data.field(i),c=a.data.field(i);return l!==null&&c!==null?Fl(l,c):Ie(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Ie(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ma{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){uo(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return KS(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jj=new Ct(Ce.comparator);function Gs(){return jj}const fI=new Ct(Ce.comparator);function zc(...t){let e=fI;for(const n of t)e=e.insert(n.key,n);return e}function pI(t){let e=fI;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Fo(){return du()}function mI(){return du()}function du(){return new ma(t=>t.toString(),(t,e)=>t.isEqual(e))}const Bj=new Ct(Ce.comparator),Uj=new Ut(Ce.comparator);function qe(...t){let e=Uj;for(const n of t)e=e.add(n);return e}const qj=new Ut(Le);function Gj(){return qj}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bw(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ip(e)?"-0":e}}function gI(t){return{integerValue:""+t}}function yI(t,e){return vj(e)?gI(e):Bw(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cm{constructor(){this._=void 0}}function $j(t,e,n){return t instanceof cp?function(s,i){const o={fields:{[JS]:{stringValue:HS},[ZS]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&Lw(i)&&(i=im(i)),i&&(o.fields[XS]=i),{mapValue:o}}(n,e):t instanceof Uu?wI(t,e):t instanceof qu?EI(t,e):function(s,i){const o=vI(s,i),a=gC(o)+gC(s.Ee);return bv(o)&&bv(s.Ee)?gI(a):Bw(s.serializer,a)}(t,e)}function zj(t,e,n){return t instanceof Uu?wI(t,e):t instanceof qu?EI(t,e):n}function vI(t,e){return t instanceof Gu?function(r){return bv(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class cp extends cm{}class Uu extends cm{constructor(e){super(),this.elements=e}}function wI(t,e){const n=xI(e);for(const r of t.elements)n.some(s=>ls(s,r))||n.push(r);return{arrayValue:{values:n}}}class qu extends cm{constructor(e){super(),this.elements=e}}function EI(t,e){let n=xI(e);for(const r of t.elements)n=n.filter(s=>!ls(s,r));return{arrayValue:{values:n}}}class Gu extends cm{constructor(e,n){super(),this.serializer=e,this.Ee=n}}function gC(t){return St(t.integerValue||t.doubleValue)}function xI(t){return Vw(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wj{constructor(e,n){this.field=e,this.transform=n}}function Yj(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof Uu&&s instanceof Uu||r instanceof qu&&s instanceof qu?Vl(r.elements,s.elements,ls):r instanceof Gu&&s instanceof Gu?ls(r.Ee,s.Ee):r instanceof cp&&s instanceof cp}(t.transform,e.transform)}class Kj{constructor(e,n){this.version=e,this.transformResults=n}}class Fr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Fr}static exists(e){return new Fr(void 0,e)}static updateTime(e){return new Fr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function mf(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}let um=class{};function CI(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Uw(t.key,Fr.none()):new md(t.key,t.data,Fr.none());{const n=t.data,r=Ln.empty();let s=new Ut(en.comparator);for(let i of e.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new ho(t.key,r,new Xn(s.toArray()),Fr.none())}}function Qj(t,e,n){t instanceof md?function(s,i,o){const a=s.value.clone(),l=vC(s.fieldTransforms,i,o.transformResults);a.setAll(l),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof ho?function(s,i,o){if(!mf(s.precondition,i))return void i.convertToUnknownDocument(o.version);const a=vC(s.fieldTransforms,i,o.transformResults),l=i.data;l.setAll(_I(s)),l.setAll(a),i.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function hu(t,e,n,r){return t instanceof md?function(i,o,a,l){if(!mf(i.precondition,o))return a;const c=i.value.clone(),d=wC(i.fieldTransforms,l,o);return c.setAll(d),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof ho?function(i,o,a,l){if(!mf(i.precondition,o))return a;const c=wC(i.fieldTransforms,l,o),d=o.data;return d.setAll(_I(i)),d.setAll(c),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),a===null?null:a.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(p=>p.field))}(t,e,n,r):function(i,o,a){return mf(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function Hj(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=vI(r.transform,s||null);i!=null&&(n===null&&(n=Ln.empty()),n.set(r.field,i))}return n||null}function yC(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&Vl(r,s,(i,o)=>Yj(i,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class md extends um{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class ho extends um{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function _I(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function vC(t,e,n){const r=new Map;Ze(t.length===n.length,32656,{Ae:n.length,Re:t.length});for(let s=0;s<n.length;s++){const i=t[s],o=i.transform,a=e.data.field(i.field);r.set(i.field,zj(o,a,n[s]))}return r}function wC(t,e,n){const r=new Map;for(const s of t){const i=s.transform,o=n.data.field(s.field);r.set(s.field,$j(i,o,e))}return r}class Uw extends um{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Jj extends um{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xj{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&Qj(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=hu(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=hu(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=mI();return this.mutations.forEach(s=>{const i=e.get(s.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=n.has(s.key)?null:a;const l=CI(o,a);l!==null&&r.set(s.key,l),o.isValidDocument()||o.convertToNoDocument(Pe.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),qe())}isEqual(e){return this.batchId===e.batchId&&Vl(this.mutations,e.mutations,(n,r)=>yC(n,r))&&Vl(this.baseMutations,e.baseMutations,(n,r)=>yC(n,r))}}class qw{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){Ze(e.mutations.length===r.length,58842,{Ve:e.mutations.length,me:r.length});let s=function(){return Bj}();const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new qw(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zj{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eB{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var kt,ze;function tB(t){switch(t){case H.OK:return Ie(64938);case H.CANCELLED:case H.UNKNOWN:case H.DEADLINE_EXCEEDED:case H.RESOURCE_EXHAUSTED:case H.INTERNAL:case H.UNAVAILABLE:case H.UNAUTHENTICATED:return!1;case H.INVALID_ARGUMENT:case H.NOT_FOUND:case H.ALREADY_EXISTS:case H.PERMISSION_DENIED:case H.FAILED_PRECONDITION:case H.ABORTED:case H.OUT_OF_RANGE:case H.UNIMPLEMENTED:case H.DATA_LOSS:return!0;default:return Ie(15467,{code:t})}}function TI(t){if(t===void 0)return qs("GRPC error has no .code"),H.UNKNOWN;switch(t){case kt.OK:return H.OK;case kt.CANCELLED:return H.CANCELLED;case kt.UNKNOWN:return H.UNKNOWN;case kt.DEADLINE_EXCEEDED:return H.DEADLINE_EXCEEDED;case kt.RESOURCE_EXHAUSTED:return H.RESOURCE_EXHAUSTED;case kt.INTERNAL:return H.INTERNAL;case kt.UNAVAILABLE:return H.UNAVAILABLE;case kt.UNAUTHENTICATED:return H.UNAUTHENTICATED;case kt.INVALID_ARGUMENT:return H.INVALID_ARGUMENT;case kt.NOT_FOUND:return H.NOT_FOUND;case kt.ALREADY_EXISTS:return H.ALREADY_EXISTS;case kt.PERMISSION_DENIED:return H.PERMISSION_DENIED;case kt.FAILED_PRECONDITION:return H.FAILED_PRECONDITION;case kt.ABORTED:return H.ABORTED;case kt.OUT_OF_RANGE:return H.OUT_OF_RANGE;case kt.UNIMPLEMENTED:return H.UNIMPLEMENTED;case kt.DATA_LOSS:return H.DATA_LOSS;default:return Ie(39323,{code:t})}}(ze=kt||(kt={}))[ze.OK=0]="OK",ze[ze.CANCELLED=1]="CANCELLED",ze[ze.UNKNOWN=2]="UNKNOWN",ze[ze.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ze[ze.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ze[ze.NOT_FOUND=5]="NOT_FOUND",ze[ze.ALREADY_EXISTS=6]="ALREADY_EXISTS",ze[ze.PERMISSION_DENIED=7]="PERMISSION_DENIED",ze[ze.UNAUTHENTICATED=16]="UNAUTHENTICATED",ze[ze.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ze[ze.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ze[ze.ABORTED=10]="ABORTED",ze[ze.OUT_OF_RANGE=11]="OUT_OF_RANGE",ze[ze.UNIMPLEMENTED=12]="UNIMPLEMENTED",ze[ze.INTERNAL=13]="INTERNAL",ze[ze.UNAVAILABLE=14]="UNAVAILABLE",ze[ze.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nB=new $i([4294967295,4294967295],0);function EC(t){const e=$S().encode(t),n=new LS;return n.update(e),new Uint8Array(n.digest())}function xC(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new $i([n,r],0),new $i([s,i],0)]}class Gw{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Wc(`Invalid padding: ${n}`);if(r<0)throw new Wc(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Wc(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Wc(`Invalid padding when bitmap length is 0: ${n}`);this.fe=8*e.length-n,this.ge=$i.fromNumber(this.fe)}pe(e,n,r){let s=e.add(n.multiply($i.fromNumber(r)));return s.compare(nB)===1&&(s=new $i([s.getBits(0),s.getBits(1)],0)),s.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;const n=EC(e),[r,s]=xC(n);for(let i=0;i<this.hashCount;i++){const o=this.pe(r,s,i);if(!this.ye(o))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new Gw(i,s,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.fe===0)return;const n=EC(e),[r,s]=xC(n);for(let i=0;i<this.hashCount;i++){const o=this.pe(r,s,i);this.we(o)}}we(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Wc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dm{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,gd.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new dm(Pe.min(),s,new Ct(Le),Gs(),qe())}}class gd{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new gd(r,n,qe(),qe(),qe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gf{constructor(e,n,r,s){this.Se=e,this.removedTargetIds=n,this.key=r,this.be=s}}class AI{constructor(e,n){this.targetId=e,this.De=n}}class bI{constructor(e,n,r=sn.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class CC{constructor(){this.ve=0,this.Ce=_C(),this.Fe=sn.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=qe(),n=qe(),r=qe();return this.Ce.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:Ie(38017,{changeType:i})}}),new gd(this.Fe,this.Me,e,n,r)}ke(){this.xe=!1,this.Ce=_C()}qe(e,n){this.xe=!0,this.Ce=this.Ce.insert(e,n)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,Ze(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}}class rB{constructor(e){this.We=e,this.Ge=new Map,this.ze=Gs(),this.je=Fh(),this.Je=Fh(),this.He=new Ct(Le)}Ye(e){for(const n of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(n,e.be):this.Xe(n,e.key,e.be);for(const n of e.removedTargetIds)this.Xe(n,e.key,e.be)}et(e){this.forEachTarget(e,n=>{const r=this.tt(n);switch(e.state){case 0:this.nt(n)&&r.Be(e.resumeToken);break;case 1:r.Ue(),r.Oe||r.ke(),r.Be(e.resumeToken);break;case 2:r.Ue(),r.Oe||this.removeTarget(n);break;case 3:this.nt(n)&&(r.Ke(),r.Be(e.resumeToken));break;case 4:this.nt(n)&&(this.rt(n),r.Be(e.resumeToken));break;default:Ie(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Ge.forEach((r,s)=>{this.nt(s)&&n(s)})}it(e){const n=e.targetId,r=e.De.count,s=this.st(n);if(s){const i=s.target;if(Iv(i))if(r===0){const o=new Ce(i.path);this.Xe(n,o,yn.newNoDocument(o,Pe.min()))}else Ze(r===1,20013,{expectedCount:r});else{const o=this.ot(n);if(o!==r){const a=this._t(e),l=a?this.ut(a,e,o):1;if(l!==0){this.rt(n);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(n,c)}}}}}_t(e){const n=e.De.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let o,a;try{o=Xi(r).toUint8Array()}catch(l){if(l instanceof QS)return Qi("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new Gw(o,s,i)}catch(l){return Qi(l instanceof Wc?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.fe===0?null:a}ut(e,n,r){return n.De.count===r-this.ht(e,n.targetId)?0:2}ht(e,n){const r=this.We.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const o=this.We.lt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(a)||(this.Xe(n,i,null),s++)}),s}Pt(e){const n=new Map;this.Ge.forEach((i,o)=>{const a=this.st(o);if(a){if(i.current&&Iv(a.target)){const l=new Ce(a.target.path);this.Tt(l).has(o)||this.It(o,l)||this.Xe(o,l,yn.newNoDocument(l,e))}i.Ne&&(n.set(o,i.Le()),i.ke())}});let r=qe();this.Je.forEach((i,o)=>{let a=!0;o.forEachWhile(l=>{const c=this.st(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(i))}),this.ze.forEach((i,o)=>o.setReadTime(e));const s=new dm(e,n,this.He,this.ze,r);return this.ze=Gs(),this.je=Fh(),this.Je=Fh(),this.He=new Ct(Le),s}Ze(e,n){if(!this.nt(e))return;const r=this.It(e,n.key)?2:0;this.tt(e).qe(n.key,r),this.ze=this.ze.insert(n.key,n),this.je=this.je.insert(n.key,this.Tt(n.key).add(e)),this.Je=this.Je.insert(n.key,this.dt(n.key).add(e))}Xe(e,n,r){if(!this.nt(e))return;const s=this.tt(e);this.It(e,n)?s.qe(n,1):s.Qe(n),this.Je=this.Je.insert(n,this.dt(n).delete(e)),this.Je=this.Je.insert(n,this.dt(n).add(e)),r&&(this.ze=this.ze.insert(n,r))}removeTarget(e){this.Ge.delete(e)}ot(e){const n=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let n=this.Ge.get(e);return n||(n=new CC,this.Ge.set(e,n)),n}dt(e){let n=this.Je.get(e);return n||(n=new Ut(Le),this.Je=this.Je.insert(e,n)),n}Tt(e){let n=this.je.get(e);return n||(n=new Ut(Le),this.je=this.je.insert(e,n)),n}nt(e){const n=this.st(e)!==null;return n||me("WatchChangeAggregator","Detected inactive target",e),n}st(e){const n=this.Ge.get(e);return n&&n.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new CC),this.We.getRemoteKeysForTarget(e).forEach(n=>{this.Xe(e,n,null)})}It(e,n){return this.We.getRemoteKeysForTarget(e).has(n)}}function Fh(){return new Ct(Ce.comparator)}function _C(){return new Ct(Ce.comparator)}const sB={asc:"ASCENDING",desc:"DESCENDING"},iB={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},oB={and:"AND",or:"OR"};class aB{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Nv(t,e){return t.useProto3Json||sm(e)?e:{value:e}}function up(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function SI(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function lB(t,e){return up(t,e.toTimestamp())}function rs(t){return Ze(!!t,49232),Pe.fromTimestamp(function(n){const r=Ji(n);return new Ye(r.seconds,r.nanos)}(t))}function $w(t,e){return kv(t,e).canonicalString()}function kv(t,e){const n=function(s){return new ot(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function II(t){const e=ot.fromString(t);return Ze(MI(e),10190,{key:e.toString()}),e}function Mv(t,e){return $w(t.databaseId,e.path)}function Yg(t,e){const n=II(e);if(n.get(1)!==t.databaseId.projectId)throw new he(H.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new he(H.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Ce(PI(n))}function RI(t,e){return $w(t.databaseId,e)}function cB(t){const e=II(t);return e.length===4?ot.emptyPath():PI(e)}function Dv(t){return new ot(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function PI(t){return Ze(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function TC(t,e,n){return{name:Mv(t,e),fields:n.value.mapValue.fields}}function uB(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:Ie(39313,{state:c})}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(c,d){return c.useProto3Json?(Ze(d===void 0||typeof d=="string",58123),sn.fromBase64String(d||"")):(Ze(d===void 0||d instanceof Buffer||d instanceof Uint8Array,16193),sn.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){const d=c.code===void 0?H.UNKNOWN:TI(c.code);return new he(d,c.message||"")}(o);n=new bI(r,s,i,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=Yg(t,r.document.name),i=rs(r.document.updateTime),o=r.document.createTime?rs(r.document.createTime):Pe.min(),a=new Ln({mapValue:{fields:r.document.fields}}),l=yn.newFoundDocument(s,i,o,a),c=r.targetIds||[],d=r.removedTargetIds||[];n=new gf(c,d,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=Yg(t,r.document),i=r.readTime?rs(r.readTime):Pe.min(),o=yn.newNoDocument(s,i),a=r.removedTargetIds||[];n=new gf([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=Yg(t,r.document),i=r.removedTargetIds||[];n=new gf([],i,s,null)}else{if(!("filter"in e))return Ie(11601,{At:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new eB(s,i),a=r.targetId;n=new AI(a,o)}}return n}function dB(t,e){let n;if(e instanceof md)n={update:TC(t,e.key,e.value)};else if(e instanceof Uw)n={delete:Mv(t,e.key)};else if(e instanceof ho)n={update:TC(t,e.key,e.data),updateMask:EB(e.fieldMask)};else{if(!(e instanceof Jj))return Ie(16599,{Rt:e.type});n={verify:Mv(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const a=o.transform;if(a instanceof cp)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Uu)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof qu)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Gu)return{fieldPath:o.field.canonicalString(),increment:a.Ee};throw Ie(20930,{transform:o.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:lB(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:Ie(27497)}(t,e.precondition)),n}function hB(t,e){return t&&t.length>0?(Ze(e!==void 0,14353),t.map(n=>function(s,i){let o=s.updateTime?rs(s.updateTime):rs(i);return o.isEqual(Pe.min())&&(o=rs(i)),new Kj(o,s.transformResults||[])}(n,e))):[]}function fB(t,e){return{documents:[RI(t,e.path)]}}function pB(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=RI(t,s);const i=function(c){if(c.length!==0)return kI(Br.create(c,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const o=function(c){if(c.length!==0)return c.map(d=>function(h){return{field:za(h.field),direction:yB(h.dir)}}(d))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=Nv(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{Vt:n,parent:s}}function mB(t){let e=cB(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){Ze(r===1,65062);const d=n.from[0];d.allDescendants?s=d.collectionId:e=e.child(d.collectionId)}let i=[];n.where&&(i=function(p){const h=NI(p);return h instanceof Br&&oI(h)?h.getFilters():[h]}(n.where));let o=[];n.orderBy&&(o=function(p){return p.map(h=>function(E){return new Bu(Wa(E.field),function(A){switch(A){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(E.direction))}(h))}(n.orderBy));let a=null;n.limit&&(a=function(p){let h;return h=typeof p=="object"?p.value:p,sm(h)?null:h}(n.limit));let l=null;n.startAt&&(l=function(p){const h=!!p.before,v=p.values||[];return new lp(v,h)}(n.startAt));let c=null;return n.endAt&&(c=function(p){const h=!p.before,v=p.values||[];return new lp(v,h)}(n.endAt)),Oj(e,s,o,i,a,"F",l,c)}function gB(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ie(28987,{purpose:s})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function NI(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Wa(n.unaryFilter.field);return Dt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=Wa(n.unaryFilter.field);return Dt.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Wa(n.unaryFilter.field);return Dt.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Wa(n.unaryFilter.field);return Dt.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ie(61313);default:return Ie(60726)}}(t):t.fieldFilter!==void 0?function(n){return Dt.create(Wa(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ie(58110);default:return Ie(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Br.create(n.compositeFilter.filters.map(r=>NI(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Ie(1026)}}(n.compositeFilter.op))}(t):Ie(30097,{filter:t})}function yB(t){return sB[t]}function vB(t){return iB[t]}function wB(t){return oB[t]}function za(t){return{fieldPath:t.canonicalString()}}function Wa(t){return en.fromServerFormat(t.fieldPath)}function kI(t){return t instanceof Dt?function(n){if(n.op==="=="){if(dC(n.value))return{unaryFilter:{field:za(n.field),op:"IS_NAN"}};if(uC(n.value))return{unaryFilter:{field:za(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(dC(n.value))return{unaryFilter:{field:za(n.field),op:"IS_NOT_NAN"}};if(uC(n.value))return{unaryFilter:{field:za(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:za(n.field),op:vB(n.op),value:n.value}}}(t):t instanceof Br?function(n){const r=n.getFilters().map(s=>kI(s));return r.length===1?r[0]:{compositeFilter:{op:wB(n.op),filters:r}}}(t):Ie(54877,{filter:t})}function EB(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function MI(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pi{constructor(e,n,r,s,i=Pe.min(),o=Pe.min(),a=sn.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new Pi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Pi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Pi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Pi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xB{constructor(e){this.gt=e}}function CB(t){const e=mB({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Pv(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _B{constructor(){this.Dn=new TB}addToCollectionParentIndex(e,n){return this.Dn.add(n),J.resolve()}getCollectionParents(e,n){return J.resolve(this.Dn.getEntries(n))}addFieldIndex(e,n){return J.resolve()}deleteFieldIndex(e,n){return J.resolve()}deleteAllFieldIndexes(e){return J.resolve()}createTargetIndexes(e,n){return J.resolve()}getDocumentsMatchingTarget(e,n){return J.resolve(null)}getIndexType(e,n){return J.resolve(0)}getFieldIndexes(e,n){return J.resolve([])}getNextCollectionGroupToUpdate(e){return J.resolve(null)}getMinOffset(e,n){return J.resolve(Hi.min())}getMinOffsetFromCollectionGroup(e,n){return J.resolve(Hi.min())}updateCollectionGroup(e,n,r){return J.resolve()}updateIndexEntries(e,n){return J.resolve()}}class TB{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new Ut(ot.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new Ut(ot.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AC={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},DI=41943040;class Dn{static withCacheSize(e){return new Dn(e,Dn.DEFAULT_COLLECTION_PERCENTILE,Dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Dn.DEFAULT_COLLECTION_PERCENTILE=10,Dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Dn.DEFAULT=new Dn(DI,Dn.DEFAULT_COLLECTION_PERCENTILE,Dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Dn.DISABLED=new Dn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bl{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new Bl(0)}static ur(){return new Bl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bC="LruGarbageCollector",AB=1048576;function SC([t,e],[n,r]){const s=Le(t,n);return s===0?Le(e,r):s}class bB{constructor(e){this.Tr=e,this.buffer=new Ut(SC),this.Ir=0}dr(){return++this.Ir}Er(e){const n=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();SC(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class SB{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){me(bC,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){rc(n)?me(bC,"Ignoring IndexedDB error during garbage collection: ",n):await nc(n)}await this.Rr(3e5)})}}class IB{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.mr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return J.resolve(rm.ue);const r=new bB(n);return this.Vr.forEachTarget(e,s=>r.Er(s.sequenceNumber)).next(()=>this.Vr.gr(e,s=>r.Er(s))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.Vr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(me("LruGarbageCollector","Garbage collection skipped; disabled"),J.resolve(AC)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(me("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),AC):this.pr(e,n))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,n){let r,s,i,o,a,l,c;const d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(p=>(p>this.params.maximumSequenceNumbersToCollect?(me("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),s=this.params.maximumSequenceNumbersToCollect):s=p,o=Date.now(),this.nthSequenceNumber(e,s))).next(p=>(r=p,a=Date.now(),this.removeTargets(e,r,n))).next(p=>(i=p,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(p=>(c=Date.now(),Ga()<=Ue.DEBUG&&me("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-d}ms
	Determined least recently used ${s} in `+(a-o)+`ms
	Removed ${i} targets in `+(l-a)+`ms
	Removed ${p} documents in `+(c-l)+`ms
Total Duration: ${c-d}ms`),J.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:i,documentsRemoved:p})))}}function RB(t,e){return new IB(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PB{constructor(){this.changes=new ma(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,yn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?J.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NB{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kB{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&hu(r.mutation,s,Xn.empty(),Ye.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,qe()).next(()=>r))}getLocalViewOfDocuments(e,n,r=qe()){const s=Fo();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let o=zc();return i.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Fo();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,qe()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,s){let i=Gs();const o=du(),a=function(){return du()}();return n.forEach((l,c)=>{const d=r.get(c.key);s.has(c.key)&&(d===void 0||d.mutation instanceof ho)?i=i.insert(c.key,c):d!==void 0?(o.set(c.key,d.mutation.getFieldMask()),hu(d.mutation,c,d.mutation.getFieldMask(),Ye.now())):o.set(c.key,Xn.empty())}),this.recalculateAndSaveOverlays(e,i).next(l=>(l.forEach((c,d)=>o.set(c,d)),n.forEach((c,d)=>{var p;return a.set(c,new NB(d,(p=o.get(c))!==null&&p!==void 0?p:null))}),a))}recalculateAndSaveOverlays(e,n){const r=du();let s=new Ct((o,a)=>o-a),i=qe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let d=r.get(l)||Xn.empty();d=a.applyToLocalView(c,d),r.set(l,d);const p=(s.get(a.batchId)||qe()).add(l);s=s.insert(a.batchId,p)})}).next(()=>{const o=[],a=s.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,d=l.value,p=mI();d.forEach(h=>{if(!i.has(h)){const v=CI(n.get(h),r.get(h));v!==null&&p.set(h,v),i=i.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,p))}return J.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(o){return Ce.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):uI(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):J.resolve(Fo());let a=Lu,l=i;return o.next(c=>J.forEach(c,(d,p)=>(a<p.largestBatchId&&(a=p.largestBatchId),i.get(d)?J.resolve():this.remoteDocumentCache.getEntry(e,d).next(h=>{l=l.insert(d,h)}))).next(()=>this.populateOverlays(e,c,i)).next(()=>this.computeViews(e,l,c,qe())).next(d=>({batchId:a,changes:pI(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ce(n)).next(r=>{let s=zc();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let o=zc();return this.indexManager.getCollectionParents(e,i).next(a=>J.forEach(a,l=>{const c=function(p,h){return new sc(h,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(n,l.child(i));return this.getDocumentsMatchingCollectionQuery(e,c,r,s).next(d=>{d.forEach((p,h)=>{o=o.insert(p,h)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s))).next(o=>{i.forEach((l,c)=>{const d=c.getKey();o.get(d)===null&&(o=o.insert(d,yn.newInvalidDocument(d)))});let a=zc();return o.forEach((l,c)=>{const d=i.get(l);d!==void 0&&hu(d.mutation,c,Xn.empty(),Ye.now()),lm(n,c)&&(a=a.insert(l,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MB{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,n){return J.resolve(this.Br.get(n))}saveBundleMetadata(e,n){return this.Br.set(n.id,function(s){return{id:s.id,version:s.version,createTime:rs(s.createTime)}}(n)),J.resolve()}getNamedQuery(e,n){return J.resolve(this.Lr.get(n))}saveNamedQuery(e,n){return this.Lr.set(n.name,function(s){return{name:s.name,query:CB(s.bundledQuery),readTime:rs(s.readTime)}}(n)),J.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DB{constructor(){this.overlays=new Ct(Ce.comparator),this.kr=new Map}getOverlay(e,n){return J.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Fo();return J.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.wt(e,n,i)}),J.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.kr.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.kr.delete(r)),J.resolve()}getOverlaysForCollection(e,n,r){const s=Fo(),i=n.length+1,o=new Ce(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===i&&l.largestBatchId>r&&s.set(l.getKey(),l)}return J.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new Ct((c,d)=>c-d);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let d=i.get(c.largestBatchId);d===null&&(d=Fo(),i=i.insert(c.largestBatchId,d)),d.set(c.getKey(),c)}}const a=Fo(),l=i.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,d)=>a.set(c,d)),!(a.size()>=s)););return J.resolve(a)}wt(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.kr.get(s.largestBatchId).delete(r.key);this.kr.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new Zj(n,r));let i=this.kr.get(n);i===void 0&&(i=qe(),this.kr.set(n,i)),this.kr.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OB{constructor(){this.sessionToken=sn.EMPTY_BYTE_STRING}getSessionToken(e){return J.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,J.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zw{constructor(){this.qr=new Ut(Wt.Qr),this.$r=new Ut(Wt.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,n){const r=new Wt(e,n);this.qr=this.qr.add(r),this.$r=this.$r.add(r)}Kr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Wr(new Wt(e,n))}Gr(e,n){e.forEach(r=>this.removeReference(r,n))}zr(e){const n=new Ce(new ot([])),r=new Wt(n,e),s=new Wt(n,e+1),i=[];return this.$r.forEachInRange([r,s],o=>{this.Wr(o),i.push(o.key)}),i}jr(){this.qr.forEach(e=>this.Wr(e))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){const n=new Ce(new ot([])),r=new Wt(n,e),s=new Wt(n,e+1);let i=qe();return this.$r.forEachInRange([r,s],o=>{i=i.add(o.key)}),i}containsKey(e){const n=new Wt(e,0),r=this.qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Wt{constructor(e,n){this.key=e,this.Hr=n}static Qr(e,n){return Ce.comparator(e.key,n.key)||Le(e.Hr,n.Hr)}static Ur(e,n){return Le(e.Hr,n.Hr)||Ce.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LB{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.er=1,this.Yr=new Ut(Wt.Qr)}checkEmpty(e){return J.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new Xj(i,n,r,s);this.mutationQueue.push(o);for(const a of s)this.Yr=this.Yr.add(new Wt(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return J.resolve(o)}lookupMutationBatch(e,n){return J.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.Xr(r),i=s<0?0:s;return J.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return J.resolve(this.mutationQueue.length===0?Ow:this.er-1)}getAllMutationBatches(e){return J.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Wt(n,0),s=new Wt(n,Number.POSITIVE_INFINITY),i=[];return this.Yr.forEachInRange([r,s],o=>{const a=this.Zr(o.Hr);i.push(a)}),J.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Ut(Le);return n.forEach(s=>{const i=new Wt(s,0),o=new Wt(s,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([i,o],a=>{r=r.add(a.Hr)})}),J.resolve(this.ei(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;Ce.isDocumentKey(i)||(i=i.child(""));const o=new Wt(new Ce(i),0);let a=new Ut(Le);return this.Yr.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===s&&(a=a.add(l.Hr)),!0)},o),J.resolve(this.ei(a))}ei(e){const n=[];return e.forEach(r=>{const s=this.Zr(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){Ze(this.ti(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Yr;return J.forEach(n.mutations,s=>{const i=new Wt(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Yr=r})}rr(e){}containsKey(e,n){const r=new Wt(n,0),s=this.Yr.firstAfterOrEqual(r);return J.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,J.resolve()}ti(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VB{constructor(e){this.ni=e,this.docs=function(){return new Ct(Ce.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.ni(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return J.resolve(r?r.document.mutableCopy():yn.newInvalidDocument(n))}getEntries(e,n){let r=Gs();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():yn.newInvalidDocument(s))}),J.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=Gs();const o=n.path,a=new Ce(o.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:d}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||pj(fj(d),r)<=0||(s.has(d.key)||lm(n,d))&&(i=i.insert(d.key,d.mutableCopy()))}return J.resolve(i)}getAllFromCollectionGroup(e,n,r,s){Ie(9500)}ri(e,n){return J.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new FB(this)}getSize(e){return J.resolve(this.size)}}class FB extends PB{constructor(e){super(),this.Or=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.Or.addEntry(e,s)):this.Or.removeEntry(r)}),J.waitFor(n)}getFromCache(e,n){return this.Or.getEntry(e,n)}getAllFromCache(e,n){return this.Or.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jB{constructor(e){this.persistence=e,this.ii=new ma(n=>Fw(n),jw),this.lastRemoteSnapshotVersion=Pe.min(),this.highestTargetId=0,this.si=0,this.oi=new zw,this.targetCount=0,this._i=Bl.ar()}forEachTarget(e,n){return this.ii.forEach((r,s)=>n(s)),J.resolve()}getLastRemoteSnapshotVersion(e){return J.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return J.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),J.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.si&&(this.si=n),J.resolve()}hr(e){this.ii.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this._i=new Bl(n),this.highestTargetId=n),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,n){return this.hr(n),this.targetCount+=1,J.resolve()}updateTargetData(e,n){return this.hr(n),J.resolve()}removeTargetData(e,n){return this.ii.delete(n.target),this.oi.zr(n.targetId),this.targetCount-=1,J.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.ii.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.ii.delete(o),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),s++)}),J.waitFor(i).next(()=>s)}getTargetCount(e){return J.resolve(this.targetCount)}getTargetData(e,n){const r=this.ii.get(n)||null;return J.resolve(r)}addMatchingKeys(e,n,r){return this.oi.Kr(n,r),J.resolve()}removeMatchingKeys(e,n,r){this.oi.Gr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(o=>{i.push(s.markPotentiallyOrphaned(e,o))}),J.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this.oi.zr(n),J.resolve()}getMatchingKeysForTargetId(e,n){const r=this.oi.Jr(n);return J.resolve(r)}containsKey(e,n){return J.resolve(this.oi.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OI{constructor(e,n){this.ai={},this.overlays={},this.ui=new rm(0),this.ci=!1,this.ci=!0,this.li=new OB,this.referenceDelegate=e(this),this.hi=new jB(this),this.indexManager=new _B,this.remoteDocumentCache=function(s){return new VB(s)}(r=>this.referenceDelegate.Pi(r)),this.serializer=new xB(n),this.Ti=new MB(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new DB,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ai[e.toKey()];return r||(r=new LB(n,this.referenceDelegate),this.ai[e.toKey()]=r),r}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,n,r){me("MemoryPersistence","Starting transaction:",e);const s=new BB(this.ui.next());return this.referenceDelegate.Ii(),r(s).next(i=>this.referenceDelegate.di(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Ei(e,n){return J.or(Object.values(this.ai).map(r=>()=>r.containsKey(e,n)))}}class BB extends gj{constructor(e){super(),this.currentSequenceNumber=e}}class Ww{constructor(e){this.persistence=e,this.Ai=new zw,this.Ri=null}static Vi(e){return new Ww(e)}get mi(){if(this.Ri)return this.Ri;throw Ie(60996)}addReference(e,n,r){return this.Ai.addReference(r,n),this.mi.delete(r.toString()),J.resolve()}removeReference(e,n,r){return this.Ai.removeReference(r,n),this.mi.add(r.toString()),J.resolve()}markPotentiallyOrphaned(e,n){return this.mi.add(n.toString()),J.resolve()}removeTarget(e,n){this.Ai.zr(n.targetId).forEach(s=>this.mi.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.mi.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}Ii(){this.Ri=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return J.forEach(this.mi,r=>{const s=Ce.fromPath(r);return this.fi(e,s).next(i=>{i||n.removeEntry(s,Pe.min())})}).next(()=>(this.Ri=null,n.apply(e)))}updateLimboDocument(e,n){return this.fi(e,n).next(r=>{r?this.mi.delete(n.toString()):this.mi.add(n.toString())})}Pi(e){return 0}fi(e,n){return J.or([()=>J.resolve(this.Ai.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class dp{constructor(e,n){this.persistence=e,this.gi=new ma(r=>wj(r.path),(r,s)=>r.isEqual(s)),this.garbageCollector=RB(this,n)}static Vi(e,n){return new dp(e,n)}Ii(){}di(e){return J.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}mr(e){const n=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(s=>r+s))}yr(e){let n=0;return this.gr(e,r=>{n++}).next(()=>n)}gr(e,n){return J.forEach(this.gi,(r,s)=>this.Sr(e,r,s).next(i=>i?J.resolve():n(s)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),i=s.newChangeBuffer();return s.ri(e,o=>this.Sr(e,o,n).next(a=>{a||(r++,i.removeEntry(o,Pe.min()))})).next(()=>i.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.gi.set(n,e.currentSequenceNumber),J.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.gi.set(r,e.currentSequenceNumber),J.resolve()}removeReference(e,n,r){return this.gi.set(r,e.currentSequenceNumber),J.resolve()}updateLimboDocument(e,n){return this.gi.set(n,e.currentSequenceNumber),J.resolve()}Pi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=ff(e.data.value)),n}Sr(e,n,r){return J.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.gi.get(n);return J.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yw{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.Is=r,this.ds=s}static Es(e,n){let r=qe(),s=qe();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new Yw(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UB{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qB{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=function(){return OV()?8:yj(wn())>0?6:4}()}initialize(e,n){this.gs=e,this.indexManager=n,this.As=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.ps(e,n).next(o=>{i.result=o}).next(()=>{if(!i.result)return this.ys(e,n,s,r).next(o=>{i.result=o})}).next(()=>{if(i.result)return;const o=new UB;return this.ws(e,n,o).next(a=>{if(i.result=a,this.Rs)return this.Ss(e,n,o,a.size)})}).next(()=>i.result)}Ss(e,n,r,s){return r.documentReadCount<this.Vs?(Ga()<=Ue.DEBUG&&me("QueryEngine","SDK will not create cache indexes for query:",$a(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),J.resolve()):(Ga()<=Ue.DEBUG&&me("QueryEngine","Query:",$a(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.fs*s?(Ga()<=Ue.DEBUG&&me("QueryEngine","The SDK decides to create cache indexes for query:",$a(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ns(n))):J.resolve())}ps(e,n){if(mC(n))return J.resolve(null);let r=ns(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=Pv(n,null,"F"),r=ns(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const o=qe(...i);return this.gs.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const c=this.bs(n,a);return this.Ds(n,c,o,l.readTime)?this.ps(e,Pv(n,null,"F")):this.vs(e,c,n,l)}))})))}ys(e,n,r,s){return mC(n)||s.isEqual(Pe.min())?J.resolve(null):this.gs.getDocuments(e,r).next(i=>{const o=this.bs(n,i);return this.Ds(n,o,r,s)?J.resolve(null):(Ga()<=Ue.DEBUG&&me("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),$a(n)),this.vs(e,o,n,hj(s,Lu)).next(a=>a))})}bs(e,n){let r=new Ut(hI(e));return n.forEach((s,i)=>{lm(e,i)&&(r=r.add(i))}),r}Ds(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}ws(e,n,r){return Ga()<=Ue.DEBUG&&me("QueryEngine","Using full collection scan to execute query:",$a(n)),this.gs.getDocumentsMatchingQuery(e,n,Hi.min(),r)}vs(e,n,r,s){return this.gs.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kw="LocalStore",GB=3e8;class $B{constructor(e,n,r,s){this.persistence=e,this.Cs=n,this.serializer=s,this.Fs=new Ct(Le),this.Ms=new ma(i=>Fw(i),jw),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(r)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new kB(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Fs))}}function zB(t,e,n,r){return new $B(t,e,n,r)}async function LI(t,e){const n=Ne(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n.Ns(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const o=[],a=[];let l=qe();for(const c of s){o.push(c.batchId);for(const d of c.mutations)l=l.add(d.key)}for(const c of i){a.push(c.batchId);for(const d of c.mutations)l=l.add(d.key)}return n.localDocuments.getDocuments(r,l).next(c=>({Bs:c,removedBatchIds:o,addedBatchIds:a}))})})}function WB(t,e){const n=Ne(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=n.Os.newChangeBuffer({trackRemovals:!0});return function(a,l,c,d){const p=c.batch,h=p.keys();let v=J.resolve();return h.forEach(E=>{v=v.next(()=>d.getEntry(l,E)).next(y=>{const A=c.docVersions.get(E);Ze(A!==null,48541),y.version.compareTo(A)<0&&(p.applyToRemoteDocument(y,c),y.isValidDocument()&&(y.setReadTime(c.commitVersion),d.addEntry(y)))})}),v.next(()=>a.mutationQueue.removeMutationBatch(l,p))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=qe();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function VI(t){const e=Ne(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.hi.getLastRemoteSnapshotVersion(n))}function YB(t,e){const n=Ne(t),r=e.snapshotVersion;let s=n.Fs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.Os.newChangeBuffer({trackRemovals:!0});s=n.Fs;const a=[];e.targetChanges.forEach((d,p)=>{const h=s.get(p);if(!h)return;a.push(n.hi.removeMatchingKeys(i,d.removedDocuments,p).next(()=>n.hi.addMatchingKeys(i,d.addedDocuments,p)));let v=h.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(p)!==null?v=v.withResumeToken(sn.EMPTY_BYTE_STRING,Pe.min()).withLastLimboFreeSnapshotVersion(Pe.min()):d.resumeToken.approximateByteSize()>0&&(v=v.withResumeToken(d.resumeToken,r)),s=s.insert(p,v),function(y,A,x){return y.resumeToken.approximateByteSize()===0||A.snapshotVersion.toMicroseconds()-y.snapshotVersion.toMicroseconds()>=GB?!0:x.addedDocuments.size+x.modifiedDocuments.size+x.removedDocuments.size>0}(h,v,d)&&a.push(n.hi.updateTargetData(i,v))});let l=Gs(),c=qe();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(i,d))}),a.push(KB(i,o,e.documentUpdates).next(d=>{l=d.Ls,c=d.ks})),!r.isEqual(Pe.min())){const d=n.hi.getLastRemoteSnapshotVersion(i).next(p=>n.hi.setTargetsMetadata(i,i.currentSequenceNumber,r));a.push(d)}return J.waitFor(a).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,l,c)).next(()=>l)}).then(i=>(n.Fs=s,i))}function KB(t,e,n){let r=qe(),s=qe();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let o=Gs();return n.forEach((a,l)=>{const c=i.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(s=s.add(a)),l.isNoDocument()&&l.version.isEqual(Pe.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):me(Kw,"Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{Ls:o,ks:s}})}function QB(t,e){const n=Ne(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=Ow),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function HB(t,e){const n=Ne(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.hi.getTargetData(r,e).next(i=>i?(s=i,J.resolve(s)):n.hi.allocateTargetId(r).next(o=>(s=new Pi(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.hi.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.Fs.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.Fs=n.Fs.insert(r.targetId,r),n.Ms.set(e,r.targetId)),r})}async function Ov(t,e,n){const r=Ne(t),s=r.Fs.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,o=>r.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!rc(o))throw o;me(Kw,`Failed to update sequence numbers for target ${e}: ${o}`)}r.Fs=r.Fs.remove(e),r.Ms.delete(s.target)}function IC(t,e,n){const r=Ne(t);let s=Pe.min(),i=qe();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,c,d){const p=Ne(l),h=p.Ms.get(d);return h!==void 0?J.resolve(p.Fs.get(h)):p.hi.getTargetData(c,d)}(r,o,ns(e)).next(a=>{if(a)return s=a.lastLimboFreeSnapshotVersion,r.hi.getMatchingKeysForTargetId(o,a.targetId).next(l=>{i=l})}).next(()=>r.Cs.getDocumentsMatchingQuery(o,e,n?s:Pe.min(),n?i:qe())).next(a=>(JB(r,Vj(e),a),{documents:a,qs:i})))}function JB(t,e,n){let r=t.xs.get(e)||Pe.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.xs.set(e,r)}class RC{constructor(){this.activeTargetIds=Gj()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class XB{constructor(){this.Fo=new RC,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,n,r){this.Mo[e]=n}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new RC,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZB{xo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PC="ConnectivityMonitor";class NC{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){me(PC,"Network connectivity changed: AVAILABLE");for(const e of this.ko)e(0)}Lo(){me(PC,"Network connectivity changed: UNAVAILABLE");for(const e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jh=null;function Lv(){return jh===null?jh=function(){return 268435456+Math.round(2147483648*Math.random())}():jh++,"0x"+jh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kg="RestConnection",e5={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class t5{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.$o=n+"://"+e.host,this.Uo=`projects/${r}/databases/${s}`,this.Ko=this.databaseId.database===op?`project_id=${r}`:`project_id=${r}&database_id=${s}`}Wo(e,n,r,s,i){const o=Lv(),a=this.Go(e,n.toUriEncodedString());me(Kg,`Sending RPC '${e}' ${o}:`,a,r);const l={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(l,s,i);const{host:c}=new URL(a),d=Zl(c);return this.jo(e,a,l,r,d).then(p=>(me(Kg,`Received RPC '${e}' ${o}: `,p),p),p=>{throw Qi(Kg,`RPC '${e}' ${o} failed with error: `,p,"url: ",a,"request:",r),p})}Jo(e,n,r,s,i,o){return this.Wo(e,n,r,s,i)}zo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+tc}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,i)=>e[i]=s),r&&r.headers.forEach((s,i)=>e[i]=s)}Go(e,n){const r=e5[e];return`${this.$o}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n5{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fn="WebChannelConnection";class r5 extends t5{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,n,r,s,i){const o=Lv();return new Promise((a,l)=>{const c=new VS;c.setWithCredentials(!0),c.listenOnce(FS.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case hf.NO_ERROR:const p=c.getResponseJson();me(fn,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(p)),a(p);break;case hf.TIMEOUT:me(fn,`RPC '${e}' ${o} timed out`),l(new he(H.DEADLINE_EXCEEDED,"Request time out"));break;case hf.HTTP_ERROR:const h=c.getStatus();if(me(fn,`RPC '${e}' ${o} failed with status:`,h,"response text:",c.getResponseText()),h>0){let v=c.getResponseJson();Array.isArray(v)&&(v=v[0]);const E=v==null?void 0:v.error;if(E&&E.status&&E.message){const y=function(x){const w=x.toLowerCase().replace(/_/g,"-");return Object.values(H).indexOf(w)>=0?w:H.UNKNOWN}(E.status);l(new he(y,E.message))}else l(new he(H.UNKNOWN,"Server responded with status "+c.getStatus()))}else l(new he(H.UNAVAILABLE,"Connection failed."));break;default:Ie(9055,{c_:e,streamId:o,l_:c.getLastErrorCode(),h_:c.getLastError()})}}finally{me(fn,`RPC '${e}' ${o} completed.`)}});const d=JSON.stringify(s);me(fn,`RPC '${e}' ${o} sending request:`,s),c.send(n,"POST",d,r,15)})}P_(e,n,r){const s=Lv(),i=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=US(),a=BS(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.zo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const d=i.join("");me(fn,`Creating RPC '${e}' stream ${s}: ${d}`,l);const p=o.createWebChannel(d,l);this.T_(p);let h=!1,v=!1;const E=new n5({Ho:A=>{v?me(fn,`Not sending because RPC '${e}' stream ${s} is closed:`,A):(h||(me(fn,`Opening RPC '${e}' stream ${s} transport.`),p.open(),h=!0),me(fn,`RPC '${e}' stream ${s} sending:`,A),p.send(A))},Yo:()=>p.close()}),y=(A,x,w)=>{A.listen(x,_=>{try{w(_)}catch(R){setTimeout(()=>{throw R},0)}})};return y(p,$c.EventType.OPEN,()=>{v||(me(fn,`RPC '${e}' stream ${s} transport opened.`),E.s_())}),y(p,$c.EventType.CLOSE,()=>{v||(v=!0,me(fn,`RPC '${e}' stream ${s} transport closed`),E.__(),this.I_(p))}),y(p,$c.EventType.ERROR,A=>{v||(v=!0,Qi(fn,`RPC '${e}' stream ${s} transport errored. Name:`,A.name,"Message:",A.message),E.__(new he(H.UNAVAILABLE,"The operation could not be completed")))}),y(p,$c.EventType.MESSAGE,A=>{var x;if(!v){const w=A.data[0];Ze(!!w,16349);const _=w,R=(_==null?void 0:_.error)||((x=_[0])===null||x===void 0?void 0:x.error);if(R){me(fn,`RPC '${e}' stream ${s} received error:`,R);const O=R.status;let j=function(k){const M=kt[k];if(M!==void 0)return TI(M)}(O),I=R.message;j===void 0&&(j=H.INTERNAL,I="Unknown error status: "+O+" with message "+R.message),v=!0,E.__(new he(j,I)),p.close()}else me(fn,`RPC '${e}' stream ${s} received:`,w),E.a_(w)}}),y(a,jS.STAT_EVENT,A=>{A.stat===_v.PROXY?me(fn,`RPC '${e}' stream ${s} detected buffering proxy`):A.stat===_v.NOPROXY&&me(fn,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{E.o_()},0),E}terminate(){this.u_.forEach(e=>e.close()),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter(n=>n===e)}}function Qg(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hm(t){return new aB(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FI{constructor(e,n,r=1e3,s=1.5,i=6e4){this.Fi=e,this.timerId=n,this.d_=r,this.E_=s,this.A_=i,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();const n=Math.floor(this.R_+this.p_()),r=Math.max(0,Date.now()-this.m_),s=Math.max(0,n-r);s>0&&me("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.R_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,s,()=>(this.m_=Date.now(),e())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kC="PersistentStream";class jI{constructor(e,n,r,s,i,o,a,l){this.Fi=e,this.w_=r,this.S_=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new FI(e,n)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(e){this.q_(),this.stream.send(e)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():n&&n.code===H.RESOURCE_EXHAUSTED?(qs(n.toString()),qs("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):n&&n.code===H.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.n_(n)}U_(){}auth(){this.state=1;const e=this.K_(this.b_),n=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.b_===n&&this.W_(r,s)},r=>{e(()=>{const s=new he(H.UNKNOWN,"Fetching auth token failed: "+r.message);return this.G_(s)})})}W_(e,n){const r=this.K_(this.b_);this.stream=this.z_(e,n),this.stream.Zo(()=>{r(()=>this.listener.Zo())}),this.stream.e_(()=>{r(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(s=>{r(()=>this.G_(s))}),this.stream.onMessage(s=>{r(()=>++this.C_==1?this.j_(s):this.onNext(s))})}O_(){this.state=5,this.F_.g_(async()=>{this.state=0,this.start()})}G_(e){return me(kC,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return n=>{this.Fi.enqueueAndForget(()=>this.b_===e?n():(me(kC,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class s5 extends jI{constructor(e,n,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}z_(e,n){return this.connection.P_("Listen",e,n)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();const n=uB(this.serializer,e),r=function(i){if(!("targetChange"in i))return Pe.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?Pe.min():o.readTime?rs(o.readTime):Pe.min()}(e);return this.listener.J_(n,r)}H_(e){const n={};n.database=Dv(this.serializer),n.addTarget=function(i,o){let a;const l=o.target;if(a=Iv(l)?{documents:fB(i,l)}:{query:pB(i,l).Vt},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=SI(i,o.resumeToken);const c=Nv(i,o.expectedCount);c!==null&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(Pe.min())>0){a.readTime=up(i,o.snapshotVersion.toTimestamp());const c=Nv(i,o.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const r=gB(this.serializer,e);r&&(n.labels=r),this.k_(n)}Y_(e){const n={};n.database=Dv(this.serializer),n.removeTarget=e,this.k_(n)}}class i5 extends jI{constructor(e,n,r,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,n){return this.connection.P_("Write",e,n)}j_(e){return Ze(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ze(!e.writeResults||e.writeResults.length===0,55816),this.listener.ea()}onNext(e){Ze(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();const n=hB(e.writeResults,e.commitTime),r=rs(e.commitTime);return this.listener.ta(r,n)}na(){const e={};e.database=Dv(this.serializer),this.k_(e)}X_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>dB(this.serializer,r))};this.k_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o5{}class a5 extends o5{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.ra=!1}ia(){if(this.ra)throw new he(H.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,r,s){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.Wo(e,kv(n,r),s,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===H.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new he(H.UNKNOWN,i.toString())})}Jo(e,n,r,s,i){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Jo(e,kv(n,r),s,o,a,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===H.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new he(H.UNKNOWN,o.toString())})}terminate(){this.ra=!0,this.connection.terminate()}}class l5{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(qs(n),this._a=!1):me("OnlineStateTracker",n)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ia="RemoteStore";class c5{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=i,this.Ea.xo(o=>{r.enqueueAndForget(async()=>{ga(this)&&(me(ia,"Restarting streams for network reachability change."),await async function(l){const c=Ne(l);c.Ia.add(4),await yd(c),c.Aa.set("Unknown"),c.Ia.delete(4),await fm(c)}(this))})}),this.Aa=new l5(r,s)}}async function fm(t){if(ga(t))for(const e of t.da)await e(!0)}async function yd(t){for(const e of t.da)await e(!1)}function BI(t,e){const n=Ne(t);n.Ta.has(e.targetId)||(n.Ta.set(e.targetId,e),Xw(n)?Jw(n):ic(n).x_()&&Hw(n,e))}function Qw(t,e){const n=Ne(t),r=ic(n);n.Ta.delete(e),r.x_()&&UI(n,e),n.Ta.size===0&&(r.x_()?r.B_():ga(n)&&n.Aa.set("Unknown"))}function Hw(t,e){if(t.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Pe.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}ic(t).H_(e)}function UI(t,e){t.Ra.$e(e),ic(t).Y_(e)}function Jw(t){t.Ra=new rB({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>t.Ta.get(e)||null,lt:()=>t.datastore.serializer.databaseId}),ic(t).start(),t.Aa.aa()}function Xw(t){return ga(t)&&!ic(t).M_()&&t.Ta.size>0}function ga(t){return Ne(t).Ia.size===0}function qI(t){t.Ra=void 0}async function u5(t){t.Aa.set("Online")}async function d5(t){t.Ta.forEach((e,n)=>{Hw(t,e)})}async function h5(t,e){qI(t),Xw(t)?(t.Aa.la(e),Jw(t)):t.Aa.set("Unknown")}async function f5(t,e,n){if(t.Aa.set("Online"),e instanceof bI&&e.state===2&&e.cause)try{await async function(s,i){const o=i.cause;for(const a of i.targetIds)s.Ta.has(a)&&(await s.remoteSyncer.rejectListen(a,o),s.Ta.delete(a),s.Ra.removeTarget(a))}(t,e)}catch(r){me(ia,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await hp(t,r)}else if(e instanceof gf?t.Ra.Ye(e):e instanceof AI?t.Ra.it(e):t.Ra.et(e),!n.isEqual(Pe.min()))try{const r=await VI(t.localStore);n.compareTo(r)>=0&&await function(i,o){const a=i.Ra.Pt(o);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const d=i.Ta.get(c);d&&i.Ta.set(c,d.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,c)=>{const d=i.Ta.get(l);if(!d)return;i.Ta.set(l,d.withResumeToken(sn.EMPTY_BYTE_STRING,d.snapshotVersion)),UI(i,l);const p=new Pi(d.target,l,c,d.sequenceNumber);Hw(i,p)}),i.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){me(ia,"Failed to raise snapshot:",r),await hp(t,r)}}async function hp(t,e,n){if(!rc(e))throw e;t.Ia.add(1),await yd(t),t.Aa.set("Offline"),n||(n=()=>VI(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{me(ia,"Retrying IndexedDB access"),await n(),t.Ia.delete(1),await fm(t)})}function GI(t,e){return e().catch(n=>hp(t,n,e))}async function pm(t){const e=Ne(t),n=eo(e);let r=e.Pa.length>0?e.Pa[e.Pa.length-1].batchId:Ow;for(;p5(e);)try{const s=await QB(e.localStore,r);if(s===null){e.Pa.length===0&&n.B_();break}r=s.batchId,m5(e,s)}catch(s){await hp(e,s)}$I(e)&&zI(e)}function p5(t){return ga(t)&&t.Pa.length<10}function m5(t,e){t.Pa.push(e);const n=eo(t);n.x_()&&n.Z_&&n.X_(e.mutations)}function $I(t){return ga(t)&&!eo(t).M_()&&t.Pa.length>0}function zI(t){eo(t).start()}async function g5(t){eo(t).na()}async function y5(t){const e=eo(t);for(const n of t.Pa)e.X_(n.mutations)}async function v5(t,e,n){const r=t.Pa.shift(),s=qw.from(r,e,n);await GI(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await pm(t)}async function w5(t,e){e&&eo(t).Z_&&await async function(r,s){if(function(o){return tB(o)&&o!==H.ABORTED}(s.code)){const i=r.Pa.shift();eo(r).N_(),await GI(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await pm(r)}}(t,e),$I(t)&&zI(t)}async function MC(t,e){const n=Ne(t);n.asyncQueue.verifyOperationInProgress(),me(ia,"RemoteStore received new credentials");const r=ga(n);n.Ia.add(3),await yd(n),r&&n.Aa.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ia.delete(3),await fm(n)}async function E5(t,e){const n=Ne(t);e?(n.Ia.delete(2),await fm(n)):e||(n.Ia.add(2),await yd(n),n.Aa.set("Unknown"))}function ic(t){return t.Va||(t.Va=function(n,r,s){const i=Ne(n);return i.ia(),new s5(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Zo:u5.bind(null,t),e_:d5.bind(null,t),n_:h5.bind(null,t),J_:f5.bind(null,t)}),t.da.push(async e=>{e?(t.Va.N_(),Xw(t)?Jw(t):t.Aa.set("Unknown")):(await t.Va.stop(),qI(t))})),t.Va}function eo(t){return t.ma||(t.ma=function(n,r,s){const i=Ne(n);return i.ia(),new i5(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Zo:()=>Promise.resolve(),e_:g5.bind(null,t),n_:w5.bind(null,t),ea:y5.bind(null,t),ta:v5.bind(null,t)}),t.da.push(async e=>{e?(t.ma.N_(),await pm(t)):(await t.ma.stop(),t.Pa.length>0&&(me(ia,`Stopping write stream with ${t.Pa.length} pending writes`),t.Pa=[]))})),t.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zw{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new Os,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const o=Date.now()+r,a=new Zw(e,n,o,s,i);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new he(H.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function eE(t,e){if(qs("AsyncQueue",`${e}: ${t}`),rc(t))return new he(H.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fl{static emptySet(e){return new fl(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Ce.comparator(n.key,r.key):(n,r)=>Ce.comparator(n.key,r.key),this.keyedMap=zc(),this.sortedSet=new Ct(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof fl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new fl;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DC{constructor(){this.fa=new Ct(Ce.comparator)}track(e){const n=e.doc.key,r=this.fa.get(n);r?e.type!==0&&r.type===3?this.fa=this.fa.insert(n,e):e.type===3&&r.type!==1?this.fa=this.fa.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.fa=this.fa.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.fa=this.fa.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.fa=this.fa.remove(n):e.type===1&&r.type===2?this.fa=this.fa.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.fa=this.fa.insert(n,{type:2,doc:e.doc}):Ie(63341,{At:e,ga:r}):this.fa=this.fa.insert(n,e)}pa(){const e=[];return this.fa.inorderTraversal((n,r)=>{e.push(r)}),e}}class Ul{constructor(e,n,r,s,i,o,a,l,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,s,i){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Ul(e,n,fl.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&am(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x5{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(e=>e.ba())}}class C5{constructor(){this.queries=OC(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(n,r){const s=Ne(n),i=s.queries;s.queries=OC(),i.forEach((o,a)=>{for(const l of a.wa)l.onError(r)})})(this,new he(H.ABORTED,"Firestore shutting down"))}}function OC(){return new ma(t=>dI(t),am)}async function tE(t,e){const n=Ne(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.Sa()&&e.ba()&&(r=2):(i=new x5,r=e.ba()?0:1);try{switch(r){case 0:i.ya=await n.onListen(s,!0);break;case 1:i.ya=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(o){const a=eE(o,`Initialization of query '${$a(e.query)}' failed`);return void e.onError(a)}n.queries.set(s,i),i.wa.push(e),e.va(n.onlineState),i.ya&&e.Ca(i.ya)&&rE(n)}async function nE(t,e){const n=Ne(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const o=i.wa.indexOf(e);o>=0&&(i.wa.splice(o,1),i.wa.length===0?s=e.ba()?0:1:!i.Sa()&&e.ba()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function _5(t,e){const n=Ne(t);let r=!1;for(const s of e){const i=s.query,o=n.queries.get(i);if(o){for(const a of o.wa)a.Ca(s)&&(r=!0);o.ya=s}}r&&rE(n)}function T5(t,e,n){const r=Ne(t),s=r.queries.get(e);if(s)for(const i of s.wa)i.onError(n);r.queries.delete(e)}function rE(t){t.Da.forEach(e=>{e.next()})}var Vv,LC;(LC=Vv||(Vv={})).Fa="default",LC.Cache="cache";class sE{constructor(e,n,r){this.query=e,this.Ma=n,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=r||{}}Ca(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new Ul(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),n=!0):this.Ba(e,this.onlineState)&&(this.La(e),n=!0),this.Oa=e,n}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let n=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),n=!0),n}Ba(e,n){if(!e.fromCache||!this.ba())return!0;const r=n!=="Offline";return(!this.options.ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Na(e){if(e.docChanges.length>0)return!0;const n=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}La(e){e=Ul.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==Vv.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WI{constructor(e){this.key=e}}class YI{constructor(e){this.key=e}}class A5{constructor(e,n){this.query=e,this.Ha=n,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=qe(),this.mutatedKeys=qe(),this.Xa=hI(e),this.eu=new fl(this.Xa)}get tu(){return this.Ha}nu(e,n){const r=n?n.ru:new DC,s=n?n.eu:this.eu;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,a=!1;const l=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,c=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((d,p)=>{const h=s.get(d),v=lm(this.query,p)?p:null,E=!!h&&this.mutatedKeys.has(h.key),y=!!v&&(v.hasLocalMutations||this.mutatedKeys.has(v.key)&&v.hasCommittedMutations);let A=!1;h&&v?h.data.isEqual(v.data)?E!==y&&(r.track({type:3,doc:v}),A=!0):this.iu(h,v)||(r.track({type:2,doc:v}),A=!0,(l&&this.Xa(v,l)>0||c&&this.Xa(v,c)<0)&&(a=!0)):!h&&v?(r.track({type:0,doc:v}),A=!0):h&&!v&&(r.track({type:1,doc:h}),A=!0,(l||c)&&(a=!0)),A&&(v?(o=o.add(v),i=y?i.add(d):i.delete(d)):(o=o.delete(d),i=i.delete(d)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),i=i.delete(d.key),r.track({type:1,doc:d})}return{eu:o,ru:r,Ds:a,mutatedKeys:i}}iu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;const o=e.ru.pa();o.sort((d,p)=>function(v,E){const y=A=>{switch(A){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ie(20277,{At:A})}};return y(v)-y(E)}(d.type,p.type)||this.Xa(d.doc,p.doc)),this.su(r),s=s!=null&&s;const a=n&&!s?this.ou():[],l=this.Za.size===0&&this.current&&!s?1:0,c=l!==this.Ya;return this.Ya=l,o.length!==0||c?{snapshot:new Ul(this.query,e.eu,i,o,e.mutatedKeys,l===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),_u:a}:{_u:a}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new DC,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach(n=>this.Ha=this.Ha.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ha=this.Ha.delete(n)),this.current=e.current)}ou(){if(!this.current)return[];const e=this.Za;this.Za=qe(),this.eu.forEach(r=>{this.au(r.key)&&(this.Za=this.Za.add(r.key))});const n=[];return e.forEach(r=>{this.Za.has(r)||n.push(new YI(r))}),this.Za.forEach(r=>{e.has(r)||n.push(new WI(r))}),n}uu(e){this.Ha=e.qs,this.Za=qe();const n=this.nu(e.documents);return this.applyChanges(n,!0)}cu(){return Ul.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}}const iE="SyncEngine";class b5{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class S5{constructor(e){this.key=e,this.lu=!1}}class I5{constructor(e,n,r,s,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.hu={},this.Pu=new ma(a=>dI(a),am),this.Tu=new Map,this.Iu=new Set,this.du=new Ct(Ce.comparator),this.Eu=new Map,this.Au=new zw,this.Ru={},this.Vu=new Map,this.mu=Bl.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}}async function R5(t,e,n=!0){const r=ZI(t);let s;const i=r.Pu.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.cu()):s=await KI(r,e,n,!0),s}async function P5(t,e){const n=ZI(t);await KI(n,e,!0,!1)}async function KI(t,e,n,r){const s=await HB(t.localStore,ns(e)),i=s.targetId,o=t.sharedClientState.addLocalQueryTarget(i,n);let a;return r&&(a=await N5(t,e,i,o==="current",s.resumeToken)),t.isPrimaryClient&&n&&BI(t.remoteStore,s),a}async function N5(t,e,n,r,s){t.gu=(p,h,v)=>async function(y,A,x,w){let _=A.view.nu(x);_.Ds&&(_=await IC(y.localStore,A.query,!1).then(({documents:I})=>A.view.nu(I,_)));const R=w&&w.targetChanges.get(A.targetId),O=w&&w.targetMismatches.get(A.targetId)!=null,j=A.view.applyChanges(_,y.isPrimaryClient,R,O);return FC(y,A.targetId,j._u),j.snapshot}(t,p,h,v);const i=await IC(t.localStore,e,!0),o=new A5(e,i.qs),a=o.nu(i.documents),l=gd.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),c=o.applyChanges(a,t.isPrimaryClient,l);FC(t,n,c._u);const d=new b5(e,n,o);return t.Pu.set(e,d),t.Tu.has(n)?t.Tu.get(n).push(e):t.Tu.set(n,[e]),c.snapshot}async function k5(t,e,n){const r=Ne(t),s=r.Pu.get(e),i=r.Tu.get(s.targetId);if(i.length>1)return r.Tu.set(s.targetId,i.filter(o=>!am(o,e))),void r.Pu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await Ov(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&Qw(r.remoteStore,s.targetId),Fv(r,s.targetId)}).catch(nc)):(Fv(r,s.targetId),await Ov(r.localStore,s.targetId,!0))}async function M5(t,e){const n=Ne(t),r=n.Pu.get(e),s=n.Tu.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Qw(n.remoteStore,r.targetId))}async function D5(t,e,n){const r=U5(t);try{const s=await function(o,a){const l=Ne(o),c=Ye.now(),d=a.reduce((v,E)=>v.add(E.key),qe());let p,h;return l.persistence.runTransaction("Locally write mutations","readwrite",v=>{let E=Gs(),y=qe();return l.Os.getEntries(v,d).next(A=>{E=A,E.forEach((x,w)=>{w.isValidDocument()||(y=y.add(x))})}).next(()=>l.localDocuments.getOverlayedDocuments(v,E)).next(A=>{p=A;const x=[];for(const w of a){const _=Hj(w,p.get(w.key).overlayedDocument);_!=null&&x.push(new ho(w.key,_,rI(_.value.mapValue),Fr.exists(!0)))}return l.mutationQueue.addMutationBatch(v,c,x,a)}).next(A=>{h=A;const x=A.applyToLocalDocumentSet(p,y);return l.documentOverlayCache.saveOverlays(v,A.batchId,x)})}).then(()=>({batchId:h.batchId,changes:pI(p)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(o,a,l){let c=o.Ru[o.currentUser.toKey()];c||(c=new Ct(Le)),c=c.insert(a,l),o.Ru[o.currentUser.toKey()]=c}(r,s.batchId,n),await vd(r,s.changes),await pm(r.remoteStore)}catch(s){const i=eE(s,"Failed to persist write");n.reject(i)}}async function QI(t,e){const n=Ne(t);try{const r=await YB(n.localStore,e);e.targetChanges.forEach((s,i)=>{const o=n.Eu.get(i);o&&(Ze(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?o.lu=!0:s.modifiedDocuments.size>0?Ze(o.lu,14607):s.removedDocuments.size>0&&(Ze(o.lu,42227),o.lu=!1))}),await vd(n,r,e)}catch(r){await nc(r)}}function VC(t,e,n){const r=Ne(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Pu.forEach((i,o)=>{const a=o.view.va(e);a.snapshot&&s.push(a.snapshot)}),function(o,a){const l=Ne(o);l.onlineState=a;let c=!1;l.queries.forEach((d,p)=>{for(const h of p.wa)h.va(a)&&(c=!0)}),c&&rE(l)}(r.eventManager,e),s.length&&r.hu.J_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function O5(t,e,n){const r=Ne(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Eu.get(e),i=s&&s.key;if(i){let o=new Ct(Ce.comparator);o=o.insert(i,yn.newNoDocument(i,Pe.min()));const a=qe().add(i),l=new dm(Pe.min(),new Map,new Ct(Le),o,a);await QI(r,l),r.du=r.du.remove(i),r.Eu.delete(e),oE(r)}else await Ov(r.localStore,e,!1).then(()=>Fv(r,e,n)).catch(nc)}async function L5(t,e){const n=Ne(t),r=e.batch.batchId;try{const s=await WB(n.localStore,e);JI(n,r,null),HI(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await vd(n,s)}catch(s){await nc(s)}}async function V5(t,e,n){const r=Ne(t);try{const s=await function(o,a){const l=Ne(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let d;return l.mutationQueue.lookupMutationBatch(c,a).next(p=>(Ze(p!==null,37113),d=p.keys(),l.mutationQueue.removeMutationBatch(c,p))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,d,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,d)).next(()=>l.localDocuments.getDocuments(c,d))})}(r.localStore,e);JI(r,e,n),HI(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await vd(r,s)}catch(s){await nc(s)}}function HI(t,e){(t.Vu.get(e)||[]).forEach(n=>{n.resolve()}),t.Vu.delete(e)}function JI(t,e,n){const r=Ne(t);let s=r.Ru[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.Ru[r.currentUser.toKey()]=s}}function Fv(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Tu.get(e))t.Pu.delete(r),n&&t.hu.pu(r,n);t.Tu.delete(e),t.isPrimaryClient&&t.Au.zr(e).forEach(r=>{t.Au.containsKey(r)||XI(t,r)})}function XI(t,e){t.Iu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(Qw(t.remoteStore,n),t.du=t.du.remove(e),t.Eu.delete(n),oE(t))}function FC(t,e,n){for(const r of n)r instanceof WI?(t.Au.addReference(r.key,e),F5(t,r)):r instanceof YI?(me(iE,"Document no longer in limbo: "+r.key),t.Au.removeReference(r.key,e),t.Au.containsKey(r.key)||XI(t,r.key)):Ie(19791,{yu:r})}function F5(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Iu.has(r)||(me(iE,"New document in limbo: "+n),t.Iu.add(r),oE(t))}function oE(t){for(;t.Iu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Iu.values().next().value;t.Iu.delete(e);const n=new Ce(ot.fromString(e)),r=t.mu.next();t.Eu.set(r,new S5(n)),t.du=t.du.insert(n,r),BI(t.remoteStore,new Pi(ns(om(n.path)),r,"TargetPurposeLimboResolution",rm.ue))}}async function vd(t,e,n){const r=Ne(t),s=[],i=[],o=[];r.Pu.isEmpty()||(r.Pu.forEach((a,l)=>{o.push(r.gu(l,e,n).then(c=>{var d;if((c||n)&&r.isPrimaryClient){const p=c?!c.fromCache:(d=n==null?void 0:n.targetChanges.get(l.targetId))===null||d===void 0?void 0:d.current;r.sharedClientState.updateQueryState(l.targetId,p?"current":"not-current")}if(c){s.push(c);const p=Yw.Es(l.targetId,c);i.push(p)}}))}),await Promise.all(o),r.hu.J_(s),await async function(l,c){const d=Ne(l);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>J.forEach(c,h=>J.forEach(h.Is,v=>d.persistence.referenceDelegate.addReference(p,h.targetId,v)).next(()=>J.forEach(h.ds,v=>d.persistence.referenceDelegate.removeReference(p,h.targetId,v)))))}catch(p){if(!rc(p))throw p;me(Kw,"Failed to update sequence numbers: "+p)}for(const p of c){const h=p.targetId;if(!p.fromCache){const v=d.Fs.get(h),E=v.snapshotVersion,y=v.withLastLimboFreeSnapshotVersion(E);d.Fs=d.Fs.insert(h,y)}}}(r.localStore,i))}async function j5(t,e){const n=Ne(t);if(!n.currentUser.isEqual(e)){me(iE,"User change. New user:",e.toKey());const r=await LI(n.localStore,e);n.currentUser=e,function(i,o){i.Vu.forEach(a=>{a.forEach(l=>{l.reject(new he(H.CANCELLED,o))})}),i.Vu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await vd(n,r.Bs)}}function B5(t,e){const n=Ne(t),r=n.Eu.get(e);if(r&&r.lu)return qe().add(r.key);{let s=qe();const i=n.Tu.get(e);if(!i)return s;for(const o of i){const a=n.Pu.get(o);s=s.unionWith(a.view.tu)}return s}}function ZI(t){const e=Ne(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=QI.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=B5.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=O5.bind(null,e),e.hu.J_=_5.bind(null,e.eventManager),e.hu.pu=T5.bind(null,e.eventManager),e}function U5(t){const e=Ne(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=L5.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=V5.bind(null,e),e}class fp{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=hm(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Du(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Cu(e,this.localStore),this.indexBackfillerScheduler=this.Fu(e,this.localStore)}Cu(e,n){return null}Fu(e,n){return null}vu(e){return zB(this.persistence,new qB,e.initialUser,this.serializer)}Du(e){return new OI(Ww.Vi,this.serializer)}bu(e){return new XB}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}fp.provider={build:()=>new fp};class q5 extends fp{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,n){Ze(this.persistence.referenceDelegate instanceof dp,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new SB(r,e.asyncQueue,n)}Du(e){const n=this.cacheSizeBytes!==void 0?Dn.withCacheSize(this.cacheSizeBytes):Dn.DEFAULT;return new OI(r=>dp.Vi(r,n),this.serializer)}}class jv{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>VC(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=j5.bind(null,this.syncEngine),await E5(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new C5}()}createDatastore(e){const n=hm(e.databaseInfo.databaseId),r=function(i){return new r5(i)}(e.databaseInfo);return function(i,o,a,l){return new a5(i,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,i,o,a){return new c5(r,s,i,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>VC(this.syncEngine,n,0),function(){return NC.C()?new NC:new ZB}())}createSyncEngine(e,n){return function(s,i,o,a,l,c,d){const p=new I5(s,i,o,a,l,c);return d&&(p.fu=!0),p}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const i=Ne(s);me(ia,"RemoteStore shutting down."),i.Ia.add(5),await yd(i),i.Ea.shutdown(),i.Aa.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}jv.provider={build:()=>new jv};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aE{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):qs("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const to="FirestoreClient";class G5{constructor(e,n,r,s,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=mn.UNAUTHENTICATED,this.clientId=Dw.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,async o=>{me(to,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(me(to,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Os;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=eE(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Hg(t,e){t.asyncQueue.verifyOperationInProgress(),me(to,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await LI(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>{Qi("Terminating Firestore due to IndexedDb database deletion"),t.terminate().then(()=>{me("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(s=>{Qi("Terminating Firestore due to IndexedDb database deletion failed",s)})}),t._offlineComponents=e}async function jC(t,e){t.asyncQueue.verifyOperationInProgress();const n=await $5(t);me(to,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>MC(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>MC(e.remoteStore,s)),t._onlineComponents=e}async function $5(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){me(to,"Using user provided OfflineComponentProvider");try{await Hg(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===H.FAILED_PRECONDITION||s.code===H.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;Qi("Error using user provided cache. Falling back to memory cache: "+n),await Hg(t,new fp)}}else me(to,"Using default OfflineComponentProvider"),await Hg(t,new q5(void 0));return t._offlineComponents}async function eR(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(me(to,"Using user provided OnlineComponentProvider"),await jC(t,t._uninitializedComponentsProvider._online)):(me(to,"Using default OnlineComponentProvider"),await jC(t,new jv))),t._onlineComponents}function z5(t){return eR(t).then(e=>e.syncEngine)}async function pp(t){const e=await eR(t),n=e.eventManager;return n.onListen=R5.bind(null,e.syncEngine),n.onUnlisten=k5.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=P5.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=M5.bind(null,e.syncEngine),n}function W5(t,e,n={}){const r=new Os;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,l,c){const d=new aE({next:h=>{d.Ou(),o.enqueueAndForget(()=>nE(i,p));const v=h.docs.has(a);!v&&h.fromCache?c.reject(new he(H.UNAVAILABLE,"Failed to get document because the client is offline.")):v&&h.fromCache&&l&&l.source==="server"?c.reject(new he(H.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(h)},error:h=>c.reject(h)}),p=new sE(om(a.path),d,{includeMetadataChanges:!0,ka:!0});return tE(i,p)}(await pp(t),t.asyncQueue,e,n,r)),r.promise}function Y5(t,e,n={}){const r=new Os;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,l,c){const d=new aE({next:h=>{d.Ou(),o.enqueueAndForget(()=>nE(i,p)),h.fromCache&&l.source==="server"?c.reject(new he(H.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(h)},error:h=>c.reject(h)}),p=new sE(a,d,{includeMetadataChanges:!0,ka:!0});return tE(i,p)}(await pp(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tR(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BC=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nR="firestore.googleapis.com",UC=!0;class qC{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new he(H.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=nR,this.ssl=UC}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:UC;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=DI;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<AB)throw new he(H.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}dj("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=tR((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new he(H.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new he(H.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new he(H.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class mm{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new qC({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new he(H.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new he(H.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new qC(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new nj;switch(r.type){case"firstParty":return new oj(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new he(H.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=BC.get(n);r&&(me("ComponentProvider","Removing Datastore"),BC.delete(n),r.terminate())}(this),Promise.resolve()}}function K5(t,e,n,r={}){var s;t=er(t,mm);const i=Zl(e),o=t._getSettings(),a=Object.assign(Object.assign({},o),{emulatorOptions:t._getEmulatorOptions()}),l=`${e}:${n}`;i&&(RS(`https://${l}`),PS("Firestore",!0)),o.host!==nR&&o.host!==l&&Qi("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const c=Object.assign(Object.assign({},o),{host:l,ssl:i,emulatorOptions:r});if(!na(c,a)&&(t._setSettings(c),r.mockUserToken)){let d,p;if(typeof r.mockUserToken=="string")d=r.mockUserToken,p=mn.MOCK_USER;else{d=bV(r.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const h=r.mockUserToken.sub||r.mockUserToken.user_id;if(!h)throw new he(H.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new mn(h)}t._authCredentials=new rj(new GS(d,p))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let oc=class rR{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new rR(this.firestore,e,this._query)}};class bt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new zi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new bt(this.firestore,e,this._key)}toJSON(){return{type:bt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(pd(n,bt._jsonSchema))return new bt(e,r||null,new Ce(ot.fromString(n.referencePath)))}}bt._jsonSchemaVersion="firestore/documentReference/1.0",bt._jsonSchema={type:Ot("string",bt._jsonSchemaVersion),referencePath:Ot("string")};class zi extends oc{constructor(e,n,r){super(e,n,om(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new bt(this.firestore,null,new Ce(e))}withConverter(e){return new zi(this.firestore,e,this._path)}}function lE(t,e,...n){if(t=Lt(t),zS("collection","path",e),t instanceof mm){const r=ot.fromString(e,...n);return tC(r),new zi(t,null,r)}{if(!(t instanceof bt||t instanceof zi))throw new he(H.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ot.fromString(e,...n));return tC(r),new zi(t.firestore,null,r)}}function Un(t,e,...n){if(t=Lt(t),arguments.length===1&&(e=Dw.newId()),zS("doc","path",e),t instanceof mm){const r=ot.fromString(e,...n);return eC(r),new bt(t,null,new Ce(r))}{if(!(t instanceof bt||t instanceof zi))throw new he(H.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ot.fromString(e,...n));return eC(r),new bt(t.firestore,t instanceof zi?t.converter:null,new Ce(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GC="AsyncQueue";class $C{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new FI(this,"async_queue_retry"),this.oc=()=>{const r=Qg();r&&me(GC,"Visibility state changed to "+r.visibilityState),this.F_.y_()},this._c=e;const n=Qg();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;const n=Qg();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise(()=>{});const n=new Os;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Zu.push(e),this.cc()))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!rc(e))throw e;me(GC,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}}uc(e){const n=this._c.then(()=>(this.nc=!0,e().catch(r=>{throw this.tc=r,this.nc=!1,qs("INTERNAL UNHANDLED ERROR: ",zC(r)),r}).then(r=>(this.nc=!1,r))));return this._c=n,n}enqueueAfterDelay(e,n,r){this.ac(),this.sc.indexOf(e)>-1&&(n=0);const s=Zw.createAndSchedule(this,e,n,r,i=>this.lc(i));return this.ec.push(s),s}ac(){this.tc&&Ie(47125,{hc:zC(this.tc)})}verifyOperationInProgress(){}async Pc(){let e;do e=this._c,await e;while(e!==this._c)}Tc(e){for(const n of this.ec)if(n.timerId===e)return!0;return!1}Ic(e){return this.Pc().then(()=>{this.ec.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.ec)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Pc()})}dc(e){this.sc.push(e)}lc(e){const n=this.ec.indexOf(e);this.ec.splice(n,1)}}function zC(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WC(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const s=n;for(const i of r)if(i in s&&typeof s[i]=="function")return!0;return!1}(t,["next","error","complete"])}class no extends mm{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new $C,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new $C(e),this._firestoreClient=void 0,await e}}}function Q5(t,e){const n=typeof t=="object"?t:kw(),r=typeof t=="string"?t:op,s=Nw(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=TV("firestore");i&&K5(s,...i)}return s}function gm(t){if(t._terminated)throw new he(H.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||H5(t),t._firestoreClient}function H5(t){var e,n,r;const s=t._freezeSettings(),i=function(a,l,c,d){return new Cj(a,l,c,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,tR(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._componentsProvider||!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),t._firestoreClient=new G5(t._authCredentials,t._appCheckCredentials,t._queue,i,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pr{constructor(e){this._byteString=e}static fromBase64String(e){try{return new pr(sn.fromBase64String(e))}catch(n){throw new he(H.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new pr(sn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:pr._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(pd(e,pr._jsonSchema))return pr.fromBase64String(e.bytes)}}pr._jsonSchemaVersion="firestore/bytes/1.0",pr._jsonSchema={type:Ot("string",pr._jsonSchemaVersion),bytes:Ot("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ym{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new he(H.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new en(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vm{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ss{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new he(H.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new he(H.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Le(this._lat,e._lat)||Le(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ss._jsonSchemaVersion}}static fromJSON(e){if(pd(e,ss._jsonSchema))return new ss(e.latitude,e.longitude)}}ss._jsonSchemaVersion="firestore/geoPoint/1.0",ss._jsonSchema={type:Ot("string",ss._jsonSchemaVersion),latitude:Ot("number"),longitude:Ot("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class is{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0}(this._values,e._values)}toJSON(){return{type:is._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(pd(e,is._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new is(e.vectorValues);throw new he(H.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}is._jsonSchemaVersion="firestore/vectorValue/1.0",is._jsonSchema={type:Ot("string",is._jsonSchemaVersion),vectorValues:Ot("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J5=/^__.*__$/;class X5{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new ho(e,this.data,this.fieldMask,n,this.fieldTransforms):new md(e,this.data,n,this.fieldTransforms)}}class sR{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new ho(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function iR(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ie(40011,{Ec:t})}}class cE{constructor(e,n,r,s,i,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.Ac(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new cE(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Rc({path:r,mc:!1});return s.fc(e),s}gc(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Rc({path:r,mc:!1});return s.Ac(),s}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return mp(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if(iR(this.Ec)&&J5.test(e))throw this.wc('Document fields cannot begin and end with "__"')}}class Z5{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||hm(e)}Dc(e,n,r,s=!1){return new cE({Ec:e,methodName:n,bc:r,path:en.emptyPath(),mc:!1,Sc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function uE(t){const e=t._freezeSettings(),n=hm(t._databaseId);return new Z5(t._databaseId,!!e.ignoreUndefinedProperties,n)}function e3(t,e,n,r,s,i={}){const o=t.Dc(i.merge||i.mergeFields?2:0,e,n,s);hE("Data must be an object, but it was:",o,r);const a=oR(r,o);let l,c;if(i.merge)l=new Xn(o.fieldMask),c=o.fieldTransforms;else if(i.mergeFields){const d=[];for(const p of i.mergeFields){const h=Bv(e,p,n);if(!o.contains(h))throw new he(H.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);lR(d,h)||d.push(h)}l=new Xn(d),c=o.fieldTransforms.filter(p=>l.covers(p.field))}else l=null,c=o.fieldTransforms;return new X5(new Ln(a),l,c)}class wm extends vm{_toFieldTransform(e){if(e.Ec!==2)throw e.Ec===1?e.wc(`${this._methodName}() can only appear at the top level of your update data`):e.wc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof wm}}class dE extends vm{constructor(e,n){super(e),this.Cc=n}_toFieldTransform(e){const n=new Gu(e.serializer,yI(e.serializer,this.Cc));return new Wj(e.path,n)}isEqual(e){return e instanceof dE&&this.Cc===e.Cc}}function t3(t,e,n,r){const s=t.Dc(1,e,n);hE("Data must be an object, but it was:",s,r);const i=[],o=Ln.empty();uo(r,(l,c)=>{const d=fE(e,l,n);c=Lt(c);const p=s.gc(d);if(c instanceof wm)i.push(d);else{const h=wd(c,p);h!=null&&(i.push(d),o.set(d,h))}});const a=new Xn(i);return new sR(o,a,s.fieldTransforms)}function n3(t,e,n,r,s,i){const o=t.Dc(1,e,n),a=[Bv(e,r,n)],l=[s];if(i.length%2!=0)throw new he(H.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<i.length;h+=2)a.push(Bv(e,i[h])),l.push(i[h+1]);const c=[],d=Ln.empty();for(let h=a.length-1;h>=0;--h)if(!lR(c,a[h])){const v=a[h];let E=l[h];E=Lt(E);const y=o.gc(v);if(E instanceof wm)c.push(v);else{const A=wd(E,y);A!=null&&(c.push(v),d.set(v,A))}}const p=new Xn(c);return new sR(d,p,o.fieldTransforms)}function r3(t,e,n,r=!1){return wd(n,t.Dc(r?4:3,e))}function wd(t,e){if(aR(t=Lt(t)))return hE("Unsupported field value:",e,t),oR(t,e);if(t instanceof vm)return function(r,s){if(!iR(s.Ec))throw s.wc(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.wc(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return function(r,s){const i=[];let o=0;for(const a of r){let l=wd(a,s.yc(o));l==null&&(l={nullValue:"NULL_VALUE"}),i.push(l),o++}return{arrayValue:{values:i}}}(t,e)}return function(r,s){if((r=Lt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return yI(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=Ye.fromDate(r);return{timestampValue:up(s.serializer,i)}}if(r instanceof Ye){const i=new Ye(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:up(s.serializer,i)}}if(r instanceof ss)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof pr)return{bytesValue:SI(s.serializer,r._byteString)};if(r instanceof bt){const i=s.databaseId,o=r.firestore._databaseId;if(!o.isEqual(i))throw s.wc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:$w(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof is)return function(o,a){return{mapValue:{fields:{[eI]:{stringValue:nI},[ap]:{arrayValue:{values:o.toArray().map(c=>{if(typeof c!="number")throw a.wc("VectorValues must only contain numeric values.");return Bw(a.serializer,c)})}}}}}}(r,s);throw s.wc(`Unsupported field value: ${nm(r)}`)}(t,e)}function oR(t,e){const n={};return KS(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):uo(t,(r,s)=>{const i=wd(s,e.Vc(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function aR(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Ye||t instanceof ss||t instanceof pr||t instanceof bt||t instanceof vm||t instanceof is)}function hE(t,e,n){if(!aR(n)||!WS(n)){const r=nm(n);throw r==="an object"?e.wc(t+" a custom object"):e.wc(t+" "+r)}}function Bv(t,e,n){if((e=Lt(e))instanceof ym)return e._internalPath;if(typeof e=="string")return fE(t,e);throw mp("Field path arguments must be of type string or ",t,!1,void 0,n)}const s3=new RegExp("[~\\*/\\[\\]]");function fE(t,e,n){if(e.search(s3)>=0)throw mp(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new ym(...e.split("."))._internalPath}catch{throw mp(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function mp(t,e,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(i||o)&&(l+=" (found",i&&(l+=` in field ${r}`),o&&(l+=` in document ${s}`),l+=")"),new he(H.INVALID_ARGUMENT,a+t+l)}function lR(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cR{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new bt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new i3(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Em("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class i3 extends cR{data(){return super.data()}}function Em(t,e){return typeof e=="string"?fE(t,e):e instanceof ym?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uR(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new he(H.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class pE{}class dR extends pE{}function mE(t,e,...n){let r=[];e instanceof pE&&r.push(e),r=r.concat(n),function(i){const o=i.filter(l=>l instanceof gE).length,a=i.filter(l=>l instanceof xm).length;if(o>1||o>0&&a>0)throw new he(H.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)t=s._apply(t);return t}class xm extends dR{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new xm(e,n,r)}_apply(e){const n=this._parse(e);return fR(e._query,n),new oc(e.firestore,e.converter,Rv(e._query,n))}_parse(e){const n=uE(e.firestore);return function(i,o,a,l,c,d,p){let h;if(c.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new he(H.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){QC(p,d);const E=[];for(const y of p)E.push(KC(l,i,y));h={arrayValue:{values:E}}}else h=KC(l,i,p)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||QC(p,d),h=r3(a,o,p,d==="in"||d==="not-in");return Dt.create(c,d,h)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function YC(t,e,n){const r=e,s=Em("where",t);return xm._create(s,r,n)}class gE extends pE{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new gE(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Br.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(s,i){let o=s;const a=i.getFlattenedFilters();for(const l of a)fR(o,l),o=Rv(o,l)}(e._query,n),new oc(e.firestore,e.converter,Rv(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class yE extends dR{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new yE(e,n)}_apply(e){const n=function(s,i,o){if(s.startAt!==null)throw new he(H.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new he(H.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Bu(i,o)}(e._query,this._field,this._direction);return new oc(e.firestore,e.converter,function(s,i){const o=s.explicitOrderBy.concat([i]);return new sc(s.path,s.collectionGroup,o,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,n))}}function hR(t,e="asc"){const n=e,r=Em("orderBy",t);return yE._create(r,n)}function KC(t,e,n){if(typeof(n=Lt(n))=="string"){if(n==="")throw new he(H.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!uI(e)&&n.indexOf("/")!==-1)throw new he(H.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(ot.fromString(n));if(!Ce.isDocumentKey(r))throw new he(H.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return cC(t,new Ce(r))}if(n instanceof bt)return cC(t,n._key);throw new he(H.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${nm(n)}.`)}function QC(t,e){if(!Array.isArray(t)||t.length===0)throw new he(H.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function fR(t,e){const n=function(s,i){for(const o of s)for(const a of o.getFlattenedFilters())if(i.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new he(H.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new he(H.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class o3{convertValue(e,n="none"){switch(Zi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return St(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Xi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ie(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return uo(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertVectorValue(e){var n,r,s;const i=(s=(r=(n=e.fields)===null||n===void 0?void 0:n[ap].arrayValue)===null||r===void 0?void 0:r.values)===null||s===void 0?void 0:s.map(o=>St(o.doubleValue));return new is(i)}convertGeoPoint(e){return new ss(St(e.latitude),St(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=im(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Vu(e));default:return null}}convertTimestamp(e){const n=Ji(e);return new Ye(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=ot.fromString(e);Ze(MI(r),9688,{name:e});const s=new Fu(r.get(1),r.get(3)),i=new Ce(r.popFirst(5));return s.isEqual(n)||qs(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a3(t,e,n){let r;return r=t?t.toFirestore(e):e,r}class Yc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class zo extends cR{constructor(e,n,r,s,i,o){super(e,n,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new yf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Em("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new he(H.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=zo._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}zo._jsonSchemaVersion="firestore/documentSnapshot/1.0",zo._jsonSchema={type:Ot("string",zo._jsonSchemaVersion),bundleSource:Ot("string","DocumentSnapshot"),bundleName:Ot("string"),bundle:Ot("string")};class yf extends zo{data(e={}){return super.data(e)}}class Wo{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new Yc(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new yf(this._firestore,this._userDataWriter,r.key,r,new Yc(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new he(H.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map(a=>{const l=new yf(s._firestore,s._userDataWriter,a.doc.key,a.doc,new Yc(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(a=>i||a.type!==3).map(a=>{const l=new yf(s._firestore,s._userDataWriter,a.doc.key,a.doc,new Yc(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);let c=-1,d=-1;return a.type!==0&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),d=o.indexOf(a.doc.key)),{type:l3(a.type),doc:l,oldIndex:c,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new he(H.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Wo._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Dw.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],s=[];return this.docs.forEach(i=>{i._document!==null&&(n.push(i._document),r.push(this._userDataWriter.convertObjectMap(i._document.data.value.mapValue.fields,"previous")),s.push(i.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function l3(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ie(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cm(t){t=er(t,bt);const e=er(t.firestore,no);return W5(gm(e),t._key).then(n=>gR(e,t,n))}Wo._jsonSchemaVersion="firestore/querySnapshot/1.0",Wo._jsonSchema={type:Ot("string",Wo._jsonSchemaVersion),bundleSource:Ot("string","QuerySnapshot"),bundleName:Ot("string"),bundle:Ot("string")};class vE extends o3{constructor(e){super(),this.firestore=e}convertBytes(e){return new pr(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new bt(this.firestore,null,n)}}function pR(t){t=er(t,oc);const e=er(t.firestore,no),n=gm(e),r=new vE(e);return uR(t._query),Y5(n,t._query).then(s=>new Wo(e,r,t,s))}function mR(t,e,n){t=er(t,bt);const r=er(t.firestore,no),s=a3(t.converter,e);return EE(r,[e3(uE(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,Fr.none())])}function oa(t,e,n,...r){t=er(t,bt);const s=er(t.firestore,no),i=uE(s);let o;return o=typeof(e=Lt(e))=="string"||e instanceof ym?n3(i,"updateDoc",t._key,e,n,r):t3(i,"updateDoc",t._key,e),EE(s,[o.toMutation(t._key,Fr.exists(!0))])}function c3(t){return EE(er(t.firestore,no),[new Uw(t._key,Fr.none())])}function wE(t,...e){var n,r,s;t=Lt(t);let i={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||WC(e[o])||(i=e[o++]);const a={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(WC(e[o])){const p=e[o];e[o]=(n=p.next)===null||n===void 0?void 0:n.bind(p),e[o+1]=(r=p.error)===null||r===void 0?void 0:r.bind(p),e[o+2]=(s=p.complete)===null||s===void 0?void 0:s.bind(p)}let l,c,d;if(t instanceof bt)c=er(t.firestore,no),d=om(t._key.path),l={next:p=>{e[o]&&e[o](gR(c,t,p))},error:e[o+1],complete:e[o+2]};else{const p=er(t,oc);c=er(p.firestore,no),d=p._query;const h=new vE(c);l={next:v=>{e[o]&&e[o](new Wo(c,h,p,v))},error:e[o+1],complete:e[o+2]},uR(t._query)}return function(h,v,E,y){const A=new aE(y),x=new sE(v,A,E);return h.asyncQueue.enqueueAndForget(async()=>tE(await pp(h),x)),()=>{A.Ou(),h.asyncQueue.enqueueAndForget(async()=>nE(await pp(h),x))}}(gm(c),d,a,l)}function EE(t,e){return function(r,s){const i=new Os;return r.asyncQueue.enqueueAndForget(async()=>D5(await z5(r),s,i)),i.promise}(gm(t),e)}function gR(t,e,n){const r=n.docs.get(e._key),s=new vE(t);return new zo(t,s,e._key,r,new Yc(n.hasPendingWrites,n.fromCache),e.converter)}function HC(t){return new dE("increment",t)}(function(e,n=!0){(function(s){tc=s})(ec),Ll(new ra("firestore",(r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),a=new no(new sj(r.getProvider("auth-internal")),new aj(o,r.getProvider("app-check-internal")),function(c,d){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new he(H.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Fu(c.options.projectId,d)}(o,s),o);return i=Object.assign({useFetchStreams:n},i),a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),Gi(Qx,Hx,e),Gi(Qx,Hx,"esm2017")})();var Zr=function(){return Zr=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Zr.apply(this,arguments)};function Ed(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function u3(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,i;r<s;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))}function yR(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const d3=yR,vR=new hd("auth","Firebase",yR());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gp=new Rw("@firebase/auth");function h3(t,...e){gp.logLevel<=Ue.WARN&&gp.warn(`Auth (${ec}): ${t}`,...e)}function vf(t,...e){gp.logLevel<=Ue.ERROR&&gp.error(`Auth (${ec}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ur(t,...e){throw xE(t,...e)}function os(t,...e){return xE(t,...e)}function wR(t,e,n){const r=Object.assign(Object.assign({},d3()),{[e]:n});return new hd("auth","Firebase",r).create(e,{appName:t.name})}function Ls(t){return wR(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function xE(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return vR.create(t,...e)}function Se(t,e,...n){if(!t)throw xE(e,...n)}function Ns(t){const e="INTERNAL ASSERTION FAILED: "+t;throw vf(e),new Error(e)}function $s(t,e){t||Ns(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uv(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function f3(){return JC()==="http:"||JC()==="https:"}function JC(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p3(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(f3()||kV()||"connection"in navigator)?navigator.onLine:!0}function m3(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xd{constructor(e,n){this.shortDelay=e,this.longDelay=n,$s(n>e,"Short delay should be less than long delay!"),this.isMobile=RV()||MV()}get(){return p3()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CE(t,e){$s(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ER{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ns("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ns("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ns("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g3={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y3=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],v3=new xd(3e4,6e4);function fo(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function po(t,e,n,r,s={}){return xR(t,s,async()=>{let i={},o={};r&&(e==="GET"?o=r:i={body:JSON.stringify(r)});const a=fd(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const c=Object.assign({method:e,headers:l},i);return NV()||(c.referrerPolicy="no-referrer"),t.emulatorConfig&&Zl(t.emulatorConfig.host)&&(c.credentials="include"),ER.fetch()(await CR(t,t.config.apiHost,n,a),c)})}async function xR(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},g3),e);try{const s=new E3(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw Bh(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const a=i.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Bh(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Bh(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw Bh(t,"user-disabled",o);const d=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw wR(t,d,c);Ur(t,d)}}catch(s){if(s instanceof Qs)throw s;Ur(t,"network-request-failed",{message:String(s)})}}async function Cd(t,e,n,r,s={}){const i=await po(t,e,n,r,s);return"mfaPendingCredential"in i&&Ur(t,"multi-factor-auth-required",{_serverResponse:i}),i}async function CR(t,e,n,r){const s=`${e}${n}?${r}`,i=t,o=i.config.emulator?CE(t.config,s):`${t.config.apiScheme}://${s}`;return y3.includes(n)&&(await i._persistenceManagerAvailable,i._getPersistenceType()==="COOKIE")?i._getPersistence()._getFinalTarget(o).toString():o}function w3(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class E3{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(os(this.auth,"network-request-failed")),v3.get())})}}function Bh(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=os(t,e,r);return s.customData._tokenResponse=n,s}function XC(t){return t!==void 0&&t.enterprise!==void 0}class x3{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return w3(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function C3(t,e){return po(t,"GET","/v2/recaptchaConfig",fo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _3(t,e){return po(t,"POST","/v1/accounts:delete",e)}async function yp(t,e){return po(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fu(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function T3(t,e=!1){const n=Lt(t),r=await n.getIdToken(e),s=_E(r);Se(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:fu(Jg(s.auth_time)),issuedAtTime:fu(Jg(s.iat)),expirationTime:fu(Jg(s.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function Jg(t){return Number(t)*1e3}function _E(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return vf("JWT malformed, contained fewer than 3 sections"),null;try{const s=AS(n);return s?JSON.parse(s):(vf("Failed to decode base64 JWT payload"),null)}catch(s){return vf("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function ZC(t){const e=_E(t);return Se(e,"internal-error"),Se(typeof e.exp<"u","internal-error"),Se(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $u(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Qs&&A3(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function A3({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b3{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qv{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=fu(this.lastLoginAt),this.creationTime=fu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vp(t){var e;const n=t.auth,r=await t.getIdToken(),s=await $u(t,yp(n,{idToken:r}));Se(s==null?void 0:s.users.length,n,"internal-error");const i=s.users[0];t._notifyReloadListener(i);const o=!((e=i.providerUserInfo)===null||e===void 0)&&e.length?_R(i.providerUserInfo):[],a=I3(t.providerData,o),l=t.isAnonymous,c=!(t.email&&i.passwordHash)&&!(a!=null&&a.length),d=l?c:!1,p={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new qv(i.createdAt,i.lastLoginAt),isAnonymous:d};Object.assign(t,p)}async function S3(t){const e=Lt(t);await vp(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function I3(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function _R(t){return t.map(e=>{var{providerId:n}=e,r=Ed(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function R3(t,e){const n=await xR(t,{},async()=>{const r=fd({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,o=await CR(t,s,"/v1/token",`key=${i}`),a=await t._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";const l={method:"POST",headers:a,body:r};return t.emulatorConfig&&Zl(t.emulatorConfig.host)&&(l.credentials="include"),ER.fetch()(o,l)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function P3(t,e){return po(t,"POST","/v2/accounts:revokeToken",fo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Se(e.idToken,"internal-error"),Se(typeof e.idToken<"u","internal-error"),Se(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):ZC(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Se(e.length!==0,"internal-error");const n=ZC(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Se(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await R3(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,o=new pl;return r&&(Se(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),s&&(Se(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(Se(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new pl,this.toJSON())}_performRefresh(){return Ns("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ui(t,e){Se(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Or{constructor(e){var{uid:n,auth:r,stsTokenManager:s}=e,i=Ed(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new b3(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new qv(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await $u(this,this.stsTokenManager.getToken(this.auth,e));return Se(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return T3(this,e)}reload(){return S3(this)}_assign(e){this!==e&&(Se(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Or(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Se(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await vp(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(fr(this.auth.app))return Promise.reject(Ls(this.auth));const e=await this.getIdToken();return await $u(this,_3(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,s,i,o,a,l,c,d;const p=(r=n.displayName)!==null&&r!==void 0?r:void 0,h=(s=n.email)!==null&&s!==void 0?s:void 0,v=(i=n.phoneNumber)!==null&&i!==void 0?i:void 0,E=(o=n.photoURL)!==null&&o!==void 0?o:void 0,y=(a=n.tenantId)!==null&&a!==void 0?a:void 0,A=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,x=(c=n.createdAt)!==null&&c!==void 0?c:void 0,w=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:_,emailVerified:R,isAnonymous:O,providerData:j,stsTokenManager:I}=n;Se(_&&I,e,"internal-error");const S=pl.fromJSON(this.name,I);Se(typeof _=="string",e,"internal-error"),ui(p,e.name),ui(h,e.name),Se(typeof R=="boolean",e,"internal-error"),Se(typeof O=="boolean",e,"internal-error"),ui(v,e.name),ui(E,e.name),ui(y,e.name),ui(A,e.name),ui(x,e.name),ui(w,e.name);const k=new Or({uid:_,auth:e,email:h,emailVerified:R,displayName:p,isAnonymous:O,photoURL:E,phoneNumber:v,tenantId:y,stsTokenManager:S,createdAt:x,lastLoginAt:w});return j&&Array.isArray(j)&&(k.providerData=j.map(M=>Object.assign({},M))),A&&(k._redirectEventId=A),k}static async _fromIdTokenResponse(e,n,r=!1){const s=new pl;s.updateFromServerResponse(n);const i=new Or({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await vp(i),i}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];Se(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?_R(s.providerUserInfo):[],o=!(s.email&&s.passwordHash)&&!(i!=null&&i.length),a=new pl;a.updateFromIdToken(r);const l=new Or({uid:s.localId,auth:e,stsTokenManager:a,isAnonymous:o}),c={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new qv(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(i!=null&&i.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e_=new Map;function ks(t){$s(t instanceof Function,"Expected a class definition");let e=e_.get(t);return e?($s(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,e_.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TR{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}TR.type="NONE";const t_=TR;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wf(t,e,n){return`firebase:${t}:${e}:${n}`}class ml{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=wf(this.userKey,s.apiKey,i),this.fullPersistenceKey=wf("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await yp(this.auth,{idToken:e}).catch(()=>{});return n?Or._fromGetAccountInfoResponse(this.auth,n,e):null}return Or._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new ml(ks(t_),e,r);const s=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let i=s[0]||ks(t_);const o=wf(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const d=await c._get(o);if(d){let p;if(typeof d=="string"){const h=await yp(e,{idToken:d}).catch(()=>{});if(!h)break;p=await Or._fromGetAccountInfoResponse(e,h,d)}else p=Or._fromJSON(e,d);c!==i&&(a=p),i=c;break}}catch{}const l=s.filter(c=>c._shouldAllowMigration);return!i._shouldAllowMigration||!l.length?new ml(i,e,r):(i=l[0],a&&await i._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==i)try{await c._remove(o)}catch{}})),new ml(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n_(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(IR(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(AR(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(PR(e))return"Blackberry";if(NR(e))return"Webos";if(bR(e))return"Safari";if((e.includes("chrome/")||SR(e))&&!e.includes("edge/"))return"Chrome";if(RR(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function AR(t=wn()){return/firefox\//i.test(t)}function bR(t=wn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function SR(t=wn()){return/crios\//i.test(t)}function IR(t=wn()){return/iemobile/i.test(t)}function RR(t=wn()){return/android/i.test(t)}function PR(t=wn()){return/blackberry/i.test(t)}function NR(t=wn()){return/webos/i.test(t)}function TE(t=wn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function N3(t=wn()){var e;return TE(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function k3(){return DV()&&document.documentMode===10}function kR(t=wn()){return TE(t)||RR(t)||NR(t)||PR(t)||/windows phone/i.test(t)||IR(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MR(t,e=[]){let n;switch(t){case"Browser":n=n_(wn());break;case"Worker":n=`${n_(wn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ec}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M3{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((o,a)=>{try{const l=e(i);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function D3(t,e={}){return po(t,"GET","/v2/passwordPolicy",fo(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O3=6;class L3{constructor(e){var n,r,s,i;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:O3,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(i=e.forceUpgradeOnSignin)!==null&&i!==void 0?i:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,s,i,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(s=l.containsLowercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(i=l.containsUppercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V3{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new r_(this),this.idTokenSubscription=new r_(this),this.beforeStateQueue=new M3(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=vR,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(i=>this._resolvePersistenceManagerAvailable=i)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ks(n)),this._initializationPromise=this.queue(async()=>{var r,s,i;if(!this._deleted&&(this.persistenceManager=await ml.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await yp(this,{idToken:e}),r=await Or._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(fr(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let s=r,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=s==null?void 0:s._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(s=l.user,i=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(s)}catch(o){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Se(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await vp(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=m3()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(fr(this.app))return Promise.reject(Ls(this));const n=e?Lt(e):null;return n&&Se(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Se(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return fr(this.app)?Promise.reject(Ls(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return fr(this.app)?Promise.reject(Ls(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ks(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await D3(this),n=new L3(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new hd("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await P3(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ks(e)||this._popupRedirectResolver;Se(n,this,"argument-error"),this.redirectPersistenceManager=await ml.create(this,[ks(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Se(a,this,"internal-error"),a.then(()=>{o||i(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,s);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Se(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=MR(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var e;if(fr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&h3(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function ya(t){return Lt(t)}class r_{constructor(e){this.auth=e,this.observer=null,this.addObserver=qV(n=>this.observer=n)}get next(){return Se(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _m={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function F3(t){_m=t}function DR(t){return _m.loadJS(t)}function j3(){return _m.recaptchaEnterpriseScript}function B3(){return _m.gapiScript}function U3(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class q3{constructor(){this.enterprise=new G3}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class G3{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const $3="recaptcha-enterprise",OR="NO_RECAPTCHA";class z3{constructor(e){this.type=$3,this.auth=ya(e)}async verify(e="verify",n=!1){async function r(i){if(!n){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(o,a)=>{C3(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const c=new x3(l);return i.tenantId==null?i._agentRecaptchaConfig=c:i._tenantRecaptchaConfigs[i.tenantId]=c,o(c.siteKey)}}).catch(l=>{a(l)})})}function s(i,o,a){const l=window.grecaptcha;XC(l)?l.enterprise.ready(()=>{l.enterprise.execute(i,{action:e}).then(c=>{o(c)}).catch(()=>{o(OR)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new q3().execute("siteKey",{action:"verify"}):new Promise((i,o)=>{r(this.auth).then(a=>{if(!n&&XC(window.grecaptcha))s(a,i,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=j3();l.length!==0&&(l+=a),DR(l).then(()=>{s(a,i,o)}).catch(c=>{o(c)})}}).catch(a=>{o(a)})})}}async function s_(t,e,n,r=!1,s=!1){const i=new z3(t);let o;if(s)o=OR;else try{o=await i.verify(n)}catch{o=await i.verify(n,!0)}const a=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){const l=a.phoneEnrollmentInfo.phoneNumber,c=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:c,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const l=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function Gv(t,e,n,r,s){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await s_(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await s_(t,e,n,n==="getOobCode");return r(t,a)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W3(t,e){const n=Nw(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(na(i,e??{}))return s;Ur(s,"already-initialized")}return n.initialize({options:e})}function Y3(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(ks);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function K3(t,e,n){const r=ya(t);Se(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,i=LR(e),{host:o,port:a}=Q3(e),l=a===null?"":`:${a}`,c={url:`${i}//${o}${l}/`},d=Object.freeze({host:o,port:a,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){Se(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Se(na(c,r.config.emulator)&&na(d,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=c,r.emulatorConfig=d,r.settings.appVerificationDisabledForTesting=!0,Zl(o)?(RS(`${i}//${o}${l}`),PS("Auth",!0)):H3()}function LR(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function Q3(t){const e=LR(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:i_(r.substr(i.length+1))}}else{const[i,o]=r.split(":");return{host:i,port:i_(o)}}}function i_(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function H3(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AE{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Ns("not implemented")}_getIdTokenResponse(e){return Ns("not implemented")}_linkToIdToken(e,n){return Ns("not implemented")}_getReauthenticationResolver(e){return Ns("not implemented")}}async function J3(t,e){return po(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function X3(t,e){return Cd(t,"POST","/v1/accounts:signInWithPassword",fo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Z3(t,e){return Cd(t,"POST","/v1/accounts:signInWithEmailLink",fo(t,e))}async function e6(t,e){return Cd(t,"POST","/v1/accounts:signInWithEmailLink",fo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zu extends AE{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new zu(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new zu(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Gv(e,n,"signInWithPassword",X3);case"emailLink":return Z3(e,{email:this._email,oobCode:this._password});default:Ur(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Gv(e,r,"signUpPassword",J3);case"emailLink":return e6(e,{idToken:n,email:this._email,oobCode:this._password});default:Ur(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gl(t,e){return Cd(t,"POST","/v1/accounts:signInWithIdp",fo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t6="http://localhost";class aa extends AE{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new aa(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Ur("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=n,i=Ed(n,["providerId","signInMethod"]);if(!r||!s)return null;const o=new aa(r,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return gl(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,gl(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,gl(e,n)}buildRequest(){const e={requestUri:t6,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=fd(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n6(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function r6(t){const e=qc(Gc(t)).link,n=e?qc(Gc(e)).deep_link_id:null,r=qc(Gc(t)).deep_link_id;return(r?qc(Gc(r)).link:null)||r||n||e||t}class bE{constructor(e){var n,r,s,i,o,a;const l=qc(Gc(e)),c=(n=l.apiKey)!==null&&n!==void 0?n:null,d=(r=l.oobCode)!==null&&r!==void 0?r:null,p=n6((s=l.mode)!==null&&s!==void 0?s:null);Se(c&&d&&p,"argument-error"),this.apiKey=c,this.operation=p,this.code=d,this.continueUrl=(i=l.continueUrl)!==null&&i!==void 0?i:null,this.languageCode=(o=l.lang)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=r6(e);try{return new bE(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ac{constructor(){this.providerId=ac.PROVIDER_ID}static credential(e,n){return zu._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=bE.parseLink(n);return Se(r,"argument-error"),zu._fromEmailAndCode(e,r.code,r.tenantId)}}ac.PROVIDER_ID="password";ac.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ac.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VR{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _d extends VR{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wi extends _d{constructor(){super("facebook.com")}static credential(e){return aa._fromParams({providerId:wi.PROVIDER_ID,signInMethod:wi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return wi.credentialFromTaggedObject(e)}static credentialFromError(e){return wi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return wi.credential(e.oauthAccessToken)}catch{return null}}}wi.FACEBOOK_SIGN_IN_METHOD="facebook.com";wi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ei extends _d{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return aa._fromParams({providerId:Ei.PROVIDER_ID,signInMethod:Ei.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Ei.credentialFromTaggedObject(e)}static credentialFromError(e){return Ei.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Ei.credential(n,r)}catch{return null}}}Ei.GOOGLE_SIGN_IN_METHOD="google.com";Ei.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xi extends _d{constructor(){super("github.com")}static credential(e){return aa._fromParams({providerId:xi.PROVIDER_ID,signInMethod:xi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return xi.credentialFromTaggedObject(e)}static credentialFromError(e){return xi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return xi.credential(e.oauthAccessToken)}catch{return null}}}xi.GITHUB_SIGN_IN_METHOD="github.com";xi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ci extends _d{constructor(){super("twitter.com")}static credential(e,n){return aa._fromParams({providerId:Ci.PROVIDER_ID,signInMethod:Ci.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Ci.credentialFromTaggedObject(e)}static credentialFromError(e){return Ci.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Ci.credential(n,r)}catch{return null}}}Ci.TWITTER_SIGN_IN_METHOD="twitter.com";Ci.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function s6(t,e){return Cd(t,"POST","/v1/accounts:signUp",fo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class la{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await Or._fromIdTokenResponse(e,r,s),o=o_(r);return new la({user:i,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=o_(r);return new la({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function o_(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wp extends Qs{constructor(e,n,r,s){var i;super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,wp.prototype),this.customData={appName:e.name,tenantId:(i=e.tenantId)!==null&&i!==void 0?i:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new wp(e,n,r,s)}}function FR(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?wp._fromErrorAndOperation(t,i,e,r):i})}async function i6(t,e,n=!1){const r=await $u(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return la._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function o6(t,e,n=!1){const{auth:r}=t;if(fr(r.app))return Promise.reject(Ls(r));const s="reauthenticate";try{const i=await $u(t,FR(r,s,e,t),n);Se(i.idToken,r,"internal-error");const o=_E(i.idToken);Se(o,r,"internal-error");const{sub:a}=o;return Se(t.uid===a,r,"user-mismatch"),la._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&Ur(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jR(t,e,n=!1){if(fr(t.app))return Promise.reject(Ls(t));const r="signIn",s=await FR(t,r,e),i=await la._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}async function a6(t,e){return jR(ya(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BR(t){const e=ya(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function l6(t,e,n){if(fr(t.app))return Promise.reject(Ls(t));const r=ya(t),o=await Gv(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",s6).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&BR(t),l}),a=await la._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function c6(t,e,n){return fr(t.app)?Promise.reject(Ls(t)):a6(Lt(t),ac.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&BR(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u6(t,e){return Lt(t).setPersistence(e)}function d6(t,e,n,r){return Lt(t).onIdTokenChanged(e,n,r)}function h6(t,e,n){return Lt(t).beforeAuthStateChanged(e,n)}function f6(t,e,n,r){return Lt(t).onAuthStateChanged(e,n,r)}function a_(t){return Lt(t).signOut()}const Ep="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UR{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Ep,"1"),this.storage.removeItem(Ep),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p6=1e3,m6=10;class qR extends UR{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=kR(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},i=this.storage.getItem(r);k3()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,m6):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},p6)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}qR.type="LOCAL";const GR=qR;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $R extends UR{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}$R.type="SESSION";const zR=$R;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g6(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tm{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new Tm(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const a=Array.from(o).map(async c=>c(n.origin,i)),l=await g6(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Tm.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SE(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y6{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((a,l)=>{const c=SE("",20);s.port1.start();const d=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(p){const h=p;if(h.data.eventId===c)switch(h.data.status){case"ack":clearTimeout(d),i=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(h.data.response);break;default:clearTimeout(d),clearTimeout(i),l(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function as(){return window}function v6(t){as().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WR(){return typeof as().WorkerGlobalScope<"u"&&typeof as().importScripts=="function"}async function w6(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function E6(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function x6(){return WR()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YR="firebaseLocalStorageDb",C6=1,xp="firebaseLocalStorage",KR="fbase_key";class Td{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Am(t,e){return t.transaction([xp],e?"readwrite":"readonly").objectStore(xp)}function _6(){const t=indexedDB.deleteDatabase(YR);return new Td(t).toPromise()}function $v(){const t=indexedDB.open(YR,C6);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(xp,{keyPath:KR})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(xp)?e(r):(r.close(),await _6(),e(await $v()))})})}async function l_(t,e,n){const r=Am(t,!0).put({[KR]:e,value:n});return new Td(r).toPromise()}async function T6(t,e){const n=Am(t,!1).get(e),r=await new Td(n).toPromise();return r===void 0?null:r.value}function c_(t,e){const n=Am(t,!0).delete(e);return new Td(n).toPromise()}const A6=800,b6=3;class QR{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await $v(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>b6)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return WR()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Tm._getInstance(x6()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await w6(),!this.activeServiceWorker)return;this.sender=new y6(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||E6()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await $v();return await l_(e,Ep,"1"),await c_(e,Ep),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>l_(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>T6(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>c_(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=Am(s,!1).getAll();return new Td(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),A6)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}QR.type="LOCAL";const S6=QR;new xd(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I6(t,e){return e?ks(e):(Se(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IE extends AE{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return gl(e,this._buildIdpRequest())}_linkToIdToken(e,n){return gl(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return gl(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function R6(t){return jR(t.auth,new IE(t),t.bypassAuthState)}function P6(t){const{auth:e,user:n}=t;return Se(n,e,"internal-error"),o6(n,new IE(t),t.bypassAuthState)}async function N6(t){const{auth:e,user:n}=t;return Se(n,e,"internal-error"),i6(n,new IE(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HR{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return R6;case"linkViaPopup":case"linkViaRedirect":return N6;case"reauthViaPopup":case"reauthViaRedirect":return P6;default:Ur(this.auth,"internal-error")}}resolve(e){$s(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){$s(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k6=new xd(2e3,1e4);class il extends HR{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,il.currentPopupAction&&il.currentPopupAction.cancel(),il.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Se(e,this.auth,"internal-error"),e}async onExecution(){$s(this.filter.length===1,"Popup operations only handle one event");const e=SE();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(os(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(os(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,il.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(os(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,k6.get())};e()}}il.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M6="pendingRedirect",Ef=new Map;class D6 extends HR{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Ef.get(this.auth._key());if(!e){try{const r=await O6(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Ef.set(this.auth._key(),e)}return this.bypassAuthState||Ef.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function O6(t,e){const n=F6(e),r=V6(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function L6(t,e){Ef.set(t._key(),e)}function V6(t){return ks(t._redirectPersistence)}function F6(t){return wf(M6,t.config.apiKey,t.name)}async function j6(t,e,n=!1){if(fr(t.app))return Promise.reject(Ls(t));const r=ya(t),s=I6(r,e),o=await new D6(r,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B6=10*60*1e3;class U6{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!q6(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!JR(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(os(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=B6&&this.cachedEventUids.clear(),this.cachedEventUids.has(u_(e))}saveEventToCache(e){this.cachedEventUids.add(u_(e)),this.lastProcessedEventTime=Date.now()}}function u_(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function JR({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function q6(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return JR(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function G6(t,e={}){return po(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $6=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,z6=/^https?/;async function W6(t){if(t.config.emulator)return;const{authorizedDomains:e}=await G6(t);for(const n of e)try{if(Y6(n))return}catch{}Ur(t,"unauthorized-domain")}function Y6(t){const e=Uv(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!z6.test(n))return!1;if($6.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K6=new xd(3e4,6e4);function d_(){const t=as().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function Q6(t){return new Promise((e,n)=>{var r,s,i;function o(){d_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{d_(),n(os(t,"network-request-failed"))},timeout:K6.get()})}if(!((s=(r=as().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((i=as().gapi)===null||i===void 0)&&i.load)o();else{const a=U3("iframefcb");return as()[a]=()=>{gapi.load?o():n(os(t,"network-request-failed"))},DR(`${B3()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw xf=null,e})}let xf=null;function H6(t){return xf=xf||Q6(t),xf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J6=new xd(5e3,15e3),X6="__/auth/iframe",Z6="emulator/auth/iframe",eU={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},tU=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function nU(t){const e=t.config;Se(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?CE(e,Z6):`https://${t.config.authDomain}/${X6}`,r={apiKey:e.apiKey,appName:t.name,v:ec},s=tU.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${fd(r).slice(1)}`}async function rU(t){const e=await H6(t),n=as().gapi;return Se(n,t,"internal-error"),e.open({where:document.body,url:nU(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:eU,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const o=os(t,"network-request-failed"),a=as().setTimeout(()=>{i(o)},J6.get());function l(){as().clearTimeout(a),s(r)}r.ping(l).then(l,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sU={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},iU=500,oU=600,aU="_blank",lU="http://localhost";class h_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function cU(t,e,n,r=iU,s=oU){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},sU),{width:r.toString(),height:s.toString(),top:i,left:o}),c=wn().toLowerCase();n&&(a=SR(c)?aU:n),AR(c)&&(e=e||lU,l.scrollbars="yes");const d=Object.entries(l).reduce((h,[v,E])=>`${h}${v}=${E},`,"");if(N3(c)&&a!=="_self")return uU(e||"",a),new h_(null);const p=window.open(e||"",a,d);Se(p,t,"popup-blocked");try{p.focus()}catch{}return new h_(p)}function uU(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dU="__/auth/handler",hU="emulator/auth/handler",fU=encodeURIComponent("fac");async function f_(t,e,n,r,s,i){Se(t.config.authDomain,t,"auth-domain-config-required"),Se(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:ec,eventId:s};if(e instanceof VR){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",UV(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,p]of Object.entries({}))o[d]=p}if(e instanceof _d){const d=e.getScopes().filter(p=>p!=="");d.length>0&&(o.scopes=d.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const d of Object.keys(a))a[d]===void 0&&delete a[d];const l=await t._getAppCheckToken(),c=l?`#${fU}=${encodeURIComponent(l)}`:"";return`${pU(t)}?${fd(a).slice(1)}${c}`}function pU({config:t}){return t.emulator?CE(t,hU):`https://${t.authDomain}/${dU}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xg="webStorageSupport";class mU{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=zR,this._completeRedirectFn=j6,this._overrideRedirectResult=L6}async _openPopup(e,n,r,s){var i;$s((i=this.eventManagers[e._key()])===null||i===void 0?void 0:i.manager,"_initialize() not called before _openPopup()");const o=await f_(e,n,r,Uv(),s);return cU(e,o,SE())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await f_(e,n,r,Uv(),s);return v6(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):($s(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await rU(e),r=new U6(e);return n.register("authEvent",s=>(Se(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Xg,{type:Xg},s=>{var i;const o=(i=s==null?void 0:s[0])===null||i===void 0?void 0:i[Xg];o!==void 0&&n(!!o),Ur(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=W6(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return kR()||bR()||TE()}}const gU=mU;var p_="@firebase/auth",m_="1.10.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yU{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Se(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vU(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function wU(t){Ll(new ra("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;Se(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:MR(t)},c=new V3(r,s,i,l);return Y3(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Ll(new ra("auth-internal",e=>{const n=ya(e.getProvider("auth").getImmediate());return(r=>new yU(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Gi(p_,m_,vU(t)),Gi(p_,m_,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EU=5*60,xU=IS("authIdTokenMaxAge")||EU;let g_=null;const CU=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>xU)return;const s=n==null?void 0:n.token;g_!==s&&(g_=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function _U(t=kw()){const e=Nw(t,"auth");if(e.isInitialized())return e.getImmediate();const n=W3(t,{popupRedirectResolver:gU,persistence:[S6,GR,zR]}),r=IS("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const o=CU(i.toString());h6(n,o,()=>o(n.currentUser)),d6(n,a=>o(a))}}const s=bS("auth");return s&&K3(n,`http://${s}`),n}function TU(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}F3({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=os("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",TU().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});wU("Browser");const AU={apiKey:"AIzaSyBUftmUEX4_zgW-7daz3Yq9Md7QJQWTDOM",authDomain:"vmaster-fcdff.firebaseapp.com",projectId:"vmaster-fcdff",storageBucket:"vmaster-fcdff.firebasestorage.app",messagingSenderId:"44584686885",appId:"1:44584686885:web:1aa7941cebb2ad30bf76cc",measurementId:"G-FH5MHDJ62K"},XR=GF().length?kw():MS(AU),on=Q5(XR),Yo=_U(XR);u6(Yo,GR);function Ve(...t){return mV(dS(t))}const bU=bL,ZR=g.forwardRef(({className:t,...e},n)=>f.jsx(sS,{ref:n,className:Ve("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));ZR.displayName=sS.displayName;const SU=bw("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),eP=g.forwardRef(({className:t,variant:e,...n},r)=>f.jsx(iS,{ref:r,className:Ve(SU({variant:e}),t),...n}));eP.displayName=iS.displayName;const IU=g.forwardRef(({className:t,...e},n)=>f.jsx(lS,{ref:n,className:Ve("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));IU.displayName=lS.displayName;const tP=g.forwardRef(({className:t,...e},n)=>f.jsx(cS,{ref:n,className:Ve("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:f.jsx(yS,{className:"h-4 w-4"})}));tP.displayName=cS.displayName;const nP=g.forwardRef(({className:t,...e},n)=>f.jsx(oS,{ref:n,className:Ve("text-sm font-semibold",t),...e}));nP.displayName=oS.displayName;const rP=g.forwardRef(({className:t,...e},n)=>f.jsx(aS,{ref:n,className:Ve("text-sm opacity-90",t),...e}));rP.displayName=aS.displayName;function RU(){const{toasts:t}=FO();return f.jsxs(bU,{children:[t.map(function({id:e,title:n,description:r,action:s,...i}){return f.jsxs(eP,{...i,children:[f.jsxs("div",{className:"grid gap-1",children:[n&&f.jsx(nP,{children:n}),r&&f.jsx(rP,{children:r})]}),s,f.jsx(tP,{})]},e)}),f.jsx(ZR,{})]})}var y_=["light","dark"],PU="(prefers-color-scheme: dark)",NU=g.createContext(void 0),kU={setTheme:t=>{},themes:[]},MU=()=>{var t;return(t=g.useContext(NU))!=null?t:kU};g.memo(({forcedTheme:t,storageKey:e,attribute:n,enableSystem:r,enableColorScheme:s,defaultTheme:i,value:o,attrs:a,nonce:l})=>{let c=i==="system",d=n==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${a.map(E=>`'${E}'`).join(",")})`};`:`var d=document.documentElement,n='${n}',s='setAttribute';`,p=s?y_.includes(i)&&i?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${i}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",h=(E,y=!1,A=!0)=>{let x=o?o[E]:E,w=y?E+"|| ''":`'${x}'`,_="";return s&&A&&!y&&y_.includes(E)&&(_+=`d.style.colorScheme = '${E}';`),n==="class"?y||x?_+=`c.add(${w})`:_+="null":x&&(_+=`d[s](n,${w})`),_},v=t?`!function(){${d}${h(t)}}()`:r?`!function(){try{${d}var e=localStorage.getItem('${e}');if('system'===e||(!e&&${c})){var t='${PU}',m=window.matchMedia(t);if(m.media!==t||m.matches){${h("dark")}}else{${h("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${h(o?"x[e]":"e",!0)}}${c?"":"else{"+h(i,!1,!1)+"}"}${p}}catch(e){}}()`:`!function(){try{${d}var e=localStorage.getItem('${e}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${h(o?"x[e]":"e",!0)}}else{${h(i,!1,!1)};}${p}}catch(t){}}();`;return g.createElement("script",{nonce:l,dangerouslySetInnerHTML:{__html:v}})});var DU=t=>{switch(t){case"success":return VU;case"info":return jU;case"warning":return FU;case"error":return BU;default:return null}},OU=Array(12).fill(0),LU=({visible:t})=>K.createElement("div",{className:"sonner-loading-wrapper","data-visible":t},K.createElement("div",{className:"sonner-spinner"},OU.map((e,n)=>K.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),VU=K.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},K.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),FU=K.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},K.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),jU=K.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},K.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),BU=K.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},K.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),UU=()=>{let[t,e]=K.useState(document.hidden);return K.useEffect(()=>{let n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t},zv=1,qU=class{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{let e=this.subscribers.indexOf(t);this.subscribers.splice(e,1)}),this.publish=t=>{this.subscribers.forEach(e=>e(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var e;let{message:n,...r}=t,s=typeof(t==null?void 0:t.id)=="number"||((e=t.id)==null?void 0:e.length)>0?t.id:zv++,i=this.toasts.find(a=>a.id===s),o=t.dismissible===void 0?!0:t.dismissible;return i?this.toasts=this.toasts.map(a=>a.id===s?(this.publish({...a,...t,id:s,title:n}),{...a,...t,id:s,dismissible:o,title:n}):a):this.addToast({title:n,...r,dismissible:o,id:s}),s},this.dismiss=t=>(t||this.toasts.forEach(e=>{this.subscribers.forEach(n=>n({id:e.id,dismiss:!0}))}),this.subscribers.forEach(e=>e({id:t,dismiss:!0})),t),this.message=(t,e)=>this.create({...e,message:t}),this.error=(t,e)=>this.create({...e,message:t,type:"error"}),this.success=(t,e)=>this.create({...e,type:"success",message:t}),this.info=(t,e)=>this.create({...e,type:"info",message:t}),this.warning=(t,e)=>this.create({...e,type:"warning",message:t}),this.loading=(t,e)=>this.create({...e,type:"loading",message:t}),this.promise=(t,e)=>{if(!e)return;let n;e.loading!==void 0&&(n=this.create({...e,promise:t,type:"loading",message:e.loading,description:typeof e.description!="function"?e.description:void 0}));let r=t instanceof Promise?t:t(),s=n!==void 0;return r.then(async i=>{if($U(i)&&!i.ok){s=!1;let o=typeof e.error=="function"?await e.error(`HTTP error! status: ${i.status}`):e.error,a=typeof e.description=="function"?await e.description(`HTTP error! status: ${i.status}`):e.description;this.create({id:n,type:"error",message:o,description:a})}else if(e.success!==void 0){s=!1;let o=typeof e.success=="function"?await e.success(i):e.success,a=typeof e.description=="function"?await e.description(i):e.description;this.create({id:n,type:"success",message:o,description:a})}}).catch(async i=>{if(e.error!==void 0){s=!1;let o=typeof e.error=="function"?await e.error(i):e.error,a=typeof e.description=="function"?await e.description(i):e.description;this.create({id:n,type:"error",message:o,description:a})}}).finally(()=>{var i;s&&(this.dismiss(n),n=void 0),(i=e.finally)==null||i.call(e)}),n},this.custom=(t,e)=>{let n=(e==null?void 0:e.id)||zv++;return this.create({jsx:t(n),id:n,...e}),n},this.subscribers=[],this.toasts=[]}},Kn=new qU,GU=(t,e)=>{let n=(e==null?void 0:e.id)||zv++;return Kn.addToast({title:t,...e,id:n}),n},$U=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",zU=GU,WU=()=>Kn.toasts;Object.assign(zU,{success:Kn.success,info:Kn.info,warning:Kn.warning,error:Kn.error,custom:Kn.custom,message:Kn.message,promise:Kn.promise,dismiss:Kn.dismiss,loading:Kn.loading},{getHistory:WU});function YU(t,{insertAt:e}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}YU(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999}:where([data-sonner-toaster][data-x-position="right"]){right:max(var(--offset),env(safe-area-inset-right))}:where([data-sonner-toaster][data-x-position="left"]){left:max(var(--offset),env(safe-area-inset-left))}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:max(var(--offset),env(safe-area-inset-top))}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:max(var(--offset),env(safe-area-inset-bottom))}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;background:var(--gray1);color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:0;right:0;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount, 0px));transition:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation:swipe-out .2s ease-out forwards}@keyframes swipe-out{0%{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount)));opacity:1}to{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount) + var(--lift) * -100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;--mobile-offset: 16px;right:var(--mobile-offset);left:var(--mobile-offset);width:100%}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset)}[data-sonner-toaster][data-y-position=bottom]{bottom:20px}[data-sonner-toaster][data-y-position=top]{top:20px}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset);right:var(--mobile-offset);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Uh(t){return t.label!==void 0}var KU=3,QU="32px",HU=4e3,JU=356,XU=14,ZU=20,e8=200;function t8(...t){return t.filter(Boolean).join(" ")}var n8=t=>{var e,n,r,s,i,o,a,l,c,d;let{invert:p,toast:h,unstyled:v,interacting:E,setHeights:y,visibleToasts:A,heights:x,index:w,toasts:_,expanded:R,removeToast:O,defaultRichColors:j,closeButton:I,style:S,cancelButtonStyle:k,actionButtonStyle:M,className:V="",descriptionClassName:F="",duration:D,position:re,gap:se,loadingIcon:ne,expandByDefault:pe,classNames:q,icons:W,closeButtonAriaLabel:ie="Close toast",pauseWhenPageIsHidden:ee,cn:ae}=t,[ce,Re]=K.useState(!1),[ke,Ee]=K.useState(!1),[te,ge]=K.useState(!1),[we,xe]=K.useState(!1),[Ae,_e]=K.useState(0),[de,ve]=K.useState(0),ht=K.useRef(null),st=K.useRef(null),Pt=w===0,Je=w+1<=A,ft=h.type,an=h.dismissible!==!1,Er=h.className||"",fs=h.descriptionClassName||"",or=K.useMemo(()=>x.findIndex(be=>be.toastId===h.id)||0,[x,h.id]),ps=K.useMemo(()=>{var be;return(be=h.closeButton)!=null?be:I},[h.closeButton,I]),xo=K.useMemo(()=>h.duration||D||HU,[h.duration,D]),_t=K.useRef(0),pt=K.useRef(0),ms=K.useRef(0),xr=K.useRef(null),[Co,Js]=re.split("-"),ar=K.useMemo(()=>x.reduce((be,Be,Qe)=>Qe>=or?be:be+Be.height,0),[x,or]),Cr=UU(),_r=h.invert||p,En=ft==="loading";pt.current=K.useMemo(()=>or*se+ar,[or,ar]),K.useEffect(()=>{Re(!0)},[]),K.useLayoutEffect(()=>{if(!ce)return;let be=st.current,Be=be.style.height;be.style.height="auto";let Qe=be.getBoundingClientRect().height;be.style.height=Be,ve(Qe),y(qt=>qt.find(ln=>ln.toastId===h.id)?qt.map(ln=>ln.toastId===h.id?{...ln,height:Qe}:ln):[{toastId:h.id,height:Qe,position:h.position},...qt])},[ce,h.title,h.description,y,h.id]);let xn=K.useCallback(()=>{Ee(!0),_e(pt.current),y(be=>be.filter(Be=>Be.toastId!==h.id)),setTimeout(()=>{O(h)},e8)},[h,O,y,pt]);K.useEffect(()=>{if(h.promise&&ft==="loading"||h.duration===1/0||h.type==="loading")return;let be,Be=xo;return R||E||ee&&Cr?(()=>{if(ms.current<_t.current){let Qe=new Date().getTime()-_t.current;Be=Be-Qe}ms.current=new Date().getTime()})():Be!==1/0&&(_t.current=new Date().getTime(),be=setTimeout(()=>{var Qe;(Qe=h.onAutoClose)==null||Qe.call(h,h),xn()},Be)),()=>clearTimeout(be)},[R,E,pe,h,xo,xn,h.promise,ft,ee,Cr]),K.useEffect(()=>{let be=st.current;if(be){let Be=be.getBoundingClientRect().height;return ve(Be),y(Qe=>[{toastId:h.id,height:Be,position:h.position},...Qe]),()=>y(Qe=>Qe.filter(qt=>qt.toastId!==h.id))}},[y,h.id]),K.useEffect(()=>{h.delete&&xn()},[xn,h.delete]);function pc(){return W!=null&&W.loading?K.createElement("div",{className:"sonner-loader","data-visible":ft==="loading"},W.loading):ne?K.createElement("div",{className:"sonner-loader","data-visible":ft==="loading"},ne):K.createElement(LU,{visible:ft==="loading"})}return K.createElement("li",{"aria-live":h.important?"assertive":"polite","aria-atomic":"true",role:"status",tabIndex:0,ref:st,className:ae(V,Er,q==null?void 0:q.toast,(e=h==null?void 0:h.classNames)==null?void 0:e.toast,q==null?void 0:q.default,q==null?void 0:q[ft],(n=h==null?void 0:h.classNames)==null?void 0:n[ft]),"data-sonner-toast":"","data-rich-colors":(r=h.richColors)!=null?r:j,"data-styled":!(h.jsx||h.unstyled||v),"data-mounted":ce,"data-promise":!!h.promise,"data-removed":ke,"data-visible":Je,"data-y-position":Co,"data-x-position":Js,"data-index":w,"data-front":Pt,"data-swiping":te,"data-dismissible":an,"data-type":ft,"data-invert":_r,"data-swipe-out":we,"data-expanded":!!(R||pe&&ce),style:{"--index":w,"--toasts-before":w,"--z-index":_.length-w,"--offset":`${ke?Ae:pt.current}px`,"--initial-height":pe?"auto":`${de}px`,...S,...h.style},onPointerDown:be=>{En||!an||(ht.current=new Date,_e(pt.current),be.target.setPointerCapture(be.pointerId),be.target.tagName!=="BUTTON"&&(ge(!0),xr.current={x:be.clientX,y:be.clientY}))},onPointerUp:()=>{var be,Be,Qe,qt;if(we||!an)return;xr.current=null;let ln=Number(((be=st.current)==null?void 0:be.style.getPropertyValue("--swipe-amount").replace("px",""))||0),Tr=new Date().getTime()-((Be=ht.current)==null?void 0:Be.getTime()),lt=Math.abs(ln)/Tr;if(Math.abs(ln)>=ZU||lt>.11){_e(pt.current),(Qe=h.onDismiss)==null||Qe.call(h,h),xn(),xe(!0);return}(qt=st.current)==null||qt.style.setProperty("--swipe-amount","0px"),ge(!1)},onPointerMove:be=>{var Be;if(!xr.current||!an)return;let Qe=be.clientY-xr.current.y,qt=be.clientX-xr.current.x,ln=(Co==="top"?Math.min:Math.max)(0,Qe),Tr=be.pointerType==="touch"?10:2;Math.abs(ln)>Tr?(Be=st.current)==null||Be.style.setProperty("--swipe-amount",`${Qe}px`):Math.abs(qt)>Tr&&(xr.current=null)}},ps&&!h.jsx?K.createElement("button",{"aria-label":ie,"data-disabled":En,"data-close-button":!0,onClick:En||!an?()=>{}:()=>{var be;xn(),(be=h.onDismiss)==null||be.call(h,h)},className:ae(q==null?void 0:q.closeButton,(s=h==null?void 0:h.classNames)==null?void 0:s.closeButton)},K.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},K.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),K.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"}))):null,h.jsx||K.isValidElement(h.title)?h.jsx||h.title:K.createElement(K.Fragment,null,ft||h.icon||h.promise?K.createElement("div",{"data-icon":"",className:ae(q==null?void 0:q.icon,(i=h==null?void 0:h.classNames)==null?void 0:i.icon)},h.promise||h.type==="loading"&&!h.icon?h.icon||pc():null,h.type!=="loading"?h.icon||(W==null?void 0:W[ft])||DU(ft):null):null,K.createElement("div",{"data-content":"",className:ae(q==null?void 0:q.content,(o=h==null?void 0:h.classNames)==null?void 0:o.content)},K.createElement("div",{"data-title":"",className:ae(q==null?void 0:q.title,(a=h==null?void 0:h.classNames)==null?void 0:a.title)},h.title),h.description?K.createElement("div",{"data-description":"",className:ae(F,fs,q==null?void 0:q.description,(l=h==null?void 0:h.classNames)==null?void 0:l.description)},h.description):null),K.isValidElement(h.cancel)?h.cancel:h.cancel&&Uh(h.cancel)?K.createElement("button",{"data-button":!0,"data-cancel":!0,style:h.cancelButtonStyle||k,onClick:be=>{var Be,Qe;Uh(h.cancel)&&an&&((Qe=(Be=h.cancel).onClick)==null||Qe.call(Be,be),xn())},className:ae(q==null?void 0:q.cancelButton,(c=h==null?void 0:h.classNames)==null?void 0:c.cancelButton)},h.cancel.label):null,K.isValidElement(h.action)?h.action:h.action&&Uh(h.action)?K.createElement("button",{"data-button":!0,"data-action":!0,style:h.actionButtonStyle||M,onClick:be=>{var Be,Qe;Uh(h.action)&&(be.defaultPrevented||((Qe=(Be=h.action).onClick)==null||Qe.call(Be,be),xn()))},className:ae(q==null?void 0:q.actionButton,(d=h==null?void 0:h.classNames)==null?void 0:d.actionButton)},h.action.label):null))};function v_(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}var r8=t=>{let{invert:e,position:n="bottom-right",hotkey:r=["altKey","KeyT"],expand:s,closeButton:i,className:o,offset:a,theme:l="light",richColors:c,duration:d,style:p,visibleToasts:h=KU,toastOptions:v,dir:E=v_(),gap:y=XU,loadingIcon:A,icons:x,containerAriaLabel:w="Notifications",pauseWhenPageIsHidden:_,cn:R=t8}=t,[O,j]=K.useState([]),I=K.useMemo(()=>Array.from(new Set([n].concat(O.filter(ee=>ee.position).map(ee=>ee.position)))),[O,n]),[S,k]=K.useState([]),[M,V]=K.useState(!1),[F,D]=K.useState(!1),[re,se]=K.useState(l!=="system"?l:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),ne=K.useRef(null),pe=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),q=K.useRef(null),W=K.useRef(!1),ie=K.useCallback(ee=>{var ae;(ae=O.find(ce=>ce.id===ee.id))!=null&&ae.delete||Kn.dismiss(ee.id),j(ce=>ce.filter(({id:Re})=>Re!==ee.id))},[O]);return K.useEffect(()=>Kn.subscribe(ee=>{if(ee.dismiss){j(ae=>ae.map(ce=>ce.id===ee.id?{...ce,delete:!0}:ce));return}setTimeout(()=>{jb.flushSync(()=>{j(ae=>{let ce=ae.findIndex(Re=>Re.id===ee.id);return ce!==-1?[...ae.slice(0,ce),{...ae[ce],...ee},...ae.slice(ce+1)]:[ee,...ae]})})})}),[]),K.useEffect(()=>{if(l!=="system"){se(l);return}l==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?se("dark"):se("light")),typeof window<"u"&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",({matches:ee})=>{se(ee?"dark":"light")})},[l]),K.useEffect(()=>{O.length<=1&&V(!1)},[O]),K.useEffect(()=>{let ee=ae=>{var ce,Re;r.every(ke=>ae[ke]||ae.code===ke)&&(V(!0),(ce=ne.current)==null||ce.focus()),ae.code==="Escape"&&(document.activeElement===ne.current||(Re=ne.current)!=null&&Re.contains(document.activeElement))&&V(!1)};return document.addEventListener("keydown",ee),()=>document.removeEventListener("keydown",ee)},[r]),K.useEffect(()=>{if(ne.current)return()=>{q.current&&(q.current.focus({preventScroll:!0}),q.current=null,W.current=!1)}},[ne.current]),O.length?K.createElement("section",{"aria-label":`${w} ${pe}`,tabIndex:-1},I.map((ee,ae)=>{var ce;let[Re,ke]=ee.split("-");return K.createElement("ol",{key:ee,dir:E==="auto"?v_():E,tabIndex:-1,ref:ne,className:o,"data-sonner-toaster":!0,"data-theme":re,"data-y-position":Re,"data-x-position":ke,style:{"--front-toast-height":`${((ce=S[0])==null?void 0:ce.height)||0}px`,"--offset":typeof a=="number"?`${a}px`:a||QU,"--width":`${JU}px`,"--gap":`${y}px`,...p},onBlur:Ee=>{W.current&&!Ee.currentTarget.contains(Ee.relatedTarget)&&(W.current=!1,q.current&&(q.current.focus({preventScroll:!0}),q.current=null))},onFocus:Ee=>{Ee.target instanceof HTMLElement&&Ee.target.dataset.dismissible==="false"||W.current||(W.current=!0,q.current=Ee.relatedTarget)},onMouseEnter:()=>V(!0),onMouseMove:()=>V(!0),onMouseLeave:()=>{F||V(!1)},onPointerDown:Ee=>{Ee.target instanceof HTMLElement&&Ee.target.dataset.dismissible==="false"||D(!0)},onPointerUp:()=>D(!1)},O.filter(Ee=>!Ee.position&&ae===0||Ee.position===ee).map((Ee,te)=>{var ge,we;return K.createElement(n8,{key:Ee.id,icons:x,index:te,toast:Ee,defaultRichColors:c,duration:(ge=v==null?void 0:v.duration)!=null?ge:d,className:v==null?void 0:v.className,descriptionClassName:v==null?void 0:v.descriptionClassName,invert:e,visibleToasts:h,closeButton:(we=v==null?void 0:v.closeButton)!=null?we:i,interacting:F,position:ee,style:v==null?void 0:v.style,unstyled:v==null?void 0:v.unstyled,classNames:v==null?void 0:v.classNames,cancelButtonStyle:v==null?void 0:v.cancelButtonStyle,actionButtonStyle:v==null?void 0:v.actionButtonStyle,removeToast:ie,toasts:O.filter(xe=>xe.position==Ee.position),heights:S.filter(xe=>xe.position==Ee.position),setHeights:k,expandByDefault:s,gap:y,loadingIcon:A,expanded:M,pauseWhenPageIsHidden:_,cn:R})}))})):null};const s8=({...t})=>{const{theme:e="system"}=MU();return f.jsx(r8,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})};var i8=LT.useId||(()=>{}),o8=0;function Ko(t){const[e,n]=g.useState(i8());return Qt(()=>{n(r=>r??String(o8++))},[t]),e?`radix-${e}`:""}const a8=["top","right","bottom","left"],ro=Math.min,Hn=Math.max,Cp=Math.round,qh=Math.floor,so=t=>({x:t,y:t}),l8={left:"right",right:"left",bottom:"top",top:"bottom"},c8={start:"end",end:"start"};function Wv(t,e,n){return Hn(t,ro(e,n))}function zs(t,e){return typeof t=="function"?t(e):t}function Ws(t){return t.split("-")[0]}function lc(t){return t.split("-")[1]}function RE(t){return t==="x"?"y":"x"}function PE(t){return t==="y"?"height":"width"}function io(t){return["top","bottom"].includes(Ws(t))?"y":"x"}function NE(t){return RE(io(t))}function u8(t,e,n){n===void 0&&(n=!1);const r=lc(t),s=NE(t),i=PE(s);let o=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(o=_p(o)),[o,_p(o)]}function d8(t){const e=_p(t);return[Yv(t),e,Yv(e)]}function Yv(t){return t.replace(/start|end/g,e=>c8[e])}function h8(t,e,n){const r=["left","right"],s=["right","left"],i=["top","bottom"],o=["bottom","top"];switch(t){case"top":case"bottom":return n?e?s:r:e?r:s;case"left":case"right":return e?i:o;default:return[]}}function f8(t,e,n,r){const s=lc(t);let i=h8(Ws(t),n==="start",r);return s&&(i=i.map(o=>o+"-"+s),e&&(i=i.concat(i.map(Yv)))),i}function _p(t){return t.replace(/left|right|bottom|top/g,e=>l8[e])}function p8(t){return{top:0,right:0,bottom:0,left:0,...t}}function sP(t){return typeof t!="number"?p8(t):{top:t,right:t,bottom:t,left:t}}function Tp(t){const{x:e,y:n,width:r,height:s}=t;return{width:r,height:s,top:n,left:e,right:e+r,bottom:n+s,x:e,y:n}}function w_(t,e,n){let{reference:r,floating:s}=t;const i=io(e),o=NE(e),a=PE(o),l=Ws(e),c=i==="y",d=r.x+r.width/2-s.width/2,p=r.y+r.height/2-s.height/2,h=r[a]/2-s[a]/2;let v;switch(l){case"top":v={x:d,y:r.y-s.height};break;case"bottom":v={x:d,y:r.y+r.height};break;case"right":v={x:r.x+r.width,y:p};break;case"left":v={x:r.x-s.width,y:p};break;default:v={x:r.x,y:r.y}}switch(lc(e)){case"start":v[o]-=h*(n&&c?-1:1);break;case"end":v[o]+=h*(n&&c?-1:1);break}return v}const m8=async(t,e,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:i=[],platform:o}=n,a=i.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let c=await o.getElementRects({reference:t,floating:e,strategy:s}),{x:d,y:p}=w_(c,r,l),h=r,v={},E=0;for(let y=0;y<a.length;y++){const{name:A,fn:x}=a[y],{x:w,y:_,data:R,reset:O}=await x({x:d,y:p,initialPlacement:r,placement:h,strategy:s,middlewareData:v,rects:c,platform:o,elements:{reference:t,floating:e}});d=w??d,p=_??p,v={...v,[A]:{...v[A],...R}},O&&E<=50&&(E++,typeof O=="object"&&(O.placement&&(h=O.placement),O.rects&&(c=O.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:s}):O.rects),{x:d,y:p}=w_(c,h,l)),y=-1)}return{x:d,y:p,placement:h,strategy:s,middlewareData:v}};async function Wu(t,e){var n;e===void 0&&(e={});const{x:r,y:s,platform:i,rects:o,elements:a,strategy:l}=t,{boundary:c="clippingAncestors",rootBoundary:d="viewport",elementContext:p="floating",altBoundary:h=!1,padding:v=0}=zs(e,t),E=sP(v),A=a[h?p==="floating"?"reference":"floating":p],x=Tp(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(A)))==null||n?A:A.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(a.floating)),boundary:c,rootBoundary:d,strategy:l})),w=p==="floating"?{x:r,y:s,width:o.floating.width,height:o.floating.height}:o.reference,_=await(i.getOffsetParent==null?void 0:i.getOffsetParent(a.floating)),R=await(i.isElement==null?void 0:i.isElement(_))?await(i.getScale==null?void 0:i.getScale(_))||{x:1,y:1}:{x:1,y:1},O=Tp(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:w,offsetParent:_,strategy:l}):w);return{top:(x.top-O.top+E.top)/R.y,bottom:(O.bottom-x.bottom+E.bottom)/R.y,left:(x.left-O.left+E.left)/R.x,right:(O.right-x.right+E.right)/R.x}}const g8=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:s,rects:i,platform:o,elements:a,middlewareData:l}=e,{element:c,padding:d=0}=zs(t,e)||{};if(c==null)return{};const p=sP(d),h={x:n,y:r},v=NE(s),E=PE(v),y=await o.getDimensions(c),A=v==="y",x=A?"top":"left",w=A?"bottom":"right",_=A?"clientHeight":"clientWidth",R=i.reference[E]+i.reference[v]-h[v]-i.floating[E],O=h[v]-i.reference[v],j=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c));let I=j?j[_]:0;(!I||!await(o.isElement==null?void 0:o.isElement(j)))&&(I=a.floating[_]||i.floating[E]);const S=R/2-O/2,k=I/2-y[E]/2-1,M=ro(p[x],k),V=ro(p[w],k),F=M,D=I-y[E]-V,re=I/2-y[E]/2+S,se=Wv(F,re,D),ne=!l.arrow&&lc(s)!=null&&re!==se&&i.reference[E]/2-(re<F?M:V)-y[E]/2<0,pe=ne?re<F?re-F:re-D:0;return{[v]:h[v]+pe,data:{[v]:se,centerOffset:re-se-pe,...ne&&{alignmentOffset:pe}},reset:ne}}}),y8=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:s,middlewareData:i,rects:o,initialPlacement:a,platform:l,elements:c}=e,{mainAxis:d=!0,crossAxis:p=!0,fallbackPlacements:h,fallbackStrategy:v="bestFit",fallbackAxisSideDirection:E="none",flipAlignment:y=!0,...A}=zs(t,e);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const x=Ws(s),w=io(a),_=Ws(a)===a,R=await(l.isRTL==null?void 0:l.isRTL(c.floating)),O=h||(_||!y?[_p(a)]:d8(a)),j=E!=="none";!h&&j&&O.push(...f8(a,y,E,R));const I=[a,...O],S=await Wu(e,A),k=[];let M=((r=i.flip)==null?void 0:r.overflows)||[];if(d&&k.push(S[x]),p){const re=u8(s,o,R);k.push(S[re[0]],S[re[1]])}if(M=[...M,{placement:s,overflows:k}],!k.every(re=>re<=0)){var V,F;const re=(((V=i.flip)==null?void 0:V.index)||0)+1,se=I[re];if(se)return{data:{index:re,overflows:M},reset:{placement:se}};let ne=(F=M.filter(pe=>pe.overflows[0]<=0).sort((pe,q)=>pe.overflows[1]-q.overflows[1])[0])==null?void 0:F.placement;if(!ne)switch(v){case"bestFit":{var D;const pe=(D=M.filter(q=>{if(j){const W=io(q.placement);return W===w||W==="y"}return!0}).map(q=>[q.placement,q.overflows.filter(W=>W>0).reduce((W,ie)=>W+ie,0)]).sort((q,W)=>q[1]-W[1])[0])==null?void 0:D[0];pe&&(ne=pe);break}case"initialPlacement":ne=a;break}if(s!==ne)return{reset:{placement:ne}}}return{}}}};function E_(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function x_(t){return a8.some(e=>t[e]>=0)}const v8=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...s}=zs(t,e);switch(r){case"referenceHidden":{const i=await Wu(e,{...s,elementContext:"reference"}),o=E_(i,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:x_(o)}}}case"escaped":{const i=await Wu(e,{...s,altBoundary:!0}),o=E_(i,n.floating);return{data:{escapedOffsets:o,escaped:x_(o)}}}default:return{}}}}};async function w8(t,e){const{placement:n,platform:r,elements:s}=t,i=await(r.isRTL==null?void 0:r.isRTL(s.floating)),o=Ws(n),a=lc(n),l=io(n)==="y",c=["left","top"].includes(o)?-1:1,d=i&&l?-1:1,p=zs(e,t);let{mainAxis:h,crossAxis:v,alignmentAxis:E}=typeof p=="number"?{mainAxis:p,crossAxis:0,alignmentAxis:null}:{mainAxis:p.mainAxis||0,crossAxis:p.crossAxis||0,alignmentAxis:p.alignmentAxis};return a&&typeof E=="number"&&(v=a==="end"?E*-1:E),l?{x:v*d,y:h*c}:{x:h*c,y:v*d}}const E8=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:s,y:i,placement:o,middlewareData:a}=e,l=await w8(e,t);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:s+l.x,y:i+l.y,data:{...l,placement:o}}}}},x8=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:s}=e,{mainAxis:i=!0,crossAxis:o=!1,limiter:a={fn:A=>{let{x,y:w}=A;return{x,y:w}}},...l}=zs(t,e),c={x:n,y:r},d=await Wu(e,l),p=io(Ws(s)),h=RE(p);let v=c[h],E=c[p];if(i){const A=h==="y"?"top":"left",x=h==="y"?"bottom":"right",w=v+d[A],_=v-d[x];v=Wv(w,v,_)}if(o){const A=p==="y"?"top":"left",x=p==="y"?"bottom":"right",w=E+d[A],_=E-d[x];E=Wv(w,E,_)}const y=a.fn({...e,[h]:v,[p]:E});return{...y,data:{x:y.x-n,y:y.y-r,enabled:{[h]:i,[p]:o}}}}}},C8=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:s,rects:i,middlewareData:o}=e,{offset:a=0,mainAxis:l=!0,crossAxis:c=!0}=zs(t,e),d={x:n,y:r},p=io(s),h=RE(p);let v=d[h],E=d[p];const y=zs(a,e),A=typeof y=="number"?{mainAxis:y,crossAxis:0}:{mainAxis:0,crossAxis:0,...y};if(l){const _=h==="y"?"height":"width",R=i.reference[h]-i.floating[_]+A.mainAxis,O=i.reference[h]+i.reference[_]-A.mainAxis;v<R?v=R:v>O&&(v=O)}if(c){var x,w;const _=h==="y"?"width":"height",R=["top","left"].includes(Ws(s)),O=i.reference[p]-i.floating[_]+(R&&((x=o.offset)==null?void 0:x[p])||0)+(R?0:A.crossAxis),j=i.reference[p]+i.reference[_]+(R?0:((w=o.offset)==null?void 0:w[p])||0)-(R?A.crossAxis:0);E<O?E=O:E>j&&(E=j)}return{[h]:v,[p]:E}}}},_8=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:s,rects:i,platform:o,elements:a}=e,{apply:l=()=>{},...c}=zs(t,e),d=await Wu(e,c),p=Ws(s),h=lc(s),v=io(s)==="y",{width:E,height:y}=i.floating;let A,x;p==="top"||p==="bottom"?(A=p,x=h===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(x=p,A=h==="end"?"top":"bottom");const w=y-d.top-d.bottom,_=E-d.left-d.right,R=ro(y-d[A],w),O=ro(E-d[x],_),j=!e.middlewareData.shift;let I=R,S=O;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(S=_),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(I=w),j&&!h){const M=Hn(d.left,0),V=Hn(d.right,0),F=Hn(d.top,0),D=Hn(d.bottom,0);v?S=E-2*(M!==0||V!==0?M+V:Hn(d.left,d.right)):I=y-2*(F!==0||D!==0?F+D:Hn(d.top,d.bottom))}await l({...e,availableWidth:S,availableHeight:I});const k=await o.getDimensions(a.floating);return E!==k.width||y!==k.height?{reset:{rects:!0}}:{}}}};function bm(){return typeof window<"u"}function cc(t){return iP(t)?(t.nodeName||"").toLowerCase():"#document"}function tr(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function us(t){var e;return(e=(iP(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function iP(t){return bm()?t instanceof Node||t instanceof tr(t).Node:!1}function qr(t){return bm()?t instanceof Element||t instanceof tr(t).Element:!1}function cs(t){return bm()?t instanceof HTMLElement||t instanceof tr(t).HTMLElement:!1}function C_(t){return!bm()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof tr(t).ShadowRoot}function Ad(t){const{overflow:e,overflowX:n,overflowY:r,display:s}=Gr(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(s)}function T8(t){return["table","td","th"].includes(cc(t))}function Sm(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function kE(t){const e=ME(),n=qr(t)?Gr(t):t;return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function A8(t){let e=oo(t);for(;cs(e)&&!ql(e);){if(kE(e))return e;if(Sm(e))return null;e=oo(e)}return null}function ME(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function ql(t){return["html","body","#document"].includes(cc(t))}function Gr(t){return tr(t).getComputedStyle(t)}function Im(t){return qr(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function oo(t){if(cc(t)==="html")return t;const e=t.assignedSlot||t.parentNode||C_(t)&&t.host||us(t);return C_(e)?e.host:e}function oP(t){const e=oo(t);return ql(e)?t.ownerDocument?t.ownerDocument.body:t.body:cs(e)&&Ad(e)?e:oP(e)}function Yu(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const s=oP(t),i=s===((r=t.ownerDocument)==null?void 0:r.body),o=tr(s);if(i){const a=Kv(o);return e.concat(o,o.visualViewport||[],Ad(s)?s:[],a&&n?Yu(a):[])}return e.concat(s,Yu(s,[],n))}function Kv(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function aP(t){const e=Gr(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=cs(t),i=s?t.offsetWidth:n,o=s?t.offsetHeight:r,a=Cp(n)!==i||Cp(r)!==o;return a&&(n=i,r=o),{width:n,height:r,$:a}}function DE(t){return qr(t)?t:t.contextElement}function yl(t){const e=DE(t);if(!cs(e))return so(1);const n=e.getBoundingClientRect(),{width:r,height:s,$:i}=aP(e);let o=(i?Cp(n.width):n.width)/r,a=(i?Cp(n.height):n.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const b8=so(0);function lP(t){const e=tr(t);return!ME()||!e.visualViewport?b8:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function S8(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==tr(t)?!1:e}function ca(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const s=t.getBoundingClientRect(),i=DE(t);let o=so(1);e&&(r?qr(r)&&(o=yl(r)):o=yl(t));const a=S8(i,n,r)?lP(i):so(0);let l=(s.left+a.x)/o.x,c=(s.top+a.y)/o.y,d=s.width/o.x,p=s.height/o.y;if(i){const h=tr(i),v=r&&qr(r)?tr(r):r;let E=h,y=Kv(E);for(;y&&r&&v!==E;){const A=yl(y),x=y.getBoundingClientRect(),w=Gr(y),_=x.left+(y.clientLeft+parseFloat(w.paddingLeft))*A.x,R=x.top+(y.clientTop+parseFloat(w.paddingTop))*A.y;l*=A.x,c*=A.y,d*=A.x,p*=A.y,l+=_,c+=R,E=tr(y),y=Kv(E)}}return Tp({width:d,height:p,x:l,y:c})}function I8(t){let{elements:e,rect:n,offsetParent:r,strategy:s}=t;const i=s==="fixed",o=us(r),a=e?Sm(e.floating):!1;if(r===o||a&&i)return n;let l={scrollLeft:0,scrollTop:0},c=so(1);const d=so(0),p=cs(r);if((p||!p&&!i)&&((cc(r)!=="body"||Ad(o))&&(l=Im(r)),cs(r))){const h=ca(r);c=yl(r),d.x=h.x+r.clientLeft,d.y=h.y+r.clientTop}return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+d.x,y:n.y*c.y-l.scrollTop*c.y+d.y}}function R8(t){return Array.from(t.getClientRects())}function Qv(t,e){const n=Im(t).scrollLeft;return e?e.left+n:ca(us(t)).left+n}function P8(t){const e=us(t),n=Im(t),r=t.ownerDocument.body,s=Hn(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),i=Hn(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+Qv(t);const a=-n.scrollTop;return Gr(r).direction==="rtl"&&(o+=Hn(e.clientWidth,r.clientWidth)-s),{width:s,height:i,x:o,y:a}}function N8(t,e){const n=tr(t),r=us(t),s=n.visualViewport;let i=r.clientWidth,o=r.clientHeight,a=0,l=0;if(s){i=s.width,o=s.height;const c=ME();(!c||c&&e==="fixed")&&(a=s.offsetLeft,l=s.offsetTop)}return{width:i,height:o,x:a,y:l}}function k8(t,e){const n=ca(t,!0,e==="fixed"),r=n.top+t.clientTop,s=n.left+t.clientLeft,i=cs(t)?yl(t):so(1),o=t.clientWidth*i.x,a=t.clientHeight*i.y,l=s*i.x,c=r*i.y;return{width:o,height:a,x:l,y:c}}function __(t,e,n){let r;if(e==="viewport")r=N8(t,n);else if(e==="document")r=P8(us(t));else if(qr(e))r=k8(e,n);else{const s=lP(t);r={...e,x:e.x-s.x,y:e.y-s.y}}return Tp(r)}function cP(t,e){const n=oo(t);return n===e||!qr(n)||ql(n)?!1:Gr(n).position==="fixed"||cP(n,e)}function M8(t,e){const n=e.get(t);if(n)return n;let r=Yu(t,[],!1).filter(a=>qr(a)&&cc(a)!=="body"),s=null;const i=Gr(t).position==="fixed";let o=i?oo(t):t;for(;qr(o)&&!ql(o);){const a=Gr(o),l=kE(o);!l&&a.position==="fixed"&&(s=null),(i?!l&&!s:!l&&a.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||Ad(o)&&!l&&cP(t,o))?r=r.filter(d=>d!==o):s=a,o=oo(o)}return e.set(t,r),r}function D8(t){let{element:e,boundary:n,rootBoundary:r,strategy:s}=t;const o=[...n==="clippingAncestors"?Sm(e)?[]:M8(e,this._c):[].concat(n),r],a=o[0],l=o.reduce((c,d)=>{const p=__(e,d,s);return c.top=Hn(p.top,c.top),c.right=ro(p.right,c.right),c.bottom=ro(p.bottom,c.bottom),c.left=Hn(p.left,c.left),c},__(e,a,s));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function O8(t){const{width:e,height:n}=aP(t);return{width:e,height:n}}function L8(t,e,n){const r=cs(e),s=us(e),i=n==="fixed",o=ca(t,!0,i,e);let a={scrollLeft:0,scrollTop:0};const l=so(0);if(r||!r&&!i)if((cc(e)!=="body"||Ad(s))&&(a=Im(e)),r){const v=ca(e,!0,i,e);l.x=v.x+e.clientLeft,l.y=v.y+e.clientTop}else s&&(l.x=Qv(s));let c=0,d=0;if(s&&!r&&!i){const v=s.getBoundingClientRect();d=v.top+a.scrollTop,c=v.left+a.scrollLeft-Qv(s,v)}const p=o.left+a.scrollLeft-l.x-c,h=o.top+a.scrollTop-l.y-d;return{x:p,y:h,width:o.width,height:o.height}}function Zg(t){return Gr(t).position==="static"}function T_(t,e){if(!cs(t)||Gr(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return us(t)===n&&(n=n.ownerDocument.body),n}function uP(t,e){const n=tr(t);if(Sm(t))return n;if(!cs(t)){let s=oo(t);for(;s&&!ql(s);){if(qr(s)&&!Zg(s))return s;s=oo(s)}return n}let r=T_(t,e);for(;r&&T8(r)&&Zg(r);)r=T_(r,e);return r&&ql(r)&&Zg(r)&&!kE(r)?n:r||A8(t)||n}const V8=async function(t){const e=this.getOffsetParent||uP,n=this.getDimensions,r=await n(t.floating);return{reference:L8(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function F8(t){return Gr(t).direction==="rtl"}const j8={convertOffsetParentRelativeRectToViewportRelativeRect:I8,getDocumentElement:us,getClippingRect:D8,getOffsetParent:uP,getElementRects:V8,getClientRects:R8,getDimensions:O8,getScale:yl,isElement:qr,isRTL:F8};function B8(t,e){let n=null,r;const s=us(t);function i(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),i();const{left:c,top:d,width:p,height:h}=t.getBoundingClientRect();if(a||e(),!p||!h)return;const v=qh(d),E=qh(s.clientWidth-(c+p)),y=qh(s.clientHeight-(d+h)),A=qh(c),w={rootMargin:-v+"px "+-E+"px "+-y+"px "+-A+"px",threshold:Hn(0,ro(1,l))||1};let _=!0;function R(O){const j=O[0].intersectionRatio;if(j!==l){if(!_)return o();j?o(!1,j):r=setTimeout(()=>{o(!1,1e-7)},1e3)}_=!1}try{n=new IntersectionObserver(R,{...w,root:s.ownerDocument})}catch{n=new IntersectionObserver(R,w)}n.observe(t)}return o(!0),i}function U8(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=DE(t),d=s||i?[...c?Yu(c):[],...Yu(e)]:[];d.forEach(x=>{s&&x.addEventListener("scroll",n,{passive:!0}),i&&x.addEventListener("resize",n)});const p=c&&a?B8(c,n):null;let h=-1,v=null;o&&(v=new ResizeObserver(x=>{let[w]=x;w&&w.target===c&&v&&(v.unobserve(e),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var _;(_=v)==null||_.observe(e)})),n()}),c&&!l&&v.observe(c),v.observe(e));let E,y=l?ca(t):null;l&&A();function A(){const x=ca(t);y&&(x.x!==y.x||x.y!==y.y||x.width!==y.width||x.height!==y.height)&&n(),y=x,E=requestAnimationFrame(A)}return n(),()=>{var x;d.forEach(w=>{s&&w.removeEventListener("scroll",n),i&&w.removeEventListener("resize",n)}),p==null||p(),(x=v)==null||x.disconnect(),v=null,l&&cancelAnimationFrame(E)}}const q8=E8,G8=x8,$8=y8,z8=_8,W8=v8,A_=g8,Y8=C8,K8=(t,e,n)=>{const r=new Map,s={platform:j8,...n},i={...s.platform,_c:r};return m8(t,e,{...s,platform:i})};var Cf=typeof document<"u"?g.useLayoutEffect:g.useEffect;function Ap(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!Ap(t[r],e[r]))return!1;return!0}if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=n;r--!==0;){const i=s[r];if(!(i==="_owner"&&t.$$typeof)&&!Ap(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function dP(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function b_(t,e){const n=dP(t);return Math.round(e*n)/n}function ey(t){const e=g.useRef(t);return Cf(()=>{e.current=t}),e}function Q8(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:i,floating:o}={},transform:a=!0,whileElementsMounted:l,open:c}=t,[d,p]=g.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[h,v]=g.useState(r);Ap(h,r)||v(r);const[E,y]=g.useState(null),[A,x]=g.useState(null),w=g.useCallback(q=>{q!==j.current&&(j.current=q,y(q))},[]),_=g.useCallback(q=>{q!==I.current&&(I.current=q,x(q))},[]),R=i||E,O=o||A,j=g.useRef(null),I=g.useRef(null),S=g.useRef(d),k=l!=null,M=ey(l),V=ey(s),F=ey(c),D=g.useCallback(()=>{if(!j.current||!I.current)return;const q={placement:e,strategy:n,middleware:h};V.current&&(q.platform=V.current),K8(j.current,I.current,q).then(W=>{const ie={...W,isPositioned:F.current!==!1};re.current&&!Ap(S.current,ie)&&(S.current=ie,fa.flushSync(()=>{p(ie)}))})},[h,e,n,V,F]);Cf(()=>{c===!1&&S.current.isPositioned&&(S.current.isPositioned=!1,p(q=>({...q,isPositioned:!1})))},[c]);const re=g.useRef(!1);Cf(()=>(re.current=!0,()=>{re.current=!1}),[]),Cf(()=>{if(R&&(j.current=R),O&&(I.current=O),R&&O){if(M.current)return M.current(R,O,D);D()}},[R,O,D,M,k]);const se=g.useMemo(()=>({reference:j,floating:I,setReference:w,setFloating:_}),[w,_]),ne=g.useMemo(()=>({reference:R,floating:O}),[R,O]),pe=g.useMemo(()=>{const q={position:n,left:0,top:0};if(!ne.floating)return q;const W=b_(ne.floating,d.x),ie=b_(ne.floating,d.y);return a?{...q,transform:"translate("+W+"px, "+ie+"px)",...dP(ne.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:W,top:ie}},[n,a,ne.floating,d.x,d.y]);return g.useMemo(()=>({...d,update:D,refs:se,elements:ne,floatingStyles:pe}),[d,D,se,ne,pe])}const H8=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:s}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?A_({element:r.current,padding:s}).fn(n):{}:r?A_({element:r,padding:s}).fn(n):{}}}},J8=(t,e)=>({...q8(t),options:[t,e]}),X8=(t,e)=>({...G8(t),options:[t,e]}),Z8=(t,e)=>({...Y8(t),options:[t,e]}),e9=(t,e)=>({...$8(t),options:[t,e]}),t9=(t,e)=>({...z8(t),options:[t,e]}),n9=(t,e)=>({...W8(t),options:[t,e]}),r9=(t,e)=>({...H8(t),options:[t,e]});var s9="Arrow",hP=g.forwardRef((t,e)=>{const{children:n,width:r=10,height:s=5,...i}=t;return f.jsx(Oe.svg,{...i,ref:e,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:f.jsx("polygon",{points:"0,0 30,0 15,10"})})});hP.displayName=s9;var i9=hP;function o9(t,e=[]){let n=[];function r(i,o){const a=g.createContext(o),l=n.length;n=[...n,o];function c(p){const{scope:h,children:v,...E}=p,y=(h==null?void 0:h[t][l])||a,A=g.useMemo(()=>E,Object.values(E));return f.jsx(y.Provider,{value:A,children:v})}function d(p,h){const v=(h==null?void 0:h[t][l])||a,E=g.useContext(v);if(E)return E;if(o!==void 0)return o;throw new Error(`\`${p}\` must be used within \`${i}\``)}return c.displayName=i+"Provider",[c,d]}const s=()=>{const i=n.map(o=>g.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return g.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,a9(s,...e)]}function a9(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const p=l(i)[`__scope${c}`];return{...a,...p}},{});return g.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function l9(t){const[e,n]=g.useState(void 0);return Qt(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,a;if("borderBoxSize"in i){const l=i.borderBoxSize,c=Array.isArray(l)?l[0]:l;o=c.inlineSize,a=c.blockSize}else o=t.offsetWidth,a=t.offsetHeight;n({width:o,height:a})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var OE="Popper",[fP,uc]=o9(OE),[c9,pP]=fP(OE),mP=t=>{const{__scopePopper:e,children:n}=t,[r,s]=g.useState(null);return f.jsx(c9,{scope:e,anchor:r,onAnchorChange:s,children:n})};mP.displayName=OE;var gP="PopperAnchor",yP=g.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...s}=t,i=pP(gP,n),o=g.useRef(null),a=nt(e,o);return g.useEffect(()=>{i.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:f.jsx(Oe.div,{...s,ref:a})});yP.displayName=gP;var LE="PopperContent",[u9,d9]=fP(LE),vP=g.forwardRef((t,e)=>{var te,ge,we,xe,Ae,_e;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:i="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:c=[],collisionPadding:d=0,sticky:p="partial",hideWhenDetached:h=!1,updatePositionStrategy:v="optimized",onPlaced:E,...y}=t,A=pP(LE,n),[x,w]=g.useState(null),_=nt(e,de=>w(de)),[R,O]=g.useState(null),j=l9(R),I=(j==null?void 0:j.width)??0,S=(j==null?void 0:j.height)??0,k=r+(i!=="center"?"-"+i:""),M=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},V=Array.isArray(c)?c:[c],F=V.length>0,D={padding:M,boundary:V.filter(f9),altBoundary:F},{refs:re,floatingStyles:se,placement:ne,isPositioned:pe,middlewareData:q}=Q8({strategy:"fixed",placement:k,whileElementsMounted:(...de)=>U8(...de,{animationFrame:v==="always"}),elements:{reference:A.anchor},middleware:[J8({mainAxis:s+S,alignmentAxis:o}),l&&X8({mainAxis:!0,crossAxis:!1,limiter:p==="partial"?Z8():void 0,...D}),l&&e9({...D}),t9({...D,apply:({elements:de,rects:ve,availableWidth:ht,availableHeight:st})=>{const{width:Pt,height:Je}=ve.reference,ft=de.floating.style;ft.setProperty("--radix-popper-available-width",`${ht}px`),ft.setProperty("--radix-popper-available-height",`${st}px`),ft.setProperty("--radix-popper-anchor-width",`${Pt}px`),ft.setProperty("--radix-popper-anchor-height",`${Je}px`)}}),R&&r9({element:R,padding:a}),p9({arrowWidth:I,arrowHeight:S}),h&&n9({strategy:"referenceHidden",...D})]}),[W,ie]=xP(ne),ee=rn(E);Qt(()=>{pe&&(ee==null||ee())},[pe,ee]);const ae=(te=q.arrow)==null?void 0:te.x,ce=(ge=q.arrow)==null?void 0:ge.y,Re=((we=q.arrow)==null?void 0:we.centerOffset)!==0,[ke,Ee]=g.useState();return Qt(()=>{x&&Ee(window.getComputedStyle(x).zIndex)},[x]),f.jsx("div",{ref:re.setFloating,"data-radix-popper-content-wrapper":"",style:{...se,transform:pe?se.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ke,"--radix-popper-transform-origin":[(xe=q.transformOrigin)==null?void 0:xe.x,(Ae=q.transformOrigin)==null?void 0:Ae.y].join(" "),...((_e=q.hide)==null?void 0:_e.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:f.jsx(u9,{scope:n,placedSide:W,onArrowChange:O,arrowX:ae,arrowY:ce,shouldHideArrow:Re,children:f.jsx(Oe.div,{"data-side":W,"data-align":ie,...y,ref:_,style:{...y.style,animation:pe?void 0:"none"}})})})});vP.displayName=LE;var wP="PopperArrow",h9={top:"bottom",right:"left",bottom:"top",left:"right"},EP=g.forwardRef(function(e,n){const{__scopePopper:r,...s}=e,i=d9(wP,r),o=h9[i.placedSide];return f.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:f.jsx(i9,{...s,ref:n,style:{...s.style,display:"block"}})})});EP.displayName=wP;function f9(t){return t!==null}var p9=t=>({name:"transformOrigin",options:t,fn(e){var A,x,w;const{placement:n,rects:r,middlewareData:s}=e,o=((A=s.arrow)==null?void 0:A.centerOffset)!==0,a=o?0:t.arrowWidth,l=o?0:t.arrowHeight,[c,d]=xP(n),p={start:"0%",center:"50%",end:"100%"}[d],h=(((x=s.arrow)==null?void 0:x.x)??0)+a/2,v=(((w=s.arrow)==null?void 0:w.y)??0)+l/2;let E="",y="";return c==="bottom"?(E=o?p:`${h}px`,y=`${-l}px`):c==="top"?(E=o?p:`${h}px`,y=`${r.floating.height+l}px`):c==="right"?(E=`${-l}px`,y=o?p:`${v}px`):c==="left"&&(E=`${r.floating.width+l}px`,y=o?p:`${v}px`),{data:{x:E,y}}}});function xP(t){const[e,n="center"]=t.split("-");return[e,n]}var CP=mP,VE=yP,FE=vP,jE=EP,[Rm,gK]=Jl("Tooltip",[uc]),BE=uc(),_P="TooltipProvider",m9=700,S_="tooltip.open",[g9,TP]=Rm(_P),AP=t=>{const{__scopeTooltip:e,delayDuration:n=m9,skipDelayDuration:r=300,disableHoverableContent:s=!1,children:i}=t,[o,a]=g.useState(!0),l=g.useRef(!1),c=g.useRef(0);return g.useEffect(()=>{const d=c.current;return()=>window.clearTimeout(d)},[]),f.jsx(g9,{scope:e,isOpenDelayed:o,delayDuration:n,onOpen:g.useCallback(()=>{window.clearTimeout(c.current),a(!1)},[]),onClose:g.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>a(!0),r)},[r]),isPointerInTransitRef:l,onPointerInTransitChange:g.useCallback(d=>{l.current=d},[]),disableHoverableContent:s,children:i})};AP.displayName=_P;var bP="Tooltip",[yK,Pm]=Rm(bP),Hv="TooltipTrigger",y9=g.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=Pm(Hv,n),i=TP(Hv,n),o=BE(n),a=g.useRef(null),l=nt(e,a,s.onTriggerChange),c=g.useRef(!1),d=g.useRef(!1),p=g.useCallback(()=>c.current=!1,[]);return g.useEffect(()=>()=>document.removeEventListener("pointerup",p),[p]),f.jsx(VE,{asChild:!0,...o,children:f.jsx(Oe.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...r,ref:l,onPointerMove:fe(t.onPointerMove,h=>{h.pointerType!=="touch"&&!d.current&&!i.isPointerInTransitRef.current&&(s.onTriggerEnter(),d.current=!0)}),onPointerLeave:fe(t.onPointerLeave,()=>{s.onTriggerLeave(),d.current=!1}),onPointerDown:fe(t.onPointerDown,()=>{c.current=!0,document.addEventListener("pointerup",p,{once:!0})}),onFocus:fe(t.onFocus,()=>{c.current||s.onOpen()}),onBlur:fe(t.onBlur,s.onClose),onClick:fe(t.onClick,s.onClose)})})});y9.displayName=Hv;var v9="TooltipPortal",[vK,w9]=Rm(v9,{forceMount:void 0}),Gl="TooltipContent",SP=g.forwardRef((t,e)=>{const n=w9(Gl,t.__scopeTooltip),{forceMount:r=n.forceMount,side:s="top",...i}=t,o=Pm(Gl,t.__scopeTooltip);return f.jsx(pa,{present:r||o.open,children:o.disableHoverableContent?f.jsx(IP,{side:s,...i,ref:e}):f.jsx(E9,{side:s,...i,ref:e})})}),E9=g.forwardRef((t,e)=>{const n=Pm(Gl,t.__scopeTooltip),r=TP(Gl,t.__scopeTooltip),s=g.useRef(null),i=nt(e,s),[o,a]=g.useState(null),{trigger:l,onClose:c}=n,d=s.current,{onPointerInTransitChange:p}=r,h=g.useCallback(()=>{a(null),p(!1)},[p]),v=g.useCallback((E,y)=>{const A=E.currentTarget,x={x:E.clientX,y:E.clientY},w=T9(x,A.getBoundingClientRect()),_=A9(x,w),R=b9(y.getBoundingClientRect()),O=I9([..._,...R]);a(O),p(!0)},[p]);return g.useEffect(()=>()=>h(),[h]),g.useEffect(()=>{if(l&&d){const E=A=>v(A,d),y=A=>v(A,l);return l.addEventListener("pointerleave",E),d.addEventListener("pointerleave",y),()=>{l.removeEventListener("pointerleave",E),d.removeEventListener("pointerleave",y)}}},[l,d,v,h]),g.useEffect(()=>{if(o){const E=y=>{const A=y.target,x={x:y.clientX,y:y.clientY},w=(l==null?void 0:l.contains(A))||(d==null?void 0:d.contains(A)),_=!S9(x,o);w?h():_&&(h(),c())};return document.addEventListener("pointermove",E),()=>document.removeEventListener("pointermove",E)}},[l,d,o,c,h]),f.jsx(IP,{...t,ref:i})}),[x9,C9]=Rm(bP,{isInside:!1}),IP=g.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":s,onEscapeKeyDown:i,onPointerDownOutside:o,...a}=t,l=Pm(Gl,n),c=BE(n),{onClose:d}=l;return g.useEffect(()=>(document.addEventListener(S_,d),()=>document.removeEventListener(S_,d)),[d]),g.useEffect(()=>{if(l.trigger){const p=h=>{const v=h.target;v!=null&&v.contains(l.trigger)&&d()};return window.addEventListener("scroll",p,{capture:!0}),()=>window.removeEventListener("scroll",p,{capture:!0})}},[l.trigger,d]),f.jsx(cd,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:p=>p.preventDefault(),onDismiss:d,children:f.jsxs(FE,{"data-state":l.stateAttribute,...c,...a,ref:e,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[f.jsx(Ub,{children:r}),f.jsx(x9,{scope:n,isInside:!0,children:f.jsx(lL,{id:l.contentId,role:"tooltip",children:s||r})})]})})});SP.displayName=Gl;var RP="TooltipArrow",_9=g.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=BE(n);return C9(RP,n).isInside?null:f.jsx(jE,{...s,...r,ref:e})});_9.displayName=RP;function T9(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),s=Math.abs(e.right-t.x),i=Math.abs(e.left-t.x);switch(Math.min(n,r,s,i)){case i:return"left";case s:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function A9(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function b9(t){const{top:e,right:n,bottom:r,left:s}=t;return[{x:s,y:e},{x:n,y:e},{x:n,y:r},{x:s,y:r}]}function S9(t,e){const{x:n,y:r}=t;let s=!1;for(let i=0,o=e.length-1;i<e.length;o=i++){const a=e[i].x,l=e[i].y,c=e[o].x,d=e[o].y;l>r!=d>r&&n<(c-a)*(r-l)/(d-l)+a&&(s=!s)}return s}function I9(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),R9(e)}function R9(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const s=t[r];for(;e.length>=2;){const i=e[e.length-1],o=e[e.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))e.pop();else break}e.push(s)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const s=t[r];for(;n.length>=2;){const i=n[n.length-1],o=n[n.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))n.pop();else break}n.push(s)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var P9=AP,PP=SP;const N9=P9,k9=g.forwardRef(({className:t,sideOffset:e=4,...n},r)=>f.jsx(PP,{ref:r,sideOffset:e,className:Ve("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n}));k9.displayName=PP.displayName;var Nm=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},km=typeof window>"u"||"Deno"in globalThis;function Nr(){}function M9(t,e){return typeof t=="function"?t(e):t}function D9(t){return typeof t=="number"&&t>=0&&t!==1/0}function O9(t,e){return Math.max(t+(e||0)-Date.now(),0)}function I_(t,e){return typeof t=="function"?t(e):t}function L9(t,e){return typeof t=="function"?t(e):t}function R_(t,e){const{type:n="all",exact:r,fetchStatus:s,predicate:i,queryKey:o,stale:a}=t;if(o){if(r){if(e.queryHash!==UE(o,e.options))return!1}else if(!Qu(e.queryKey,o))return!1}if(n!=="all"){const l=e.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||s&&s!==e.state.fetchStatus||i&&!i(e))}function P_(t,e){const{exact:n,status:r,predicate:s,mutationKey:i}=t;if(i){if(!e.options.mutationKey)return!1;if(n){if(Ku(e.options.mutationKey)!==Ku(i))return!1}else if(!Qu(e.options.mutationKey,i))return!1}return!(r&&e.state.status!==r||s&&!s(e))}function UE(t,e){return((e==null?void 0:e.queryKeyHashFn)||Ku)(t)}function Ku(t){return JSON.stringify(t,(e,n)=>Jv(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function Qu(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(n=>!Qu(t[n],e[n])):!1}function NP(t,e){if(t===e)return t;const n=N_(t)&&N_(e);if(n||Jv(t)&&Jv(e)){const r=n?t:Object.keys(t),s=r.length,i=n?e:Object.keys(e),o=i.length,a=n?[]:{};let l=0;for(let c=0;c<o;c++){const d=n?c:i[c];(!n&&r.includes(d)||n)&&t[d]===void 0&&e[d]===void 0?(a[d]=void 0,l++):(a[d]=NP(t[d],e[d]),a[d]===t[d]&&t[d]!==void 0&&l++)}return s===o&&l===s?t:a}return e}function N_(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function Jv(t){if(!k_(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!k_(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function k_(t){return Object.prototype.toString.call(t)==="[object Object]"}function V9(t){return new Promise(e=>{setTimeout(e,t)})}function F9(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?NP(t,e):e}function j9(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function B9(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var qE=Symbol();function kP(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===qE?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var jo,_i,El,yT,U9=(yT=class extends Nm{constructor(){super();Xe(this,jo);Xe(this,_i);Xe(this,El);De(this,El,e=>{if(!km&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){X(this,_i)||this.setEventListener(X(this,El))}onUnsubscribe(){var e;this.hasListeners()||((e=X(this,_i))==null||e.call(this),De(this,_i,void 0))}setEventListener(e){var n;De(this,El,e),(n=X(this,_i))==null||n.call(this),De(this,_i,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){X(this,jo)!==e&&(De(this,jo,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof X(this,jo)=="boolean"?X(this,jo):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},jo=new WeakMap,_i=new WeakMap,El=new WeakMap,yT),MP=new U9,xl,Ti,Cl,vT,q9=(vT=class extends Nm{constructor(){super();Xe(this,xl,!0);Xe(this,Ti);Xe(this,Cl);De(this,Cl,e=>{if(!km&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){X(this,Ti)||this.setEventListener(X(this,Cl))}onUnsubscribe(){var e;this.hasListeners()||((e=X(this,Ti))==null||e.call(this),De(this,Ti,void 0))}setEventListener(e){var n;De(this,Cl,e),(n=X(this,Ti))==null||n.call(this),De(this,Ti,e(this.setOnline.bind(this)))}setOnline(e){X(this,xl)!==e&&(De(this,xl,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return X(this,xl)}},xl=new WeakMap,Ti=new WeakMap,Cl=new WeakMap,vT),bp=new q9;function G9(){let t,e;const n=new Promise((s,i)=>{t=s,e=i});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),t(s)},n.reject=s=>{r({status:"rejected",reason:s}),e(s)},n}function $9(t){return Math.min(1e3*2**t,3e4)}function DP(t){return(t??"online")==="online"?bp.isOnline():!0}var OP=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function ty(t){return t instanceof OP}function LP(t){let e=!1,n=0,r=!1,s;const i=G9(),o=y=>{var A;r||(h(new OP(y)),(A=t.abort)==null||A.call(t))},a=()=>{e=!0},l=()=>{e=!1},c=()=>MP.isFocused()&&(t.networkMode==="always"||bp.isOnline())&&t.canRun(),d=()=>DP(t.networkMode)&&t.canRun(),p=y=>{var A;r||(r=!0,(A=t.onSuccess)==null||A.call(t,y),s==null||s(),i.resolve(y))},h=y=>{var A;r||(r=!0,(A=t.onError)==null||A.call(t,y),s==null||s(),i.reject(y))},v=()=>new Promise(y=>{var A;s=x=>{(r||c())&&y(x)},(A=t.onPause)==null||A.call(t)}).then(()=>{var y;s=void 0,r||(y=t.onContinue)==null||y.call(t)}),E=()=>{if(r)return;let y;const A=n===0?t.initialPromise:void 0;try{y=A??t.fn()}catch(x){y=Promise.reject(x)}Promise.resolve(y).then(p).catch(x=>{var j;if(r)return;const w=t.retry??(km?0:3),_=t.retryDelay??$9,R=typeof _=="function"?_(n,x):_,O=w===!0||typeof w=="number"&&n<w||typeof w=="function"&&w(n,x);if(e||!O){h(x);return}n++,(j=t.onFail)==null||j.call(t,n,x),V9(R).then(()=>c()?void 0:v()).then(()=>{e?h(x):E()})})};return{promise:i,cancel:o,continue:()=>(s==null||s(),i),cancelRetry:a,continueRetry:l,canStart:d,start:()=>(d()?E():v().then(E),i)}}function z9(){let t=[],e=0,n=a=>{a()},r=a=>{a()},s=a=>setTimeout(a,0);const i=a=>{e?t.push(a):s(()=>{n(a)})},o=()=>{const a=t;t=[],a.length&&s(()=>{r(()=>{a.forEach(l=>{n(l)})})})};return{batch:a=>{let l;e++;try{l=a()}finally{e--,e||o()}return l},batchCalls:a=>(...l)=>{i(()=>{a(...l)})},schedule:i,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{s=a}}}var Sn=z9(),Bo,wT,VP=(wT=class{constructor(){Xe(this,Bo)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),D9(this.gcTime)&&De(this,Bo,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(km?1/0:5*60*1e3))}clearGcTimeout(){X(this,Bo)&&(clearTimeout(X(this,Bo)),De(this,Bo,void 0))}},Bo=new WeakMap,wT),_l,Tl,ur,pn,td,Uo,kr,bs,ET,W9=(ET=class extends VP{constructor(e){super();Xe(this,kr);Xe(this,_l);Xe(this,Tl);Xe(this,ur);Xe(this,pn);Xe(this,td);Xe(this,Uo);De(this,Uo,!1),De(this,td,e.defaultOptions),this.setOptions(e.options),this.observers=[],De(this,ur,e.cache),this.queryKey=e.queryKey,this.queryHash=e.queryHash,De(this,_l,K9(this.options)),this.state=e.state??X(this,_l),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=X(this,pn))==null?void 0:e.promise}setOptions(e){this.options={...X(this,td),...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&X(this,ur).remove(this)}setData(e,n){const r=F9(this.state.data,e,this.options);return un(this,kr,bs).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(e,n){un(this,kr,bs).call(this,{type:"setState",state:e,setStateOptions:n})}cancel(e){var r,s;const n=(r=X(this,pn))==null?void 0:r.promise;return(s=X(this,pn))==null||s.cancel(e),n?n.then(Nr).catch(Nr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(X(this,_l))}isActive(){return this.observers.some(e=>L9(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===qE||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(e=0){return this.state.isInvalidated||this.state.data===void 0||!O9(this.state.dataUpdatedAt,e)}onFocus(){var n;const e=this.observers.find(r=>r.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(n=X(this,pn))==null||n.continue()}onOnline(){var n;const e=this.observers.find(r=>r.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(n=X(this,pn))==null||n.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),X(this,ur).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(n=>n!==e),this.observers.length||(X(this,pn)&&(X(this,Uo)?X(this,pn).cancel({revert:!0}):X(this,pn).cancelRetry()),this.scheduleGc()),X(this,ur).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||un(this,kr,bs).call(this,{type:"invalidate"})}fetch(e,n){var l,c,d;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(X(this,pn))return X(this,pn).continueRetry(),X(this,pn).promise}if(e&&this.setOptions(e),!this.options.queryFn){const p=this.observers.find(h=>h.options.queryFn);p&&this.setOptions(p.options)}const r=new AbortController,s=p=>{Object.defineProperty(p,"signal",{enumerable:!0,get:()=>(De(this,Uo,!0),r.signal)})},i=()=>{const p=kP(this.options,n),h={queryKey:this.queryKey,meta:this.meta};return s(h),De(this,Uo,!1),this.options.persister?this.options.persister(p,h,this):p(h)},o={fetchOptions:n,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:i};s(o),(l=this.options.behavior)==null||l.onFetch(o,this),De(this,Tl,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((c=o.fetchOptions)==null?void 0:c.meta))&&un(this,kr,bs).call(this,{type:"fetch",meta:(d=o.fetchOptions)==null?void 0:d.meta});const a=p=>{var h,v,E,y;ty(p)&&p.silent||un(this,kr,bs).call(this,{type:"error",error:p}),ty(p)||((v=(h=X(this,ur).config).onError)==null||v.call(h,p,this),(y=(E=X(this,ur).config).onSettled)==null||y.call(E,this.state.data,p,this)),this.scheduleGc()};return De(this,pn,LP({initialPromise:n==null?void 0:n.initialPromise,fn:o.fetchFn,abort:r.abort.bind(r),onSuccess:p=>{var h,v,E,y;if(p===void 0){a(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(p)}catch(A){a(A);return}(v=(h=X(this,ur).config).onSuccess)==null||v.call(h,p,this),(y=(E=X(this,ur).config).onSettled)==null||y.call(E,p,this.state.error,this),this.scheduleGc()},onError:a,onFail:(p,h)=>{un(this,kr,bs).call(this,{type:"failed",failureCount:p,error:h})},onPause:()=>{un(this,kr,bs).call(this,{type:"pause"})},onContinue:()=>{un(this,kr,bs).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0})),X(this,pn).start()}},_l=new WeakMap,Tl=new WeakMap,ur=new WeakMap,pn=new WeakMap,td=new WeakMap,Uo=new WeakMap,kr=new WeakSet,bs=function(e){const n=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...Y9(r.data,this.options),fetchMeta:e.meta??null};case"success":return{...r,data:e.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=e.error;return ty(s)&&s.revert&&X(this,Tl)?{...X(this,Tl),fetchStatus:"idle"}:{...r,error:s,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=n(this.state),Sn.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),X(this,ur).notify({query:this,type:"updated",action:e})})},ET);function Y9(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:DP(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function K9(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Qr,xT,Q9=(xT=class extends Nm{constructor(e={}){super();Xe(this,Qr);this.config=e,De(this,Qr,new Map)}build(e,n,r){const s=n.queryKey,i=n.queryHash??UE(s,n);let o=this.get(i);return o||(o=new W9({cache:this,queryKey:s,queryHash:i,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(s)}),this.add(o)),o}add(e){X(this,Qr).has(e.queryHash)||(X(this,Qr).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=X(this,Qr).get(e.queryHash);n&&(e.destroy(),n===e&&X(this,Qr).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Sn.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return X(this,Qr).get(e)}getAll(){return[...X(this,Qr).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>R_(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>R_(e,r)):n}notify(e){Sn.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){Sn.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Sn.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Qr=new WeakMap,xT),Hr,An,qo,Jr,hi,CT,H9=(CT=class extends VP{constructor(e){super();Xe(this,Jr);Xe(this,Hr);Xe(this,An);Xe(this,qo);this.mutationId=e.mutationId,De(this,An,e.mutationCache),De(this,Hr,[]),this.state=e.state||J9(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){X(this,Hr).includes(e)||(X(this,Hr).push(e),this.clearGcTimeout(),X(this,An).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){De(this,Hr,X(this,Hr).filter(n=>n!==e)),this.scheduleGc(),X(this,An).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){X(this,Hr).length||(this.state.status==="pending"?this.scheduleGc():X(this,An).remove(this))}continue(){var e;return((e=X(this,qo))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var s,i,o,a,l,c,d,p,h,v,E,y,A,x,w,_,R,O,j,I;De(this,qo,LP({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(S,k)=>{un(this,Jr,hi).call(this,{type:"failed",failureCount:S,error:k})},onPause:()=>{un(this,Jr,hi).call(this,{type:"pause"})},onContinue:()=>{un(this,Jr,hi).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>X(this,An).canRun(this)}));const n=this.state.status==="pending",r=!X(this,qo).canStart();try{if(!n){un(this,Jr,hi).call(this,{type:"pending",variables:e,isPaused:r}),await((i=(s=X(this,An).config).onMutate)==null?void 0:i.call(s,e,this));const k=await((a=(o=this.options).onMutate)==null?void 0:a.call(o,e));k!==this.state.context&&un(this,Jr,hi).call(this,{type:"pending",context:k,variables:e,isPaused:r})}const S=await X(this,qo).start();return await((c=(l=X(this,An).config).onSuccess)==null?void 0:c.call(l,S,e,this.state.context,this)),await((p=(d=this.options).onSuccess)==null?void 0:p.call(d,S,e,this.state.context)),await((v=(h=X(this,An).config).onSettled)==null?void 0:v.call(h,S,null,this.state.variables,this.state.context,this)),await((y=(E=this.options).onSettled)==null?void 0:y.call(E,S,null,e,this.state.context)),un(this,Jr,hi).call(this,{type:"success",data:S}),S}catch(S){try{throw await((x=(A=X(this,An).config).onError)==null?void 0:x.call(A,S,e,this.state.context,this)),await((_=(w=this.options).onError)==null?void 0:_.call(w,S,e,this.state.context)),await((O=(R=X(this,An).config).onSettled)==null?void 0:O.call(R,void 0,S,this.state.variables,this.state.context,this)),await((I=(j=this.options).onSettled)==null?void 0:I.call(j,void 0,S,e,this.state.context)),S}finally{un(this,Jr,hi).call(this,{type:"error",error:S})}}finally{X(this,An).runNext(this)}}},Hr=new WeakMap,An=new WeakMap,qo=new WeakMap,Jr=new WeakSet,hi=function(e){const n=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=n(this.state),Sn.batch(()=>{X(this,Hr).forEach(r=>{r.onMutationUpdate(e)}),X(this,An).notify({mutation:this,type:"updated",action:e})})},CT);function J9(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Yn,nd,_T,X9=(_T=class extends Nm{constructor(e={}){super();Xe(this,Yn);Xe(this,nd);this.config=e,De(this,Yn,new Map),De(this,nd,Date.now())}build(e,n,r){const s=new H9({mutationCache:this,mutationId:++mh(this,nd)._,options:e.defaultMutationOptions(n),state:r});return this.add(s),s}add(e){const n=Gh(e),r=X(this,Yn).get(n)??[];r.push(e),X(this,Yn).set(n,r),this.notify({type:"added",mutation:e})}remove(e){var r;const n=Gh(e);if(X(this,Yn).has(n)){const s=(r=X(this,Yn).get(n))==null?void 0:r.filter(i=>i!==e);s&&(s.length===0?X(this,Yn).delete(n):X(this,Yn).set(n,s))}this.notify({type:"removed",mutation:e})}canRun(e){var r;const n=(r=X(this,Yn).get(Gh(e)))==null?void 0:r.find(s=>s.state.status==="pending");return!n||n===e}runNext(e){var r;const n=(r=X(this,Yn).get(Gh(e)))==null?void 0:r.find(s=>s!==e&&s.state.isPaused);return(n==null?void 0:n.continue())??Promise.resolve()}clear(){Sn.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}getAll(){return[...X(this,Yn).values()].flat()}find(e){const n={exact:!0,...e};return this.getAll().find(r=>P_(n,r))}findAll(e={}){return this.getAll().filter(n=>P_(e,n))}notify(e){Sn.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return Sn.batch(()=>Promise.all(e.map(n=>n.continue().catch(Nr))))}},Yn=new WeakMap,nd=new WeakMap,_T);function Gh(t){var e;return((e=t.options.scope)==null?void 0:e.id)??String(t.mutationId)}function M_(t){return{onFetch:(e,n)=>{var d,p,h,v,E;const r=e.options,s=(h=(p=(d=e.fetchOptions)==null?void 0:d.meta)==null?void 0:p.fetchMore)==null?void 0:h.direction,i=((v=e.state.data)==null?void 0:v.pages)||[],o=((E=e.state.data)==null?void 0:E.pageParams)||[];let a={pages:[],pageParams:[]},l=0;const c=async()=>{let y=!1;const A=_=>{Object.defineProperty(_,"signal",{enumerable:!0,get:()=>(e.signal.aborted?y=!0:e.signal.addEventListener("abort",()=>{y=!0}),e.signal)})},x=kP(e.options,e.fetchOptions),w=async(_,R,O)=>{if(y)return Promise.reject();if(R==null&&_.pages.length)return Promise.resolve(_);const j={queryKey:e.queryKey,pageParam:R,direction:O?"backward":"forward",meta:e.options.meta};A(j);const I=await x(j),{maxPages:S}=e.options,k=O?B9:j9;return{pages:k(_.pages,I,S),pageParams:k(_.pageParams,R,S)}};if(s&&i.length){const _=s==="backward",R=_?Z9:D_,O={pages:i,pageParams:o},j=R(r,O);a=await w(O,j,_)}else{const _=t??i.length;do{const R=l===0?o[0]??r.initialPageParam:D_(r,a);if(l>0&&R==null)break;a=await w(a,R),l++}while(l<_)}return a};e.options.persister?e.fetchFn=()=>{var y,A;return(A=(y=e.options).persister)==null?void 0:A.call(y,c,{queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=c}}}function D_(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function Z9(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var Tt,Ai,bi,Al,bl,Si,Sl,Il,TT,eq=(TT=class{constructor(t={}){Xe(this,Tt);Xe(this,Ai);Xe(this,bi);Xe(this,Al);Xe(this,bl);Xe(this,Si);Xe(this,Sl);Xe(this,Il);De(this,Tt,t.queryCache||new Q9),De(this,Ai,t.mutationCache||new X9),De(this,bi,t.defaultOptions||{}),De(this,Al,new Map),De(this,bl,new Map),De(this,Si,0)}mount(){mh(this,Si)._++,X(this,Si)===1&&(De(this,Sl,MP.subscribe(async t=>{t&&(await this.resumePausedMutations(),X(this,Tt).onFocus())})),De(this,Il,bp.subscribe(async t=>{t&&(await this.resumePausedMutations(),X(this,Tt).onOnline())})))}unmount(){var t,e;mh(this,Si)._--,X(this,Si)===0&&((t=X(this,Sl))==null||t.call(this),De(this,Sl,void 0),(e=X(this,Il))==null||e.call(this),De(this,Il,void 0))}isFetching(t){return X(this,Tt).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return X(this,Ai).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=X(this,Tt).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.getQueryData(t.queryKey);if(e===void 0)return this.fetchQuery(t);{const n=this.defaultQueryOptions(t),r=X(this,Tt).build(this,n);return t.revalidateIfStale&&r.isStaleByTime(I_(n.staleTime,r))&&this.prefetchQuery(n),Promise.resolve(e)}}getQueriesData(t){return X(this,Tt).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),s=X(this,Tt).get(r.queryHash),i=s==null?void 0:s.state.data,o=M9(e,i);if(o!==void 0)return X(this,Tt).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(t,e,n){return Sn.batch(()=>X(this,Tt).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=X(this,Tt).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=X(this,Tt);Sn.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=X(this,Tt),r={type:"active",...t};return Sn.batch(()=>(n.findAll(t).forEach(s=>{s.reset()}),this.refetchQueries(r,e)))}cancelQueries(t={},e={}){const n={revert:!0,...e},r=Sn.batch(()=>X(this,Tt).findAll(t).map(s=>s.cancel(n)));return Promise.all(r).then(Nr).catch(Nr)}invalidateQueries(t={},e={}){return Sn.batch(()=>{if(X(this,Tt).findAll(t).forEach(r=>{r.invalidate()}),t.refetchType==="none")return Promise.resolve();const n={...t,type:t.refetchType??t.type??"active"};return this.refetchQueries(n,e)})}refetchQueries(t={},e){const n={...e,cancelRefetch:(e==null?void 0:e.cancelRefetch)??!0},r=Sn.batch(()=>X(this,Tt).findAll(t).filter(s=>!s.isDisabled()).map(s=>{let i=s.fetch(void 0,n);return n.throwOnError||(i=i.catch(Nr)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(Nr)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=X(this,Tt).build(this,e);return n.isStaleByTime(I_(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Nr).catch(Nr)}fetchInfiniteQuery(t){return t.behavior=M_(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Nr).catch(Nr)}ensureInfiniteQueryData(t){return t.behavior=M_(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return bp.isOnline()?X(this,Ai).resumePausedMutations():Promise.resolve()}getQueryCache(){return X(this,Tt)}getMutationCache(){return X(this,Ai)}getDefaultOptions(){return X(this,bi)}setDefaultOptions(t){De(this,bi,t)}setQueryDefaults(t,e){X(this,Al).set(Ku(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...X(this,Al).values()];let n={};return e.forEach(r=>{Qu(t,r.queryKey)&&(n={...n,...r.defaultOptions})}),n}setMutationDefaults(t,e){X(this,bl).set(Ku(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...X(this,bl).values()];let n={};return e.forEach(r=>{Qu(t,r.mutationKey)&&(n={...n,...r.defaultOptions})}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...X(this,bi).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=UE(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.enabled!==!0&&e.queryFn===qE&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...X(this,bi).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){X(this,Tt).clear(),X(this,Ai).clear()}},Tt=new WeakMap,Ai=new WeakMap,bi=new WeakMap,Al=new WeakMap,bl=new WeakMap,Si=new WeakMap,Sl=new WeakMap,Il=new WeakMap,TT),tq=g.createContext(void 0),nq=({client:t,children:e})=>(g.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),f.jsx(tq.Provider,{value:t,children:e}));/**
 * @remix-run/router v1.20.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Hu(){return Hu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Hu.apply(this,arguments)}var Ni;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Ni||(Ni={}));const O_="popstate";function rq(t){t===void 0&&(t={});function e(r,s){let{pathname:i,search:o,hash:a}=r.location;return Xv("",{pathname:i,search:o,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:Sp(s)}return iq(e,n,null,t)}function Rt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function FP(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function sq(){return Math.random().toString(36).substr(2,8)}function L_(t,e){return{usr:t.state,key:t.key,idx:e}}function Xv(t,e,n,r){return n===void 0&&(n=null),Hu({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?dc(e):e,{state:n,key:e&&e.key||r||sq()})}function Sp(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function dc(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function iq(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,a=Ni.Pop,l=null,c=d();c==null&&(c=0,o.replaceState(Hu({},o.state,{idx:c}),""));function d(){return(o.state||{idx:null}).idx}function p(){a=Ni.Pop;let A=d(),x=A==null?null:A-c;c=A,l&&l({action:a,location:y.location,delta:x})}function h(A,x){a=Ni.Push;let w=Xv(y.location,A,x);c=d()+1;let _=L_(w,c),R=y.createHref(w);try{o.pushState(_,"",R)}catch(O){if(O instanceof DOMException&&O.name==="DataCloneError")throw O;s.location.assign(R)}i&&l&&l({action:a,location:y.location,delta:1})}function v(A,x){a=Ni.Replace;let w=Xv(y.location,A,x);c=d();let _=L_(w,c),R=y.createHref(w);o.replaceState(_,"",R),i&&l&&l({action:a,location:y.location,delta:0})}function E(A){let x=s.location.origin!=="null"?s.location.origin:s.location.href,w=typeof A=="string"?A:Sp(A);return w=w.replace(/ $/,"%20"),Rt(x,"No window.location.(origin|href) available to create URL for href: "+w),new URL(w,x)}let y={get action(){return a},get location(){return t(s,o)},listen(A){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(O_,p),l=A,()=>{s.removeEventListener(O_,p),l=null}},createHref(A){return e(s,A)},createURL:E,encodeLocation(A){let x=E(A);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:h,replace:v,go(A){return o.go(A)}};return y}var V_;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(V_||(V_={}));function oq(t,e,n){return n===void 0&&(n="/"),aq(t,e,n,!1)}function aq(t,e,n,r){let s=typeof e=="string"?dc(e):e,i=GE(s.pathname||"/",n);if(i==null)return null;let o=jP(t);lq(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let c=wq(i);a=yq(o[l],c,r)}return a}function jP(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,o,a)=>{let l={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};l.relativePath.startsWith("/")&&(Rt(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=Wi([r,l.relativePath]),d=n.concat(l);i.children&&i.children.length>0&&(Rt(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),jP(i.children,e,d,c)),!(i.path==null&&!i.index)&&e.push({path:c,score:mq(c,i.index),routesMeta:d})};return t.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,o);else for(let l of BP(i.path))s(i,o,l)}),e}function BP(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=BP(r.join("/")),a=[];return a.push(...o.map(l=>l===""?i:[i,l].join("/"))),s&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function lq(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:gq(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const cq=/^:[\w-]+$/,uq=3,dq=2,hq=1,fq=10,pq=-2,F_=t=>t==="*";function mq(t,e){let n=t.split("/"),r=n.length;return n.some(F_)&&(r+=pq),e&&(r+=dq),n.filter(s=>!F_(s)).reduce((s,i)=>s+(cq.test(i)?uq:i===""?hq:fq),r)}function gq(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function yq(t,e,n){let{routesMeta:r}=t,s={},i="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],c=a===r.length-1,d=i==="/"?e:e.slice(i.length)||"/",p=j_({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},d),h=l.route;if(!p&&c&&n&&!r[r.length-1].route.index&&(p=j_({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},d)),!p)return null;Object.assign(s,p.params),o.push({params:s,pathname:Wi([i,p.pathname]),pathnameBase:_q(Wi([i,p.pathnameBase])),route:h}),p.pathnameBase!=="/"&&(i=Wi([i,p.pathnameBase]))}return o}function j_(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=vq(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((c,d,p)=>{let{paramName:h,isOptional:v}=d;if(h==="*"){let y=a[p]||"";o=i.slice(0,i.length-y.length).replace(/(.)\/+$/,"$1")}const E=a[p];return v&&!E?c[h]=void 0:c[h]=(E||"").replace(/%2F/g,"/"),c},{}),pathname:i,pathnameBase:o,pattern:t}}function vq(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),FP(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function wq(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return FP(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function GE(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function Eq(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?dc(t):t;return{pathname:n?n.startsWith("/")?n:xq(n,e):e,search:Tq(r),hash:Aq(s)}}function xq(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function ny(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Cq(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function $E(t,e){let n=Cq(t);return e?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function zE(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=dc(t):(s=Hu({},t),Rt(!s.pathname||!s.pathname.includes("?"),ny("?","pathname","search",s)),Rt(!s.pathname||!s.pathname.includes("#"),ny("#","pathname","hash",s)),Rt(!s.search||!s.search.includes("#"),ny("#","search","hash",s)));let i=t===""||s.pathname==="",o=i?"/":s.pathname,a;if(o==null)a=n;else{let p=e.length-1;if(!r&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),p-=1;s.pathname=h.join("/")}a=p>=0?e[p]:"/"}let l=Eq(s,a),c=o&&o!=="/"&&o.endsWith("/"),d=(i||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||d)&&(l.pathname+="/"),l}const Wi=t=>t.join("/").replace(/\/\/+/g,"/"),_q=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Tq=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Aq=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function bq(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const UP=["post","put","patch","delete"];new Set(UP);const Sq=["get",...UP];new Set(Sq);/**
 * React Router v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ju(){return Ju=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ju.apply(this,arguments)}const WE=g.createContext(null),Iq=g.createContext(null),mo=g.createContext(null),Mm=g.createContext(null),go=g.createContext({outlet:null,matches:[],isDataRoute:!1}),qP=g.createContext(null);function Rq(t,e){let{relative:n}=e===void 0?{}:e;hc()||Rt(!1);let{basename:r,navigator:s}=g.useContext(mo),{hash:i,pathname:o,search:a}=$P(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:Wi([r,o])),s.createHref({pathname:l,search:a,hash:i})}function hc(){return g.useContext(Mm)!=null}function yo(){return hc()||Rt(!1),g.useContext(Mm).location}function GP(t){g.useContext(mo).static||g.useLayoutEffect(t)}function Hs(){let{isDataRoute:t}=g.useContext(go);return t?qq():Pq()}function Pq(){hc()||Rt(!1);let t=g.useContext(WE),{basename:e,future:n,navigator:r}=g.useContext(mo),{matches:s}=g.useContext(go),{pathname:i}=yo(),o=JSON.stringify($E(s,n.v7_relativeSplatPath)),a=g.useRef(!1);return GP(()=>{a.current=!0}),g.useCallback(function(c,d){if(d===void 0&&(d={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let p=zE(c,JSON.parse(o),i,d.relative==="path");t==null&&e!=="/"&&(p.pathname=p.pathname==="/"?e:Wi([e,p.pathname])),(d.replace?r.replace:r.push)(p,d.state,d)},[e,r,o,i,t])}function $P(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=g.useContext(mo),{matches:s}=g.useContext(go),{pathname:i}=yo(),o=JSON.stringify($E(s,r.v7_relativeSplatPath));return g.useMemo(()=>zE(t,JSON.parse(o),i,n==="path"),[t,o,i,n])}function Nq(t,e){return kq(t,e)}function kq(t,e,n,r){hc()||Rt(!1);let{navigator:s}=g.useContext(mo),{matches:i}=g.useContext(go),o=i[i.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let c=yo(),d;if(e){var p;let A=typeof e=="string"?dc(e):e;l==="/"||(p=A.pathname)!=null&&p.startsWith(l)||Rt(!1),d=A}else d=c;let h=d.pathname||"/",v=h;if(l!=="/"){let A=l.replace(/^\//,"").split("/");v="/"+h.replace(/^\//,"").split("/").slice(A.length).join("/")}let E=oq(t,{pathname:v}),y=Vq(E&&E.map(A=>Object.assign({},A,{params:Object.assign({},a,A.params),pathname:Wi([l,s.encodeLocation?s.encodeLocation(A.pathname).pathname:A.pathname]),pathnameBase:A.pathnameBase==="/"?l:Wi([l,s.encodeLocation?s.encodeLocation(A.pathnameBase).pathname:A.pathnameBase])})),i,n,r);return e&&y?g.createElement(Mm.Provider,{value:{location:Ju({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Ni.Pop}},y):y}function Mq(){let t=Uq(),e=bq(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return g.createElement(g.Fragment,null,g.createElement("h2",null,"Unexpected Application Error!"),g.createElement("h3",{style:{fontStyle:"italic"}},e),n?g.createElement("pre",{style:s},n):null,null)}const Dq=g.createElement(Mq,null);class Oq extends g.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?g.createElement(go.Provider,{value:this.props.routeContext},g.createElement(qP.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Lq(t){let{routeContext:e,match:n,children:r}=t,s=g.useContext(WE);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),g.createElement(go.Provider,{value:e},r)}function Vq(t,e,n,r){var s;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var i;if(!n)return null;if(n.errors)t=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(s=n)==null?void 0:s.errors;if(a!=null){let d=o.findIndex(p=>p.route.id&&(a==null?void 0:a[p.route.id])!==void 0);d>=0||Rt(!1),o=o.slice(0,Math.min(o.length,d+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<o.length;d++){let p=o[d];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(c=d),p.route.id){let{loaderData:h,errors:v}=n,E=p.route.loader&&h[p.route.id]===void 0&&(!v||v[p.route.id]===void 0);if(p.route.lazy||E){l=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((d,p,h)=>{let v,E=!1,y=null,A=null;n&&(v=a&&p.route.id?a[p.route.id]:void 0,y=p.route.errorElement||Dq,l&&(c<0&&h===0?(E=!0,A=null):c===h&&(E=!0,A=p.route.hydrateFallbackElement||null)));let x=e.concat(o.slice(0,h+1)),w=()=>{let _;return v?_=y:E?_=A:p.route.Component?_=g.createElement(p.route.Component,null):p.route.element?_=p.route.element:_=d,g.createElement(Lq,{match:p,routeContext:{outlet:d,matches:x,isDataRoute:n!=null},children:_})};return n&&(p.route.ErrorBoundary||p.route.errorElement||h===0)?g.createElement(Oq,{location:n.location,revalidation:n.revalidation,component:y,error:v,children:w(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):w()},null)}var zP=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(zP||{}),Ip=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Ip||{});function Fq(t){let e=g.useContext(WE);return e||Rt(!1),e}function jq(t){let e=g.useContext(Iq);return e||Rt(!1),e}function Bq(t){let e=g.useContext(go);return e||Rt(!1),e}function WP(t){let e=Bq(),n=e.matches[e.matches.length-1];return n.route.id||Rt(!1),n.route.id}function Uq(){var t;let e=g.useContext(qP),n=jq(Ip.UseRouteError),r=WP(Ip.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function qq(){let{router:t}=Fq(zP.UseNavigateStable),e=WP(Ip.UseNavigateStable),n=g.useRef(!1);return GP(()=>{n.current=!0}),g.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,Ju({fromRouteId:e},i)))},[t,e])}function Rp(t){let{to:e,replace:n,state:r,relative:s}=t;hc()||Rt(!1);let{future:i,static:o}=g.useContext(mo),{matches:a}=g.useContext(go),{pathname:l}=yo(),c=Hs(),d=zE(e,$E(a,i.v7_relativeSplatPath),l,s==="path"),p=JSON.stringify(d);return g.useEffect(()=>c(JSON.parse(p),{replace:n,state:r,relative:s}),[c,p,s,n,r]),null}function Wr(t){Rt(!1)}function Gq(t){let{basename:e="/",children:n=null,location:r,navigationType:s=Ni.Pop,navigator:i,static:o=!1,future:a}=t;hc()&&Rt(!1);let l=e.replace(/^\/*/,"/"),c=g.useMemo(()=>({basename:l,navigator:i,static:o,future:Ju({v7_relativeSplatPath:!1},a)}),[l,a,i,o]);typeof r=="string"&&(r=dc(r));let{pathname:d="/",search:p="",hash:h="",state:v=null,key:E="default"}=r,y=g.useMemo(()=>{let A=GE(d,l);return A==null?null:{location:{pathname:A,search:p,hash:h,state:v,key:E},navigationType:s}},[l,d,p,h,v,E,s]);return y==null?null:g.createElement(mo.Provider,{value:c},g.createElement(Mm.Provider,{children:n,value:y}))}function $q(t){let{children:e,location:n}=t;return Nq(Zv(e),n)}new Promise(()=>{});function Zv(t,e){e===void 0&&(e=[]);let n=[];return g.Children.forEach(t,(r,s)=>{if(!g.isValidElement(r))return;let i=[...e,s];if(r.type===g.Fragment){n.push.apply(n,Zv(r.props.children,i));return}r.type!==Wr&&Rt(!1),!r.props.index||!r.props.children||Rt(!1);let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Zv(r.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function e0(){return e0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},e0.apply(this,arguments)}function zq(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function Wq(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function Yq(t,e){return t.button===0&&(!e||e==="_self")&&!Wq(t)}const Kq=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Qq="6";try{window.__reactRouterVersion=Qq}catch{}const Hq="startTransition",B_=LT[Hq];function Jq(t){let{basename:e,children:n,future:r,window:s}=t,i=g.useRef();i.current==null&&(i.current=rq({window:s,v5Compat:!0}));let o=i.current,[a,l]=g.useState({action:o.action,location:o.location}),{v7_startTransition:c}=r||{},d=g.useCallback(p=>{c&&B_?B_(()=>l(p)):l(p)},[l,c]);return g.useLayoutEffect(()=>o.listen(d),[o,d]),g.createElement(Gq,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const Xq=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Zq=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ys=g.forwardRef(function(e,n){let{onClick:r,relative:s,reloadDocument:i,replace:o,state:a,target:l,to:c,preventScrollReset:d,viewTransition:p}=e,h=zq(e,Kq),{basename:v}=g.useContext(mo),E,y=!1;if(typeof c=="string"&&Zq.test(c)&&(E=c,Xq))try{let _=new URL(window.location.href),R=c.startsWith("//")?new URL(_.protocol+c):new URL(c),O=GE(R.pathname,v);R.origin===_.origin&&O!=null?c=O+R.search+R.hash:y=!0}catch{}let A=Rq(c,{relative:s}),x=eG(c,{replace:o,state:a,target:l,preventScrollReset:d,relative:s,viewTransition:p});function w(_){r&&r(_),_.defaultPrevented||x(_)}return g.createElement("a",e0({},h,{href:E||A,onClick:y||i?r:w,ref:n,target:l}))});var U_;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(U_||(U_={}));var q_;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(q_||(q_={}));function eG(t,e){let{target:n,replace:r,state:s,preventScrollReset:i,relative:o,viewTransition:a}=e===void 0?{}:e,l=Hs(),c=yo(),d=$P(t,{relative:o});return g.useCallback(p=>{if(Yq(p,n)){p.preventDefault();let h=r!==void 0?r:Sp(c)===Sp(d);l(t,{replace:h,state:s,preventScrollReset:i,relative:o,viewTransition:a})}},[c,l,d,r,s,n,t,i,o,a])}const YP=()=>`session_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,tG=async(t,e)=>{try{console.log("loginUser: Starting login process for email:",t);const n=await c6(Yo,t,e);console.log("loginUser: Firebase Auth successful for UID:",n.user.uid);const r=await Cm(Un(on,"users",n.user.uid));if(console.log("loginUser: User document exists:",r.exists()),r.exists()){const s=r.data();console.log("loginUser: User data retrieved, current session status:",s.isSessionValid);const i=YP(),o=Ye.now();console.log("loginUser: Updating user document with new session"),await oa(Un(on,"users",n.user.uid),{sessionToken:i,lastLoginAt:o,isSessionValid:!0}),console.log("loginUser: User document updated with new session");const a={...s,sessionToken:i,lastLoginAt:o,isSessionValid:!0};return console.log("loginUser: Returning updated user data with session:",a.isSessionValid),a}return console.log("loginUser: User document not found, returning null"),null}catch(n){throw console.error("loginUser error:",n),n}},nG=async(t,e,n,r,s)=>{try{const i=await l6(Yo,e,n),o=(s==null?void 0:s.purchaseLimit)||5,a=YP(),l=Ye.now(),c={id:i.user.uid,name:t,email:e,feedback:r,purchases:0,isRewardReady:!1,createdAt:l,rewards:[],purchaseLimit:o,role:"customer",sessionToken:a,lastLoginAt:l,isSessionValid:!0};try{await mR(Un(on,"users",i.user.uid),c),(await Cm(Un(on,"users",i.user.uid))).exists()?console.log("✅ User document verified in Firestore"):console.error("❌ User document not found after creation!")}catch(d){throw console.error("Firestore error during user creation:",d),d}return c}catch(i){throw console.error("registerUser error:",i),i}},rG=async()=>{try{const t=Yo.currentUser;t&&await oa(Un(on,"users",t.uid),{isSessionValid:!1,sessionToken:null}),await a_(Yo)}catch(t){console.error("Logout error:",t),await a_(Yo)}},sG=t=>f6(Yo,t),iG=(t,e)=>{const n=lE(on,"users"),r=mE(n,hR("createdAt","desc"));return wE(r,s=>{const i=[];s.forEach(o=>{const a=o.data();i.push({...a,id:o.id})}),t(i)},e)},oG=(t,e,n)=>{const r=Un(on,"users",t);return wE(r,s=>{s.exists()?e(s.data()):e(null)},n)},aG=async(t,e,n)=>{if(!t||t.role!=="super_admin")throw new Error("Only super admins can update user roles");const r=Un(on,"users",e);await oa(r,{role:n})},lG=async(t,e,n,r)=>{const s=n&&r;if(!t&&!s)return;const i=s?Un(on,"users",r):Un(on,"users",t.id),o=await Cm(i);if(!o.exists())throw new Error("User not found");const a=o.data();if(a.role==="customer"&&a.lastScanAt){const h=a.lastScanAt.toDate(),v=new Date,E=new Date(v);E.setHours(0,0,0,0);const y=new Date(h);if(y.setHours(0,0,0,0),y.getTime()===E.getTime()){const x=new Date(E);x.setDate(x.getDate()+1);const w=x.getTime()-v.getTime(),_=Math.ceil(w/(1e3*60*60));throw new Error(`You can collect your next stamp at midnight (12:00 AM). Last scan was ${h.toLocaleString()}. Time remaining: ${_} hours`)}}const l=a.purchaseLimit||(e==null?void 0:e.purchaseLimit)||5;if(a.purchases>=l)return;const d=a.purchases+1>=l,p={scannedBy:(t==null?void 0:t.email)||"unknown",timestamp:Ye.now()};if(a.currentReward){const h=[...a.currentReward.scanHistory||[],p],v={...a.currentReward,scanHistory:h};await oa(i,{purchases:HC(1),isRewardReady:d,lastScanAt:Ye.now(),currentReward:v})}else{const h={rewardId:`reward_${Date.now()}`,claimedAt:null,scanHistory:[p]};await oa(i,{purchases:HC(1),isRewardReady:d,lastScanAt:Ye.now(),currentReward:h})}},cG=async t=>{if(!t||!t.currentReward)return;const e=Un(on,"users",t.id),n={...t.currentReward,claimedAt:Ye.now()};await oa(e,{purchases:0,isRewardReady:!1,rewards:[...t.rewards||[],n],currentReward:null})},uG=(t,e)=>{const n=Un(on,"settings","global");return wE(n,r=>{if(r.exists())t(r.data());else{const s={purchaseLimit:5,descriptionMessage:"Complete purchases to unlock your reward!",updatedAt:Ye.now(),updatedBy:"system"};mR(n,s),t(s)}},e)},dG=async(t,e,n)=>{if(!t||t.role!=="admin"&&t.role!=="super_admin")throw new Error("Only admins can update settings");const r=Un(on,"settings","global");await oa(r,{purchaseLimit:e,descriptionMessage:n,updatedAt:Ye.now(),updatedBy:t.email})};function va(t,e){return async(...n)=>{try{return await t(...n)}catch(r){throw console.error(`${e} error:`,r),r}}}const hG=va(tG,"loginUser"),fG=va(nG,"registerUser"),G_=va(rG,"logoutUser"),pG=sG,mG=iG,gG=oG,yG=va(aG,"updateUserRole"),vG=va(lG,"addPurchase"),wG=va(cG,"useReward"),EG=uG,xG=va(dG,"updateSettings"),KP=g.createContext(null),CG=({children:t})=>{const[e,n]=g.useState(null),[r,s]=g.useState(!0),[i,o]=g.useState(null),[a,l]=g.useState(!0),[c,d]=g.useState([]),[p,h]=g.useState(!1);g.useEffect(()=>{const _=EG(R=>{o(R),l(!1)},R=>{console.error("Error listening to settings:",R),l(!1)});return()=>_()},[]),g.useEffect(()=>{if(!e||e.role!=="admin"&&e.role!=="super_admin"){d([]);return}h(!0);const _=mG(R=>{d(R),h(!1)},R=>{console.error("Error listening to all users:",R),h(!1)});return()=>_()},[e==null?void 0:e.role]),g.useEffect(()=>{let _=null,R=!1;const O=pG(async I=>{R||(R=!0),I&&typeof I=="object"&&I!==null&&"uid"in I?(console.log("Firebase Auth user detected, setting up real-time listener for:",I.uid),setTimeout(()=>{_=gG(I.uid,S=>{console.log("Real-time user data received:",{uid:S.id,isSessionValid:S.isSessionValid,hasSessionToken:!!S.sessionToken}),S.isSessionValid===!1?(console.log("Session explicitly invalidated, signing out user"),n(null),s(!1),G_()):(console.log("Accepting user data during login, session status:",S.isSessionValid),n(S),s(!1))},S=>{console.error("Error listening to user data:",S),n(null),s(!1)})},500)):(n(null),s(!1),_&&(_(),_=null))}),j=setTimeout(()=>{R||s(!1)},1e4);return()=>{O&&O(),_&&_(),clearTimeout(j)}},[]);const v=async(_,R)=>{console.log("Login attempt started for:",_);try{const O=await hG(_,R);return console.log("Login successful, user data received:",!!O),O}catch(O){throw console.error("Login failed:",O),O}},E=(_,R,O,j)=>fG(_,R,O,j,i),y=(_,R)=>vG(e,i,_,R),A=()=>wG(e),x=(_,R)=>yG(e,_,R),w=async()=>{console.log("Logout called from useAuth hook"),await G_(),n(null)};return f.jsx(KP.Provider,{value:{user:e,loading:r,settings:i,settingsLoading:a,allUsers:c,allUsersLoading:p,login:v,register:E,addPurchase:y,useReward:A,logout:w,updateSettings:xG,updateUserRole:x},children:t})},ds=()=>{const t=g.useContext(KP);if(!t)throw new Error("useAuth must be used within AuthProvider");return t},_G=bw("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),qn=g.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...s},i)=>{const o=r?ta:"button";return f.jsx(o,{className:Ve(_G({variant:e,size:n,className:t})),ref:i,...s})});qn.displayName="Button";const TG=()=>{const[t,e]=g.useState(null),[n,r]=g.useState(!1),[s,i]=g.useState(!1),[o,a]=g.useState(""),l=()=>{const h=window.matchMedia("(display-mode: standalone)").matches,v=window.matchMedia("(display-mode: fullscreen)").matches,E=window.matchMedia("(display-mode: minimal-ui)").matches,y=navigator.standalone===!0,A=h||v||E||y,w=new URLSearchParams(window.location.search).get("hide-install")==="true";return A||w};g.useEffect(()=>{if(l()){i(!0),a("App is already installed");return}fetch("/manifest.json").then(_=>{if(!_.ok){a("Manifest not accessible");return}a("Manifest accessible")}).catch(()=>{a("Manifest fetch failed")});const v=_=>{console.log("beforeinstallprompt event fired"),_.preventDefault(),e(_),r(!0),a("Install prompt available")},E=()=>{console.log("App installed"),i(!0),r(!1),e(null),a("App installed successfully")},y=()=>{l()||setTimeout(()=>{r(!0),a("Manual install available")},2e3)};window.addEventListener("beforeinstallprompt",v),window.addEventListener("appinstalled",E),setTimeout(y,1e3);const A=window.matchMedia("(display-mode: standalone)"),x=_=>{_.matches&&(i(!0),r(!1),a("App switched to standalone mode"))};A.addEventListener("change",x);const w=setInterval(()=>{l()&&(i(!0),r(!1),a("App detected as installed"),clearInterval(w))},2e3);return()=>{window.removeEventListener("beforeinstallprompt",v),window.removeEventListener("appinstalled",E),A.removeEventListener("change",x),clearInterval(w)}},[]);const c=async()=>{if(t)try{t.prompt();const{outcome:h}=await t.userChoice;h==="accepted"?(console.log("User accepted the install prompt"),a("Install accepted")):(console.log("User dismissed the install prompt"),a("Install dismissed")),e(null),r(!1)}catch(h){console.error("Install error:",h),a("Install error: "+h)}else{const h=/Chrome/.test(navigator.userAgent),v=/Edg/.test(navigator.userAgent),E=/Safari/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent),y=/Firefox/.test(navigator.userAgent),A=/Android|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);let x="";A?E?x='To install: Tap the Share button (square with arrow) and select "Add to Home Screen"':h||v?x='To install: Tap the menu (three dots) and select "Add to Home screen" or "Install app"':y?x='To install: Tap the menu (three lines) and select "Add to Home Screen"':x="To install: Use your browser menu to add this site to your home screen":h||v?x='To install: Look for the install icon (plus sign) in your browser address bar, or use the menu (three dots) and select "Install app"':E?x='To install: Use the Share button in the toolbar and select "Add to Dock"':y?x='To install: Use the menu (three lines) and select "Install App"':x="To install: Use your browser menu to add this site to your desktop",alert(x),a("Manual install instructions shown")}},d=()=>{r(!1),a("Install prompt dismissed")},p=!1;return s?null:f.jsx(f.Fragment,{children:n&&f.jsx("div",{className:"fixed bottom-4 left-4 right-4 z-50 bg-gradient-to-r from-red-600 to-red-700 rounded-lg p-4 shadow-lg border border-red-500/30 backdrop-blur-sm",children:f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{className:"flex items-center space-x-3",children:[f.jsx(ML,{className:"w-5 h-5 text-white"}),f.jsxs("div",{children:[f.jsx("p",{className:"text-white font-semibold text-sm",children:"Install Vaporwave Loyalty Club"}),f.jsx("p",{className:"text-red-100 text-xs",children:"Get quick access and work offline"}),p]})]}),f.jsxs("div",{className:"flex items-center space-x-2",children:[f.jsx(qn,{onClick:c,size:"sm",className:"bg-white text-red-600 hover:bg-red-50 font-semibold",children:"Install"}),f.jsx(qn,{onClick:d,size:"sm",variant:"ghost",className:"text-white hover:bg-red-500/20",children:f.jsx(yS,{className:"w-4 h-4"})})]})]})})})},Vc=({children:t,requiredRole:e})=>{const{user:n,loading:r}=ds(),s=yo();if(r)return f.jsx("div",{className:"min-h-screen bg-gradient-to-br from-black via-gray-900 to-red-950 flex items-center justify-center",children:f.jsxs("div",{className:"text-center",children:[f.jsx(Sw,{className:"h-8 w-8 animate-spin text-red-500 mx-auto mb-4"}),f.jsx("p",{className:"text-white text-lg",children:"Loading..."})]})});if(!n)return f.jsx(Rp,{to:"/login",state:{from:s},replace:!0});if(e){const i=n.role,o={customer:1,admin:2,super_admin:3};if(o[i]<o[e])return f.jsx(Rp,{to:"/dashboard",replace:!0})}return f.jsx(f.Fragment,{children:t})},$_=({children:t})=>{const{user:e,loading:n}=ds();return n?f.jsx("div",{className:"min-h-screen bg-gradient-to-br from-black via-gray-900 to-red-950 flex items-center justify-center",children:f.jsxs("div",{className:"text-center",children:[f.jsx(Sw,{className:"h-8 w-8 animate-spin text-red-500 mx-auto mb-4"}),f.jsx("p",{className:"text-white text-lg",children:"Loading..."})]})}):e?f.jsx(Rp,{to:"/dashboard",replace:!0}):f.jsx(f.Fragment,{children:t})},AG=()=>{const[t,e]=g.useState(!1),[n,r]=g.useState(!1),s=()=>{const i=window.matchMedia("(display-mode: standalone)").matches,o=window.matchMedia("(display-mode: fullscreen)").matches,a=window.matchMedia("(display-mode: minimal-ui)").matches,l=navigator.standalone===!0;return i||o||a||l};return g.useEffect(()=>{s()&&r(!0);const o=window.matchMedia("(display-mode: standalone)"),a=l=>{l.matches&&r(!0)};return o.addEventListener("change",a),()=>{o.removeEventListener("change",a)}},[]),n?null:f.jsxs("div",{className:"fixed top-4 right-4 z-40",children:[f.jsxs(qn,{onClick:()=>e(!t),size:"sm",variant:"outline",className:"bg-white/90 backdrop-blur-sm border-gray-200 hover:bg-white",children:[f.jsx(DL,{className:"w-4 h-4 mr-2"}),"Install Guide"]}),t&&f.jsxs("div",{className:"absolute top-12 right-0 w-80 bg-white rounded-lg shadow-lg border border-gray-200 p-4",children:[f.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"How to Install"}),f.jsxs("div",{className:"space-y-3 text-sm text-gray-600",children:[f.jsxs("div",{children:[f.jsx("strong",{children:"Chrome/Edge (Desktop):"}),f.jsx("p",{children:'Look for the install icon (plus sign) in your browser address bar, or use the menu (three dots) and select "Install app"'})]}),f.jsxs("div",{children:[f.jsx("strong",{children:"Chrome/Edge (Mobile):"}),f.jsx("p",{children:'Tap the menu (three dots) and select "Add to Home screen" or "Install app"'})]}),f.jsxs("div",{children:[f.jsx("strong",{children:"Safari (Mobile):"}),f.jsx("p",{children:'Tap the Share button (square with arrow) and select "Add to Home Screen"'})]}),f.jsxs("div",{children:[f.jsx("strong",{children:"Safari (Desktop):"}),f.jsx("p",{children:'Use the Share button in the toolbar and select "Add to Dock"'})]}),f.jsxs("div",{children:[f.jsx("strong",{children:"Firefox:"}),f.jsx("p",{children:'Use the menu (three lines) and select "Install App" or "Add to Home Screen"'})]})]}),f.jsx(qn,{onClick:()=>e(!1),size:"sm",className:"mt-3 w-full",children:"Got it!"})]})]})},bG=()=>{const[t,e]=g.useState(!1),n=()=>{const r=window.matchMedia("(display-mode: standalone)").matches,s=window.matchMedia("(display-mode: fullscreen)").matches,i=window.matchMedia("(display-mode: minimal-ui)").matches,o=navigator.standalone===!0;return r||s||i||o};return g.useEffect(()=>{n()&&e(!0);const s=window.matchMedia("(display-mode: standalone)"),i=o=>{o.matches&&e(!0)};return s.addEventListener("change",i),()=>{s.removeEventListener("change",i)}},[]),f.jsxs("div",{className:"min-h-screen relative overflow-hidden",children:[f.jsx("div",{className:"absolute inset-0 bg-cover bg-center bg-no-repeat",style:{backgroundImage:"url(/bgCover.jpeg)"}}),f.jsx("div",{className:"absolute inset-0 bg-black/60"}),f.jsxs("div",{className:"absolute inset-0 opacity-20",children:[f.jsx("div",{className:"absolute top-10 left-10 w-32 h-32 bg-red-500 rounded-full blur-3xl animate-pulse"}),f.jsx("div",{className:"absolute bottom-20 right-10 w-40 h-40 bg-red-600 rounded-full blur-3xl animate-pulse delay-1000"}),f.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-60 h-60 bg-red-700 rounded-full blur-3xl animate-pulse delay-500"})]}),f.jsxs("div",{className:"relative z-10 flex flex-col items-center justify-center min-h-screen px-6 text-center",children:[f.jsx("div",{children:f.jsx("div",{className:"flex justify-center mb-4",children:f.jsx("img",{src:"/logo.png",alt:"Vape Master Logo",className:"w-24 h-24 sm:w-32 sm:h-32 md:w-40 md:h-40 lg:w-48 lg:h-48 object-contain"})})}),f.jsxs("div",{className:"mb-12 max-w-md",children:[f.jsx("h2",{className:"text-xl sm:text-2xl md:text-3xl lg:text-4xl xl:text-5xl font-semibold text-white mb-4",children:"Loyalty Program"}),f.jsx("p",{className:"text-gray-300 text-sm sm:text-base md:text-lg lg:text-xl xl:text-2xl leading-relaxed",children:"Join our loyalty program and get rewards! Earn points with every purchase and unlock exclusive benefits."})]}),f.jsxs("div",{className:"space-y-4 w-full max-w-sm",children:[f.jsx(Ys,{to:"/register",className:"block",children:f.jsx(qn,{className:"w-full py-4 text-lg font-semibold bg-gradient-to-r from-red-600 to-red-700 hover:from-red-700 hover:to-red-800 text-white border-none shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-105",children:"Join Now"})}),f.jsx(Ys,{to:"/login",className:"block",children:f.jsx(qn,{variant:"outline",className:"w-full py-4 text-lg font-semibold bg-transparent border-2 border-red-500 text-red-400 hover:bg-red-500 hover:text-white transition-all duration-300 transform hover:scale-105",children:"Already a Member?"})})]}),!t&&f.jsx("div",{className:"mt-8",children:f.jsx(AG,{})}),f.jsx("div",{className:"absolute bottom-6 text-center text-gray-500",children:f.jsx("p",{className:"text-sm",children:"Smoke responsibly • 21+ only"})})]})]})},SG=()=>{const{user:t,loading:e}=ds();return e?f.jsx("div",{className:"min-h-screen bg-gradient-to-br from-black via-gray-900 to-red-950 flex items-center justify-center",children:f.jsxs("div",{className:"text-center",children:[f.jsx(Sw,{className:"h-8 w-8 animate-spin text-red-500 mx-auto mb-4"}),f.jsx("p",{className:"text-white text-lg",children:"Loading..."})]})}):t?f.jsx(Rp,{to:"/dashboard",replace:!0}):f.jsx(bG,{})},Qo=g.forwardRef(({className:t,type:e,...n},r)=>f.jsx("input",{type:e,className:Ve("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...n}));Qo.displayName="Input";var IG="Label",QP=g.forwardRef((t,e)=>f.jsx(Oe.label,{...t,ref:e,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=t.onMouseDown)==null||s.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));QP.displayName=IG;var HP=QP;const RG=bw("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Ms=g.forwardRef(({className:t,...e},n)=>f.jsx(HP,{ref:n,className:Ve(RG(),t),...e}));Ms.displayName=HP.displayName;const YE=g.forwardRef(({className:t,...e},n)=>f.jsx("textarea",{className:Ve("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:n,...e}));YE.displayName="Textarea";function yt(t,e){const n=window;typeof window<"u"&&typeof n.gtag=="function"&&n.gtag("event",t,e||{})}const PG=()=>{const[t,e]=g.useState(""),[n,r]=g.useState(""),[s,i]=g.useState(""),[o,a]=g.useState(""),[l,c]=g.useState(!1),{register:d,user:p,loading:h}=ds(),v=Hs();g.useEffect(()=>{yt("page_view",{page:"Register"})},[]);const E=async y=>{if(y.preventDefault(),!t.trim()||!n.trim()||!o.trim()){it({title:"Missing Information",description:"Please fill in your name, email, and password.",variant:"destructive"}),yt("register_missing_info");return}c(!0);try{yt("register_attempt",{email:n}),await d(t.trim(),n.trim(),o.trim(),s.trim()||null),it({title:"Welcome to Vape Master!",description:"Your loyalty card is ready!"}),yt("register_success",{user_id:p.id,user_role:p.role}),v("/dashboard")}catch(A){let x="Please try again.";A&&typeof A=="object"&&"message"in A&&typeof A.message=="string"&&(x=A.message),it({title:"Registration Failed",description:x,variant:"destructive"}),yt("register_failed",{email:n,error:x})}finally{c(!1)}};return f.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-black via-gray-900 to-red-950 relative overflow-hidden",children:[f.jsxs("div",{className:"absolute inset-0 opacity-10",children:[f.jsx("div",{className:"absolute top-20 right-10 w-40 h-40 bg-red-500 rounded-full blur-3xl animate-pulse"}),f.jsx("div",{className:"absolute bottom-32 left-10 w-32 h-32 bg-red-600 rounded-full blur-3xl animate-pulse delay-1000"})]}),f.jsxs("div",{className:"relative z-10 min-h-screen flex flex-col",children:[f.jsx("div",{className:"p-6",children:f.jsx(Ys,{to:"/",className:"text-red-400 hover:text-red-300 transition-colors",children:f.jsx(dd,{className:"w-6 h-6"})})}),f.jsx("div",{className:"flex-1 flex items-center justify-center px-6",children:f.jsx("div",{className:"w-full max-w-md",children:f.jsxs("div",{className:"bg-gray-900/80 backdrop-blur-sm border border-red-900/30 rounded-2xl p-8 shadow-2xl",children:[f.jsxs("div",{className:"text-center mb-8",children:[f.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"Join the Club"}),f.jsx("p",{className:"text-gray-400",children:"Create your loyalty account"})]}),f.jsxs("form",{onSubmit:E,className:"space-y-6",children:[f.jsxs("div",{className:"space-y-2",children:[f.jsx(Ms,{htmlFor:"name",className:"text-white",children:"Full Name"}),f.jsx(Qo,{id:"name",type:"text",value:t,onChange:y=>e(y.target.value),placeholder:"Enter your full name",className:"bg-gray-800/50 border-gray-700 text-white placeholder-gray-400 focus:border-red-500",required:!0})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx(Ms,{htmlFor:"email",className:"text-white",children:"Email"}),f.jsx(Qo,{id:"email",type:"email",value:n,onChange:y=>r(y.target.value),placeholder:"Enter your email",className:"bg-gray-800/50 border-gray-700 text-white placeholder-gray-400 focus:border-red-500",required:!0})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx(Ms,{htmlFor:"password",className:"text-white",children:"Password"}),f.jsx(Qo,{id:"password",type:"password",value:o,onChange:y=>a(y.target.value),placeholder:"Create a password",className:"bg-gray-800/50 border-gray-700 text-white placeholder-gray-400 focus:border-red-500",required:!0})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx(Ms,{htmlFor:"feedback",className:"text-white",children:"Feedback (Optional)"}),f.jsx(YE,{id:"feedback",value:s,onChange:y=>i(y.target.value),placeholder:"Tell us about your experience...",className:"bg-gray-800/50 border-gray-700 text-white placeholder-gray-400 focus:border-red-500 min-h-[100px]"})]}),f.jsx(qn,{type:"submit",className:"w-full py-3 bg-gradient-to-r from-red-600 to-red-700 hover:from-red-700 hover:to-red-800 text-white font-semibold",disabled:l,children:l?"Creating Account...":"Create Account"})]}),f.jsx("div",{className:"mt-6 text-center",children:f.jsxs("p",{className:"text-gray-400",children:["Already have an account?"," ",f.jsx(Ys,{to:"/login",className:"text-red-400 hover:text-red-300 transition-colors font-semibold",children:"Sign in"})]})})]})})})]})]})},NG=()=>{const[t,e]=g.useState(""),[n,r]=g.useState(""),[s,i]=g.useState(!1),{login:o,user:a,loading:l}=ds(),c=Hs(),d=yo();g.useEffect(()=>{yt("page_view",{page:"Login"})},[]);const p=async h=>{var v,E;if(h.preventDefault(),!t.trim()||!n.trim()){it({title:"Missing Information",description:"Please enter your email and password.",variant:"destructive"}),yt("login_missing_info");return}i(!0);try{yt("login_attempt",{email:t});const y=await o(t.trim(),n.trim());if(y){it({title:"Welcome back!",description:`Good to see you again, ${y.name}!`}),yt("login_success",{user_id:y.id,user_role:y.role});const A=((E=(v=d.state)==null?void 0:v.from)==null?void 0:E.pathname)||"/dashboard";c(A,{replace:!0})}else it({title:"User Not Found",description:"No account found with this email. Please register first.",variant:"destructive"}),yt("login_user_not_found",{email:t})}catch(y){let A="Please try again.";y&&typeof y=="object"&&"message"in y&&typeof y.message=="string"&&(A=y.message),it({title:"Login Failed",description:A,variant:"destructive"}),yt("login_failed",{email:t,error:A})}finally{i(!1)}};return f.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-black via-gray-900 to-red-950 relative overflow-hidden",children:[f.jsxs("div",{className:"absolute inset-0 opacity-10",children:[f.jsx("div",{className:"absolute top-20 right-10 w-40 h-40 bg-red-500 rounded-full blur-3xl animate-pulse"}),f.jsx("div",{className:"absolute bottom-32 left-10 w-32 h-32 bg-red-600 rounded-full blur-3xl animate-pulse delay-1000"})]}),f.jsxs("div",{className:"relative z-10 min-h-screen flex flex-col",children:[f.jsx("div",{className:"p-6",children:f.jsx(Ys,{to:"/",className:"text-red-400 hover:text-red-300 transition-colors",children:f.jsx(dd,{className:"w-6 h-6"})})}),f.jsx("div",{className:"flex-1 flex items-center justify-center px-6",children:f.jsx("div",{className:"w-full max-w-md",children:f.jsxs("div",{className:"bg-gray-900/80 backdrop-blur-sm border border-red-900/30 rounded-2xl p-8 shadow-2xl",children:[f.jsxs("div",{className:"text-center mb-8",children:[f.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"Welcome Back"}),f.jsx("p",{className:"text-gray-400",children:"Sign in to your loyalty account"})]}),f.jsxs("form",{onSubmit:p,className:"space-y-6",children:[f.jsxs("div",{className:"space-y-2",children:[f.jsx(Ms,{htmlFor:"email",className:"text-white",children:"Email"}),f.jsx(Qo,{id:"email",type:"email",value:t,onChange:h=>e(h.target.value),placeholder:"Enter your email",className:"bg-gray-800/50 border-gray-700 text-white placeholder-gray-400 focus:border-red-500",required:!0})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx(Ms,{htmlFor:"password",className:"text-white",children:"Password"}),f.jsx(Qo,{id:"password",type:"password",value:n,onChange:h=>r(h.target.value),placeholder:"Enter your password",className:"bg-gray-800/50 border-gray-700 text-white placeholder-gray-400 focus:border-red-500",required:!0})]}),f.jsx(qn,{type:"submit",className:"w-full py-3 bg-gradient-to-r from-red-600 to-red-700 hover:from-red-700 hover:to-red-800 text-white font-semibold",disabled:s,children:s?"Signing In...":"Sign In"})]}),f.jsx("div",{className:"mt-6 text-center",children:f.jsxs("p",{className:"text-gray-400",children:["Don't have an account?"," ",f.jsx(Ys,{to:"/register",className:"text-red-400 hover:text-red-300 transition-colors font-semibold",children:"Sign up"})]})})]})})})]})]})},kG=5;function MG(){const{user:t,loading:e,addPurchase:n,logout:r,settings:s,allUsers:i,allUsersLoading:o}=ds(),a=Hs(),[l,c]=g.useState(!1),d=g.useRef(null),[p,h]=g.useState(!1),[v,E]=g.useState(0),[y,A]=g.useState(null),[x,w]=g.useState("progress"),_=(t==null?void 0:t.purchaseLimit)||(s==null?void 0:s.purchaseLimit)||kG;g.useEffect(()=>{!e&&!t&&a("/login")},[t,e,a]),g.useEffect(()=>{t&&(A(new Date),d.current!==null&&d.current!==t.purchases&&t.purchases-d.current>0&&(it({title:"Purchase Updated! 📱",description:`Your purchase count was updated via QR scan. New total: ${t.purchases}/${_}`}),h(!0),E(S=>S+1),setTimeout(()=>h(!1),2500),t.isRewardReady&&d.current<_&&setTimeout(()=>{it({title:"Reward Unlocked! 🎉",description:"You've earned a reward! Check your rewards page."}),setTimeout(()=>a("/rewards"),1500)},1e3)),d.current===0&&t.purchases===1&&(c(!0),setTimeout(()=>c(!1),3e3)),d.current=t.purchases)},[t==null?void 0:t.purchases,t==null?void 0:t.isRewardReady,a,_]);const R=Math.max(0,_-((t==null?void 0:t.purchases)||0));return{user:t,loading:e,addPurchase:n,logout:r,settings:s,allUsers:i,allUsersLoading:o,navigate:a,showFirstConfetti:l,showConfetti:p,confettiKey:v,lastUpdateTime:y,activeTab:x,setActiveTab:w,userPurchaseLimit:_,purchasesRemaining:R,handleAddPurchase:()=>{!t||t.purchases>=_||(n(),h(!0),E(I=>I+1),setTimeout(()=>h(!1),2500),t.purchases+1>=_?(it({title:"Reward Unlocked! 🎉",description:"You've earned a reward! Check your rewards page."}),setTimeout(()=>a("/rewards"),1500)):it({title:"Purchase Added!",description:`${_-1-t.purchases} more purchases until your next reward!`}))},handleLogout:()=>{r(),it({title:"Logged Out",description:"Thanks for visiting Vape Master!"}),a("/")}}}var _f={linear:function(t,e,n,r){var s=n-e;return s*t/r+e},easeInQuad:function(t,e,n,r){var s=n-e;return s*(t/=r)*t+e},easeOutQuad:function(t,e,n,r){var s=n-e;return-s*(t/=r)*(t-2)+e},easeInOutQuad:function(t,e,n,r){var s=n-e;return(t/=r/2)<1?s/2*t*t+e:-s/2*(--t*(t-2)-1)+e},easeInCubic:function(t,e,n,r){var s=n-e;return s*(t/=r)*t*t+e},easeOutCubic:function(t,e,n,r){var s=n-e;return s*((t=t/r-1)*t*t+1)+e},easeInOutCubic:function(t,e,n,r){var s=n-e;return(t/=r/2)<1?s/2*t*t*t+e:s/2*((t-=2)*t*t+2)+e},easeInQuart:function(t,e,n,r){var s=n-e;return s*(t/=r)*t*t*t+e},easeOutQuart:function(t,e,n,r){var s=n-e;return-s*((t=t/r-1)*t*t*t-1)+e},easeInOutQuart:function(t,e,n,r){var s=n-e;return(t/=r/2)<1?s/2*t*t*t*t+e:-s/2*((t-=2)*t*t*t-2)+e},easeInQuint:function(t,e,n,r){var s=n-e;return s*(t/=r)*t*t*t*t+e},easeOutQuint:function(t,e,n,r){var s=n-e;return s*((t=t/r-1)*t*t*t*t+1)+e},easeInOutQuint:function(t,e,n,r){var s=n-e;return(t/=r/2)<1?s/2*t*t*t*t*t+e:s/2*((t-=2)*t*t*t*t+2)+e},easeInSine:function(t,e,n,r){var s=n-e;return-s*Math.cos(t/r*(Math.PI/2))+s+e},easeOutSine:function(t,e,n,r){var s=n-e;return s*Math.sin(t/r*(Math.PI/2))+e},easeInOutSine:function(t,e,n,r){var s=n-e;return-s/2*(Math.cos(Math.PI*t/r)-1)+e},easeInExpo:function(t,e,n,r){var s=n-e;return t==0?e:s*Math.pow(2,10*(t/r-1))+e},easeOutExpo:function(t,e,n,r){var s=n-e;return t==r?e+s:s*(-Math.pow(2,-10*t/r)+1)+e},easeInOutExpo:function(t,e,n,r){var s=n-e;return t===0?e:t===r?e+s:(t/=r/2)<1?s/2*Math.pow(2,10*(t-1))+e:s/2*(-Math.pow(2,-10*--t)+2)+e},easeInCirc:function(t,e,n,r){var s=n-e;return-s*(Math.sqrt(1-(t/=r)*t)-1)+e},easeOutCirc:function(t,e,n,r){var s=n-e;return s*Math.sqrt(1-(t=t/r-1)*t)+e},easeInOutCirc:function(t,e,n,r){var s=n-e;return(t/=r/2)<1?-s/2*(Math.sqrt(1-t*t)-1)+e:s/2*(Math.sqrt(1-(t-=2)*t)+1)+e},easeInElastic:function(t,e,n,r){var s=n-e,i,o,a;return a=1.70158,o=0,i=s,t===0?e:(t/=r)===1?e+s:(o||(o=r*.3),i<Math.abs(s)?(i=s,a=o/4):a=o/(2*Math.PI)*Math.asin(s/i),-(i*Math.pow(2,10*(t-=1))*Math.sin((t*r-a)*(2*Math.PI)/o))+e)},easeOutElastic:function(t,e,n,r){var s=n-e,i,o,a;return a=1.70158,o=0,i=s,t===0?e:(t/=r)===1?e+s:(o||(o=r*.3),i<Math.abs(s)?(i=s,a=o/4):a=o/(2*Math.PI)*Math.asin(s/i),i*Math.pow(2,-10*t)*Math.sin((t*r-a)*(2*Math.PI)/o)+s+e)},easeInOutElastic:function(t,e,n,r){var s=n-e,i,o,a;return a=1.70158,o=0,i=s,t===0?e:(t/=r/2)===2?e+s:(o||(o=r*(.3*1.5)),i<Math.abs(s)?(i=s,a=o/4):a=o/(2*Math.PI)*Math.asin(s/i),t<1?-.5*(i*Math.pow(2,10*(t-=1))*Math.sin((t*r-a)*(2*Math.PI)/o))+e:i*Math.pow(2,-10*(t-=1))*Math.sin((t*r-a)*(2*Math.PI)/o)*.5+s+e)},easeInBack:function(t,e,n,r,s){var i=n-e;return s===void 0&&(s=1.70158),i*(t/=r)*t*((s+1)*t-s)+e},easeOutBack:function(t,e,n,r,s){var i=n-e;return s===void 0&&(s=1.70158),i*((t=t/r-1)*t*((s+1)*t+s)+1)+e},easeInOutBack:function(t,e,n,r,s){var i=n-e;return s===void 0&&(s=1.70158),(t/=r/2)<1?i/2*(t*t*(((s*=1.525)+1)*t-s))+e:i/2*((t-=2)*t*(((s*=1.525)+1)*t+s)+2)+e},easeInBounce:function(t,e,n,r){var s=n-e,i;return i=_f.easeOutBounce(r-t,0,s,r),s-i+e},easeOutBounce:function(t,e,n,r){var s=n-e;return(t/=r)<1/2.75?s*(7.5625*t*t)+e:t<2/2.75?s*(7.5625*(t-=1.5/2.75)*t+.75)+e:t<2.5/2.75?s*(7.5625*(t-=2.25/2.75)*t+.9375)+e:s*(7.5625*(t-=2.625/2.75)*t+.984375)+e},easeInOutBounce:function(t,e,n,r){var s=n-e,i;return t<r/2?(i=_f.easeInBounce(t*2,0,s,r),i*.5+e):(i=_f.easeOutBounce(t*2-r,0,s,r),i*.5+s*.5+e)}},DG=_f;function OG(t){return t*Math.PI/180}function Wn(t,e){return t+Math.random()*(e-t)}function LG(t,e){return Math.floor(t+Math.random()*(e-t+1))}var pu;(function(t){t[t.Circle=0]="Circle",t[t.Square=1]="Square",t[t.Strip=2]="Strip"})(pu||(pu={}));var gi;(function(t){t[t.Positive=1]="Positive",t[t.Negative=-1]="Negative"})(gi||(gi={}));const VG=1e3/60;class FG{constructor(e,n,r,s){this.getOptions=n;const{colors:i,initialVelocityX:o,initialVelocityY:a}=this.getOptions();this.context=e,this.x=r,this.y=s,this.w=Wn(5,20),this.h=Wn(5,20),this.radius=Wn(5,10),this.vx=typeof o=="number"?Wn(-o,o):Wn(o.min,o.max),this.vy=typeof a=="number"?Wn(-a,0):Wn(a.min,a.max),this.shape=LG(0,2),this.angle=OG(Wn(0,360)),this.angularSpin=Wn(-.2,.2),this.color=i[Math.floor(Math.random()*i.length)],this.rotateY=Wn(0,1),this.rotationDirection=Wn(0,1)?gi.Positive:gi.Negative}update(e){const{gravity:n,wind:r,friction:s,opacity:i,drawShape:o}=this.getOptions(),a=e/VG;this.x+=this.vx*a,this.y+=this.vy*a,this.vy+=n*a,this.vx+=r*a,this.vx*=s**a,this.vy*=s**a,this.rotateY>=1&&this.rotationDirection===gi.Positive?this.rotationDirection=gi.Negative:this.rotateY<=-1&&this.rotationDirection===gi.Negative&&(this.rotationDirection=gi.Positive);const l=.1*this.rotationDirection*a;if(this.rotateY+=l,this.angle+=this.angularSpin,this.context.save(),this.context.translate(this.x,this.y),this.context.rotate(this.angle),this.context.scale(1,this.rotateY),this.context.rotate(this.angle),this.context.beginPath(),this.context.fillStyle=this.color,this.context.strokeStyle=this.color,this.context.globalAlpha=i,this.context.lineCap="round",this.context.lineWidth=2,o&&typeof o=="function")o.call(this,this.context);else switch(this.shape){case pu.Circle:{this.context.beginPath(),this.context.arc(0,0,this.radius,0,2*Math.PI),this.context.fill();break}case pu.Square:{this.context.fillRect(-this.w/2,-this.h/2,this.w,this.h);break}case pu.Strip:{this.context.fillRect(-this.w/6,-this.h/2,this.w/3,this.h);break}}this.context.closePath(),this.context.restore()}}class jG{constructor(e,n){this.x=0,this.y=0,this.w=0,this.h=0,this.lastNumberOfPieces=0,this.tweenProgress=0,this.tweenFrom=0,this.particles=[],this.particlesGenerated=0,this.removeParticleAt=s=>{this.particles.splice(s,1)},this.getParticle=()=>{const s=Wn(this.x,this.w+this.x),i=Wn(this.y,this.h+this.y);return new FG(this.context,this.getOptions,s,i)},this.animate=s=>{const{canvas:i,context:o,particlesGenerated:a,lastNumberOfPieces:l}=this,{run:c,recycle:d,numberOfPieces:p,debug:h,tweenFunction:v,tweenDuration:E}=this.getOptions();if(!c)return!1;const y=this.particles.length,A=d?y:a;if(A<p){l!==p&&(this.tweenProgress=0,this.tweenFrom=A,this.lastNumberOfPieces=p),this.tweenProgress=Math.min(E,Math.max(0,this.tweenProgress+s));const x=v(this.tweenProgress,this.tweenFrom,p,E),w=Math.round(x-A);for(let _=0;_<w;_++)this.particles.push(this.getParticle());this.particlesGenerated+=w}h&&(o.font="12px sans-serif",o.fillStyle="#333",o.textAlign="right",o.fillText(`Particles: ${y}`,i.width-10,i.height-20));for(let x=this.particles.length-1;x>=0;x--){const w=this.particles[x];w.update(s),(w.y>i.height||w.y<-100||w.x>i.width+100||w.x<-100)&&(d&&A<=p?this.particles[x]=this.getParticle():this.removeParticleAt(x))}return y>0||A<p},this.canvas=e;const r=this.canvas.getContext("2d");if(!r)throw new Error("Could not get canvas context");this.context=r,this.getOptions=n}}const KE={width:typeof window<"u"?window.innerWidth:300,height:typeof window<"u"?window.innerHeight:200,numberOfPieces:200,friction:.99,wind:0,gravity:.1,initialVelocityX:4,initialVelocityY:10,colors:["#f44336","#e91e63","#9c27b0","#673ab7","#3f51b5","#2196f3","#03a9f4","#00bcd4","#009688","#4CAF50","#8BC34A","#CDDC39","#FFEB3B","#FFC107","#FF9800","#FF5722","#795548"],opacity:1,debug:!1,tweenFunction:DG.easeInOutQuad,tweenDuration:5e3,recycle:!0,run:!0};class BG{constructor(e,n){this.lastFrameTime=0,this.setOptionsWithDefaults=s=>{const i={confettiSource:{x:0,y:0,w:this.canvas.width,h:0}};this._options={...i,...KE,...s},Object.assign(this,s.confettiSource)},this.update=(s=0)=>{const{options:{run:i,onConfettiComplete:o,frameRate:a},canvas:l,context:c}=this,d=Math.min(s-this.lastFrameTime,50);if(a&&d<1e3/a){this.rafId=requestAnimationFrame(this.update);return}this.lastFrameTime=s-(a?d%a:0),i&&(c.fillStyle="white",c.clearRect(0,0,l.width,l.height)),this.generator.animate(d)?this.rafId=requestAnimationFrame(this.update):(o&&typeof o=="function"&&this.generator.particlesGenerated>0&&o.call(this,this),this._options.run=!1)},this.reset=()=>{this.generator&&this.generator.particlesGenerated>0&&(this.generator.particlesGenerated=0,this.generator.particles=[],this.generator.lastNumberOfPieces=0)},this.stop=()=>{this.options={run:!1},this.rafId&&(cancelAnimationFrame(this.rafId),this.rafId=void 0)},this.canvas=e;const r=this.canvas.getContext("2d");if(!r)throw new Error("Could not get canvas context");this.context=r,this.generator=new jG(this.canvas,()=>this.options),this.options=n,this.update()}get options(){return this._options}set options(e){var s,i;const n=(s=this._options)==null?void 0:s.run,r=(i=this._options)==null?void 0:i.recycle;this.setOptionsWithDefaults(e),this.generator&&(Object.assign(this.generator,this.options.confettiSource),typeof e.recycle=="boolean"&&e.recycle&&r===!1&&(this.generator.lastNumberOfPieces=this.generator.particles.length)),typeof e.run=="boolean"&&e.run&&n===!1&&this.update()}}const UG=K.createRef();class QE extends K.Component{constructor(e){super(e),this.canvas=K.createRef(),this.canvas=e.canvasRef||UG}componentDidMount(){if(this.canvas.current){const e=ry(this.props)[0];this.confetti=new BG(this.canvas.current,e)}}componentDidUpdate(){const e=ry(this.props)[0];this.confetti&&(this.confetti.options=e)}componentWillUnmount(){this.confetti&&this.confetti.stop(),this.confetti=void 0}render(){const[e,n]=ry(this.props),r={zIndex:2,position:"absolute",pointerEvents:"none",top:0,left:0,bottom:0,right:0,...n.style};return f.jsx("canvas",{width:e.width,height:e.height,ref:this.canvas,...n,style:r})}}QE.defaultProps={...KE};QE.displayName="ReactConfetti";function ry(t){const e={},n={},r={},s=[...Object.keys(KE),"confettiSource","drawShape","onConfettiComplete","frameRate"],i=["canvasRef"];for(const o in t){const a=t[o];s.includes(o)?e[o]=a:i.includes(o)?i[o]=a:r[o]=a}return[e,r,n]}const t0=K.forwardRef((t,e)=>f.jsx(QE,{canvasRef:e,...t})),qG=({title:t,onBack:e,actions:n})=>f.jsx("div",{className:"bg-gray-900/80 backdrop-blur-sm border-b border-red-900/30 sticky top-0 z-10",children:f.jsxs("div",{className:"p-6 flex items-center justify-between",children:[f.jsxs("div",{className:"flex items-center",children:[e&&f.jsx("button",{onClick:e,className:"text-red-400 hover:text-red-300 transition-colors",children:f.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),f.jsx("h1",{className:"ml-4 text-2xl font-bold text-white",children:t})]}),f.jsx("div",{className:"flex gap-2",children:n})]})}),GG=({reward:t,isOpen:e,onClose:n})=>!e||!t?null:f.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:f.jsxs("div",{className:"bg-gray-900 border border-red-900/30 rounded-lg max-w-2xl w-full max-h-[80vh] overflow-hidden",children:[f.jsxs("div",{className:"p-6 border-b border-red-900/30",children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx("h3",{className:"text-xl font-bold text-white",children:"Reward Details"}),f.jsx("button",{onClick:n,className:"text-gray-400 hover:text-white transition-colors",children:f.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),f.jsxs("div",{className:"mt-2 text-sm text-gray-400",children:[f.jsxs("p",{children:["Reward ID: ",t.rewardId]}),t.claimedAt&&f.jsxs("p",{className:"text-green-600",children:["Claimed:"," ",t.claimedAt.toDate?new Date(t.claimedAt.toDate()).toLocaleString():""]})]})]}),f.jsx("div",{className:"p-6 overflow-y-auto max-h-[60vh]",children:t.scanHistory&&t.scanHistory.length>0?f.jsxs("div",{children:[f.jsxs("h4",{className:"text-lg font-semibold text-white mb-4",children:["Scan History (",t.scanHistory.length," scans)"]}),f.jsx("div",{className:"overflow-x-auto",children:f.jsxs("table",{className:"min-w-full text-sm text-left text-gray-300",children:[f.jsx("thead",{children:f.jsxs("tr",{className:"border-b justify-between border-gray-700 md:table-row flex flex-col md:flex-row",children:[f.jsxs("th",{className:"px-4 py-3 font-semibold flex flex-col md:table-cell text-center md:text-left",children:[f.jsx("span",{className:"block md:hidden text-xs text-gray-400",children:"Scan #"}),f.jsx("span",{className:"hidden md:block",children:"Scan #"})]}),f.jsxs("th",{className:"px-4 py-3 font-semibold flex flex-col md:table-cell text-center md:text-left",children:[f.jsx("span",{className:"block md:hidden text-xs text-gray-400",children:"Scanned By"}),f.jsx("span",{className:"hidden md:block",children:"Scanned By"})]}),f.jsxs("th",{className:"px-4 py-3 font-semibold flex flex-col md:table-cell text-center md:text-left",children:[f.jsx("span",{className:"block md:hidden text-xs text-gray-400",children:"Date & Time"}),f.jsx("span",{className:"hidden md:block",children:"Date & Time"})]})]})}),f.jsx("tbody",{children:t.scanHistory.map((r,s)=>{var i,o;return f.jsxs("tr",{className:"border-b border-gray-800 hover:bg-gray-800/50 md:table-row flex flex-col md:flex-row justify-center text-center md:text-left",children:[f.jsxs("td",{className:"px-4 py-3 font-medium flex flex-col md:table-cell items-center md:items-start",children:[f.jsx("span",{className:"block text-xs text-gray-400 md:hidden",children:"Scan #"}),s+1]}),f.jsxs("td",{className:"px-4 py-3 flex flex-col md:table-cell items-center md:items-start",children:[f.jsx("span",{className:"block text-xs text-gray-400 md:hidden",children:"Scanned By"}),r.scannedBy]}),f.jsxs("td",{className:"px-4 py-3 flex flex-col md:table-cell items-center md:items-start",children:[f.jsx("span",{className:"block text-xs text-gray-400 md:hidden",children:"Date & Time"}),(i=r.timestamp)!=null&&i.toDate?new Date(r.timestamp.toDate()).toLocaleString():""]})]},((o=r.timestamp)==null?void 0:o.seconds)+r.scannedBy)})})]})})]}):f.jsx("div",{className:"text-center text-gray-400 py-8",children:f.jsx("p",{children:"No scan history available for this reward."})})}),f.jsx("div",{className:"p-6 border-t border-red-900/30",children:f.jsx("button",{onClick:n,className:"w-full bg-red-600 hover:bg-red-700 text-white font-semibold py-2 px-4 rounded-lg transition-colors",children:"Close"})})]})}),$G=({rewards:t,onRewardClick:e})=>!t||t.length===0?f.jsx("div",{className:"text-gray-400 text-sm",children:"No rewards claimed."}):f.jsxs("div",{className:"space-y-4 mt-2 mb-4",children:[f.jsx("h4",{className:"text-sm font-semibold text-white",children:"Claimed Rewards"}),t.slice().reverse().map((n,r)=>f.jsxs("div",{className:"border border-gray-700 rounded-lg p-3 cursor-pointer hover:bg-gray-800/50 transition-colors",onClick:()=>e(n),children:[f.jsxs("div",{className:"flex flex-wrap items-center justify-between mb-2",children:[f.jsxs("h5",{className:"text-sm font-medium text-white",children:["Reward #",t.length-r," - ",n.rewardId]}),f.jsxs("span",{className:"text-xs text-green-500 text-gray-400",children:["Claimed:"," ",n.claimedAt&&n.claimedAt.toDate?new Date(n.claimedAt.toDate()).toLocaleString():""]})]}),n.scanHistory&&n.scanHistory.length>0&&f.jsxs("div",{className:"mt-2",children:[f.jsxs("h6",{className:"text-xs font-medium text-gray-300 mb-1",children:["Scans for this reward: ",n.scanHistory.length," scans"]}),f.jsx("p",{className:"text-xs text-gray-400",children:"Click to view detailed scan history"})]})]},n.rewardId))]}),zG=({allUsers:t})=>{const[e,n]=g.useState(null),[r,s]=g.useState(!1);return f.jsxs("div",{className:"bg-gradient-to-br from-gray-900/90 via-black/80 to-red-950/90 border border-red-900/40 rounded-none p-6 min-h-[460px] flex flex-col justify-start -mt-0 shadow-2xl",children:[f.jsx("h3",{className:"text-2xl font-bold text-white mb-4",children:"Rewards History"}),f.jsx("div",{className:"space-y-2",children:t.filter(i=>i.role==="customer").map(i=>{var o,a;return f.jsxs("div",{className:"bg-gray-800/60 rounded-lg p-4",children:[f.jsxs("div",{className:"flex flex-wrap items-center justify-between mb-2",children:[f.jsxs("span",{className:"font-semibold text-white",children:[i.name," (",i.email,")"]}),f.jsxs("span",{className:"text-xs text-gray-400",children:["Total Scans: ",((a=(o=i.currentReward)==null?void 0:o.scanHistory)==null?void 0:a.length)||0]})]}),f.jsx($G,{rewards:i.rewards,onRewardClick:l=>{n(l),s(!0)}})]},i.id)})}),f.jsx(GG,{reward:e,isOpen:r,onClose:()=>{s(!1),n(null)}})]})},WG=({users:t,loading:e})=>{const n=s=>{switch(s){case"super_admin":return f.jsx(mv,{className:"w-4 h-4 text-yellow-500"});case"admin":return f.jsx(gS,{className:"w-4 h-4 text-blue-500"});default:return f.jsx(rp,{className:"w-4 h-4 text-gray-400"})}},r=s=>{switch(s){case"super_admin":return"text-yellow-400";case"admin":return"text-blue-400";default:return"text-gray-400"}};return e?f.jsxs("div",{className:"flex items-center justify-center py-8",children:[f.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-red-500"}),f.jsx("span",{className:"ml-3 text-gray-400",children:"Loading users..."})]}):t.length===0?f.jsxs("div",{className:"text-center py-8",children:[f.jsx(rp,{className:"w-12 h-12 text-gray-500 mx-auto mb-4"}),f.jsx("p",{className:"text-gray-400",children:"No users found"})]}):f.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:t.map(s=>{var a;const i=s.purchaseLimit||5,o=Math.min(100,s.purchases/i*100);return f.jsxs("div",{className:"bg-gray-800/60 backdrop-blur-sm border border-gray-700/50 rounded-lg p-4 hover:bg-gray-800/80 transition-all duration-200",children:[f.jsxs("div",{className:"flex items-center flex-wrap justify-between mb-3",children:[f.jsxs("div",{className:"flex items-center space-x-3",children:[f.jsxs("div",{className:"flex items-center space-x-2",children:[n(s.role),f.jsx("span",{className:`text-sm font-medium ${r(s.role)}`,children:(s.role||"").replace("_"," ").toUpperCase()})]}),f.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"})]}),f.jsx("div",{className:"text-right",children:f.jsx("div",{className:"text-sm text-gray-400",children:s.lastScanAt?new Date(s.lastScanAt.toDate()).toLocaleDateString():"Never"})})]}),f.jsx("div",{className:"mb-3",children:f.jsxs("div",{className:"flex items-center flex-wrap justify-between mb-1",children:[f.jsx("span",{className:"font-semibold text-white",children:s.name}),f.jsx("span",{className:"text-sm text-gray-400",children:s.email})]})}),f.jsxs("div",{className:"space-y-2",children:[f.jsxs("div",{className:"flex items-center justify-between text-sm",children:[f.jsx("span",{className:"text-gray-400",children:"Progress:"}),f.jsxs("span",{className:"text-white font-medium",children:[s.purchases,"/",i]})]}),f.jsx("div",{className:"w-full bg-gray-700 rounded-full h-2",children:f.jsx("div",{className:`h-2 rounded-full transition-all duration-300 ${o>=100?"bg-green-500":"bg-red-500"}`,style:{width:`${o}%`}})}),f.jsxs("div",{className:"flex items-center flex-wrap justify-between text-xs text-gray-500",children:[f.jsxs("span",{children:[((a=s.rewards)==null?void 0:a.length)||0," rewards claimed"]}),f.jsx("span",{children:s.isRewardReady?"🎉 Ready!":`${i-s.purchases} to go`})]})]})]},s.id)})})},YG=({activeTab:t,setActiveTab:e,userRole:n})=>f.jsx("div",{className:"w-full flex justify-center mt-6",children:f.jsx("div",{className:"flex w-full max-w-md",children:n==="customer"?f.jsxs(f.Fragment,{children:[f.jsx("button",{className:`w-1/2 px-6 py-5 font-semibold text-base transition-all duration-200 focus:outline-none border-b-2 border-r-0 border-l-0 border-t-0 rounded-none ${t==="progress"?"bg-gray-900/80 border-red-500 text-red-400":"bg-gray-800/60 border-transparent text-gray-400 hover:text-red-300"}`,onClick:()=>e("progress"),children:"Progress"}),f.jsx("button",{className:`w-1/2 px-6 py-5 font-semibold text-base transition-all duration-200 focus:outline-none border-b-2 border-r-0 border-l-0 border-t-0 rounded-none ${t==="card"?"bg-gray-900/80 border-red-500 text-red-400":"bg-gray-800/60 border-transparent text-gray-400 hover:text-red-300"}`,onClick:()=>e("card"),children:"Loyalty Rewards"})]}):f.jsxs(f.Fragment,{children:[f.jsx("button",{className:`w-1/2 px-6 py-5 font-semibold text-base transition-all duration-200 focus:outline-none border-b-2 border-r-0 border-l-0 border-t-0 rounded-none ${t==="progress"?"bg-gray-900/80 border-red-500 text-red-400":"bg-gray-800/60 border-transparent text-gray-400 hover:text-red-300"}`,onClick:()=>e("progress"),children:"Users"}),f.jsx("button",{className:`w-1/2 px-6 py-5 font-semibold text-base transition-all duration-200 focus:outline-none border-b-2 border-r-0 border-l-0 border-t-0 rounded-none ${t==="card"?"bg-gray-900/80 border-red-500 text-red-400":"bg-gray-800/60 border-transparent text-gray-400 hover:text-red-300"}`,onClick:()=>e("card"),children:"Loyalty Rewards"})]})})}),KG=({value:t,max:e})=>{const n=Math.min(100,Math.max(0,t/e*100)),r=48,s=8,i=r-s/2,o=2*Math.PI*i,a=o-n/100*o;return f.jsx("div",{className:"flex flex-col items-center justify-center",children:f.jsxs("svg",{height:r*2,width:r*2,className:"transform -rotate-90",children:[f.jsx("circle",{stroke:"#374151",fill:"transparent",strokeWidth:s,strokeDasharray:o+" "+o,style:{strokeDashoffset:0},r:i,cx:r,cy:r}),f.jsx("circle",{stroke:"#ef4444",fill:"transparent",strokeWidth:s,strokeDasharray:o+" "+o,style:{strokeDashoffset:a},r:i,cx:r,cy:r})]})})},JP=t=>{const[e,n]=g.useState({canScan:!0,nextScanTime:null,remainingTime:null,hoursRemaining:0,isComplete:!1});return g.useEffect(()=>{if(!t){n({canScan:!0,nextScanTime:null,remainingTime:null,hoursRemaining:0,isComplete:!1});return}const r=()=>{const i=t.toDate(),o=new Date,a=new Date(o);a.setHours(0,0,0,0);const l=new Date(a);l.setDate(l.getDate()+1);const c=new Date(i);if(c.setHours(0,0,0,0),c.getTime()===a.getTime()){const h=(l.getTime()-o.getTime())/(1e3*60*60),v=Math.floor(h),E=Math.floor((h-v)*60),y=Math.floor(((h-v)*60-E)*60),A=`${v}h ${E}m ${y}s`;n({canScan:!1,nextScanTime:l.toLocaleString(),remainingTime:A,hoursRemaining:Math.ceil(h),isComplete:!1})}else n({canScan:!0,nextScanTime:null,remainingTime:null,hoursRemaining:0,isComplete:!0})};r();const s=setInterval(r,1e3);return()=>clearInterval(s)},[t]),e},XP=({remainingTime:t,hoursRemaining:e,totalHours:n=24,size:r=120,strokeWidth:s=8,isComplete:i=!1})=>{const o=(r-s)/2,a=e*3600,l=Math.floor(a/3600),c=Math.floor(a%3600/60),d=a%60,p=(24-l)%12*30,h=(60-c)%60*6,v=(60-d)%60*6,E=t.split(" "),y=E.find(w=>w.includes("h"))||"0h",A=E.find(w=>w.includes("m"))||"0m",x=E.find(w=>w.includes("s"))||"0s";return f.jsxs("div",{className:"relative flex items-center justify-center",children:[f.jsxs("div",{className:`relative ${i?"animate-bounce":""}`,children:[f.jsxs("svg",{width:r,height:r,children:[f.jsx("circle",{cx:r/2,cy:r/2,r:o+4,stroke:"rgba(239, 68, 68, 0.3)",strokeWidth:2,fill:"none"}),f.jsx("circle",{cx:r/2,cy:r/2,r:o,stroke:"rgba(255, 255, 255, 0.1)",strokeWidth:s,fill:"none"}),Array.from({length:12},(w,_)=>{const R=(_*30-90)*(Math.PI/180),O=r/2+(o-8)*Math.cos(R),j=r/2+(o-8)*Math.sin(R),I=r/2+(o-2)*Math.cos(R),S=r/2+(o-2)*Math.sin(R);return f.jsx("line",{x1:O,y1:j,x2:I,y2:S,stroke:"rgba(239, 68, 68, 0.4)",strokeWidth:2},_)}),f.jsxs("g",{transform:`rotate(${p}, ${r/2}, ${r/2})`,children:[f.jsx("line",{x1:r/2,y1:r/2,x2:r/2,y2:r/2-o*.5,stroke:"rgba(0, 0, 0, 0.5)",strokeWidth:8,strokeLinecap:"round",transform:"translate(2, 2)"}),f.jsx("line",{x1:r/2,y1:r/2,x2:r/2,y2:r/2-o*.5,stroke:"url(#redGradient)",strokeWidth:6,strokeLinecap:"round",className:"transition-all duration-1000 ease-out drop-shadow-lg"})]}),f.jsxs("g",{transform:`rotate(${h}, ${r/2}, ${r/2})`,children:[f.jsx("line",{x1:r/2,y1:r/2,x2:r/2,y2:r/2-o*.7,stroke:"rgba(0, 0, 0, 0.5)",strokeWidth:6,strokeLinecap:"round",transform:"translate(1, 1)"}),f.jsx("line",{x1:r/2,y1:r/2,x2:r/2,y2:r/2-o*.7,stroke:"url(#redGradient)",strokeWidth:4,strokeLinecap:"round",className:"transition-all duration-1000 ease-out drop-shadow-lg"})]}),f.jsxs("g",{transform:`rotate(${v}, ${r/2}, ${r/2})`,children:[f.jsx("line",{x1:r/2,y1:r/2,x2:r/2,y2:r/2-o*.8,stroke:"rgba(0, 0, 0, 0.5)",strokeWidth:4,strokeLinecap:"round",transform:"translate(1, 1)"}),f.jsx("line",{x1:r/2,y1:r/2,x2:r/2,y2:r/2-o*.8,stroke:"url(#redGradient)",strokeWidth:3,strokeLinecap:"round",className:"transition-all duration-1000 ease-out drop-shadow-lg"}),f.jsx("circle",{cx:r/2,cy:r/2-o*.8,r:4,fill:"url(#redGradient)",stroke:"rgba(0, 0, 0, 0.3)",strokeWidth:1,className:"transition-all duration-1000 ease-out"})]}),f.jsx("circle",{cx:r/2,cy:r/2,r:6,fill:"url(#redGradient)",stroke:"rgba(255, 255, 255, 0.5)",strokeWidth:2}),f.jsx("defs",{children:f.jsxs("linearGradient",{id:"redGradient",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[f.jsx("stop",{offset:"0%",stopColor:"#ef4444"}),f.jsx("stop",{offset:"100%",stopColor:"#dc2626"})]})})]}),f.jsx("div",{className:"absolute inset-0 flex flex-col items-center justify-center",children:f.jsxs("div",{className:"bg-black/60 backdrop-blur-sm rounded-lg px-4 py-3 border border-red-500/30 shadow-lg",children:[f.jsx("div",{className:"text-2xl font-bold text-red-400 font-mono tracking-wider",children:y}),f.jsxs("div",{className:"text-sm text-red-300 font-mono text-center",children:[A," ",x]})]})})]}),f.jsx("div",{className:"absolute inset-0 rounded-full bg-gradient-to-r from-red-500/20 to-red-600/20 blur-xl scale-110"})]})},QG=({user:t,userPurchaseLimit:e,settings:n,purchasesRemaining:r,onViewReward:s})=>{const{canScan:i,nextScanTime:o,remainingTime:a,hoursRemaining:l,isComplete:c}=JP(t.lastScanAt);return f.jsxs("div",{className:"relative overflow-hidden bg-gradient-to-br from-gray-900/90 via-black/80 to-red-950/90 border border-red-900/40 rounded-none p-10 min-h-[460px] flex flex-col justify-center -mt-0 shadow-2xl",children:[f.jsxs("div",{className:"absolute inset-0 z-0 pointer-events-none",children:[f.jsx("div",{className:"absolute -top-20 -left-20 w-96 h-96 bg-gradient-to-br from-red-500/30 via-pink-500/20 to-purple-700/10 rounded-full blur-3xl animate-pulse",style:{animationDuration:"4s"}}),f.jsx("div",{className:"absolute bottom-0 right-0 w-80 h-80 bg-gradient-to-tr from-blue-500/20 via-cyan-400/10 to-purple-700/10 rounded-full blur-2xl animate-pulse delay-1000",style:{animationDuration:"6s"}}),f.jsx("div",{className:"absolute top-1/2 left-1/2 w-1/2 h-1/2 bg-gradient-radial from-red-400/10 via-transparent to-transparent rounded-full blur-2xl animate-pulse",style:{animationDuration:"7s"}})]}),f.jsxs("div",{className:"relative z-10 flex flex-col items-center justify-center h-full",children:[f.jsx("h3",{className:"text-3xl font-extrabold text-white mb-2 tracking-tight drop-shadow-[0_0_16px_#ef4444cc] animate-fadeIn",children:"Your Progress"}),f.jsxs("div",{className:"flex flex-col items-center justify-center mb-6 animate-fadeIn",children:[f.jsxs("div",{className:"relative flex items-center justify-center",children:[f.jsx("div",{className:"absolute w-36 h-36 rounded-full bg-gradient-to-tr from-red-500/40 via-pink-400/20 to-purple-700/10 blur-2xl animate-pulse",style:{animationDuration:"3s"}}),f.jsx(KG,{value:t.purchases,max:e}),f.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:f.jsx("span",{className:"text-4xl mb-5 mr-3 font-extrabold text-white drop-shadow-[0_2px_8px_#000a] animate-pulse",children:t.purchases})})]}),f.jsx("div",{className:"mt-2 flex flex-col items-center",children:f.jsxs("span",{className:"text-base text-gray-300 font-semibold tracking-wide",children:["of ",e," Purchases"]})})]}),f.jsxs("div",{className:"text-center space-y-4",children:[!i&&a&&f.jsxs("div",{className:"p-5 bg-gradient-to-br from-red-900/40 to-red-800/40 border border-red-700/50 rounded-xl shadow-lg",children:[f.jsx("div",{className:"text-red-400 text-sm font-bold mb-3 text-center",children:"⏰ DAILY RESET TIMER"}),f.jsx("div",{className:"flex justify-center mb-3",children:f.jsx(XP,{remainingTime:a,hoursRemaining:l,totalHours:24,size:90,strokeWidth:7,isComplete:c})}),f.jsx("div",{className:"text-center",children:f.jsxs("div",{className:"inline-flex items-center px-3 py-1 bg-red-900/50 border border-red-600/50 rounded-full",children:[f.jsx("div",{className:"w-1.5 h-1.5 bg-red-400 rounded-full mr-2 animate-pulse"}),f.jsx("span",{className:"text-red-300 text-xs font-medium",children:"ACTIVE"})]})})]}),i&&f.jsx("div",{className:"p-3 bg-gradient-to-r from-green-900/30 to-emerald-900/30 border border-green-700/50 rounded-lg",children:f.jsx("div",{className:"text-green-400 text-sm font-medium",children:c?"🎉 Ready for next scan!":"✅ Ready for next scan"})}),f.jsx("p",{className:"text-gray-400 text-sm max-w-xs",children:t.purchases>=e?"🎉 You've earned a reward! Check your rewards page.":(n==null?void 0:n.descriptionMessage)||`Complete ${r} more purchase${r===1?"":"s"} to unlock your reward.`}),t.isRewardReady&&s&&f.jsx(qn,{onClick:s,className:"bg-gradient-to-r from-red-600 to-red-700 hover:from-red-700 hover:to-red-800 text-white font-semibold px-8 py-3 rounded-lg shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-105",children:"View Reward 🎉"})]})]})]})};var bd={},HG=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then},ZP={},ir={};let HE;const JG=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];ir.getSymbolSize=function(e){if(!e)throw new Error('"version" cannot be null or undefined');if(e<1||e>40)throw new Error('"version" should be in range from 1 to 40');return e*4+17};ir.getSymbolTotalCodewords=function(e){return JG[e]};ir.getBCHDigit=function(t){let e=0;for(;t!==0;)e++,t>>>=1;return e};ir.setToSJISFunction=function(e){if(typeof e!="function")throw new Error('"toSJISFunc" is not a valid function.');HE=e};ir.isKanjiModeEnabled=function(){return typeof HE<"u"};ir.toSJIS=function(e){return HE(e)};var Dm={};(function(t){t.L={bit:1},t.M={bit:0},t.Q={bit:3},t.H={bit:2};function e(n){if(typeof n!="string")throw new Error("Param is not a string");switch(n.toLowerCase()){case"l":case"low":return t.L;case"m":case"medium":return t.M;case"q":case"quartile":return t.Q;case"h":case"high":return t.H;default:throw new Error("Unknown EC Level: "+n)}}t.isValid=function(r){return r&&typeof r.bit<"u"&&r.bit>=0&&r.bit<4},t.from=function(r,s){if(t.isValid(r))return r;try{return e(r)}catch{return s}}})(Dm);function eN(){this.buffer=[],this.length=0}eN.prototype={get:function(t){const e=Math.floor(t/8);return(this.buffer[e]>>>7-t%8&1)===1},put:function(t,e){for(let n=0;n<e;n++)this.putBit((t>>>e-n-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(t){const e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),t&&(this.buffer[e]|=128>>>this.length%8),this.length++}};var XG=eN;function Sd(t){if(!t||t<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=t,this.data=new Uint8Array(t*t),this.reservedBit=new Uint8Array(t*t)}Sd.prototype.set=function(t,e,n,r){const s=t*this.size+e;this.data[s]=n,r&&(this.reservedBit[s]=!0)};Sd.prototype.get=function(t,e){return this.data[t*this.size+e]};Sd.prototype.xor=function(t,e,n){this.data[t*this.size+e]^=n};Sd.prototype.isReserved=function(t,e){return this.reservedBit[t*this.size+e]};var ZG=Sd,tN={};(function(t){const e=ir.getSymbolSize;t.getRowColCoords=function(r){if(r===1)return[];const s=Math.floor(r/7)+2,i=e(r),o=i===145?26:Math.ceil((i-13)/(2*s-2))*2,a=[i-7];for(let l=1;l<s-1;l++)a[l]=a[l-1]-o;return a.push(6),a.reverse()},t.getPositions=function(r){const s=[],i=t.getRowColCoords(r),o=i.length;for(let a=0;a<o;a++)for(let l=0;l<o;l++)a===0&&l===0||a===0&&l===o-1||a===o-1&&l===0||s.push([i[a],i[l]]);return s}})(tN);var nN={};const e7=ir.getSymbolSize,z_=7;nN.getPositions=function(e){const n=e7(e);return[[0,0],[n-z_,0],[0,n-z_]]};var rN={};(function(t){t.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const e={N1:3,N2:3,N3:40,N4:10};t.isValid=function(s){return s!=null&&s!==""&&!isNaN(s)&&s>=0&&s<=7},t.from=function(s){return t.isValid(s)?parseInt(s,10):void 0},t.getPenaltyN1=function(s){const i=s.size;let o=0,a=0,l=0,c=null,d=null;for(let p=0;p<i;p++){a=l=0,c=d=null;for(let h=0;h<i;h++){let v=s.get(p,h);v===c?a++:(a>=5&&(o+=e.N1+(a-5)),c=v,a=1),v=s.get(h,p),v===d?l++:(l>=5&&(o+=e.N1+(l-5)),d=v,l=1)}a>=5&&(o+=e.N1+(a-5)),l>=5&&(o+=e.N1+(l-5))}return o},t.getPenaltyN2=function(s){const i=s.size;let o=0;for(let a=0;a<i-1;a++)for(let l=0;l<i-1;l++){const c=s.get(a,l)+s.get(a,l+1)+s.get(a+1,l)+s.get(a+1,l+1);(c===4||c===0)&&o++}return o*e.N2},t.getPenaltyN3=function(s){const i=s.size;let o=0,a=0,l=0;for(let c=0;c<i;c++){a=l=0;for(let d=0;d<i;d++)a=a<<1&2047|s.get(c,d),d>=10&&(a===1488||a===93)&&o++,l=l<<1&2047|s.get(d,c),d>=10&&(l===1488||l===93)&&o++}return o*e.N3},t.getPenaltyN4=function(s){let i=0;const o=s.data.length;for(let l=0;l<o;l++)i+=s.data[l];return Math.abs(Math.ceil(i*100/o/5)-10)*e.N4};function n(r,s,i){switch(r){case t.Patterns.PATTERN000:return(s+i)%2===0;case t.Patterns.PATTERN001:return s%2===0;case t.Patterns.PATTERN010:return i%3===0;case t.Patterns.PATTERN011:return(s+i)%3===0;case t.Patterns.PATTERN100:return(Math.floor(s/2)+Math.floor(i/3))%2===0;case t.Patterns.PATTERN101:return s*i%2+s*i%3===0;case t.Patterns.PATTERN110:return(s*i%2+s*i%3)%2===0;case t.Patterns.PATTERN111:return(s*i%3+(s+i)%2)%2===0;default:throw new Error("bad maskPattern:"+r)}}t.applyMask=function(s,i){const o=i.size;for(let a=0;a<o;a++)for(let l=0;l<o;l++)i.isReserved(l,a)||i.xor(l,a,n(s,l,a))},t.getBestMask=function(s,i){const o=Object.keys(t.Patterns).length;let a=0,l=1/0;for(let c=0;c<o;c++){i(c),t.applyMask(c,s);const d=t.getPenaltyN1(s)+t.getPenaltyN2(s)+t.getPenaltyN3(s)+t.getPenaltyN4(s);t.applyMask(c,s),d<l&&(l=d,a=c)}return a}})(rN);var Om={};const ki=Dm,$h=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],zh=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];Om.getBlocksCount=function(e,n){switch(n){case ki.L:return $h[(e-1)*4+0];case ki.M:return $h[(e-1)*4+1];case ki.Q:return $h[(e-1)*4+2];case ki.H:return $h[(e-1)*4+3];default:return}};Om.getTotalCodewordsCount=function(e,n){switch(n){case ki.L:return zh[(e-1)*4+0];case ki.M:return zh[(e-1)*4+1];case ki.Q:return zh[(e-1)*4+2];case ki.H:return zh[(e-1)*4+3];default:return}};var sN={},Lm={};const mu=new Uint8Array(512),Pp=new Uint8Array(256);(function(){let e=1;for(let n=0;n<255;n++)mu[n]=e,Pp[e]=n,e<<=1,e&256&&(e^=285);for(let n=255;n<512;n++)mu[n]=mu[n-255]})();Lm.log=function(e){if(e<1)throw new Error("log("+e+")");return Pp[e]};Lm.exp=function(e){return mu[e]};Lm.mul=function(e,n){return e===0||n===0?0:mu[Pp[e]+Pp[n]]};(function(t){const e=Lm;t.mul=function(r,s){const i=new Uint8Array(r.length+s.length-1);for(let o=0;o<r.length;o++)for(let a=0;a<s.length;a++)i[o+a]^=e.mul(r[o],s[a]);return i},t.mod=function(r,s){let i=new Uint8Array(r);for(;i.length-s.length>=0;){const o=i[0];for(let l=0;l<s.length;l++)i[l]^=e.mul(s[l],o);let a=0;for(;a<i.length&&i[a]===0;)a++;i=i.slice(a)}return i},t.generateECPolynomial=function(r){let s=new Uint8Array([1]);for(let i=0;i<r;i++)s=t.mul(s,new Uint8Array([1,e.exp(i)]));return s}})(sN);const iN=sN;function JE(t){this.genPoly=void 0,this.degree=t,this.degree&&this.initialize(this.degree)}JE.prototype.initialize=function(e){this.degree=e,this.genPoly=iN.generateECPolynomial(this.degree)};JE.prototype.encode=function(e){if(!this.genPoly)throw new Error("Encoder not initialized");const n=new Uint8Array(e.length+this.degree);n.set(e);const r=iN.mod(n,this.genPoly),s=this.degree-r.length;if(s>0){const i=new Uint8Array(this.degree);return i.set(r,s),i}return r};var t7=JE,oN={},vo={},XE={};XE.isValid=function(e){return!isNaN(e)&&e>=1&&e<=40};var hs={};const aN="[0-9]+",n7="[A-Z $%*+\\-./:]+";let Xu="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";Xu=Xu.replace(/u/g,"\\u");const r7="(?:(?![A-Z0-9 $%*+\\-./:]|"+Xu+`)(?:.|[\r
]))+`;hs.KANJI=new RegExp(Xu,"g");hs.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g");hs.BYTE=new RegExp(r7,"g");hs.NUMERIC=new RegExp(aN,"g");hs.ALPHANUMERIC=new RegExp(n7,"g");const s7=new RegExp("^"+Xu+"$"),i7=new RegExp("^"+aN+"$"),o7=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");hs.testKanji=function(e){return s7.test(e)};hs.testNumeric=function(e){return i7.test(e)};hs.testAlphanumeric=function(e){return o7.test(e)};(function(t){const e=XE,n=hs;t.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},t.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},t.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},t.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},t.MIXED={bit:-1},t.getCharCountIndicator=function(i,o){if(!i.ccBits)throw new Error("Invalid mode: "+i);if(!e.isValid(o))throw new Error("Invalid version: "+o);return o>=1&&o<10?i.ccBits[0]:o<27?i.ccBits[1]:i.ccBits[2]},t.getBestModeForData=function(i){return n.testNumeric(i)?t.NUMERIC:n.testAlphanumeric(i)?t.ALPHANUMERIC:n.testKanji(i)?t.KANJI:t.BYTE},t.toString=function(i){if(i&&i.id)return i.id;throw new Error("Invalid mode")},t.isValid=function(i){return i&&i.bit&&i.ccBits};function r(s){if(typeof s!="string")throw new Error("Param is not a string");switch(s.toLowerCase()){case"numeric":return t.NUMERIC;case"alphanumeric":return t.ALPHANUMERIC;case"kanji":return t.KANJI;case"byte":return t.BYTE;default:throw new Error("Unknown mode: "+s)}}t.from=function(i,o){if(t.isValid(i))return i;try{return r(i)}catch{return o}}})(vo);(function(t){const e=ir,n=Om,r=Dm,s=vo,i=XE,o=7973,a=e.getBCHDigit(o);function l(h,v,E){for(let y=1;y<=40;y++)if(v<=t.getCapacity(y,E,h))return y}function c(h,v){return s.getCharCountIndicator(h,v)+4}function d(h,v){let E=0;return h.forEach(function(y){const A=c(y.mode,v);E+=A+y.getBitsLength()}),E}function p(h,v){for(let E=1;E<=40;E++)if(d(h,E)<=t.getCapacity(E,v,s.MIXED))return E}t.from=function(v,E){return i.isValid(v)?parseInt(v,10):E},t.getCapacity=function(v,E,y){if(!i.isValid(v))throw new Error("Invalid QR Code version");typeof y>"u"&&(y=s.BYTE);const A=e.getSymbolTotalCodewords(v),x=n.getTotalCodewordsCount(v,E),w=(A-x)*8;if(y===s.MIXED)return w;const _=w-c(y,v);switch(y){case s.NUMERIC:return Math.floor(_/10*3);case s.ALPHANUMERIC:return Math.floor(_/11*2);case s.KANJI:return Math.floor(_/13);case s.BYTE:default:return Math.floor(_/8)}},t.getBestVersionForData=function(v,E){let y;const A=r.from(E,r.M);if(Array.isArray(v)){if(v.length>1)return p(v,A);if(v.length===0)return 1;y=v[0]}else y=v;return l(y.mode,y.getLength(),A)},t.getEncodedBits=function(v){if(!i.isValid(v)||v<7)throw new Error("Invalid QR Code version");let E=v<<12;for(;e.getBCHDigit(E)-a>=0;)E^=o<<e.getBCHDigit(E)-a;return v<<12|E}})(oN);var lN={};const n0=ir,cN=1335,a7=21522,W_=n0.getBCHDigit(cN);lN.getEncodedBits=function(e,n){const r=e.bit<<3|n;let s=r<<10;for(;n0.getBCHDigit(s)-W_>=0;)s^=cN<<n0.getBCHDigit(s)-W_;return(r<<10|s)^a7};var uN={};const l7=vo;function $l(t){this.mode=l7.NUMERIC,this.data=t.toString()}$l.getBitsLength=function(e){return 10*Math.floor(e/3)+(e%3?e%3*3+1:0)};$l.prototype.getLength=function(){return this.data.length};$l.prototype.getBitsLength=function(){return $l.getBitsLength(this.data.length)};$l.prototype.write=function(e){let n,r,s;for(n=0;n+3<=this.data.length;n+=3)r=this.data.substr(n,3),s=parseInt(r,10),e.put(s,10);const i=this.data.length-n;i>0&&(r=this.data.substr(n),s=parseInt(r,10),e.put(s,i*3+1))};var c7=$l;const u7=vo,sy=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function zl(t){this.mode=u7.ALPHANUMERIC,this.data=t}zl.getBitsLength=function(e){return 11*Math.floor(e/2)+6*(e%2)};zl.prototype.getLength=function(){return this.data.length};zl.prototype.getBitsLength=function(){return zl.getBitsLength(this.data.length)};zl.prototype.write=function(e){let n;for(n=0;n+2<=this.data.length;n+=2){let r=sy.indexOf(this.data[n])*45;r+=sy.indexOf(this.data[n+1]),e.put(r,11)}this.data.length%2&&e.put(sy.indexOf(this.data[n]),6)};var d7=zl;const h7=vo;function Wl(t){this.mode=h7.BYTE,typeof t=="string"?this.data=new TextEncoder().encode(t):this.data=new Uint8Array(t)}Wl.getBitsLength=function(e){return e*8};Wl.prototype.getLength=function(){return this.data.length};Wl.prototype.getBitsLength=function(){return Wl.getBitsLength(this.data.length)};Wl.prototype.write=function(t){for(let e=0,n=this.data.length;e<n;e++)t.put(this.data[e],8)};var f7=Wl;const p7=vo,m7=ir;function Yl(t){this.mode=p7.KANJI,this.data=t}Yl.getBitsLength=function(e){return e*13};Yl.prototype.getLength=function(){return this.data.length};Yl.prototype.getBitsLength=function(){return Yl.getBitsLength(this.data.length)};Yl.prototype.write=function(t){let e;for(e=0;e<this.data.length;e++){let n=m7.toSJIS(this.data[e]);if(n>=33088&&n<=40956)n-=33088;else if(n>=57408&&n<=60351)n-=49472;else throw new Error("Invalid SJIS character: "+this.data[e]+`
Make sure your charset is UTF-8`);n=(n>>>8&255)*192+(n&255),t.put(n,13)}};var g7=Yl,dN={exports:{}};(function(t){var e={single_source_shortest_paths:function(n,r,s){var i={},o={};o[r]=0;var a=e.PriorityQueue.make();a.push(r,0);for(var l,c,d,p,h,v,E,y,A;!a.empty();){l=a.pop(),c=l.value,p=l.cost,h=n[c]||{};for(d in h)h.hasOwnProperty(d)&&(v=h[d],E=p+v,y=o[d],A=typeof o[d]>"u",(A||y>E)&&(o[d]=E,a.push(d,E),i[d]=c))}if(typeof s<"u"&&typeof o[s]>"u"){var x=["Could not find a path from ",r," to ",s,"."].join("");throw new Error(x)}return i},extract_shortest_path_from_predecessor_list:function(n,r){for(var s=[],i=r;i;)s.push(i),n[i],i=n[i];return s.reverse(),s},find_path:function(n,r,s){var i=e.single_source_shortest_paths(n,r,s);return e.extract_shortest_path_from_predecessor_list(i,s)},PriorityQueue:{make:function(n){var r=e.PriorityQueue,s={},i;n=n||{};for(i in r)r.hasOwnProperty(i)&&(s[i]=r[i]);return s.queue=[],s.sorter=n.sorter||r.default_sorter,s},default_sorter:function(n,r){return n.cost-r.cost},push:function(n,r){var s={value:n,cost:r};this.queue.push(s),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};t.exports=e})(dN);var y7=dN.exports;(function(t){const e=vo,n=c7,r=d7,s=f7,i=g7,o=hs,a=ir,l=y7;function c(x){return unescape(encodeURIComponent(x)).length}function d(x,w,_){const R=[];let O;for(;(O=x.exec(_))!==null;)R.push({data:O[0],index:O.index,mode:w,length:O[0].length});return R}function p(x){const w=d(o.NUMERIC,e.NUMERIC,x),_=d(o.ALPHANUMERIC,e.ALPHANUMERIC,x);let R,O;return a.isKanjiModeEnabled()?(R=d(o.BYTE,e.BYTE,x),O=d(o.KANJI,e.KANJI,x)):(R=d(o.BYTE_KANJI,e.BYTE,x),O=[]),w.concat(_,R,O).sort(function(I,S){return I.index-S.index}).map(function(I){return{data:I.data,mode:I.mode,length:I.length}})}function h(x,w){switch(w){case e.NUMERIC:return n.getBitsLength(x);case e.ALPHANUMERIC:return r.getBitsLength(x);case e.KANJI:return i.getBitsLength(x);case e.BYTE:return s.getBitsLength(x)}}function v(x){return x.reduce(function(w,_){const R=w.length-1>=0?w[w.length-1]:null;return R&&R.mode===_.mode?(w[w.length-1].data+=_.data,w):(w.push(_),w)},[])}function E(x){const w=[];for(let _=0;_<x.length;_++){const R=x[_];switch(R.mode){case e.NUMERIC:w.push([R,{data:R.data,mode:e.ALPHANUMERIC,length:R.length},{data:R.data,mode:e.BYTE,length:R.length}]);break;case e.ALPHANUMERIC:w.push([R,{data:R.data,mode:e.BYTE,length:R.length}]);break;case e.KANJI:w.push([R,{data:R.data,mode:e.BYTE,length:c(R.data)}]);break;case e.BYTE:w.push([{data:R.data,mode:e.BYTE,length:c(R.data)}])}}return w}function y(x,w){const _={},R={start:{}};let O=["start"];for(let j=0;j<x.length;j++){const I=x[j],S=[];for(let k=0;k<I.length;k++){const M=I[k],V=""+j+k;S.push(V),_[V]={node:M,lastCount:0},R[V]={};for(let F=0;F<O.length;F++){const D=O[F];_[D]&&_[D].node.mode===M.mode?(R[D][V]=h(_[D].lastCount+M.length,M.mode)-h(_[D].lastCount,M.mode),_[D].lastCount+=M.length):(_[D]&&(_[D].lastCount=M.length),R[D][V]=h(M.length,M.mode)+4+e.getCharCountIndicator(M.mode,w))}}O=S}for(let j=0;j<O.length;j++)R[O[j]].end=0;return{map:R,table:_}}function A(x,w){let _;const R=e.getBestModeForData(x);if(_=e.from(w,R),_!==e.BYTE&&_.bit<R.bit)throw new Error('"'+x+'" cannot be encoded with mode '+e.toString(_)+`.
 Suggested mode is: `+e.toString(R));switch(_===e.KANJI&&!a.isKanjiModeEnabled()&&(_=e.BYTE),_){case e.NUMERIC:return new n(x);case e.ALPHANUMERIC:return new r(x);case e.KANJI:return new i(x);case e.BYTE:return new s(x)}}t.fromArray=function(w){return w.reduce(function(_,R){return typeof R=="string"?_.push(A(R,null)):R.data&&_.push(A(R.data,R.mode)),_},[])},t.fromString=function(w,_){const R=p(w,a.isKanjiModeEnabled()),O=E(R),j=y(O,_),I=l.find_path(j.map,"start","end"),S=[];for(let k=1;k<I.length-1;k++)S.push(j.table[I[k]].node);return t.fromArray(v(S))},t.rawSplit=function(w){return t.fromArray(p(w,a.isKanjiModeEnabled()))}})(uN);const Vm=ir,iy=Dm,v7=XG,w7=ZG,E7=tN,x7=nN,r0=rN,s0=Om,C7=t7,Np=oN,_7=lN,T7=vo,oy=uN;function A7(t,e){const n=t.size,r=x7.getPositions(e);for(let s=0;s<r.length;s++){const i=r[s][0],o=r[s][1];for(let a=-1;a<=7;a++)if(!(i+a<=-1||n<=i+a))for(let l=-1;l<=7;l++)o+l<=-1||n<=o+l||(a>=0&&a<=6&&(l===0||l===6)||l>=0&&l<=6&&(a===0||a===6)||a>=2&&a<=4&&l>=2&&l<=4?t.set(i+a,o+l,!0,!0):t.set(i+a,o+l,!1,!0))}}function b7(t){const e=t.size;for(let n=8;n<e-8;n++){const r=n%2===0;t.set(n,6,r,!0),t.set(6,n,r,!0)}}function S7(t,e){const n=E7.getPositions(e);for(let r=0;r<n.length;r++){const s=n[r][0],i=n[r][1];for(let o=-2;o<=2;o++)for(let a=-2;a<=2;a++)o===-2||o===2||a===-2||a===2||o===0&&a===0?t.set(s+o,i+a,!0,!0):t.set(s+o,i+a,!1,!0)}}function I7(t,e){const n=t.size,r=Np.getEncodedBits(e);let s,i,o;for(let a=0;a<18;a++)s=Math.floor(a/3),i=a%3+n-8-3,o=(r>>a&1)===1,t.set(s,i,o,!0),t.set(i,s,o,!0)}function ay(t,e,n){const r=t.size,s=_7.getEncodedBits(e,n);let i,o;for(i=0;i<15;i++)o=(s>>i&1)===1,i<6?t.set(i,8,o,!0):i<8?t.set(i+1,8,o,!0):t.set(r-15+i,8,o,!0),i<8?t.set(8,r-i-1,o,!0):i<9?t.set(8,15-i-1+1,o,!0):t.set(8,15-i-1,o,!0);t.set(r-8,8,1,!0)}function R7(t,e){const n=t.size;let r=-1,s=n-1,i=7,o=0;for(let a=n-1;a>0;a-=2)for(a===6&&a--;;){for(let l=0;l<2;l++)if(!t.isReserved(s,a-l)){let c=!1;o<e.length&&(c=(e[o]>>>i&1)===1),t.set(s,a-l,c),i--,i===-1&&(o++,i=7)}if(s+=r,s<0||n<=s){s-=r,r=-r;break}}}function P7(t,e,n){const r=new v7;n.forEach(function(l){r.put(l.mode.bit,4),r.put(l.getLength(),T7.getCharCountIndicator(l.mode,t)),l.write(r)});const s=Vm.getSymbolTotalCodewords(t),i=s0.getTotalCodewordsCount(t,e),o=(s-i)*8;for(r.getLengthInBits()+4<=o&&r.put(0,4);r.getLengthInBits()%8!==0;)r.putBit(0);const a=(o-r.getLengthInBits())/8;for(let l=0;l<a;l++)r.put(l%2?17:236,8);return N7(r,t,e)}function N7(t,e,n){const r=Vm.getSymbolTotalCodewords(e),s=s0.getTotalCodewordsCount(e,n),i=r-s,o=s0.getBlocksCount(e,n),a=r%o,l=o-a,c=Math.floor(r/o),d=Math.floor(i/o),p=d+1,h=c-d,v=new C7(h);let E=0;const y=new Array(o),A=new Array(o);let x=0;const w=new Uint8Array(t.buffer);for(let I=0;I<o;I++){const S=I<l?d:p;y[I]=w.slice(E,E+S),A[I]=v.encode(y[I]),E+=S,x=Math.max(x,S)}const _=new Uint8Array(r);let R=0,O,j;for(O=0;O<x;O++)for(j=0;j<o;j++)O<y[j].length&&(_[R++]=y[j][O]);for(O=0;O<h;O++)for(j=0;j<o;j++)_[R++]=A[j][O];return _}function k7(t,e,n,r){let s;if(Array.isArray(t))s=oy.fromArray(t);else if(typeof t=="string"){let c=e;if(!c){const d=oy.rawSplit(t);c=Np.getBestVersionForData(d,n)}s=oy.fromString(t,c||40)}else throw new Error("Invalid data");const i=Np.getBestVersionForData(s,n);if(!i)throw new Error("The amount of data is too big to be stored in a QR Code");if(!e)e=i;else if(e<i)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+i+`.
`);const o=P7(e,n,s),a=Vm.getSymbolSize(e),l=new w7(a);return A7(l,e),b7(l),S7(l,e),ay(l,n,0),e>=7&&I7(l,e),R7(l,o),isNaN(r)&&(r=r0.getBestMask(l,ay.bind(null,l,n))),r0.applyMask(r,l),ay(l,n,r),{modules:l,version:e,errorCorrectionLevel:n,maskPattern:r,segments:s}}ZP.create=function(e,n){if(typeof e>"u"||e==="")throw new Error("No input text");let r=iy.M,s,i;return typeof n<"u"&&(r=iy.from(n.errorCorrectionLevel,iy.M),s=Np.from(n.version),i=r0.from(n.maskPattern),n.toSJISFunc&&Vm.setToSJISFunction(n.toSJISFunc)),k7(e,s,r,i)};var hN={},ZE={};(function(t){function e(n){if(typeof n=="number"&&(n=n.toString()),typeof n!="string")throw new Error("Color should be defined as hex string");let r=n.slice().replace("#","").split("");if(r.length<3||r.length===5||r.length>8)throw new Error("Invalid hex color: "+n);(r.length===3||r.length===4)&&(r=Array.prototype.concat.apply([],r.map(function(i){return[i,i]}))),r.length===6&&r.push("F","F");const s=parseInt(r.join(""),16);return{r:s>>24&255,g:s>>16&255,b:s>>8&255,a:s&255,hex:"#"+r.slice(0,6).join("")}}t.getOptions=function(r){r||(r={}),r.color||(r.color={});const s=typeof r.margin>"u"||r.margin===null||r.margin<0?4:r.margin,i=r.width&&r.width>=21?r.width:void 0,o=r.scale||4;return{width:i,scale:i?4:o,margin:s,color:{dark:e(r.color.dark||"#000000ff"),light:e(r.color.light||"#ffffffff")},type:r.type,rendererOpts:r.rendererOpts||{}}},t.getScale=function(r,s){return s.width&&s.width>=r+s.margin*2?s.width/(r+s.margin*2):s.scale},t.getImageWidth=function(r,s){const i=t.getScale(r,s);return Math.floor((r+s.margin*2)*i)},t.qrToImageData=function(r,s,i){const o=s.modules.size,a=s.modules.data,l=t.getScale(o,i),c=Math.floor((o+i.margin*2)*l),d=i.margin*l,p=[i.color.light,i.color.dark];for(let h=0;h<c;h++)for(let v=0;v<c;v++){let E=(h*c+v)*4,y=i.color.light;if(h>=d&&v>=d&&h<c-d&&v<c-d){const A=Math.floor((h-d)/l),x=Math.floor((v-d)/l);y=p[a[A*o+x]?1:0]}r[E++]=y.r,r[E++]=y.g,r[E++]=y.b,r[E]=y.a}}})(ZE);(function(t){const e=ZE;function n(s,i,o){s.clearRect(0,0,i.width,i.height),i.style||(i.style={}),i.height=o,i.width=o,i.style.height=o+"px",i.style.width=o+"px"}function r(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}t.render=function(i,o,a){let l=a,c=o;typeof l>"u"&&(!o||!o.getContext)&&(l=o,o=void 0),o||(c=r()),l=e.getOptions(l);const d=e.getImageWidth(i.modules.size,l),p=c.getContext("2d"),h=p.createImageData(d,d);return e.qrToImageData(h.data,i,l),n(p,c,d),p.putImageData(h,0,0),c},t.renderToDataURL=function(i,o,a){let l=a;typeof l>"u"&&(!o||!o.getContext)&&(l=o,o=void 0),l||(l={});const c=t.render(i,o,l),d=l.type||"image/png",p=l.rendererOpts||{};return c.toDataURL(d,p.quality)}})(hN);var fN={};const M7=ZE;function Y_(t,e){const n=t.a/255,r=e+'="'+t.hex+'"';return n<1?r+" "+e+'-opacity="'+n.toFixed(2).slice(1)+'"':r}function ly(t,e,n){let r=t+e;return typeof n<"u"&&(r+=" "+n),r}function D7(t,e,n){let r="",s=0,i=!1,o=0;for(let a=0;a<t.length;a++){const l=Math.floor(a%e),c=Math.floor(a/e);!l&&!i&&(i=!0),t[a]?(o++,a>0&&l>0&&t[a-1]||(r+=i?ly("M",l+n,.5+c+n):ly("m",s,0),s=0,i=!1),l+1<e&&t[a+1]||(r+=ly("h",o),o=0)):s++}return r}fN.render=function(e,n,r){const s=M7.getOptions(n),i=e.modules.size,o=e.modules.data,a=i+s.margin*2,l=s.color.light.a?"<path "+Y_(s.color.light,"fill")+' d="M0 0h'+a+"v"+a+'H0z"/>':"",c="<path "+Y_(s.color.dark,"stroke")+' d="'+D7(o,i,s.margin)+'"/>',d='viewBox="0 0 '+a+" "+a+'"',h='<svg xmlns="http://www.w3.org/2000/svg" '+(s.width?'width="'+s.width+'" height="'+s.width+'" ':"")+d+' shape-rendering="crispEdges">'+l+c+`</svg>
`;return typeof r=="function"&&r(null,h),h};const O7=HG,i0=ZP,pN=hN,L7=fN;function e1(t,e,n,r,s){const i=[].slice.call(arguments,1),o=i.length,a=typeof i[o-1]=="function";if(!a&&!O7())throw new Error("Callback required as last argument");if(a){if(o<2)throw new Error("Too few arguments provided");o===2?(s=n,n=e,e=r=void 0):o===3&&(e.getContext&&typeof s>"u"?(s=r,r=void 0):(s=r,r=n,n=e,e=void 0))}else{if(o<1)throw new Error("Too few arguments provided");return o===1?(n=e,e=r=void 0):o===2&&!e.getContext&&(r=n,n=e,e=void 0),new Promise(function(l,c){try{const d=i0.create(n,r);l(t(d,e,r))}catch(d){c(d)}})}try{const l=i0.create(n,r);s(null,t(l,e,r))}catch(l){s(l)}}bd.create=i0.create;bd.toCanvas=e1.bind(null,pN.render);bd.toDataURL=e1.bind(null,pN.renderToDataURL);bd.toString=e1.bind(null,function(t,e,n){return L7.render(t,n)});const V7=({value:t,size:e=200,className:n=""})=>{const r=g.useRef(null);return g.useEffect(()=>{r.current&&bd.toCanvas(r.current,t,{width:e,margin:2,color:{dark:"#000000",light:"#FFFFFF"}})},[t,e]),f.jsx("div",{className:`flex justify-center ${n}`,children:f.jsx("canvas",{ref:r,className:"border-4 border-white rounded-lg shadow-lg"})})},F7=({user:t})=>{const{canScan:e,nextScanTime:n,remainingTime:r,hoursRemaining:s,isComplete:i}=JP(t.lastScanAt);return f.jsx("div",{className:"bg-gradient-to-br from-gray-900/90 via-black/80 to-red-950/90 border border-red-900/40 rounded-none p-10 min-h-[460px] flex flex-col justify-center -mt-0 shadow-2xl",children:f.jsxs("div",{className:"text-center",children:[f.jsx("h3",{className:"text-2xl font-bold text-white mb-6",children:"Your Loyalty Card"}),!e&&r&&f.jsxs("div",{className:"mb-4 p-8 bg-gradient-to-br from-red-900/40 to-red-800/40 border border-red-700/50 rounded-xl shadow-2xl",children:[f.jsxs("div",{className:"text-center mb-6",children:[f.jsx("div",{className:"text-red-400 text-xl font-bold mb-2",children:"⏰ DAILY RESET TIMER"}),f.jsx("div",{className:"text-red-300 text-sm",children:"Scan available again the next day"})]}),f.jsx("div",{className:"flex justify-center mb-6",children:f.jsx("div",{className:"relative",children:f.jsx(XP,{remainingTime:r,hoursRemaining:s,totalHours:24,size:160,strokeWidth:12,isComplete:i})})}),f.jsx("div",{className:"text-center",children:f.jsxs("div",{className:"inline-flex items-center px-4 py-2 bg-red-900/50 border border-red-600/50 rounded-full",children:[f.jsx("div",{className:"w-2 h-2 bg-red-400 rounded-full mr-2 animate-pulse"}),f.jsx("span",{className:"text-red-300 text-sm font-medium",children:"TIMER ACTIVE"})]})})]}),e&&f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"mb-4 p-3 bg-gradient-to-r from-green-900/30 to-emerald-900/30 border border-green-700/50 rounded-lg",children:f.jsx("div",{className:"text-green-400 text-sm font-medium",children:i?"🎉 Ready to Scan!":"✅ Ready to Scan"})}),f.jsx("div",{className:`flex justify-center mb-6 ${i?"animate-bounce":""}`,children:f.jsx(V7,{value:`LOYALTY:${t.email}:${t.id}`,size:200})})]}),f.jsx("p",{className:"text-gray-400 text-sm",children:"Show this QR code to staff to earn loyalty points"}),f.jsxs("div",{className:"mt-4 text-xs text-gray-500",children:[f.jsx("p",{children:"• One stamp per 24 hours"}),f.jsxs("p",{children:["• ",t.purchases||0," stamps collected"]}),f.jsxs("p",{children:["• ",t.purchaseLimit||5," stamps needed for reward"]})]})]})})},j7=[{key:"scan",label:"Scan",route:"/scan",colorClass:"border-green-500 text-green-400 hover:bg-green-500 hover:text-white",roles:["admin","super_admin"],icon:VL},{key:"settings",label:"Settings",route:"/settings",colorClass:"border-blue-500 text-blue-400 hover:bg-blue-500 hover:text-white",roles:["super_admin"],icon:mS},{key:"users",label:"Users",route:"/users",colorClass:"border-purple-500 text-purple-400 hover:bg-purple-500 hover:text-white",roles:["super_admin"],icon:rp},{key:"logout",label:"Logout",route:"logout",colorClass:"border-red-500 text-red-400 hover:bg-red-500 hover:text-white",roles:["customer","admin","super_admin"],icon:OL}];var B7=g.createContext(void 0);function Fm(t){const e=g.useContext(B7);return t||e||"ltr"}var cy=0;function mN(){g.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??K_()),document.body.insertAdjacentElement("beforeend",t[1]??K_()),cy++,()=>{cy===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),cy--}},[])}function K_(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var uy="focusScope.autoFocusOnMount",dy="focusScope.autoFocusOnUnmount",Q_={bubbles:!1,cancelable:!0},U7="FocusScope",t1=g.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...o}=t,[a,l]=g.useState(null),c=rn(s),d=rn(i),p=g.useRef(null),h=nt(e,y=>l(y)),v=g.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;g.useEffect(()=>{if(r){let y=function(_){if(v.paused||!a)return;const R=_.target;a.contains(R)?p.current=R:fi(p.current,{select:!0})},A=function(_){if(v.paused||!a)return;const R=_.relatedTarget;R!==null&&(a.contains(R)||fi(p.current,{select:!0}))},x=function(_){if(document.activeElement===document.body)for(const O of _)O.removedNodes.length>0&&fi(a)};document.addEventListener("focusin",y),document.addEventListener("focusout",A);const w=new MutationObserver(x);return a&&w.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",y),document.removeEventListener("focusout",A),w.disconnect()}}},[r,a,v.paused]),g.useEffect(()=>{if(a){J_.add(v);const y=document.activeElement;if(!a.contains(y)){const x=new CustomEvent(uy,Q_);a.addEventListener(uy,c),a.dispatchEvent(x),x.defaultPrevented||(q7(Y7(gN(a)),{select:!0}),document.activeElement===y&&fi(a))}return()=>{a.removeEventListener(uy,c),setTimeout(()=>{const x=new CustomEvent(dy,Q_);a.addEventListener(dy,d),a.dispatchEvent(x),x.defaultPrevented||fi(y??document.body,{select:!0}),a.removeEventListener(dy,d),J_.remove(v)},0)}}},[a,c,d,v]);const E=g.useCallback(y=>{if(!n&&!r||v.paused)return;const A=y.key==="Tab"&&!y.altKey&&!y.ctrlKey&&!y.metaKey,x=document.activeElement;if(A&&x){const w=y.currentTarget,[_,R]=G7(w);_&&R?!y.shiftKey&&x===R?(y.preventDefault(),n&&fi(_,{select:!0})):y.shiftKey&&x===_&&(y.preventDefault(),n&&fi(R,{select:!0})):x===w&&y.preventDefault()}},[n,r,v.paused]);return f.jsx(Oe.div,{tabIndex:-1,...o,ref:h,onKeyDown:E})});t1.displayName=U7;function q7(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(fi(r,{select:e}),document.activeElement!==n)return}function G7(t){const e=gN(t),n=H_(e,t),r=H_(e.reverse(),t);return[n,r]}function gN(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function H_(t,e){for(const n of t)if(!$7(n,{upTo:e}))return n}function $7(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function z7(t){return t instanceof HTMLInputElement&&"select"in t}function fi(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&z7(t)&&e&&t.select()}}var J_=W7();function W7(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=X_(t,e),t.unshift(e)},remove(e){var n;t=X_(t,e),(n=t[0])==null||n.resume()}}}function X_(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function Y7(t){return t.filter(e=>e.tagName!=="A")}function K7(t,e=[]){let n=[];function r(i,o){const a=g.createContext(o),l=n.length;n=[...n,o];function c(p){const{scope:h,children:v,...E}=p,y=(h==null?void 0:h[t][l])||a,A=g.useMemo(()=>E,Object.values(E));return f.jsx(y.Provider,{value:A,children:v})}function d(p,h){const v=(h==null?void 0:h[t][l])||a,E=g.useContext(v);if(E)return E;if(o!==void 0)return o;throw new Error(`\`${p}\` must be used within \`${i}\``)}return c.displayName=i+"Provider",[c,d]}const s=()=>{const i=n.map(o=>g.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return g.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,Q7(s,...e)]}function Q7(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const p=l(i)[`__scope${c}`];return{...a,...p}},{});return g.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var hy="rovingFocusGroup.onEntryFocus",H7={bubbles:!1,cancelable:!0},jm="RovingFocusGroup",[o0,yN,J7]=ld(jm),[X7,Bm]=K7(jm,[J7]),[Z7,e$]=X7(jm),vN=g.forwardRef((t,e)=>f.jsx(o0.Provider,{scope:t.__scopeRovingFocusGroup,children:f.jsx(o0.Slot,{scope:t.__scopeRovingFocusGroup,children:f.jsx(t$,{...t,ref:e})})}));vN.displayName=jm;var t$=g.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:l,onEntryFocus:c,preventScrollOnEntryFocus:d=!1,...p}=t,h=g.useRef(null),v=nt(e,h),E=Fm(i),[y=null,A]=Mu({prop:o,defaultProp:a,onChange:l}),[x,w]=g.useState(!1),_=rn(c),R=yN(n),O=g.useRef(!1),[j,I]=g.useState(0);return g.useEffect(()=>{const S=h.current;if(S)return S.addEventListener(hy,_),()=>S.removeEventListener(hy,_)},[_]),f.jsx(Z7,{scope:n,orientation:r,dir:E,loop:s,currentTabStopId:y,onItemFocus:g.useCallback(S=>A(S),[A]),onItemShiftTab:g.useCallback(()=>w(!0),[]),onFocusableItemAdd:g.useCallback(()=>I(S=>S+1),[]),onFocusableItemRemove:g.useCallback(()=>I(S=>S-1),[]),children:f.jsx(Oe.div,{tabIndex:x||j===0?-1:0,"data-orientation":r,...p,ref:v,style:{outline:"none",...t.style},onMouseDown:fe(t.onMouseDown,()=>{O.current=!0}),onFocus:fe(t.onFocus,S=>{const k=!O.current;if(S.target===S.currentTarget&&k&&!x){const M=new CustomEvent(hy,H7);if(S.currentTarget.dispatchEvent(M),!M.defaultPrevented){const V=R().filter(ne=>ne.focusable),F=V.find(ne=>ne.active),D=V.find(ne=>ne.id===y),se=[F,D,...V].filter(Boolean).map(ne=>ne.ref.current);xN(se,d)}}O.current=!1}),onBlur:fe(t.onBlur,()=>w(!1))})})}),wN="RovingFocusGroupItem",EN=g.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:i,...o}=t,a=Ko(),l=i||a,c=e$(wN,n),d=c.currentTabStopId===l,p=yN(n),{onFocusableItemAdd:h,onFocusableItemRemove:v}=c;return g.useEffect(()=>{if(r)return h(),()=>v()},[r,h,v]),f.jsx(o0.ItemSlot,{scope:n,id:l,focusable:r,active:s,children:f.jsx(Oe.span,{tabIndex:d?0:-1,"data-orientation":c.orientation,...o,ref:e,onMouseDown:fe(t.onMouseDown,E=>{r?c.onItemFocus(l):E.preventDefault()}),onFocus:fe(t.onFocus,()=>c.onItemFocus(l)),onKeyDown:fe(t.onKeyDown,E=>{if(E.key==="Tab"&&E.shiftKey){c.onItemShiftTab();return}if(E.target!==E.currentTarget)return;const y=s$(E,c.orientation,c.dir);if(y!==void 0){if(E.metaKey||E.ctrlKey||E.altKey||E.shiftKey)return;E.preventDefault();let x=p().filter(w=>w.focusable).map(w=>w.ref.current);if(y==="last")x.reverse();else if(y==="prev"||y==="next"){y==="prev"&&x.reverse();const w=x.indexOf(E.currentTarget);x=c.loop?i$(x,w+1):x.slice(w+1)}setTimeout(()=>xN(x))}})})})});EN.displayName=wN;var n$={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function r$(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function s$(t,e,n){const r=r$(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return n$[r]}function xN(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function i$(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var CN=vN,_N=EN,o$=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Ba=new WeakMap,Wh=new WeakMap,Yh={},fy=0,TN=function(t){return t&&(t.host||TN(t.parentNode))},a$=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=TN(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},l$=function(t,e,n,r){var s=a$(e,Array.isArray(t)?t:[t]);Yh[n]||(Yh[n]=new WeakMap);var i=Yh[n],o=[],a=new Set,l=new Set(s),c=function(p){!p||a.has(p)||(a.add(p),c(p.parentNode))};s.forEach(c);var d=function(p){!p||l.has(p)||Array.prototype.forEach.call(p.children,function(h){if(a.has(h))d(h);else try{var v=h.getAttribute(r),E=v!==null&&v!=="false",y=(Ba.get(h)||0)+1,A=(i.get(h)||0)+1;Ba.set(h,y),i.set(h,A),o.push(h),y===1&&E&&Wh.set(h,!0),A===1&&h.setAttribute(n,"true"),E||h.setAttribute(r,"true")}catch(x){console.error("aria-hidden: cannot operate on ",h,x)}})};return d(e),a.clear(),fy++,function(){o.forEach(function(p){var h=Ba.get(p)-1,v=i.get(p)-1;Ba.set(p,h),i.set(p,v),h||(Wh.has(p)||p.removeAttribute(r),Wh.delete(p)),v||p.removeAttribute(n)}),fy--,fy||(Ba=new WeakMap,Ba=new WeakMap,Wh=new WeakMap,Yh={})}},AN=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),s=o$(t);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live]"))),l$(r,s,n,"aria-hidden")):function(){return null}},Tf="right-scroll-bar-position",Af="width-before-scroll-bar",c$="with-scroll-bars-hidden",u$="--removed-body-scroll-bar-size";function py(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function d$(t,e){var n=g.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=e,n.facade}var h$=typeof window<"u"?g.useLayoutEffect:g.useEffect,Z_=new WeakMap;function f$(t,e){var n=d$(null,function(r){return t.forEach(function(s){return py(s,r)})});return h$(function(){var r=Z_.get(n);if(r){var s=new Set(r),i=new Set(t),o=n.current;s.forEach(function(a){i.has(a)||py(a,null)}),i.forEach(function(a){s.has(a)||py(a,o)})}Z_.set(n,t)},[t]),n}function p$(t){return t}function m$(t,e){e===void 0&&(e=p$);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(i){var o=e(i,r);return n.push(o),function(){n=n.filter(function(a){return a!==o})}},assignSyncMedium:function(i){for(r=!0;n.length;){var o=n;n=[],o.forEach(i)}n={push:function(a){return i(a)},filter:function(){return n}}},assignMedium:function(i){r=!0;var o=[];if(n.length){var a=n;n=[],a.forEach(i),o=n}var l=function(){var d=o;o=[],d.forEach(i)},c=function(){return Promise.resolve().then(l)};c(),n={push:function(d){o.push(d),c()},filter:function(d){return o=o.filter(d),n}}}};return s}function g$(t){t===void 0&&(t={});var e=m$(null);return e.options=Zr({async:!0,ssr:!1},t),e}var bN=function(t){var e=t.sideCar,n=Ed(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return g.createElement(r,Zr({},n))};bN.isSideCarExport=!0;function y$(t,e){return t.useMedium(e),bN}var SN=g$(),my=function(){},Um=g.forwardRef(function(t,e){var n=g.useRef(null),r=g.useState({onScrollCapture:my,onWheelCapture:my,onTouchMoveCapture:my}),s=r[0],i=r[1],o=t.forwardProps,a=t.children,l=t.className,c=t.removeScrollBar,d=t.enabled,p=t.shards,h=t.sideCar,v=t.noIsolation,E=t.inert,y=t.allowPinchZoom,A=t.as,x=A===void 0?"div":A,w=t.gapMode,_=Ed(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),R=h,O=f$([n,e]),j=Zr(Zr({},_),s);return g.createElement(g.Fragment,null,d&&g.createElement(R,{sideCar:SN,removeScrollBar:c,shards:p,noIsolation:v,inert:E,setCallbacks:i,allowPinchZoom:!!y,lockRef:n,gapMode:w}),o?g.cloneElement(g.Children.only(a),Zr(Zr({},j),{ref:O})):g.createElement(x,Zr({},j,{className:l,ref:O}),a))});Um.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Um.classNames={fullWidth:Af,zeroRight:Tf};var v$=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function w$(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=v$();return e&&t.setAttribute("nonce",e),t}function E$(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function x$(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var C$=function(){var t=0,e=null;return{add:function(n){t==0&&(e=w$())&&(E$(e,n),x$(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},_$=function(){var t=C$();return function(e,n){g.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},IN=function(){var t=_$(),e=function(n){var r=n.styles,s=n.dynamic;return t(r,s),null};return e},T$={left:0,top:0,right:0,gap:0},gy=function(t){return parseInt(t||"",10)||0},A$=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],s=e[t==="padding"?"paddingRight":"marginRight"];return[gy(n),gy(r),gy(s)]},b$=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return T$;var e=A$(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},S$=IN(),vl="data-scroll-locked",I$=function(t,e,n,r){var s=t.left,i=t.top,o=t.right,a=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(c$,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(vl,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Tf,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Af,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Tf," .").concat(Tf,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Af," .").concat(Af,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(vl,`] {
    `).concat(u$,": ").concat(a,`px;
  }
`)},eT=function(){var t=parseInt(document.body.getAttribute(vl)||"0",10);return isFinite(t)?t:0},R$=function(){g.useEffect(function(){return document.body.setAttribute(vl,(eT()+1).toString()),function(){var t=eT()-1;t<=0?document.body.removeAttribute(vl):document.body.setAttribute(vl,t.toString())}},[])},P$=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,s=r===void 0?"margin":r;R$();var i=g.useMemo(function(){return b$(s)},[s]);return g.createElement(S$,{styles:I$(i,!e,s,n?"":"!important")})},a0=!1;if(typeof window<"u")try{var Kh=Object.defineProperty({},"passive",{get:function(){return a0=!0,!0}});window.addEventListener("test",Kh,Kh),window.removeEventListener("test",Kh,Kh)}catch{a0=!1}var Ua=a0?{passive:!1}:!1,N$=function(t){return t.tagName==="TEXTAREA"},RN=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!N$(t)&&n[e]==="visible")},k$=function(t){return RN(t,"overflowY")},M$=function(t){return RN(t,"overflowX")},tT=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=PN(t,r);if(s){var i=NN(t,r),o=i[1],a=i[2];if(o>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},D$=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},O$=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},PN=function(t,e){return t==="v"?k$(e):M$(e)},NN=function(t,e){return t==="v"?D$(e):O$(e)},L$=function(t,e){return t==="h"&&e==="rtl"?-1:1},V$=function(t,e,n,r,s){var i=L$(t,window.getComputedStyle(e).direction),o=i*r,a=n.target,l=e.contains(a),c=!1,d=o>0,p=0,h=0;do{var v=NN(t,a),E=v[0],y=v[1],A=v[2],x=y-A-i*E;(E||x)&&PN(t,a)&&(p+=x,h+=E),a instanceof ShadowRoot?a=a.host:a=a.parentNode}while(!l&&a!==document.body||l&&(e.contains(a)||e===a));return(d&&(Math.abs(p)<1||!s)||!d&&(Math.abs(h)<1||!s))&&(c=!0),c},Qh=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},nT=function(t){return[t.deltaX,t.deltaY]},rT=function(t){return t&&"current"in t?t.current:t},F$=function(t,e){return t[0]===e[0]&&t[1]===e[1]},j$=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},B$=0,qa=[];function U$(t){var e=g.useRef([]),n=g.useRef([0,0]),r=g.useRef(),s=g.useState(B$++)[0],i=g.useState(IN)[0],o=g.useRef(t);g.useEffect(function(){o.current=t},[t]),g.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var y=u3([t.lockRef.current],(t.shards||[]).map(rT),!0).filter(Boolean);return y.forEach(function(A){return A.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),y.forEach(function(A){return A.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var a=g.useCallback(function(y,A){if("touches"in y&&y.touches.length===2||y.type==="wheel"&&y.ctrlKey)return!o.current.allowPinchZoom;var x=Qh(y),w=n.current,_="deltaX"in y?y.deltaX:w[0]-x[0],R="deltaY"in y?y.deltaY:w[1]-x[1],O,j=y.target,I=Math.abs(_)>Math.abs(R)?"h":"v";if("touches"in y&&I==="h"&&j.type==="range")return!1;var S=tT(I,j);if(!S)return!0;if(S?O=I:(O=I==="v"?"h":"v",S=tT(I,j)),!S)return!1;if(!r.current&&"changedTouches"in y&&(_||R)&&(r.current=O),!O)return!0;var k=r.current||O;return V$(k,A,y,k==="h"?_:R,!0)},[]),l=g.useCallback(function(y){var A=y;if(!(!qa.length||qa[qa.length-1]!==i)){var x="deltaY"in A?nT(A):Qh(A),w=e.current.filter(function(O){return O.name===A.type&&(O.target===A.target||A.target===O.shadowParent)&&F$(O.delta,x)})[0];if(w&&w.should){A.cancelable&&A.preventDefault();return}if(!w){var _=(o.current.shards||[]).map(rT).filter(Boolean).filter(function(O){return O.contains(A.target)}),R=_.length>0?a(A,_[0]):!o.current.noIsolation;R&&A.cancelable&&A.preventDefault()}}},[]),c=g.useCallback(function(y,A,x,w){var _={name:y,delta:A,target:x,should:w,shadowParent:q$(x)};e.current.push(_),setTimeout(function(){e.current=e.current.filter(function(R){return R!==_})},1)},[]),d=g.useCallback(function(y){n.current=Qh(y),r.current=void 0},[]),p=g.useCallback(function(y){c(y.type,nT(y),y.target,a(y,t.lockRef.current))},[]),h=g.useCallback(function(y){c(y.type,Qh(y),y.target,a(y,t.lockRef.current))},[]);g.useEffect(function(){return qa.push(i),t.setCallbacks({onScrollCapture:p,onWheelCapture:p,onTouchMoveCapture:h}),document.addEventListener("wheel",l,Ua),document.addEventListener("touchmove",l,Ua),document.addEventListener("touchstart",d,Ua),function(){qa=qa.filter(function(y){return y!==i}),document.removeEventListener("wheel",l,Ua),document.removeEventListener("touchmove",l,Ua),document.removeEventListener("touchstart",d,Ua)}},[]);var v=t.removeScrollBar,E=t.inert;return g.createElement(g.Fragment,null,E?g.createElement(i,{styles:j$(s)}):null,v?g.createElement(P$,{gapMode:t.gapMode}):null)}function q$(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const G$=y$(SN,U$);var n1=g.forwardRef(function(t,e){return g.createElement(Um,Zr({},t,{ref:e,sideCar:G$}))});n1.classNames=Um.classNames;var l0=["Enter"," "],$$=["ArrowDown","PageUp","Home"],kN=["ArrowUp","PageDown","End"],z$=[...$$,...kN],W$={ltr:[...l0,"ArrowRight"],rtl:[...l0,"ArrowLeft"]},Y$={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Id="Menu",[Zu,K$,Q$]=ld(Id),[wa,H$]=Jl(Id,[Q$,uc,Bm]),qm=uc(),MN=Bm(),[J$,Ea]=wa(Id),[X$,Rd]=wa(Id),DN=t=>{const{__scopeMenu:e,open:n=!1,children:r,dir:s,onOpenChange:i,modal:o=!0}=t,a=qm(e),[l,c]=g.useState(null),d=g.useRef(!1),p=rn(i),h=Fm(s);return g.useEffect(()=>{const v=()=>{d.current=!0,document.addEventListener("pointerdown",E,{capture:!0,once:!0}),document.addEventListener("pointermove",E,{capture:!0,once:!0})},E=()=>d.current=!1;return document.addEventListener("keydown",v,{capture:!0}),()=>{document.removeEventListener("keydown",v,{capture:!0}),document.removeEventListener("pointerdown",E,{capture:!0}),document.removeEventListener("pointermove",E,{capture:!0})}},[]),f.jsx(CP,{...a,children:f.jsx(J$,{scope:e,open:n,onOpenChange:p,content:l,onContentChange:c,children:f.jsx(X$,{scope:e,onClose:g.useCallback(()=>p(!1),[p]),isUsingKeyboardRef:d,dir:h,modal:o,children:r})})})};DN.displayName=Id;var Z$="MenuAnchor",r1=g.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,s=qm(n);return f.jsx(VE,{...s,...r,ref:e})});r1.displayName=Z$;var s1="MenuPortal",[ez,ON]=wa(s1,{forceMount:void 0}),LN=t=>{const{__scopeMenu:e,forceMount:n,children:r,container:s}=t,i=Ea(s1,e);return f.jsx(ez,{scope:e,forceMount:n,children:f.jsx(pa,{present:n||i.open,children:f.jsx(Xp,{asChild:!0,container:s,children:r})})})};LN.displayName=s1;var yr="MenuContent",[tz,i1]=wa(yr),VN=g.forwardRef((t,e)=>{const n=ON(yr,t.__scopeMenu),{forceMount:r=n.forceMount,...s}=t,i=Ea(yr,t.__scopeMenu),o=Rd(yr,t.__scopeMenu);return f.jsx(Zu.Provider,{scope:t.__scopeMenu,children:f.jsx(pa,{present:r||i.open,children:f.jsx(Zu.Slot,{scope:t.__scopeMenu,children:o.modal?f.jsx(nz,{...s,ref:e}):f.jsx(rz,{...s,ref:e})})})})}),nz=g.forwardRef((t,e)=>{const n=Ea(yr,t.__scopeMenu),r=g.useRef(null),s=nt(e,r);return g.useEffect(()=>{const i=r.current;if(i)return AN(i)},[]),f.jsx(o1,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:fe(t.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),rz=g.forwardRef((t,e)=>{const n=Ea(yr,t.__scopeMenu);return f.jsx(o1,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),o1=g.forwardRef((t,e)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:s,onOpenAutoFocus:i,onCloseAutoFocus:o,disableOutsidePointerEvents:a,onEntryFocus:l,onEscapeKeyDown:c,onPointerDownOutside:d,onFocusOutside:p,onInteractOutside:h,onDismiss:v,disableOutsideScroll:E,...y}=t,A=Ea(yr,n),x=Rd(yr,n),w=qm(n),_=MN(n),R=K$(n),[O,j]=g.useState(null),I=g.useRef(null),S=nt(e,I,A.onContentChange),k=g.useRef(0),M=g.useRef(""),V=g.useRef(0),F=g.useRef(null),D=g.useRef("right"),re=g.useRef(0),se=E?n1:g.Fragment,ne=E?{as:ta,allowPinchZoom:!0}:void 0,pe=W=>{var te,ge;const ie=M.current+W,ee=R().filter(we=>!we.disabled),ae=document.activeElement,ce=(te=ee.find(we=>we.ref.current===ae))==null?void 0:te.textValue,Re=ee.map(we=>we.textValue),ke=mz(Re,ie,ce),Ee=(ge=ee.find(we=>we.textValue===ke))==null?void 0:ge.ref.current;(function we(xe){M.current=xe,window.clearTimeout(k.current),xe!==""&&(k.current=window.setTimeout(()=>we(""),1e3))})(ie),Ee&&setTimeout(()=>Ee.focus())};g.useEffect(()=>()=>window.clearTimeout(k.current),[]),mN();const q=g.useCallback(W=>{var ee,ae;return D.current===((ee=F.current)==null?void 0:ee.side)&&yz(W,(ae=F.current)==null?void 0:ae.area)},[]);return f.jsx(tz,{scope:n,searchRef:M,onItemEnter:g.useCallback(W=>{q(W)&&W.preventDefault()},[q]),onItemLeave:g.useCallback(W=>{var ie;q(W)||((ie=I.current)==null||ie.focus(),j(null))},[q]),onTriggerLeave:g.useCallback(W=>{q(W)&&W.preventDefault()},[q]),pointerGraceTimerRef:V,onPointerGraceIntentChange:g.useCallback(W=>{F.current=W},[]),children:f.jsx(se,{...ne,children:f.jsx(t1,{asChild:!0,trapped:s,onMountAutoFocus:fe(i,W=>{var ie;W.preventDefault(),(ie=I.current)==null||ie.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:f.jsx(cd,{asChild:!0,disableOutsidePointerEvents:a,onEscapeKeyDown:c,onPointerDownOutside:d,onFocusOutside:p,onInteractOutside:h,onDismiss:v,children:f.jsx(CN,{asChild:!0,..._,dir:x.dir,orientation:"vertical",loop:r,currentTabStopId:O,onCurrentTabStopIdChange:j,onEntryFocus:fe(l,W=>{x.isUsingKeyboardRef.current||W.preventDefault()}),preventScrollOnEntryFocus:!0,children:f.jsx(FE,{role:"menu","aria-orientation":"vertical","data-state":ZN(A.open),"data-radix-menu-content":"",dir:x.dir,...w,...y,ref:S,style:{outline:"none",...y.style},onKeyDown:fe(y.onKeyDown,W=>{const ee=W.target.closest("[data-radix-menu-content]")===W.currentTarget,ae=W.ctrlKey||W.altKey||W.metaKey,ce=W.key.length===1;ee&&(W.key==="Tab"&&W.preventDefault(),!ae&&ce&&pe(W.key));const Re=I.current;if(W.target!==Re||!z$.includes(W.key))return;W.preventDefault();const Ee=R().filter(te=>!te.disabled).map(te=>te.ref.current);kN.includes(W.key)&&Ee.reverse(),fz(Ee)}),onBlur:fe(t.onBlur,W=>{W.currentTarget.contains(W.target)||(window.clearTimeout(k.current),M.current="")}),onPointerMove:fe(t.onPointerMove,ed(W=>{const ie=W.target,ee=re.current!==W.clientX;if(W.currentTarget.contains(ie)&&ee){const ae=W.clientX>re.current?"right":"left";D.current=ae,re.current=W.clientX}}))})})})})})})});VN.displayName=yr;var sz="MenuGroup",a1=g.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return f.jsx(Oe.div,{role:"group",...r,ref:e})});a1.displayName=sz;var iz="MenuLabel",FN=g.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return f.jsx(Oe.div,{...r,ref:e})});FN.displayName=iz;var kp="MenuItem",sT="menu.itemSelect",Gm=g.forwardRef((t,e)=>{const{disabled:n=!1,onSelect:r,...s}=t,i=g.useRef(null),o=Rd(kp,t.__scopeMenu),a=i1(kp,t.__scopeMenu),l=nt(e,i),c=g.useRef(!1),d=()=>{const p=i.current;if(!n&&p){const h=new CustomEvent(sT,{bubbles:!0,cancelable:!0});p.addEventListener(sT,v=>r==null?void 0:r(v),{once:!0}),Cw(p,h),h.defaultPrevented?c.current=!1:o.onClose()}};return f.jsx(jN,{...s,ref:l,disabled:n,onClick:fe(t.onClick,d),onPointerDown:p=>{var h;(h=t.onPointerDown)==null||h.call(t,p),c.current=!0},onPointerUp:fe(t.onPointerUp,p=>{var h;c.current||(h=p.currentTarget)==null||h.click()}),onKeyDown:fe(t.onKeyDown,p=>{const h=a.searchRef.current!=="";n||h&&p.key===" "||l0.includes(p.key)&&(p.currentTarget.click(),p.preventDefault())})})});Gm.displayName=kp;var jN=g.forwardRef((t,e)=>{const{__scopeMenu:n,disabled:r=!1,textValue:s,...i}=t,o=i1(kp,n),a=MN(n),l=g.useRef(null),c=nt(e,l),[d,p]=g.useState(!1),[h,v]=g.useState("");return g.useEffect(()=>{const E=l.current;E&&v((E.textContent??"").trim())},[i.children]),f.jsx(Zu.ItemSlot,{scope:n,disabled:r,textValue:s??h,children:f.jsx(_N,{asChild:!0,...a,focusable:!r,children:f.jsx(Oe.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...i,ref:c,onPointerMove:fe(t.onPointerMove,ed(E=>{r?o.onItemLeave(E):(o.onItemEnter(E),E.defaultPrevented||E.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:fe(t.onPointerLeave,ed(E=>o.onItemLeave(E))),onFocus:fe(t.onFocus,()=>p(!0)),onBlur:fe(t.onBlur,()=>p(!1))})})})}),oz="MenuCheckboxItem",BN=g.forwardRef((t,e)=>{const{checked:n=!1,onCheckedChange:r,...s}=t;return f.jsx(zN,{scope:t.__scopeMenu,checked:n,children:f.jsx(Gm,{role:"menuitemcheckbox","aria-checked":Mp(n)?"mixed":n,...s,ref:e,"data-state":c1(n),onSelect:fe(s.onSelect,()=>r==null?void 0:r(Mp(n)?!0:!n),{checkForDefaultPrevented:!1})})})});BN.displayName=oz;var UN="MenuRadioGroup",[az,lz]=wa(UN,{value:void 0,onValueChange:()=>{}}),qN=g.forwardRef((t,e)=>{const{value:n,onValueChange:r,...s}=t,i=rn(r);return f.jsx(az,{scope:t.__scopeMenu,value:n,onValueChange:i,children:f.jsx(a1,{...s,ref:e})})});qN.displayName=UN;var GN="MenuRadioItem",$N=g.forwardRef((t,e)=>{const{value:n,...r}=t,s=lz(GN,t.__scopeMenu),i=n===s.value;return f.jsx(zN,{scope:t.__scopeMenu,checked:i,children:f.jsx(Gm,{role:"menuitemradio","aria-checked":i,...r,ref:e,"data-state":c1(i),onSelect:fe(r.onSelect,()=>{var o;return(o=s.onValueChange)==null?void 0:o.call(s,n)},{checkForDefaultPrevented:!1})})})});$N.displayName=GN;var l1="MenuItemIndicator",[zN,cz]=wa(l1,{checked:!1}),WN=g.forwardRef((t,e)=>{const{__scopeMenu:n,forceMount:r,...s}=t,i=cz(l1,n);return f.jsx(pa,{present:r||Mp(i.checked)||i.checked===!0,children:f.jsx(Oe.span,{...s,ref:e,"data-state":c1(i.checked)})})});WN.displayName=l1;var uz="MenuSeparator",YN=g.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return f.jsx(Oe.div,{role:"separator","aria-orientation":"horizontal",...r,ref:e})});YN.displayName=uz;var dz="MenuArrow",KN=g.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,s=qm(n);return f.jsx(jE,{...s,...r,ref:e})});KN.displayName=dz;var hz="MenuSub",[wK,QN]=wa(hz),Kc="MenuSubTrigger",HN=g.forwardRef((t,e)=>{const n=Ea(Kc,t.__scopeMenu),r=Rd(Kc,t.__scopeMenu),s=QN(Kc,t.__scopeMenu),i=i1(Kc,t.__scopeMenu),o=g.useRef(null),{pointerGraceTimerRef:a,onPointerGraceIntentChange:l}=i,c={__scopeMenu:t.__scopeMenu},d=g.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return g.useEffect(()=>d,[d]),g.useEffect(()=>{const p=a.current;return()=>{window.clearTimeout(p),l(null)}},[a,l]),f.jsx(r1,{asChild:!0,...c,children:f.jsx(jN,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":s.contentId,"data-state":ZN(n.open),...t,ref:xw(e,s.onTriggerChange),onClick:p=>{var h;(h=t.onClick)==null||h.call(t,p),!(t.disabled||p.defaultPrevented)&&(p.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:fe(t.onPointerMove,ed(p=>{i.onItemEnter(p),!p.defaultPrevented&&!t.disabled&&!n.open&&!o.current&&(i.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{n.onOpenChange(!0),d()},100))})),onPointerLeave:fe(t.onPointerLeave,ed(p=>{var v,E;d();const h=(v=n.content)==null?void 0:v.getBoundingClientRect();if(h){const y=(E=n.content)==null?void 0:E.dataset.side,A=y==="right",x=A?-5:5,w=h[A?"left":"right"],_=h[A?"right":"left"];i.onPointerGraceIntentChange({area:[{x:p.clientX+x,y:p.clientY},{x:w,y:h.top},{x:_,y:h.top},{x:_,y:h.bottom},{x:w,y:h.bottom}],side:y}),window.clearTimeout(a.current),a.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(p),p.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:fe(t.onKeyDown,p=>{var v;const h=i.searchRef.current!=="";t.disabled||h&&p.key===" "||W$[r.dir].includes(p.key)&&(n.onOpenChange(!0),(v=n.content)==null||v.focus(),p.preventDefault())})})})});HN.displayName=Kc;var JN="MenuSubContent",XN=g.forwardRef((t,e)=>{const n=ON(yr,t.__scopeMenu),{forceMount:r=n.forceMount,...s}=t,i=Ea(yr,t.__scopeMenu),o=Rd(yr,t.__scopeMenu),a=QN(JN,t.__scopeMenu),l=g.useRef(null),c=nt(e,l);return f.jsx(Zu.Provider,{scope:t.__scopeMenu,children:f.jsx(pa,{present:r||i.open,children:f.jsx(Zu.Slot,{scope:t.__scopeMenu,children:f.jsx(o1,{id:a.contentId,"aria-labelledby":a.triggerId,...s,ref:c,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{var p;o.isUsingKeyboardRef.current&&((p=l.current)==null||p.focus()),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:fe(t.onFocusOutside,d=>{d.target!==a.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:fe(t.onEscapeKeyDown,d=>{o.onClose(),d.preventDefault()}),onKeyDown:fe(t.onKeyDown,d=>{var v;const p=d.currentTarget.contains(d.target),h=Y$[o.dir].includes(d.key);p&&h&&(i.onOpenChange(!1),(v=a.trigger)==null||v.focus(),d.preventDefault())})})})})})});XN.displayName=JN;function ZN(t){return t?"open":"closed"}function Mp(t){return t==="indeterminate"}function c1(t){return Mp(t)?"indeterminate":t?"checked":"unchecked"}function fz(t){const e=document.activeElement;for(const n of t)if(n===e||(n.focus(),document.activeElement!==e))return}function pz(t,e){return t.map((n,r)=>t[(e+r)%t.length])}function mz(t,e,n){const s=e.length>1&&Array.from(e).every(c=>c===e[0])?e[0]:e,i=n?t.indexOf(n):-1;let o=pz(t,Math.max(i,0));s.length===1&&(o=o.filter(c=>c!==n));const l=o.find(c=>c.toLowerCase().startsWith(s.toLowerCase()));return l!==n?l:void 0}function gz(t,e){const{x:n,y:r}=t;let s=!1;for(let i=0,o=e.length-1;i<e.length;o=i++){const a=e[i].x,l=e[i].y,c=e[o].x,d=e[o].y;l>r!=d>r&&n<(c-a)*(r-l)/(d-l)+a&&(s=!s)}return s}function yz(t,e){if(!e)return!1;const n={x:t.clientX,y:t.clientY};return gz(n,e)}function ed(t){return e=>e.pointerType==="mouse"?t(e):void 0}var vz=DN,wz=r1,Ez=LN,xz=VN,Cz=a1,_z=FN,Tz=Gm,Az=BN,bz=qN,Sz=$N,Iz=WN,Rz=YN,Pz=KN,Nz=HN,kz=XN,$m="Menubar",[c0,Mz,Dz]=ld($m),[ek,EK]=Jl($m,[Dz,Bm]),kn=H$(),tk=Bm(),[Oz,u1]=ek($m),nk=g.forwardRef((t,e)=>{const{__scopeMenubar:n,value:r,onValueChange:s,defaultValue:i,loop:o=!0,dir:a,...l}=t,c=Fm(a),d=tk(n),[p="",h]=Mu({prop:r,onChange:s,defaultProp:i}),[v,E]=g.useState(null);return f.jsx(Oz,{scope:n,value:p,onMenuOpen:g.useCallback(y=>{h(y),E(y)},[h]),onMenuClose:g.useCallback(()=>h(""),[h]),onMenuToggle:g.useCallback(y=>{h(A=>A?"":y),E(y)},[h]),dir:c,loop:o,children:f.jsx(c0.Provider,{scope:n,children:f.jsx(c0.Slot,{scope:n,children:f.jsx(CN,{asChild:!0,...d,orientation:"horizontal",loop:o,dir:c,currentTabStopId:v,onCurrentTabStopIdChange:E,children:f.jsx(Oe.div,{role:"menubar",...l,ref:e})})})})})});nk.displayName=$m;var d1="MenubarMenu",[Lz,rk]=ek(d1),sk=t=>{const{__scopeMenubar:e,value:n,...r}=t,s=Ko(),i=n||s||"LEGACY_REACT_AUTO_VALUE",o=u1(d1,e),a=kn(e),l=g.useRef(null),c=g.useRef(!1),d=o.value===i;return g.useEffect(()=>{d||(c.current=!1)},[d]),f.jsx(Lz,{scope:e,value:i,triggerId:Ko(),triggerRef:l,contentId:Ko(),wasKeyboardTriggerOpenRef:c,children:f.jsx(vz,{...a,open:d,onOpenChange:p=>{p||o.onMenuClose()},modal:!1,dir:o.dir,...r})})};sk.displayName=d1;var u0="MenubarTrigger",ik=g.forwardRef((t,e)=>{const{__scopeMenubar:n,disabled:r=!1,...s}=t,i=tk(n),o=kn(n),a=u1(u0,n),l=rk(u0,n),c=g.useRef(null),d=nt(e,c,l.triggerRef),[p,h]=g.useState(!1),v=a.value===l.value;return f.jsx(c0.ItemSlot,{scope:n,value:l.value,disabled:r,children:f.jsx(_N,{asChild:!0,...i,focusable:!r,tabStopId:l.value,children:f.jsx(wz,{asChild:!0,...o,children:f.jsx(Oe.button,{type:"button",role:"menuitem",id:l.triggerId,"aria-haspopup":"menu","aria-expanded":v,"aria-controls":v?l.contentId:void 0,"data-highlighted":p?"":void 0,"data-state":v?"open":"closed","data-disabled":r?"":void 0,disabled:r,...s,ref:d,onPointerDown:fe(t.onPointerDown,E=>{!r&&E.button===0&&E.ctrlKey===!1&&(a.onMenuOpen(l.value),v||E.preventDefault())}),onPointerEnter:fe(t.onPointerEnter,()=>{var y;!!a.value&&!v&&(a.onMenuOpen(l.value),(y=c.current)==null||y.focus())}),onKeyDown:fe(t.onKeyDown,E=>{r||(["Enter"," "].includes(E.key)&&a.onMenuToggle(l.value),E.key==="ArrowDown"&&a.onMenuOpen(l.value),["Enter"," ","ArrowDown"].includes(E.key)&&(l.wasKeyboardTriggerOpenRef.current=!0,E.preventDefault()))}),onFocus:fe(t.onFocus,()=>h(!0)),onBlur:fe(t.onBlur,()=>h(!1))})})})})});ik.displayName=u0;var Vz="MenubarPortal",ok=t=>{const{__scopeMenubar:e,...n}=t,r=kn(e);return f.jsx(Ez,{...r,...n})};ok.displayName=Vz;var d0="MenubarContent",ak=g.forwardRef((t,e)=>{const{__scopeMenubar:n,align:r="start",...s}=t,i=kn(n),o=u1(d0,n),a=rk(d0,n),l=Mz(n),c=g.useRef(!1);return f.jsx(xz,{id:a.contentId,"aria-labelledby":a.triggerId,"data-radix-menubar-content":"",...i,...s,ref:e,align:r,onCloseAutoFocus:fe(t.onCloseAutoFocus,d=>{var h;!!!o.value&&!c.current&&((h=a.triggerRef.current)==null||h.focus()),c.current=!1,d.preventDefault()}),onFocusOutside:fe(t.onFocusOutside,d=>{const p=d.target;l().some(v=>{var E;return(E=v.ref.current)==null?void 0:E.contains(p)})&&d.preventDefault()}),onInteractOutside:fe(t.onInteractOutside,()=>{c.current=!0}),onEntryFocus:d=>{a.wasKeyboardTriggerOpenRef.current||d.preventDefault()},onKeyDown:fe(t.onKeyDown,d=>{if(["ArrowRight","ArrowLeft"].includes(d.key)){const p=d.target,h=p.hasAttribute("data-radix-menubar-subtrigger"),v=p.closest("[data-radix-menubar-content]")!==d.currentTarget,y=(o.dir==="rtl"?"ArrowRight":"ArrowLeft")===d.key;if(!y&&h||v&&y)return;let w=l().filter(O=>!O.disabled).map(O=>O.value);y&&w.reverse();const _=w.indexOf(a.value);w=o.loop?Xz(w,_+1):w.slice(_+1);const[R]=w;R&&o.onMenuOpen(R)}},{checkForDefaultPrevented:!1}),style:{...t.style,"--radix-menubar-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-menubar-content-available-width":"var(--radix-popper-available-width)","--radix-menubar-content-available-height":"var(--radix-popper-available-height)","--radix-menubar-trigger-width":"var(--radix-popper-anchor-width)","--radix-menubar-trigger-height":"var(--radix-popper-anchor-height)"}})});ak.displayName=d0;var Fz="MenubarGroup",jz=g.forwardRef((t,e)=>{const{__scopeMenubar:n,...r}=t,s=kn(n);return f.jsx(Cz,{...s,...r,ref:e})});jz.displayName=Fz;var Bz="MenubarLabel",lk=g.forwardRef((t,e)=>{const{__scopeMenubar:n,...r}=t,s=kn(n);return f.jsx(_z,{...s,...r,ref:e})});lk.displayName=Bz;var Uz="MenubarItem",ck=g.forwardRef((t,e)=>{const{__scopeMenubar:n,...r}=t,s=kn(n);return f.jsx(Tz,{...s,...r,ref:e})});ck.displayName=Uz;var qz="MenubarCheckboxItem",uk=g.forwardRef((t,e)=>{const{__scopeMenubar:n,...r}=t,s=kn(n);return f.jsx(Az,{...s,...r,ref:e})});uk.displayName=qz;var Gz="MenubarRadioGroup",$z=g.forwardRef((t,e)=>{const{__scopeMenubar:n,...r}=t,s=kn(n);return f.jsx(bz,{...s,...r,ref:e})});$z.displayName=Gz;var zz="MenubarRadioItem",dk=g.forwardRef((t,e)=>{const{__scopeMenubar:n,...r}=t,s=kn(n);return f.jsx(Sz,{...s,...r,ref:e})});dk.displayName=zz;var Wz="MenubarItemIndicator",hk=g.forwardRef((t,e)=>{const{__scopeMenubar:n,...r}=t,s=kn(n);return f.jsx(Iz,{...s,...r,ref:e})});hk.displayName=Wz;var Yz="MenubarSeparator",fk=g.forwardRef((t,e)=>{const{__scopeMenubar:n,...r}=t,s=kn(n);return f.jsx(Rz,{...s,...r,ref:e})});fk.displayName=Yz;var Kz="MenubarArrow",Qz=g.forwardRef((t,e)=>{const{__scopeMenubar:n,...r}=t,s=kn(n);return f.jsx(Pz,{...s,...r,ref:e})});Qz.displayName=Kz;var Hz="MenubarSubTrigger",pk=g.forwardRef((t,e)=>{const{__scopeMenubar:n,...r}=t,s=kn(n);return f.jsx(Nz,{"data-radix-menubar-subtrigger":"",...s,...r,ref:e})});pk.displayName=Hz;var Jz="MenubarSubContent",mk=g.forwardRef((t,e)=>{const{__scopeMenubar:n,...r}=t,s=kn(n);return f.jsx(kz,{...s,"data-radix-menubar-content":"",...r,ref:e,style:{...t.style,"--radix-menubar-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-menubar-content-available-width":"var(--radix-popper-available-width)","--radix-menubar-content-available-height":"var(--radix-popper-available-height)","--radix-menubar-trigger-width":"var(--radix-popper-anchor-width)","--radix-menubar-trigger-height":"var(--radix-popper-anchor-height)"}})});mk.displayName=Jz;function Xz(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var gk=nk,Zz=sk,yk=ik,eW=ok,vk=ak,wk=lk,Ek=ck,xk=uk,Ck=dk,_k=hk,Tk=fk,Ak=pk,bk=mk;const tW=Zz,Sk=g.forwardRef(({className:t,...e},n)=>f.jsx(gk,{ref:n,className:Ve("flex h-10 items-center space-x-1 rounded-md border bg-background p-1",t),...e}));Sk.displayName=gk.displayName;const Ik=g.forwardRef(({className:t,...e},n)=>f.jsx(yk,{ref:n,className:Ve("flex cursor-default select-none items-center rounded-sm px-3 py-1.5 text-sm font-medium outline-none focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground",t),...e}));Ik.displayName=yk.displayName;const nW=g.forwardRef(({className:t,inset:e,children:n,...r},s)=>f.jsxs(Ak,{ref:s,className:Ve("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground",e&&"pl-8",t),...r,children:[n,f.jsx(PL,{className:"ml-auto h-4 w-4"})]}));nW.displayName=Ak.displayName;const rW=g.forwardRef(({className:t,...e},n)=>f.jsx(bk,{ref:n,className:Ve("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...e}));rW.displayName=bk.displayName;const Rk=g.forwardRef(({className:t,align:e="start",alignOffset:n=-4,sideOffset:r=8,...s},i)=>f.jsx(eW,{children:f.jsx(vk,{ref:i,align:e,alignOffset:n,sideOffset:r,className:Ve("z-50 min-w-[12rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...s})}));Rk.displayName=vk.displayName;const Pk=g.forwardRef(({className:t,inset:e,...n},r)=>f.jsx(Ek,{ref:r,className:Ve("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e&&"pl-8",t),...n}));Pk.displayName=Ek.displayName;const sW=g.forwardRef(({className:t,children:e,checked:n,...r},s)=>f.jsxs(xk,{ref:s,className:Ve("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),checked:n,...r,children:[f.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:f.jsx(_k,{children:f.jsx(fS,{className:"h-4 w-4"})})}),e]}));sW.displayName=xk.displayName;const iW=g.forwardRef(({className:t,children:e,...n},r)=>f.jsxs(Ck,{ref:r,className:Ve("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[f.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:f.jsx(_k,{children:f.jsx(kL,{className:"h-2 w-2 fill-current"})})}),e]}));iW.displayName=Ck.displayName;const oW=g.forwardRef(({className:t,inset:e,...n},r)=>f.jsx(wk,{ref:r,className:Ve("px-2 py-1.5 text-sm font-semibold",e&&"pl-8",t),...n}));oW.displayName=wk.displayName;const aW=g.forwardRef(({className:t,...e},n)=>f.jsx(Tk,{ref:n,className:Ve("-mx-1 my-1 h-px bg-muted",t),...e}));aW.displayName=Tk.displayName;const lW=({user:t,handleLogout:e,navigate:n})=>f.jsx(Sk,{children:f.jsxs(tW,{children:[f.jsx(Ik,{className:"bg-transparent text-black border border-white",children:"Menu"}),f.jsx(Rk,{children:j7.filter(r=>r.roles.includes(t.role)).map(r=>{const s=r.icon;return f.jsxs(Pk,{className:r.colorClass+" flex gap-2 items-center",onClick:()=>r.key==="logout"?e():n(r.route),children:[f.jsx(s,{className:"w-4 h-4"}),r.label]},r.key)})})]})}),Nk=g.forwardRef(({className:t,...e},n)=>f.jsx("div",{ref:n,className:Ve("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));Nk.displayName="Card";const kk=g.forwardRef(({className:t,...e},n)=>f.jsx("div",{ref:n,className:Ve("flex flex-col space-y-1.5 p-6",t),...e}));kk.displayName="CardHeader";const Mk=g.forwardRef(({className:t,...e},n)=>f.jsx("h3",{ref:n,className:Ve("text-2xl font-semibold leading-none tracking-tight",t),...e}));Mk.displayName="CardTitle";const Dk=g.forwardRef(({className:t,...e},n)=>f.jsx("p",{ref:n,className:Ve("text-sm text-muted-foreground",t),...e}));Dk.displayName="CardDescription";const Ok=g.forwardRef(({className:t,...e},n)=>f.jsx("div",{ref:n,className:Ve("p-6 pt-0",t),...e}));Ok.displayName="CardContent";const cW=g.forwardRef(({className:t,...e},n)=>f.jsx("div",{ref:n,className:Ve("flex items-center p-6 pt-0",t),...e}));cW.displayName="CardFooter";var h1="Avatar",[uW,xK]=Jl(h1),[dW,Lk]=uW(h1),Vk=g.forwardRef((t,e)=>{const{__scopeAvatar:n,...r}=t,[s,i]=g.useState("idle");return f.jsx(dW,{scope:n,imageLoadingStatus:s,onImageLoadingStatusChange:i,children:f.jsx(Oe.span,{...r,ref:e})})});Vk.displayName=h1;var Fk="AvatarImage",jk=g.forwardRef((t,e)=>{const{__scopeAvatar:n,src:r,onLoadingStatusChange:s=()=>{},...i}=t,o=Lk(Fk,n),a=hW(r,i.referrerPolicy),l=rn(c=>{s(c),o.onImageLoadingStatusChange(c)});return Qt(()=>{a!=="idle"&&l(a)},[a,l]),a==="loaded"?f.jsx(Oe.img,{...i,ref:e,src:r}):null});jk.displayName=Fk;var Bk="AvatarFallback",Uk=g.forwardRef((t,e)=>{const{__scopeAvatar:n,delayMs:r,...s}=t,i=Lk(Bk,n),[o,a]=g.useState(r===void 0);return g.useEffect(()=>{if(r!==void 0){const l=window.setTimeout(()=>a(!0),r);return()=>window.clearTimeout(l)}},[r]),o&&i.imageLoadingStatus!=="loaded"?f.jsx(Oe.span,{...s,ref:e}):null});Uk.displayName=Bk;function hW(t,e){const[n,r]=g.useState("idle");return Qt(()=>{if(!t){r("error");return}let s=!0;const i=new window.Image,o=a=>()=>{s&&r(a)};return r("loading"),i.onload=o("loaded"),i.onerror=o("error"),i.src=t,e&&(i.referrerPolicy=e),()=>{s=!1}},[t,e]),n}var qk=Vk,Gk=jk,$k=Uk;const zk=g.forwardRef(({className:t,...e},n)=>f.jsx(qk,{ref:n,className:Ve("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",t),...e}));zk.displayName=qk.displayName;const fW=g.forwardRef(({className:t,...e},n)=>f.jsx(Gk,{ref:n,className:Ve("aspect-square h-full w-full",t),...e}));fW.displayName=Gk.displayName;const Wk=g.forwardRef(({className:t,...e},n)=>f.jsx($k,{ref:n,className:Ve("flex h-full w-full items-center justify-center rounded-full bg-muted",t),...e}));Wk.displayName=$k.displayName;const pW=({user:t,lastUpdateTime:e})=>{var n;return f.jsxs(Nk,{className:"my-6 bg-gray-900/80 backdrop-blur-sm border border-red-900/30 text-center relative overflow-hidden",children:[f.jsx("div",{className:"absolute inset-0 pointer-events-none",style:{background:"radial-gradient(circle at 50% 0%, rgba(239,68,68,0.15) 0%, transparent 70%)"}}),f.jsxs(kk,{className:"relative z-10 flex flex-col items-center",children:[f.jsx(zk,{className:"mb-2 h-16 w-16 border-2 border-red-500 shadow-lg",children:f.jsx(Wk,{className:"text-2xl bg-red-900/80 text-white",children:((n=t.name)==null?void 0:n.split(" ").map(r=>r[0]).join("").toUpperCase())||f.jsx(gv,{})})}),f.jsxs(Mk,{className:"text-white",children:["Welcome, ",t.name,"!"]}),f.jsx(Dk,{children:"Your loyalty card is ready to use"})]}),f.jsx(Ok,{className:"relative z-10",children:e&&f.jsxs("div",{className:"mt-2 flex items-center justify-center text-sm text-gray-500",children:[f.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full mr-2 animate-pulse"}),"Last updated: ",e.toLocaleTimeString()]})})]})};function In({className:t,...e}){return f.jsx("div",{className:Ve("animate-pulse rounded-md bg-muted",t),...e})}const mW=()=>f.jsxs("div",{className:"flex items-center justify-between px-4 py-4 mb-4",children:[f.jsx(In,{className:"h-8 w-32 rounded"}),f.jsxs("div",{className:"flex gap-2",children:[f.jsx(In,{className:"h-8 w-20 rounded"}),f.jsx(In,{className:"h-8 w-20 rounded"}),f.jsx(In,{className:"h-8 w-20 rounded"})]})]}),gW=()=>f.jsxs("div",{className:"mb-6 bg-gray-900/80 backdrop-blur-sm border border-red-900/30 text-center relative overflow-hidden rounded-2xl",children:[f.jsxs("div",{className:"flex flex-col items-center p-6",children:[f.jsx(In,{className:"h-16 w-16 rounded-full mb-2"}),f.jsx(In,{className:"h-6 w-40 mb-2"}),f.jsx(In,{className:"h-4 w-56 mb-2"})]}),f.jsx("div",{className:"px-6 pb-4",children:f.jsx(In,{className:"h-4 w-32 mx-auto"})})]}),yW=()=>f.jsxs("div",{className:"flex gap-4 mb-6 justify-center",children:[f.jsx(In,{className:"h-8 w-24 rounded"}),f.jsx(In,{className:"h-8 w-24 rounded"}),f.jsx(In,{className:"h-8 w-24 rounded"})]}),vW=()=>f.jsxs("div",{className:"bg-gradient-to-br from-gray-900/90 via-black/80 to-red-950/90 border border-red-900/40 rounded-2xl p-6 min-h-[220px] shadow-2xl mb-6",children:[f.jsx(In,{className:"h-6 w-40 mb-4"}),f.jsx(In,{className:"h-4 w-56 mb-4"}),f.jsx(In,{className:"h-4 w-full rounded mb-2"}),f.jsx(In,{className:"h-8 w-32 mt-6 mx-auto"})]}),wW=()=>{const{user:t,loading:e,settings:n,allUsers:r,allUsersLoading:s,showConfetti:i,confettiKey:o,lastUpdateTime:a,activeTab:l,setActiveTab:c,userPurchaseLimit:d,purchasesRemaining:p,handleLogout:h,navigate:v}=MG();if(e)return f.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-black via-gray-900 to-red-950 relative overflow-hidden",children:[f.jsx(mW,{}),f.jsx("div",{className:"flex-1 px-6 pb-6",children:f.jsxs("div",{className:"max-w-md mx-auto",children:[f.jsx(gW,{}),f.jsx(yW,{}),f.jsx(vW,{})]})})]});if(!t)return null;const E=l==="progress",y=t.role==="customer";return f.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-black via-gray-900 to-red-950 relative overflow-hidden",children:[i&&f.jsx(t0,{width:window.innerWidth,height:window.innerHeight,numberOfPieces:200,recycle:!1},o),f.jsx(qG,{title:"Dashboard",onBack:()=>v("/"),actions:f.jsx(lW,{user:t,handleLogout:h,navigate:v})}),f.jsx("div",{className:"flex-1 px-6 pb-6",children:f.jsxs("div",{className:"max-w-md mx-auto",children:[f.jsx(pW,{user:t,lastUpdateTime:a}),f.jsx(YG,{activeTab:l,setActiveTab:c,userRole:t.role}),E&&f.jsx(f.Fragment,{children:y?f.jsx(QG,{user:t,userPurchaseLimit:d,settings:n,purchasesRemaining:p,onViewReward:()=>v("/rewards")}):f.jsxs("div",{className:"bg-gradient-to-br from-gray-900/90 via-black/80 to-red-950/90 border border-red-900/40 rounded-none p-6 min-h-[460px] -mt-0 shadow-2xl",children:[f.jsxs("div",{className:"mb-4",children:[f.jsx("h3",{className:"text-2xl font-bold text-white mb-2",children:"User Progress Tracking"}),f.jsx("p",{className:"text-gray-400 text-sm",children:"Real-time updates of all user loyalty progress"})]}),f.jsx(WG,{users:r.filter(A=>A.role==="customer"),loading:s})]})}),l==="card"&&(t.role==="super_admin"?f.jsx(zG,{allUsers:r}):f.jsx(F7,{user:t}))]})})]})},EW=()=>{const{user:t,useReward:e}=ds(),n=Hs(),[r,s]=g.useState(!1),[i,o]=g.useState(!1),[a,l]=g.useState(!1),[c,d]=g.useState(30),[p,h]=g.useState(!1),[v,E]=g.useState(!1),[y,A]=g.useState(!0),x=g.useRef(null);return g.useEffect(()=>(t?t.isRewardReady?(E(!0),setTimeout(()=>E(!1),3e3),x.current=setInterval(()=>{A(!1),setTimeout(()=>A(!0),100)},3500)):n("/dashboard"):n("/login"),()=>{x.current&&clearInterval(x.current)}),[t,n]),g.useEffect(()=>{if(!(!t||r||p))if(t.isRewardReady&&c>0){const w=setInterval(()=>{d(_=>_-1)},1e3);return()=>clearInterval(w)}else c===0&&t.isRewardReady&&(h(!0),setTimeout(()=>{e(),n("/dashboard")},2e3))},[t,c,r,p,e,n]),g.useEffect(()=>{let w;return a&&(w=setTimeout(()=>l(!1),2500)),()=>clearTimeout(w)},[a]),g.useEffect(()=>{let w;return i&&(w=setTimeout(()=>o(!1),2500)),()=>clearTimeout(w)},[i]),!t||!t.isRewardReady?null:p?f.jsx("div",{className:"min-h-screen flex flex-col items-center justify-center bg-gradient-to-br from-black via-gray-900 to-red-950",children:f.jsxs("div",{className:"bg-gradient-to-r from-red-700/80 to-black/80 rounded-2xl p-10 shadow-2xl text-center",children:[f.jsx("div",{className:"text-6xl mb-4",children:"⏰"}),f.jsx("h2",{className:"text-3xl font-bold text-white mb-2",children:"Reward expired"}),f.jsx("p",{className:"text-red-200 text-lg",children:"Start collecting again."})]})}):r?f.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-black via-gray-900 to-red-950 flex flex-col items-center justify-center relative overflow-hidden",children:[i&&f.jsx(t0,{width:window.innerWidth,height:window.innerHeight,numberOfPieces:400,recycle:!1}),f.jsxs("div",{className:"bg-gradient-to-r from-green-600/80 to-green-400/80 backdrop-blur-sm border border-green-900/30 rounded-2xl p-10 shadow-2xl text-center",children:[f.jsx("div",{className:"text-6xl mb-4",children:"🥳"}),f.jsx("h2",{className:"text-3xl font-bold text-white mb-2",children:"Reward Redeemed!"}),f.jsx("p",{className:"text-green-200 text-lg",children:"Your reward has been used."}),f.jsx("p",{className:"text-white/80 mt-2",children:"Your scan count has been reset. Start earning your next reward!"}),f.jsx("button",{className:"mt-8 px-6 py-3 bg-gradient-to-r from-red-600 to-red-700 text-white font-semibold rounded-lg shadow-lg hover:from-red-700 hover:to-red-800 transition-all duration-300",onClick:()=>n("/dashboard"),children:"Back to Dashboard"})]})]}):f.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center relative overflow-hidden bg-gradient-to-br from-black via-red-900 to-orange-900 animate-shimmer",children:[f.jsx("style",{children:`
        @keyframes shimmer {
          0% { background-position: 0% 50%; }
          100% { background-position: 100% 50%; }
        }
        .animate-shimmer {
          background-size: 200% 200%;
          animation: shimmer 8s linear infinite;
        }
        @keyframes fire {
          0% { transform: scaleY(1) translateY(0); opacity: 1; }
          50% { transform: scaleY(1.1) translateY(-10px); opacity: 0.85; }
          100% { transform: scaleY(1) translateY(0); opacity: 1; }
        }
        .fire-flame {
          animation: fire 1.2s infinite alternate cubic-bezier(0.4,0,0.2,1);
        }
        @keyframes lightning {
          0%, 97%, 100% { opacity: 0; }
          98% { opacity: 1; }
          99% { opacity: 0.5; }
        }
        .lightning {
          animation: lightning 4s infinite;
        }
      `}),y&&f.jsx(t0,{width:window.innerWidth,height:window.innerHeight,numberOfPieces:180,recycle:!1,colors:["#ef4444","#fff","#facc15","#ff9800","#a3e635"],style:{position:"fixed",left:0,top:0,zIndex:40}}),f.jsxs("div",{className:"pointer-events-none",children:[f.jsx("div",{className:"absolute top-0 left-0 w-24 h-24 lightning",style:{boxShadow:"0 0 60px 20px #fff8"}}),f.jsx("div",{className:"absolute top-0 right-0 w-24 h-24 lightning",style:{boxShadow:"0 0 60px 20px #fff8"}}),f.jsx("div",{className:"absolute bottom-0 left-0 w-24 h-24 lightning",style:{boxShadow:"0 0 60px 20px #fff8"}}),f.jsx("div",{className:"absolute bottom-0 right-0 w-24 h-24 lightning",style:{boxShadow:"0 0 60px 20px #fff8"}})]}),f.jsx("div",{className:"absolute bottom-0 left-0 w-full flex justify-center items-end z-30 pointer-events-none",children:[...Array(12)].map((w,_)=>f.jsx("div",{className:"fire-flame",style:{width:`${16+Math.random()*16}px`,height:`${40+Math.random()*32}px`,marginLeft:4,marginRight:4,borderRadius:"50% 50% 40% 40%",background:"radial-gradient(circle at 50% 30%, #ff9800 60%, #ef4444 100%)",opacity:.7+Math.random()*.3,filter:"blur(1.5px)",animationDelay:`${Math.random()}s`}},_))}),f.jsxs("div",{className:"relative z-20 bg-gradient-to-r from-red-700/80 to-black/80 rounded-2xl p-10 shadow-2xl text-center animate-bounceIn",children:[f.jsx("div",{className:"text-6xl mb-4 animate-bounce",children:"🎉"}),f.jsx("h2",{className:"text-3xl font-extrabold text-white mb-2 animate-pulse drop-shadow-[0_0_16px_#ff9800]",children:"You Got 20% OFF! 🎉"}),f.jsx("p",{className:"text-red-200 text-lg mb-6 animate-fadeIn",children:"Show this at checkout to redeem your reward."}),f.jsx("button",{className:"mt-8 px-6 py-3 bg-gradient-to-r from-red-600 to-red-700 text-white font-semibold rounded-lg shadow-lg hover:from-red-700 hover:to-red-800 transition-all duration-300",onClick:()=>{e(),n("/dashboard")},children:"Back to Dashboard"})]})]})},xW=()=>{var v;const{user:t,loading:e,settings:n,settingsLoading:r,updateSettings:s}=ds(),i=Hs(),[o,a]=g.useState(5),[l,c]=g.useState(""),[d,p]=g.useState(!1);if(g.useState(!1),g.useEffect(()=>{yt("page_view",{page:"Settings"})},[]),g.useEffect(()=>{!e&&(!t||t.role!=="super_admin")&&i("/dashboard")},[t,e,i]),g.useEffect(()=>{n&&(a(n.purchaseLimit||5),c(n.descriptionMessage||"Complete purchases to unlock your reward!"))},[n]),e||r)return f.jsx("div",{className:"min-h-screen bg-gradient-to-br from-black via-gray-900 to-red-950 flex items-center justify-center",children:f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-red-500 mx-auto mb-4"}),f.jsx("p",{className:"text-white text-lg",children:"Loading..."})]})});if(!t||t.role!=="admin"&&t.role!=="super_admin")return null;const h=async()=>{if(o<1){it({title:"Invalid Purchase Limit",description:"Purchase limit must be at least 1",variant:"destructive"}),yt("settings_invalid_purchase_limit");return}if(!l.trim()){it({title:"Missing Description",description:"Please enter a description message",variant:"destructive"}),yt("settings_missing_description");return}p(!0);try{await s(t,o,l.trim()),it({title:"Settings Updated",description:"Global settings have been saved successfully!"}),yt("settings_updated",{user_id:t.id,purchaseLimit:o})}catch(E){console.log("usser",t),console.error("Error updating settings:",E),it({title:"Update Failed",description:"Failed to update settings. Please try again.",variant:"destructive"}),yt("settings_update_failed",{user_id:t.id,error:E==null?void 0:E.message})}finally{p(!1)}};return f.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-black via-gray-900 to-red-950 relative overflow-hidden",children:[f.jsxs("div",{className:"absolute inset-0 opacity-10",children:[f.jsx("div",{className:"absolute top-20 right-10 w-40 h-40 bg-red-500 rounded-full blur-3xl animate-pulse"}),f.jsx("div",{className:"absolute bottom-32 left-10 w-32 h-32 bg-red-600 rounded-full blur-3xl animate-pulse delay-1000"})]}),f.jsxs("div",{className:"relative z-10 min-h-screen flex flex-col",children:[f.jsx("div",{className:"bg-gray-900/80 backdrop-blur-sm border-b border-red-900/30 sticky top-0 z-10",children:f.jsxs("div",{className:"p-6 flex items-center justify-between",children:[f.jsxs("div",{className:"flex items-center",children:[f.jsx(Ys,{to:"/dashboard",className:"text-red-400 hover:text-red-300 transition-colors",children:f.jsx(dd,{className:"w-6 h-6"})}),f.jsx("h1",{className:"ml-4 text-2xl font-bold text-white",children:"Settings"})]}),f.jsxs("div",{className:"flex items-center text-gray-400",children:[f.jsx(mS,{className:"w-6 h-6 mr-2"}),f.jsx("span",{className:"text-sm",children:"Admin Panel"})]})]})}),f.jsx("div",{className:"flex-1 flex items-center justify-center px-6 py-8",children:f.jsx("div",{className:"w-full max-w-2xl",children:f.jsxs("div",{className:"bg-gray-900/80 backdrop-blur-sm border border-red-900/30 rounded-2xl p-8 shadow-2xl",children:[f.jsxs("div",{className:"text-center mb-8",children:[f.jsx("h2",{className:"text-3xl font-bold text-white mb-2",children:"Global Settings"}),f.jsx("p",{className:"text-gray-400",children:"Configure loyalty program settings for new users"})]}),f.jsxs("div",{className:"space-y-8",children:[f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx(Ms,{htmlFor:"purchaseLimit",className:"text-white text-lg font-semibold",children:"Purchase Limit"}),f.jsxs("div",{className:"text-sm text-gray-400",children:["Current: ",(n==null?void 0:n.purchaseLimit)||10]})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx(Qo,{id:"purchaseLimit",type:"number",min:"1",max:"50",value:o,onChange:E=>a(parseInt(E.target.value)||1),className:"bg-gray-800/50 border-gray-700 text-white placeholder-gray-400 focus:border-red-500 text-lg",placeholder:"Enter purchase limit"}),f.jsx("p",{className:"text-sm text-gray-400",children:"Number of purchases required for new users to earn a reward"})]})]}),f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx(Ms,{htmlFor:"descriptionMessage",className:"text-white text-lg font-semibold",children:"Description Message"}),f.jsxs("div",{className:"text-sm text-gray-400",children:[l.length,"/200"]})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx(YE,{id:"descriptionMessage",value:l,onChange:E=>c(E.target.value),maxLength:200,className:"bg-gray-800/50 border-gray-700 text-white placeholder-gray-400 focus:border-red-500 min-h-[120px] resize-none",placeholder:"Enter description message for new users..."}),f.jsx("p",{className:"text-sm text-gray-400",children:"This message will be shown to new users on their dashboard"})]})]}),n&&f.jsxs("div",{className:"bg-gray-800/50 border border-gray-700 rounded-lg p-4",children:[f.jsx("h3",{className:"text-white font-semibold mb-2",children:"Current Settings"}),f.jsxs("div",{className:"space-y-1 text-sm text-gray-300",children:[f.jsxs("div",{children:["Purchase Limit: ",n.purchaseLimit||5]}),f.jsxs("div",{children:["Description:"," ",n.descriptionMessage||"Complete purchases to unlock your reward!"]}),f.jsxs("div",{children:["Last Updated:"," ",((v=n.updatedAt)==null?void 0:v.toDate().toLocaleString())||"Not set"]}),f.jsxs("div",{children:["Updated By: ",n.updatedBy||"system"]})]})]}),f.jsx("div",{className:"flex justify-center pt-4",children:f.jsx(qn,{onClick:h,disabled:d,className:"bg-gradient-to-r from-red-600 to-red-700 hover:from-red-700 hover:to-red-800 text-white font-semibold px-8 py-3 rounded-lg shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-105 disabled:opacity-50",children:d?f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Saving..."]}):f.jsxs(f.Fragment,{children:[f.jsx(LL,{className:"w-4 h-4 mr-2"}),"Save Settings"]})})}),f.jsxs("div",{className:"bg-blue-900/20 border border-blue-700/30 rounded-lg p-4",children:[f.jsx("h4",{className:"text-blue-300 font-semibold mb-2",children:"⚠️ Important Note"}),f.jsx("p",{className:"text-blue-200 text-sm",children:"These settings will only affect new users who register after the changes are saved. Existing users will keep their original purchase limits to maintain fairness."})]})]})]})})})]})]})};function iT(t,[e,n]){return Math.min(n,Math.max(e,t))}function CW(t){const e=g.useRef({value:t,previous:t});return g.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var _W=[" ","Enter","ArrowUp","ArrowDown"],TW=[" ","Enter"],Pd="Select",[zm,Wm,AW]=ld(Pd),[fc,CK]=Jl(Pd,[AW,uc]),Ym=uc(),[bW,wo]=fc(Pd),[SW,IW]=fc(Pd),Yk=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:s,onOpenChange:i,value:o,defaultValue:a,onValueChange:l,dir:c,name:d,autoComplete:p,disabled:h,required:v,form:E}=t,y=Ym(e),[A,x]=g.useState(null),[w,_]=g.useState(null),[R,O]=g.useState(!1),j=Fm(c),[I=!1,S]=Mu({prop:r,defaultProp:s,onChange:i}),[k,M]=Mu({prop:o,defaultProp:a,onChange:l}),V=g.useRef(null),F=A?E||!!A.closest("form"):!0,[D,re]=g.useState(new Set),se=Array.from(D).map(ne=>ne.props.value).join(";");return f.jsx(CP,{...y,children:f.jsxs(bW,{required:v,scope:e,trigger:A,onTriggerChange:x,valueNode:w,onValueNodeChange:_,valueNodeHasChildren:R,onValueNodeHasChildrenChange:O,contentId:Ko(),value:k,onValueChange:M,open:I,onOpenChange:S,dir:j,triggerPointerDownPosRef:V,disabled:h,children:[f.jsx(zm.Provider,{scope:e,children:f.jsx(SW,{scope:t.__scopeSelect,onNativeOptionAdd:g.useCallback(ne=>{re(pe=>new Set(pe).add(ne))},[]),onNativeOptionRemove:g.useCallback(ne=>{re(pe=>{const q=new Set(pe);return q.delete(ne),q})},[]),children:n})}),F?f.jsxs(v2,{"aria-hidden":!0,required:v,tabIndex:-1,name:d,autoComplete:p,value:k,onChange:ne=>M(ne.target.value),disabled:h,form:E,children:[k===void 0?f.jsx("option",{value:""}):null,Array.from(D)]},se):null]})})};Yk.displayName=Pd;var Kk="SelectTrigger",Qk=g.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...s}=t,i=Ym(n),o=wo(Kk,n),a=o.disabled||r,l=nt(e,o.onTriggerChange),c=Wm(n),d=g.useRef("touch"),[p,h,v]=w2(y=>{const A=c().filter(_=>!_.disabled),x=A.find(_=>_.value===o.value),w=E2(A,y,x);w!==void 0&&o.onValueChange(w.value)}),E=y=>{a||(o.onOpenChange(!0),v()),y&&(o.triggerPointerDownPosRef.current={x:Math.round(y.pageX),y:Math.round(y.pageY)})};return f.jsx(VE,{asChild:!0,...i,children:f.jsx(Oe.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:a,"data-disabled":a?"":void 0,"data-placeholder":y2(o.value)?"":void 0,...s,ref:l,onClick:fe(s.onClick,y=>{y.currentTarget.focus(),d.current!=="mouse"&&E(y)}),onPointerDown:fe(s.onPointerDown,y=>{d.current=y.pointerType;const A=y.target;A.hasPointerCapture(y.pointerId)&&A.releasePointerCapture(y.pointerId),y.button===0&&y.ctrlKey===!1&&y.pointerType==="mouse"&&(E(y),y.preventDefault())}),onKeyDown:fe(s.onKeyDown,y=>{const A=p.current!=="";!(y.ctrlKey||y.altKey||y.metaKey)&&y.key.length===1&&h(y.key),!(A&&y.key===" ")&&_W.includes(y.key)&&(E(),y.preventDefault())})})})});Qk.displayName=Kk;var Hk="SelectValue",Jk=g.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,children:i,placeholder:o="",...a}=t,l=wo(Hk,n),{onValueNodeHasChildrenChange:c}=l,d=i!==void 0,p=nt(e,l.onValueNodeChange);return Qt(()=>{c(d)},[c,d]),f.jsx(Oe.span,{...a,ref:p,style:{pointerEvents:"none"},children:y2(l.value)?f.jsx(f.Fragment,{children:o}):i})});Jk.displayName=Hk;var RW="SelectIcon",Xk=g.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...s}=t;return f.jsx(Oe.span,{"aria-hidden":!0,...s,ref:e,children:r||"▼"})});Xk.displayName=RW;var PW="SelectPortal",Zk=t=>f.jsx(Xp,{asChild:!0,...t});Zk.displayName=PW;var ua="SelectContent",e2=g.forwardRef((t,e)=>{const n=wo(ua,t.__scopeSelect),[r,s]=g.useState();if(Qt(()=>{s(new DocumentFragment)},[]),!n.open){const i=r;return i?fa.createPortal(f.jsx(t2,{scope:t.__scopeSelect,children:f.jsx(zm.Slot,{scope:t.__scopeSelect,children:f.jsx("div",{children:t.children})})}),i):null}return f.jsx(n2,{...t,ref:e})});e2.displayName=ua;var Rr=10,[t2,Eo]=fc(ua),NW="SelectContentImpl",n2=g.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:i,onPointerDownOutside:o,side:a,sideOffset:l,align:c,alignOffset:d,arrowPadding:p,collisionBoundary:h,collisionPadding:v,sticky:E,hideWhenDetached:y,avoidCollisions:A,...x}=t,w=wo(ua,n),[_,R]=g.useState(null),[O,j]=g.useState(null),I=nt(e,te=>R(te)),[S,k]=g.useState(null),[M,V]=g.useState(null),F=Wm(n),[D,re]=g.useState(!1),se=g.useRef(!1);g.useEffect(()=>{if(_)return AN(_)},[_]),mN();const ne=g.useCallback(te=>{const[ge,...we]=F().map(_e=>_e.ref.current),[xe]=we.slice(-1),Ae=document.activeElement;for(const _e of te)if(_e===Ae||(_e==null||_e.scrollIntoView({block:"nearest"}),_e===ge&&O&&(O.scrollTop=0),_e===xe&&O&&(O.scrollTop=O.scrollHeight),_e==null||_e.focus(),document.activeElement!==Ae))return},[F,O]),pe=g.useCallback(()=>ne([S,_]),[ne,S,_]);g.useEffect(()=>{D&&pe()},[D,pe]);const{onOpenChange:q,triggerPointerDownPosRef:W}=w;g.useEffect(()=>{if(_){let te={x:0,y:0};const ge=xe=>{var Ae,_e;te={x:Math.abs(Math.round(xe.pageX)-(((Ae=W.current)==null?void 0:Ae.x)??0)),y:Math.abs(Math.round(xe.pageY)-(((_e=W.current)==null?void 0:_e.y)??0))}},we=xe=>{te.x<=10&&te.y<=10?xe.preventDefault():_.contains(xe.target)||q(!1),document.removeEventListener("pointermove",ge),W.current=null};return W.current!==null&&(document.addEventListener("pointermove",ge),document.addEventListener("pointerup",we,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",ge),document.removeEventListener("pointerup",we,{capture:!0})}}},[_,q,W]),g.useEffect(()=>{const te=()=>q(!1);return window.addEventListener("blur",te),window.addEventListener("resize",te),()=>{window.removeEventListener("blur",te),window.removeEventListener("resize",te)}},[q]);const[ie,ee]=w2(te=>{const ge=F().filter(Ae=>!Ae.disabled),we=ge.find(Ae=>Ae.ref.current===document.activeElement),xe=E2(ge,te,we);xe&&setTimeout(()=>xe.ref.current.focus())}),ae=g.useCallback((te,ge,we)=>{const xe=!se.current&&!we;(w.value!==void 0&&w.value===ge||xe)&&(k(te),xe&&(se.current=!0))},[w.value]),ce=g.useCallback(()=>_==null?void 0:_.focus(),[_]),Re=g.useCallback((te,ge,we)=>{const xe=!se.current&&!we;(w.value!==void 0&&w.value===ge||xe)&&V(te)},[w.value]),ke=r==="popper"?h0:r2,Ee=ke===h0?{side:a,sideOffset:l,align:c,alignOffset:d,arrowPadding:p,collisionBoundary:h,collisionPadding:v,sticky:E,hideWhenDetached:y,avoidCollisions:A}:{};return f.jsx(t2,{scope:n,content:_,viewport:O,onViewportChange:j,itemRefCallback:ae,selectedItem:S,onItemLeave:ce,itemTextRefCallback:Re,focusSelectedItem:pe,selectedItemText:M,position:r,isPositioned:D,searchRef:ie,children:f.jsx(n1,{as:ta,allowPinchZoom:!0,children:f.jsx(t1,{asChild:!0,trapped:w.open,onMountAutoFocus:te=>{te.preventDefault()},onUnmountAutoFocus:fe(s,te=>{var ge;(ge=w.trigger)==null||ge.focus({preventScroll:!0}),te.preventDefault()}),children:f.jsx(cd,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:te=>te.preventDefault(),onDismiss:()=>w.onOpenChange(!1),children:f.jsx(ke,{role:"listbox",id:w.contentId,"data-state":w.open?"open":"closed",dir:w.dir,onContextMenu:te=>te.preventDefault(),...x,...Ee,onPlaced:()=>re(!0),ref:I,style:{display:"flex",flexDirection:"column",outline:"none",...x.style},onKeyDown:fe(x.onKeyDown,te=>{const ge=te.ctrlKey||te.altKey||te.metaKey;if(te.key==="Tab"&&te.preventDefault(),!ge&&te.key.length===1&&ee(te.key),["ArrowUp","ArrowDown","Home","End"].includes(te.key)){let xe=F().filter(Ae=>!Ae.disabled).map(Ae=>Ae.ref.current);if(["ArrowUp","End"].includes(te.key)&&(xe=xe.slice().reverse()),["ArrowUp","ArrowDown"].includes(te.key)){const Ae=te.target,_e=xe.indexOf(Ae);xe=xe.slice(_e+1)}setTimeout(()=>ne(xe)),te.preventDefault()}})})})})})})});n2.displayName=NW;var kW="SelectItemAlignedPosition",r2=g.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...s}=t,i=wo(ua,n),o=Eo(ua,n),[a,l]=g.useState(null),[c,d]=g.useState(null),p=nt(e,I=>d(I)),h=Wm(n),v=g.useRef(!1),E=g.useRef(!0),{viewport:y,selectedItem:A,selectedItemText:x,focusSelectedItem:w}=o,_=g.useCallback(()=>{if(i.trigger&&i.valueNode&&a&&c&&y&&A&&x){const I=i.trigger.getBoundingClientRect(),S=c.getBoundingClientRect(),k=i.valueNode.getBoundingClientRect(),M=x.getBoundingClientRect();if(i.dir!=="rtl"){const Ae=M.left-S.left,_e=k.left-Ae,de=I.left-_e,ve=I.width+de,ht=Math.max(ve,S.width),st=window.innerWidth-Rr,Pt=iT(_e,[Rr,Math.max(Rr,st-ht)]);a.style.minWidth=ve+"px",a.style.left=Pt+"px"}else{const Ae=S.right-M.right,_e=window.innerWidth-k.right-Ae,de=window.innerWidth-I.right-_e,ve=I.width+de,ht=Math.max(ve,S.width),st=window.innerWidth-Rr,Pt=iT(_e,[Rr,Math.max(Rr,st-ht)]);a.style.minWidth=ve+"px",a.style.right=Pt+"px"}const V=h(),F=window.innerHeight-Rr*2,D=y.scrollHeight,re=window.getComputedStyle(c),se=parseInt(re.borderTopWidth,10),ne=parseInt(re.paddingTop,10),pe=parseInt(re.borderBottomWidth,10),q=parseInt(re.paddingBottom,10),W=se+ne+D+q+pe,ie=Math.min(A.offsetHeight*5,W),ee=window.getComputedStyle(y),ae=parseInt(ee.paddingTop,10),ce=parseInt(ee.paddingBottom,10),Re=I.top+I.height/2-Rr,ke=F-Re,Ee=A.offsetHeight/2,te=A.offsetTop+Ee,ge=se+ne+te,we=W-ge;if(ge<=Re){const Ae=V.length>0&&A===V[V.length-1].ref.current;a.style.bottom="0px";const _e=c.clientHeight-y.offsetTop-y.offsetHeight,de=Math.max(ke,Ee+(Ae?ce:0)+_e+pe),ve=ge+de;a.style.height=ve+"px"}else{const Ae=V.length>0&&A===V[0].ref.current;a.style.top="0px";const de=Math.max(Re,se+y.offsetTop+(Ae?ae:0)+Ee)+we;a.style.height=de+"px",y.scrollTop=ge-Re+y.offsetTop}a.style.margin=`${Rr}px 0`,a.style.minHeight=ie+"px",a.style.maxHeight=F+"px",r==null||r(),requestAnimationFrame(()=>v.current=!0)}},[h,i.trigger,i.valueNode,a,c,y,A,x,i.dir,r]);Qt(()=>_(),[_]);const[R,O]=g.useState();Qt(()=>{c&&O(window.getComputedStyle(c).zIndex)},[c]);const j=g.useCallback(I=>{I&&E.current===!0&&(_(),w==null||w(),E.current=!1)},[_,w]);return f.jsx(DW,{scope:n,contentWrapper:a,shouldExpandOnScrollRef:v,onScrollButtonChange:j,children:f.jsx("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:R},children:f.jsx(Oe.div,{...s,ref:p,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});r2.displayName=kW;var MW="SelectPopperPosition",h0=g.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:s=Rr,...i}=t,o=Ym(n);return f.jsx(FE,{...o,...i,ref:e,align:r,collisionPadding:s,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});h0.displayName=MW;var[DW,f1]=fc(ua,{}),f0="SelectViewport",s2=g.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...s}=t,i=Eo(f0,n),o=f1(f0,n),a=nt(e,i.onViewportChange),l=g.useRef(0);return f.jsxs(f.Fragment,{children:[f.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),f.jsx(zm.Slot,{scope:n,children:f.jsx(Oe.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:a,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:fe(s.onScroll,c=>{const d=c.currentTarget,{contentWrapper:p,shouldExpandOnScrollRef:h}=o;if(h!=null&&h.current&&p){const v=Math.abs(l.current-d.scrollTop);if(v>0){const E=window.innerHeight-Rr*2,y=parseFloat(p.style.minHeight),A=parseFloat(p.style.height),x=Math.max(y,A);if(x<E){const w=x+v,_=Math.min(E,w),R=w-_;p.style.height=_+"px",p.style.bottom==="0px"&&(d.scrollTop=R>0?R:0,p.style.justifyContent="flex-end")}}}l.current=d.scrollTop})})})]})});s2.displayName=f0;var i2="SelectGroup",[OW,LW]=fc(i2),VW=g.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=Ko();return f.jsx(OW,{scope:n,id:s,children:f.jsx(Oe.div,{role:"group","aria-labelledby":s,...r,ref:e})})});VW.displayName=i2;var o2="SelectLabel",a2=g.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=LW(o2,n);return f.jsx(Oe.div,{id:s.id,...r,ref:e})});a2.displayName=o2;var Dp="SelectItem",[FW,l2]=fc(Dp),c2=g.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:s=!1,textValue:i,...o}=t,a=wo(Dp,n),l=Eo(Dp,n),c=a.value===r,[d,p]=g.useState(i??""),[h,v]=g.useState(!1),E=nt(e,w=>{var _;return(_=l.itemRefCallback)==null?void 0:_.call(l,w,r,s)}),y=Ko(),A=g.useRef("touch"),x=()=>{s||(a.onValueChange(r),a.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return f.jsx(FW,{scope:n,value:r,disabled:s,textId:y,isSelected:c,onItemTextChange:g.useCallback(w=>{p(_=>_||((w==null?void 0:w.textContent)??"").trim())},[]),children:f.jsx(zm.ItemSlot,{scope:n,value:r,disabled:s,textValue:d,children:f.jsx(Oe.div,{role:"option","aria-labelledby":y,"data-highlighted":h?"":void 0,"aria-selected":c&&h,"data-state":c?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...o,ref:E,onFocus:fe(o.onFocus,()=>v(!0)),onBlur:fe(o.onBlur,()=>v(!1)),onClick:fe(o.onClick,()=>{A.current!=="mouse"&&x()}),onPointerUp:fe(o.onPointerUp,()=>{A.current==="mouse"&&x()}),onPointerDown:fe(o.onPointerDown,w=>{A.current=w.pointerType}),onPointerMove:fe(o.onPointerMove,w=>{var _;A.current=w.pointerType,s?(_=l.onItemLeave)==null||_.call(l):A.current==="mouse"&&w.currentTarget.focus({preventScroll:!0})}),onPointerLeave:fe(o.onPointerLeave,w=>{var _;w.currentTarget===document.activeElement&&((_=l.onItemLeave)==null||_.call(l))}),onKeyDown:fe(o.onKeyDown,w=>{var R;((R=l.searchRef)==null?void 0:R.current)!==""&&w.key===" "||(TW.includes(w.key)&&x(),w.key===" "&&w.preventDefault())})})})})});c2.displayName=Dp;var Qc="SelectItemText",u2=g.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,...i}=t,o=wo(Qc,n),a=Eo(Qc,n),l=l2(Qc,n),c=IW(Qc,n),[d,p]=g.useState(null),h=nt(e,x=>p(x),l.onItemTextChange,x=>{var w;return(w=a.itemTextRefCallback)==null?void 0:w.call(a,x,l.value,l.disabled)}),v=d==null?void 0:d.textContent,E=g.useMemo(()=>f.jsx("option",{value:l.value,disabled:l.disabled,children:v},l.value),[l.disabled,l.value,v]),{onNativeOptionAdd:y,onNativeOptionRemove:A}=c;return Qt(()=>(y(E),()=>A(E)),[y,A,E]),f.jsxs(f.Fragment,{children:[f.jsx(Oe.span,{id:l.textId,...i,ref:h}),l.isSelected&&o.valueNode&&!o.valueNodeHasChildren?fa.createPortal(i.children,o.valueNode):null]})});u2.displayName=Qc;var d2="SelectItemIndicator",h2=g.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return l2(d2,n).isSelected?f.jsx(Oe.span,{"aria-hidden":!0,...r,ref:e}):null});h2.displayName=d2;var p0="SelectScrollUpButton",f2=g.forwardRef((t,e)=>{const n=Eo(p0,t.__scopeSelect),r=f1(p0,t.__scopeSelect),[s,i]=g.useState(!1),o=nt(e,r.onScrollButtonChange);return Qt(()=>{if(n.viewport&&n.isPositioned){let a=function(){const c=l.scrollTop>0;i(c)};const l=n.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),s?f.jsx(m2,{...t,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop-l.offsetHeight)}}):null});f2.displayName=p0;var m0="SelectScrollDownButton",p2=g.forwardRef((t,e)=>{const n=Eo(m0,t.__scopeSelect),r=f1(m0,t.__scopeSelect),[s,i]=g.useState(!1),o=nt(e,r.onScrollButtonChange);return Qt(()=>{if(n.viewport&&n.isPositioned){let a=function(){const c=l.scrollHeight-l.clientHeight,d=Math.ceil(l.scrollTop)<c;i(d)};const l=n.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),s?f.jsx(m2,{...t,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop+l.offsetHeight)}}):null});p2.displayName=m0;var m2=g.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...s}=t,i=Eo("SelectScrollButton",n),o=g.useRef(null),a=Wm(n),l=g.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return g.useEffect(()=>()=>l(),[l]),Qt(()=>{var d;const c=a().find(p=>p.ref.current===document.activeElement);(d=c==null?void 0:c.ref.current)==null||d.scrollIntoView({block:"nearest"})},[a]),f.jsx(Oe.div,{"aria-hidden":!0,...s,ref:e,style:{flexShrink:0,...s.style},onPointerDown:fe(s.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(r,50))}),onPointerMove:fe(s.onPointerMove,()=>{var c;(c=i.onItemLeave)==null||c.call(i),o.current===null&&(o.current=window.setInterval(r,50))}),onPointerLeave:fe(s.onPointerLeave,()=>{l()})})}),jW="SelectSeparator",g2=g.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return f.jsx(Oe.div,{"aria-hidden":!0,...r,ref:e})});g2.displayName=jW;var g0="SelectArrow",BW=g.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=Ym(n),i=wo(g0,n),o=Eo(g0,n);return i.open&&o.position==="popper"?f.jsx(jE,{...s,...r,ref:e}):null});BW.displayName=g0;function y2(t){return t===""||t===void 0}var v2=g.forwardRef((t,e)=>{const{value:n,...r}=t,s=g.useRef(null),i=nt(e,s),o=CW(n);return g.useEffect(()=>{const a=s.current,l=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(l,"value").set;if(o!==n&&d){const p=new Event("change",{bubbles:!0});d.call(a,n),a.dispatchEvent(p)}},[o,n]),f.jsx(ud,{asChild:!0,children:f.jsx("select",{...r,ref:i,defaultValue:n})})});v2.displayName="BubbleSelect";function w2(t){const e=rn(t),n=g.useRef(""),r=g.useRef(0),s=g.useCallback(o=>{const a=n.current+o;e(a),function l(c){n.current=c,window.clearTimeout(r.current),c!==""&&(r.current=window.setTimeout(()=>l(""),1e3))}(a)},[e]),i=g.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return g.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,s,i]}function E2(t,e,n){const s=e.length>1&&Array.from(e).every(c=>c===e[0])?e[0]:e,i=n?t.indexOf(n):-1;let o=UW(t,Math.max(i,0));s.length===1&&(o=o.filter(c=>c!==n));const l=o.find(c=>c.textValue.toLowerCase().startsWith(s.toLowerCase()));return l!==n?l:void 0}function UW(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var qW=Yk,x2=Qk,GW=Jk,$W=Xk,zW=Zk,C2=e2,WW=s2,_2=a2,T2=c2,YW=u2,KW=h2,A2=f2,b2=p2,S2=g2;const QW=qW,HW=GW,I2=g.forwardRef(({className:t,children:e,...n},r)=>f.jsxs(x2,{ref:r,className:Ve("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[e,f.jsx($W,{asChild:!0,children:f.jsx(pS,{className:"h-4 w-4 opacity-50"})})]}));I2.displayName=x2.displayName;const R2=g.forwardRef(({className:t,...e},n)=>f.jsx(A2,{ref:n,className:Ve("flex cursor-default items-center justify-center py-1",t),...e,children:f.jsx(NL,{className:"h-4 w-4"})}));R2.displayName=A2.displayName;const P2=g.forwardRef(({className:t,...e},n)=>f.jsx(b2,{ref:n,className:Ve("flex cursor-default items-center justify-center py-1",t),...e,children:f.jsx(pS,{className:"h-4 w-4"})}));P2.displayName=b2.displayName;const N2=g.forwardRef(({className:t,children:e,position:n="popper",...r},s)=>f.jsx(zW,{children:f.jsxs(C2,{ref:s,className:Ve("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[f.jsx(R2,{}),f.jsx(WW,{className:Ve("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),f.jsx(P2,{})]})}));N2.displayName=C2.displayName;const JW=g.forwardRef(({className:t,...e},n)=>f.jsx(_2,{ref:n,className:Ve("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));JW.displayName=_2.displayName;const bf=g.forwardRef(({className:t,children:e,...n},r)=>f.jsxs(T2,{ref:r,className:Ve("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[f.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:f.jsx(KW,{children:f.jsx(fS,{className:"h-4 w-4"})})}),f.jsx(YW,{children:e})]}));bf.displayName=T2.displayName;const XW=g.forwardRef(({className:t,...e},n)=>f.jsx(S2,{ref:n,className:Ve("-mx-1 my-1 h-px bg-muted",t),...e}));XW.displayName=S2.displayName;const ZW=()=>{const{user:t,loading:e,updateUserRole:n}=ds(),r=Hs(),[s,i]=g.useState([]),[o,a]=g.useState(!0),[l,c]=g.useState(null),[d,p]=g.useState(null),[h,v]=g.useState(null);if(g.useEffect(()=>{!e&&(!t||t.role!=="super_admin")&&r("/dashboard")},[t,e,r]),g.useEffect(()=>{const w=async()=>{if(!(!t||t.role!=="super_admin"))try{const _=lE(on,"users"),R=mE(_,hR("createdAt","desc")),O=await pR(R),j=[];O.forEach(I=>{const S=I.data();j.push({id:I.id,name:S.name,email:S.email,role:S.role||"customer",purchases:S.purchases||0,createdAt:S.createdAt})}),i(j)}catch(_){console.error("Error loading users:",_),it({title:"Error",description:"Failed to load users",variant:"destructive"})}finally{a(!1)}};(t==null?void 0:t.role)==="super_admin"&&w()},[t]),e)return f.jsx("div",{className:"min-h-screen bg-gradient-to-br from-black via-gray-900 to-red-950 flex items-center justify-center",children:f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-red-500 mx-auto mb-4"}),f.jsx("p",{className:"text-white text-lg",children:"Loading..."})]})});if(!t||t.role!=="super_admin")return null;const E=async(w,_)=>{if(w===t.id){it({title:"Cannot Update Own Role",description:"You cannot change your own role",variant:"destructive"});return}c(w);try{await n(w,_),it({title:"Role Updated",description:"User role has been updated successfully!"}),i(R=>R.map(O=>O.id===w?{...O,role:_}:O))}catch(R){console.error("Error updating role:",R),it({title:"Update Failed",description:"Failed to update user role. Please try again.",variant:"destructive"})}finally{c(null)}},y=async w=>{p(w);try{await c3(Un(on,"users",w)),i(_=>_.filter(R=>R.id!==w)),it({title:"User Deleted",description:"The user has been deleted successfully."})}catch(_){console.error("Error deleting user:",_),it({title:"Delete Failed",description:"Failed to delete user. Please try again.",variant:"destructive"})}finally{p(null),v(null)}},A=w=>{switch(w){case"super_admin":return f.jsx(mv,{className:"w-4 h-4 text-yellow-500"});case"admin":return f.jsx(gS,{className:"w-4 h-4 text-blue-500"});case"customer":return f.jsx(gv,{className:"w-4 h-4 text-gray-500"});default:return f.jsx(gv,{className:"w-4 h-4 text-gray-500"})}},x=w=>{switch(w){case"super_admin":return"text-yellow-500 bg-yellow-500/10 border-yellow-500/20";case"admin":return"text-blue-500 bg-blue-500/10 border-blue-500/20";case"customer":return"text-gray-500 bg-gray-500/10 border-gray-500/20";default:return"text-gray-500 bg-gray-500/10 border-gray-500/20"}};return f.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-black via-gray-900 to-red-950 relative overflow-hidden",children:[f.jsxs("div",{className:"absolute inset-0 opacity-10",children:[f.jsx("div",{className:"absolute top-20 right-10 w-40 h-40 bg-red-500 rounded-full blur-3xl animate-pulse"}),f.jsx("div",{className:"absolute bottom-32 left-10 w-32 h-32 bg-red-600 rounded-full blur-3xl animate-pulse delay-1000"})]}),f.jsxs("div",{className:"relative z-10 min-h-screen flex flex-col",children:[f.jsx("div",{className:"bg-gray-900/80 backdrop-blur-sm border-b border-red-900/30 sticky top-0 z-10",children:f.jsxs("div",{className:"p-6 flex items-center justify-between",children:[f.jsxs("div",{className:"flex items-center",children:[f.jsx(Ys,{to:"/dashboard",className:"text-red-400 hover:text-red-300 transition-colors",children:f.jsx(dd,{className:"w-6 h-6"})}),f.jsx("h1",{className:"ml-4 text-2xl font-bold text-white",children:"User Management"})]}),f.jsxs("div",{className:"flex items-center text-gray-400",children:[f.jsx(mv,{className:"w-6 h-6 mr-2 text-yellow-500"}),f.jsx("span",{className:"text-sm",children:"Super Admin Panel"})]})]})}),f.jsx("div",{className:"flex-1 px-6 py-8",children:f.jsx("div",{className:"max-w-4xl mx-auto",children:f.jsxs("div",{className:"bg-gray-900/80 backdrop-blur-sm border border-red-900/30 rounded-2xl p-8 shadow-2xl",children:[f.jsxs("div",{className:"text-center mb-8",children:[f.jsx("h2",{className:"text-3xl font-bold text-white mb-2",children:"Manage Users"}),f.jsx("p",{className:"text-gray-400",children:"Update user roles and permissions"})]}),o?f.jsxs("div",{className:"text-center py-8",children:[f.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-red-500 mx-auto mb-4"}),f.jsx("p",{className:"text-white",children:"Loading users..."})]}):f.jsx("div",{className:"space-y-4",children:s.map(w=>f.jsxs("div",{className:"bg-gray-800/50 border border-gray-700 rounded-lg p-4 flex items-center justify-between",children:[f.jsx("div",{className:"flex items-center space-x-4",children:f.jsxs("div",{className:"flex items-center space-x-3",children:[A(w.role),f.jsxs("div",{children:[f.jsx("h3",{className:"text-white font-semibold",children:w.name}),f.jsx("p",{className:"text-gray-400 text-sm",children:w.email}),f.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[f.jsx("span",{className:`text-xs px-2 py-1 rounded-full border ${x(w.role)}`,children:w.role.replace("_"," ").toUpperCase()}),f.jsxs("span",{className:"text-gray-500 text-xs",children:[w.purchases," purchases"]})]})]})]})}),f.jsxs("div",{className:"flex items-center space-x-3",children:[w.id!==t.id&&f.jsx(f.Fragment,{children:f.jsxs(QW,{value:w.role,onValueChange:_=>E(w.id,_),disabled:l===w.id,children:[f.jsx(I2,{className:"w-32 bg-gray-700 border-gray-600 text-white",children:f.jsx(HW,{})}),f.jsxs(N2,{className:"bg-gray-800 border-gray-700",children:[f.jsx(bf,{value:"customer",children:"Customer"}),f.jsx(bf,{value:"admin",children:"Admin"}),f.jsx(bf,{value:"super_admin",children:"Super Admin"})]})]})}),w.id===t.id&&f.jsx("span",{className:"text-gray-500 text-sm",children:"Current User"})]})]},w.id))}),s.length===0&&!o&&f.jsxs("div",{className:"text-center py-8",children:[f.jsx(rp,{className:"w-12 h-12 text-gray-500 mx-auto mb-4"}),f.jsx("p",{className:"text-gray-400",children:"No users found"})]})]})})})]}),h&&f.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60",children:f.jsxs("div",{className:"bg-gray-900 rounded-lg p-8 border border-red-700 shadow-xl w-full max-w-sm",children:[f.jsx("h2",{className:"text-lg font-bold text-white mb-4",children:"Confirm Delete"}),f.jsxs("p",{className:"text-gray-300 mb-6",children:["Are you sure you want to delete"," ",f.jsx("span",{className:"font-semibold text-red-400",children:h.name}),"? This action cannot be undone."]}),f.jsxs("div",{className:"flex justify-end space-x-3",children:[f.jsx(qn,{variant:"ghost",onClick:()=>v(null),className:"text-gray-300 hover:text-white",children:"Cancel"}),f.jsx(qn,{variant:"destructive",onClick:()=>y(h.id),disabled:d===h.id,children:d===h.id?"Deleting...":"Delete"})]})]})})]})},eY=()=>{const t=yo();return g.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",t.pathname)},[t.pathname]),f.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:f.jsxs("div",{className:"text-center",children:[f.jsx("h1",{className:"text-4xl font-bold mb-4",children:"404"}),f.jsx("p",{className:"text-xl text-gray-600 mb-4",children:"Oops! Page not found"}),f.jsx("a",{href:"/",className:"text-blue-500 hover:text-blue-700 underline",children:"Return to Home"})]})})};let k2=!0,M2=!0;function Hc(t,e,n){const r=t.match(e);return r&&r.length>=n&&parseFloat(r[n],10)}function xa(t,e,n){if(!t.RTCPeerConnection)return;const r=t.RTCPeerConnection.prototype,s=r.addEventListener;r.addEventListener=function(o,a){if(o!==e)return s.apply(this,arguments);const l=c=>{const d=n(c);d&&(a.handleEvent?a.handleEvent(d):a(d))};return this._eventMap=this._eventMap||{},this._eventMap[e]||(this._eventMap[e]=new Map),this._eventMap[e].set(a,l),s.apply(this,[o,l])};const i=r.removeEventListener;r.removeEventListener=function(o,a){if(o!==e||!this._eventMap||!this._eventMap[e])return i.apply(this,arguments);if(!this._eventMap[e].has(a))return i.apply(this,arguments);const l=this._eventMap[e].get(a);return this._eventMap[e].delete(a),this._eventMap[e].size===0&&delete this._eventMap[e],Object.keys(this._eventMap).length===0&&delete this._eventMap,i.apply(this,[o,l])},Object.defineProperty(r,"on"+e,{get(){return this["_on"+e]},set(o){this["_on"+e]&&(this.removeEventListener(e,this["_on"+e]),delete this["_on"+e]),o&&this.addEventListener(e,this["_on"+e]=o)},enumerable:!0,configurable:!0})}function tY(t){return typeof t!="boolean"?new Error("Argument type: "+typeof t+". Please use a boolean."):(k2=t,t?"adapter.js logging disabled":"adapter.js logging enabled")}function nY(t){return typeof t!="boolean"?new Error("Argument type: "+typeof t+". Please use a boolean."):(M2=!t,"adapter.js deprecation warnings "+(t?"disabled":"enabled"))}function D2(){if(typeof window=="object"){if(k2)return;typeof console<"u"&&typeof console.log=="function"&&console.log.apply(console,arguments)}}function p1(t,e){M2&&console.warn(t+" is deprecated, please use "+e+" instead.")}function rY(t){const e={browser:null,version:null};if(typeof t>"u"||!t.navigator||!t.navigator.userAgent)return e.browser="Not a browser.",e;const{navigator:n}=t;if(n.userAgentData&&n.userAgentData.brands){const r=n.userAgentData.brands.find(s=>s.brand==="Chromium");if(r)return{browser:"chrome",version:parseInt(r.version,10)}}if(n.mozGetUserMedia)e.browser="firefox",e.version=parseInt(Hc(n.userAgent,/Firefox\/(\d+)\./,1));else if(n.webkitGetUserMedia||t.isSecureContext===!1&&t.webkitRTCPeerConnection)e.browser="chrome",e.version=parseInt(Hc(n.userAgent,/Chrom(e|ium)\/(\d+)\./,2));else if(t.RTCPeerConnection&&n.userAgent.match(/AppleWebKit\/(\d+)\./))e.browser="safari",e.version=parseInt(Hc(n.userAgent,/AppleWebKit\/(\d+)\./,1)),e.supportsUnifiedPlan=t.RTCRtpTransceiver&&"currentDirection"in t.RTCRtpTransceiver.prototype,e._safariVersion=Hc(n.userAgent,/Version\/(\d+(\.?\d+))/,1);else return e.browser="Not a supported browser.",e;return e}function oT(t){return Object.prototype.toString.call(t)==="[object Object]"}function O2(t){return oT(t)?Object.keys(t).reduce(function(e,n){const r=oT(t[n]),s=r?O2(t[n]):t[n],i=r&&!Object.keys(s).length;return s===void 0||i?e:Object.assign(e,{[n]:s})},{}):t}function y0(t,e,n){!e||n.has(e.id)||(n.set(e.id,e),Object.keys(e).forEach(r=>{r.endsWith("Id")?y0(t,t.get(e[r]),n):r.endsWith("Ids")&&e[r].forEach(s=>{y0(t,t.get(s),n)})}))}function aT(t,e,n){const r=n?"outbound-rtp":"inbound-rtp",s=new Map;if(e===null)return s;const i=[];return t.forEach(o=>{o.type==="track"&&o.trackIdentifier===e.id&&i.push(o)}),i.forEach(o=>{t.forEach(a=>{a.type===r&&a.trackId===o.id&&y0(t,a,s)})}),s}const lT=D2;function L2(t,e){const n=t&&t.navigator;if(!n.mediaDevices)return;const r=function(a){if(typeof a!="object"||a.mandatory||a.optional)return a;const l={};return Object.keys(a).forEach(c=>{if(c==="require"||c==="advanced"||c==="mediaSource")return;const d=typeof a[c]=="object"?a[c]:{ideal:a[c]};d.exact!==void 0&&typeof d.exact=="number"&&(d.min=d.max=d.exact);const p=function(h,v){return h?h+v.charAt(0).toUpperCase()+v.slice(1):v==="deviceId"?"sourceId":v};if(d.ideal!==void 0){l.optional=l.optional||[];let h={};typeof d.ideal=="number"?(h[p("min",c)]=d.ideal,l.optional.push(h),h={},h[p("max",c)]=d.ideal,l.optional.push(h)):(h[p("",c)]=d.ideal,l.optional.push(h))}d.exact!==void 0&&typeof d.exact!="number"?(l.mandatory=l.mandatory||{},l.mandatory[p("",c)]=d.exact):["min","max"].forEach(h=>{d[h]!==void 0&&(l.mandatory=l.mandatory||{},l.mandatory[p(h,c)]=d[h])})}),a.advanced&&(l.optional=(l.optional||[]).concat(a.advanced)),l},s=function(a,l){if(e.version>=61)return l(a);if(a=JSON.parse(JSON.stringify(a)),a&&typeof a.audio=="object"){const c=function(d,p,h){p in d&&!(h in d)&&(d[h]=d[p],delete d[p])};a=JSON.parse(JSON.stringify(a)),c(a.audio,"autoGainControl","googAutoGainControl"),c(a.audio,"noiseSuppression","googNoiseSuppression"),a.audio=r(a.audio)}if(a&&typeof a.video=="object"){let c=a.video.facingMode;c=c&&(typeof c=="object"?c:{ideal:c});const d=e.version<66;if(c&&(c.exact==="user"||c.exact==="environment"||c.ideal==="user"||c.ideal==="environment")&&!(n.mediaDevices.getSupportedConstraints&&n.mediaDevices.getSupportedConstraints().facingMode&&!d)){delete a.video.facingMode;let p;if(c.exact==="environment"||c.ideal==="environment"?p=["back","rear"]:(c.exact==="user"||c.ideal==="user")&&(p=["front"]),p)return n.mediaDevices.enumerateDevices().then(h=>{h=h.filter(E=>E.kind==="videoinput");let v=h.find(E=>p.some(y=>E.label.toLowerCase().includes(y)));return!v&&h.length&&p.includes("back")&&(v=h[h.length-1]),v&&(a.video.deviceId=c.exact?{exact:v.deviceId}:{ideal:v.deviceId}),a.video=r(a.video),lT("chrome: "+JSON.stringify(a)),l(a)})}a.video=r(a.video)}return lT("chrome: "+JSON.stringify(a)),l(a)},i=function(a){return e.version>=64?a:{name:{PermissionDeniedError:"NotAllowedError",PermissionDismissedError:"NotAllowedError",InvalidStateError:"NotAllowedError",DevicesNotFoundError:"NotFoundError",ConstraintNotSatisfiedError:"OverconstrainedError",TrackStartError:"NotReadableError",MediaDeviceFailedDueToShutdown:"NotAllowedError",MediaDeviceKillSwitchOn:"NotAllowedError",TabCaptureError:"AbortError",ScreenCaptureError:"AbortError",DeviceCaptureError:"AbortError"}[a.name]||a.name,message:a.message,constraint:a.constraint||a.constraintName,toString(){return this.name+(this.message&&": ")+this.message}}},o=function(a,l,c){s(a,d=>{n.webkitGetUserMedia(d,l,p=>{c&&c(i(p))})})};if(n.getUserMedia=o.bind(n),n.mediaDevices.getUserMedia){const a=n.mediaDevices.getUserMedia.bind(n.mediaDevices);n.mediaDevices.getUserMedia=function(l){return s(l,c=>a(c).then(d=>{if(c.audio&&!d.getAudioTracks().length||c.video&&!d.getVideoTracks().length)throw d.getTracks().forEach(p=>{p.stop()}),new DOMException("","NotFoundError");return d},d=>Promise.reject(i(d))))}}}function V2(t){t.MediaStream=t.MediaStream||t.webkitMediaStream}function F2(t){if(typeof t=="object"&&t.RTCPeerConnection&&!("ontrack"in t.RTCPeerConnection.prototype)){Object.defineProperty(t.RTCPeerConnection.prototype,"ontrack",{get(){return this._ontrack},set(n){this._ontrack&&this.removeEventListener("track",this._ontrack),this.addEventListener("track",this._ontrack=n)},enumerable:!0,configurable:!0});const e=t.RTCPeerConnection.prototype.setRemoteDescription;t.RTCPeerConnection.prototype.setRemoteDescription=function(){return this._ontrackpoly||(this._ontrackpoly=r=>{r.stream.addEventListener("addtrack",s=>{let i;t.RTCPeerConnection.prototype.getReceivers?i=this.getReceivers().find(a=>a.track&&a.track.id===s.track.id):i={track:s.track};const o=new Event("track");o.track=s.track,o.receiver=i,o.transceiver={receiver:i},o.streams=[r.stream],this.dispatchEvent(o)}),r.stream.getTracks().forEach(s=>{let i;t.RTCPeerConnection.prototype.getReceivers?i=this.getReceivers().find(a=>a.track&&a.track.id===s.id):i={track:s};const o=new Event("track");o.track=s,o.receiver=i,o.transceiver={receiver:i},o.streams=[r.stream],this.dispatchEvent(o)})},this.addEventListener("addstream",this._ontrackpoly)),e.apply(this,arguments)}}else xa(t,"track",e=>(e.transceiver||Object.defineProperty(e,"transceiver",{value:{receiver:e.receiver}}),e))}function j2(t){if(typeof t=="object"&&t.RTCPeerConnection&&!("getSenders"in t.RTCPeerConnection.prototype)&&"createDTMFSender"in t.RTCPeerConnection.prototype){const e=function(s,i){return{track:i,get dtmf(){return this._dtmf===void 0&&(i.kind==="audio"?this._dtmf=s.createDTMFSender(i):this._dtmf=null),this._dtmf},_pc:s}};if(!t.RTCPeerConnection.prototype.getSenders){t.RTCPeerConnection.prototype.getSenders=function(){return this._senders=this._senders||[],this._senders.slice()};const s=t.RTCPeerConnection.prototype.addTrack;t.RTCPeerConnection.prototype.addTrack=function(a,l){let c=s.apply(this,arguments);return c||(c=e(this,a),this._senders.push(c)),c};const i=t.RTCPeerConnection.prototype.removeTrack;t.RTCPeerConnection.prototype.removeTrack=function(a){i.apply(this,arguments);const l=this._senders.indexOf(a);l!==-1&&this._senders.splice(l,1)}}const n=t.RTCPeerConnection.prototype.addStream;t.RTCPeerConnection.prototype.addStream=function(i){this._senders=this._senders||[],n.apply(this,[i]),i.getTracks().forEach(o=>{this._senders.push(e(this,o))})};const r=t.RTCPeerConnection.prototype.removeStream;t.RTCPeerConnection.prototype.removeStream=function(i){this._senders=this._senders||[],r.apply(this,[i]),i.getTracks().forEach(o=>{const a=this._senders.find(l=>l.track===o);a&&this._senders.splice(this._senders.indexOf(a),1)})}}else if(typeof t=="object"&&t.RTCPeerConnection&&"getSenders"in t.RTCPeerConnection.prototype&&"createDTMFSender"in t.RTCPeerConnection.prototype&&t.RTCRtpSender&&!("dtmf"in t.RTCRtpSender.prototype)){const e=t.RTCPeerConnection.prototype.getSenders;t.RTCPeerConnection.prototype.getSenders=function(){const r=e.apply(this,[]);return r.forEach(s=>s._pc=this),r},Object.defineProperty(t.RTCRtpSender.prototype,"dtmf",{get(){return this._dtmf===void 0&&(this.track.kind==="audio"?this._dtmf=this._pc.createDTMFSender(this.track):this._dtmf=null),this._dtmf}})}}function B2(t){if(!(typeof t=="object"&&t.RTCPeerConnection&&t.RTCRtpSender&&t.RTCRtpReceiver))return;if(!("getStats"in t.RTCRtpSender.prototype)){const n=t.RTCPeerConnection.prototype.getSenders;n&&(t.RTCPeerConnection.prototype.getSenders=function(){const i=n.apply(this,[]);return i.forEach(o=>o._pc=this),i});const r=t.RTCPeerConnection.prototype.addTrack;r&&(t.RTCPeerConnection.prototype.addTrack=function(){const i=r.apply(this,arguments);return i._pc=this,i}),t.RTCRtpSender.prototype.getStats=function(){const i=this;return this._pc.getStats().then(o=>aT(o,i.track,!0))}}if(!("getStats"in t.RTCRtpReceiver.prototype)){const n=t.RTCPeerConnection.prototype.getReceivers;n&&(t.RTCPeerConnection.prototype.getReceivers=function(){const s=n.apply(this,[]);return s.forEach(i=>i._pc=this),s}),xa(t,"track",r=>(r.receiver._pc=r.srcElement,r)),t.RTCRtpReceiver.prototype.getStats=function(){const s=this;return this._pc.getStats().then(i=>aT(i,s.track,!1))}}if(!("getStats"in t.RTCRtpSender.prototype&&"getStats"in t.RTCRtpReceiver.prototype))return;const e=t.RTCPeerConnection.prototype.getStats;t.RTCPeerConnection.prototype.getStats=function(){if(arguments.length>0&&arguments[0]instanceof t.MediaStreamTrack){const r=arguments[0];let s,i,o;return this.getSenders().forEach(a=>{a.track===r&&(s?o=!0:s=a)}),this.getReceivers().forEach(a=>(a.track===r&&(i?o=!0:i=a),a.track===r)),o||s&&i?Promise.reject(new DOMException("There are more than one sender or receiver for the track.","InvalidAccessError")):s?s.getStats():i?i.getStats():Promise.reject(new DOMException("There is no sender or receiver for the track.","InvalidAccessError"))}return e.apply(this,arguments)}}function U2(t){t.RTCPeerConnection.prototype.getLocalStreams=function(){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},Object.keys(this._shimmedLocalStreams).map(o=>this._shimmedLocalStreams[o][0])};const e=t.RTCPeerConnection.prototype.addTrack;t.RTCPeerConnection.prototype.addTrack=function(o,a){if(!a)return e.apply(this,arguments);this._shimmedLocalStreams=this._shimmedLocalStreams||{};const l=e.apply(this,arguments);return this._shimmedLocalStreams[a.id]?this._shimmedLocalStreams[a.id].indexOf(l)===-1&&this._shimmedLocalStreams[a.id].push(l):this._shimmedLocalStreams[a.id]=[a,l],l};const n=t.RTCPeerConnection.prototype.addStream;t.RTCPeerConnection.prototype.addStream=function(o){this._shimmedLocalStreams=this._shimmedLocalStreams||{},o.getTracks().forEach(c=>{if(this.getSenders().find(p=>p.track===c))throw new DOMException("Track already exists.","InvalidAccessError")});const a=this.getSenders();n.apply(this,arguments);const l=this.getSenders().filter(c=>a.indexOf(c)===-1);this._shimmedLocalStreams[o.id]=[o].concat(l)};const r=t.RTCPeerConnection.prototype.removeStream;t.RTCPeerConnection.prototype.removeStream=function(o){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},delete this._shimmedLocalStreams[o.id],r.apply(this,arguments)};const s=t.RTCPeerConnection.prototype.removeTrack;t.RTCPeerConnection.prototype.removeTrack=function(o){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},o&&Object.keys(this._shimmedLocalStreams).forEach(a=>{const l=this._shimmedLocalStreams[a].indexOf(o);l!==-1&&this._shimmedLocalStreams[a].splice(l,1),this._shimmedLocalStreams[a].length===1&&delete this._shimmedLocalStreams[a]}),s.apply(this,arguments)}}function q2(t,e){if(!t.RTCPeerConnection)return;if(t.RTCPeerConnection.prototype.addTrack&&e.version>=65)return U2(t);const n=t.RTCPeerConnection.prototype.getLocalStreams;t.RTCPeerConnection.prototype.getLocalStreams=function(){const d=n.apply(this);return this._reverseStreams=this._reverseStreams||{},d.map(p=>this._reverseStreams[p.id])};const r=t.RTCPeerConnection.prototype.addStream;t.RTCPeerConnection.prototype.addStream=function(d){if(this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},d.getTracks().forEach(p=>{if(this.getSenders().find(v=>v.track===p))throw new DOMException("Track already exists.","InvalidAccessError")}),!this._reverseStreams[d.id]){const p=new t.MediaStream(d.getTracks());this._streams[d.id]=p,this._reverseStreams[p.id]=d,d=p}r.apply(this,[d])};const s=t.RTCPeerConnection.prototype.removeStream;t.RTCPeerConnection.prototype.removeStream=function(d){this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},s.apply(this,[this._streams[d.id]||d]),delete this._reverseStreams[this._streams[d.id]?this._streams[d.id].id:d.id],delete this._streams[d.id]},t.RTCPeerConnection.prototype.addTrack=function(d,p){if(this.signalingState==="closed")throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");const h=[].slice.call(arguments,1);if(h.length!==1||!h[0].getTracks().find(y=>y===d))throw new DOMException("The adapter.js addTrack polyfill only supports a single  stream which is associated with the specified track.","NotSupportedError");if(this.getSenders().find(y=>y.track===d))throw new DOMException("Track already exists.","InvalidAccessError");this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{};const E=this._streams[p.id];if(E)E.addTrack(d),Promise.resolve().then(()=>{this.dispatchEvent(new Event("negotiationneeded"))});else{const y=new t.MediaStream([d]);this._streams[p.id]=y,this._reverseStreams[y.id]=p,this.addStream(y)}return this.getSenders().find(y=>y.track===d)};function i(c,d){let p=d.sdp;return Object.keys(c._reverseStreams||[]).forEach(h=>{const v=c._reverseStreams[h],E=c._streams[v.id];p=p.replace(new RegExp(E.id,"g"),v.id)}),new RTCSessionDescription({type:d.type,sdp:p})}function o(c,d){let p=d.sdp;return Object.keys(c._reverseStreams||[]).forEach(h=>{const v=c._reverseStreams[h],E=c._streams[v.id];p=p.replace(new RegExp(v.id,"g"),E.id)}),new RTCSessionDescription({type:d.type,sdp:p})}["createOffer","createAnswer"].forEach(function(c){const d=t.RTCPeerConnection.prototype[c],p={[c](){const h=arguments;return arguments.length&&typeof arguments[0]=="function"?d.apply(this,[E=>{const y=i(this,E);h[0].apply(null,[y])},E=>{h[1]&&h[1].apply(null,E)},arguments[2]]):d.apply(this,arguments).then(E=>i(this,E))}};t.RTCPeerConnection.prototype[c]=p[c]});const a=t.RTCPeerConnection.prototype.setLocalDescription;t.RTCPeerConnection.prototype.setLocalDescription=function(){return!arguments.length||!arguments[0].type?a.apply(this,arguments):(arguments[0]=o(this,arguments[0]),a.apply(this,arguments))};const l=Object.getOwnPropertyDescriptor(t.RTCPeerConnection.prototype,"localDescription");Object.defineProperty(t.RTCPeerConnection.prototype,"localDescription",{get(){const c=l.get.apply(this);return c.type===""?c:i(this,c)}}),t.RTCPeerConnection.prototype.removeTrack=function(d){if(this.signalingState==="closed")throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");if(!d._pc)throw new DOMException("Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.","TypeError");if(!(d._pc===this))throw new DOMException("Sender was not created by this connection.","InvalidAccessError");this._streams=this._streams||{};let h;Object.keys(this._streams).forEach(v=>{this._streams[v].getTracks().find(y=>d.track===y)&&(h=this._streams[v])}),h&&(h.getTracks().length===1?this.removeStream(this._reverseStreams[h.id]):h.removeTrack(d.track),this.dispatchEvent(new Event("negotiationneeded")))}}function v0(t,e){!t.RTCPeerConnection&&t.webkitRTCPeerConnection&&(t.RTCPeerConnection=t.webkitRTCPeerConnection),t.RTCPeerConnection&&e.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(n){const r=t.RTCPeerConnection.prototype[n],s={[n](){return arguments[0]=new(n==="addIceCandidate"?t.RTCIceCandidate:t.RTCSessionDescription)(arguments[0]),r.apply(this,arguments)}};t.RTCPeerConnection.prototype[n]=s[n]})}function G2(t,e){xa(t,"negotiationneeded",n=>{const r=n.target;if(!((e.version<72||r.getConfiguration&&r.getConfiguration().sdpSemantics==="plan-b")&&r.signalingState!=="stable"))return n})}const cT=Object.freeze(Object.defineProperty({__proto__:null,fixNegotiationNeeded:G2,shimAddTrackRemoveTrack:q2,shimAddTrackRemoveTrackWithNative:U2,shimGetSendersWithDtmf:j2,shimGetUserMedia:L2,shimMediaStream:V2,shimOnTrack:F2,shimPeerConnection:v0,shimSenderReceiverGetStats:B2},Symbol.toStringTag,{value:"Module"}));function $2(t,e){const n=t&&t.navigator,r=t&&t.MediaStreamTrack;if(n.getUserMedia=function(s,i,o){p1("navigator.getUserMedia","navigator.mediaDevices.getUserMedia"),n.mediaDevices.getUserMedia(s).then(i,o)},!(e.version>55&&"autoGainControl"in n.mediaDevices.getSupportedConstraints())){const s=function(o,a,l){a in o&&!(l in o)&&(o[l]=o[a],delete o[a])},i=n.mediaDevices.getUserMedia.bind(n.mediaDevices);if(n.mediaDevices.getUserMedia=function(o){return typeof o=="object"&&typeof o.audio=="object"&&(o=JSON.parse(JSON.stringify(o)),s(o.audio,"autoGainControl","mozAutoGainControl"),s(o.audio,"noiseSuppression","mozNoiseSuppression")),i(o)},r&&r.prototype.getSettings){const o=r.prototype.getSettings;r.prototype.getSettings=function(){const a=o.apply(this,arguments);return s(a,"mozAutoGainControl","autoGainControl"),s(a,"mozNoiseSuppression","noiseSuppression"),a}}if(r&&r.prototype.applyConstraints){const o=r.prototype.applyConstraints;r.prototype.applyConstraints=function(a){return this.kind==="audio"&&typeof a=="object"&&(a=JSON.parse(JSON.stringify(a)),s(a,"autoGainControl","mozAutoGainControl"),s(a,"noiseSuppression","mozNoiseSuppression")),o.apply(this,[a])}}}}function sY(t,e){t.navigator.mediaDevices&&"getDisplayMedia"in t.navigator.mediaDevices||t.navigator.mediaDevices&&(t.navigator.mediaDevices.getDisplayMedia=function(r){if(!(r&&r.video)){const s=new DOMException("getDisplayMedia without video constraints is undefined");return s.name="NotFoundError",s.code=8,Promise.reject(s)}return r.video===!0?r.video={mediaSource:e}:r.video.mediaSource=e,t.navigator.mediaDevices.getUserMedia(r)})}function z2(t){typeof t=="object"&&t.RTCTrackEvent&&"receiver"in t.RTCTrackEvent.prototype&&!("transceiver"in t.RTCTrackEvent.prototype)&&Object.defineProperty(t.RTCTrackEvent.prototype,"transceiver",{get(){return{receiver:this.receiver}}})}function w0(t,e){if(typeof t!="object"||!(t.RTCPeerConnection||t.mozRTCPeerConnection))return;!t.RTCPeerConnection&&t.mozRTCPeerConnection&&(t.RTCPeerConnection=t.mozRTCPeerConnection),e.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(s){const i=t.RTCPeerConnection.prototype[s],o={[s](){return arguments[0]=new(s==="addIceCandidate"?t.RTCIceCandidate:t.RTCSessionDescription)(arguments[0]),i.apply(this,arguments)}};t.RTCPeerConnection.prototype[s]=o[s]});const n={inboundrtp:"inbound-rtp",outboundrtp:"outbound-rtp",candidatepair:"candidate-pair",localcandidate:"local-candidate",remotecandidate:"remote-candidate"},r=t.RTCPeerConnection.prototype.getStats;t.RTCPeerConnection.prototype.getStats=function(){const[i,o,a]=arguments;return r.apply(this,[i||null]).then(l=>{if(e.version<53&&!o)try{l.forEach(c=>{c.type=n[c.type]||c.type})}catch(c){if(c.name!=="TypeError")throw c;l.forEach((d,p)=>{l.set(p,Object.assign({},d,{type:n[d.type]||d.type}))})}return l}).then(o,a)}}function W2(t){if(!(typeof t=="object"&&t.RTCPeerConnection&&t.RTCRtpSender)||t.RTCRtpSender&&"getStats"in t.RTCRtpSender.prototype)return;const e=t.RTCPeerConnection.prototype.getSenders;e&&(t.RTCPeerConnection.prototype.getSenders=function(){const s=e.apply(this,[]);return s.forEach(i=>i._pc=this),s});const n=t.RTCPeerConnection.prototype.addTrack;n&&(t.RTCPeerConnection.prototype.addTrack=function(){const s=n.apply(this,arguments);return s._pc=this,s}),t.RTCRtpSender.prototype.getStats=function(){return this.track?this._pc.getStats(this.track):Promise.resolve(new Map)}}function Y2(t){if(!(typeof t=="object"&&t.RTCPeerConnection&&t.RTCRtpSender)||t.RTCRtpSender&&"getStats"in t.RTCRtpReceiver.prototype)return;const e=t.RTCPeerConnection.prototype.getReceivers;e&&(t.RTCPeerConnection.prototype.getReceivers=function(){const r=e.apply(this,[]);return r.forEach(s=>s._pc=this),r}),xa(t,"track",n=>(n.receiver._pc=n.srcElement,n)),t.RTCRtpReceiver.prototype.getStats=function(){return this._pc.getStats(this.track)}}function K2(t){!t.RTCPeerConnection||"removeStream"in t.RTCPeerConnection.prototype||(t.RTCPeerConnection.prototype.removeStream=function(n){p1("removeStream","removeTrack"),this.getSenders().forEach(r=>{r.track&&n.getTracks().includes(r.track)&&this.removeTrack(r)})})}function Q2(t){t.DataChannel&&!t.RTCDataChannel&&(t.RTCDataChannel=t.DataChannel)}function H2(t){if(!(typeof t=="object"&&t.RTCPeerConnection))return;const e=t.RTCPeerConnection.prototype.addTransceiver;e&&(t.RTCPeerConnection.prototype.addTransceiver=function(){this.setParametersPromises=[];let r=arguments[1]&&arguments[1].sendEncodings;r===void 0&&(r=[]),r=[...r];const s=r.length>0;s&&r.forEach(o=>{if("rid"in o&&!/^[a-z0-9]{0,16}$/i.test(o.rid))throw new TypeError("Invalid RID value provided.");if("scaleResolutionDownBy"in o&&!(parseFloat(o.scaleResolutionDownBy)>=1))throw new RangeError("scale_resolution_down_by must be >= 1.0");if("maxFramerate"in o&&!(parseFloat(o.maxFramerate)>=0))throw new RangeError("max_framerate must be >= 0.0")});const i=e.apply(this,arguments);if(s){const{sender:o}=i,a=o.getParameters();(!("encodings"in a)||a.encodings.length===1&&Object.keys(a.encodings[0]).length===0)&&(a.encodings=r,o.sendEncodings=r,this.setParametersPromises.push(o.setParameters(a).then(()=>{delete o.sendEncodings}).catch(()=>{delete o.sendEncodings})))}return i})}function J2(t){if(!(typeof t=="object"&&t.RTCRtpSender))return;const e=t.RTCRtpSender.prototype.getParameters;e&&(t.RTCRtpSender.prototype.getParameters=function(){const r=e.apply(this,arguments);return"encodings"in r||(r.encodings=[].concat(this.sendEncodings||[{}])),r})}function X2(t){if(!(typeof t=="object"&&t.RTCPeerConnection))return;const e=t.RTCPeerConnection.prototype.createOffer;t.RTCPeerConnection.prototype.createOffer=function(){return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then(()=>e.apply(this,arguments)).finally(()=>{this.setParametersPromises=[]}):e.apply(this,arguments)}}function Z2(t){if(!(typeof t=="object"&&t.RTCPeerConnection))return;const e=t.RTCPeerConnection.prototype.createAnswer;t.RTCPeerConnection.prototype.createAnswer=function(){return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then(()=>e.apply(this,arguments)).finally(()=>{this.setParametersPromises=[]}):e.apply(this,arguments)}}const uT=Object.freeze(Object.defineProperty({__proto__:null,shimAddTransceiver:H2,shimCreateAnswer:Z2,shimCreateOffer:X2,shimGetDisplayMedia:sY,shimGetParameters:J2,shimGetUserMedia:$2,shimOnTrack:z2,shimPeerConnection:w0,shimRTCDataChannel:Q2,shimReceiverGetStats:Y2,shimRemoveStream:K2,shimSenderGetStats:W2},Symbol.toStringTag,{value:"Module"}));function eM(t){if(!(typeof t!="object"||!t.RTCPeerConnection)){if("getLocalStreams"in t.RTCPeerConnection.prototype||(t.RTCPeerConnection.prototype.getLocalStreams=function(){return this._localStreams||(this._localStreams=[]),this._localStreams}),!("addStream"in t.RTCPeerConnection.prototype)){const e=t.RTCPeerConnection.prototype.addTrack;t.RTCPeerConnection.prototype.addStream=function(r){this._localStreams||(this._localStreams=[]),this._localStreams.includes(r)||this._localStreams.push(r),r.getAudioTracks().forEach(s=>e.call(this,s,r)),r.getVideoTracks().forEach(s=>e.call(this,s,r))},t.RTCPeerConnection.prototype.addTrack=function(r,...s){return s&&s.forEach(i=>{this._localStreams?this._localStreams.includes(i)||this._localStreams.push(i):this._localStreams=[i]}),e.apply(this,arguments)}}"removeStream"in t.RTCPeerConnection.prototype||(t.RTCPeerConnection.prototype.removeStream=function(n){this._localStreams||(this._localStreams=[]);const r=this._localStreams.indexOf(n);if(r===-1)return;this._localStreams.splice(r,1);const s=n.getTracks();this.getSenders().forEach(i=>{s.includes(i.track)&&this.removeTrack(i)})})}}function tM(t){if(!(typeof t!="object"||!t.RTCPeerConnection)&&("getRemoteStreams"in t.RTCPeerConnection.prototype||(t.RTCPeerConnection.prototype.getRemoteStreams=function(){return this._remoteStreams?this._remoteStreams:[]}),!("onaddstream"in t.RTCPeerConnection.prototype))){Object.defineProperty(t.RTCPeerConnection.prototype,"onaddstream",{get(){return this._onaddstream},set(n){this._onaddstream&&(this.removeEventListener("addstream",this._onaddstream),this.removeEventListener("track",this._onaddstreampoly)),this.addEventListener("addstream",this._onaddstream=n),this.addEventListener("track",this._onaddstreampoly=r=>{r.streams.forEach(s=>{if(this._remoteStreams||(this._remoteStreams=[]),this._remoteStreams.includes(s))return;this._remoteStreams.push(s);const i=new Event("addstream");i.stream=s,this.dispatchEvent(i)})})}});const e=t.RTCPeerConnection.prototype.setRemoteDescription;t.RTCPeerConnection.prototype.setRemoteDescription=function(){const r=this;return this._onaddstreampoly||this.addEventListener("track",this._onaddstreampoly=function(s){s.streams.forEach(i=>{if(r._remoteStreams||(r._remoteStreams=[]),r._remoteStreams.indexOf(i)>=0)return;r._remoteStreams.push(i);const o=new Event("addstream");o.stream=i,r.dispatchEvent(o)})}),e.apply(r,arguments)}}}function nM(t){if(typeof t!="object"||!t.RTCPeerConnection)return;const e=t.RTCPeerConnection.prototype,n=e.createOffer,r=e.createAnswer,s=e.setLocalDescription,i=e.setRemoteDescription,o=e.addIceCandidate;e.createOffer=function(c,d){const p=arguments.length>=2?arguments[2]:arguments[0],h=n.apply(this,[p]);return d?(h.then(c,d),Promise.resolve()):h},e.createAnswer=function(c,d){const p=arguments.length>=2?arguments[2]:arguments[0],h=r.apply(this,[p]);return d?(h.then(c,d),Promise.resolve()):h};let a=function(l,c,d){const p=s.apply(this,[l]);return d?(p.then(c,d),Promise.resolve()):p};e.setLocalDescription=a,a=function(l,c,d){const p=i.apply(this,[l]);return d?(p.then(c,d),Promise.resolve()):p},e.setRemoteDescription=a,a=function(l,c,d){const p=o.apply(this,[l]);return d?(p.then(c,d),Promise.resolve()):p},e.addIceCandidate=a}function rM(t){const e=t&&t.navigator;if(e.mediaDevices&&e.mediaDevices.getUserMedia){const n=e.mediaDevices,r=n.getUserMedia.bind(n);e.mediaDevices.getUserMedia=s=>r(sM(s))}!e.getUserMedia&&e.mediaDevices&&e.mediaDevices.getUserMedia&&(e.getUserMedia=(function(r,s,i){e.mediaDevices.getUserMedia(r).then(s,i)}).bind(e))}function sM(t){return t&&t.video!==void 0?Object.assign({},t,{video:O2(t.video)}):t}function iM(t){if(!t.RTCPeerConnection)return;const e=t.RTCPeerConnection;t.RTCPeerConnection=function(r,s){if(r&&r.iceServers){const i=[];for(let o=0;o<r.iceServers.length;o++){let a=r.iceServers[o];a.urls===void 0&&a.url?(p1("RTCIceServer.url","RTCIceServer.urls"),a=JSON.parse(JSON.stringify(a)),a.urls=a.url,delete a.url,i.push(a)):i.push(r.iceServers[o])}r.iceServers=i}return new e(r,s)},t.RTCPeerConnection.prototype=e.prototype,"generateCertificate"in e&&Object.defineProperty(t.RTCPeerConnection,"generateCertificate",{get(){return e.generateCertificate}})}function oM(t){typeof t=="object"&&t.RTCTrackEvent&&"receiver"in t.RTCTrackEvent.prototype&&!("transceiver"in t.RTCTrackEvent.prototype)&&Object.defineProperty(t.RTCTrackEvent.prototype,"transceiver",{get(){return{receiver:this.receiver}}})}function aM(t){const e=t.RTCPeerConnection.prototype.createOffer;t.RTCPeerConnection.prototype.createOffer=function(r){if(r){typeof r.offerToReceiveAudio<"u"&&(r.offerToReceiveAudio=!!r.offerToReceiveAudio);const s=this.getTransceivers().find(o=>o.receiver.track.kind==="audio");r.offerToReceiveAudio===!1&&s?s.direction==="sendrecv"?s.setDirection?s.setDirection("sendonly"):s.direction="sendonly":s.direction==="recvonly"&&(s.setDirection?s.setDirection("inactive"):s.direction="inactive"):r.offerToReceiveAudio===!0&&!s&&this.addTransceiver("audio",{direction:"recvonly"}),typeof r.offerToReceiveVideo<"u"&&(r.offerToReceiveVideo=!!r.offerToReceiveVideo);const i=this.getTransceivers().find(o=>o.receiver.track.kind==="video");r.offerToReceiveVideo===!1&&i?i.direction==="sendrecv"?i.setDirection?i.setDirection("sendonly"):i.direction="sendonly":i.direction==="recvonly"&&(i.setDirection?i.setDirection("inactive"):i.direction="inactive"):r.offerToReceiveVideo===!0&&!i&&this.addTransceiver("video",{direction:"recvonly"})}return e.apply(this,arguments)}}function lM(t){typeof t!="object"||t.AudioContext||(t.AudioContext=t.webkitAudioContext)}const dT=Object.freeze(Object.defineProperty({__proto__:null,shimAudioContext:lM,shimCallbacksAPI:nM,shimConstraints:sM,shimCreateOfferLegacy:aM,shimGetUserMedia:rM,shimLocalStreamsAPI:eM,shimRTCIceServerUrls:iM,shimRemoteStreamsAPI:tM,shimTrackEventTransceiver:oM},Symbol.toStringTag,{value:"Module"}));var cM={exports:{}};(function(t){const e={};e.generateIdentifier=function(){return Math.random().toString(36).substring(2,12)},e.localCName=e.generateIdentifier(),e.splitLines=function(n){return n.trim().split(`
`).map(r=>r.trim())},e.splitSections=function(n){return n.split(`
m=`).map((s,i)=>(i>0?"m="+s:s).trim()+`\r
`)},e.getDescription=function(n){const r=e.splitSections(n);return r&&r[0]},e.getMediaSections=function(n){const r=e.splitSections(n);return r.shift(),r},e.matchPrefix=function(n,r){return e.splitLines(n).filter(s=>s.indexOf(r)===0)},e.parseCandidate=function(n){let r;n.indexOf("a=candidate:")===0?r=n.substring(12).split(" "):r=n.substring(10).split(" ");const s={foundation:r[0],component:{1:"rtp",2:"rtcp"}[r[1]]||r[1],protocol:r[2].toLowerCase(),priority:parseInt(r[3],10),ip:r[4],address:r[4],port:parseInt(r[5],10),type:r[7]};for(let i=8;i<r.length;i+=2)switch(r[i]){case"raddr":s.relatedAddress=r[i+1];break;case"rport":s.relatedPort=parseInt(r[i+1],10);break;case"tcptype":s.tcpType=r[i+1];break;case"ufrag":s.ufrag=r[i+1],s.usernameFragment=r[i+1];break;default:s[r[i]]===void 0&&(s[r[i]]=r[i+1]);break}return s},e.writeCandidate=function(n){const r=[];r.push(n.foundation);const s=n.component;s==="rtp"?r.push(1):s==="rtcp"?r.push(2):r.push(s),r.push(n.protocol.toUpperCase()),r.push(n.priority),r.push(n.address||n.ip),r.push(n.port);const i=n.type;return r.push("typ"),r.push(i),i!=="host"&&n.relatedAddress&&n.relatedPort&&(r.push("raddr"),r.push(n.relatedAddress),r.push("rport"),r.push(n.relatedPort)),n.tcpType&&n.protocol.toLowerCase()==="tcp"&&(r.push("tcptype"),r.push(n.tcpType)),(n.usernameFragment||n.ufrag)&&(r.push("ufrag"),r.push(n.usernameFragment||n.ufrag)),"candidate:"+r.join(" ")},e.parseIceOptions=function(n){return n.substring(14).split(" ")},e.parseRtpMap=function(n){let r=n.substring(9).split(" ");const s={payloadType:parseInt(r.shift(),10)};return r=r[0].split("/"),s.name=r[0],s.clockRate=parseInt(r[1],10),s.channels=r.length===3?parseInt(r[2],10):1,s.numChannels=s.channels,s},e.writeRtpMap=function(n){let r=n.payloadType;n.preferredPayloadType!==void 0&&(r=n.preferredPayloadType);const s=n.channels||n.numChannels||1;return"a=rtpmap:"+r+" "+n.name+"/"+n.clockRate+(s!==1?"/"+s:"")+`\r
`},e.parseExtmap=function(n){const r=n.substring(9).split(" ");return{id:parseInt(r[0],10),direction:r[0].indexOf("/")>0?r[0].split("/")[1]:"sendrecv",uri:r[1],attributes:r.slice(2).join(" ")}},e.writeExtmap=function(n){return"a=extmap:"+(n.id||n.preferredId)+(n.direction&&n.direction!=="sendrecv"?"/"+n.direction:"")+" "+n.uri+(n.attributes?" "+n.attributes:"")+`\r
`},e.parseFmtp=function(n){const r={};let s;const i=n.substring(n.indexOf(" ")+1).split(";");for(let o=0;o<i.length;o++)s=i[o].trim().split("="),r[s[0].trim()]=s[1];return r},e.writeFmtp=function(n){let r="",s=n.payloadType;if(n.preferredPayloadType!==void 0&&(s=n.preferredPayloadType),n.parameters&&Object.keys(n.parameters).length){const i=[];Object.keys(n.parameters).forEach(o=>{n.parameters[o]!==void 0?i.push(o+"="+n.parameters[o]):i.push(o)}),r+="a=fmtp:"+s+" "+i.join(";")+`\r
`}return r},e.parseRtcpFb=function(n){const r=n.substring(n.indexOf(" ")+1).split(" ");return{type:r.shift(),parameter:r.join(" ")}},e.writeRtcpFb=function(n){let r="",s=n.payloadType;return n.preferredPayloadType!==void 0&&(s=n.preferredPayloadType),n.rtcpFeedback&&n.rtcpFeedback.length&&n.rtcpFeedback.forEach(i=>{r+="a=rtcp-fb:"+s+" "+i.type+(i.parameter&&i.parameter.length?" "+i.parameter:"")+`\r
`}),r},e.parseSsrcMedia=function(n){const r=n.indexOf(" "),s={ssrc:parseInt(n.substring(7,r),10)},i=n.indexOf(":",r);return i>-1?(s.attribute=n.substring(r+1,i),s.value=n.substring(i+1)):s.attribute=n.substring(r+1),s},e.parseSsrcGroup=function(n){const r=n.substring(13).split(" ");return{semantics:r.shift(),ssrcs:r.map(s=>parseInt(s,10))}},e.getMid=function(n){const r=e.matchPrefix(n,"a=mid:")[0];if(r)return r.substring(6)},e.parseFingerprint=function(n){const r=n.substring(14).split(" ");return{algorithm:r[0].toLowerCase(),value:r[1].toUpperCase()}},e.getDtlsParameters=function(n,r){return{role:"auto",fingerprints:e.matchPrefix(n+r,"a=fingerprint:").map(e.parseFingerprint)}},e.writeDtlsParameters=function(n,r){let s="a=setup:"+r+`\r
`;return n.fingerprints.forEach(i=>{s+="a=fingerprint:"+i.algorithm+" "+i.value+`\r
`}),s},e.parseCryptoLine=function(n){const r=n.substring(9).split(" ");return{tag:parseInt(r[0],10),cryptoSuite:r[1],keyParams:r[2],sessionParams:r.slice(3)}},e.writeCryptoLine=function(n){return"a=crypto:"+n.tag+" "+n.cryptoSuite+" "+(typeof n.keyParams=="object"?e.writeCryptoKeyParams(n.keyParams):n.keyParams)+(n.sessionParams?" "+n.sessionParams.join(" "):"")+`\r
`},e.parseCryptoKeyParams=function(n){if(n.indexOf("inline:")!==0)return null;const r=n.substring(7).split("|");return{keyMethod:"inline",keySalt:r[0],lifeTime:r[1],mkiValue:r[2]?r[2].split(":")[0]:void 0,mkiLength:r[2]?r[2].split(":")[1]:void 0}},e.writeCryptoKeyParams=function(n){return n.keyMethod+":"+n.keySalt+(n.lifeTime?"|"+n.lifeTime:"")+(n.mkiValue&&n.mkiLength?"|"+n.mkiValue+":"+n.mkiLength:"")},e.getCryptoParameters=function(n,r){return e.matchPrefix(n+r,"a=crypto:").map(e.parseCryptoLine)},e.getIceParameters=function(n,r){const s=e.matchPrefix(n+r,"a=ice-ufrag:")[0],i=e.matchPrefix(n+r,"a=ice-pwd:")[0];return s&&i?{usernameFragment:s.substring(12),password:i.substring(10)}:null},e.writeIceParameters=function(n){let r="a=ice-ufrag:"+n.usernameFragment+`\r
a=ice-pwd:`+n.password+`\r
`;return n.iceLite&&(r+=`a=ice-lite\r
`),r},e.parseRtpParameters=function(n){const r={codecs:[],headerExtensions:[],fecMechanisms:[],rtcp:[]},i=e.splitLines(n)[0].split(" ");r.profile=i[2];for(let a=3;a<i.length;a++){const l=i[a],c=e.matchPrefix(n,"a=rtpmap:"+l+" ")[0];if(c){const d=e.parseRtpMap(c),p=e.matchPrefix(n,"a=fmtp:"+l+" ");switch(d.parameters=p.length?e.parseFmtp(p[0]):{},d.rtcpFeedback=e.matchPrefix(n,"a=rtcp-fb:"+l+" ").map(e.parseRtcpFb),r.codecs.push(d),d.name.toUpperCase()){case"RED":case"ULPFEC":r.fecMechanisms.push(d.name.toUpperCase());break}}}e.matchPrefix(n,"a=extmap:").forEach(a=>{r.headerExtensions.push(e.parseExtmap(a))});const o=e.matchPrefix(n,"a=rtcp-fb:* ").map(e.parseRtcpFb);return r.codecs.forEach(a=>{o.forEach(l=>{a.rtcpFeedback.find(d=>d.type===l.type&&d.parameter===l.parameter)||a.rtcpFeedback.push(l)})}),r},e.writeRtpDescription=function(n,r){let s="";s+="m="+n+" ",s+=r.codecs.length>0?"9":"0",s+=" "+(r.profile||"UDP/TLS/RTP/SAVPF")+" ",s+=r.codecs.map(o=>o.preferredPayloadType!==void 0?o.preferredPayloadType:o.payloadType).join(" ")+`\r
`,s+=`c=IN IP4 0.0.0.0\r
`,s+=`a=rtcp:9 IN IP4 0.0.0.0\r
`,r.codecs.forEach(o=>{s+=e.writeRtpMap(o),s+=e.writeFmtp(o),s+=e.writeRtcpFb(o)});let i=0;return r.codecs.forEach(o=>{o.maxptime>i&&(i=o.maxptime)}),i>0&&(s+="a=maxptime:"+i+`\r
`),r.headerExtensions&&r.headerExtensions.forEach(o=>{s+=e.writeExtmap(o)}),s},e.parseRtpEncodingParameters=function(n){const r=[],s=e.parseRtpParameters(n),i=s.fecMechanisms.indexOf("RED")!==-1,o=s.fecMechanisms.indexOf("ULPFEC")!==-1,a=e.matchPrefix(n,"a=ssrc:").map(h=>e.parseSsrcMedia(h)).filter(h=>h.attribute==="cname"),l=a.length>0&&a[0].ssrc;let c;const d=e.matchPrefix(n,"a=ssrc-group:FID").map(h=>h.substring(17).split(" ").map(E=>parseInt(E,10)));d.length>0&&d[0].length>1&&d[0][0]===l&&(c=d[0][1]),s.codecs.forEach(h=>{if(h.name.toUpperCase()==="RTX"&&h.parameters.apt){let v={ssrc:l,codecPayloadType:parseInt(h.parameters.apt,10)};l&&c&&(v.rtx={ssrc:c}),r.push(v),i&&(v=JSON.parse(JSON.stringify(v)),v.fec={ssrc:l,mechanism:o?"red+ulpfec":"red"},r.push(v))}}),r.length===0&&l&&r.push({ssrc:l});let p=e.matchPrefix(n,"b=");return p.length&&(p[0].indexOf("b=TIAS:")===0?p=parseInt(p[0].substring(7),10):p[0].indexOf("b=AS:")===0?p=parseInt(p[0].substring(5),10)*1e3*.95-50*40*8:p=void 0,r.forEach(h=>{h.maxBitrate=p})),r},e.parseRtcpParameters=function(n){const r={},s=e.matchPrefix(n,"a=ssrc:").map(a=>e.parseSsrcMedia(a)).filter(a=>a.attribute==="cname")[0];s&&(r.cname=s.value,r.ssrc=s.ssrc);const i=e.matchPrefix(n,"a=rtcp-rsize");r.reducedSize=i.length>0,r.compound=i.length===0;const o=e.matchPrefix(n,"a=rtcp-mux");return r.mux=o.length>0,r},e.writeRtcpParameters=function(n){let r="";return n.reducedSize&&(r+=`a=rtcp-rsize\r
`),n.mux&&(r+=`a=rtcp-mux\r
`),n.ssrc!==void 0&&n.cname&&(r+="a=ssrc:"+n.ssrc+" cname:"+n.cname+`\r
`),r},e.parseMsid=function(n){let r;const s=e.matchPrefix(n,"a=msid:");if(s.length===1)return r=s[0].substring(7).split(" "),{stream:r[0],track:r[1]};const i=e.matchPrefix(n,"a=ssrc:").map(o=>e.parseSsrcMedia(o)).filter(o=>o.attribute==="msid");if(i.length>0)return r=i[0].value.split(" "),{stream:r[0],track:r[1]}},e.parseSctpDescription=function(n){const r=e.parseMLine(n),s=e.matchPrefix(n,"a=max-message-size:");let i;s.length>0&&(i=parseInt(s[0].substring(19),10)),isNaN(i)&&(i=65536);const o=e.matchPrefix(n,"a=sctp-port:");if(o.length>0)return{port:parseInt(o[0].substring(12),10),protocol:r.fmt,maxMessageSize:i};const a=e.matchPrefix(n,"a=sctpmap:");if(a.length>0){const l=a[0].substring(10).split(" ");return{port:parseInt(l[0],10),protocol:l[1],maxMessageSize:i}}},e.writeSctpDescription=function(n,r){let s=[];return n.protocol!=="DTLS/SCTP"?s=["m="+n.kind+" 9 "+n.protocol+" "+r.protocol+`\r
`,`c=IN IP4 0.0.0.0\r
`,"a=sctp-port:"+r.port+`\r
`]:s=["m="+n.kind+" 9 "+n.protocol+" "+r.port+`\r
`,`c=IN IP4 0.0.0.0\r
`,"a=sctpmap:"+r.port+" "+r.protocol+` 65535\r
`],r.maxMessageSize!==void 0&&s.push("a=max-message-size:"+r.maxMessageSize+`\r
`),s.join("")},e.generateSessionId=function(){return Math.random().toString().substr(2,22)},e.writeSessionBoilerplate=function(n,r,s){let i;const o=r!==void 0?r:2;return n?i=n:i=e.generateSessionId(),`v=0\r
o=`+(s||"thisisadapterortc")+" "+i+" "+o+` IN IP4 127.0.0.1\r
s=-\r
t=0 0\r
`},e.getDirection=function(n,r){const s=e.splitLines(n);for(let i=0;i<s.length;i++)switch(s[i]){case"a=sendrecv":case"a=sendonly":case"a=recvonly":case"a=inactive":return s[i].substring(2)}return r?e.getDirection(r):"sendrecv"},e.getKind=function(n){return e.splitLines(n)[0].split(" ")[0].substring(2)},e.isRejected=function(n){return n.split(" ",2)[1]==="0"},e.parseMLine=function(n){const s=e.splitLines(n)[0].substring(2).split(" ");return{kind:s[0],port:parseInt(s[1],10),protocol:s[2],fmt:s.slice(3).join(" ")}},e.parseOLine=function(n){const s=e.matchPrefix(n,"o=")[0].substring(2).split(" ");return{username:s[0],sessionId:s[1],sessionVersion:parseInt(s[2],10),netType:s[3],addressType:s[4],address:s[5]}},e.isValidSDP=function(n){if(typeof n!="string"||n.length===0)return!1;const r=e.splitLines(n);for(let s=0;s<r.length;s++)if(r[s].length<2||r[s].charAt(1)!=="=")return!1;return!0},t.exports=e})(cM);var uM=cM.exports;const wl=b0(uM),iY=AT({__proto__:null,default:wl},[uM]);function Sf(t){if(!t.RTCIceCandidate||t.RTCIceCandidate&&"foundation"in t.RTCIceCandidate.prototype)return;const e=t.RTCIceCandidate;t.RTCIceCandidate=function(r){if(typeof r=="object"&&r.candidate&&r.candidate.indexOf("a=")===0&&(r=JSON.parse(JSON.stringify(r)),r.candidate=r.candidate.substring(2)),r.candidate&&r.candidate.length){const s=new e(r),i=wl.parseCandidate(r.candidate);for(const o in i)o in s||Object.defineProperty(s,o,{value:i[o]});return s.toJSON=function(){return{candidate:s.candidate,sdpMid:s.sdpMid,sdpMLineIndex:s.sdpMLineIndex,usernameFragment:s.usernameFragment}},s}return new e(r)},t.RTCIceCandidate.prototype=e.prototype,xa(t,"icecandidate",n=>(n.candidate&&Object.defineProperty(n,"candidate",{value:new t.RTCIceCandidate(n.candidate),writable:"false"}),n))}function E0(t){!t.RTCIceCandidate||t.RTCIceCandidate&&"relayProtocol"in t.RTCIceCandidate.prototype||xa(t,"icecandidate",e=>{if(e.candidate){const n=wl.parseCandidate(e.candidate.candidate);n.type==="relay"&&(e.candidate.relayProtocol={0:"tls",1:"tcp",2:"udp"}[n.priority>>24])}return e})}function If(t,e){if(!t.RTCPeerConnection)return;"sctp"in t.RTCPeerConnection.prototype||Object.defineProperty(t.RTCPeerConnection.prototype,"sctp",{get(){return typeof this._sctp>"u"?null:this._sctp}});const n=function(a){if(!a||!a.sdp)return!1;const l=wl.splitSections(a.sdp);return l.shift(),l.some(c=>{const d=wl.parseMLine(c);return d&&d.kind==="application"&&d.protocol.indexOf("SCTP")!==-1})},r=function(a){const l=a.sdp.match(/mozilla...THIS_IS_SDPARTA-(\d+)/);if(l===null||l.length<2)return-1;const c=parseInt(l[1],10);return c!==c?-1:c},s=function(a){let l=65536;return e.browser==="firefox"&&(e.version<57?a===-1?l=16384:l=2147483637:e.version<60?l=e.version===57?65535:65536:l=2147483637),l},i=function(a,l){let c=65536;e.browser==="firefox"&&e.version===57&&(c=65535);const d=wl.matchPrefix(a.sdp,"a=max-message-size:");return d.length>0?c=parseInt(d[0].substring(19),10):e.browser==="firefox"&&l!==-1&&(c=2147483637),c},o=t.RTCPeerConnection.prototype.setRemoteDescription;t.RTCPeerConnection.prototype.setRemoteDescription=function(){if(this._sctp=null,e.browser==="chrome"&&e.version>=76){const{sdpSemantics:l}=this.getConfiguration();l==="plan-b"&&Object.defineProperty(this,"sctp",{get(){return typeof this._sctp>"u"?null:this._sctp},enumerable:!0,configurable:!0})}if(n(arguments[0])){const l=r(arguments[0]),c=s(l),d=i(arguments[0],l);let p;c===0&&d===0?p=Number.POSITIVE_INFINITY:c===0||d===0?p=Math.max(c,d):p=Math.min(c,d);const h={};Object.defineProperty(h,"maxMessageSize",{get(){return p}}),this._sctp=h}return o.apply(this,arguments)}}function Rf(t){if(!(t.RTCPeerConnection&&"createDataChannel"in t.RTCPeerConnection.prototype))return;function e(r,s){const i=r.send;r.send=function(){const a=arguments[0],l=a.length||a.size||a.byteLength;if(r.readyState==="open"&&s.sctp&&l>s.sctp.maxMessageSize)throw new TypeError("Message too large (can send a maximum of "+s.sctp.maxMessageSize+" bytes)");return i.apply(r,arguments)}}const n=t.RTCPeerConnection.prototype.createDataChannel;t.RTCPeerConnection.prototype.createDataChannel=function(){const s=n.apply(this,arguments);return e(s,this),s},xa(t,"datachannel",r=>(e(r.channel,r.target),r))}function x0(t){if(!t.RTCPeerConnection||"connectionState"in t.RTCPeerConnection.prototype)return;const e=t.RTCPeerConnection.prototype;Object.defineProperty(e,"connectionState",{get(){return{completed:"connected",checking:"connecting"}[this.iceConnectionState]||this.iceConnectionState},enumerable:!0,configurable:!0}),Object.defineProperty(e,"onconnectionstatechange",{get(){return this._onconnectionstatechange||null},set(n){this._onconnectionstatechange&&(this.removeEventListener("connectionstatechange",this._onconnectionstatechange),delete this._onconnectionstatechange),n&&this.addEventListener("connectionstatechange",this._onconnectionstatechange=n)},enumerable:!0,configurable:!0}),["setLocalDescription","setRemoteDescription"].forEach(n=>{const r=e[n];e[n]=function(){return this._connectionstatechangepoly||(this._connectionstatechangepoly=s=>{const i=s.target;if(i._lastConnectionState!==i.connectionState){i._lastConnectionState=i.connectionState;const o=new Event("connectionstatechange",s);i.dispatchEvent(o)}return s},this.addEventListener("iceconnectionstatechange",this._connectionstatechangepoly)),r.apply(this,arguments)}})}function C0(t,e){if(!t.RTCPeerConnection||e.browser==="chrome"&&e.version>=71||e.browser==="safari"&&e._safariVersion>=13.1)return;const n=t.RTCPeerConnection.prototype.setRemoteDescription;t.RTCPeerConnection.prototype.setRemoteDescription=function(s){if(s&&s.sdp&&s.sdp.indexOf(`
a=extmap-allow-mixed`)!==-1){const i=s.sdp.split(`
`).filter(o=>o.trim()!=="a=extmap-allow-mixed").join(`
`);t.RTCSessionDescription&&s instanceof t.RTCSessionDescription?arguments[0]=new t.RTCSessionDescription({type:s.type,sdp:i}):s.sdp=i}return n.apply(this,arguments)}}function Pf(t,e){if(!(t.RTCPeerConnection&&t.RTCPeerConnection.prototype))return;const n=t.RTCPeerConnection.prototype.addIceCandidate;!n||n.length===0||(t.RTCPeerConnection.prototype.addIceCandidate=function(){return arguments[0]?(e.browser==="chrome"&&e.version<78||e.browser==="firefox"&&e.version<68||e.browser==="safari")&&arguments[0]&&arguments[0].candidate===""?Promise.resolve():n.apply(this,arguments):(arguments[1]&&arguments[1].apply(null),Promise.resolve())})}function Nf(t,e){if(!(t.RTCPeerConnection&&t.RTCPeerConnection.prototype))return;const n=t.RTCPeerConnection.prototype.setLocalDescription;!n||n.length===0||(t.RTCPeerConnection.prototype.setLocalDescription=function(){let s=arguments[0]||{};if(typeof s!="object"||s.type&&s.sdp)return n.apply(this,arguments);if(s={type:s.type,sdp:s.sdp},!s.type)switch(this.signalingState){case"stable":case"have-local-offer":case"have-remote-pranswer":s.type="offer";break;default:s.type="answer";break}return s.sdp||s.type!=="offer"&&s.type!=="answer"?n.apply(this,[s]):(s.type==="offer"?this.createOffer:this.createAnswer).apply(this).then(o=>n.apply(this,[o]))})}const oY=Object.freeze(Object.defineProperty({__proto__:null,removeExtmapAllowMixed:C0,shimAddIceCandidateNullOrEmpty:Pf,shimConnectionState:x0,shimMaxMessageSize:If,shimParameterlessSetLocalDescription:Nf,shimRTCIceCandidate:Sf,shimRTCIceCandidateRelayProtocol:E0,shimSendThrowTypeError:Rf},Symbol.toStringTag,{value:"Module"}));function aY({window:t}={},e={shimChrome:!0,shimFirefox:!0,shimSafari:!0}){const n=D2,r=rY(t),s={browserDetails:r,commonShim:oY,extractVersion:Hc,disableLog:tY,disableWarnings:nY,sdp:iY};switch(r.browser){case"chrome":if(!cT||!v0||!e.shimChrome)return n("Chrome shim is not included in this adapter release."),s;if(r.version===null)return n("Chrome shim can not determine version, not shimming."),s;n("adapter.js shimming chrome."),s.browserShim=cT,Pf(t,r),Nf(t),L2(t,r),V2(t),v0(t,r),F2(t),q2(t,r),j2(t),B2(t),G2(t,r),Sf(t),E0(t),x0(t),If(t,r),Rf(t),C0(t,r);break;case"firefox":if(!uT||!w0||!e.shimFirefox)return n("Firefox shim is not included in this adapter release."),s;n("adapter.js shimming firefox."),s.browserShim=uT,Pf(t,r),Nf(t),$2(t,r),w0(t,r),z2(t),K2(t),W2(t),Y2(t),Q2(t),H2(t),J2(t),X2(t),Z2(t),Sf(t),x0(t),If(t,r),Rf(t);break;case"safari":if(!dT||!e.shimSafari)return n("Safari shim is not included in this adapter release."),s;n("adapter.js shimming safari."),s.browserShim=dT,Pf(t,r),Nf(t),iM(t),aM(t),nM(t),eM(t),tM(t),oM(t),rM(t),lM(t),Sf(t),E0(t),If(t,r),Rf(t),C0(t,r);break;default:n("Unsupported browser!");break}return s}aY({window:typeof window>"u"?void 0:window});var dM=t=>{throw TypeError(t)},hM=(t,e,n)=>e.has(t)||dM("Cannot "+n),lY=(t,e,n)=>(hM(t,e,"read from private field"),n?n.call(t):e.get(t)),cY=(t,e,n)=>e.has(t)?dM("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),uY=(t,e,n,r)=>(hM(t,e,"write to private field"),e.set(t,n),n);const Km=[["Aztec","M"],["Codabar","L"],["Code39","L"],["Code93","L"],["Code128","L"],["DataBar","L"],["DataBarExpanded","L"],["DataMatrix","M"],["EAN-8","L"],["EAN-13","L"],["ITF","L"],["MaxiCode","M"],["PDF417","M"],["QRCode","M"],["UPC-A","L"],["UPC-E","L"],["MicroQRCode","M"],["rMQRCode","M"],["DXFilmEdge","L"],["DataBarLimited","L"]],Qm=Km.map(([t])=>t),dY=Qm.filter((t,e)=>Km[e][1]==="L"),hY=Qm.filter((t,e)=>Km[e][1]==="M");function _0(t){switch(t){case"Linear-Codes":return dY.reduce((e,n)=>e|_0(n),0);case"Matrix-Codes":return hY.reduce((e,n)=>e|_0(n),0);case"Any":return(1<<Km.length)-1;case"None":return 0;default:return 1<<Qm.indexOf(t)}}function fY(t){if(t===0)return"None";const e=31-Math.clz32(t);return Qm[e]}function pY(t){return t.reduce((e,n)=>e|_0(n),0)}const mY=["LocalAverage","GlobalHistogram","FixedThreshold","BoolCast"];function gY(t){return mY.indexOf(t)}const hT=["Unknown","ASCII","ISO8859_1","ISO8859_2","ISO8859_3","ISO8859_4","ISO8859_5","ISO8859_6","ISO8859_7","ISO8859_8","ISO8859_9","ISO8859_10","ISO8859_11","ISO8859_13","ISO8859_14","ISO8859_15","ISO8859_16","Cp437","Cp1250","Cp1251","Cp1252","Cp1256","Shift_JIS","Big5","GB2312","GB18030","EUC_JP","EUC_KR","UTF16BE","UTF16BE","UTF8","UTF16LE","UTF32BE","UTF32LE","BINARY"];function yY(t){return t==="UnicodeBig"?hT.indexOf("UTF16BE"):hT.indexOf(t)}const vY=["Text","Binary","Mixed","GS1","ISO15434","UnknownECI"];function wY(t){return vY[t]}const EY=["Ignore","Read","Require"];function xY(t){return EY.indexOf(t)}const CY=["Plain","ECI","HRI","Hex","Escaped"];function _Y(t){return CY.indexOf(t)}const Op={formats:[],tryHarder:!0,tryRotate:!0,tryInvert:!0,tryDownscale:!0,tryDenoise:!1,binarizer:"LocalAverage",isPure:!1,downscaleFactor:3,downscaleThreshold:500,minLineCount:2,maxNumberOfSymbols:255,tryCode39ExtendedMode:!0,returnErrors:!1,eanAddOnSymbol:"Ignore",textMode:"HRI",characterSet:"Unknown"};function fT(t){return{...t,formats:pY(t.formats),binarizer:gY(t.binarizer),eanAddOnSymbol:xY(t.eanAddOnSymbol),textMode:_Y(t.textMode),characterSet:yY(t.characterSet)}}function TY(t){return{...t,format:fY(t.format),contentType:wY(t.contentType),eccLevel:t.ecLevel}}const AY={locateFile:(t,e)=>{const n=t.match(/_(.+?)\.wasm$/);return n?`https://fastly.jsdelivr.net/npm/zxing-wasm@2.1.2/dist/${n[1]}/${t}`:e+t}},yy=new WeakMap;function bY(t,e){return Object.is(t,e)||Object.keys(t).length===Object.keys(e).length&&Object.keys(t).every(n=>Object.prototype.hasOwnProperty.call(e,n)&&t[n]===e[n])}function fM(t,{overrides:e,equalityFn:n=bY,fireImmediately:r=!1}={}){var s;const[i,o]=(s=yy.get(t))!=null?s:[AY],a=e??i;let l;if(r){if(o&&(l=n(i,a)))return o;const c=t({...a});return yy.set(t,[a,c]),c}(l??n(i,a))||yy.set(t,[a])}async function SY(t,e,n=Op){const r={...Op,...n},s=await fM(t,{fireImmediately:!0});let i,o;if("width"in e&&"height"in e&&"data"in e){const{data:l,data:{byteLength:c},width:d,height:p}=e;o=s._malloc(c),s.HEAPU8.set(l,o),i=s.readBarcodesFromPixmap(o,d,p,fT(r))}else{let l,c;if("buffer"in e)[l,c]=[e.byteLength,e];else if("byteLength"in e)[l,c]=[e.byteLength,new Uint8Array(e)];else if("size"in e)[l,c]=[e.size,new Uint8Array(await e.arrayBuffer())];else throw new TypeError("Invalid input type");o=s._malloc(l),s.HEAPU8.set(c,o),i=s.readBarcodesFromImage(o,l,fT(r))}s._free(o);const a=[];for(let l=0;l<i.size();++l)a.push(TY(i.get(l)));return a}({...Op,formats:[...Op.formats]});var pM=async function(t={}){var e,n=t,r,s,i=new Promise((T,C)=>{r=T,s=C}),o=typeof window=="object",a=typeof Bun<"u",l=typeof WorkerGlobalScope<"u";typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string"&&process.type!="renderer";var c="./this.program",d="";function p(T){return n.locateFile?n.locateFile(T,d):d+T}var h,v;(o||l||a)&&(l?d=self.location.href:typeof document<"u"&&document.currentScript&&(d=document.currentScript.src),d.startsWith("blob:")?d="":d=d.slice(0,d.replace(/[?#].*/,"").lastIndexOf("/")+1),l&&(v=T=>{var C=new XMLHttpRequest;return C.open("GET",T,!1),C.responseType="arraybuffer",C.send(null),new Uint8Array(C.response)}),h=async T=>{var C=await fetch(T,{credentials:"same-origin"});if(C.ok)return C.arrayBuffer();throw new Error(C.status+" : "+C.url)});var E=console.log.bind(console),y=console.error.bind(console),A,x,w=!1,_,R,O,j,I,S,k,M;function V(){var T=x.buffer;_=new Int8Array(T),O=new Int16Array(T),n.HEAPU8=R=new Uint8Array(T),j=new Uint16Array(T),I=new Int32Array(T),S=new Uint32Array(T),k=new Float32Array(T),M=new Float64Array(T)}function F(){if(n.preRun)for(typeof n.preRun=="function"&&(n.preRun=[n.preRun]);n.preRun.length;)_e(n.preRun.shift());ge(Ae)}function D(){m.ya()}function re(){if(n.postRun)for(typeof n.postRun=="function"&&(n.postRun=[n.postRun]);n.postRun.length;)xe(n.postRun.shift());ge(we)}var se=0,ne=null;function pe(T){var C;se++,(C=n.monitorRunDependencies)===null||C===void 0||C.call(n,se)}function q(T){var C;if(se--,(C=n.monitorRunDependencies)===null||C===void 0||C.call(n,se),se==0&&ne){var P=ne;ne=null,P()}}function W(T){var C;(C=n.onAbort)===null||C===void 0||C.call(n,T),T="Aborted("+T+")",y(T),w=!0,T+=". Build with -sASSERTIONS for more info.";var P=new WebAssembly.RuntimeError(T);throw s(P),P}var ie;function ee(){return p("zxing_reader.wasm")}function ae(T){if(T==ie&&A)return new Uint8Array(A);if(v)return v(T);throw"both async and sync fetching of the wasm failed"}async function ce(T){if(!A)try{var C=await h(T);return new Uint8Array(C)}catch{}return ae(T)}async function Re(T,C){try{var P=await ce(T),L=await WebAssembly.instantiate(P,C);return L}catch(B){y(`failed to asynchronously prepare wasm: ${B}`),W(B)}}async function ke(T,C,P){if(!T&&typeof WebAssembly.instantiateStreaming=="function")try{var L=fetch(C,{credentials:"same-origin"}),B=await WebAssembly.instantiateStreaming(L,P);return B}catch(U){y(`wasm streaming compile failed: ${U}`),y("falling back to ArrayBuffer instantiation")}return Re(C,P)}function Ee(){return{a:u}}async function te(){function T(U,z){return m=U.exports,x=m.xa,V(),Sa=m.Ba,q(),m}pe();function C(U){return T(U.instance)}var P=Ee();if(n.instantiateWasm)return new Promise((U,z)=>{n.instantiateWasm(P,($,Z)=>{U(T($))})});ie!=null||(ie=ee());try{var L=await ke(A,ie,P),B=C(L);return B}catch(U){return s(U),Promise.reject(U)}}var ge=T=>{for(;T.length>0;)T.shift()(n)},we=[],xe=T=>we.push(T),Ae=[],_e=T=>Ae.push(T),de=T=>Vt(T),ve=()=>$e(),ht=[],st=0,Pt=T=>{var C=new an(T);return C.get_caught()||(C.set_caught(!0),st--),C.set_rethrown(!1),ht.push(C),$t(T),Y(T)},Je=0,ft=()=>{Q(0,0);var T=ht.pop();Gt(T.excPtr),Je=0};class an{constructor(C){this.excPtr=C,this.ptr=C-24}set_type(C){S[this.ptr+4>>2]=C}get_type(){return S[this.ptr+4>>2]}set_destructor(C){S[this.ptr+8>>2]=C}get_destructor(){return S[this.ptr+8>>2]}set_caught(C){C=C?1:0,_[this.ptr+12]=C}get_caught(){return _[this.ptr+12]!=0}set_rethrown(C){C=C?1:0,_[this.ptr+13]=C}get_rethrown(){return _[this.ptr+13]!=0}init(C,P){this.set_adjusted_ptr(0),this.set_type(C),this.set_destructor(P)}set_adjusted_ptr(C){S[this.ptr+16>>2]=C}get_adjusted_ptr(){return S[this.ptr+16>>2]}}var Er=T=>et(T),fs=T=>{var C=Je;if(!C)return Er(0),0;var P=new an(C);P.set_adjusted_ptr(C);var L=P.get_type();if(!L)return Er(0),C;for(var B of T){if(B===0||B===L)break;var U=P.ptr+16;if(oi(B,L,U))return Er(B),C}return Er(L),C},or=()=>fs([]),ps=T=>fs([T]),xo=(T,C)=>fs([T,C]),_t=()=>{var T=ht.pop();T||W("no exception to throw");var C=T.excPtr;throw T.get_rethrown()||(ht.push(T),T.set_rethrown(!0),T.set_caught(!1),st++),Je=C,Je},pt=(T,C,P)=>{var L=new an(T);throw L.init(C,P),Je=T,st++,Je},ms=()=>st,xr=T=>{throw Je||(Je=T),Je},Co=()=>W(""),Js={},ar=T=>{for(;T.length;){var C=T.pop(),P=T.pop();P(C)}};function Cr(T){return this.fromWireType(S[T>>2])}var _r={},En={},xn={},pc=n.InternalError=class extends Error{constructor(T){super(T),this.name="InternalError"}},be=T=>{throw new pc(T)},Be=(T,C,P)=>{T.forEach($=>xn[$]=C);function L($){var Z=P($);Z.length!==T.length&&be("Mismatched type converter count");for(var le=0;le<T.length;++le)cn(T[le],Z[le])}var B=new Array(C.length),U=[],z=0;C.forEach(($,Z)=>{En.hasOwnProperty($)?B[Z]=En[$]:(U.push($),_r.hasOwnProperty($)||(_r[$]=[]),_r[$].push(()=>{B[Z]=En[$],++z,z===U.length&&L(B)}))}),U.length===0&&L(B)},Qe=T=>{var C=Js[T];delete Js[T];var P=C.rawConstructor,L=C.rawDestructor,B=C.fields,U=B.map(z=>z.getterReturnType).concat(B.map(z=>z.setterArgumentType));Be([T],U,z=>{var $={};return B.forEach((Z,le)=>{var ue=Z.fieldName,Te=z[le],We=z[le].optional,He=Z.getter,gt=Z.getterContext,Ft=z[le+B.length],Nt=Z.setter,zt=Z.setterContext;$[ue]={read:Ts=>Te.fromWireType(He(gt,Ts)),write:(Ts,Mn)=>{var cr=[];Nt(zt,Ts,Ft.toWireType(cr,Mn)),ar(cr)},optional:We}}),[{name:C.name,fromWireType:Z=>{var le={};for(var ue in $)le[ue]=$[ue].read(Z);return L(Z),le},toWireType:(Z,le)=>{for(var ue in $)if(!(ue in le)&&!$[ue].optional)throw new TypeError(`Missing field: "${ue}"`);var Te=P();for(ue in $)$[ue].write(Te,le[ue]);return Z!==null&&Z.push(L,Te),Te},argPackAdvance:lr,readValueFromPointer:Cr,destructorFunction:L}]})},qt=(T,C,P,L,B)=>{},ln=()=>{for(var T=new Array(256),C=0;C<256;++C)T[C]=String.fromCharCode(C);Tr=T},Tr,lt=T=>{for(var C="",P=T;R[P];)C+=Tr[R[P++]];return C},Xs=n.BindingError=class extends Error{constructor(T){super(T),this.name="BindingError"}},Ge=T=>{throw new Xs(T)};function Nd(T,C){let P=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};var L=C.name;if(T||Ge(`type "${L}" must have a positive integer typeid pointer`),En.hasOwnProperty(T)){if(P.ignoreDuplicateRegistrations)return;Ge(`Cannot register type '${L}' twice`)}if(En[T]=C,delete xn[T],_r.hasOwnProperty(T)){var B=_r[T];delete _r[T],B.forEach(U=>U())}}function cn(T,C){let P=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Nd(T,C,P)}var lr=8,Jt=(T,C,P,L)=>{C=lt(C),cn(T,{name:C,fromWireType:function(B){return!!B},toWireType:function(B,U){return U?P:L},argPackAdvance:lr,readValueFromPointer:function(B){return this.fromWireType(R[B])},destructorFunction:null})},kd=T=>({count:T.count,deleteScheduled:T.deleteScheduled,preservePointerOnDelete:T.preservePointerOnDelete,ptr:T.ptr,ptrType:T.ptrType,smartPtr:T.smartPtr,smartPtrType:T.smartPtrType}),gs=T=>{function C(P){return P.$$.ptrType.registeredClass.name}Ge(C(T)+" instance already deleted")},ys=!1,Md=T=>{},Hm=T=>{T.smartPtr?T.smartPtrType.rawDestructor(T.smartPtr):T.ptrType.registeredClass.rawDestructor(T.ptr)},vs=T=>{T.count.value-=1;var C=T.count.value===0;C&&Hm(T)},_o=T=>typeof FinalizationRegistry>"u"?(_o=C=>C,T):(ys=new FinalizationRegistry(C=>{vs(C.$$)}),_o=C=>{var P=C.$$,L=!!P.smartPtr;if(L){var B={$$:P};ys.register(C,B,C)}return C},Md=C=>ys.unregister(C),_o(T)),Jm=()=>{let T=ws.prototype;Object.assign(T,{isAliasOf(P){if(!(this instanceof ws)||!(P instanceof ws))return!1;var L=this.$$.ptrType.registeredClass,B=this.$$.ptr;P.$$=P.$$;for(var U=P.$$.ptrType.registeredClass,z=P.$$.ptr;L.baseClass;)B=L.upcast(B),L=L.baseClass;for(;U.baseClass;)z=U.upcast(z),U=U.baseClass;return L===U&&B===z},clone(){if(this.$$.ptr||gs(this),this.$$.preservePointerOnDelete)return this.$$.count.value+=1,this;var P=_o(Object.create(Object.getPrototypeOf(this),{$$:{value:kd(this.$$)}}));return P.$$.count.value+=1,P.$$.deleteScheduled=!1,P},delete(){this.$$.ptr||gs(this),this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete&&Ge("Object already scheduled for deletion"),Md(this),vs(this.$$),this.$$.preservePointerOnDelete||(this.$$.smartPtr=void 0,this.$$.ptr=void 0)},isDeleted(){return!this.$$.ptr},deleteLater(){return this.$$.ptr||gs(this),this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete&&Ge("Object already scheduled for deletion"),this.$$.deleteScheduled=!0,this}});const C=Symbol.dispose;C&&(T[C]=T.delete)};function ws(){}var Ca=(T,C)=>Object.defineProperty(C,"name",{value:T}),_a={},To=(T,C,P)=>{if(T[C].overloadTable===void 0){var L=T[C];T[C]=function(){for(var B=arguments.length,U=new Array(B),z=0;z<B;z++)U[z]=arguments[z];return T[C].overloadTable.hasOwnProperty(U.length)||Ge(`Function '${P}' called with an invalid number of arguments (${U.length}) - expects one of (${T[C].overloadTable})!`),T[C].overloadTable[U.length].apply(this,U)},T[C].overloadTable=[],T[C].overloadTable[L.argCount]=L}},Ar=(T,C,P)=>{n.hasOwnProperty(T)?((P===void 0||n[T].overloadTable!==void 0&&n[T].overloadTable[P]!==void 0)&&Ge(`Cannot register public name '${T}' twice`),To(n,T,T),n[T].overloadTable.hasOwnProperty(P)&&Ge(`Cannot register multiple overloads of a function with the same number of arguments (${P})!`),n[T].overloadTable[P]=C):(n[T]=C,n[T].argCount=P)},Dd=48,Od=57,mc=T=>{T=T.replace(/[^a-zA-Z0-9_]/g,"$");var C=T.charCodeAt(0);return C>=Dd&&C<=Od?`_${T}`:T};function gc(T,C,P,L,B,U,z,$){this.name=T,this.constructor=C,this.instancePrototype=P,this.rawDestructor=L,this.baseClass=B,this.getActualType=U,this.upcast=z,this.downcast=$,this.pureVirtualFunctions=[]}var Ta=(T,C,P)=>{for(;C!==P;)C.upcast||Ge(`Expected null or instance of ${P.name}, got an instance of ${C.name}`),T=C.upcast(T),C=C.baseClass;return T};function Ld(T,C){if(C===null)return this.isReference&&Ge(`null is not a valid ${this.name}`),0;C.$$||Ge(`Cannot pass "${embindRepr(C)}" as a ${this.name}`),C.$$.ptr||Ge(`Cannot pass deleted object as a pointer of type ${this.name}`);var P=C.$$.ptrType.registeredClass,L=Ta(C.$$.ptr,P,this.registeredClass);return L}function Xm(T,C){var P;if(C===null)return this.isReference&&Ge(`null is not a valid ${this.name}`),this.isSmartPointer?(P=this.rawConstructor(),T!==null&&T.push(this.rawDestructor,P),P):0;(!C||!C.$$)&&Ge(`Cannot pass "${embindRepr(C)}" as a ${this.name}`),C.$$.ptr||Ge(`Cannot pass deleted object as a pointer of type ${this.name}`),!this.isConst&&C.$$.ptrType.isConst&&Ge(`Cannot convert argument of type ${C.$$.smartPtrType?C.$$.smartPtrType.name:C.$$.ptrType.name} to parameter type ${this.name}`);var L=C.$$.ptrType.registeredClass;if(P=Ta(C.$$.ptr,L,this.registeredClass),this.isSmartPointer)switch(C.$$.smartPtr===void 0&&Ge("Passing raw pointer to smart pointer is illegal"),this.sharingPolicy){case 0:C.$$.smartPtrType===this?P=C.$$.smartPtr:Ge(`Cannot convert argument of type ${C.$$.smartPtrType?C.$$.smartPtrType.name:C.$$.ptrType.name} to parameter type ${this.name}`);break;case 1:P=C.$$.smartPtr;break;case 2:if(C.$$.smartPtrType===this)P=C.$$.smartPtr;else{var B=C.clone();P=this.rawShare(P,br.toHandle(()=>B.delete())),T!==null&&T.push(this.rawDestructor,P)}break;default:Ge("Unsupporting sharing policy")}return P}function Aa(T,C){if(C===null)return this.isReference&&Ge(`null is not a valid ${this.name}`),0;C.$$||Ge(`Cannot pass "${embindRepr(C)}" as a ${this.name}`),C.$$.ptr||Ge(`Cannot pass deleted object as a pointer of type ${this.name}`),C.$$.ptrType.isConst&&Ge(`Cannot convert argument of type ${C.$$.ptrType.name} to parameter type ${this.name}`);var P=C.$$.ptrType.registeredClass,L=Ta(C.$$.ptr,P,this.registeredClass);return L}var yc=(T,C,P)=>{if(C===P)return T;if(P.baseClass===void 0)return null;var L=yc(T,C,P.baseClass);return L===null?null:P.downcast(L)},vc={},Ao=(T,C)=>{for(C===void 0&&Ge("ptr should not be undefined");T.baseClass;)C=T.upcast(C),T=T.baseClass;return C},Es=(T,C)=>(C=Ao(T,C),vc[C]),Zs=(T,C)=>{(!C.ptrType||!C.ptr)&&be("makeClassHandle requires ptr and ptrType");var P=!!C.smartPtrType,L=!!C.smartPtr;return P!==L&&be("Both smartPtrType and smartPtr must be specified"),C.count={value:1},_o(Object.create(T,{$$:{value:C,writable:!0}}))};function Zm(T){var C=this.getPointee(T);if(!C)return this.destructor(T),null;var P=Es(this.registeredClass,C);if(P!==void 0){if(P.$$.count.value===0)return P.$$.ptr=C,P.$$.smartPtr=T,P.clone();var L=P.clone();return this.destructor(T),L}function B(){return this.isSmartPointer?Zs(this.registeredClass.instancePrototype,{ptrType:this.pointeeType,ptr:C,smartPtrType:this,smartPtr:T}):Zs(this.registeredClass.instancePrototype,{ptrType:this,ptr:T})}var U=this.registeredClass.getActualType(C),z=_a[U];if(!z)return B.call(this);var $;this.isConst?$=z.constPointerType:$=z.pointerType;var Z=yc(C,this.registeredClass,$.registeredClass);return Z===null?B.call(this):this.isSmartPointer?Zs($.registeredClass.instancePrototype,{ptrType:$,ptr:Z,smartPtrType:this,smartPtr:T}):Zs($.registeredClass.instancePrototype,{ptrType:$,ptr:Z})}var Vd=()=>{Object.assign(bo.prototype,{getPointee(T){return this.rawGetPointee&&(T=this.rawGetPointee(T)),T},destructor(T){var C;(C=this.rawDestructor)===null||C===void 0||C.call(this,T)},argPackAdvance:lr,readValueFromPointer:Cr,fromWireType:Zm})};function bo(T,C,P,L,B,U,z,$,Z,le,ue){this.name=T,this.registeredClass=C,this.isReference=P,this.isConst=L,this.isSmartPointer=B,this.pointeeType=U,this.sharingPolicy=z,this.rawGetPointee=$,this.rawConstructor=Z,this.rawShare=le,this.rawDestructor=ue,!B&&C.baseClass===void 0?L?(this.toWireType=Ld,this.destructorFunction=null):(this.toWireType=Aa,this.destructorFunction=null):this.toWireType=Xm}var wc=(T,C,P)=>{n.hasOwnProperty(T)||be("Replacing nonexistent public symbol"),n[T].overloadTable!==void 0&&P!==void 0?n[T].overloadTable[P]=C:(n[T]=C,n[T].argCount=P)},ba=[],Sa,Fe=T=>{var C=ba[T];return C||(ba[T]=C=Sa.get(T)),C},Fd=function(T,C){let P=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];if(T.includes("j"))return dynCallLegacy(T,C,P);var L=Fe(C),B=L(...P);return B},eg=function(T,C){let P=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;return function(){for(var L=arguments.length,B=new Array(L),U=0;U<L;U++)B[U]=arguments[U];return Fd(T,C,B,P)}},Gn=function(T,C){T=lt(T);function P(){if(T.includes("j"))return eg(T,C);var B=Fe(C);return B}var L=P();return typeof L!="function"&&Ge(`unknown function pointer with signature ${T}: ${C}`),L};class jd extends Error{}var Ec=T=>{var C=b(T),P=lt(C);return N(C),P},Ia=(T,C)=>{var P=[],L={};function B(U){if(!L[U]&&!En[U]){if(xn[U]){xn[U].forEach(B);return}P.push(U),L[U]=!0}}throw C.forEach(B),new jd(`${T}: `+P.map(Ec).join([", "]))},xs=(T,C,P,L,B,U,z,$,Z,le,ue,Te,We)=>{ue=lt(ue),U=Gn(B,U),$&&($=Gn(z,$)),le&&(le=Gn(Z,le)),We=Gn(Te,We);var He=mc(ue);Ar(He,function(){Ia(`Cannot construct ${ue} due to unbound types`,[L])}),Be([T,C,P],L?[L]:[],gt=>{gt=gt[0];var Ft,Nt;L?(Ft=gt.registeredClass,Nt=Ft.instancePrototype):Nt=ws.prototype;var zt=Ca(ue,function(){if(Object.getPrototypeOf(this)!==Ts)throw new Xs(`Use 'new' to construct ${ue}`);if(Mn.constructor_body===void 0)throw new Xs(`${ue} has no accessible constructor`);for(var y1=arguments.length,fh=new Array(y1),ph=0;ph<y1;ph++)fh[ph]=arguments[ph];var v1=Mn.constructor_body[fh.length];if(v1===void 0)throw new Xs(`Tried to invoke ctor of ${ue} with invalid number of parameters (${fh.length}) - expected (${Object.keys(Mn.constructor_body).toString()}) parameters instead!`);return v1.apply(this,fh)}),Ts=Object.create(Nt,{constructor:{value:zt}});zt.prototype=Ts;var Mn=new gc(ue,zt,Ts,We,Ft,U,$,le);if(Mn.baseClass){var cr,hh;(hh=(cr=Mn.baseClass).__derivedClasses)!==null&&hh!==void 0||(cr.__derivedClasses=[]),Mn.baseClass.__derivedClasses.push(Mn)}var lD=new bo(ue,Mn,!0,!1,!1),m1=new bo(ue+"*",Mn,!1,!1,!1),g1=new bo(ue+" const*",Mn,!1,!0,!1);return _a[T]={pointerType:m1,constPointerType:g1},wc(He,zt),[lD,m1,g1]})},$n=(T,C)=>{for(var P=[],L=0;L<T;L++)P.push(S[C+L*4>>2]);return P};function Ra(T){for(var C=1;C<T.length;++C)if(T[C]!==null&&T[C].destructorFunction===void 0)return!0;return!1}function ei(T,C,P,L,B,U){var z=C.length;z<2&&Ge("argTypes array size mismatch! Must at least get return value and 'this' types!");var $=C[1]!==null&&P!==null,Z=Ra(C),le=C[0].name!=="void",ue=z-2,Te=new Array(ue),We=[],He=[],gt=function(){He.length=0;var Ft;We.length=$?2:1,We[0]=B,$&&(Ft=C[1].toWireType(He,this),We[1]=Ft);for(var Nt=0;Nt<ue;++Nt)Te[Nt]=C[Nt+2].toWireType(He,Nt<0||arguments.length<=Nt?void 0:arguments[Nt]),We.push(Te[Nt]);var zt=L(...We);function Ts(Mn){if(Z)ar(He);else for(var cr=$?1:2;cr<C.length;cr++){var hh=cr===1?Ft:Te[cr-2];C[cr].destructorFunction!==null&&C[cr].destructorFunction(hh)}if(le)return C[0].fromWireType(Mn)}return Ts(zt)};return Ca(T,gt)}var Bd=(T,C,P,L,B,U)=>{var z=$n(C,P);B=Gn(L,B),Be([],[T],$=>{$=$[0];var Z=`constructor ${$.name}`;if($.registeredClass.constructor_body===void 0&&($.registeredClass.constructor_body=[]),$.registeredClass.constructor_body[C-1]!==void 0)throw new Xs(`Cannot register multiple constructors with identical number of parameters (${C-1}) for class '${$.name}'! Overload resolution is currently only performed using the parameter count, not actual type info!`);return $.registeredClass.constructor_body[C-1]=()=>{Ia(`Cannot construct ${$.name} due to unbound types`,z)},Be([],z,le=>(le.splice(1,0,null),$.registeredClass.constructor_body[C-1]=ei(Z,le,null,B,U),[])),[]})},rt=T=>{T=T.trim();const C=T.indexOf("(");return C===-1?T:T.slice(0,C)},Pa=(T,C,P,L,B,U,z,$,Z,le)=>{var ue=$n(P,L);C=lt(C),C=rt(C),U=Gn(B,U),Be([],[T],Te=>{Te=Te[0];var We=`${Te.name}.${C}`;C.startsWith("@@")&&(C=Symbol[C.substring(2)]),$&&Te.registeredClass.pureVirtualFunctions.push(C);function He(){Ia(`Cannot call ${We} due to unbound types`,ue)}var gt=Te.registeredClass.instancePrototype,Ft=gt[C];return Ft===void 0||Ft.overloadTable===void 0&&Ft.className!==Te.name&&Ft.argCount===P-2?(He.argCount=P-2,He.className=Te.name,gt[C]=He):(To(gt,C,We),gt[C].overloadTable[P-2]=He),Be([],ue,Nt=>{var zt=ei(We,Nt,Te,U,z);return gt[C].overloadTable===void 0?(zt.argCount=P-2,gt[C]=zt):gt[C].overloadTable[P-2]=zt,[]}),[]})},Cs=[],Cn=[],xc=T=>{T>9&&--Cn[T+1]===0&&(Cn[T]=void 0,Cs.push(T))},Ud=()=>Cn.length/2-5-Cs.length,tg=()=>{Cn.push(0,1,void 0,1,null,1,!0,1,!1,1),n.count_emval_handles=Ud},br={toValue:T=>(T||Ge(`Cannot use deleted val. handle = ${T}`),Cn[T]),toHandle:T=>{switch(T){case void 0:return 2;case null:return 4;case!0:return 6;case!1:return 8;default:{const C=Cs.pop()||Cn.length;return Cn[C]=T,Cn[C+1]=1,C}}}},qd={name:"emscripten::val",fromWireType:T=>{var C=br.toValue(T);return xc(T),C},toWireType:(T,C)=>br.toHandle(C),argPackAdvance:lr,readValueFromPointer:Cr,destructorFunction:null},ng=T=>cn(T,qd),So=(T,C)=>{switch(C){case 4:return function(P){return this.fromWireType(k[P>>2])};case 8:return function(P){return this.fromWireType(M[P>>3])};default:throw new TypeError(`invalid float width (${C}): ${T}`)}},$r=(T,C,P)=>{C=lt(C),cn(T,{name:C,fromWireType:L=>L,toWireType:(L,B)=>B,argPackAdvance:lr,readValueFromPointer:So(C,P),destructorFunction:null})},Gd=(T,C,P,L,B,U,z,$)=>{var Z=$n(C,P);T=lt(T),T=rt(T),B=Gn(L,B),Ar(T,function(){Ia(`Cannot call ${T} due to unbound types`,Z)},C-1),Be([],Z,le=>{var ue=[le[0],null].concat(le.slice(1));return wc(T,ei(T,ue,null,B,U),C-1),[]})},$d=(T,C,P)=>{switch(C){case 1:return P?L=>_[L]:L=>R[L];case 2:return P?L=>O[L>>1]:L=>j[L>>1];case 4:return P?L=>I[L>>2]:L=>S[L>>2];default:throw new TypeError(`invalid integer width (${C}): ${T}`)}},zd=(T,C,P,L,B)=>{C=lt(C);var U=ue=>ue;if(L===0){var z=32-8*P;U=ue=>ue<<z>>>z}var $=C.includes("unsigned"),Z=(ue,Te)=>{},le;$?le=function(ue,Te){return Z(Te,this.name),Te>>>0}:le=function(ue,Te){return Z(Te,this.name),Te},cn(T,{name:C,fromWireType:U,toWireType:le,argPackAdvance:lr,readValueFromPointer:$d(C,P,L!==0),destructorFunction:null})},ti=(T,C,P)=>{var L=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array],B=L[C];function U(z){var $=S[z>>2],Z=S[z+4>>2];return new B(_.buffer,Z,$)}P=lt(P),cn(T,{name:P,fromWireType:U,argPackAdvance:lr,readValueFromPointer:U},{ignoreDuplicateRegistrations:!0})},rg=Object.assign({optional:!0},qd),sg=(T,C)=>{cn(T,rg)},ig=(T,C,P,L)=>{if(!(L>0))return 0;for(var B=P,U=P+L-1,z=0;z<T.length;++z){var $=T.charCodeAt(z);if($>=55296&&$<=57343){var Z=T.charCodeAt(++z);$=65536+(($&1023)<<10)|Z&1023}if($<=127){if(P>=U)break;C[P++]=$}else if($<=2047){if(P+1>=U)break;C[P++]=192|$>>6,C[P++]=128|$&63}else if($<=65535){if(P+2>=U)break;C[P++]=224|$>>12,C[P++]=128|$>>6&63,C[P++]=128|$&63}else{if(P+3>=U)break;C[P++]=240|$>>18,C[P++]=128|$>>12&63,C[P++]=128|$>>6&63,C[P++]=128|$&63}}return C[P]=0,P-B},_n=(T,C,P)=>ig(T,R,C,P),Wd=T=>{for(var C=0,P=0;P<T.length;++P){var L=T.charCodeAt(P);L<=127?C++:L<=2047?C+=2:L>=55296&&L<=57343?(C+=4,++P):C+=3}return C},Yd=typeof TextDecoder<"u"?new TextDecoder:void 0,Io=function(T){let C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,P=arguments.length>2&&arguments[2]!==void 0?arguments[2]:NaN;for(var L=C+P,B=C;T[B]&&!(B>=L);)++B;if(B-C>16&&T.buffer&&Yd)return Yd.decode(T.subarray(C,B));for(var U="";C<B;){var z=T[C++];if(!(z&128)){U+=String.fromCharCode(z);continue}var $=T[C++]&63;if((z&224)==192){U+=String.fromCharCode((z&31)<<6|$);continue}var Z=T[C++]&63;if((z&240)==224?z=(z&15)<<12|$<<6|Z:z=(z&7)<<18|$<<12|Z<<6|T[C++]&63,z<65536)U+=String.fromCharCode(z);else{var le=z-65536;U+=String.fromCharCode(55296|le>>10,56320|le&1023)}}return U},Na=(T,C)=>T?Io(R,T,C):"",Kd=(T,C)=>{C=lt(C),cn(T,{name:C,fromWireType(P){for(var L=S[P>>2],B=P+4,U,$,z=B,$=0;$<=L;++$){var Z=B+$;if($==L||R[Z]==0){var le=Z-z,ue=Na(z,le);U===void 0?U=ue:(U+="\0",U+=ue),z=Z+1}}return N(P),U},toWireType(P,L){L instanceof ArrayBuffer&&(L=new Uint8Array(L));var B,U=typeof L=="string";U||ArrayBuffer.isView(L)&&L.BYTES_PER_ELEMENT==1||Ge("Cannot pass non-string to std::string"),U?B=Wd(L):B=L.length;var z=G(4+B+1),$=z+4;return S[z>>2]=B,U?_n(L,$,B+1):R.set(L,$),P!==null&&P.push(N,z),z},argPackAdvance:lr,readValueFromPointer:Cr,destructorFunction(P){N(P)}})},ni=typeof TextDecoder<"u"?new TextDecoder("utf-16le"):void 0,Ro=(T,C)=>{for(var P=T,L=P>>1,B=L+C/2;!(L>=B)&&j[L];)++L;if(P=L<<1,P-T>32&&ni)return ni.decode(R.subarray(T,P));for(var U="",z=0;!(z>=C/2);++z){var $=O[T+z*2>>1];if($==0)break;U+=String.fromCharCode($)}return U},Qd=(T,C,P)=>{if(P!=null||(P=2147483647),P<2)return 0;P-=2;for(var L=C,B=P<T.length*2?P/2:T.length,U=0;U<B;++U){var z=T.charCodeAt(U);O[C>>1]=z,C+=2}return O[C>>1]=0,C-L},Cc=T=>T.length*2,mt=(T,C)=>{for(var P=0,L="";!(P>=C/4);){var B=I[T+P*4>>2];if(B==0)break;if(++P,B>=65536){var U=B-65536;L+=String.fromCharCode(55296|U>>10,56320|U&1023)}else L+=String.fromCharCode(B)}return L},og=(T,C,P)=>{if(P!=null||(P=2147483647),P<4)return 0;for(var L=C,B=L+P-4,U=0;U<T.length;++U){var z=T.charCodeAt(U);if(z>=55296&&z<=57343){var $=T.charCodeAt(++U);z=65536+((z&1023)<<10)|$&1023}if(I[C>>2]=z,C+=4,C+4>B)break}return I[C>>2]=0,C-L},ag=T=>{for(var C=0,P=0;P<T.length;++P){var L=T.charCodeAt(P);L>=55296&&L<=57343&&++P,C+=4}return C},Hd=(T,C,P)=>{P=lt(P);var L,B,U,z;C===2?(L=Ro,B=Qd,z=Cc,U=$=>j[$>>1]):C===4&&(L=mt,B=og,z=ag,U=$=>S[$>>2]),cn(T,{name:P,fromWireType:$=>{for(var Z=S[$>>2],le,ue=$+4,Te=0;Te<=Z;++Te){var We=$+4+Te*C;if(Te==Z||U(We)==0){var He=We-ue,gt=L(ue,He);le===void 0?le=gt:(le+="\0",le+=gt),ue=We+C}}return N($),le},toWireType:($,Z)=>{typeof Z!="string"&&Ge(`Cannot pass non-string to C++ string type ${P}`);var le=z(Z),ue=G(4+le+C);return S[ue>>2]=le/C,B(Z,ue+4,le+C),$!==null&&$.push(N,ue),ue},argPackAdvance:lr,readValueFromPointer:Cr,destructorFunction($){N($)}})},Jd=(T,C,P,L,B,U)=>{Js[T]={name:lt(C),rawConstructor:Gn(P,L),rawDestructor:Gn(B,U),fields:[]}},Xd=(T,C,P,L,B,U,z,$,Z,le)=>{Js[T].fields.push({fieldName:lt(C),getterReturnType:P,getter:Gn(L,B),getterContext:U,setterArgumentType:z,setter:Gn($,Z),setterContext:le})},ka=(T,C)=>{C=lt(C),cn(T,{isVoid:!0,name:C,argPackAdvance:0,fromWireType:()=>{},toWireType:(P,L)=>{}})},Ma=[],Sr=(T,C,P,L)=>(T=Ma[T],C=br.toValue(C),T(null,C,P,L)),Zd={},lg=T=>{var C=Zd[T];return C===void 0?lt(T):C},ri=()=>{if(typeof globalThis=="object")return globalThis;function T(C){C.$$$embind_global$$$=C;var P=typeof $$$embind_global$$$=="object"&&C.$$$embind_global$$$==C;return P||delete C.$$$embind_global$$$,P}if(typeof $$$embind_global$$$=="object"||(typeof global=="object"&&T(global)?$$$embind_global$$$=global:typeof self=="object"&&T(self)&&($$$embind_global$$$=self),typeof $$$embind_global$$$=="object"))return $$$embind_global$$$;throw Error("unable to get global object.")},eh=T=>T===0?br.toHandle(ri()):(T=lg(T),br.toHandle(ri()[T])),_c=T=>{var C=Ma.length;return Ma.push(T),C},Po=(T,C)=>{var P=En[T];return P===void 0&&Ge(`${C} has unknown type ${Ec(T)}`),P},th=(T,C)=>{for(var P=new Array(T),L=0;L<T;++L)P[L]=Po(S[C+L*4>>2],`parameter ${L}`);return P},Da=(T,C,P)=>{var L=[],B=T.toWireType(L,P);return L.length&&(S[C>>2]=br.toHandle(L)),B},cg=Reflect.construct,nh=(T,C,P)=>{var L=th(T,C),B=L.shift();T--;var U=new Array(T),z=(Z,le,ue,Te)=>{for(var We=0,He=0;He<T;++He)U[He]=L[He].readValueFromPointer(Te+We),We+=L[He].argPackAdvance;var gt=P===1?cg(le,U):le.apply(Z,U);return Da(B,ue,gt)},$=`methodCaller<(${L.map(Z=>Z.name).join(", ")}) => ${B.name}>`;return _c(Ca($,z))},No=T=>{T>9&&(Cn[T+1]+=1)},rh=T=>{var C=br.toValue(T);ar(C),xc(T)},sh=(T,C)=>{T=Po(T,"_emval_take_value");var P=T.readValueFromPointer(C);return br.toHandle(P)},Tc=(T,C,P,L)=>{var B=new Date().getFullYear(),U=new Date(B,0,1),z=new Date(B,6,1),$=U.getTimezoneOffset(),Z=z.getTimezoneOffset(),le=Math.max($,Z);S[T>>2]=le*60,I[C>>2]=+($!=Z);var ue=He=>{var gt=He>=0?"-":"+",Ft=Math.abs(He),Nt=String(Math.floor(Ft/60)).padStart(2,"0"),zt=String(Ft%60).padStart(2,"0");return`UTC${gt}${Nt}${zt}`},Te=ue($),We=ue(Z);Z<$?(_n(Te,P,17),_n(We,L,17)):(_n(Te,L,17),_n(We,P,17))},Ac=()=>2147483648,ih=(T,C)=>Math.ceil(T/C)*C,Oa=T=>{var C=x.buffer,P=(T-C.byteLength+65535)/65536|0;try{return x.grow(P),V(),1}catch{}},oh=T=>{var C=R.length;T>>>=0;var P=Ac();if(T>P)return!1;for(var L=1;L<=4;L*=2){var B=C*(1+.2/L);B=Math.min(B,T+100663296);var U=Math.min(P,ih(Math.max(T,B),65536)),z=Oa(U);if(z)return!0}return!1},La={},_s=()=>c||"./this.program",si=()=>{if(!si.strings){var T=(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",C={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:T,_:_s()};for(var P in La)La[P]===void 0?delete C[P]:C[P]=La[P];var L=[];for(var P in C)L.push(`${P}=${C[P]}`);si.strings=L}return si.strings},ah=(T,C)=>{var P=0,L=0;for(var B of si()){var U=C+P;S[T+L>>2]=U,P+=_n(B,U,1/0)+1,L+=4}return 0},lh=(T,C)=>{var P=si();S[T>>2]=P.length;var L=0;for(var B of P)L+=Wd(B)+1;return S[C>>2]=L,0},ch=T=>52;function Va(T,C,P,L,B){return 70}var Tn=[null,[],[]],uh=(T,C)=>{var P=Tn[T];C===0||C===10?((T===1?E:y)(Io(P)),P.length=0):P.push(C)},dh=(T,C,P,L)=>{for(var B=0,U=0;U<P;U++){var z=S[C>>2],$=S[C+4>>2];C+=8;for(var Z=0;Z<$;Z++)uh(T,R[z+Z]);B+=$}return S[L>>2]=B,0},ii=T=>T;ln(),Jm(),Vd(),tg(),n.noExitRuntime&&n.noExitRuntime,n.print&&(E=n.print),n.printErr&&(y=n.printErr),n.wasmBinary&&(A=n.wasmBinary),n.arguments&&n.arguments,n.thisProgram&&(c=n.thisProgram);var u={s:Pt,w:ft,a:or,j:ps,m:xo,N:_t,p:pt,da:ms,d:xr,_:Co,sa:Qe,Z:qt,na:Jt,qa:xs,pa:Bd,F:Pa,la:ng,R:$r,S:Gd,y:zd,t:ti,ra:sg,ma:Kd,O:Hd,K:Jd,ta:Xd,oa:ka,V:Sr,ua:xc,wa:eh,$:nh,T:No,va:rh,ka:sh,aa:Tc,ea:oh,ba:ah,ca:lh,fa:ch,X:Va,Q:dh,I:YM,C:QM,U:NM,P:nD,q:GM,b:SM,D:WM,ia:JM,c:RM,ha:XM,h:PM,i:LM,r:FM,M:zM,v:BM,E:qM,J:$M,A:HM,H:rD,W:oD,k:MM,f:kM,e:IM,g:bc,L:tD,l:OM,ja:KM,o:jM,x:VM,u:UM,ga:eD,B:ZM,n:DM,G:sD,Y:iD,z:ii},m=await te();m.ya;var b=m.za,N=n._free=m.Aa,G=n._malloc=m.Ca,Y=m.Da,Q=m.Ea,et=m.Fa,Vt=m.Ga,$e=m.Ha,Gt=m.Ia,$t=m.Ja,oi=m.Ka;n.dynCall_viijii=m.La;var zn=n.dynCall_vij=m.Ma;n.dynCall_jiji=m.Na;var Fa=n.dynCall_jiiii=m.Oa;n.dynCall_iiiiij=m.Pa,n.dynCall_iiiiijj=m.Qa,n.dynCall_iiiiiijj=m.Ra;function bc(T,C,P,L){var B=ve();try{Fe(T)(C,P,L)}catch(U){if(de(B),U!==U+0)throw U;Q(1,0)}}function SM(T,C){var P=ve();try{return Fe(T)(C)}catch(L){if(de(P),L!==L+0)throw L;Q(1,0)}}function IM(T,C,P){var L=ve();try{Fe(T)(C,P)}catch(B){if(de(L),B!==B+0)throw B;Q(1,0)}}function RM(T,C,P){var L=ve();try{return Fe(T)(C,P)}catch(B){if(de(L),B!==B+0)throw B;Q(1,0)}}function PM(T,C,P,L){var B=ve();try{return Fe(T)(C,P,L)}catch(U){if(de(B),U!==U+0)throw U;Q(1,0)}}function NM(T,C,P,L,B){var U=ve();try{return Fe(T)(C,P,L,B)}catch(z){if(de(U),z!==z+0)throw z;Q(1,0)}}function kM(T,C){var P=ve();try{Fe(T)(C)}catch(L){if(de(P),L!==L+0)throw L;Q(1,0)}}function MM(T){var C=ve();try{Fe(T)()}catch(P){if(de(C),P!==P+0)throw P;Q(1,0)}}function DM(T,C,P,L,B,U,z,$,Z,le,ue){var Te=ve();try{Fe(T)(C,P,L,B,U,z,$,Z,le,ue)}catch(We){if(de(Te),We!==We+0)throw We;Q(1,0)}}function OM(T,C,P,L,B){var U=ve();try{Fe(T)(C,P,L,B)}catch(z){if(de(U),z!==z+0)throw z;Q(1,0)}}function LM(T,C,P,L,B){var U=ve();try{return Fe(T)(C,P,L,B)}catch(z){if(de(U),z!==z+0)throw z;Q(1,0)}}function VM(T,C,P,L,B,U,z){var $=ve();try{Fe(T)(C,P,L,B,U,z)}catch(Z){if(de($),Z!==Z+0)throw Z;Q(1,0)}}function FM(T,C,P,L,B,U){var z=ve();try{return Fe(T)(C,P,L,B,U)}catch($){if(de(z),$!==$+0)throw $;Q(1,0)}}function jM(T,C,P,L,B,U){var z=ve();try{Fe(T)(C,P,L,B,U)}catch($){if(de(z),$!==$+0)throw $;Q(1,0)}}function BM(T,C,P,L,B,U,z){var $=ve();try{return Fe(T)(C,P,L,B,U,z)}catch(Z){if(de($),Z!==Z+0)throw Z;Q(1,0)}}function UM(T,C,P,L,B,U,z,$){var Z=ve();try{Fe(T)(C,P,L,B,U,z,$)}catch(le){if(de(Z),le!==le+0)throw le;Q(1,0)}}function qM(T,C,P,L,B,U,z,$){var Z=ve();try{return Fe(T)(C,P,L,B,U,z,$)}catch(le){if(de(Z),le!==le+0)throw le;Q(1,0)}}function GM(T){var C=ve();try{return Fe(T)()}catch(P){if(de(C),P!==P+0)throw P;Q(1,0)}}function $M(T,C,P,L,B,U,z,$,Z){var le=ve();try{return Fe(T)(C,P,L,B,U,z,$,Z)}catch(ue){if(de(le),ue!==ue+0)throw ue;Q(1,0)}}function zM(T,C,P,L,B,U,z){var $=ve();try{return Fe(T)(C,P,L,B,U,z)}catch(Z){if(de($),Z!==Z+0)throw Z;Q(1,0)}}function WM(T,C,P,L){var B=ve();try{return Fe(T)(C,P,L)}catch(U){if(de(B),U!==U+0)throw U;Q(1,0)}}function YM(T,C,P,L){var B=ve();try{return Fe(T)(C,P,L)}catch(U){if(de(B),U!==U+0)throw U;Q(1,0)}}function KM(T,C,P,L,B,U,z,$){var Z=ve();try{Fe(T)(C,P,L,B,U,z,$)}catch(le){if(de(Z),le!==le+0)throw le;Q(1,0)}}function QM(T,C,P,L,B,U){var z=ve();try{return Fe(T)(C,P,L,B,U)}catch($){if(de(z),$!==$+0)throw $;Q(1,0)}}function HM(T,C,P,L,B,U,z,$,Z,le){var ue=ve();try{return Fe(T)(C,P,L,B,U,z,$,Z,le)}catch(Te){if(de(ue),Te!==Te+0)throw Te;Q(1,0)}}function JM(T,C,P){var L=ve();try{return Fe(T)(C,P)}catch(B){if(de(L),B!==B+0)throw B;Q(1,0)}}function XM(T,C,P,L,B){var U=ve();try{return Fe(T)(C,P,L,B)}catch(z){if(de(U),z!==z+0)throw z;Q(1,0)}}function ZM(T,C,P,L,B,U,z,$,Z,le){var ue=ve();try{Fe(T)(C,P,L,B,U,z,$,Z,le)}catch(Te){if(de(ue),Te!==Te+0)throw Te;Q(1,0)}}function eD(T,C,P,L,B,U,z,$,Z){var le=ve();try{Fe(T)(C,P,L,B,U,z,$,Z)}catch(ue){if(de(le),ue!==ue+0)throw ue;Q(1,0)}}function tD(T,C,P,L,B,U,z){var $=ve();try{Fe(T)(C,P,L,B,U,z)}catch(Z){if(de($),Z!==Z+0)throw Z;Q(1,0)}}function nD(T,C,P,L){var B=ve();try{return Fe(T)(C,P,L)}catch(U){if(de(B),U!==U+0)throw U;Q(1,0)}}function rD(T,C,P,L,B,U,z,$,Z,le,ue,Te){var We=ve();try{return Fe(T)(C,P,L,B,U,z,$,Z,le,ue,Te)}catch(He){if(de(We),He!==He+0)throw He;Q(1,0)}}function sD(T,C,P,L,B,U,z,$,Z,le,ue,Te,We,He,gt,Ft){var Nt=ve();try{Fe(T)(C,P,L,B,U,z,$,Z,le,ue,Te,We,He,gt,Ft)}catch(zt){if(de(Nt),zt!==zt+0)throw zt;Q(1,0)}}function iD(T,C,P,L){var B=ve();try{zn(T,C,P,L)}catch(U){if(de(B),U!==U+0)throw U;Q(1,0)}}function oD(T,C,P,L,B){var U=ve();try{return Fa(T,C,P,L,B)}catch(z){if(de(U),z!==z+0)throw z;Q(1,0)}}function ug(){if(se>0){ne=ug;return}if(F(),se>0){ne=ug;return}function T(){var C;n.calledRun=!0,!w&&(D(),r(n),(C=n.onRuntimeInitialized)===null||C===void 0||C.call(n),re())}n.setStatus?(n.setStatus("Running..."),setTimeout(()=>{setTimeout(()=>n.setStatus(""),1),T()},1)):T()}function aD(){if(n.preInit)for(typeof n.preInit=="function"&&(n.preInit=[n.preInit]);n.preInit.length>0;)n.preInit.shift()()}return aD(),ug(),e=i,e};function IY(t){return fM(pM,t)}async function RY(t,e){return SY(pM,t,e)}const mM=[["aztec","Aztec"],["code_128","Code128"],["code_39","Code39"],["code_93","Code93"],["codabar","Codabar"],["databar","DataBar"],["databar_expanded","DataBarExpanded"],["databar_limited","DataBarLimited"],["data_matrix","DataMatrix"],["dx_film_edge","DXFilmEdge"],["ean_13","EAN-13"],["ean_8","EAN-8"],["itf","ITF"],["maxi_code","MaxiCode"],["micro_qr_code","MicroQRCode"],["pdf417","PDF417"],["qr_code","QRCode"],["rm_qr_code","rMQRCode"],["upc_a","UPC-A"],["upc_e","UPC-E"],["linear_codes","Linear-Codes"],["matrix_codes","Matrix-Codes"],["any","Any"]],PY=[...mM,["unknown"]].map(t=>t[0]),T0=new Map(mM);function NY(t){for(const[e,n]of T0)if(t===n)return e;return"unknown"}function kY(t){if(gM(t))return{width:t.naturalWidth,height:t.naturalHeight};if(yM(t))return{width:t.width.baseVal.value,height:t.height.baseVal.value};if(vM(t))return{width:t.videoWidth,height:t.videoHeight};if(EM(t))return{width:t.width,height:t.height};if(CM(t))return{width:t.displayWidth,height:t.displayHeight};if(wM(t))return{width:t.width,height:t.height};if(xM(t))return{width:t.width,height:t.height};throw new TypeError("The provided value is not of type '(Blob or HTMLCanvasElement or HTMLImageElement or HTMLVideoElement or ImageBitmap or ImageData or OffscreenCanvas or SVGImageElement or VideoFrame)'.")}function gM(t){var e,n;try{return t instanceof((n=(e=t==null?void 0:t.ownerDocument)==null?void 0:e.defaultView)==null?void 0:n.HTMLImageElement)}catch{return!1}}function yM(t){var e,n;try{return t instanceof((n=(e=t==null?void 0:t.ownerDocument)==null?void 0:e.defaultView)==null?void 0:n.SVGImageElement)}catch{return!1}}function vM(t){var e,n;try{return t instanceof((n=(e=t==null?void 0:t.ownerDocument)==null?void 0:e.defaultView)==null?void 0:n.HTMLVideoElement)}catch{return!1}}function wM(t){var e,n;try{return t instanceof((n=(e=t==null?void 0:t.ownerDocument)==null?void 0:e.defaultView)==null?void 0:n.HTMLCanvasElement)}catch{return!1}}function EM(t){try{return t instanceof ImageBitmap||Object.prototype.toString.call(t)==="[object ImageBitmap]"}catch{return!1}}function xM(t){try{return t instanceof OffscreenCanvas||Object.prototype.toString.call(t)==="[object OffscreenCanvas]"}catch{return!1}}function CM(t){try{return t instanceof VideoFrame||Object.prototype.toString.call(t)==="[object VideoFrame]"}catch{return!1}}function MY(t){try{return t instanceof Blob||Object.prototype.toString.call(t)==="[object Blob]"}catch{return!1}}function DY(t){try{return t instanceof ImageData||Object.prototype.toString.call(t)==="[object ImageData]"}catch{return!1}}function OY(t,e){try{const n=new OffscreenCanvas(t,e);if(n.getContext("2d")instanceof OffscreenCanvasRenderingContext2D)return n;throw void 0}catch{const n=document.createElement("canvas");return n.width=t,n.height=e,n}}async function _M(t){if(gM(t)&&!await jY(t))throw new DOMException("Failed to load or decode HTMLImageElement.","InvalidStateError");if(yM(t)&&!await BY(t))throw new DOMException("Failed to load or decode SVGImageElement.","InvalidStateError");if(CM(t)&&UY(t))throw new DOMException("VideoFrame is closed.","InvalidStateError");if(vM(t)&&(t.readyState===0||t.readyState===1))throw new DOMException("Invalid element or state.","InvalidStateError");if(EM(t)&&GY(t))throw new DOMException("The image source is detached.","InvalidStateError");const{width:e,height:n}=kY(t);if(e===0||n===0)return null;const r=OY(e,n).getContext("2d");r.drawImage(t,0,0);try{return r.getImageData(0,0,e,n)}catch{throw new DOMException("Source would taint origin.","SecurityError")}}async function LY(t){let e;try{e=await createImageBitmap(t)}catch{try{if(globalThis.Image){e=new Image;let n="";try{n=URL.createObjectURL(t),e.src=n,await e.decode()}finally{URL.revokeObjectURL(n)}}else return t}catch{throw new DOMException("Failed to load or decode Blob.","InvalidStateError")}}return await _M(e)}function VY(t){const{width:e,height:n}=t;if(e===0||n===0)return null;const r=t.getContext("2d");try{return r.getImageData(0,0,e,n)}catch{throw new DOMException("Source would taint origin.","SecurityError")}}async function FY(t){if(MY(t))return await LY(t);if(DY(t)){if(qY(t))throw new DOMException("The image data has been detached.","InvalidStateError");return t}return wM(t)||xM(t)?VY(t):await _M(t)}async function jY(t){try{return await t.decode(),!0}catch{return!1}}async function BY(t){var e;try{return await((e=t.decode)==null?void 0:e.call(t)),!0}catch{return!1}}function UY(t){return t.format===null}function qY(t){return t.data.buffer.byteLength===0}function GY(t){return t.width===0&&t.height===0}function pT(t,e){return $Y(t)?new DOMException(`${e}: ${t.message}`,t.name):zY(t)?new t.constructor(`${e}: ${t.message}`):new Error(`${e}: ${t}`)}function $Y(t){return t instanceof DOMException||Object.prototype.toString.call(t)==="[object DOMException]"}function zY(t){return t instanceof Error||Object.prototype.toString.call(t)==="[object Error]"}var kf;class A0{constructor(e={}){cY(this,kf);var n;try{const r=(n=e==null?void 0:e.formats)==null?void 0:n.filter(s=>s!=="unknown");if((r==null?void 0:r.length)===0)throw new TypeError("Hint option provided, but is empty.");for(const s of r??[])if(!T0.has(s))throw new TypeError(`Failed to read the 'formats' property from 'BarcodeDetectorOptions': The provided value '${s}' is not a valid enum value of type BarcodeFormat.`);uY(this,kf,r??[]),IY({fireImmediately:!0}).catch(()=>{})}catch(r){throw pT(r,"Failed to construct 'BarcodeDetector'")}}static async getSupportedFormats(){return PY.filter(e=>e!=="unknown")}async detect(e){try{const n=await FY(e);if(n===null)return[];let r;const s={tryCode39ExtendedMode:!1,textMode:"Plain",formats:lY(this,kf).map(i=>T0.get(i))};try{r=await RY(n,s)}catch(i){throw console.error(i),new DOMException("Barcode detection service unavailable.","NotSupportedError")}return r.map(i=>{const{topLeft:{x:o,y:a},topRight:{x:l,y:c},bottomLeft:{x:d,y:p},bottomRight:{x:h,y:v}}=i.position,E=Math.min(o,l,d,h),y=Math.min(a,c,p,v),A=Math.max(o,l,d,h),x=Math.max(a,c,p,v);return{boundingBox:new DOMRectReadOnly(E,y,A-E,x-y),rawValue:i.text,format:NY(i.format),cornerPoints:[{x:o,y:a},{x:l,y:c},{x:h,y:v},{x:d,y:p}]}})}catch(n){throw pT(n,"Failed to execute 'detect' on 'BarcodeDetector'")}}}kf=new WeakMap;globalThis.BarcodeDetector!=null||(globalThis.BarcodeDetector=A0);function WY(t){const{onClick:e,disabled:n,className:r}=t,s={cursor:n?"default":"pointer",stroke:n?"grey":"yellow",strokeLineJoin:"round",strokeLineCap:"round",strokeWidth:1.5,...t.style};return K.createElement("svg",{onClick:n?void 0:e,className:r,style:s,width:"28px",height:"28px",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},K.createElement("path",{d:"M3 3L6.00007 6.00007M21 21L19.8455 19.8221M9.74194 4.06811C9.83646 4.04279 9.93334 4.02428 10.0319 4.01299C10.1453 4 10.2683 4 10.5141 4H13.5327C13.7786 4 13.9015 4 14.015 4.01299C14.6068 4.08078 15.1375 4.40882 15.4628 4.90782C15.5252 5.00345 15.5802 5.11345 15.6901 5.33333C15.7451 5.44329 15.7726 5.49827 15.8037 5.54609C15.9664 5.79559 16.2318 5.95961 16.5277 5.9935C16.5844 6 16.6459 6 16.7688 6H17.8234C18.9435 6 19.5036 6 19.9314 6.21799C20.3077 6.40973 20.6137 6.71569 20.8055 7.09202C21.0234 7.51984 21.0234 8.0799 21.0234 9.2V15.3496M19.8455 19.8221C19.4278 20 18.8702 20 17.8234 20H6.22344C5.10333 20 4.54328 20 4.11546 19.782C3.73913 19.5903 3.43317 19.2843 3.24142 18.908C3.02344 18.4802 3.02344 17.9201 3.02344 16.8V9.2C3.02344 8.0799 3.02344 7.51984 3.24142 7.09202C3.43317 6.71569 3.73913 6.40973 4.11546 6.21799C4.51385 6.015 5.0269 6.00103 6.00007 6.00007M19.8455 19.8221L14.5619 14.5619M14.5619 14.5619C14.0349 15.4243 13.0847 16 12 16C10.3431 16 9 14.6569 9 13C9 11.9153 9.57566 10.9651 10.4381 10.4381M14.5619 14.5619L10.4381 10.4381M10.4381 10.4381L6.00007 6.00007"}))}function YY(t){const{onClick:e,disabled:n,className:r}=t,s={cursor:n?"default":"pointer",stroke:n?"grey":"yellow",strokeLineJoin:"round",strokeLineCap:"round",strokeWidth:1.5,...t.style};return K.createElement("svg",{onClick:n?void 0:e,className:r,style:s,width:"28px",height:"28px",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},K.createElement("path",{d:"M12 16C13.6569 16 15 14.6569 15 13C15 11.3431 13.6569 10 12 10C10.3431 10 9 11.3431 9 13C9 14.6569 10.3431 16 12 16Z"}),K.createElement("path",{d:"M3 16.8V9.2C3 8.0799 3 7.51984 3.21799 7.09202C3.40973 6.71569 3.71569 6.40973 4.09202 6.21799C4.51984 6 5.0799 6 6.2 6H7.25464C7.37758 6 7.43905 6 7.49576 5.9935C7.79166 5.95961 8.05705 5.79559 8.21969 5.54609C8.25086 5.49827 8.27836 5.44328 8.33333 5.33333C8.44329 5.11342 8.49827 5.00346 8.56062 4.90782C8.8859 4.40882 9.41668 4.08078 10.0085 4.01299C10.1219 4 10.2448 4 10.4907 4H13.5093C13.7552 4 13.8781 4 13.9915 4.01299C14.5833 4.08078 15.1141 4.40882 15.4394 4.90782C15.5017 5.00345 15.5567 5.11345 15.6667 5.33333C15.7216 5.44329 15.7491 5.49827 15.7803 5.54609C15.943 5.79559 16.2083 5.95961 16.5042 5.9935C16.561 6 16.6224 6 16.7454 6H17.8C18.9201 6 19.4802 6 19.908 6.21799C20.2843 6.40973 20.5903 6.71569 20.782 7.09202C21 7.51984 21 8.0799 21 9.2V16.8C21 17.9201 21 18.4802 20.782 18.908C20.5903 19.2843 20.2843 19.5903 19.908 19.782C19.4802 20 18.9201 20 17.8 20H6.2C5.0799 20 4.51984 20 4.09202 19.782C3.71569 19.5903 3.40973 19.2843 3.21799 18.908C3 18.4802 3 17.9201 3 16.8Z"}))}function KY(t){const{scanning:e,startScanning:n,stopScanning:r}=t,[s,i]=g.useState(!1);function o(){i(!0),e?r():n(),setTimeout(()=>i(!1),1e3)}return K.createElement("div",{style:{bottom:85,right:8,position:"absolute",zIndex:2,cursor:s?"default":"pointer"}},e?K.createElement(WY,{disabled:s,onClick:o}):K.createElement(YY,{disabled:s,onClick:o}))}function QY(t){const{onClick:e,className:n,style:r}=t;return K.createElement("svg",{onClick:e,width:"30px",height:"30px",viewBox:"0 0 24 24",className:n,style:r,xmlns:"http://www.w3.org/2000/svg"},K.createElement("path",{strokeWidth:.2,stroke:"yellow",fill:"yellow",d:"M13.225 9l5.025-7h-7.972l-3.3 11h5.359l-2.452 8.648.75.364L20.374 9zm.438 3H8.322l2.7-9H16.3l-5.025 7h7.101l-6.7 8.953z"}))}function HY(t){const{onClick:e,className:n,style:r}=t;return K.createElement("svg",{onClick:e,width:"30px",height:"30px",viewBox:"0 0 24 24",className:n,style:r,xmlns:"http://www.w3.org/2000/svg"},K.createElement("path",{strokeWidth:.2,stroke:"yellow",fill:"yellow",d:"M14.516 15.158l.714.714-4.595 6.14-.75-.364L12.337 13H6.978L8.22 8.861l.803.803L8.322 12h3.036l1.793 1.792-1.475 5.16zm5.984 4.05L4.793 3.5l.707-.707 3.492 3.492L10.278 2h7.972l-5.025 7h7.149l-3.71 4.957 4.543 4.543zM12.707 10l3.243 3.243L18.376 10zM9.795 7.088l2.079 2.079L16.3 3h-5.278z"}))}function JY(t){const{status:e,scanning:n,torchToggle:r}=t;function s(i){r(i)}return n&&r?K.createElement("div",{style:{bottom:35,right:8,position:"absolute",zIndex:2,cursor:"pointer"}},e?K.createElement(HY,{onClick:()=>s(!1)}):K.createElement(QY,{onClick:()=>s(!0)})):null}function XY(t){const{onClick:e,className:n,disabled:r=!1}=t,s={cursor:r?"default":"pointer",stroke:r?"grey":"yellow",fill:r?"grey":"yellow",...t.style};return K.createElement("svg",{onClick:r?void 0:e,width:"30px",height:"30px",viewBox:"0 0 24 24",className:n,style:s,xmlns:"http://www.w3.org/2000/svg"},K.createElement("path",{strokeWidth:.3,d:"M16.279,17.039c-1.396,1.209 -3.216,1.941 -5.206,1.941c-4.393,0 -7.96,-3.567 -7.96,-7.96c-0,-4.393 3.567,-7.96 7.96,-7.96c4.393,0 7.96,3.567 7.96,7.96c-0,2.044 -0.772,3.909 -2.04,5.319l0.165,0.165c1.194,1.194 2.388,2.388 3.583,3.582c0.455,0.456 -0.252,1.163 -0.707,0.708l-3.755,-3.755Zm1.754,-6.019c-0,-3.841 -3.119,-6.96 -6.96,-6.96c-3.842,0 -6.96,3.119 -6.96,6.96c-0,3.841 3.118,6.96 6.96,6.96c3.841,0 6.96,-3.119 6.96,-6.96Zm-7.46,0.5l-1.5,0c-0.645,0 -0.643,-1 -0,-1l1.5,0l-0,-1.5c-0,-0.645 1,-0.643 1,0l-0,1.5l1.5,0c0.645,0 0.643,1 -0,1l-1.5,0l-0,1.5c-0,0.645 -1,0.643 -1,0l-0,-1.5Z"}))}function ZY(t){const{onClick:e,className:n,disabled:r=!1}=t,s={cursor:r?"default":"pointer",stroke:r?"grey":"yellow",fill:r?"grey":"yellow",...t.style};return K.createElement("svg",{onClick:r?void 0:e,width:"30px",height:"30px",viewBox:"0 0 24 24",className:n,style:s,xmlns:"http://www.w3.org/2000/svg"},K.createElement("path",{strokeWidth:.3,d:"M16.279,17.039c-1.396,1.209 -3.216,1.941 -5.206,1.941c-4.393,0 -7.96,-3.567 -7.96,-7.96c-0,-4.393 3.567,-7.96 7.96,-7.96c4.393,0 7.96,3.567 7.96,7.96c-0,2.044 -0.772,3.909 -2.04,5.319l0.165,0.165c1.194,1.194 2.388,2.388 3.583,3.582c0.455,0.456 -0.252,1.163 -0.707,0.708l-3.755,-3.755Zm1.754,-6.019c-0,-3.841 -3.119,-6.96 -6.96,-6.96c-3.842,0 -6.96,3.119 -6.96,6.96c-0,3.841 3.118,6.96 6.96,6.96c3.841,0 6.96,-3.119 6.96,-6.96Zm-4.96,-0.5c0.645,0 0.643,1 -0,1l-4,0c-0.645,0 -0.643,-1 -0,-1l4,0Z"}))}function eK(t){const{scanning:e,capabilities:n,onZoom:r,value:s}=t;if(!e||!r)return null;const i=(n.max-n.min)/3;return K.createElement(g.Fragment,null,K.createElement("div",{style:{bottom:130,right:8,position:"absolute",zIndex:2,cursor:"pointer"}},K.createElement(ZY,{disabled:s<=n.min,onClick:function(){r(Math.max(s-i,n.min))}})),K.createElement("div",{style:{bottom:180,right:8,position:"absolute",zIndex:2,cursor:"pointer"}},K.createElement(XY,{disabled:s>=n.max,onClick:function(){r(Math.min(s+i,n.max))}})))}const di={fullContainer:{width:"100%",height:"100%",position:"relative",display:"flex",alignItems:"center",justifyContent:"center",overflow:"hidden"},innerContainer:{width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",position:"relative"},overlay:{position:"absolute",top:0,right:0,bottom:0,left:0,pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},borderBox:{position:"relative",width:"70%",aspectRatio:"1 / 1",border:"2px dashed rgba(239, 68, 68, 0.4)",borderRadius:"0.5rem"},cornerTopLeft:{position:"absolute",width:"15%",height:"15%",border:"4px solid #ef4444",top:0,left:0,borderBottomColor:"transparent",borderRightColor:"transparent",borderTopLeftRadius:"0.5rem"},cornerTopRight:{position:"absolute",width:"15%",height:"15%",border:"4px solid #ef4444",top:0,right:0,borderBottomColor:"transparent",borderLeftColor:"transparent",borderTopRightRadius:"0.5rem"},cornerBottomLeft:{position:"absolute",width:"15%",height:"15%",border:"4px solid #ef4444",bottom:0,left:0,borderTopColor:"transparent",borderRightColor:"transparent",borderBottomLeftRadius:"0.5rem"},cornerBottomRight:{position:"absolute",width:"15%",height:"15%",border:"4px solid #ef4444",bottom:0,right:0,borderTopColor:"transparent",borderLeftColor:"transparent",borderBottomRightRadius:"0.5rem"}};function tK(t){const{scanning:e,capabilities:n,onOff:r,torch:s,zoom:i,startScanning:o,stopScanning:a}=t;return K.createElement("div",{style:di.fullContainer},K.createElement("div",{style:di.innerContainer},K.createElement("div",{style:di.overlay},K.createElement("div",{style:di.borderBox},K.createElement("div",{style:di.cornerTopLeft}),K.createElement("div",{style:di.cornerTopRight}),K.createElement("div",{style:di.cornerBottomLeft}),K.createElement("div",{style:di.cornerBottomRight}))),r&&K.createElement(KY,{scanning:e,startScanning:o,stopScanning:a}),s&&n.torch&&K.createElement(JY,{scanning:e,status:s.status,torchToggle:s.toggle}),i&&n.zoom&&K.createElement(eK,{scanning:e,capabilities:n.zoom,value:i.value,onZoom:i.onChange})))}const nK="data:audio/mp3;base64,//PkZAAhghE0AKToAJra/n0FQygAAAGIkYJgmCYXBMAAGCTJz3zhCEM//z//1hz//8MMMMN08ssV6e5DDWIQreAgCvFKy8bXgIKMkUDDBgzJwIBtkRMQAocxIFdxghQGKDoEziAzQxOBOdH92i/iGi+zDCAEIX46a73HrSybZw1x3JZjXp7dSNy/P68rjcbt7p7fakMP5LVMyzCaj1pjvejYYAIDgDGzECjEAk1Jl3559HIon8hzlfPVTCvGJZzfcKSxXfyMWM88//9VKSxXdtnb9vomOuuRyiWVYbf+X8zp6fKGHIdycuWMMMMMMKSnp+6wsYc/9f/7z7rPPWHN556p6fP8MMMP///PPP/7+GHK9PT6p7f/unldP2np7YeHjweiYA4GLNAgAiI7u57n5//oc5/yfk6znOcPhwOBwggHCMpA4HA4KEyHOc5znO+hPIc5//+fqJh8XQPh90JU5xQinOf//87/zvP+ggAYuhCKHxdA+Hxd0EA4KKHA4ciB3kOXfXB/gmf8p/B96lAMKAgAADU+BujARHgwdisgHMfAUHAiceBg4ASBgZBiBIBH4ZaHOJsLhf8R+HYEciIgYSwj/+Bi7EqBh+AcBn5P6Bh4TuBmrAMBiZH7gaLEWgew//PkZFMlyek60MpYAShzqqZhm6gCUWeEUWAewEWYGN4X4GDEPwGE8S4GDoOIGAYKgIQOkz//gGARAUB+CwGxTwMAACAEgyAwdAlAxKhzAxXiZ///AxcEwAwJjDAziCAAwQgdAwRgdAsJQDAmAcGzYDwAhZIAKAcIQB4GT9TQMJ9/4Gi1Fv/AcAYUqKBAwGgNAwVBAAwGhwAwdBlAxFg1AwlgzAwNBuAkJQDBgEEDEqGECgChFgBgL//CIswYYH//+HKCpk4K0C9AaKKCAOBeMcR4X9C44BwABCgGAsGYCgTwHAcAwXAiAwSAQV///CJP9lwMBQAwAAAWGo5lVLCcaeneVhJAVGai3//ioaUEf//gaTAYGCj8BnEwfrIqDcsIQb/vmhU/8fAs0G8YGGwKST8Igj4GCATipksVzY8p//90FWJwh45AkX//4fCF9wMEgkL3uQc+gbGJ8t4MBAMBP/hEXf9FRuWBcAfIFjYzQdoLCBwh7IWVlxaX/w8oMCP/+EQT5poGB1Ir90DhiV6af/jFYBpT2BgoQyyt2M0ToBdEaZyzt8nTo3xdNDCTSd//o6F06CjooxRr4jVF/0bOKD6OMUNDRxiMUVFR0FFQPhGXRjDpr4MAEA4wIQUhYOIw//PkZE4nrg08sOx4ACQ0CopD2aAAlwTTBxQeMcwd8w8gZTAgABXwGABOkzpI0wAQAExnWfP4x8ZjKunWdZ1o1Qe6lFGKCNULORQCELAAPnRUf/GIx/0FHGfo3SdZ0qP2cukXKLlRtBKFgAQwCkwJgFRYBEEATmDsLSY2QiQYCEnEra+UZo6F1aKMRr6GhoaP/+j//ov+i+hjLqBgMkYoqChoo1GqCjoY06TpRqjjLOYzRRmMuizmgdKhdF8kjTAAAPMCwGswzglgwAJfzqxmioKH/////////////+ijLOAwFmN0f/////////Q///8ZjP/9DGYyFwIDBeB3MA4AlBWidKM5spykAUAQOCakK+udGqN8VDYjTRuN//0bVX//6Kio4xQFv//nf//kKOoAEIB6SY6hcxenp85///4/DEPf/84Xvl4vF4dwtxfEJgCYQHMSgKCROp4+fn////L4tQf0unz89OecLxeL0ul09y6enzp4dIhKAQFA5hKfLu1nU7/Wr71rRKJUBQSUVt////l08GUPVWgAAYAeNKsxbQNAAhQx3/oKGMM6dZ1Yy6sajMbfKio7lNcv0sScZ47lNcw32ekVFMP9fp/f+mklI6at6u/dBMQuW6y+C5BcgwAA//PkZEomGg1HYGe0riWsCqbEwiY0BJFJMxrCcxGgQ2VK8xxCF1wsABgQBBgQBAYAFCkYCgALkK4fJ00E5ctJN1Uxy5au3XoGcM4dSN0EYZwzhW0WCh1PZwzhnFFQxtnbO2d0Kt6CdXbruggkTEX5Rs4TEQUVsdVXaCcuWXIBQUGmwmgoAGcJiM4dSioHQdBnEY+hjcbov//jcb/43G43G/jCRibfxugdBnDqULO2duvQumztncbo4xGKKNxugooxGIxQULoOgFgUMTA/jbrxiMDmETL+eLhcPThzOeeOZfL5fIcBYuXD/OHv8t//LJFxjxQYHHKDGFkZMtlmKM0RgQfbVtxFIHbQBDRuzRguEI1c9XZ/rWmrZfVU3Oc/9utNNygRQkCoHlAYstNN6DJ1IINpoINppv+WG/+g2mmnUmmmpBAoJIJhnwB5xkymn606Df/t000xhU03UXC5Ol8uFyXy+Xy/l8v5w4cLk4XAvwAYUvl/QL5fTdlKZkEEEEGumaKaX00zIOemf6CH///ywI3LKpiQ2Ef4xYWMSDyI0XwzikpL0ajVHZ3j9DGIjeuXcNfjn96/S/TUz/X/vX////5K/r+v7Jn+LlAoGZOIQIwMKBQM/yppKYURmhGZkR2b//PkZE0mHg1HEG8wyiD7mlwAyDU8nJHi5htakZmZGNiRcpkJhBmUmZYQcM1VDEEBggNDV/ASEZRYKFZIhkXKLlKmk7IVTKmZNJ5KhiqVUqpX+k7+qlVKyV/ZIqZDFDWTJlFyi5TJpKhiXKBQyZzIS5JhBoayV/AQWVpGWkcYTV5O/rIVSv8/0nkr+v6/vyR/X9f1/ZN8kf5/n99/n+f5/lTKmf9/mRP8yFUqpWSv4yJUqpX9kj/MmZNJ5K/z/P9J5P/v6yFUz/CEoywgUMqZkz/FssECIsVq0aPRrRRatFFFykQZJ2Ukl///5KjmksOaA7ALROJLDnEsLbq3GTMVrwb/0dGzmM0DlfBlHQOmrdR0MYi92TX6b/cmDHLclyUVYO/4O8sFTKFTKFf8yhUyhUyhXzKlDKlCsr/+ZUoVlSsr/+ZQqZUoZUoceMfcoZUoZUoVlfOPGcmDHKcpynKg9yXJcr3JclyXJclyYO+DXJclyfgxFZVb3KcqD/g2MxzsY72L9LubPR0dCyf5K5NNd+Tv9GXRdV0XJclyfcl/n+k8kf6SX/iVynvXf///4Mg/1OkxguYzmM5jMcLHMxwwGhgNCwXMLAcwMXTLi1MD7w7tmTdBvMmE0xQFzCwHMDAd//PkZGMpigkmAGOUvCfTgcgAuC+ITswMFzC4oMLhYMByn0xvU+p9Tr0xUxf/0xv///1PBYDhgNTFTFTGTGTGTGTGTGTGTGC4GTFMDAcLAdMVMVMULAcMBpgYDhcDGFwsYXFBikLGFwMGA4MBxgcDKfTEMUoAx2BisD+mKp5Tv1OkxkxkxkxkxkxkxkxlO0xVPJi/6nv////U7CwHTFTFTGTGTGTGU+p71PpjJipihYDpipi/6n1Ov//C4GC4GTGTGTGTFU8WBSZdLhWB//yKlotyLZFiLf8tyyRUipFSKkVGRBZQMiWC3yx//wxUGKsSvDFQGHUAL3QMsHDFIYpCYy2Bmagy6BjLgy6Bh3od58DCLAizBgRb+EQiyEQiwGBFuDAi3/////20QqSBJf/qcumv/////wMZdGXAYMu1gYy6MuBEZdBgy4BjLgy6BjLgy6BjLgy6BjLQy6DBlz2cJDLgRGXAMZdGXAYMuhMZcCIy6sJGaoGMuppwNRl3WBjLgy63wiEWAwIt/+EQi0IhFsDCLAi0GBFkGBFgMJCqaqYAgAYIhBBvwf7kwcqRq7V3IctacvlN6NxqgooxRRuNRiijEZjMGRuMvz9FGozQ+1X2qe1T1S//+VhaWAtKwtML//PkZEIkbgcaAHc1xCJrjeAAtfuUAtLAWf///mWePH95ZFgsyssvM88+jzO6K+z7OM48sH+WDiweZx5YOK+zxWLGJWsa6xadAv02fTZLSpsFpvLSga0tMgWgUgWmwgUmyWl8tMgWWmLSoFJsoFlpSwsmyBg4HhEdgwHAYPBwGDgeBg8HwMHg4DB4PBgOAwcOwMHLwDn5lAwcDgiDgYDwMHA/4MB3//+EQeDAdwiDwYLPhEWQYLODBYERZBgt8Ii34GLBaB5pfAZ0FvEAQ/UfwxULlx+IXx+8f5CELH8fxKhAIDFoHBEDRc3////gwHgaRXgMHYMB2EU/gwZ/gYbw3gY3QbgYNgbgYiAbgwN3/+EQbBEG4MBuDAbAwG4RBtAwbg2////+B9B6F//////////hEdD//////////8DRahEQGCInMNg3LBElgNjDciCwG/lgNiwGxWG///mG4bf/+WA3Kw3KyIMNw2Kw3MNg3MNg3MNiIMiQ2OK0xMiA3KyJLAEZgRARmBEDEYFwBBgEgEeomowol5YAJKwCDAIAJ8sAE+gGBgCJYAQUZ/13LubMu5dyiYOAhKwEFGf9AOoz/g4CFAIol/lgAjysAgsAElYBP////lgJksBM//lgRUxF//PkZGApggsIAHt2wiNLoggAqCz8RFSwIqYioipkjEjHCCSN/+WJg5iYOYmPK5krmTmZk5mZ8sTJYmf8yJiNiIisi/ywRmRkZkZGZGRmRERkREZERGRERkREZERGxEf///hETIMEyBiZEyBiZEzwiJgDEwU4DV2gQGFOBgmP8GAiAwRAiBgIgYCIGAi/4MBHAwRgjAwRgjwMEQIgMcgY8DBGCMDBGCMDEyJn///+BiYQIBlObj4eYLIwsjAOBGFkYBoEQ84eULIw88LIA88PKHnw8sPKFkeHlANAiAaFUDAiMYPIHmDzBZBhZB///8GBOA1sH/Awni7AwnhPCITwYE/CKzBgt8Ig8GA4Ig6EQdww4Yb+F1sIgtwYCwGAsAwWAsBgLAYCwDBYCwDBaHUDF+VEDKgC2BgtBaDAWgYLQW////gYLAWQMFgLAMFoLcGAt////4RMABmBSj4NgwMOGHBsHhdcLrwbB4XXC6+F14YcLrww4Ng8MOGHBsHww4Ng8AUC4AoMQMC4fgw3wutV4QIsAgFYIBWCCVgHeVgHeWABCwAIVgH+YBwB5aRAstKgV6Ba1oMg9avtUVN/qdLWciD/cqD3Jg6DFPuTB/////lYAn//mC8C+YLwL5gvgvGC//PkZFEpLgMKYXt2xB5LogAArbdc+C8VgvlYL/mC8C+YLwL5YBfMNgNkwXixDWoHPMc4VUxVA2TBeDZPYXzXl815fK14sLxYXvK1//NeXzXl815fMtdDLSw3UsMtLCstMtLDLSwsFhWWlgt//8sFhW6f/////+WF7zXl8sL5ry+Vrxry+WF/wMLwX4MC+EQv/AwvBfAxsjYAyqpKA0lpLAwvBfBgXv///4RA2DANAYGgNgYGgNgYGwN+EQvf/BgXwYF//8DC+F4Dd6NgGBf4AgFwbB0MMF1wuuDYMBsGwusDYOBsHA2Dvg2DQuuDYOhdcMMF14YYDGYDEGwfhhgbB0MN///4RBaEQWgZByoYRWYMFvwiDsGwaF1gbB34GDwdC64XW/w1aKxDVgatir4YcLrQbBwNg7////////////+ESfgZPyff/////////4MFmBvvMAERZ8CC5adNj02E2S0qbCBSBZaYtN///oFlpU2QMXIFAYuQK9AtAo7IxLTpsIFJs/5aZRxQawaxGfIg9CsrI+PUqkWdOHp7ODsOl6cOHZ4dsulfLI9/8BAAgMBACsBLACVgBjoAWAE5OTM6WDAR0zodMdHCsJLASWAjzCQgsBJhASWAjysI8wkJMICU//PkZFkeqgcaYDd1th6DogAAqCuIxQwtDA5MdMULgyY6YqnXqdep5TpMdMVRNRL/UT9AN6jCiSjKAZRNRhAMomgFQDfCIJwYCQiCAiCMGAkGAgDBJUA3eVAMEgj////8SrDFIYqh5g8kPMHkDzB5OFkYeYPJ+HlDzB5+AYVQDibCyIPLLEZIsjIliWS0WywWyyWuWCyWJaLZbLJYDHgLAItFvy3///4eYPKBlQTh5QYEODBb//hhoNg7/C62DYPFUKwKsVgNWBq8VkVcVkVUVYrH//hGff/8Iz8GT7//////wiX4ML3gwvgwvf4ML3gZeqoHVGyBl4vgZfL2F1oNg4Lrg2DcLrg2DQw0Lrhh8Lr4YcMNBsGhdcGBcMOGGAFGAGMQsF1guuGG4XXV/4uQXOLmF1kL/8lCXkuSk4O8/FzHzuP0hIucf/CIFAMCgFPgYFAKAwCgGBQCgGHYO4GBVM4GgQI4RCMEQKQOtQjUI1CNcI14MqDKwDIAGQDzh5wsjDyw8uHmDzYeUPN+DEYRRhFEIowYgDQgIhWDApgwKAwKQYFAYFQMKkYDOxHAzsRgMKBUGBX/h5v+Hm4ecPNh5A8wBwjhZHhZAHlDzBZAFkAeQPKHnCyILIAsih5QsgDz//PkZLQgIgsMAFp1xCGLogAAA2rkB5w8oeYLIQ8kPMHkCyGHnAMKoGmAgFkUPMHmDYAtfHPHNkr/JYl8c8lCWHPHMkqSo5onMAkBDnfJX//8IgDBgBhEdAaxSQMHUGAEIgAV4risCcipBOMVRVBO////hEvAxsAwvf////8MPDDww4XWC64XXDDww4YcMPC6wYb/wYGgiGwMplMDYhTCIaCIaBga/////8GA+EQdgYPB4MB4GDwdhEH8Ig8Ig8GA6EQcEQf8DBxlBjoAweDuFwgCQXiL//iLiKCKCL4XCiKRFwEgoRT4iqpMQU1FMy4xMDCqqqqqqqr////xuDd8fv/DVwrArEIg6EQdhEHAYPBwMB+ERYBi0WAwWAZ0FoGLYOB+JfgZ0FoGdBaDBYbn+WHm9xW7/Nzzc83PLDzc8reWlA7S0oHamx//6BflpU2C0qbBaf/8yk/ysn+VkMhTKQrKVk8yE8rIVkKyYsAn/5WC+YICmCApWCGTkxtKMcVWlgFMEBTBAX////0C0C0C/////////LTFpvTZLTlpv/0Ci0xaYtOgWmymyWkAxcWmTZTYTY8tMmygUWmLTIFpsFpv9NnywLmLCx2RgWmQKTZ98UjnzZ1/++D4M6/////3//PkZOgjIg8IAFcbxCaTogAAoCuIzfJ8vfJ8Wcs5fBnD5//++L5f////////6nCKv//+o0o0FUYwqDNGCwgUMKC0VVGkVv//4Yf8LrxVCriqDVoasDVuKsNWw1bisBqwVkVkVX//gy/4YYMMGGhhgwwNg4LrhdcLrAYWGAA0zBsH4Ng3C6/////4MAoGBQIDAKBgUCAwCgYEAsDAoEAwKBAYBYMAoGBQIBgUCYGBQIBgUCwiBAYBYMAoRAgRAoGBBMBooCAYFAkIgTEUxFv/EWxFxFhFoi0LhQuFiLCL/EWqTEFNRTMuMTAwqqqq//////8TWJriV/hERAwRgYiEYGIhGBmIRgYiEYMEQMEcDMSiA1GYwMR+UDMTkA7KIgMRGIGGM0SIrRGjRlhEV4jxov8rR/5YRFhEdQSViCsR5iRJWIKxPlgQYgSViSsR5WJMQJLC78IiKERF4REeERGEREERHwMRGOBmIRhERhERAwRAYiEQGIhGBmIRAajkgG5TEEREDBHwYIwYI4REXCIV/4MCmDArgwKAYUO/gYVCkGBUGBTgYUCsGBUIhUDCoUCIVBgVBgVBgUhEKQMKhUDCoUBgVAwoFAYFcGBQDI6oA5+qQiFAMjBUGBXCyEPIFkOH//PkZPMj6gr6AFdVwifkBdwAoC2Ilh5/8PPh5Qsih5IeUA0TAZrE8PP////wMRiIIqID8piAxEIwMxCMDEQjCIj//BiIDRo8Iogii/4MKwYVhEoESkDEiIGJEgYlfBgmDBIMEAYgSBiBIREAwSERH/8I7wPfuCO4I7v/8GBvAw3Bv/////gwN34RBuBg2BuBg2BuBg2BuEQbhEG+EQbAwG4MBtwiDaDAbhEGwMBuDAbAwG4GDYG8DBsDcDBuNwDRWDcIg2AwbA34RBv///CINvCINgMRIN/////wiG4DDeG+TEFNRTMuMTAwqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqq/zB4OLAP8rBxWDisHlYOKxb5WLTFgsMWiw18LDOnjPxZoxadDOgsLAtLAbKymVhsrDZWG/LAb8w2GywGysNlgNFgNGFwuBQuWnTZLToFFpisLJsFp0Cy0voFAQLFZkMCAQwIBCsC/5WBCwBCwBCwBCsCeVgUwIBCwBDEwEMCAQrAhgUClgCFgTlgCGJgJ5gQTGJwKWAKYFApgQTGBQL5kY0HMjQYnAhWJvKwIWAIVgQrApYAhWBPBgECIEBgE/8IgXhECQiBAMCkcDEwEwMCAQGAQIhoIhsGBsIhvgwN//PkZN4irgr2AAOVqiUThegAnCtMgwNwiG/8IhuDA1hENhENgYbKYHb2IBhoNhENAwN////8IhsDKZS////8IhuBhspgc0KQRDWEQ3///CNf4GAIMDAwgAwAAwhAwAwYAIgwiHBgAMAYGAAGHv///CIBqBqESDEIgRYGoGHBiDEIgGoGgMAYgxgwgxCIETwYFYMCoMCuDApBgU8DCoU//gY3G//wYFOBhUKBEKQYFfBgV8IhSEQoBkYK8IhT/wMKhXBgUCIU4RCoRCvgYVCsDCp3A1SqAYFAiFP////gY3G1TEFNRTMuMTAwVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVgwCAwCBEC///////8IgUIgWEQIBgUCAwTQMCAQDAoEhECAYFIwGaRMBotWAasdwH/KqBmhFgaKI4GRgKVpjCBTCBPMJHNMFMIFKwnlgJ5hUxhUwGWlpAMuMuWLTFpvQKQLQKLTIFJsoFIFFZb/8woQwoT///MIF8rC+WAphAphAppgpYClgsmwBC6bHoFFpUCi0wGXFguWCwFLgUsgX6BZaVNj0Ci03//+EQKEQKEQLCIFAxMBcDAgFAwIBQYBODAKBgUCAYEAuDAKBgUCAYFAgRAngwCgwCwiBIRAmE//PkZN4iogj2AFdVxiUrhewAhOkwQIBgQ0gbOI4GRhOBiYCgYEAv////CIFAyMBQYBf///CIF8IgUDAgFBgEAwIRwMCCcDEwFAwIBf///CIEQGMDGEXCKBpCIDCEQDCAsYInDFQMMAuYSoTQMVfBlf//+DKfBgAiGDAQMIMIgCIQYADAEGAgwP////8ItgNu2/8DAAAiABgHhECBgQGEQARA8GAeEQIMABECEQIMAwYBBgCDAARA4GAAgYACDAARAwiAgwDhED4RABEBCIGBgDoH2dgZwCBgAP//BhX/+DCiTEFNRTMuMTAwqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqF1ww////////hdeGGDDBhwjeF102E2fTYAowMLjE0zTDfyyMYjEDJTwMLSwFi0/gQLoFIFpsegWmyBQsWlQL9ApNgtIWn8tMgX6BaBX+WmQL9Nn02f9NktIgUgWmwWl9Avy06bCBSbJaUtImyWkQKLTIFgYWoFFpAKFwMLzZgwAwvLTIFlpU2fQLQK///4Yf4YaF1sLrg2DAuuDYNDDQw4NgwLrhh4XXC64Ng3C60MNwbB4XWC64YcMODYPCJYDlMQBlwRLg2DOF1v/////PkZM0eKgz0AE+UuCnLFfAAk3Fsg2DAYX/ww//4YaGGDDhdbDDACFwMuXA2DADlygusDYOBsGhhv//wNU/CKQusF1oXX+F1wuuGGC6wXWDDBdbC6wXXhHv//4AHIFgC0BZAA4Ba4FkADwFsC3AtQAOcC0BYAtgAcAA9+BYAsgW4FvgWOABwC1oq+it4RT0VVG0VFGkVywo1/RWU4U59TlFb1GvRX////QK9Nj/9AtNn02fTY9NhNlAr/QK//TYTZLSJsIFemx///oF/5aZNj02U2C0yBaBfoFAS6bKBfoFVTEFNRTMuMTAwVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVQiA8GAO/4RAf//////wYA4GAO+EQHAwB4GDoB4GA4HQRB0BhlDIBpEAcBgPDIBgPAeDAHIFAYuLTpspsJsFpi0haRApAtAstIYKClgF/ysF/ysE/ysF//LAJ6plTlYC1ZUypmqtWVK1VqyplSFgBaqqcwAAVIqcrEBAAKmMBERCQhwD5iICIQEyABMAABBVGXF4gIA4DLAAWAEQgLVSsBaq1ZUv+YKClgELAJ////5YBP//LAL5WC+Vgn+WAX/LT+gW//PkZMIhLgrsAFt1yiD7FiB6A9qwmwViybCbCbCBSBabCBSBabPpsegWmwWn9ApApApNgCGBmEwWlLSpsf////hEHgYOB3////4GDkiBxMHhEdgYOB4GDwcBg4HW23gooFYHd/+BnAz8O8Vv//FaBm4rBWh38es2zbAtD1m2PVBqBrBqBrAF7AF3/5el84MkuHTgyy+dL0dRnEajMIyOn8RsZ5HGG/kbIpHIkYUiD0y2WctlZaWSwrKx6FZbxnL54ul04eLhw9Ol84dl86cOHT3Ipb5Z8qKpVx6/j0EkLctVTEFNRTMuMTAwgWQLQAHgLf/////4Fn+EQESEcIgInCIRW9TkrCzH0YIjjWtI+YeCD0woLCBQwsKRWUaRVCBZFZRtRtFRTlTlThRtAr0C0C//02E2fTZQK/0Ck2f9TlFRTlTlFT/9TlFVFRFb/9ThThynIQbWkAREue5S11rKdlkDEVABh61ExYPU+tOD4MQgcn4iwigivxFRFoXDcRQLhoiwioXCeAkFBcNiL8RURQBIKEVEWiLBcKIqIpEXC4QReIoIpCIKAQMxFAFAsIuIr/4YYLr//ww4XWBgwC64XX/hhgw3hhwuv8MNhhguvhdcAUYgaYTAAoWDDg2DQbBg//PkZPYe6gzuADd1uDKsBhBAe89cYYdGjtDT2hDmlD2leaOv9oX0OX/0NNLplNf8ewakNWGrTfTRpphNJtfaeh7T1/tStdtTpqN532lpX/1/kmQ5eaf2hoaV9paGleJAvd0rer2pWu1ar2vk56vVrV5Hj1Nop+/lfv5Zpkem5kX/2vtata2rq783nbvtbW6VjW6a2rq13+rO6VysV58K7tbp0ru6Vrtqa1a67tr6sau1ulYrnfa2v927Vrt21NSuN5X927/D4diAQANh4gEIfxB+IQG/D/4gDw/iGIRD+HRATEFNRTMuMTAwqqqqqqqqqqqqqqqqqiIEK/ititFX///8VcVuK38VsVhXBOQTpq/qm8QCAcBmIxgdfFZCHECpxFBFAuFEUC4cLhsRTEVEUDVoDQD+KrFYirFX+KwKoVgVUVUVeKwGrhWRWBViqFYDV4rMViKyGroauBg/A0YThVgNAEVQqw1fisis4quKxxWYrAatxWIqoqg1dFYxVxWIrAavAaAArIrAqoqhWYrIqvxWMVYrARCADhcKoVYavDVgqhV4qorIrHFWKuKxFViscVUVYasAaAfFY/4YcMNhdfwuuGGC64YfDDA2DwusANygbBwAxhAECwNg8MOF1hD4//PkZOkc4g7yBjd1sDNkDhgqYwtcYoUyiQ0NCkxQ0NCQkSIbGKIyRGEo5mUaNEhGKEHMmaGhI0UokORvMmZmZSZSiMZQkRnKKZkzRoSNCQpQ0NEZoaNFJkhh3KOUJEhIcoSJCQkIzlDlEjMDMyMpQ0JCQzNCRGaNCRISEZoZihoaIwlEHKNGiMzFEjRmSIwlHMyZmcyiGyMxRyhIkIxRSZokSEYGBkiRojAPESNGjQxvKHMmMoSKTJCQkIwlFKLDYWGhoZhYWAAUGBsAwsMDYUAcK4XDPhQVwwLAH/DfgHC6TEFNRaqqBgjwYI//wYI/8GCL///+DBFhERgwRcIiPAzGYgMRKIDcskBgjAxEIwYI4GiRwNEjhFH4MRwYjA0aOEUf8Io/BiLgxGEUYRRQij/BiKDEYMR+DBGBiMRQiIgYIwiIwYIgiIgMRGIDUSjhEReEREBiIRAwR/wYI/8IiP4MEcGCIIiOERH8GCIIiMIiIIiODBHBgjBgjwiIoREcIiOEREDBFCKiAxHJcIiMGCMGCLwYI8IiPhERgwRAwRAYjEUIiIGCP/AxGIgiIsGCL//4REYMEXhERBERhExhExAzyAZiEWDBGERGeKsVsVRVFcVwTnFcVxVgnYqipFUV//PkZPkcfgzeAFaVxDgUBgAgatvIYrgnYqgnQJyK4riqK4rwTsVor4rQAjABAgnQritFSKoqQTsE5C1haxfF7F4XQtULSFqC1i4LwWkXIWkXRdF+LwqAnME4iqCdwToVuK+HAERWAkAlgJB0OB3Doc8OYc8VCsVgIB3DuHAERUAkAkHMOBwOAIisO4dwEAEAEg6AkAl4CeHA4AkKhXioBIOiv8OB3F+LgWkXxeF8XouxcF0XBeF8XBdF8XhdAdouC8AEsXYWsXOKsVBU/FaKmK/FTxXFbFUVPiv/8VfxXitVTEFNRTMuMTAwVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVAXX/8MN/wwwYf//DDBh4Yf/+DYODDfCIFAwKBQiaANFgUDAgFAwIBcADwFuBY/At8C1wLfgAdAtwLGBawLcC3AsgWeBYwLX4XW8LrBhgiFgMlhYLrhh4XWhdb8MOGGhdcMP4YaF1gw8LrwuvhhoYYLrYXWDDBdcGwfC60MN/ww8GwZ4XXC64GZQsF1wbBnDD4XXg2DcLrBdaDYPhhgusF1uGGC64YfhhoNg0LrQwwYcMNC62F1/g2DYXW4XXC6+GH8DTIW4YeB/wR/wjwR+DP/y06bJaRAtAtAtAs//PkZNwY2grqBFW1xDhTRegABLBstL6BRaVAstN5aYtN/psIFf5aQtIgWgUWk8tImyWkQL9Avy0qbKbKbJaf02f/0CkCy05adAsC3K7+mx5aVAv0C/TZ8tOmymwB2pspsFpPLSlpy0qbCBSBXlpk2E2E2C0paUtP6Bfpslp0CkCy0ibJaZAosWQLLTJsemwgUmz6BZaYtOgUWmLTpsJsoFJslpPLT+mwmz//6Bfpsf6BSBSbCBXoFeWk9NhNhAr0Cy0/+WnTZ8tJ/oFf6bP+myWn//8tMmz/lpf//////8sPTEFNRTMuMTAwVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVBgJwiCYMBP//gwE//////wiCAMEgkIggIqIDKpUCIIgwE8IzA4j+EYhGAZMIyDJA5gGRhGcIyDIhEQiIGAgwIRDwiAGAAwYMHBghGAZMGRCMhGYRgGRA5gIyDIwZPBk/wZIRmEY/gyOBxIMgIzCMgcTgwRBgjwYJBgngwTwYJhEQBiBGERMIrwOouAxAgGCQYIhERhEQDBGDBAREgwTCIgGCQYJgwSDBHwiI4MEAwSBiRHCIkGCYGJEQiI/Bgn4REYREeBiBIH6XhERhETwogoy04mpZibFmJuWYmx8n//PkZN4ZrgrkAFZUyDcjofgAA9qc0HafZ8HwNrjaG3xtjaDtJwTo+D55Ow7fxNRNSyLPlqJsAr/lmA/FmWYm5acTQVgTkVQTnBOQTgVxVBOBVFWK4J3FUE7gBABOwToVQTsVhUFcVRXBOhUBORWiuKkVYrCqK+KoqgnQrAnEV+K8E7FQE5xWBOQToVQTsVRW8V4qRUFYVgTsVhXioKgrCqKwqAnYqCtBOhUioK+CcisK8VRUFSKnirFQVBVFcE6FcVoJwKoqCrFXFUE7gnAqiuCcQTsE7xU8VP8VYrgnYrCuTEFNRTMuMTAwqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqn3/l/J/8vHL5f/BhwCETgGpIDOATgEIOFoDcHzgEIDgC+pG7eve1S/6tat7rXupDXSStWoIpGS4TSMQNIySMwpIyAaRkkZ8GJGdBtbwYkZ63tCKRkoIpGWDEjLCKRmEkjOvsEUjJOsIpGa6bOrgxIzsEkjIGJGYUkZVKCKRmqoDkgEjMJJGSYMSMAikZJ3qhp0dq9ru3X1I36FujPbXuxwKbr//waABfg0AC6DUDUDXBqBoAmQawJiGrhqDUGoN//PkZL8USgKcAAblrroTgfQAbhtQAag1QawaYNIAuQa12Lv9si7F2NnXa2Vsi7i/DZl2tlL9l+vL8tlUTUTUTUYQDIBlGUAyifqJKJqJ+p5Mf/U7TETEU7CxkxVO1PKdqeU8u4vq2ddnrsbM2Zs/tl9s67V2NlbIu5sgaA1Q14ExAmAaA0BrDVDXhpgTPDQGuBMA0gTKGgCYgTHDQGrDUGgNcNQaw1hoAmcNIaRIAtALVEgC1gteI8FpBaBIAtcRwkAWgFpBaILVBaIkAWgRwjhIiPEeDXwa/4NUGr+DRwaKBgX/8IhP//wiF8GBMGBP/wYEhEKEQmEQuDAoGFTAwLgwLhG/4MvCM8GSDJCNwZQOXg2DwbB8MPDDhhuGGBsHhh8Lrf4MCQYFCIUGJgiE8GBQMIFhELDDhdaGHhdYGwaGGDDhhuDYMBsHg2D8MMGHBsH8GwYDYMhEKEQgMCeDAsIhAiFBgQIhAYFhEKDAkGBMIhYGEC4GFCBELgYUKDAuEQsGBQMKEwiEBgUGBcIhQYFwYFAwgWDAoRC8GBAYE4RCgwKEQvhEJgYUIBhQkIhAiECIUGBIMC4RCgwJCIUGBAiFgaYLwiEA5cGXCNhGBGwZAw4Ng0MPBkqNqcoqorlh//PkZP8cygrkAFI0wjo7lfAAjhq4SnPor//psoFemygWmwWm/0C0Ci05adApNn/TZQLU5RU9FRFVFdTn1OFG1Gywv/UbUa9Ff0VoFgCwBbAtQLUCzAtgAchHAN8ImAbgBvwDd4RwjQDeAN8I0ImEQEQAbwRgiQjBHhHAN0A3vgG6Ab/CIhEgG5AN6EQESAbmEYI4RABvYRoRABuYRgDehEQiAiIRABvcA3QiQDfwjwDfCICPCJCJCJ4RwiYRwjBEwDehEYRgDfCNCOEQEQEcI+BagAd4FrAscCxAswLfwLAFgC1wLNVMQU1FMy4xMDBVVVVVVVVVBlBkwO3wZAZMIz//////+DJwO0IwI0DsA7cGUI34Rn4RgMuEZgywZQjAZP/hGAcmDKEYDIB28GQGQGXhGgcgRoMgRoHYBywZAZYMmBygyQYFCIUDChQYE4MCgaYJ/gwKEQsGBAiEBgXAwgQLrhdcGwcGHBsGA2Dgw4YYGwZC6/hdYMMF14YcLrYYcMPDDhdYGweF1oYb4MCwYEwYEgwJBgTCIQGBIRC/BgQDCBcIhAMKFhEKDAsGBQYFAwgTgwKDAoMCQiEgwIBhAnCIUGBQiFwiEBicIhAiFhEIgIoBooGieDPA+4GeDPCP//PkZOobXgrkAEY0jjazieQgBKKIBGgyBGhGhGgyAdoMmEaDIB2gyhGwZYMsI0GSDIEaDKB2QOWEaDKB2hGgygcoHYBygdkDtgygcngyAyhG4MgMgRgRmDJCNBkA7QjAZIRoRoMuByhGgyAyAyhGwZYHKByAcgMgRoHIEbCNCNA7fCNA7AZAO0GSEYEaDLA7cDthGgyAyAyQjAOwGUIyDKEYEaEYEYEaEbA5AZQZAZAZIMgRkGXBlBkCMgyAyQZYMngcmEb8GUGQIyDIBywZAZOEZhGBGwO2EbwjcI3hGYMqTEFNRTMuMTAwqqqqqqqqqqqqqqqqqqqqquDqz8GMDQIvBj///+DGDEGAMAifBj8IuEThFCIEQGPCLwiQYBFCKESDCETBhhGAZGEZ4MjgcSEY4GoRQigxCIEQGPCKBiBrgxwiBEwMIRAY4MQNMIkImDEGIRYMIRYRAYhFBjwYwNQYgwBgBh4GAMQiwYgxA0gahFBgBjgYBFhFhFCKEWBgEWEUGEIgMQYQMYRAMQigxhFBh4GkIgRIRYRAY4RIMQYgYhFA18IoMQYQihFhEgwhFCIDEGIRQieBiEUIoRQYhEwYDAFwGrBog0waAaQawacGsGiDQp9MZMVT3piJjJjK//PkZOYZBgjoaUJQ0DprofQgbhq0dep71PqeU69TpMdMVT6n1OlPKdJjpiKdFZkxlPKdJiJj+mKp/0xFPBoAmYaw0BpwJhDSBMQ1BqAmIEzDSGgNXDRDRhp+GsNMNAEyAmYagJkBMA1BpDXAmECZhoDXhqAmYawJjgTICZBrDSGsNAExDVDQGqGgNHDWBMIaQ0BrAmcCYgTHAmIEzDWGgNYaOBMw0BqDSBMYaA04aA1hqwJhw0ATKGqBM8NYEz4aQJkGoNMNIag1+GsCY+BMQJlDVw0cCYfDXw1ho4aQ0gTCTEFNRTMuMTAwqqoD37wjuhHf/////hGf////hHf/gycEZwRn4MnYMncIzsGTwOdOA507A507hGeEZ8GTuDJ4Rn4HPn4Mn4RnhGcDJwM3YM3gzdBm6DNwR3QjvA927Bm//Bm7Bm/Bm8GbgZvBm4GboR3gzeEd+DN8GbvBm6EZ+Bzp4Mn4HOnBGfA588IzsDnTgZPCM8Iz+EZ/CM4DnTgOdPBk8Iz4RJwGTidBi7AycTgiT4RJ8GE6ESdhEngZPJwGTieDCcESfwYToMJ3AycTwiTsDJ5OhEnwibwYb+ETdwibwibvCJuwYb/4RN/Btf/jYGyNv8bHLUtSzE0/LQBW//PkZPQcHgjQAFKVrjfDmgAge1eMLITcshNy1LX8si0LUTQtCyLQTUteWQmvLItSz4mgmnTJops0umEymDSPsnR9HwfB8k7Pvn0fAvwtcLXF/F+L4vQtQWuFoC0BaReF7AeBfwtcXBdF4XheFwXAtAui9C1haRdi6LwvirgnUE6FcVBVisKgrCvioK+KoqiqAhh3AQFXhwVYrFYCWHMOioVAI4dFWHPDgCAdDgdDmHcBIBEO+HRWAiKsBMO4dFQCAdATw6HBWHBWAgHBUHMOf/gICsOCoV4qw7+KxWHA6KhVTEFNRTMuMTAwVVVVVVVVVVVVVVVVVVVVC11Fz1+NP+/Xkqpr9OfuhQ6lZNWf+XsZc/si+KNoOj/Ntai9j7IISgZAklTqQhjToNTeQoreRdaSDODWvYAVFaWWkQmVuZPP8bRUzq896vc+XS6mm5gnnW7JLnV4z9N5XnW4k86x+uyHyxnWkmdborzraff2SvOtvljOtjd/5XRW8MivOsry/K3gUzrFPS1eFTOttTsul1+lLGdbV3c53h51mdbK7xPOr1SpnWlM63kedZnV4XPK86onnW7myrnWTmRTOqascoabXd/L+yuzS95dv1efjhl92ntYyTuIb6wuWRZFmWRa//PkZOcb/gqMACDf1LTLofggA9qc/gKRZiblqWYm3E24moSQnR9BJj6JwfBaFqWZZFoWvLUshNPxNuWn6bTZHgozRTSaNAY5oGjFQVgTkE6FUVorioK8VBXBO8VRUioAhxVioK4qAnIrYrCqKsVRVBORXBORVFcVcVwTgVBUBORUisK4rCoKwrxXFYE4FYVATjFcVhX4rcVBVFQV4rxVFSKwqCpFcV+K8VhXFYV4qivFUE4FaCdivBORUBOfBOgToE6FUVYqisKgqCtxWFbFQVxXisKgqRU4qioKuKwqCvxVBkH/4Mgf4Rg4RgfgxZBizhFYEVuDFvhFbBi3CKyEVsGLf/4MgAxaDFoGsWYMWgaxYBrFngxaDFnCKwIrAYswNas+DFgRWYGtWYMWBFZgxbgaxbgxZCKwGLIRWgxZCK2EVmDFmDFgMW4GtW8IrAYtBi3Bi0GLAYsCK0IrQit4MWeEVgRW+DFsI9cDW9AYtgxZhFaBrVgMWgxaDFvCKwIrIGtWhFaBrFuEVvBi3hFZA1i0IrYMWYMWAxaEVkGLAisCKzBizCK0DWrIRg+EYIRgQjABkHwODABkDhGDwODBgyAEYIRoRvww4YcKILYKILfhRg5htjY4OQbQ2hNAH8su//PkZP8cRgjWAFAUYjwDofQAi9pcJry1E1LUsuWvE2E0LQTcB+E2LMTctQFEEcWnFYVwTkAI4rRWFYE6BOhWwToBBAQgnIrisETANwIiAb/COEQEbgG+EcA38A3wjhGCMEeEaEeKoJwK4J2KoARBVBOIJ1FWKoJ0CcCuCdRWFcV4rioK4rAnYJ2K0V8VYr8E4xWFUVBVFQE6FXBORWFSKorxVFcVwToE5wTvBOoqwToVIJziuKwJxAQgnUVBUgnAqQCaCdxWirFaKwrRWFcE7FfFeK4rgnIrAnYrCoKoqgnAqCrip4qgnCr/////8Iu8BjvP4Ry5/8Izggc4Zw4RnD/hGcP8GThBk4eDJwgycIMnDwjOD4MnBA3eu9hF3kGO8gx3vBjvAN3jvMGO8CLvAY72DHeAbvXe+DHehF3kGO8gbvHeBF3oG713gG713vgx3oMd5BjvAi7wGO9A3eu8BjvMDd470Iu9wN3jvQY7wGO9wN3jvIRd4Bu9d6Bu9d6DHeAbvHewi7yEXecGO9BjvQN3rvIG7zykGO9A3eO9CLvYMd6EXegx3gG7x3kDd470Dd472DHewY7yDHeAKomwmhZFkAof8tCy4m5aCbcTUswFYsy0/LQTX9NBqBgJgYaY//PkZPcaTdCuAFgWlkI0DfQAe9r8Jxz6CShr8++JsArgjxNBNC0LQsyyLMsgRxallyyLIsi0LUTUtS0AVwFPia8si0LMTXiacsxNizLMTYTcsi1LMsy0E2LUsuJqJvxNyy/E1LMteWgm4mpZlkJuWRZFmWnLQTfgncVATkVcVQTsVIqQToVxWFeK4rwTmATCsCcAnQJyKoriqKwrxWiqKoqwToVRWBORWBOBVFSKgq4qAnAqAnArRVgnIJ3FYVQAgCriqK4qYqivBOsVoJwKgJ3FYVBWFfBOIqCoCcivipxUFSCd4qRV4rCvFaCc/BOhW8VxWFUVhX4r1eX/+DHgaYMOEX/CJgwwYQY8GODH/wYf4RAiQiAxCKBj4GAMYRQiwYcGEGMIoMfhECIBgEXAwCJhEA1BjhF+BhCIDEGARYGoRAYgxCLwYeESEUGMDEIoGAMAiAwBiBrCJ8GMGGEWEUGIRYMAYAxCKBiBgBqDDA1wiBEBiDAIsGIMANANMIoMAYhEBh4GMGMGARfAxBj8GAMANYRAYBFAwCIBhgYhEwNQMYGIRAMAiwNYRQi4RQYwYgahEBiBqBgESEUIqa6Z6bTBpGkmUwmkwaZpJlNCkifmkaaaBymgm0wmRPxSDTTa//PkZOYYTgboZUAQIkCEFgAAe898YTZpJtMJhNilphNdMJhMGgmemDSNJNmkaX6aNJN9MJhMc0E2mzSNJMpg0umU2mDS5oJlNJtNJnpg0DSTBoml0wmzTE8TRpGgm00mkzzRNNMJg0jQTSb/NFNdNGl02KTzRTfTPTSbTKZNLphNJpNmgmUymkwaaaTKZ/TSYTBoJr/ifptMpr9MJlNptMpg0kymumEwmf+mEwmOmkymTT5ppv80eaHTCYTHTSaNBNJtN80/0yaBoJo0k2aPTPNA0OaSaTJoplMJv9MgBAB4MBUGwbwVwUBkFAYDAU4NBoMBqhAELk//h/y1/vz6/6zMnEglwqnIsVSHBzAMMIqXiLgxS8ucoLCKl7VwipeupwYpeAxS8Z22hSl4U+qE1L2goKUva1GUJqXqwkpeAxS81IQpS8smBqXql6E1LyEVLxdEJqXoSUvAmpeJhFS8rpH3CKl6EVLxPWFKXgDUvVL1LCal4kuDFL2EVLxFlPClLyEVL2FKXhdwYpeswGpeqXkGKXqLAxS8wYpeqWk8KUvATUvQYpehJS9Bil6yoUpegipeZT2x1vN5NR2X3KrRuXjFmaS0AUCyE1BHflmWZacTYsvy05ZgAIs+WQCqJoWZ//PkZOwZ+gaYBgbm6EQMAfQAe9r8ZCbiaFkWv5ZibialoArlryyDtCSnyfR8hrE7PpNmiaIxDTGKafTJalqJoJoWQm4mnLUtSzE1LUsxNyy4mpZlqJpy14mgD8WpagKvLIEcJuWnLItBNhNhNxNgH8tSyLMTflmA/iaCaFqJqWf4mxZFmCdCvFWKwqivgnQJzFfwToAIwqgnOKgqCoK4J2KwqisKwJwKwqCqKgJwK4rYqirgnIJ2K8VhVwTmKorYrioK4JwKwrRWFQE5FUE6BOwTgV4qYqiuCdAnYqAnMVBVFUVATkVBVirioKoqCviuK8VwTjxWFfivFUVxXBOcVuKvFaKoqiuCdeEW3Bjb/gxvhFvCLYGN8GNwi3CLf8DbtuEW//CM7+DG+EW+DG8DbNgi3CLfA2zYItwY3gbZuDG8GT/Bk+DJ+DJ/hGdCM+EZwMnQZP8GT8GToRngc6dBk4IzwZOBk8GTvhGdBk+DG8Dbt8DbtgY2CLbBjYGNwi2A2zYDbN4RbhFtA2zcDbNwNu3CLaEW4RbeEW2DG8DbNwY3BjYDbNgY3A2zYItwi3CLbgbdvA27YGN/CLaDG4RbgxsDG4Rb8ItsI7oR3cGb00m0wmTT6aTZoJgUpMc0kwaa//PkZNcYqeLUAAAUHjw8DgQAe88cYTXTXNBpXiQdfLVpLJoaCSJs0TQNAbRpJpDWleaGlDmlfQ9fQ7tBZoa0IeOw3Ccq44TcHgrufDVzQNA0Om0wmDTNE0EymkymumU2mU0aSY6ZE8NFMmiaaYNDptMGn+aJpdNptNps0OmU0J50wNtMGmmEz/zQTJpppNplMJlM9M8FAYCoKAAApgqDIMACwAQbBsAMGQAQaCkGg0GgyCkGeCgNABwAAUgrwA+CoAQNAeHCAOAeAyIQHBwgDg4QYDAGgMEEOEAeA0Q4DxAHh0PEMGYMBsFQYDPgoDMGQV4NBqryAZfhGfwjMDl4Rv/wjcGT/4R/CPBH//hH4H3gzv4M7A+/gzoR4GdBnAf+DPBnwj4M7BnwivA1QIpCKcIpgaqDFgaqBogMWBqgGqgxQinA0XBi8IqEUCKBFcD7/CPwj0I+DPA/8GfBnQZ8I+EeCPwZ4R6EfhGcI0GSDIDJCNCMBkgdsIwGQDkBk4HIEZgy4RoHZwZQjcDtCMgcoRgRoRgHKDJBl4RgHIDKDIEYEaEZgyYMoRsIwGQGQIwGUGUI3A5AZMI2EaDLBlwjQZQjAjAZQoqIqqN+pypx/qNIqoqqNKNKcqchwGrCAPqN//PkZOsaCgjiBUZRnkhEBfAgw9tw+iu1RUqp2qNUNalOVG1GkV/U58sLU48sLLCiwFU4hAYA+qQQgasVhVIYQNWKwmAKpvasNoHIDm4OQHIDlGwNgbH4D+JuWQm4mhZFoJsWgm4I4TcbA2xtA5ODnGyNoHJ+NgHKDl/LMBXLUtS04mvLQteAqCaCbFoWQmha8bQ2Acg2ht8bI2RsjaGyNrjYGwNvjbByja/GxFYE4ipBOIrwTiK4J2KuK8BAK4rAnAJwKkE4FYE7FUVgEIqgIRVBO4qRXFQVBVBOMVwCcE5itBOoqAnQqCpBOIrxVBOoJ0KwJxgnQrCuKsVBXioCcCqCdAnYJyKsVYqipBOgjwiAj/8InhH4RMIkIioAC4RiJCMRP////CNk//Blkv4M6F8I9C/8GWT/8I2SwjZOEbJQZZIGWShGyYMsnwj0P///CPQ/hGyQRsn8I2SCNkgOyVkoMsnhGyQMslCNkoMsl4MsnhGyXCNk4MsmEbJ/wZZP8I2SA7JWTgyyQMiKDIieEYiAcRIihGIkIxFwZEUIxEA4iREgcRYihGIoHESIkDiJEUIxFwjEQIxEwZEWDIihGIoRiKEYiHcYJRIr9kzDmO5cIaApXE/NA0TTTKZGym/0//PkZMQWjdCsAwAWCsQ8Cfwoe89cyaXTKZACgKxsmybQFQCyPQPUbRtA9x6QAoegHKmRtClpk0RSkwaCYE/GyaaZ6ZFJTaaTCbTabTBomgmk2mxS0x0waSaTI2gcgOcT0T5MiedM9M9NCfCeGgNhMJlNJoT1MdNJhMjaNPptNGkmhtpnmgmv+KQmRSE0aaY6ZTKZTRoJg0U0aBopg0emU1/xPzTTaa5o80DRTZoJs0TRNEUhMikJs0P0x0wmkwmUymkwaKb5pppNJg0OaInhpGgmeaSbTBp9N/ptNJo0DTNAbOCkGAwGABgA4NgwAAAMAPBgAQKAyDAZgoCkFINAABWAEDAUBTAABgMBTgqACDcGAAQYDAUqLUlVt///+Bj4MIRcGH/hE//hEwY/wi8GPBj8GH8IgRcIv4RYMQi+DAIsIsIn8GHCLCJCJ/BhBgBpgwwifhFhEhF/gwCIDAGIMIMAMQYBFhFBgDH4GAMQiQNAYAwwYBECIAMIAMAAiHBgAMIAiAIg4MABgABhADAhEAGAARCBhCEQhEIMABh6EQAwIMABgCEQwMAQYD4MDCIcGACIQiHwYGDAhEOEQ4MAENB8hJD7PsnXJ0fZ98+D6LItQR3PgnZHmgPYYRopk0xj//PkZMkU/gLsKkITrkL0CfzIetvgJtNdNGkmkwCPLITf8s+WpaFmApAjgFUsyz49jSTCaGMmkyaRZlkJsWpaiagKBZlmWomh8c+CdcnROj4Pk+Akh9E6DsJ0fJ8c+OTs+idk4J2Tg+j7Pr8nB9nwfAa59k7598+D74Sk+eEkFQdDmKsOhwBEVYCeAiAmAiHcBEV4CYCIWmCHF6FqC0haRcF4XYvxfF2LwvC+FqC0xcC0C/FwLSFoF0XBfi7C0xei8LwvcLQLoWoXheC0BaIWoXBdiNiMY6cZ8RkZxnjqOojAz4zx0HUdBGozjoMw6iMjpxdi+L4uC5F/xd/haIui/bZ/+DGBp4RYMQYgw8Ivgw/CJ4RfBh/hECKBgEUGODH8InhFwY4GoMcIgRIMcInCIBrBhCIESESBp+DEGARfhEA1gxBjBj4RAYQYgxgYwiYRcIgMAiAwBjCJgYAawYYRQMQMAYhFgagYhEA0AxA1A1CJBhBgEXwMQNAihFhFAxwYAwgaYMPCJA1hEBiBrwYQiwYwiBFwYhFgxgawihFCLA0gYAwCKESBoBpCJ4MIRcGOEVB9ALR8BJj7/PonB9HyEoJwfZ9E4Dt5OeTnlqJtxNAH7nwfHPonJ8E759E6PoJI//PkZOAWKgjoZUAQYka0Ffgge9VcfZOCdE7J0To+Cc8JWTo+D7J0EqPoO0+T5PsJSfJ9n0TkJUfJOeTknPPo+z6J2Ts+ycE759/k7Pg+z5J2TonBOeTkJUTg+T5DtJ0Tvk5Pjk5DXPg+idH2HYfR9E6PgnR9k5JyfZ9cnR9cNYJSfROidE6Ps+Cdn0fB8E6DtPs+CdHwfH5OAlR8nyfB98+SdE4J0ff5OidH2TknfPkJMfYSg+Cd8+D6PsnP/JwTk++fYSQO0+D5J0fZ8HwTjn2AWDgdAL8ApALQCkO8GACwMgyAVBiAVhzwY4BeDIMgFMOh0ArDgc4BeAV4cgFsOhz/wP225HGw7wCsO4M8AqHP/+DEGQ7/8OgzgFoM4Bf4MhwO4BT4cDmHcGfDnw78GcVhUFTFXFeKoqYJ3isKuKkVgTsVoqCsKwrCoKsVQTqKorYWoXhfxeF/xdi58XOL4WmLnFYVQToE4FXiuK0VwTnFQVRVFcVhU4JzFfDgdhzBnDuHfALgyDAMQZBgGQCgBUAoDAMh3BkAsDMGcGAYgxBn+HAC0ArwCwMAS5adAry0yBSBfoFBVaKqKwVUVrRXUa9FUOEqVUjV3ySPLkvkzlNlNn02E2S06pvVKWACECpW//PkZN8VDgj+zymq5krb1ewAxJvkqe1XysDVFSqlVIo2o0ispyFVoqKNIrKcqNKcKcFhSjaKiKyKhYWiv6nCnCKijajSnPorKNKcKcqcIrqNoqKNqcKNoqKNKNqNKcIqKN//orf6BSbKbKBSBXlp0CvQKTYTZ/0C/LTxFxFoigioigCLC4cRYRWItEXC4cRcI0IoFwwXCiKwjQXC8LhRFcRcRQRSFwoikRcLhxFRFguHiKRF8E7FYVhVBOgCYVRUACKKgqgE0E6ACJFYVoJ0CcgnQrAnMVwTgE6ioKoRwDdhHhG4RARgDcCMEaEYIiAbwRIRuESEcIwRwiYRwjQjBEgWoFuBa4FngWkIQQigwhEwigx/CL/4RfCKEQGP/wYiEUwYHwYGDAwYAGA4RCEQBEGB0rCNcGU4RrBlcIsGGDCESBiEWDCBhCIEWBiDAGHCKEUGEGEGMIgMAiwigxCIDADQGIRfCIEQDXgYYRfBgBoESEXwY/CJCKEQIsGIRODEGIRQYgw8IgRYMMGAGGDEDGDAIoMcDQIkGMGGBrgwCKDAIsIkDUDWDGDDA1hE4RQMQYgwBhhFBhBh4MAMYRMIoRAiAxBjhF4mhZFpxNBNy0LQTUTXhKglR9FqWpaAP5Zi//PkZNYXkgTkGEJwlkXcDfQAe9r8bCa/k5JwTriacsizBHE6CSH1w7efHLPgjuJqWnLITYTX8tRNAH/ialqJuJuWZaFkCO4m5aE7J2TonB8E559nyEnJyfB8FmJrxNxNhNS1E3LT8sxNC0E0LTlqJuWQm3E15ZiaFqWRZiaCagP5aCblkKoqCsCdioKoqwToE6FcVwAhRWBOIrCpFbgnEVRVFUVIJ2K4rAnIqioKgrcV4riuK0E4FcVQTsVxUBOoJ3FUE7itFYE7FYVRXFUVwTkVoqAnYJxBO4rReF4XYWsLWLoui4LwuC9AdsLQL0LQA9C8Lgvi6LguBahfFwXAtIvQQ4vCqKwrxX/8E5xXit4JwKzBnwj+DF+F1guvBiQYkDRIR8I/gz8Gd4R/wYsGLBi8I8DPBneDPBnwZ/8I8DP8I8B/0Gd+DPA+8I/+Ef+DOgzvwj4R/hHoM+Ee4M4D74M+Ef/A/7gfcDPBn4R7BnfCPgz4M7Bngf8DPwjwR6B/3CPwj0Gfgz+EfBnhH8GfwioRQGIBqgRUDVAYoGiBFcIoBqoMWEUA1UDRYRUIqEUA1WBooGiAaqBogRUGJwigM8I/gz+DOCPwj/Bnwj3BnBHgZ4M4I+DOhHhNCz5aiaCb//PkZM0YugrgAAASBEUEBfQAe9rclmWompZ8shNyzLMsy1LMBUAfhNxNicBJCcE5J0JpyyLMTcBVLXloCO5aCagKACiAqflqWYmvE3E3BHlmArFnxNRNC1LUBS5aFoWhZFmWR8k5CTnxz4PonZ8E5Pg+j4LUshNQH4TYtSzLMshNBNhNSyAViyE0FQE4FYVoJ0CcRUgnYqisKoJxFWAhiuKgrCtFUE7FQE5iqKgqRVFWKorwTsVxVFYE7FTFTBOxVgnAqRXBOPisK4BOK0VoriuK0E5BOxUivFcE5FYE5FQVBXFQE6FQVBVFYVxWioCcCoLovi4LoWiL0LSL+LouBaIvBahdi6LoWgEMFoC1hacXxdC14uipiqKn8VPFbiqKsVb//Bm/+EXgx4RdhFb///hE1/8GLP//CKwIrQjoGa/wPewZqEdYM1wZqDNAetgzWEd8GagzYM2DN4M1wjoI7Bm+DNhHcD3rA9awZuEdwZvCOwjsGaA964M1A978I7hHQR0DNge98I6hHYR1wZrBmwPWgPWwZsI7wjqB63COvgzQR3BmwZsGaget8D3rCOgZoGa4R1gzYM0EdwZsI6CO+DN4R1wZsD3oGaBmwjqEdAzXCO/4R0DNAzYR0WgI8TQT//PkZL4XFgTcAE6Tekf8EfQAe9t8YTXiagKwCsJuWXLMTUtC1LMTT8TYTUJP+fAdomomoD8JuWoCgWoI7iaFkJqJqfZ8hrk4CSE5Pk+Cdk5PgnBOT7JwTg+uWZaiaCbcsgFAsy0LPlmJsWYmom5ZFmWpaibiaAjy15ZFkWQm5Zll+JsJqJvy1E0CThJz65OQlJ8H2TknZOT759k6J3z4PgTQTcsy0LITflmWfLUsiyLITYTcTT8syzLQsi0LMEcWZa8tSyE1LTibibFqWYI/8shNCyE1LQsy1LUTUBTLLloWXLUsiyLUtBN+JqJvy1E05Z8TcsxNeWn/LTnxydHwfZ9n1ydk4PsnHJyfR9E4JwTgnB8k4588nB9cnR8c+D7PjxV4q4r8VsVgTgE4/itFShX/xV4rirxVFWKoq4qfxX8E6xVxUBOYrCtwTvwTj/xV8E5/irBOsVuKwqRXFTFQVorCrFf/xWioKwrCtioCcxUFUVAToE4FUVxWFQVhUBO4rgnUVIJyKkVgToE4ipFUVoq4qisKsE64qCoCdxUFUVxXFUE78VxWFQV4qiuKgqiuK4CCK2KoqirBOATsE4FWK4qxVFUVhVFYE4gnIriuCcQTiK4rCoCdCtirBORUiqK2//PkZLAWsgzuADQNNkZj/fjIe9r8K/FXFUVwSE5aiaAKgmhaFpxNQkp8n3z5PsJOGsffLQsyyE1LItS1E1Af+CPLMTUTfibFmJoWQmxanzydHwTsnASknBaCalqWom5ZcsxNyc8nASsnHDt59BrhJgkpOicBKg7D7JyfZ8E5Pk+Cd8EeWXE0LQsiyLQtSyLIsi0LUTYsy0E3LITQshNiyLUsiy4I78shNy0LMVcE6ipgnArRVgncE4wTsVIrCqCcCtBOYrwTgE7iuKwqCoKwrcE7BOQTqKgqiqFpBEC1gPYD3F0X4WoLTF0Xxei6FqC0BaAtQWgXxdwtWFqC0haBW/FQVRUBOBUFcE6ioCcAnEVRX4rYrxWFUVBViuLsXgtAuC6FoBDBaYvi7F8XxexdF8XhcFyI//gx//CJBhgxhEwY/+EXwYgx8ImDH8GPhE8GPhEwigwhFwNQNQNfhE+DGDAGHCIBrhEhEBh4RQMAY/gYBFBhhEAxCIDCEUDEDHBiEUIoRQY+DCBp4McGEIgGgMcGIGMGIGIGgRQYgxCKBiBjBgDGESDADWBgEUDEIuDADWBpBiEUDEDDgYgwBgDEDQDUGIGgRAYQYAxCKBhCKEThEBgBiEUGIRQMQiQiwNAY//PkZKwWNgjoZUAQREakFfQAe9t8YMfwi4GBaFoJsWpaFlyyBHctCzE25ZiaFoAocsy1E24Sk+idk6LMTYTYTQsyyLUtCyLQTUswFYJMGuTg+CdHwErPotAFAsuJtxNCz4m4mvBHiafloWZZ8YppBqzTNI0jTNBMpg0jTTZZFqWfE3Af/xNf+WomhZ8suWZZCb8tC1LQtS14m/LQtBNhNOfR8hKCc8nHJ2EqCUE5CSHxydk6Pg+D7Ps+Sdk6LUTQTcTcTctSz4mwmha8TXlmJvyy5ZiaFl+WpZFoWZa8TQshNCz4mhalmJsWfLQsuWRactBNRNC1E1LLlly0E2PgJWfR8h2H2fJOSdnx+fXPs+T5PgNbnzz6Po+T7JwTk+z4PonROglJ84qCvxXxUirFX4q4qeCd1f8InCI/4R/CP//4RMI/CMEYI4RAR8I8IjCJ4REI/gG8ESEfCOERCP4R/+EaERCPCNCNCI4BvQjYRMHINobIOfjZBzDZG3xtja42gcw2PwcvG2Nng5+NgbY2wcn42htDYGwNrjYGwNsbX42vxscbI2gc3Bzg5Qcg2uNvjaGwNgbI2+Dl4OUbI2Qc42RsjbBy//g5eAboR4RwjQDeCP+EcI8IwBuwjwjBEBEA//PkZKoZMgrqADXt9EV8FfQAe9scG+EThEBGCMESESEbhEQjwjwjwjBHCIwiQDcCNCI/hHE0/LQBSLITf/lqWoSvk7LT8BWLMtRNAk58E7Po+CyLQTcsyyLUsi0Afi1LUTUTUtBNS05aFkWpZHzwkoSgnB9HwfQSsTYsizLQtRNRNgFf/8NcJWEmAWCdn0To+T4CUHyGtxNiyLT/lmJqJqJqWgmpZFqJsWgmwmwmwmv5ZiaibiactBNv/yyLTiaFkWZagKgCmJqWQmgmom3E0LTibAKfE0LLiuKgrYqipBO4JzFUE5BORXBOhVioKwqRWBOYJyKkE6BOIrYqCqCcxVxVFUV8E4FSCdcVgAgCuKkLTBDC6CHi+LwuRfha4uC+FpF8XQtAWgB2wtAWoXBchaBfwtQWnFSCdxVxXFUVhUFYV4rgnOK3wTiKir//1eDCsf//7/+wOYd///ei/f6lmiqGXpyOlCSRm+yP3UtDhFIzqBhwCFHAGFHABYGcAnAAMOAAYcAAw4BYKOAIROANgicAQYcABE4AAzgE4B+1wmcAwYcAK+sDOADgFLCJwAlWBnABwABnABwDWraETgEDOADgDBiRkgoJpGaP+64RSMoRSMGBiRkkwMSMlq7AxIy4//PkZJUYEgieBFw3fkL8FgAied8AROAAicA8DOATgAGHAAROAFwM4BOAGBhwADDgAGHANQUcAgicAYROAfgw4AIkbPNNNpo0TSNBNJgUs0l7lomEwmRSOaRp80zQFK4nvTInnTEGgwGwAwYmOmkyaInppJpMJg0k1+KUaaaTCb42U0mBsGiaSaNNNpo0OaKZNE0jTTSY5oGmaZpJrphM9MGkmDQTCZBzpg0OKR+mBtdMJobfTSbTfG2KSaBpGgaZomiaBomn02mOmkwmjSNPpjmmaKZNA0zSNFNCeClJkT40DTTCY5oJk0kyaJpdMppMdMdN80TR6ZTXTfNJNmimumem+aKZTKaTaaTRops0kwaZppk0+aSa6ZTKYTfTfTPTHTKa5omgmEyaJo9NmkaRp/pnmmaf6aNNMplMplMdMpv8TxMJlNplNJn9MdM1OM6hWa/EjiRiRiO/xIcSP+GgCZQ1+GvDRDV//4aP///4I8EwTwTBLwS/4AHgnBHBHgiwR4JgAgS4IwAYPA8ADg+AAAAFwfB4L4WADC2AGAGFwsFwuD2FgAcAPC+F/B8L4X/B7B4L4WwuD+AGDwXACAAC2D2AEFgfCwAAAAXB8LhcLeDwXCwPYPA+ACACD+AH4XwA//PkZJMVIgb2ejVLxkBMEgTIe898vwv4X/ACB/C4WwtgBg/gA4PA9gBeFhLRTXTRomkmP0yJ6J+mPy0NA0OvibNDQmfzTNNMjaFKNATxMiemiaRoGkmE2mkwmTRTHNBMGiaCZTSZTZomh0PaV9fX2hoX14kzSmOaCY5pJr80U0aPTfNFMps0jSNJMmiaSaTKb6aTKYNLphMpg0eaJoGkJ8aBoppMppMJg00xzTTabNFNJpNJpNpnpg0DT6bTRoppoJMWrSh/690NQ5paV5D2le/LND2hoQxDF/rzR1/r/aWhfaWleQxfXmheaevNDS0tLQ0ryGoch/X15D+vLy+0oc0ry/19DUOXuvIc0oav9oXkNX1/r3X18QCGHQGQHB8PiAPAaHgPDsBgcH+Hqv//+DJ0GNuEW4MbQY2wZO4Rn///4R34R3Qjv//8Gbv//8GbgZuwZvCO4GbsD37+Ed3A586DJ4Rn8DnToRn8GTsGT8GToRn4HOngyf4HOnBGeDJ0IzgjOCM8DnTwjOgydwOdP4RnYMncDbtwY2A27cItgNs3CLeDGwMbwY3CLaEWwRbQi3A27eDG0GN4G2bBFvA2zcItgY3A27YGN4G2bAxtA58/gc6eDJwHOnAyfCM7A588//PkZLMYngTSAFAUhEYcDfggw9V8DnzwOdOBk8IzuEZ4MnAyfgychsy7F3oE13Nl9sy7myrsL6qqOU5anCqkHqNDI3KVUTEU8GNU7U6gxyHKchyVV/Xa2Zspfds3rubK2VsjZmztk9djZi/TZV2NnXYu0vsm0yaBoDZNEbA2k0aKZNjmwbH/Nvm2bRtGyBVArD1G0bQPUevg9h6/+PRzZNkCrzZNgesegesermyPQPXzbHpNvm0PQPUPSbJs82TaHqAtj082h6DaNn8eo2DbHrHpNjj1m1zYHqNo2jYNnmwbPNgek2ja5sj0D1m0bJs80xtJlMdMCeps0U0meaaa6b5p/mmmU3zRTfNFN/pgHPzQNPmkaaaTXTKbTRoJk0zS6b/NBNdNJlNGj02aH6Z4IgAEEYJ4I+CMEQJcEUEXBOpHDX/w1Q0Q1Q1cNWGvw0Q0/hp/AmIaA0cCYhow0w1/w0hoDRhpw1w1BrgTLDXw1BrhrDQGgNQEzAmOGuGiGgNfgTHDQGoCZw1w0BrDWBMIEzDVDTDUGgNfAFwGjBrg1A1YNcGsAXAaQaABcBqg1g1QagaINYaoEyw1Bow1YaA1hoDSBMw1gTICYQJkGrDQGoNGGmGsNcNQawJkGuBM4aIa//PkZKAYngTsATQNQkKMFgDifh7AYagJkGsCZ+GkNWGiGsNAaYaOGgCYgTENQaw0Yaw1Q1Q0/hqw1BkAfmkaCb6ZTCY6bNBNLwmqGA5fzSTCb/lgwXOmMmMmTQ5pmkmUwmkymfzRTaZFJ6aNM002NrppMpg0kwKQmE2m0yKUaKaE95o9MJj9N9NJk0UymOaSaE/TabNNNmmmk2mU2aHTKZTCaNDjaTJoGimkyNvpk0TRTHTf6bTRopg001+mU0aXNBMjYNA0k2mjR5pfps0U100mUz0ym02mDRTHTaaTRpplMc0kz0ySA000mDSTKbNI002mzQTHTaYTf//NA0zQTBodNJk0UyKSaaZNJMprmkaP5oGmKUmEymUyaCbTHNBMJlN80DRNBMmkm/00mUwaZpprplNpvmiaJo80+aSa//TaY/6ZaH//wY4ReEX4RIMfwiAxBh/BhCJ/+ESDDwYcIn+EQIoMAiQYAw8IsGIGGETBj4MP4MQiAxhEAwAxAxBjBiEUIgMIMcDCDAGIMcGMDEGGBgEUDTwNfAx4MAiwiQYgwBgEUIgMIRAiQYhFwYAwBhA1CKDEIoGoGgMQi4MeDADGEQIkIgGMDCDAIoMAiQiAYwYYMQNQigwCJBiDEGAR//PkZJwV+gzoZUAQRkZsCfQAe9tcQYgx8GEGIMQiwMAY4MANAMcIoMSyE1E1/LMTUtCz5OD5PkJJz5Pk+uA/FqWRaib8TUTUTQtC05alqWYm4momgI8TYsxNCzE3LUtQFEsgFM+z6J0fB8nz+TsNcnB9BK+Tk+g7CdhJT6LTiaFqWYI7lqWoCvy05ZlnxNy0/LUshNBNvwR4moCj+Wv5ZlkJqWpalkCOE1E1LQsiyLITUBULLlqWZZlmJsWhZcsi1/4CiWpalkJqJuWvLXlkJsJpyy4mwm5ZlmJuWXLUTQteWgmgmwCsJoWfE3LMsiyLP8TTlkJuAolqJryzE1LTibCbloJuWhZFoWYmxZ8TcXIvxeC0i+FrF0B2i4L8LSL4uBaIDyCHF8XRfF6FqgiwtIuYWoXIrYqAncVvxVip8VIqCvUxPqtFbFf/4q/8V/8V/iririr8VATjxXipxWgnYq+KwqfFTFQVoq+KsVBW8VhUisKuK0VRXivFYE4FTBOhVFcVRV4riuCdCuCdCtwTiCcCqCcgnYqxWFcVIJwKsVxWisK8VxVgnArYqRWFeK0V4qgnQrgnYrfBOoqAnAq4J0CciqKviuK3BOoJyKsE4FUVoqisK2KwrAnArgBAFSK4//PkZJ0VagjyJgGtbkOkFfwAbh4AqRViuK4J0KgrCrFUVxVjOEeDQgjlcT4T40xtjaNI0uaI2QciGNJIl4kJZtCGIaSckIm6GL3TQ2zRTY2UwmjSNE0fxS02aY2BsJs0/+mzSE8TQpHTKZTaaG0aQpApZp/mmm+aHTfTCZGwNgUk0E0aRp/ilJlNJgT5MmkJ9zQNA0TQTH6ZG2mk0mk0mk3zQTKY/G3zQTHTabTBpGgmU0aKaTJpJpNJtMphNjYTfNE0emkymE2mEyaCbNBNfmkaJpdNJnpg0k0mDTTCbTaZTBp80k2aCbTfNE00yaCb6bTZoplMmmaKZTKaTJpmiaHTXNJNdMDbTab6Y6Z6ZNNMJhMJhN9NJrmim02m0ymU300aPTSa6Y//5pJpNdN/9NppxWxU4Jx/xWxU/xU4qcV/ipiuKwqxWFbioK/8VIqivFTwTkVgTkVor4JxFXxX8VcVxUFQE4FaCcwTvBOIqwToVuKwqCtFUVYqxXxWFeK0E7FQVYrwTnwTsV4rCqCcfFaCcRVFQE5gnAr4JyK4r4Jz4J0Koqip4rCvisKoJ3xWBOME7iuKgriuKgrAnAqgnArxXiqCcgnYJzFQVQTmAEIVYrwToAIYrwTiKkVQTkE5//PkZK4XGgzsADQNAkIcCfwAe898FXFTFYVxXxUFQVkzzS5oilg5TTTY2kyaJpJtNGgJ8aKaTQ2k2aCaNI0eaSYNJM/tKHEiQxfJG09MmgaSYTRppg0TRNNMJlMptMCfppNprmiaA2jQNLmmaRppk0jRFLNP9NJhMGmaQpZpJhNCkGkmE0J+mxSk0m0x02mjRTKbTCZ42EwaQpJpptNprmgaRpmim00J4mzSNM0kymkyKWmE0muaKYGwNjmgafTPNE0U0mUwJ7+mem01+J8mhSk2mjRTSb6aTCbNBM9MpjpjppMpk0E2mE2mE2mjSTfTaZ6YNFMcT1MpnprptNmim0wmE100aSaTRo9MGjzTTHTaaTfTSaNLpoFMAAFYNBQGwAvwAYM4NgqqkjaAN3d3d3etERNK5CZ/3Ctf8AaiAc/u7vaIn/+8XPv//+GDKv8W1/+AC8K4Yw+94xe940jgceOBwOcRaxGwH4EuNIjBfxazB8HhkwVjIAII/vDkjG/wAcJPeF5e98hNgSYLWMFvhZ73pX06aoehpmh01hMJtM9K3TKY9E10x+memvlIpZM9MUTCbShbUrtM+n5ophNZuXK+0wmemumMCemkmvc0Uwm/lJJlLe5oJZI0SyW6R0mE//PkZLcXlgrzECFvrEmMEfgAfh7k2aORpbTYUo9SBNsekGYNVKgqg6hrUXK4Q42DOwPWbILEzBSumEgkWJPU8S72G5wUuGDwguEKa1Q0UykS3Bn7FJNgg5qoEgpsGabBtGabZt7NrKCNgLYes1idmabBtm2bZsBRm0PQbF9mwPSPUBbMwzB6QojYM42ePTzbMwzR6TaNs1eBVNv81yDUJ2QYhJtD0m0PVe+x6T2M8HsbFwsh6B6D7HpugT2uZhO6HqZhmE7ISZhhkFNcghtmybBnnsD1Ho49ZtG2bZs5PVBc2EEepCaEHNjj1EJHq5smabZtmwbNEEPR+bJse9z2PY2T1SN0rdNJq6yXI06COvNJj9MGmkkGmUj7pI0TToNGlEsNEnCW10ymi5FtNFKpvps0kz0uW3aaTF00mTSzdNJu0KFYz1KjaGAhyoQCFGM//zFARgIUZ/oZpdCttay6M5drW1joSj6Ekk1b7J7R7aoQNlPrWBKLTTzOsGT5yYxLrtHTy2iUxEkES0HIBVD066VjGj31odPkkSjJtbWs6OIjKmlXHR9K5MTv5pdZolE10kk2lly74TFx5KTXeTGLrS6ExiucvJSSDUdXZm3NLn1rtYBCUEoRj77WOhCPc+g5//PkZJ8XPgzoAABMTrz8BfQyY9ONGxJULutaa1TE5LHxWEo+XecmMa3p0kqBCR6qOFaFUGpNJIIjqVi0ylBqJIkiSJIkmJj605EkSRJPetWAyVacmodBUVhGfrAZPF0AUrgRLNiqDU4VHo8h6HRObJJNdqlRBMFT0qdNE0WZhmay2tCuOY6oieWieianCnVSbzjd7SGhrLi6eUSeLcZTWqdML5PM50uOGJms9VqtYU6hrgrm4V0frUzTvYsiegR2FOkqUxSKdVCpmRCSkIAUZ4VPhqEKgFDU2VhUiIhUaIg0RAkTBYEjYBUbBMuCJgLAkCUBUinABgBE3/9EQqFRM0s0qzktk9ZFqqFC6RULE11JVDkd8Y1vVFOx9oUIpZ8Vnq5klkxBTUUzLjEwMKqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqq";var Jc=t=>t instanceof Date,TM=t=>t==null;const AM=t=>typeof t=="object";var mT=t=>!TM(t)&&!Array.isArray(t)&&AM(t)&&!Jc(t),gT=t=>TM(t)||!AM(t);function bM(t,e){if(gT(t)||gT(e))return t===e;if(Jc(t)&&Jc(e))return t.getTime()===e.getTime();const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(const s of n){const i=t[s];if(!r.includes(s))return!1;if(s!=="ref"){const o=e[s];if(Jc(i)&&Jc(o)||mT(i)&&mT(o)||Array.isArray(i)&&Array.isArray(o)?!bM(i,o):i!==o)return!1}}return!0}const rK={facingMode:"environment",width:{min:640,ideal:720,max:1920},height:{min:640,ideal:720,max:1080}},sK={finder:!0,torch:!0,tracker:void 0,onOff:!1,zoom:!1},iK={width:"100%",height:"100%",position:"relative",display:"flex",alignItems:"center",justifyContent:"center",overflow:"hidden",aspectRatio:"1/1"},oK={width:"100%",height:"100%",objectFit:"cover",overflow:"hidden"};function Hh(t){if(t===null)throw new Error("Canvas should always be defined when component is mounted.");const e=t.getContext("2d");if(e===null)throw new Error("Canvas 2D context should be non-null");e.clearRect(0,0,t.width,t.height)}function aK(t){var e;const{onScan:n,constraints:r,formats:s=["qr_code"],paused:i=!1,components:o,children:a,styles:l,classNames:c,allowMultiple:d,scanDelay:p,onError:h,sound:v}=t,E=g.useRef(null),y=g.useRef(null),A=g.useRef(null),x=g.useMemo(()=>({...rK,...r}),[r]),w=g.useMemo(()=>({...sK,...o}),[o]),[_,R]=g.useState(!1),[O,j]=g.useState(!0),[I,S]=g.useState(x),k=function(){const se=g.useRef(Promise.resolve({type:"stop",data:{}})),ne=g.useRef(null),pe=g.useRef(null),[q,W]=g.useState({}),[ie,ee]=g.useState({}),ae=g.useCallback(async(te,ge)=>{var we,xe,Ae;if(!window.isSecureContext)throw new Error("camera access is only permitted in secure context. Use HTTPS or localhost rather than HTTP.");if(((we=navigator==null?void 0:navigator.mediaDevices)===null||we===void 0?void 0:we.getUserMedia)===void 0)throw new Error("this browser has no Stream API support");const _e=await navigator.mediaDevices.getUserMedia({audio:!1,video:ge});te.srcObject!==void 0?te.srcObject=_e:te.mozSrcObject!==void 0?te.mozSrcObject=_e:window.URL.createObjectURL?te.src=window.URL.createObjectURL(_e):window.webkitURL?te.src=window.webkitURL.createObjectURL(_e):te.src=_e.id,await Promise.race([te.play(),new Promise(ve=>setTimeout(ve,3e3)).then(()=>{throw new Error("Loading camera stream timed out after 3 seconds.")})]),await new Promise(ve=>setTimeout(ve,500));const[de]=_e.getVideoTracks();return ee(de.getSettings()),W((Ae=(xe=de==null?void 0:de.getCapabilities)===null||xe===void 0?void 0:xe.call(de))!==null&&Ae!==void 0?Ae:{}),ne.current=_e,pe.current=de,{type:"start",data:{videoEl:te,stream:_e,constraints:ge}}},[]),ce=g.useCallback(async(te,ge)=>{te.src="",te.srcObject=null,te.load();for(const we of ge.getTracks())ge.removeTrack(we),we.stop();return ne.current=null,pe.current=null,ee({}),{type:"stop",data:{}}},[]),Re=g.useCallback(async(te,{constraints:ge,restart:we=!1})=>{if(se.current=se.current.then(xe=>{if(xe.type==="start"){const{data:{videoEl:Ae,stream:_e,constraints:de}}=xe;return we||te!==Ae||ge!==de?ce(Ae,_e).then(()=>ae(te,ge)):xe}return ae(te,ge)}),(await se.current).type==="stop")throw new Error("Something went wrong with the camera task queue (start task).")},[ae,ce]),ke=g.useCallback(async()=>{if(se.current=se.current.then(te=>{if(te.type==="stop")return te;const{data:{videoEl:ge,stream:we}}=te;return ce(ge,we)}),(await se.current).type==="start")throw new Error("Something went wrong with the camera task queue (stop task).")},[ce]),Ee=g.useCallback(async te=>{const ge=pe.current;if(!ge)throw new Error("No active video track found.");{te.advanced&&te.advanced[0].zoom&&ge.getCapabilities().torch&&await ge.applyConstraints({advanced:[{torch:!1}]}),await ge.applyConstraints(te);const we=ge.getCapabilities(),xe=ge.getSettings();W(we),ee(xe)}},[]);return g.useEffect(()=>()=>{(async()=>await ke())()},[ke]),{capabilities:q,settings:ie,startCamera:Re,stopCamera:ke,updateConstraints:Ee}}(),{startScanning:M,stopScanning:V}=function(se){const{videoElementRef:ne,onScan:pe,onFound:q,retryDelay:W=100,scanDelay:ie=0,formats:ee=[],allowMultiple:ae=!1,sound:ce=!0}=se,Re=g.useRef(new A0({formats:ee})),ke=g.useRef(null),Ee=g.useRef(null);g.useEffect(()=>{Re.current=new A0({formats:ee})},[ee]),g.useEffect(()=>{typeof window<"u"&&ce&&(ke.current=new Audio(typeof ce=="string"?ce:nK))},[ce]);const te=g.useCallback(ge=>async we=>{if(ne.current!==null&&ne.current.readyState>1){const{lastScan:xe,contentBefore:Ae,lastScanHadContent:_e}=ge;if(we-xe<W)Ee.current=window.requestAnimationFrame(te(ge));else{const de=await Re.current.detect(ne.current),ve=de.some(Je=>!Ae.includes(Je.rawValue)),ht=de.length>0;let st=ge.lastOnScan;(ve||ae&&ht&&we-st>=ie)&&(ce&&ke.current&&ke.current.paused&&ke.current.play().catch(Je=>console.error("Error playing the sound",Je)),st=we,pe(de)),ht&&q(de),!ht&&_e&&q(de);const Pt={lastScan:we,lastOnScan:st,lastScanHadContent:ht,contentBefore:ve?de.map(Je=>Je.rawValue):Ae};Ee.current=window.requestAnimationFrame(te(Pt))}}},[ne.current,pe,q,W]);return{startScanning:g.useCallback(()=>{const ge=performance.now(),we={lastScan:ge,lastOnScan:ge,contentBefore:[],lastScanHadContent:!1};Ee.current=window.requestAnimationFrame(te(we))},[te]),stopScanning:g.useCallback(()=>{Ee.current!==null&&(window.cancelAnimationFrame(Ee.current),Ee.current=null)},[])}}({videoElementRef:E,onScan:n,onFound:se=>function(ne,pe,q,W){const ie=q;if(ie==null)throw new Error("onFound handler should only be called when component is mounted. Thus tracking canvas is always defined.");const ee=pe;if(ee==null)throw new Error("onFound handler should only be called when component is mounted. Thus video element is always defined.");if(ne.length===0||W===void 0)Hh(ie);else{const ae=ee.offsetWidth,ce=ee.offsetHeight,Re=ee.videoWidth,ke=ee.videoHeight,Ee=Math.max(ae/Re,ce/ke),te=Re*Ee,ge=ke*Ee,we=te/Re,xe=ge/ke,Ae=(ae-te)/2,_e=(ce-ge)/2,de=({x:Pt,y:Je})=>({x:Math.floor(Pt*we),y:Math.floor(Je*xe)}),ve=({x:Pt,y:Je})=>({x:Math.floor(Pt+Ae),y:Math.floor(Je+_e)}),ht=ne.map(Pt=>{const{boundingBox:Je,cornerPoints:ft}=Pt,{x:an,y:Er}=ve(de({x:Je.x,y:Je.y})),{x:fs,y:or}=de({x:Je.width,y:Je.height});return{...Pt,cornerPoints:ft.map(ps=>ve(de(ps))),boundingBox:DOMRectReadOnly.fromRect({x:an,y:Er,width:fs,height:or})}});ie.width=ee.offsetWidth,ie.height=ee.offsetHeight;const st=ie.getContext("2d");if(st===null)throw new Error("onFound handler should only be called when component is mounted. Thus tracking canvas 2D context is always defined.");W(ht,st)}}(se,E.current,A.current,w.tracker),formats:s,retryDelay:w.tracker===void 0?500:10,scanDelay:p,allowMultiple:d,sound:v});g.useEffect(()=>(R(!0),()=>{R(!1)}),[]),g.useEffect(()=>{_&&(V(),M())},[o==null?void 0:o.tracker]),g.useEffect(()=>{if(!bM(x,I)){const se=x;r!=null&&r.deviceId&&delete se.facingMode,S(se)}},[r]);const F=g.useMemo(()=>({constraints:I,shouldStream:_&&!i}),[I,_,i]),D=async()=>{const se=E.current;if(se==null)throw new Error("Video should be defined when component is mounted.");const ne=y.current;if(ne==null)throw new Error("Canvas should be defined when component is mounted.");const pe=ne.getContext("2d");if(pe==null)throw new Error("Canvas should be defined when component is mounted.");if(F.shouldStream){await k.stopCamera(),j(!1);try{await k.startCamera(se,F),se?j(!0):await k.stopCamera()}catch(q){h==null||h(q),console.error("error",q)}}else ne.width=se.videoWidth,ne.height=se.videoHeight,pe.drawImage(se,0,0,se.videoWidth,se.videoHeight),await k.stopCamera(),j(!1)};g.useEffect(()=>{(async()=>await D())()},[F]);const re=g.useMemo(()=>F.shouldStream&&O,[F.shouldStream,O]);return g.useEffect(()=>{if(re){if(y.current===void 0)throw new Error("shouldScan effect should only be triggered when component is mounted. Thus pause frame canvas is defined");if(Hh(y.current),A.current===void 0)throw new Error("shouldScan effect should only be triggered when component is mounted. Thus tracking canvas is defined");if(Hh(A.current),E.current==null)throw new Error("shouldScan effect should only be triggered when component is mounted. Thus video element is defined");M()}},[re]),K.createElement("div",{style:{...iK,...l==null?void 0:l.container},className:c==null?void 0:c.container},K.createElement("video",{ref:E,style:{...oK,...l==null?void 0:l.video,visibility:i?"hidden":"visible"},className:c==null?void 0:c.video,autoPlay:!0,muted:!0,playsInline:!0}),K.createElement("canvas",{ref:y,style:{display:i?"block":"none",position:"absolute",width:"100%",height:"100%"}}),K.createElement("canvas",{ref:A,style:{position:"absolute",width:"100%",height:"100%"}}),K.createElement("div",{style:{position:"absolute",width:"100%",height:"100%"}},w.finder&&K.createElement(tK,{scanning:O,capabilities:k.capabilities,onOff:w.onOff,zoom:w.zoom&&k.settings.zoom?{value:k.settings.zoom,onChange:async se=>{const ne={...I,advanced:[{zoom:se}]};await k.updateConstraints(ne)}}:void 0,torch:w.torch?{status:(e=k.settings.torch)!==null&&e!==void 0&&e,toggle:async se=>{const ne={...I,advanced:[{torch:se}]};await k.updateConstraints(ne)}}:void 0,startScanning:async()=>await D(),stopScanning:async()=>{await k.stopCamera(),Hh(A.current),j(!1)}}),a))}const lK=()=>{const[t,e]=g.useState(null),[n,r]=g.useState(null),[s,i]=g.useState(!1),o=Hs(),{addPurchase:a}=ds();g.useEffect(()=>{yt("page_view",{page:"Scan"})},[]);const l=async p=>{if(!s){i(!0),e(null),r(null);try{if(!Array.isArray(p)||!p[0]||typeof p[0].rawValue!="string")throw new Error("Invalid QR scan result format");const h=p[0].rawValue;yt("scan_qr_attempt",{rawValue:h});const v=h.split(":");if(v.length<3||v[0]!=="LOYALTY")throw yt("scan_qr_invalid",{rawValue:h}),new Error("Invalid QR code format - must be LOYALTY:email:uid");const E=v[1],y=v[2];if(!y)throw new Error("No user ID found in QR code");const A=Un(on,"users",y),x=await pR(mE(lE(on,"users"),YC("email","==",E),YC("id","==",y)));if(x.empty)throw yt("scan_qr_no_user",{email:E,uid:y}),new Error("No user found for this QR code");const _=x.docs[0].data();yt("scan_qr_success",{scanned_user:E,scanned_uid:y}),await a(E,y),r(E),e(!0);const R=await Cm(A);if(R.exists()){const O=R.data(),j=O.purchases||0,I=O.purchaseLimit||5;let S=`Loyalty point added! Total purchases: ${j}`;if(j>=I)S+=" - Reward ready! 🎉",yt("reward_ready",{scanned_user:E,scanned_uid:y});else{const k=I-j;S+=` - ${k} more to earn reward`}it({title:"Success",description:S})}setTimeout(()=>{o("/dashboard")},1500)}catch(h){console.error("Error processing QR scan:",h);let v="Failed to process loyalty point",E=!1;h instanceof Error&&(v=h.message,E=v.includes("next stamp in")||v.includes("hours")),e(!1),it({title:E?"Cooldown Active":"Error",description:v,variant:E?"default":"destructive"}),yt("scan_qr_error",{error:h.message,isCooldownError:E})}finally{i(!1)}}},c=p=>{console.error("Scanner error:",p),e(!1),it({title:"Scanner Error",description:"Camera error - please check permissions",variant:"destructive"}),yt("scan_qr_scanner_error",{error:String(p)})},d=()=>{e(null),r(null),i(!1)};return f.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-black via-gray-900 to-red-950 relative overflow-hidden",children:[f.jsxs("div",{className:"absolute inset-0 opacity-10",children:[f.jsx("div",{className:"absolute top-20 right-10 w-40 h-40 bg-red-500 rounded-full blur-3xl animate-pulse"}),f.jsx("div",{className:"absolute bottom-32 left-10 w-32 h-32 bg-red-600 rounded-full blur-3xl animate-pulse delay-1000"})]}),f.jsxs("div",{className:"relative z-10 min-h-screen flex flex-col",children:[f.jsx("div",{className:"bg-gray-900/80 backdrop-blur-sm border-b border-red-900/30 sticky top-0 z-10",children:f.jsx("div",{className:"p-6 flex items-center justify-between",children:f.jsxs("div",{className:"flex items-center",children:[f.jsx(Ys,{to:"/dashboard",className:"text-red-400 hover:text-red-300 transition-colors",children:f.jsx(dd,{className:"w-6 h-6"})}),f.jsx("h1",{className:"ml-4 text-2xl font-bold text-white",children:"Scan Loyalty QR"})]})})}),f.jsx("div",{className:"flex-1 flex flex-col items-center justify-center px-6",children:f.jsxs("div",{className:"w-full max-w-md bg-gray-900/80 backdrop-blur-sm border border-red-900/30 rounded-2xl p-8 shadow-2xl flex flex-col items-center",children:[f.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"Scan a User's QR Code"}),!t&&f.jsxs("div",{className:"relative w-full flex flex-col items-center",children:[f.jsx("div",{style:{width:300,height:300,margin:"20px auto"},children:f.jsx(aK,{onScan:l,onError:c})}),s&&f.jsx("div",{className:"absolute top-2 left-2 bg-blue-500 text-white text-xs px-2 py-1 rounded-full",children:"Processing..."})]}),t===!0&&f.jsxs("div",{className:"mt-6 p-6 bg-gradient-to-r from-green-900/50 to-emerald-900/50 border border-green-700 rounded-xl text-center shadow-2xl animate-pulse",children:[f.jsx("div",{className:"text-6xl mb-4",children:"🎉"}),f.jsx("div",{className:"text-2xl font-bold text-green-400 mb-2",children:"Scan Successful!"}),f.jsx("div",{className:"text-lg text-green-300 mb-3",children:"Loyalty point added successfully"}),n&&f.jsx("div",{className:"text-sm text-green-400 bg-green-900/30 px-3 py-1 rounded-full inline-block",children:n}),f.jsx("div",{className:"mt-4 text-xs text-green-500",children:"Redirecting to dashboard..."})]}),t===!1&&f.jsxs("div",{className:"mt-6 p-6 bg-gradient-to-r from-orange-900/50 to-yellow-900/50 border border-orange-700 rounded-xl text-center shadow-2xl",children:[f.jsx("div",{className:"text-6xl mb-4",children:"⏰"}),f.jsx("div",{className:"text-2xl font-bold text-orange-400 mb-2",children:"Cooldown Active"}),f.jsx("div",{className:"text-lg text-orange-300 mb-3",children:"You can only collect one stamp per 24 hours"}),f.jsx("div",{className:"text-sm text-orange-400 bg-orange-900/30 px-3 py-1 rounded-full inline-block",children:"Please wait before scanning again"})]}),!t&&f.jsx("div",{className:"mt-6 flex gap-3",children:f.jsx(qn,{onClick:d,disabled:!t,variant:"outline",className:"border-red-500 text-red-400 hover:bg-red-500/20",children:"Reset Scanner"})})]})})]})]})},cK=new eq,uK=()=>f.jsx(nq,{client:cK,children:f.jsx(N9,{children:f.jsxs(CG,{children:[f.jsx(RU,{}),f.jsx(s8,{}),f.jsx(TG,{}),f.jsx(Jq,{children:f.jsxs($q,{children:[f.jsx(Wr,{path:"/",element:f.jsx(SG,{})}),f.jsx(Wr,{path:"/register",element:f.jsx($_,{children:f.jsx(PG,{})})}),f.jsx(Wr,{path:"/login",element:f.jsx($_,{children:f.jsx(NG,{})})}),f.jsx(Wr,{path:"/dashboard",element:f.jsx(Vc,{children:f.jsx(wW,{})})}),f.jsx(Wr,{path:"/rewards",element:f.jsx(Vc,{children:f.jsx(EW,{})})}),f.jsx(Wr,{path:"/settings",element:f.jsx(Vc,{children:f.jsx(xW,{})})}),f.jsx(Wr,{path:"/scan",element:f.jsx(Vc,{children:f.jsx(lK,{})})}),f.jsx(Wr,{path:"/users",element:f.jsx(Vc,{requiredRole:"admin",children:f.jsx(ZW,{})})}),f.jsx(Wr,{path:"*",element:f.jsx(eY,{})})]})})]})})});Bb(document.getElementById("root")).render(f.jsx(uK,{}));
